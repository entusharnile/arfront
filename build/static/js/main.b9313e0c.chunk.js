(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{110:function(e,t,a){"use strict";t.__esModule=!0,t.views=t.navigate=void 0;t.navigate={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"};t.views={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"}},1252:function(e,t,a){"use strict";var s=a(35);t.__esModule=!0,t.default=void 0;var n=s(a(62)),i=s(a(109)),r=s(a(64)),o=s(a(3)),l=s(a(0)),c=s(a(1253)),d=s(a(43)),m=a(365),u=(s(a(81)),a(166)),p=a(110),h=a(268),g=s(a(1256)),_=s(a(563)),v=s(a(564)),f=s(a(1337)),b=s(a(273)),E=s(a(1338)),y=s(a(560)),N=s(a(1363)),S=s(a(1364)),D=a(380);function w(e){return Array.isArray(e)?e:Object.keys(e)}var C=function(e){function t(){for(var t,a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))||this).getViews=function(){var e=t.props.views;return Array.isArray(e)?(0,N.default)(e,function(e,t){return e[t]=v.default[t]},{}):"object"===typeof e?(0,S.default)(e,function(e,t){return!0===e?v.default[t]:e}):v.default},t.getView=function(){return t.getViews()[t.props.view]},t.getDrilldownView=function(e){var a=t.props,s=a.view,n=a.drilldownView,i=a.getDrilldownView;return i?i(e,s,Object.keys(t.getViews())):n},t.handleRangeChange=function(e,a,s){var n=t.props,i=n.onRangeChange,r=n.localizer;i&&a.range&&i(a.range(e,{localizer:r}),s)},t.handleNavigate=function(e,a){var s=t.props,r=s.view,o=s.date,l=s.getNow,c=s.onNavigate,d=(0,i.default)(s,["view","date","getNow","onNavigate"]),m=t.getView(),u=l();c(o=(0,_.default)(m,(0,n.default)({},d,{action:e,date:a||o||u,today:u})),r,e),t.handleRangeChange(o,m)},t.handleViewChange=function(e){e!==t.props.view&&function(e,t){return-1!==w(t.views).indexOf(e)}(e,t.props)&&t.props.onView(e);var a=t.getViews();t.handleRangeChange(t.props.date||t.props.getNow(),a[e],e)},t.handleSelectEvent=function(){for(var e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];(0,u.notify)(t.props.onSelectEvent,a)},t.handleDoubleClickEvent=function(){for(var e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];(0,u.notify)(t.props.onDoubleClickEvent,a)},t.handleSelectSlot=function(e){(0,u.notify)(t.props.onSelectSlot,e)},t.handleDrillDown=function(e,a){var s=t.props.onDrillDown;s?s(e,a,t.drilldownView):(a&&t.handleViewChange(a),t.handleNavigate(p.navigate.DATE,e))},t.state={context:t.getContext(t.props)},t}(0,r.default)(t,e);var a=t.prototype;return a.componentWillReceiveProps=function(e){this.setState({context:this.getContext(e)})},a.getContext=function(e){var t=e.startAccessor,a=e.endAccessor,s=e.allDayAccessor,n=e.tooltipAccessor,i=e.titleAccessor,r=e.resourceAccessor,o=e.resourceIdAccessor,l=e.resourceTitleAccessor,c=e.eventPropGetter,d=e.slotPropGetter,m=e.dayPropGetter,u=e.view,p=e.views,_=e.localizer,v=e.culture,f=e.messages,N=void 0===f?{}:f,S=e.components,C=void 0===S?{}:S,x=e.formats,L=void 0===x?{}:x,O=w(p),A=(0,g.default)(N);return{viewNames:O,localizer:(0,h.mergeWithDefaults)(_,v,L,A),getters:{eventProp:function(){return c&&c.apply(void 0,arguments)||{}},slotProp:function(){return d&&d.apply(void 0,arguments)||{}},dayProp:function(){return m&&m.apply(void 0,arguments)||{}}},components:(0,y.default)(C[u]||{},(0,E.default)(C,O),{eventWrapper:b.default,eventContainerWrapper:b.default,dayWrapper:b.default,dateCellWrapper:b.default,weekWrapper:b.default,timeSlotWrapper:b.default}),accessors:{start:(0,D.wrapAccessor)(t),end:(0,D.wrapAccessor)(a),allDay:(0,D.wrapAccessor)(s),tooltip:(0,D.wrapAccessor)(n),title:(0,D.wrapAccessor)(i),resource:(0,D.wrapAccessor)(r),resourceId:(0,D.wrapAccessor)(o),resourceTitle:(0,D.wrapAccessor)(l)}}},a.render=function(){var e=this.props,t=e.view,a=e.toolbar,s=e.events,r=e.style,o=e.className,c=e.elementProps,m=e.date,u=e.getNow,p=e.length,h=e.showMultiDayTimes,g=(e.components,e.formats,e.messages,e.culture,(0,i.default)(e,["view","toolbar","events","style","className","elementProps","date","getNow","length","showMultiDayTimes","components","formats","messages","culture"]));m=m||u();var _=this.getView(),v=this.state.context,b=v.accessors,E=v.components,y=v.getters,N=v.localizer,S=v.viewNames,D=E.toolbar||f.default,w=_.title(m,{localizer:N,length:p});return l.default.createElement("div",(0,n.default)({},c,{className:(0,d.default)(o,"rbc-calendar",g.rtl&&"rbc-is-rtl"),style:r}),a&&l.default.createElement(D,{date:m,view:t,views:S,label:w,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:N}),l.default.createElement(_,(0,n.default)({ref:"view"},g,{events:s,date:m,getNow:u,length:p,localizer:N,getters:y,components:E,accessors:b,showMultiDayTimes:h,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onSelectSlot:this.handleSelectSlot,onShowMore:this._showMore})))},t}(l.default.Component);C.propTypes={localizer:o.default.object.isRequired,elementProps:o.default.object,date:o.default.instanceOf(Date),view:o.default.string,defaultView:o.default.string,events:o.default.arrayOf(o.default.object),titleAccessor:m.accessor,tooltipAccessor:m.accessor,allDayAccessor:m.accessor,startAccessor:m.accessor,endAccessor:m.accessor,resourceAccessor:m.accessor,resources:o.default.arrayOf(o.default.object),resourceIdAccessor:m.accessor,resourceTitleAccessor:m.accessor,getNow:o.default.func,onNavigate:o.default.func,onView:o.default.func,onDrillDown:o.default.func,onRangeChange:o.default.func,onSelectSlot:o.default.func,onSelectEvent:o.default.func,onDoubleClickEvent:o.default.func,onSelecting:o.default.func,selected:o.default.object,views:m.views,drilldownView:o.default.string,getDrilldownView:o.default.func,length:o.default.number,toolbar:o.default.bool,popup:o.default.bool,popupOffset:o.default.oneOfType([o.default.number,o.default.shape({x:o.default.number,y:o.default.number})]),selectable:o.default.oneOf([!0,!1,"ignoreEvents"]),longPressThreshold:o.default.number,step:o.default.number,timeslots:o.default.number,rtl:o.default.bool,eventPropGetter:o.default.func,slotPropGetter:o.default.func,dayPropGetter:o.default.func,showMultiDayTimes:o.default.bool,min:o.default.instanceOf(Date),max:o.default.instanceOf(Date),scrollToTime:o.default.instanceOf(Date),culture:o.default.string,formats:o.default.shape({dateFormat:m.dateFormat,dayFormat:m.dateFormat,weekdayFormat:m.dateFormat,timeGutterFormat:m.dateFormat,monthHeaderFormat:m.dateFormat,dayRangeHeaderFormat:m.dateRangeFormat,dayHeaderFormat:m.dateFormat,agendaHeaderFormat:m.dateRangeFormat,selectRangeFormat:m.dateRangeFormat,agendaDateFormat:m.dateFormat,agendaTimeFormat:m.dateFormat,agendaTimeRangeFormat:m.dateRangeFormat,eventTimeRangeFormat:m.dateRangeFormat,eventTimeRangeStartFormat:m.dateFormat,eventTimeRangeEndFormat:m.dateFormat}),components:o.default.shape({event:m.elementType,eventWrapper:m.elementType,eventContainerWrapper:m.elementType,dayWrapper:m.elementType,dateCellWrapper:m.elementType,timeSlotWrapper:m.elementType,timeGutterHeader:m.elementType,toolbar:m.elementType,agenda:o.default.shape({date:m.elementType,time:m.elementType,event:m.elementType}),day:o.default.shape({header:m.elementType,event:m.elementType}),week:o.default.shape({header:m.elementType,event:m.elementType}),month:o.default.shape({header:m.elementType,dateHeader:m.elementType,event:m.elementType})}),messages:o.default.shape({allDay:o.default.node,previous:o.default.node,next:o.default.node,today:o.default.node,month:o.default.node,week:o.default.node,day:o.default.node,agenda:o.default.node,date:o.default.node,time:o.default.node,event:o.default.node,noEventsInRange:o.default.node,showMore:o.default.func})},C.defaultProps={elementProps:{},popup:!1,toolbar:!0,view:p.views.MONTH,views:[p.views.MONTH,p.views.WEEK,p.views.DAY,p.views.AGENDA],step:30,length:30,drilldownView:p.views.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",longPressThreshold:250,getNow:function(){return new Date}};var x=(0,c.default)(C,{view:"onView",date:"onNavigate",selected:"onSelectEvent"});t.default=x,e.exports=t.default},1256:function(e,t,a){"use strict";var s=a(35);t.__esModule=!0,t.default=function(e){return(0,n.default)({},i,e)};var n=s(a(62)),i={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(e){return"+"+e+" more"}};e.exports=t.default},1257:function(e,t,a){"use strict";var s=a(35);t.__esModule=!0,t.default=void 0;var n=s(a(62)),i=s(a(109)),r=s(a(64)),o=s(a(198)),l=s(a(3)),c=s(a(0)),d=a(34),m=s(a(43)),u=s(a(67)),p=s(a(1259)),h=a(110),g=a(166),_=s(a(568)),v=s(a(572)),f=s(a(1270)),b=s(a(1271)),E=s(a(574)),y=s(a(585)),N=s(a(1316)),S=a(168),D=function(e,t,a,s){return e.filter(function(e){return(0,S.inRange)(e,t,a,s)})},w={events:l.default.array.isRequired,date:l.default.instanceOf(Date),min:l.default.instanceOf(Date),max:l.default.instanceOf(Date),step:l.default.number,getNow:l.default.func.isRequired,scrollToTime:l.default.instanceOf(Date),rtl:l.default.bool,width:l.default.number,accessors:l.default.object.isRequired,components:l.default.object.isRequired,getters:l.default.object.isRequired,localizer:l.default.object.isRequired,selected:l.default.object,selectable:l.default.oneOf([!0,!1,"ignoreEvents"]),longPressThreshold:l.default.number,onNavigate:l.default.func,onSelectSlot:l.default.func,onSelectEvent:l.default.func,onDoubleClickEvent:l.default.func,onShowMore:l.default.func,onDrillDown:l.default.func,getDrilldownView:l.default.func.isRequired,popup:l.default.bool,popupOffset:l.default.oneOfType([l.default.number,l.default.shape({x:l.default.number,y:l.default.number})])},C=function(e){function t(){for(var t,a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))||this).getContainer=function(){return(0,d.findDOMNode)((0,o.default)((0,o.default)(t)))},t.renderWeek=function(e,a){var s=t.props,n=s.events,i=s.components,r=s.selectable,o=s.getNow,l=s.selected,d=s.date,m=s.localizer,u=s.longPressThreshold,p=s.accessors,h=s.getters,g=t.state,_=g.needLimitMeasure,v=g.rowLimit;return(n=D(n,e[0],e[e.length-1],p)).sort(function(e,t){return(0,S.sortEvents)(e,t,p)}),c.default.createElement(E.default,{key:a,ref:0===a?"slotRow":void 0,container:t.getContainer,className:"rbc-month-row",getNow:o,date:d,range:e,events:n,maxRows:v,selected:l,selectable:r,components:i,accessors:p,getters:h,localizer:m,renderHeader:t.readerDateHeading,renderForMeasure:_,onShowMore:t.handleShowMore,onSelect:t.handleSelectEvent,onDoubleClick:t.handleDoubleClickEvent,onSelectSlot:t.handleSelectSlot,longPressThreshold:u,rtl:t.props.rtl})},t.readerDateHeading=function(e){var a=e.date,s=e.className,r=(0,i.default)(e,["date","className"]),o=t.props,l=o.date,d=o.getDrilldownView,p=o.localizer,h=u.default.month(a)!==u.default.month(l),g=u.default.eq(a,l,"day"),_=d(a),v=p.format(a,"dateFormat"),f=t.props.components.dateHeader||N.default;return c.default.createElement("div",(0,n.default)({},r,{className:(0,m.default)(s,h&&"rbc-off-range",g&&"rbc-current")}),c.default.createElement(f,{label:v,date:a,drilldownView:_,isOffRange:h,onDrillDown:function(e){return t.handleHeadingClick(a,_,e)}}))},t.handleSelectSlot=function(e,a){t._pendingSelection=t._pendingSelection.concat(e),clearTimeout(t._selectTimer),t._selectTimer=setTimeout(function(){return t.selectDates(a)})},t.handleHeadingClick=function(e,a,s){s.preventDefault(),t.clearSelection(),(0,g.notify)(t.props.onDrillDown,[e,a])},t.handleSelectEvent=function(){t.clearSelection();for(var e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];(0,g.notify)(t.props.onSelectEvent,a)},t.handleDoubleClickEvent=function(){t.clearSelection();for(var e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];(0,g.notify)(t.props.onDoubleClickEvent,a)},t.handleShowMore=function(e,a,s,n){var i=t.props,r=i.popup,l=i.onDrillDown,c=i.onShowMore,m=i.getDrilldownView;if(t.clearSelection(),r){var u=(0,_.default)(s,(0,d.findDOMNode)((0,o.default)((0,o.default)(t))));t.setState({overlay:{date:a,events:e,position:u}})}else(0,g.notify)(l,[a,m(a)||h.views.DAY]);(0,g.notify)(c,[e,a,n])},t._bgRows=[],t._pendingSelection=[],t.state={rowLimit:5,needLimitMeasure:!0},t}(0,r.default)(t,e);var a=t.prototype;return a.componentWillReceiveProps=function(e){var t=e.date;this.setState({needLimitMeasure:!u.default.eq(t,this.props.date)})},a.componentDidMount=function(){var e,t=this;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){e||(0,v.default)(function(){e=!1,t.setState({needLimitMeasure:!0})})},!1)},a.componentDidUpdate=function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)},a.componentWillUnmount=function(){window.removeEventListener("resize",this._resizeListener,!1)},a.render=function(){var e=this.props,t=e.date,a=e.localizer,s=e.className,n=u.default.visibleDays(t,a),i=(0,p.default)(n,7);return this._weekCount=i.length,c.default.createElement("div",{className:(0,m.default)("rbc-month-view",s)},c.default.createElement("div",{className:"rbc-row rbc-month-header"},this.renderHeaders(i[0])),i.map(this.renderWeek),this.props.popup&&this.renderOverlay())},a.renderHeaders=function(e){var t=this.props,a=t.localizer,s=t.components,n=e[0],i=e[e.length-1],r=s.header||y.default;return u.default.range(n,i,"day").map(function(e,t){return c.default.createElement("div",{key:"header_"+t,className:"rbc-header"},c.default.createElement(r,{date:e,localizer:a,label:a.format(e,"weekdayFormat")}))})},a.renderOverlay=function(){var e=this,t=this.state&&this.state.overlay||{},a=this.props,s=a.accessors,n=a.localizer,i=a.components,r=a.getters,o=a.selected;return c.default.createElement(b.default,{rootClose:!0,placement:"bottom",container:this,show:!!t.position,onHide:function(){return e.setState({overlay:null})}},c.default.createElement(f.default,{accessors:s,getters:r,selected:o,components:i,localizer:n,position:t.position,events:t.events,slotStart:t.date,slotEnd:t.end,onSelect:this.handleSelectEvent,onDoubleClick:this.handleDoubleClickEvent}))},a.measureRowLimit=function(){this.setState({needLimitMeasure:!1,rowLimit:this.refs.slotRow.getRowLimit()})},a.selectDates=function(e){var t=this._pendingSelection.slice();this._pendingSelection=[],t.sort(function(e,t){return+e-+t}),(0,g.notify)(this.props.onSelectSlot,{slots:t,start:t[0],end:t[t.length-1],action:e.action})},a.clearSelection=function(){clearTimeout(this._selectTimer),this._pendingSelection=[]},t}(c.default.Component);C.displayName="MonthView",C.propTypes=w,C.range=function(e,t){var a=t.localizer;return{start:u.default.firstVisibleDay(e,a),end:u.default.lastVisibleDay(e,a)}},C.navigate=function(e,t){switch(t){case h.navigate.PREVIOUS:return u.default.add(e,-1,"month");case h.navigate.NEXT:return u.default.add(e,1,"month");default:return e}},C.title=function(e,t){return t.localizer.format(e,"monthHeaderFormat")};var x=C;t.default=x,e.exports=t.default},126:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAPCAYAAAACsSQRAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAAOdJREFUeNqk078rRXEcxvGX05llc5OyXV3mK9lIRmRl0N1sDFKGW1YpJgOjskmsIkbZlJJJKH+AXZaPOt3OPffHeZZvfZ9v7089n+c7sPG9p4QGsZgqpydUkxKAC1Sx0C/kECtYPa40b/qBbGMzznPoFbKGfRzh4P+yF8gsznCJrayRYLwLwATu8BhZaIW8RtLtNIwXfGI670GCnaDntS6NIb+YbDcljaCG0MQXTjP+c3hj+CmCwC5GcII3POAWNUzhoyiwbO3XMYp7XGEOy1HtQrWueB7vWEIjYB2V9wHrmMF1twX6GwDc2SbQdjud8QAAAABJRU5ErkJggg=="},127:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAANCAYAAABy6+R8AAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAAQ5JREFUeNqM0rFOVFEQBuBvb87jSAE2WMMT3GkAKTYhBCwUqC2kpFKEQkNDolmXgqmkI6GUBhp9BxKeYU+yNncTXBA47Zwv889keqO2vcWHkvnVE69GzOOswR6+1IiVJ8ALXOKsKZmfsIpBjVh6pMMf7JfMfgMlc4BlDGvE+hR42XXYL5k70EyKJfMEb3A0gTViFlc4nADojcfj6Sh9HGMXWxiUzLd3/9xDHdzBR1yUzIXpevMAmMN7/MBsjVh9FNWIV7jGacl8jW187yLfRx34hYOSudkt5xv6OK4Rm//MVCNm8BufS+b2A5HXcYSVkjnsjdp2Eef/A3fgEoZ41xu17Q1+lsyNZ9zeGg7/DgBPd3DdZsLUkQAAAABJRU5ErkJggg=="},1270:function(e,t,a){"use strict";var s=a(35);t.__esModule=!0,t.default=void 0;var n=s(a(64)),i=s(a(3)),r=s(a(0)),o=s(a(199)),l=s(a(368)),c=s(a(571)),d=s(a(67)),m=s(a(573)),u=a(167),p={position:i.default.object,popupOffset:i.default.oneOfType([i.default.number,i.default.shape({x:i.default.number,y:i.default.number})]),events:i.default.array,selected:i.default.object,accessors:i.default.object.isRequired,components:i.default.object.isRequired,getters:i.default.object.isRequired,localizer:i.default.object.isRequired,onSelect:i.default.func,onDoubleClick:i.default.func,slotStart:i.default.instanceOf(Date),slotEnd:i.default.number},h=function(e){function t(){return e.apply(this,arguments)||this}(0,n.default)(t,e);var a=t.prototype;return a.componentDidMount=function(){var e,t,a=this.props.popupOffset,s=void 0===a?5:a,n=(0,o.default)(this.refs.root),i=n.top,r=n.left,d=n.width,m=n.height,u=window.innerHeight+(0,l.default)(window),p=window.innerWidth+(0,c.default)(window),h=i+m,g=r+d;(h>u||g>p)&&(h>u&&(e=h-u+(s.y||+s||0)),g>p&&(t=g-p+(s.x||+s||0)),this.setState({topOffset:e,leftOffset:t}))},a.render=function(){var e=this.props,t=e.events,a=e.selected,s=e.getters,n=e.accessors,i=e.components,o=e.onSelect,l=e.onDoubleClick,c=e.slotStart,p=e.slotEnd,h=e.localizer,g=this.props.position,_=g.left,v=g.width,f=g.top,b=(this.state||{}).topOffset||0,E=(this.state||{}).leftOffset||0,y={top:Math.max(0,f-b),left:_-E,minWidth:v+v/2};return r.default.createElement("div",{ref:"root",style:y,className:"rbc-overlay"},r.default.createElement("div",{className:"rbc-overlay-header"},h.format(c,"dayHeaderFormat")),t.map(function(e,t){return r.default.createElement(m.default,{key:t,type:"popup",event:e,getters:s,onSelect:o,accessors:n,components:i,onDoubleClick:l,continuesPrior:d.default.lt(n.end(e),c,"day"),continuesAfter:d.default.gte(n.start(e),p,"day"),selected:(0,u.isSelected)(e,a)})}))},t}(r.default.Component);h.propTypes=p;var g=h;t.default=g,e.exports=t.default},1279:function(e,t,a){"use strict";var s=a(135),n=a(35);t.__esModule=!0,t.default=void 0;var i=n(a(62)),r=n(a(64)),o=n(a(3)),l=n(a(0)),c=a(34),d=n(a(43)),m=n(a(67)),u=a(166),p=a(167),h=s(a(270)),g=function(e){function t(t,a){var s;return(s=e.call(this,t,a)||this).state={selecting:!1},s}(0,r.default)(t,e);var a=t.prototype;return a.componentDidMount=function(){this.props.selectable&&this._selectable()},a.componentWillUnmount=function(){this._teardownSelectable()},a.componentWillReceiveProps=function(e){e.selectable&&!this.props.selectable&&this._selectable(),!e.selectable&&this.props.selectable&&this._teardownSelectable()},a.render=function(){var e=this.props,t=e.range,a=e.getNow,s=e.getters,n=e.date,i=e.components.dateCellWrapper,r=this.state,o=r.selecting,c=r.startIdx,u=r.endIdx,p=a();return l.default.createElement("div",{className:"rbc-row-bg"},t.map(function(e,a){var r=o&&a>=c&&a<=u,h=s.dayProp(e),g=h.className,_=h.style;return l.default.createElement(i,{key:a,value:e,range:t},l.default.createElement("div",{style:_,"data-tip":m.default.gt(e,p,"day")?"Click to add schedule.":"",className:(0,d.default)("rbc-day-bg",g,r&&"rbc-selected-cell",m.default.eq(e,p,"day")&&"rbc-today",n&&m.default.month(n)!==m.default.month(e)&&"rbc-off-range-bg")}))}))},a._selectable=function(){var e=this,t=(0,c.findDOMNode)(this),a=this._selector=new h.default(this.props.container,{longPressThreshold:this.props.longPressThreshold}),s=function(a,s){if(!(0,h.isEvent)((0,c.findDOMNode)(e),a)){var n=(0,h.getBoundsForNode)(t),i=e.props,r=i.range,o=i.rtl;if((0,p.pointInBox)(n,a)){var l=(0,p.getSlotAtX)(n,a.x,o,r.length);e._selectSlot({startIdx:l,endIdx:l,action:s,box:a})}}e._initial={},e.setState({selecting:!1})};a.on("selecting",function(s){var n=e.props,i=n.range,r=n.rtl,o=-1,l=-1;if(e.state.selecting||((0,u.notify)(e.props.onSelectStart,[s]),e._initial={x:s.x,y:s.y}),a.isSelected(t)){var c=(0,h.getBoundsForNode)(t),d=(0,p.dateCellSelection)(e._initial,c,s,i.length,r);o=d.startIdx,l=d.endIdx}e.setState({selecting:!0,startIdx:o,endIdx:l})}),a.on("beforeSelect",function(t){if("ignoreEvents"===e.props.selectable)return!(0,h.isEvent)((0,c.findDOMNode)(e),t)}),a.on("click",function(e){return s(e,"click")}),a.on("doubleClick",function(e){return s(e,"doubleClick")}),a.on("select",function(t){e._selectSlot((0,i.default)({},e.state,{action:"select",bounds:t})),e._initial={},e.setState({selecting:!1}),(0,u.notify)(e.props.onSelectEnd,[e.state])})},a._teardownSelectable=function(){this._selector&&(this._selector.teardown(),this._selector=null)},a._selectSlot=function(e){var t=e.endIdx,a=e.startIdx,s=e.action,n=e.bounds,i=e.box;-1!==t&&-1!==a&&this.props.onSelectSlot&&this.props.onSelectSlot({start:a,end:t,action:s,bounds:n,box:i})},t}(l.default.Component);g.propTypes={date:o.default.instanceOf(Date),getNow:o.default.func.isRequired,getters:o.default.object.isRequired,components:o.default.object.isRequired,container:o.default.func,dayPropGetter:o.default.func,selectable:o.default.oneOf([!0,!1,"ignoreEvents"]),longPressThreshold:o.default.number,onSelectSlot:o.default.func.isRequired,onSelectEnd:o.default.func,onSelectStart:o.default.func,range:o.default.arrayOf(o.default.instanceOf(Date)),rtl:o.default.bool,type:o.default.string};var _=g;t.default=_,e.exports=t.default},128:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAATMAAAGaCAIAAADsKTMvAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAEQ9JREFUeNrs3dtP29YDwHFfk5jEJKSQFjRYQbRSJ9Gqk9aHPeyP30Mf9sCkobZTu5aNFAJJiHNxcPAl/j2c7fyOnBDCZRot388TBHLB5JtjHzuOPhgMoijSANwZtm1bURSVy2Vd11kcwF2Qpmmv17M0TTMMg8UB3BFimDREoywO4O6MmX+XCeCuoUyAMgFQJkCZACgToEwAlAmAMgHKBECZAGUCoEyAMgFQJgDKBCgTAGUClAmAMgHKBECZACgToEwAlAlQJgDKBCgTAGUCoEyAMgFQJkCZACgToEwAlAmAMgHKBECZAGUCoEyAMgFQJgDKBCgTAGUClAmAMgHKBECZACgToEwAlAlQJgDKBCgTAGUCoEyAMgFQJkCZACgToEwAlAmAMgHKBECZAGUCoEwAlAlQJgDKBCgTAGUClAmAMgFQJkCZACgToEwAlAlQJgDKBECZAGUCoEyAMgFQJkCZACgTAGUClAmAMgHKBECZAGUCoEwAlAlQJgDKBCgTAGUClAmAMgFQJkCZACgToEwAlAlQJgDKBECZAGUCoEyAMgFQJkCZACgTAGUClAmAMgHKBECZAGUCoEwAlAlQJgDKBCgTAGUCoEyAMgFQJkCZACgToEwAlAmAMgHKBECZAGUCoEyAMgFQJgDKBCgTAGUClAmAMgHKBECZACgToEwAlAlQJgDKBCgTAGUCoEyAMgFQJkCZACgToEwAlAlgGotF8KVIkqTdbgdBoOv6/NdK09Q0zQcPHiwsLLAMKRO3r91udzqd6133/Pz88ePHlsW/mzJxq8Iw7Pf7juOYpnnV66Zpen5+3uv1Hjx4wJKkTNwmz/Ns287n89e7umma3W63UqlcI2xQ5n00HA6jKMpcWCgUCoWC/DaKosFg4DjOte/FMAxd17vdLsMmZeJyQRAcHh4mSZK53HGcjY0Nw/h75rzf71uWJb+9nlwu1+v1yuUyW5uUiVnbfmEYDodDXddzuVyapupPkyTxfV8kNB6Pu93uTQZMuUIr1oqLxWL2SWBZuVyOfwpl3ndhGJ6cnARBoGlaqVQSe0F0XZd9xnF8dHQkv83n81faUzJj2Dw9PW2325NlFovFWq3GcEqZ91ccx4eHh6PRyDCMXC6n67qu667r5vP5NE3Pzs7Ozs4Mw7AsS5Z5WwOaaZr5fD6O48zl4/G41+slSbK6ukqclHlPdbvdMAyLxaJpmmLTcXFxUR4GUC6X0zQNgmBhYUGMorcyWkqFQmHyNsfjcRzHw+Gw3+9Xq1X+R5R5H41GI5Gl+FbX9cy+kEKhIA/0mSdL0zTFwCvG2PF4PB6PZ/z+5G3K0VusYIMy7+USV1ZTp5rdlawrl8vl8/lcLpfZRTkej6MoOj8/Pz8/n+emJNu2bzj9C8r8gpmmqW7piW08uQ6Zpmm/3790jbRYLF608Sm2UR3HSZJEbLXO3yfHIVAm/q/dbidJUiwWx+Nxv98/Ozub3LEhq3Ndd85j003TdF23UCj0+/0wDFnOlIkr0HXdsixxtHqapmmaXhSebdvlctm27Svdvm3bS0tLg8Hg7OyMpU2ZuIJCoaDruljFzeVyU1dTLcuqVCqTuzSmrqmKCSF1pC2Xy5qmESdl4mrDptiZoV0wGavr+uLiYibLMAw9z/N9PwxDdUpJbGQuLS0Vi0X11hYXF+M4ZrX2S8Fc3B3q86J9JMViMbNnJY7jVqt1enoqStMVSZIMBoN6vX5ycqIekSvyZvaVMRO39B+yrMyEUJIkhmGIg+miKBLvI1F/miRJGIadTieKorW1NTnjatv2wsKC7/ssVcZM3NTCwoI60CVJouu6YRi2bddqtXK5nBlpTdPM5XLFYtFxHN/32+22uq7rOA7DJmXixv8ew1AnhJIkEYOkXEF1XXcyTrnturCw4HnecDhUR+Brv/0alAlNrn+qEz/D4fDw8DCzOrqwsLC0tDT1IAFxnJDneeqwyRu+KBM3JY6Jld/6vh9F0eHhoed56q/l8/lqtTo1uXw+H0WRWqZt27d7lDwo8z6uzcqv0zSNoqhUKhmGcXx83Gw2MztLlpaWJt9gret6ZjjNzBiBMnELoZqmKQ6aPT09PTo6Ug/BNQyjUqmUSqXJgXd2q7iD2Gtyp2UGN7HNqeu6mLDt9/tRFK2urqqTOq7rWpbV6/XkiEqHjJm4ZZmTd6mhiqnX0WhUr9czc0KO41Sr1YuCFGvFLFvKxPVlDovNxCb2WyZJcnh42O12Mz+6aE7o0rdWgzJxCXVwmzz7gfbPEUKGYTQajalzQoVCITPBy4BJmbipMAzVOR7HcSanVTNzQuoKsHiXyeLionqtq35mESgTU9Y81XPziANfJ39N13XHccSbpOv1+vn5ubpVqa7TitPzsWApEzf79xjGYDBQLymVSlO3HuXheEEQ1Ot1cUSe2J5Ud4oOh8M4jhkzKRM3LTMIAnWUEyuok6d1F3K5XKlUSpLkr7/+EjtO1EmjNE07nQ5nlKVM3JQ4F0nmnZZiakccDDR5FTEnJD6/JDOXK051y+7NLwIvn3edbdvD4bDZbK6urqoj5+LiouM4o9EoDEPRbZqm4t1hhUIhl8tluj07O2s2m+IE0yxVysQtDJuO43S7XcuylpeX1a5s27ZtO7NaOzW8IAiOjo4mR1FQJq7PNE3HcdrtdhRFDx8+nDwOdvbVB4PBycmJOCsfAyZl4jaJzyPq9XphGC4vL08etj5VHMedTqfT6RiGQZaUiX+FOPml2CkiTmVQKBSmnn52PB6HYej7frfbjaJInE2P9VjKxCyzP9Tk0pHTNM3RaDQYDAaDQf4fhmEYhiFOJC0+1CQIgvF4LHZyzv/xmzd5bKDML36jcfLj36/wD7OsYrEYRVEYhmEYqof7qAzDmPp5RJc+Nv5BlHlPFYvFG56OWXwQWC6XS/4hxzpxWj3TNDNHsc95sxd9ngoo815sLrqumznm7trD722Ncrqul8tlTqtHmfdaqVSybVtsCt6RFWzHcTinHmVCEzM3LAdchONmAcoEQJkAZQKgTIAyAVAmAMoEKBMAZQKUCYAyAcoE8N/4Ot9rUq/X9/f3NU178uSJPE3rhw8fGo2Gpmk//fSTuER8+KS4UNO09fX19fX1qacw39vb8zxPvaRUKq2vr6+srIhvf/75Z03TVldXnzx5Im/8l19+0TRtc3NzfX1dXOh53ufPn8VNWZYl7lFcvre3N/VvkVdvNBr1en00Gk3e+1S+7+/u7qpL4N27d0EQfP/995nf3N3ddRzn2bNnF11RLoRCoSD+wEaj8eHDB7kkZ/wXXr16VSgU5IVysUirq6ubm5tisYuf7uzsLC0tZW5N3OPkvcx+DJR5t8i383/+/Fk+vTLv8fd9f29vT/3Iunq93m63X758Oc/nC/i+/+7duziO1afv1NMIyAszz604jvf3933ff/bs2YzzD4gfyZcV9d5Ho5FsfpLov9vtykdYq9XevHkTx7H6B8Zx7Pv+t99+O+OKk3/LPCdMEJ+t0m63v/nmm8yPnj9/XqlUxB/y4cOHd+/e7ezszLMYv9YO70uZUhAErVZr6tiyv78vziv3/PnzUqnUbrffvn0bBMH+/r4c9zIcx/nhhx/Es/nXX38Vvzz59J1KdKhpmuu6Ozs7lmX9+eefBwcHrVarUqmsrq6K51y32/3tt980TXv69OmjR49kKiLLtbW17e3tOI5///33Tqezv7+/srKijkiqdrvtuq7neTLFcrks7mJ5eVn+mvhIXPGji654DXEcN5tNcTuTZWZWPd6+fev7/pyn6mQ78ytxfHw8eeFoNBIjw8bGhnhCLC8v12o18by8/PXMskSQcRxn1nIv0mq1xCdhbm1tiaf748ePxReZj4ue2pi408ePH6tfzHi0cRwPBoOtrS319i3LqlarmQfseV61WpUFTr3iNYiTym9tbYnCZ/ymWP6zf4cyv0Ke503GI7bWxJM18xSJokj+9NLnk6ZpF529LkOeL089lcHi4qKmaZeeE0g8Hsuy5KOV937RQ200GpZllcvlarXq+768fGlpKRNzu91WN+ouuuJVtVqtarUqPvhoduHiXhgw71eZa2trcw6DVyVzumhlch7inHdznuTuSufCGw6H4m8vlUpHR0fy8kqlEkWRTM73/SiKxCbf7Cte4wVRbERUq9VWqzXjRader29sbPDZgfdrO/PRo0fNZrPRaMyYKbneRpTY8LMsS32xPzo6usmz+RYfXqfTefr0qVhL//Tpk9yKKxaLjuN4nie+9TzPdV15MssZV7xqlnEci23XSqXy6dOnzC+IbWm59S63qC8l5sClyQlkyvxC/jzLqtVqR0dH6sTmTeaTMs8MudF4p4i1RzESipNoyhQ1TVtZWRGzpmKEVFdlZ19xfr1eT267Li8vv3//3vM89Y7k3KymaX/88cfe3t6cU+L3Z27269/OFBODjUZD3UFyc67rfvfdd5kX+7W1tZ/+8erVq/9w01qd1MlsW5ZKpWazGcexGCHV8GZf8UobmbJDy7Jc1+31ehf98vb2tvgHsQZ7j8ZM8dpfq9WazeaMrZ05yb0md5z4PL9ms5lZxZWDmDoro+5BmX3FOfm+HwTBx48fP378qF4u55OnvszJYRz3pUy5tZnJVT7t1KeUeI2/yaTOjPVqOechb19MI7mue+krgud5URTJSOQUzuRDFZM6P/74o5rT69ev1Y1tOe9arVavdMU5R2zXdV++fKne8u7uLnssWZvNqlQq6lNQPKHFJQcHB+I52mq1RL1ir+atEyOVpmmfPn0SLwf7+/viC3Vq9KLrasqxCvKLzIgn1yRd182MctVqVR2UKpWK2Jmk3vU8V5xzxM4cW1cqlSzLmrHjt9/v/xuvhoyZX4CVlZVOp5NZuer3+3Ec7+7uqqPTjJWuG46ZW1tb79+/933/9evX8vJarXbpzGSlUllbWxPzWOr22NbW1uQTutvtTh50urKy8ubNm+3tbXVWRtM09Zi4ea54KXGgwuQYu7a21m63p469e3t7cRzPPz1LmV+Vhw8fHhwcBEGgvpC/ePGi0WjI/RwbGxvr6+v/3ifVPXr0yLKs4+Nj8RphWdbGxsaMI9cy0ySFQqHRaIg/wXXd9fX1yQHT9/3BYDB5dKHYgdFqtcQ+BjEro65jz3nFjMxM9ebmprjNyQdWKpUODg7kcRHqXhPXdV+8eKG+xKg/FRNR8hUkc4+apmWOmP9q6J1Op1Kp8DnhwB2Rpmm32+X9mQAzQAAoE6BMAJQJUCYAygRAmQBlAqBMgDIBUCZAmQAoEwBlApQJgDIBygRAmQBlAqBMAJQJUCYAygQoEwBlApQJgDIBUCZAmQAoE6BMAJQJUCYAygRAmQBlAqBMgDIBUCZAmQAoEwBlApQJgDIBygRAmQBlAqBMAJQJUCYAygQoEwBlApQJgDIBUCZAmQAoE6BMAJQJUCYAygRAmQBlAqBMgDIBUCYAygQoEwBlApQJgDIBygRAmQAoE6BMAJQJUCYAygQoEwBlAqBMgDIBUCZAmQAoE6BMAJQJgDIBygRAmQBlAqBMgDIBUCYAygQoEwBlApQJgDIBygRAmQAoE6BMAJQJUCYAygQoEwBlAqBMgDIBUCZAmQAoE6BMAJQJgDIBygRAmQBlAqBMgDIBUCYAygQoEwBlApQJgDIBUCZAmQAoE6BMAJQJUCYAygRAmQBlAqBMgDIBUCZAmQAoEwBlApQJgDIBygRAmQBlAqBMAJQJUCYAygQoEwBlApQJgDIBUCZAmQAoE6BMAJQJUCYAygRAmcCXVKau6ywI4I4QPVqapo3HY+IE7og0TTVN0weDQRRFLA7g7rBt+38DAJvs7wyiP4wIAAAAAElFTkSuQmCC"},1285:function(e,t,a){"use strict";var s=a(35);t.__esModule=!0,t.default=void 0;var n=s(a(62)),i=s(a(64)),r=s(a(3)),o=s(a(0)),l=s(a(576)),c=a(168),d=s(a(1312)),m=function(e,t){return e.left<=t&&e.right>=t},u=function(e,t){return e.filter(function(e){return m(e,t)}).length},p=function(e){function t(){return e.apply(this,arguments)||this}(0,i.default)(t,e);var a=t.prototype;return a.render=function(){for(var e=this.props,t=e.segments,a=e.slotMetrics.slots,s=(0,c.eventLevels)(t).levels[0],n=1,i=1,r=[];n<=a;){var d="_lvl_"+n,u=s.filter(function(e){return m(e,n)})[0]||{},p=u.event,h=u.left,g=u.right,_=u.span;if(p){var v=Math.max(0,h-i);if(this.canRenderSlotEvent(h,_)){var f=l.default.renderEvent(this.props,p);v&&r.push(l.default.renderSpan(a,v,d+"_gap")),r.push(l.default.renderSpan(a,_,d,f)),i=n=g+1}else v&&r.push(l.default.renderSpan(a,v,d+"_gap")),r.push(l.default.renderSpan(a,1,d,this.renderShowMore(t,n))),i=n+=1}else n++}return o.default.createElement("div",{className:"rbc-row"},r)},a.canRenderSlotEvent=function(e,t){var a=this.props.segments;return(0,d.default)(e,e+t).every(function(e){return 1===u(a,e)})},a.renderShowMore=function(e,t){var a=this,s=this.props.localizer,n=u(e,t);return!!n&&o.default.createElement("a",{key:"sm_"+t,href:"#",className:"rbc-show-more",onClick:function(e){return a.showMore(t,e)}},s.messages.showMore(n))},a.showMore=function(e,t){t.preventDefault(),this.props.onShowMore(e)},t}(o.default.Component);p.propTypes=(0,n.default)({segments:r.default.array,slots:r.default.number,onShowMore:r.default.func},l.default.propTypes),p.defaultProps=(0,n.default)({},l.default.defaultProps);var h=p;t.default=h,e.exports=t.default},131:function(e,t,a){"use strict";var s=a(35);t.__esModule=!0,t.default=void 0;var n=s(a(62)),i=s(a(1252)),r=s(a(1365)),o=s(a(588)),l=s(a(1366)),c=s(a(1367)),d=s(a(563)),m=a(110);(0,n.default)(i.default,{globalizeLocalizer:c.default,momentLocalizer:l.default,Views:m.views,Navigate:m.navigate,move:d.default,components:{eventWrapper:r.default,dayWrapper:o.default,dateCellWrapper:o.default}});var u=i.default;t.default=u,e.exports=t.default},1315:function(e,t,a){"use strict";var s=a(35);t.__esModule=!0,t.getSlotMetrics=function e(){return(0,i.default)(function(t){for(var a=t.range,s=t.events,i=t.maxRows,c=t.minRows,d=t.accessors,m=(0,o.endOfRange)(a),u=m.first,p=m.last,h=s.map(function(e){return(0,o.eventSegments)(e,a,d)}),g=(0,o.eventLevels)(h,Math.max(i-1,1)),_=g.levels,v=g.extra;_.length<c;)_.push([]);return{first:u,last:p,levels:_,extra:v,range:a,slots:a.length,clone:function(a){var s=e();return s((0,n.default)({},t,a))},getDateForSlot:function(e){return a[e]},getSlotForDate:function(e){return a.find(function(t){return r.default.eq(t,e,"day")})},getEventsForSlot:function(e){return h.filter(function(t){return l(t,e)}).map(function(e){return e.event})},continuesPrior:function(e){return r.default.lt(d.start(e),u,"day")},continuesAfter:function(e){var t=d.end(e),a=r.default.eq(d.start(e),t,"minutes");return a?r.default.gte(t,p,"minutes"):r.default.gt(t,p,"minutes")}}},c)};var n=s(a(62)),i=s(a(52)),r=s(a(67)),o=a(168),l=function(e,t){return e.left<=t&&e.right>=t},c=function(e,t){return e.range===t.range&&e.events===t.events}},1316:function(e,t,a){"use strict";var s=a(35);t.__esModule=!0,t.default=void 0;var n=s(a(3)),i=s(a(0)),r=function(e){var t=e.label,a=e.drilldownView,s=e.onDrillDown;return a?i.default.createElement("a",{href:"#",onClick:s},t):i.default.createElement("span",null,t)};r.propTypes={label:n.default.node,date:n.default.instanceOf(Date),drilldownView:n.default.string,onDrillDown:n.default.func,isOffRange:n.default.bool};var o=r;t.default=o,e.exports=t.default},1317:function(e,t,a){"use strict";var s=a(35);t.__esModule=!0,t.default=void 0;var n=s(a(62)),i=s(a(109)),r=s(a(64)),o=s(a(3)),l=s(a(0)),c=s(a(67)),d=a(110),m=s(a(376)),u=function(e){function t(){return e.apply(this,arguments)||this}return(0,r.default)(t,e),t.prototype.render=function(){var e=this.props,a=e.date,s=(0,i.default)(e,["date"]),r=t.range(a);return l.default.createElement(m.default,(0,n.default)({},s,{range:r,eventOffset:10}))},t}(l.default.Component);u.propTypes={date:o.default.instanceOf(Date).isRequired},u.range=function(e){return[c.default.startOf(e,"day")]},u.navigate=function(e,t){switch(t){case d.navigate.PREVIOUS:return c.default.add(e,-1,"day");case d.navigate.NEXT:return c.default.add(e,1,"day");default:return e}},u.title=function(e,t){return t.localizer.format(e,"dayHeaderFormat")};var p=u;t.default=p,e.exports=t.default},1318:function(e,t,a){"use strict";var s=a(135),n=a(35);t.__esModule=!0,t.default=void 0;var i=n(a(109)),r=n(a(62)),o=n(a(64)),l=n(a(198)),c=n(a(3)),d=n(a(0)),m=a(34),u=n(a(43)),p=s(a(270)),h=n(a(67)),g=s(a(586)),_=a(167),v=a(166),f=s(a(1319)),b=n(a(587)),E=n(a(589)),y=function(e){function t(){for(var t,a=arguments.length,s=new Array(a),n=0;n<a;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))||this).state={selecting:!1,timeIndicatorPosition:null},t.intervalTriggered=!1,t.renderEvents=function(){var e=t.props,a=e.events,s=e.rtl,n=e.selected,i=e.accessors,r=e.localizer,o=e.getters,c=e.components,m=e.step,u=e.timeslots,p=(0,l.default)((0,l.default)(t)).slotMetrics,h=r.messages;return f.getStyledEvents({events:a,accessors:i,slotMetrics:p,minimumStartDifference:Math.ceil(m*u/2)}).map(function(e,a){var l,m,u=e.event,g=e.style,v=i.end(u),f=i.start(u),b="eventTimeRangeFormat",y=p.startsBeforeDay(f),N=p.startsAfterDay(v);y?b="eventTimeRangeEndFormat":N&&(b="eventTimeRangeStartFormat"),m=y&&N?h.allDay:r.format({start:f,end:v},b);var S=y||p.startsBefore(f),D=N||p.startsAfter(v);return d.default.createElement(E.default,((l={style:g,event:u,label:m,key:"evt_"+a,getters:o,isRtl:s}).getters=o,l.components=c,l.continuesEarlier=S,l.continuesLater=D,l.accessors=i,l.selected=(0,_.isSelected)(u,n),l.onClick=function(e){return t._select(u,e)},l.onDoubleClick=function(e){return t._doubleClick(u,e)},l))})},t._selectable=function(){var e=(0,m.findDOMNode)((0,l.default)((0,l.default)(t))),a=t._selector=new p.default(function(){return(0,m.findDOMNode)((0,l.default)((0,l.default)(t)))},{longPressThreshold:t.props.longPressThreshold}),s=function(e){var a=t.props.onSelecting,s=t.state||{},i=n(e),r=i.startDate,o=i.endDate;a&&(h.default.eq(s.startDate,r,"minutes")&&h.default.eq(s.endDate,o,"minutes")||!1===a({start:r,end:o}))||t.state.start===i.start&&t.state.end===i.end&&t.state.selecting===i.selecting||t.setState(i)},n=function(a){var s=t.slotMetrics.closestSlotFromPoint(a,(0,p.getBoundsForNode)(e));t.state.selecting||(t._initialSlot=s);var n=t._initialSlot;n===s&&(s=t.slotMetrics.nextSlot(n));var i=t.slotMetrics.getRange(h.default.min(n,s),h.default.max(n,s));return(0,r.default)({},i,{selecting:!0,top:i.top+"%",height:i.height+"%"})},i=function(e,a){if(!(0,p.isEvent)((0,m.findDOMNode)((0,l.default)((0,l.default)(t))),e)){var s=n(e),i=s.startDate,r=s.endDate;t._selectSlot({startDate:i,endDate:r,action:a,box:e})}t.setState({selecting:!1})};a.on("selecting",s),a.on("selectStart",s),a.on("beforeSelect",function(e){if("ignoreEvents"===t.props.selectable)return!(0,p.isEvent)((0,m.findDOMNode)((0,l.default)((0,l.default)(t))),e)}),a.on("click",function(e){return i(e,"click")}),a.on("doubleClick",function(e){return i(e,"doubleClick")}),a.on("select",function(e){t.state.selecting&&(t._selectSlot((0,r.default)({},t.state,{action:"select",bounds:e})),t.setState({selecting:!1}))}),a.on("reset",function(){t.state.selecting&&t.setState({selecting:!1})})},t._teardownSelectable=function(){t._selector&&(t._selector.teardown(),t._selector=null)},t._selectSlot=function(e){for(var a=e.startDate,s=e.endDate,n=e.action,i=e.bounds,r=e.box,o=a,l=[];h.default.lte(o,s);)l.push(o),o=h.default.add(o,t.props.step,"minutes");(0,v.notify)(t.props.onSelectSlot,{slots:l,start:a,end:s,resourceId:t.props.resource,action:n,bounds:i,box:r})},t._select=function(){for(var e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];(0,v.notify)(t.props.onSelectEvent,a)},t._doubleClick=function(){for(var e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];(0,v.notify)(t.props.onDoubleClickEvent,a)},t.slotMetrics=g.getSlotMetrics(t.props),t}(0,o.default)(t,e);var a=t.prototype;return a.componentDidMount=function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()},a.componentWillUnmount=function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()},a.componentWillReceiveProps=function(e){e.selectable&&!this.props.selectable&&this._selectable(),!e.selectable&&this.props.selectable&&this._teardownSelectable(),this.slotMetrics=this.slotMetrics.update(e)},a.componentDidUpdate=function(e,t){e.isNow!==this.props.isNow&&(this.clearTimeIndicatorInterval(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval(t.timeIndicatorPosition===this.state.timeIndicatorPosition))},a.setTimeIndicatorPositionUpdateInterval=function(e){var t=this;void 0===e&&(e=!1),this.intervalTriggered||e||this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){t.intervalTriggered=!0,t.positionTimeIndicator(),t.setTimeIndicatorPositionUpdateInterval()},6e4)},a.clearTimeIndicatorInterval=function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)},a.positionTimeIndicator=function(){var e=this.props,t=e.min,a=e.max,s=(0,e.getNow)();if(s>=t&&s<=a){var n=this.slotMetrics.getRange(s,s).top;this.setState({timeIndicatorPosition:n})}else this.clearTimeIndicatorInterval()},a.render=function(){var e=this.props,t=e.max,a=e.rtl,s=e.isNow,n=e.resource,r=e.accessors,o=e.localizer,l=e.getters,c=l.dayProp,m=(0,i.default)(l,["dayProp"]),p=e.components,h=p.eventContainerWrapper,g=(0,i.default)(p,["eventContainerWrapper"]),_=this.slotMetrics,v=this.state,f=v.selecting,E=v.top,y=v.height,N={start:v.startDate,end:v.endDate},S=c(t),D=S.className,w=S.style;return d.default.createElement("div",{style:w,className:(0,u.default)(D,"rbc-day-slot","rbc-time-column",s&&"rbc-now",s&&"rbc-today",f&&"rbc-slot-selecting")},_.groups.map(function(e,t){return d.default.createElement(b.default,{key:t,group:e,resource:n,getters:m,components:g})}),d.default.createElement(h,{localizer:o,resource:n,accessors:r,getters:m,components:g,slotMetrics:_},d.default.createElement("div",{className:(0,u.default)("rbc-events-container",a&&"rtl")},this.renderEvents())),f&&d.default.createElement("div",{className:"rbc-slot-selection",style:{top:E,height:y}},d.default.createElement("span",null,o.format(N,"selectRangeFormat"))),s&&d.default.createElement("div",{className:"rbc-current-time-indicator",style:{top:this.state.timeIndicatorPosition+"%"}}))},t}(d.default.Component);y.propTypes={events:c.default.array.isRequired,step:c.default.number.isRequired,date:c.default.instanceOf(Date).isRequired,min:c.default.instanceOf(Date).isRequired,max:c.default.instanceOf(Date).isRequired,getNow:c.default.func.isRequired,isNow:c.default.bool,rtl:c.default.bool,accessors:c.default.object.isRequired,components:c.default.object.isRequired,getters:c.default.object.isRequired,localizer:c.default.object.isRequired,showMultiDayTimes:c.default.bool,culture:c.default.string,timeslots:c.default.number,selected:c.default.object,selectable:c.default.oneOf([!0,!1,"ignoreEvents"]),eventOffset:c.default.number,longPressThreshold:c.default.number,onSelecting:c.default.func,onSelectSlot:c.default.func.isRequired,onSelectEvent:c.default.func.isRequired,onDoubleClickEvent:c.default.func.isRequired,className:c.default.string,dragThroughEvents:c.default.bool,resource:c.default.any},y.defaultProps={dragThroughEvents:!0,timeslots:2};var N=y;t.default=N,e.exports=t.default},1319:function(e,t,a){"use strict";var s=a(35);t.__esModule=!0,t.getStyledEvents=function(e){for(var t=e.events,a=e.minimumStartDifference,s=e.slotMetrics,n=e.accessors,l=function(e){var t=(0,i.default)(e,["startMs",function(e){return-e.endMs}]),a=[];for(;t.length>0;){var s=t.shift();a.push(s);for(var n=0;n<t.length;n++){var r=t[n];if(!(s.endMs>r.startMs)){if(n>0){var o=t.splice(n,1)[0];a.push(o)}break}}}return a}(t.map(function(e){return new r(e,{slotMetrics:s,accessors:n})})),c=[],d=function(e){var t=l[e],s=c.find(function(e){return e.end>t.start||Math.abs(t.start-e.start)<a});if(!s)return t.rows=[],c.push(t),"continue";t.container=s;for(var n=null,i=s.rows.length-1;!n&&i>=0;i--)o(s.rows[i],t,a)&&(n=s.rows[i]);n?(n.leaves.push(t),t.row=n):(t.leaves=[],s.rows.push(t))},m=0;m<l.length;m++)d(m);return l.map(function(e){return{event:e.data,style:{top:e.top,height:e.height,width:e.width,xOffset:e.xOffset}}})};var n=s(a(1320)),i=s(a(1321)),r=function(){function e(e,t){var a=t.accessors,s=t.slotMetrics.getRange(a.start(e),a.end(e)),n=s.start,i=s.startDate,r=s.end,o=s.endDate,l=s.top,c=s.height;this.start=n,this.end=r,this.startMs=+i,this.endMs=+o,this.top=l,this.height=c,this.data=e}return(0,n.default)(e,[{key:"_width",get:function(){if(this.rows)return 100/(this.rows.reduce(function(e,t){return Math.max(e,t.leaves.length+1)},0)+1);var e=100-this.container._width;return this.leaves?e/(this.leaves.length+1):this.row._width}},{key:"width",get:function(){var e=this._width,t=Math.min(100,1.7*this._width);if(this.rows)return t;if(this.leaves)return this.leaves.length>0?t:e;var a=this.row.leaves;return a.indexOf(this)===a.length-1?e:t}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var e=this.row,t=e.leaves,a=e.xOffset,s=e._width;return a+(t.indexOf(this)+1)*s}}]),e}();function o(e,t,a){return Math.abs(t.start-e.start)<a||t.start>e.start&&t.start<e.end}},1331:function(e,t,a){"use strict";var s=a(135),n=a(35);t.__esModule=!0,t.default=void 0;var i=n(a(64)),r=n(a(43)),o=n(a(3)),l=s(a(0)),c=s(a(586)),d=n(a(587)),m=function(e){function t(){for(var t,a=arguments.length,s=new Array(a),n=0;n<a;n++)s[n]=arguments[n];(t=e.call.apply(e,[this].concat(s))||this).renderSlot=function(e,a){if(0!==a)return null;var s=t.props,n=s.localizer,i=s.getNow,o=t.slotMetrics.dateIsInGroup(i(),a);return l.default.createElement("span",{className:(0,r.default)("rbc-label",o&&"rbc-now")},n.format(e,"timeGutterFormat"))};var i=t.props,o=i.min,d=i.max,m=i.timeslots,u=i.step;return t.slotMetrics=c.getSlotMetrics({min:o,max:d,timeslots:m,step:u}),t}(0,i.default)(t,e);var a=t.prototype;return a.componentWillReceiveProps=function(e){var t=e.min,a=e.max,s=e.timeslots,n=e.step;this.slotMetrics=this.slotMetrics.update({min:t,max:a,timeslots:s,step:n})},a.render=function(){var e=this,t=this.props,a=t.resource,s=t.components;return l.default.createElement("div",{className:"rbc-time-gutter rbc-time-column"},this.slotMetrics.groups.map(function(t,n){return l.default.createElement(d.default,{key:n,group:t,resource:a,components:s,renderSlot:e.renderSlot})}))},t}(l.Component);t.default=m,m.propTypes={min:o.default.instanceOf(Date).isRequired,max:o.default.instanceOf(Date).isRequired,timeslots:o.default.number.isRequired,step:o.default.number.isRequired,getNow:o.default.func.isRequired,components:o.default.object.isRequired,localizer:o.default.object.isRequired,resource:o.default.string},e.exports=t.default},1332:function(e,t,a){"use strict";var s=a(35);t.__esModule=!0,t.default=void 0;var n=s(a(64)),i=s(a(3)),r=s(a(43)),o=s(a(591)),l=s(a(0)),c=s(a(67)),d=s(a(574)),m=s(a(585)),u=a(166),p=function(e){function t(){for(var t,a=arguments.length,s=new Array(a),n=0;n<a;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))||this).handleHeaderClick=function(e,a,s){s.preventDefault(),(0,u.notify)(t.props.onDrillDown,[e,a])},t.renderRow=function(e){var a=t.props,s=a.events,n=a.rtl,i=a.selectable,r=a.getNow,o=a.range,c=a.getters,m=a.localizer,u=a.accessors,p=a.components,h=u.resourceId(e),g=e?s.filter(function(e){return u.resource(e)===h}):s;return l.default.createElement(d.default,{isAllDay:!0,rtl:n,getNow:r,minRows:2,range:o,events:g,resourceId:h,className:"rbc-allday-cell",selectable:i,selected:t.props.selected,components:p,accessors:u,getters:c,localizer:m,onSelect:t.props.onSelectEvent,onDoubleClick:t.props.onDoubleClickEvent,onSelectSlot:t.props.onSelectSlot,longPressThreshold:t.props.longPressThreshold})},t}(0,n.default)(t,e);var a=t.prototype;return a.renderHeaderCells=function(e){var t=this,a=this.props,s=a.localizer,n=a.getDrilldownView,i=a.getNow,o=a.getters.dayProp,d=a.components.header,u=void 0===d?m.default:d,p=i();return e.map(function(e,a){var i=n(e),d=s.format(e,"dayFormat"),m=o(e),h=m.className,g=m.style,_=l.default.createElement(u,{date:e,label:d,localizer:s});return l.default.createElement("div",{key:a,style:g,className:(0,r.default)("rbc-header",h,c.default.eq(e,p,"day")&&"rbc-today")},i?l.default.createElement("a",{href:"#",onClick:function(a){return t.handleHeaderClick(e,i,a)}},_):l.default.createElement("span",null,_))})},a.render=function(){var e=this,t=this.props,a=t.width,s=t.rtl,n=t.resources,i=t.range,c=t.events,m=t.getNow,u=t.accessors,p=t.selectable,h=t.components,g=t.getters,_=t.scrollRef,v=t.localizer,f=t.isOverflowing,b=t.components.timeGutterHeader,E={};f&&(E[s?"marginLeft":"marginRight"]=(0,o.default)()+"px");var y=n.groupEvents(c);return l.default.createElement("div",{style:E,ref:_,className:(0,r.default)("rbc-time-header",f&&"rbc-overflowing")},l.default.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:a,minWidth:a,maxWidth:a}},b&&l.default.createElement(b,null)),n.map(function(t,a){var n=t[0],r=t[1];return l.default.createElement("div",{className:"rbc-time-header-content",key:n||a},r&&l.default.createElement("div",{className:"rbc-row rbc-row-resource"},l.default.createElement("div",{key:"resource_"+a,className:"rbc-header"},u.resourceTitle(r))),l.default.createElement("div",{className:"rbc-row rbc-time-header-cell"+(i.length<=1?" rbc-time-header-cell-single-day":"")},e.renderHeaderCells(i)),l.default.createElement(d.default,{isAllDay:!0,rtl:s,getNow:m,minRows:2,range:i,events:y.get(n)||[],resourceId:r&&n,className:"rbc-allday-cell",selectable:p,selected:e.props.selected,components:h,accessors:u,getters:g,localizer:v,onSelect:e.props.onSelectEvent,onDoubleClick:e.props.onDoubleClickEvent,onSelectSlot:e.props.onSelectSlot,longPressThreshold:e.props.longPressThreshold}))}))},t}(l.default.Component);p.propTypes={range:i.default.array.isRequired,events:i.default.array.isRequired,resources:i.default.object,getNow:i.default.func.isRequired,isOverflowing:i.default.bool,rtl:i.default.bool,width:i.default.number,localizer:i.default.object.isRequired,accessors:i.default.object.isRequired,components:i.default.object.isRequired,getters:i.default.object.isRequired,selected:i.default.object,selectable:i.default.oneOf([!0,!1,"ignoreEvents"]),longPressThreshold:i.default.number,onSelectSlot:i.default.func,onSelectEvent:i.default.func,onDoubleClickEvent:i.default.func,onDrillDown:i.default.func,getDrilldownView:i.default.func.isRequired,scrollRef:i.default.any};var h=p;t.default=h,e.exports=t.default},1333:function(e,t,a){"use strict";t.__esModule=!0,t.default=function(e,t){return{map:function(a){return e?e.map(function(e,s){return a([t.resourceId(e),e],s)}):[a([s,null],0)]},groupEvents:function(a){var n=new window.Map;return e?(a.forEach(function(e){var a=t.resource(e)||s,i=n.get(a)||[];i.push(e),n.set(a,i)}),n):(n.set(s,a),n)}}},t.NONE=void 0;var s={};t.NONE=s},1334:function(e,t,a){"use strict";var s=a(35);t.__esModule=!0,t.default=void 0;var n=s(a(62)),i=s(a(109)),r=s(a(64)),o=s(a(3)),l=s(a(0)),c=s(a(592)),d=s(a(376));function m(e,t){return c.default.range(e,t).filter(function(e){return-1===[6,0].indexOf(e.getDay())})}var u=function(e){function t(){return e.apply(this,arguments)||this}return(0,r.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.date,a=(0,i.default)(e,["date"]),s=m(t,this.props);return l.default.createElement(d.default,(0,n.default)({},a,{range:s,eventOffset:15}))},t}(l.default.Component);u.propTypes={date:o.default.instanceOf(Date).isRequired},u.defaultProps=d.default.defaultProps,u.range=m,u.navigate=c.default.navigate,u.title=function(e,t){var a=t.localizer,s=m(e,{localizer:a}),n=s[0],i=s.slice(1);return a.format({start:n,end:i.pop()},"dayRangeHeaderFormat")};var p=u;t.default=p,e.exports=t.default},1335:function(e,t,a){"use strict";var s=a(35);t.__esModule=!0,t.default=void 0;var n=s(a(64)),i=s(a(3)),r=s(a(0)),o=s(a(1336)),l=s(a(590)),c=s(a(591)),d=s(a(67)),m=a(110),u=a(168),p=a(167),h=function(e){function t(){for(var t,a=arguments.length,s=new Array(a),n=0;n<a;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))||this).renderDay=function(e,a,s){var n=t.props,i=n.selected,o=n.getters,l=n.accessors,c=n.localizer,m=n.components,h=m.event,g=m.date;return(a=a.filter(function(t){return(0,u.inRange)(t,d.default.startOf(e,"day"),d.default.endOf(e,"day"),l)})).map(function(n,d){var m=l.title(n),u=l.end(n),_=l.start(n),v=o.eventProp(n,_,u,(0,p.isSelected)(n,i)),f=0===d&&c.format(e,"agendaDateFormat"),b=0===d&&r.default.createElement("td",{rowSpan:a.length,className:"rbc-agenda-date-cell"},g?r.default.createElement(g,{day:e,label:f}):f);return r.default.createElement("tr",{key:s+"_"+d,className:v.className,style:v.style},b,r.default.createElement("td",{className:"rbc-agenda-time-cell"},t.timeRangeLabel(e,n)),r.default.createElement("td",{className:"rbc-agenda-event-cell"},h?r.default.createElement(h,{event:n,title:m}):m))},[])},t.timeRangeLabel=function(e,a){var s=t.props,n=s.accessors,i=s.localizer,o="",l=s.components.time,c=i.messages.allDay,m=n.end(a),u=n.start(a);return n.allDay(a)||(d.default.eq(u,m,"day")?c=i.format({start:u,end:m},"agendaTimeRangeFormat"):d.default.eq(e,u,"day")?c=i.format(u,"agendaTimeFormat"):d.default.eq(e,m,"day")&&(c=i.format(m,"agendaTimeFormat"))),d.default.gt(e,u,"day")&&(o="rbc-continues-prior"),d.default.lt(e,m,"day")&&(o+=" rbc-continues-after"),r.default.createElement("span",{className:o.trim()},l?r.default.createElement(l,{event:a,day:e,label:c}):c)},t._adjustHeader=function(){if(t.refs.tbody){var e=t.refs.header,a=t.refs.tbody.firstChild;if(a){var s=t.refs.content.scrollHeight>t.refs.content.clientHeight,n=t._widths||[];t._widths=[(0,l.default)(a.children[0]),(0,l.default)(a.children[1])],n[0]===t._widths[0]&&n[1]===t._widths[1]||(t.refs.dateCol.style.width=t._widths[0]+"px",t.refs.timeCol.style.width=t._widths[1]+"px"),s?(o.default.addClass(e,"rbc-header-overflowing"),e.style.marginRight=(0,c.default)()+"px"):o.default.removeClass(e,"rbc-header-overflowing")}}},t}(0,n.default)(t,e);var a=t.prototype;return a.componentDidMount=function(){this._adjustHeader()},a.componentDidUpdate=function(){this._adjustHeader()},a.render=function(){var e=this,t=this.props,a=t.length,s=t.date,n=t.events,i=t.accessors,o=t.localizer.messages,l=d.default.add(s,a,"day"),c=d.default.range(s,l,"day");return(n=n.filter(function(e){return(0,u.inRange)(e,s,l,i)})).sort(function(e,t){return+i.start(e)-+i.start(t)}),r.default.createElement("div",{className:"rbc-agenda-view"},0!==n.length?r.default.createElement(r.default.Fragment,null,r.default.createElement("table",{ref:"header",className:"rbc-agenda-table"},r.default.createElement("thead",null,r.default.createElement("tr",null,r.default.createElement("th",{className:"rbc-header",ref:"dateCol"},o.date),r.default.createElement("th",{className:"rbc-header",ref:"timeCol"},o.time),r.default.createElement("th",{className:"rbc-header"},o.event)))),r.default.createElement("div",{className:"rbc-agenda-content",ref:"content"},r.default.createElement("table",{className:"rbc-agenda-table"},r.default.createElement("tbody",{ref:"tbody"},c.map(function(t,a){return e.renderDay(t,n,a)}))))):r.default.createElement("span",{className:"rbc-agenda-empty"},o.noEventsInRange))},t}(r.default.Component);h.propTypes={events:i.default.array,date:i.default.instanceOf(Date),length:i.default.number.isRequired,selected:i.default.object,accessors:i.default.object.isRequired,components:i.default.object.isRequired,getters:i.default.object.isRequired,localizer:i.default.object.isRequired},h.defaultProps={length:30},h.range=function(e,t){var a=t.length,s=void 0===a?h.defaultProps.length:a;return{start:e,end:d.default.add(e,s,"day")}},h.navigate=function(e,t,a){var s=a.length,n=void 0===s?h.defaultProps.length:s;switch(t){case m.navigate.PREVIOUS:return d.default.add(e,-n,"day");case m.navigate.NEXT:return d.default.add(e,n,"day");default:return e}},h.title=function(e,t){var a=t.length,s=void 0===a?h.defaultProps.length:a,n=t.localizer,i=d.default.add(e,s,"day");return n.format({start:e,end:i},"agendaHeaderFormat")};var g=h;t.default=g,e.exports=t.default},1337:function(e,t,a){"use strict";var s=a(35);t.__esModule=!0,t.default=void 0;var n=s(a(64)),i=s(a(3)),r=s(a(0)),o=s(a(43)),l=a(110),c=function(e){function t(){for(var t,a=arguments.length,s=new Array(a),n=0;n<a;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))||this).navigate=function(e){t.props.onNavigate(e)},t.view=function(e){t.props.onView(e)},t}(0,n.default)(t,e);var a=t.prototype;return a.render=function(){var e=this.props,t=e.localizer.messages,a=e.label;return r.default.createElement("div",{className:"rbc-toolbar"},r.default.createElement("span",{className:"rbc-btn-group"},r.default.createElement("button",{type:"button",onClick:this.navigate.bind(null,l.navigate.TODAY)},t.today),r.default.createElement("button",{type:"button",onClick:this.navigate.bind(null,l.navigate.PREVIOUS)},t.previous),r.default.createElement("button",{type:"button",onClick:this.navigate.bind(null,l.navigate.NEXT)},t.next)),r.default.createElement("span",{className:"rbc-toolbar-label"},a),r.default.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(t)))},a.viewNamesGroup=function(e){var t=this,a=this.props.views,s=this.props.view;if(a.length>1)return a.map(function(a){return r.default.createElement("button",{type:"button",key:a,className:(0,o.default)({"rbc-active":s===a}),onClick:t.view.bind(null,a)},e[a])})},t}(r.default.Component);c.propTypes={view:i.default.string.isRequired,views:i.default.arrayOf(i.default.string).isRequired,label:i.default.node.isRequired,localizer:i.default.object,onNavigate:i.default.func.isRequired,onView:i.default.func.isRequired};var d=c;t.default=d,e.exports=t.default},1365:function(e,t,a){"use strict";var s=a(35);t.__esModule=!0,t.default=void 0;var n=s(a(273)).default;t.default=n,e.exports=t.default},1366:function(e,t,a){"use strict";var s=a(35);t.__esModule=!0,t.default=function(e){return new i.DateLocalizer({formats:o,firstOfWeek:function(t){var a=t?e.localeData(t):e.localeData();return a?a.firstDayOfWeek():0},format:function(t,a,s){return(n=e(t),i=s,i?n.locale(i):n).format(a);var n,i}})},t.formats=void 0;var n=s(a(67)),i=a(268),r=function(e,t,a){var s=e.start,n=e.end;return a.format(s,"LT",t)+" \u2014 "+a.format(n,"LT",t)},o={dateFormat:"DD",dayFormat:"ddd DD",weekdayFormat:"ddd",selectRangeFormat:r,eventTimeRangeFormat:r,eventTimeRangeStartFormat:function(e,t,a){var s=e.start;return a.format(s,"LT",t)+" \u2014 "},eventTimeRangeEndFormat:function(e,t,a){var s=e.end;return" \u2014 "+a.format(s,"LT",t)},timeGutterFormat:"LT",monthHeaderFormat:"MMMM YYYY",dayHeaderFormat:"dddd MMM DD",dayRangeHeaderFormat:function(e,t,a){var s=e.start,i=e.end;return a.format(s,"MMMM DD",t)+" - "+a.format(i,n.default.eq(s,i,"month")?"DD":"MMMM DD",t)},agendaHeaderFormat:function(e,t,a){var s=e.start,n=e.end;return a.format(s,"L",t)+" \u2014 "+a.format(n,"L",t)},agendaDateFormat:"ddd MMM DD",agendaTimeFormat:"LT",agendaTimeRangeFormat:r};t.formats=o},1367:function(e,t,a){"use strict";var s=a(35);t.__esModule=!0,t.default=function(e){var t=function(t){return t?e(t):e};return e.load?new r.DateLocalizer({firstOfWeek:function(e){try{var a=t(e).cldr,s=a.attributes.territory,n=a.get("supplemental").weekData,i=n.firstDay[s||"001"];return["sun","mon","tue","wed","thu","fri","sat"].indexOf(i)}catch(l){var r=new Date,o=Math.max(parseInt(t(e).formatDate(r,{raw:"e"}),10)-1,0);return Math.abs(r.getDay()-o)}},formats:l,format:function(e,a,s){return a="string"===typeof a?{raw:a}:a,t(s).formatDate(e,a)}}):(0,i.default)(e)},t.formats=void 0;var n=s(a(67)),i=s(a(1368)),r=a(268),o=(s(a(81)),function(e,t,a){var s=e.start,n=e.end;return a.format(s,{time:"short"},t)+" \u2014 "+a.format(n,{time:"short"},t)}),l={dateFormat:"dd",dayFormat:"eee dd/MM",weekdayFormat:"eee",selectRangeFormat:o,eventTimeRangeFormat:o,eventTimeRangeStartFormat:function(e,t,a){var s=e.start;return a.format(s,{time:"short"},t)+" \u2014 "},eventTimeRangeEndFormat:function(e,t,a){var s=e.end;return" \u2014 "+a.format(s,{time:"short"},t)},timeGutterFormat:{time:"short"},monthHeaderFormat:"MMMM yyyy",dayHeaderFormat:"eeee MMM dd",dayRangeHeaderFormat:function(e,t,a){var s=e.start,i=e.end;return a.format(s,"MMM dd",t)+" \u2014 "+a.format(i,n.default.eq(s,i,"month")?"dd":"MMM dd",t)},agendaHeaderFormat:function(e,t,a){var s=e.start,n=e.end;return a.format(s,{date:"short"},t)+" \u2014 "+a.format(n,{date:"short"},t)},agendaDateFormat:"eee MMM dd",agendaTimeFormat:{time:"short"},agendaTimeRangeFormat:o};t.formats=l},1368:function(e,t,a){"use strict";var s=a(35);t.__esModule=!0,t.default=function(e){return new i.DateLocalizer({firstOfWeek:function(t){return(t=function(t){return t?e.findClosestCulture(t):e.culture()}(t))&&t.calendar.firstDay||0},formats:o,format:function(t,a,s){return e.format(t,a,s)}})},t.formats=void 0;var n=s(a(67)),i=a(268),r=function(e,t,a){var s=e.start,n=e.end;return a.format(s,"t",t)+" \u2014 "+a.format(n,"t",t)},o={dateFormat:"dd",dayFormat:"ddd dd/MM",weekdayFormat:"ddd",selectRangeFormat:r,eventTimeRangeFormat:r,eventTimeRangeStartFormat:function(e,t,a){var s=e.start;return a.format(s,"t",t)+" \u2014 "},eventTimeRangeEndFormat:function(e,t,a){var s=e.end;return" \u2014 "+a.format(s,"t",t)},timeGutterFormat:"t",monthHeaderFormat:"Y",dayHeaderFormat:"dddd MMM dd",dayRangeHeaderFormat:function(e,t,a){var s=e.start,i=e.end;return a.format(s,"MMM dd",t)+" - "+a.format(i,n.default.eq(s,i,"month")?"dd":"MMM dd",t)},agendaHeaderFormat:function(e,t,a){var s=e.start,n=e.end;return a.format(s,"d",t)+" \u2014 "+a.format(n,"d",t)},agendaDateFormat:"ddd MMM dd",agendaTimeFormat:"t",agendaTimeRangeFormat:r};t.formats=o},1369:function(e,t,a){"use strict";var s=a(35);t.__esModule=!0,t.default=function(e){var t=function(t){function a(){for(var e,a=arguments.length,s=new Array(a),n=0;n<a;n++)s[n]=arguments[n];(e=t.call.apply(t,[this].concat(s))||this).handleBeginAction=function(t,a,s){e.setState({event:t,action:a,direction:s})},e.handleInteractionStart=function(){!1===e.state.interacting&&e.setState({interacting:!0})},e.handleInteractionEnd=function(t){var a=e.state,s=a.action,n=a.event;s&&(e.setState({action:null,event:null,interacting:!1,direction:null}),null!=t&&(t.event=n,"move"===s&&e.props.onEventDrop(t),"resize"===s&&e.props.onEventResize(t)))};var i=e.props.components;return e.components=(0,h.mergeComponents)(i,{eventWrapper:m.default,eventContainerWrapper:u.default,weekWrapper:p.default}),e.state={interacting:!1},e}(0,r.default)(a,t);var s=a.prototype;return s.getChildContext=function(){return{draggable:{onStart:this.handleInteractionStart,onEnd:this.handleInteractionEnd,onBeginAction:this.handleBeginAction,draggableAccessor:this.props.draggableAccessor,resizableAccessor:this.props.resizableAccessor,dragAndDropAction:this.state}}},s.render=function(){var t=this.props,a=t.selectable,s=(0,i.default)(t,["selectable"]),r=this.state.interacting;return delete s.onEventDrop,delete s.onEventResize,s.selectable=!!a&&"ignoreEvents",s.className=(0,c.default)(s.className,"rbc-addons-dnd",!!r&&"rbc-addons-dnd-is-dragging"),l.default.createElement(e,(0,n.default)({},s,{components:this.components}))},a}(l.default.Component);return t.propTypes={onEventDrop:o.default.func,onEventResize:o.default.func,draggableAccessor:d.accessor,resizableAccessor:d.accessor,selectable:o.default.oneOf([!0,!1,"ignoreEvents"]),resizable:o.default.bool,components:o.default.object,step:o.default.number},t.defaultProps={components:{},draggableAccessor:null,resizableAccessor:null,step:30},t.contextTypes={dragDropManager:o.default.object},t.childContextTypes={draggable:o.default.shape({onStart:o.default.func,onEnd:o.default.func,onBeginAction:o.default.func,draggableAccessor:d.accessor,resizableAccessor:d.accessor,dragAndDropAction:o.default.object})},t};var n=s(a(62)),i=s(a(109)),r=s(a(64)),o=s(a(3)),l=s(a(0)),c=s(a(43)),d=a(365),m=s(a(1370)),u=s(a(1371)),p=s(a(1372)),h=a(381);e.exports=t.default},1370:function(e,t,a){"use strict";var s=a(35);t.__esModule=!0,t.default=void 0;var n=s(a(64)),i=s(a(3)),r=s(a(0)),o=s(a(43)),l=a(365),c=a(380),d=function(e){function t(){for(var t,a=arguments.length,s=new Array(a),n=0;n<a;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))||this).handleResizeUp=function(e){0===e.button&&(e.stopPropagation(),t.context.draggable.onBeginAction(t.props.event,"resize","UP"))},t.handleResizeDown=function(e){0===e.button&&(e.stopPropagation(),t.context.draggable.onBeginAction(t.props.event,"resize","DOWN"))},t.handleResizeLeft=function(e){0===e.button&&(e.stopPropagation(),t.context.draggable.onBeginAction(t.props.event,"resize","LEFT"))},t.handleResizeRight=function(e){0===e.button&&(e.stopPropagation(),t.context.draggable.onBeginAction(t.props.event,"resize","RIGHT"))},t.handleStartDragging=function(e){0===e.button&&t.context.draggable.onBeginAction(t.props.event,"move")},t}(0,n.default)(t,e);var a=t.prototype;return a.renderAnchor=function(e){var t="Up"===e||"Down"===e?"ns":"ew";return r.default.createElement("div",{className:"rbc-addons-dnd-resize-"+t+"-anchor",onMouseDown:this["handleResize"+e]},r.default.createElement("div",{className:"rbc-addons-dnd-resize-"+t+"-icon"}))},a.render=function(){var e=this.props,t=e.event,a=e.type,s=e.continuesPrior,n=e.continuesAfter,i=this.props.children;if(t.__isPreview)return r.default.cloneElement(i,{className:(0,o.default)(i.props.className,"rbc-addons-dnd-drag-preview")});var l=this.context.draggable,d=l.draggableAccessor,m=l.resizableAccessor,u=!d||!!(0,c.accessor)(t,d);if(!u)return i;var p=!m||!!(0,c.accessor)(t,m);if(p||u){var h={onMouseDown:this.handleStartDragging,onTouchStart:this.handleStartDragging};if(p){var g=null,_=null;"date"===a?(g=!s&&this.renderAnchor("Left"),_=!n&&this.renderAnchor("Right")):(g=!s&&this.renderAnchor("Up"),_=!n&&this.renderAnchor("Down")),h.children=r.default.createElement("div",{className:"rbc-addons-dnd-resizable"},g,i.props.children,_)}l.dragAndDropAction.interacting&&l.dragAndDropAction.event===t&&(h.className=(0,o.default)(i.props.className,"rbc-addons-dnd-dragged-event")),i=r.default.cloneElement(i,h)}return i},t}(r.default.Component);d.contextTypes={draggable:i.default.shape({onStart:i.default.func,onEnd:i.default.func,onBeginAction:i.default.func,draggableAccessor:l.accessor,resizableAccessor:l.accessor,dragAndDropAction:i.default.object})},d.propTypes={type:i.default.oneOf(["date","time"]),event:i.default.object.isRequired,draggable:i.default.bool,allDay:i.default.bool,isRow:i.default.bool,continuesPrior:i.default.bool,continuesAfter:i.default.bool,isDragging:i.default.bool,isResizing:i.default.bool};var m=d;t.default=m,e.exports=t.default},1371:function(e,t,a){"use strict";var s=a(135),n=a(35);t.__esModule=!0,t.default=void 0;var i=n(a(62)),r=n(a(64)),o=n(a(198)),l=n(a(3)),c=n(a(0)),d=n(a(67)),m=a(34),u=s(a(270)),p=n(a(589)),h=a(381),g=n(a(273)),_=function(e,t){var a=t.x,s=t.y,n=e.left,i=e.right,r=e.top;return a<i+10&&a>n&&s>r},v=function(e){function t(){for(var t,a=arguments.length,s=new Array(a),n=0;n<a;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))||this).handleMove=function(e,a){var s=t.context.draggable.dragAndDropAction.event,n=t.props,i=n.accessors,r=n.slotMetrics;if(_(a,e)){var o=r.closestSlotFromPoint({y:e.y-t.eventOffsetTop,x:e.x},a),l=i.start(s),c=i.end(s),m=d.default.add(o,d.default.diff(l,c,"minutes"),"minutes");t.update(s,r.getRange(o,m))}else t.reset()},t._selectable=function(){var e=(0,m.findDOMNode)((0,o.default)((0,o.default)(t))),a=t._selector=new u.default(function(){return e.closest(".rbc-time-view")});a.on("beforeSelect",function(a){var s=t.context.draggable.dragAndDropAction;if(!s.action)return!1;if("resize"===s.action)return _((0,u.getBoundsForNode)(e),a);var n=(0,u.getEventNodeFromPoint)(e,a);if(!n)return!1;t.eventOffsetTop=a.y-(0,u.getBoundsForNode)(n).top}),a.on("selecting",function(a){var s=(0,u.getBoundsForNode)(e),n=t.context.draggable.dragAndDropAction;"move"===n.action&&t.handleMove(a,s),"resize"===n.action&&t.handleResize(a,s)}),a.on("selectStart",function(){return t.context.draggable.onStart()}),a.on("select",function(a){var s=(0,u.getBoundsForNode)(e);t.state.event&&_(s,a)&&t.handleInteractionEnd()}),a.on("click",function(){return t.context.draggable.onEnd(null)}),a.on("reset",function(){t.reset(),t.context.draggable.onEnd(null)})},t.handleInteractionEnd=function(){var e=t.props.resource,a=t.state.event;t.reset(),t.context.draggable.onEnd({start:a.start,end:a.end,resourceId:e})},t._teardownSelectable=function(){t._selector&&(t._selector.teardown(),t._selector=null)},t.state={},t}(0,r.default)(t,e);var a=t.prototype;return a.componentDidMount=function(){this._selectable()},a.componentWillUnmount=function(){this._teardownSelectable()},a.reset=function(){this.state.event&&this.setState({event:null,top:null,height:null})},a.update=function(e,t){var a=t.startDate,s=t.endDate,n=t.top,r=t.height,o=this.state.event;o&&a===o.start&&s===o.end||this.setState({top:n,height:r,event:(0,i.default)({},e,{start:a,end:s})})},a.handleResize=function(e,t){var a,s,n=this.props,i=n.accessors,r=n.slotMetrics,o=this.context.draggable.dragAndDropAction,l=o.event,c=o.direction,m=r.closestSlotFromPoint(e,t);"UP"===c?(s=i.end(l),a=d.default.min(m,r.closestSlotFromDate(s,-1))):"DOWN"===c&&(a=i.start(l),s=d.default.max(m,r.closestSlotFromDate(a))),this.update(l,r.getRange(a,s))},a.render=function(){var e=this.props,t=e.children,a=e.accessors,s=e.components,n=e.getters,r=e.slotMetrics,o=e.localizer,l=this.state,d=l.event,m=l.top,u=l.height;if(!d)return t;var _,v=t.props.children,f=d.start,b=d.end,E="eventTimeRangeFormat",y=r.startsBeforeDay(f),N=r.startsAfterDay(b);return y?E="eventTimeRangeEndFormat":N&&(E="eventTimeRangeStartFormat"),_=y&&N?o.messages.allDay:o.format({start:f,end:b},E),c.default.cloneElement(t,{children:c.default.createElement(c.default.Fragment,null,v,d&&c.default.createElement(p.default,{event:d,label:_,className:"rbc-addons-dnd-drag-preview",style:{top:m,height:u,width:100},getters:n,components:(0,i.default)({},s,{eventWrapper:g.default}),accessors:(0,i.default)({},a,h.dragAccessors),continuesEarlier:y,continuesLater:N}))})},t}(c.default.Component);v.propTypes={accessors:l.default.object.isRequired,components:l.default.object.isRequired,getters:l.default.object.isRequired,localizer:l.default.object.isRequired,slotMetrics:l.default.object.isRequired,resource:l.default.any},v.contextTypes={draggable:l.default.shape({onStart:l.default.func,onEnd:l.default.func,onBeginAction:l.default.func,dragAndDropAction:l.default.object})},v.propTypes={};var f=v;t.default=f,e.exports=t.default},1372:function(e,t,a){"use strict";var s=a(135),n=a(35);t.__esModule=!0,t.default=void 0;var i=n(a(62)),r=n(a(64)),o=n(a(198)),l=n(a(3)),c=n(a(0)),d=n(a(67)),m=a(167),u=a(34),p=a(168),h=s(a(270)),g=n(a(575)),_=a(381),v=function(e){function t(){for(var t,a=arguments.length,s=new Array(a),n=0;n<a;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))||this).handleMove=function(e,a){var s=e.x,n=e.y,i=t.context.draggable.dragAndDropAction.event,r=t.props.slotMetrics,o=t.props.accessors;if(i){var l=(0,h.getBoundsForNode)(a);if((0,m.pointInBox)(l,{x:s,y:n})){var c=d.default.merge(r.getDateForSlot((0,m.getSlotAtX)(l,s,!1,r.slots)),o.start(i)),u=d.default.add(c,d.default.diff(o.start(i),o.end(i),"minutes"),"minutes");t.update(i,c,u)}else t.reset()}},t._selectable=function(){var e=(0,u.findDOMNode)((0,o.default)((0,o.default)(t))).closest(".rbc-month-row, .rbc-allday-cell"),a=e.closest(".rbc-month-view, .rbc-time-view"),s=t._selector=new h.default(function(){return a});s.on("beforeSelect",function(a){var s=t.props.isAllDay,n=t.context.draggable.dragAndDropAction.action;return"move"===n||"resize"===n&&(!s||(0,m.pointInBox)((0,h.getBoundsForNode)(e),a))}),s.on("selecting",function(a){var s=(0,h.getBoundsForNode)(e),n=t.context.draggable.dragAndDropAction;"move"===n.action&&t.handleMove(a,s),"resize"===n.action&&t.handleResize(a,s)}),s.on("selectStart",function(){return t.context.draggable.onStart()}),s.on("select",function(a){var s=(0,h.getBoundsForNode)(e);t.state.segment&&(0,m.pointInBox)(s,a)&&t.handleInteractionEnd()}),s.on("click",function(){return t.context.draggable.onEnd(null)})},t.handleInteractionEnd=function(){var e=t.props,a=e.resourceId,s=e.isAllDay,n=t.state.segment.event;t.reset(),t.context.draggable.onEnd({start:n.start,end:n.end,resourceId:a,isAllDay:s})},t._teardownSelectable=function(){t._selector&&(t._selector.teardown(),t._selector=null)},t.state={},t}(0,r.default)(t,e);var a=t.prototype;return a.componentDidMount=function(){this._selectable()},a.componentWillUnmount=function(){this._teardownSelectable()},a.reset=function(){this.state.segment&&this.setState({segment:null})},a.update=function(e,t,a){var s=(0,p.eventSegments)((0,i.default)({},e,{end:a,start:t,__isPreview:!0}),this.props.slotMetrics.range,_.dragAccessors),n=this.state.segment;n&&s.span===n.span&&s.left===n.left&&s.right===n.right||this.setState({segment:s})},a.handleResize=function(e,t){var a=this.context.draggable.dragAndDropAction,s=a.event,n=a.direction,i=this.props,r=i.accessors,o=i.slotMetrics,l=function(e,t){var a=t.start(e),s=t.end(e);return d.default.eq(a,s,"minutes")&&0===a.getMinutes()&&(s=d.default.add(s,1,"day")),{start:a,end:s}}(s,r),c=l.start,u=l.end,p=(0,h.getBoundsForNode)(t),g=(0,m.pointInBox)(p,e);if("RIGHT"===n){if(g){if(o.last<c)return this.reset();u=d.default.add(o.getDateForSlot((0,m.getSlotAtX)(p,e.x,!1,o.slots)),1,"day")}else{if(!(d.default.inRange(c,o.first,o.last)||p.bottom<e.y&&+o.first>+c))return void this.setState({segment:null});u=d.default.add(o.last,1,"milliseconds")}u=d.default.max(u,d.default.add(c,1,"day"))}else if("LEFT"===n){if(g){if(o.first>u)return this.reset();c=o.getDateForSlot((0,m.getSlotAtX)(p,e.x,!1,o.slots))}else{if(!(d.default.inRange(u,o.first,o.last)||p.top>e.y&&+o.last<+u))return void this.reset();c=d.default.add(o.first,-1,"milliseconds")}c=d.default.min(d.default.add(u,-1,"day"),c)}this.update(s,c,u)},a.render=function(){var e=this.props,t=e.children,a=e.accessors,s=this.state.segment;return c.default.createElement("div",{className:"rbc-addons-dnd-row-body"},t,s&&c.default.createElement(g.default,(0,i.default)({},this.props,{selected:null,className:"rbc-addons-dnd-drag-row",segments:[s],accessors:(0,i.default)({},a,_.dragAccessors)})))},t}(c.default.Component);v.propTypes={isAllDay:l.default.bool,slotMetrics:l.default.object.isRequired,accessors:l.default.object.isRequired,getters:l.default.object.isRequired,components:l.default.object.isRequired,resourceId:l.default.any},v.contextTypes={draggable:l.default.shape({onStart:l.default.func,onEnd:l.default.func,dragAndDropAction:l.default.object,onBeginAction:l.default.func})},v.propTypes={};var f=v;t.default=f,e.exports=t.default},1419:function(e,t){},1420:function(e,t){},1469:function(e,t){},1471:function(e,t){},1509:function(e,t){},1510:function(e,t){},1572:function(e,t){},166:function(e,t,a){"use strict";t.__esModule=!0,t.notify=function(e,t){e&&e.apply(null,[].concat(t))},t.instanceId=function(e,t){void 0===t&&(t="");return e.__id||(e.__id=(a="rw_",""+((null==a?"":a)+ ++s))),(e.props.id||e.__id)+t;var a},t.isFirstFocusedRender=function(e){return e._firstFocus||e.state.focused&&(e._firstFocus=!0)};var s=0},167:function(e,t,a){"use strict";function s(e,t){return(e.right-e.left)/t}function n(e,t,a,n){var i=s(e,n);return a?n-1-Math.floor((t-e.left)/i):Math.floor((t-e.left)/i)}t.__esModule=!0,t.isSelected=function(e,t){return!(!e||null==t)&&-1!==[].concat(t).indexOf(e)},t.slotWidth=s,t.getSlotAtX=n,t.pointInBox=function(e,t){var a=t.x,s=t.y;return s>=e.top&&s<=e.bottom&&a>=e.left&&a<=e.right},t.dateCellSelection=function(e,t,a,i,r){var o=-1,l=-1,c=i-1,d=s(t,i),m=n(t,a.x,r,i),u=t.top<a.y&&t.bottom>a.y,p=t.top<e.y&&t.bottom>e.y,h=e.y>t.bottom,g=t.top>e.y;a.top<t.top&&a.bottom>t.bottom&&(o=0,l=c);u&&(g?(o=0,l=m):h&&(o=m,l=c));p&&(o=l=r?c-Math.floor((e.x-t.left)/d):Math.floor((e.x-t.left)/d),u?m<o?o=m:l=m:e.y<a.y?l=c:o=0);return{startIdx:o,endIdx:l}}},168:function(e,t,a){"use strict";var s=a(35);t.__esModule=!0,t.endOfRange=r,t.eventSegments=function(e,t,a){var s=r(t),o=s.first,l=s.last,c=i.default.diff(o,l,"day"),d=i.default.max(i.default.startOf(a.start(e),"day"),o),m=i.default.min(i.default.ceil(a.end(e),"day"),l),u=(0,n.default)(t,function(e){return i.default.eq(e,d,"day")}),p=i.default.diff(d,m,"day");return p=Math.min(p,c),p=Math.max(p,1),{event:e,span:p,left:u+1,right:Math.max(u+p,1)}},t.eventLevels=function(e,t){void 0===t&&(t=1/0);var a,s,n,i=[],r=[];for(a=0;a<e.length;a++){for(n=e[a],s=0;s<i.length&&o(n,i[s]);s++);s>=t?r.push(n):(i[s]||(i[s]=[])).push(n)}for(a=0;a<i.length;a++)i[a].sort(function(e,t){return e.left-t.left});return{levels:i,extra:r}},t.inRange=function(e,t,a,s){var n=i.default.startOf(s.start(e),"day"),r=s.end(e),o=i.default.lte(n,a,"day"),l=i.default.eq(n,r,"minutes")?i.default.gte(r,t,"minutes"):i.default.gt(r,t,"minutes");return o&&l},t.segsOverlap=o,t.sortEvents=function(e,t,a){var s=+i.default.startOf(a.start(e),"day")-+i.default.startOf(a.start(t),"day"),n=i.default.diff(a.start(e),i.default.ceil(a.end(e),"day"),"day"),r=i.default.diff(a.start(t),i.default.ceil(a.end(t),"day"),"day");return s||Math.max(r,1)-Math.max(n,1)||!!a.allDay(t)-!!a.allDay(e)||+a.start(e)-+a.start(t)};var n=s(a(1286)),i=s(a(67));function r(e,t){return void 0===t&&(t="day"),{first:e[0],last:i.default.add(e[e.length-1],1,t)}}function o(e,t){return t.some(function(t){return t.left<=e.right&&t.right>=e.left})}},1940:function(e,t,a){"use strict";a.r(t);var s=a(320),n=a(0),i=a.n(n),r=(a(830),a(34)),o=a.n(r),l=(a(834),a(780)),c=a(10),d=a(781),m=a(4),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:"",status:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CALL_START":return{};case"REGISTER_SUCCESSFULL":case"RECEIVE_ERROR":return Object(m.a)({},e,{data:t.payload,action:"REGISTER"});case"RECEIVE_USER_LIST":case"RECEIVE_ERROR_USER_LIST":return Object(m.a)({},e,{data:t.payload,action:""});case"LOGIN_SUCCESSFULL":case"LOGIN_ERROR":return Object(m.a)({},e,{Logindata:t.payload,action:"LOGIN"});case"CONTACT_SUCCESSFULL":case"CONTACT_ERROR":return Object(m.a)({},e,{Contactdata:t.payload,action:"CONTACT_FORM_SUBMIT"});case"FORGOT_PASSWORD_SUCCESSFULL":case"FORGOT_PASSWORD_ERROR":return Object(m.a)({},e,{data:t.payload,action:"FORGOT_PASSWORD"});case"RESET_PASSWORD_SUCCESSFULL":case"RESET_PASSWORD_ERROR":return Object(m.a)({},e,{data:t.payload,action:"RESET_PASSWORD"});case"PLANS_SUCCESSFULL":case"PLANS_ERROR":return Object(m.a)({},e,{planData:t.payload,action:"PLAN_DATA"});case"BLOGLIST_SUCCESSFULL":case"BLOGLIST_ERROR":return Object(m.a)({},e,{blogData:t.payload,action:"BLOG_LIST"});case"BLOGSINGLE_SUCCESSFULL":case"BLOGSINGLE_ERROR":return Object(m.a)({},e,{blogData:t.payload,action:"BLOG_SINGLE"});case"BLOG_LIST_FOOTER":return Object(m.a)({},e,{blogData:t.payload,action:"BLOG_LIST_FOOTER"});case"PAYMENT_SUCCESSFULL":case"PAYMENT_ERROR":return Object(m.a)({},e,{data:t.payload,action:"PLAN_PAYMENT"});case"GET_PROFILE":return Object(m.a)({},e,{data:t.payload,action:"GET_PROFILE"});case"UPDATE_PROFILE":return Object(m.a)({},e,{data:t.payload,action:"UPDATE_PROFILE"});case"GET_PAGE":return Object(m.a)({},e,{data:t.payload,action:"GET_PAGE"});case"APP_SETTING":return Object(m.a)({},e,{data:t.payload,action:"APP_SETTING"});case"APP_MENUS":return Object(m.a)({},e,{data:t.payload,action:"APP_MENUS"});case"APP_FOOTER":return Object(m.a)({},e,{footerData:t.payload,action:"APP_FOOTER"});case"DO_AUTO_LOGIN":return Object(m.a)({},e,{footerData:t.payload,action:"DO_AUTO_LOGIN"});case"VERIFY_OTP":return Object(m.a)({},e,{data:t.payload,action:"VERIFY_OTP"});default:return e}},p={action:""},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MDRoom_LIST":return Object(m.a)({},e,{data:t.payload,action:"MDRoom_LIST"});case"UPDATE_MEMBERSHIP_WALLET_LIST":return Object(m.a)({},e,{data:t.payload,action:"UPDATE_MEMBERSHIP_WALLET_LIST"});case"UPDATE_CANCELLATION_POLICY":return Object(m.a)({},e,{data:t.payload,action:"UPDATE_CANCELLATION_POLICY"});case"GET_CANCELLATION_POLICY":return Object(m.a)({},e,{data:t.payload,action:"GET_CANCELLATION_POLICY"});case"CANCELLATION_POLICY_STATUS":return Object(m.a)({},e,{data:t.payload,action:"CANCELLATION_POLICY_STATUS"});case"UPDATE_PATIENT_PORTAL":return Object(m.a)({},e,{data:t.payload,action:"UPDATE_PATIENT_PORTAL"});case"GET_PATIENT_PORTAL":return Object(m.a)({},e,{data:t.payload,action:"GET_PATIENT_PORTAL"});case"CREATE_QUESTIONNAIRES":return Object(m.a)({},e,{data:t.payload,action:"CREATE_QUESTIONNAIRES"});case"CREATE_QUESTION":return Object(m.a)({},e,{data:t.payload,action:"CREATE_QUESTION"});case"GET_MEMBERSHIP_WALLET_LIST":return Object(m.a)({},e,{data:t.payload,action:"GET_MEMBERSHIP_WALLET_LIST"});case"UPDATE_BOOKING_URL_LIST":return Object(m.a)({},e,{data:t.payload,action:"UPDATE_BOOKING_URL_LIST"});case"GET_BOOKING_URL_LIST":return Object(m.a)({},e,{data:t.payload,action:"GET_BOOKING_URL_LIST"});case"GET_EDIT_APPOINTMENT_REMINDER":return Object(m.a)({},e,{data:t.payload,action:"GET_EDIT_APPOINTMENT_REMINDER"});case"CREATE_APPOINTMENT_REMINDER":return Object(m.a)({},e,{data:t.payload,action:"CREATE_APPOINTMENT_REMINDER"});case"UPDATE_APPOINTMENT_REMINDER":return Object(m.a)({},e,{data:t.payload,action:"UPDATE_APPOINTMENT_REMINDER"});case"DELETE_APPOINTMENT_REMINDER":return Object(m.a)({},e,{data:t.payload,action:"DELETE_APPOINTMENT_REMINDER"});case"APPOINTMENT_REMINDER":return Object(m.a)({},e,{data:t.payload,action:"APPOINTMENT_REMINDER"});case"MDS_LIST":return Object(m.a)({},e,{data:t.payload,action:"MDS_LIST"});case"APPOINTMENT_GET":return Object(m.a)({},e,{data:t.payload,action:"APPOINTMENT_GET"});case"POST_TREATMENT_INSTRUCTIONS_LIST":return Object(m.a)({},e,{data:t.payload,action:"POST_TREATMENT_INSTRUCTIONS_LIST"});case"CREATE_POST_TREATMENT_INSTRUCTIONS_LIST":return Object(m.a)({},e,{data:t.payload,action:"CREATE_POST_TREATMENT_INSTRUCTIONS_LIST"});case"SELECTED_POST_TREATMENT_INSTRUCTIONS_LIST":return Object(m.a)({},e,{data:t.payload,action:"SELECTED_POST_TREATMENT_INSTRUCTIONS_LIST"});case"UPDATE_POST_TREATMENT_INSTRUCTIONS_LIST":return Object(m.a)({},e,{data:t.payload,action:"UPDATE_POST_TREATMENT_INSTRUCTIONS_LIST"});case"PRE_TREATMENT_INSTRUCTIONS_LIST":return Object(m.a)({},e,{data:t.payload,action:"PRE_TREATMENT_INSTRUCTIONS_LIST"});case"CREATE_PRE_TREATMENT_INSTRUCTIONS_LIST":return Object(m.a)({},e,{data:t.payload,action:"CREATE_PRE_TREATMENT_INSTRUCTIONS_LIST"});case"SELECTED_PRE_TREATMENT_INSTRUCTIONS_LIST":return Object(m.a)({},e,{data:t.payload,action:"SELECTED_PRE_TREATMENT_INSTRUCTIONS_LIST"});case"UPDATE_PRE_TREATMENT_INSTRUCTIONS_LIST":return Object(m.a)({},e,{data:t.payload,action:"UPDATE_PRE_TREATMENT_INSTRUCTIONS_LIST"});case"DELETE_PRE_TREATMENT_INSTRUCTIONS_LIST":return Object(m.a)({},e,{data:t.payload,action:"DELETE_PRE_TREATMENT_INSTRUCTIONS_LIST"});case"DELETE_POST_TREATMENT_INSTRUCTIONS_LIST":return Object(m.a)({},e,{data:t.payload,action:"DELETE_POST_TREATMENT_INSTRUCTIONS_LIST"});case"PRE_TREATMENT_EMAIL_LIST":return Object(m.a)({},e,{data:t.payload,action:"PRE_TREATMENT_EMAIL_LIST"});case"POST_TREATMENT_EMAIL_LIST":return Object(m.a)({},e,{data:t.payload,action:"POST_TREATMENT_EMAIL_LIST"});case"POST_TREATMENT_EMAIL_UPDATE":return Object(m.a)({},e,{data:t.payload,action:"POST_TREATMENT_EMAIL_UPDATE"});case"PRE_TREATMENT_EMAIL_UPDATE":return Object(m.a)({},e,{data:t.payload,action:"PRE_TREATMENT_EMAIL_UPDATE"});case"APPOINTMENT_UPDATE":return Object(m.a)({},e,{data:t.payload,action:"APPOINTMENT_UPDATE"});case"APPOINTMENT_GET":return Object(m.a)({},e,{data:t.payload,action:"APPOINTMENT_GET"});case"QUESTIONNAIRES_LIST":return Object(m.a)({},e,{data:t.payload,action:"QUESTIONNAIRES_LIST"});case"FILE_UPLOADED":return Object(m.a)({},e,{data:t.payload,action:"FILE_UPLOADED"});case"POST_TREATMENT_EMAIL":return Object(m.a)({},e,{data:t.payload,action:"POST_TREATMENT_EMAIL"});case"USERS_LIST":return Object(m.a)({},e,{data:t.payload,action:"USERS_LIST"});case"USER_CREATE":return Object(m.a)({},e,{data:t.payload,action:"USER_CREATE"});case"USER_UPDATE":return Object(m.a)({},e,{data:t.payload,action:"USER_UPDATE"});case"PROFILE_UPDATE":return Object(m.a)({},e,{data:t.payload,action:"PROFILE_UPDATE"});case"USER_PROFILE":return Object(m.a)({},e,{data:t.payload,action:"USER_PROFILE"});case"USER_GET":return Object(m.a)({},e,{data:t.payload,action:"USER_GET"});case"PROFILE_GET":return Object(m.a)({},e,{data:t.payload,action:"PROFILE_GET"});case"SORT_ORDER_UPDATE":return Object(m.a)({},e,{data:t.payload,action:"SORT_ORDER_UPDATE"});case"PRIVILEGE_LIST":return Object(m.a)({},e,{data:t.payload,action:"PRIVILEGE_LIST"});case"PRIVILEGE_UPDATE":return Object(m.a)({},e,{data:t.payload,action:"PRIVILEGE_UPDATE"});case"BASE64_UPLOAD":return Object(m.a)({},e,{data:t.payload,action:"BASE64_UPLOAD"});case"CONSENTS_LIST":return Object(m.a)({},e,{data:t.payload,action:"CONSENTS_LIST"});case"SELECTED_CONSENTS_LIST":return Object(m.a)({},e,{data:t.payload,action:"SELECTED_CONSENTS_LIST"});case"CREATE_CONSENTS":return Object(m.a)({},e,{data:t.payload,action:"CREATE_CONSENTS"});case"UPDATE_SELECTED_CONSENTS":return Object(m.a)({},e,{data:t.payload,action:"UPDATE_SELECTED_CONSENTS"});case"CONSENT_DELETED":return Object(m.a)({},e,{data:t.payload,action:"CONSENT_DELETED"});case"ACTIVATE_PATIENT_PORTAL":return Object(m.a)({},e,{data:t.payload,action:"ACTIVATE_PATIENT_PORTAL"});case"UPDATE_PATIENT_PORTAL":return Object(m.a)({},e,{data:t.payload,action:"UPDATE_PATIENT_PORTAL"});case"GET_PATIENT_PORTAL":return Object(m.a)({},e,{data:t.payload,action:"GET_PATIENT_PORTAL"});case"CREATE_QUESTIONNAIRES":return Object(m.a)({},e,{data:t.payload,action:"CREATE_QUESTIONNAIRES"});case"UPDATE_QUESTIONNAIRES":return Object(m.a)({},e,{data:t.payload,action:"UPDATE_QUESTIONNAIRES"});case"GET_QUESTIONNAIRE":return Object(m.a)({},e,{data:t.payload,action:"GET_QUESTIONNAIRE"});case"GET_QUESTION":return Object(m.a)({},e,{data:t.payload,action:"GET_QUESTION"});case"USER_PRIVILEGE_UPDATE":return Object(m.a)({},e,{data:t.payload,action:"USER_PRIVILEGE_UPDATE"});case"QUESTION_DELETED":return Object(m.a)({},e,{data:t.payload,action:"QUESTION_DELETED"});case"QUESTIONNAIRE_DELETED":return Object(m.a)({},e,{data:t.payload,action:"QUESTIONNAIRE_DELETED"});case"UPDATE_PROCEDURE_QUESTIONNAIRE":return Object(m.a)({},e,{data:t.payload,action:"UPDATE_PROCEDURE_QUESTIONNAIRE"});case"UPDATE_QUESTION":return Object(m.a)({},e,{data:t.payload,action:"UPDATE_QUESTION"});case"USER_2FA_GET":return Object(m.a)({},e,{data:t.payload,action:"USER_2FA_GET"});case"USER_2FA_DISABLED":return Object(m.a)({},e,{data:t.payload,action:"USER_2FA_DISABLED"});case"GOOGLE_2FA_GET":return Object(m.a)({},e,{data:t.payload,action:"GOOGLE_2FA_GET"});case"GOOGLE_2FA_VERIFY":return Object(m.a)({},e,{data:t.payload,action:"GOOGLE_2FA_VERIFY"});case"SEND_OTP":return Object(m.a)({},e,{data:t.payload,action:"SEND_OTP"});case"VERIFY_OTP":return Object(m.a)({},e,{data:t.payload,action:"VERIFY_OTP"});case"EMPTY_DATA":return Object(m.a)({},e,{data:t.payload,action:"EMPTY_DATA"});case"UPDATE_ERROR":return Object(m.a)({},e,{data:t.payload,action:"UPDATE_PROPERTY"});case"DELETE_SUCCESS":case"DELETE_ERROR":return Object(m.a)({},e,{data:t.payload,action:"DELETE_PROPERTY"});case"WELCOME_SUCCESS":case"WELCOME_ERROR":return Object(m.a)({},e,{data:t.payload,action:"WELCOME_PROPERTY"});case"ADD_NOTE":return Object(m.a)({},e,{data:t.payload,action:"ADD_NOTE"});case"NOTES_LIST":return Object(m.a)({},e,{data:t.payload,action:"NOTES_LIST"});case"GET_NOTE":return Object(m.a)({},e,{data:t.payload,action:"GET_NOTE"});case"UPDATE_NOTE":return Object(m.a)({},e,{data:t.payload,action:"UPDATE_NOTE"});case"DELETE_NOTE":return Object(m.a)({},e,{data:t.payload,action:"DELETE_NOTE"});case"ADD_GETHERE":return Object(m.a)({},e,{data:t.payload,action:"ADD_GETHERE"});case"GETHERE_LIST":return Object(m.a)({},e,{data:t.payload,action:"GETHERE_LIST"});case"GET_HERE":return Object(m.a)({},e,{data:t.payload,action:"GET_HERE"});case"UPDATE_GETHERE":return Object(m.a)({},e,{data:t.payload,action:"UPDATE_GETHERE"});case"DELETE_GETHERE":return Object(m.a)({},e,{data:t.payload,action:"DELETE_GETHERE"});case"CHECKINS_LIST":return Object(m.a)({},e,{data:t.payload,action:"CHECKINS_LIST"});case"CSV_DOWNLOAD":return Object(m.a)({},e,{data:t.payload,action:"CSV_DOWNLOAD"});case"CHECKINS_DETAILS":return Object(m.a)({},e,{data:t.payload,action:"CHECKINS_DETAILS"});case"BREADCRUMB":return Object(m.a)({},e,{data:t.payload,action:"BREADCRUMB"});case"CHECKINS_CHART":return Object(m.a)({},e,{data:t.payload,action:"CHECKINS_CHART"});case"SERVICE_CHART":return Object(m.a)({},e,{data:t.payload,action:"SERVICE_CHART"});case"REMOVE_WELCOME_IMAGE":return Object(m.a)({},e,{data:t.payload,action:"REMOVE_WELCOME_IMAGE"});case"DASH_CONTENT":return Object(m.a)({},e,{data:t.payload,action:"DASH_CONTENT"});case"ACCOUNT_GET":return Object(m.a)({},e,{data:t.payload,action:"ACCOUNT_GET"});case"ACCOUNT_PUT":return Object(m.a)({},e,{data:t.payload,action:"ACCOUNT_PUT"});case"SETTING_SIDEBAR_TEXT":return Object(m.a)({},e,{data:t.payload,action:"SETTING_SIDEBAR_TEXT"});case"ProviderRoom_LIST":return Object(m.a)({},e,{data:t.payload,action:"ProviderRoom_LIST"});case"userRoomData_LIST":return Object(m.a)({},e,{data:t.payload,action:"userRoomData_LIST"});case"SETTING_DELETE_PROCEDURE_NOTE":return Object(m.a)({},e,{data:t.payload,action:"SETTING_DELETE_PROCEDURE_NOTE"});case"SIGN_PROCEDURE":return Object(m.a)({},e,{data:t.payload,action:"SIGN_PROCEDURE"});case"MARK_UNMARK_AFTER_PHOTOS":return Object(m.a)({},e,{data:t.payload,action:"MARK_UNMARK_AFTER_PHOTOS"});case"HIDE_MARK_AFTER_PHOTOS":return Object(m.a)({},e,{data:t.payload,action:"HIDE_MARK_AFTER_PHOTOS"});case"CLINIC_LIST":return Object(m.a)({},e,{data:t.payload,action:"CLINIC_LIST"});case"PROCEDURE_QUESTIONNAIRE":return Object(m.a)({},e,{data:t.payload,action:"PROCEDURE_QUESTIONNAIRE"});case"PROCEDURE_CONSENTS":return Object(m.a)({},e,{data:t.payload,action:"PROCEDURE_CONSENTS"});case"UPDATE_QUESTIONNAIRES":return Object(m.a)({},e,{data:t.payload,action:"UPDATE_QUESTIONNAIRES"});case"USER_DELETE":return Object(m.a)({},e,{data:t.payload,action:"USER_DELETE"});case"SUBSCRIPTION_INVOICE_LIST":return Object(m.a)({},e,{data:t.payload,action:"SUBSCRIPTION_INVOICE_LIST"});case"SUBSCRIPTION_INVOICE_DATA":return Object(m.a)({},e,{data:t.payload,action:"SUBSCRIPTION_INVOICE_DATA"});case"PAY_LAST_DUE_INVOICE":return Object(m.a)({},e,{data:t.payload,action:"PAY_LAST_DUE_INVOICE"});case"SUBSCRIPTION_DETAILS":return Object(m.a)({},e,{data:t.payload,action:"SUBSCRIPTION_DETAILS"});case"SUBSCRIPTION_ADD_ON":return Object(m.a)({},e,{data:t.payload,action:"SUBSCRIPTION_ADD_ON"});case"SUBSCRIPTION_CANCEL_REACTIVATE":return Object(m.a)({},e,{data:t.payload,action:"SUBSCRIPTION_CANCEL_REACTIVATE"});case"SUBSCRIPTION_UPDATE_CARD":return Object(m.a)({},e,{data:t.payload,action:"SUBSCRIPTION_UPDATE_CARD"});case"SUBSCRIPTION_AUTO_REFILL":return Object(m.a)({},e,{data:t.payload,action:"SUBSCRIPTION_AUTO_REFILL"});case"SUBSCRIPTION_UPGRADE_ACCOUNT":return Object(m.a)({},e,{data:t.payload,action:"SUBSCRIPTION_UPGRADE_ACCOUNT"});case"SUBSCRIPTION_MONTHLY_TO_YEARLY_ESTIMATE":return Object(m.a)({},e,{data:t.payload,action:"SUBSCRIPTION_MONTHLY_TO_YEARLY_ESTIMATE"});case"SUBSCRIPTION_MONTHLY_TO_YEARLY_UPGRADE":return Object(m.a)({},e,{data:t.payload,action:"SUBSCRIPTION_MONTHLY_TO_YEARLY_UPGRADE"});case"RECENTLY_DELETED_LIST":return Object(m.a)({},e,{data:t.payload,action:"RECENTLY_DELETED_LIST"});case"RECENTLY_DELETED_RESTORE":return Object(m.a)({},e,{data:t.payload,action:"RECENTLY_DELETED_RESTORE"});case"POS_DASHBOARD_DATA":return Object(m.a)({},e,{data:t.payload,action:"POS_DASHBOARD_DATA"});case"POS_DASHBOARD_FILTER_DATA":return Object(m.a)({},e,{data:t.payload,action:"POS_DASHBOARD_FILTER_DATA"});case"GET_POS_DASHBOARD_VERIFICATION":return Object(m.a)({},e,{data:t.payload,action:"GET_POS_DASHBOARD_VERIFICATION"});case"SAVE_POS_DASHBOARD_VERIFICATION":return Object(m.a)({},e,{data:t.payload,action:"SAVE_POS_DASHBOARD_VERIFICATION"});case"POS_PAYMENT_LIST":return Object(m.a)({},e,{data:t.payload,action:"POS_PAYMENT_LIST"});case"POS_PAYOUT_LIST":return Object(m.a)({},e,{data:t.payload,action:"POS_PAYOUT_LIST"});case"POS_PAYMENT_PAYOUT_EXPORT":return Object(m.a)({},e,{data:t.payload,action:"POS_PAYMENT_PAYOUT_EXPORT"});case"POS_DISPUTE_LIST":return Object(m.a)({},e,{data:t.payload,action:"POS_DISPUTE_LIST"});case"POS_PAYOUT_DATA":return Object(m.a)({},e,{data:t.payload,action:"POS_PAYOUT_DATA"});case"POS_DISPUTE_SETTING_GET":return Object(m.a)({},e,{data:t.payload,action:"POS_DISPUTE_SETTING_GET"});case"POS_DISPUTE_SETTING_POST":return Object(m.a)({},e,{data:t.payload,action:"POS_DISPUTE_SETTING_POST"});case"POS_PAYOUT_BANK_LIST":return Object(m.a)({},e,{data:t.payload,action:"POS_PAYOUT_BANK_LIST"});case"POS_PAYOUT_NEW":return Object(m.a)({},e,{data:t.payload,action:"POS_PAYOUT_NEW"});case"GET_POS_DATA":return Object(m.a)({},e,{data:t.payload,action:"GET_POS_DATA"});case"CHANGE_POS_STATUS":return Object(m.a)({},e,{data:t.payload,action:"CHANGE_POS_STATUS"});case"CHANGE_POS_CONNECTION_STATUS":return Object(m.a)({},e,{data:t.payload,action:"CHANGE_POS_CONNECTION_STATUS"});case"GET_POS_SETUP_DATA":return Object(m.a)({},e,{data:t.payload,action:"GET_POS_SETUP_DATA"});case"GET_POS_ADDITIONAL_SETUP_DATA":return Object(m.a)({},e,{data:t.payload,action:"GET_POS_ADDITIONAL_SETUP_DATA"});case"SAVE_POS_SETUP_DATA":return Object(m.a)({},e,{data:t.payload,action:"SAVE_POS_SETUP_DATA"});case"CHECK_POS_STRIPE_BALANCE":return Object(m.a)({},e,{data:t.payload,action:"CHECK_POS_STRIPE_BALANCE"});case"DISCONNENCT_POS_STRIPE_ACCOUNT":return Object(m.a)({},e,{data:t.payload,action:"DISCONNENCT_POS_STRIPE_ACCOUNT"});case"PROCEDURE_TEMPLATE_LIST":return Object(m.a)({},e,{data:t.payload,action:"PROCEDURE_TEMPLATE_LIST"});case"PROCEDURE_TEMPLATE_DATA":return Object(m.a)({},e,{data:t.payload,action:"PROCEDURE_TEMPLATE_DATA"});case"SAVE_PROCEDURE_TEMPLATE_DATA":return Object(m.a)({},e,{data:t.payload,action:"SAVE_PROCEDURE_TEMPLATE_DATA"});case"DELETE_PROCEDURE_TEMPLATE":return Object(m.a)({},e,{data:t.payload,action:"DELETE_PROCEDURE_TEMPLATE"});case"GET_POS_STRIPE_ACCOUNT_FIELDS":return Object(m.a)({},e,{data:t.payload,action:"GET_POS_STRIPE_ACCOUNT_FIELDS"});case"UPDATE_POS_STRIPE_ACCOUNT":return Object(m.a)({},e,{data:t.payload,action:"UPDATE_POS_STRIPE_ACCOUNT"});case"GET_POS_PAYMENT_SETTING_DATA":return Object(m.a)({},e,{data:t.payload,action:"GET_POS_PAYMENT_SETTING_DATA"});case"GET_POS_BANK_ACCOUNT_FIELDS":return Object(m.a)({},e,{data:t.payload,action:"GET_POS_BANK_ACCOUNT_FIELDS"});case"ADD_POS_BANK_ACCOUNT":return Object(m.a)({},e,{data:t.payload,action:"ADD_POS_BANK_ACCOUNT"});case"SET_POS_DEFAULT_BANK_ACCOUNT":return Object(m.a)({},e,{data:t.payload,action:"SET_POS_DEFAULT_BANK_ACCOUNT"});case"GET_POS_PAYOUT_SCHEDULE_DATA":return Object(m.a)({},e,{data:t.payload,action:"GET_POS_PAYOUT_SCHEDULE_DATA"});case"UPDATE_POS_PAYOUT_SCHEDULE_DATA":return Object(m.a)({},e,{data:t.payload,action:"UPDATE_POS_PAYOUT_SCHEDULE_DATA"});case"GET_POS_CARD_READER_DATA":return Object(m.a)({},e,{data:t.payload,action:"GET_POS_CARD_READER_DATA"});case"CHANGE_POS_CARD_READER_STATUS":return Object(m.a)({},e,{data:t.payload,action:"CHANGE_POS_CARD_READER_STATUS"});case"ADD_POS_CARD_READER_MERCHENT":return Object(m.a)({},e,{data:t.payload,action:"ADD_POS_CARD_READER_MERCHENT"});case"ADD_POS_CARD_READER_DEVICE":return Object(m.a)({},e,{data:t.payload,action:"ADD_POS_CARD_READER_DEVICE"});case"DELETE_POS_CARD_READER_DEVICE":return Object(m.a)({},e,{data:t.payload,action:"DELETE_POS_CARD_READER_DEVICE"});case"POS_SETUP_EXPRESS_ACCOUNT":return Object(m.a)({},e,{data:t.payload,action:"POS_SETUP_EXPRESS_ACCOUNT"});case"GET_POS_STRIPE_DASHBOARD_URL":return Object(m.a)({},e,{data:t.payload,action:"GET_POS_STRIPE_DASHBOARD_URL"});case"DEFAULT_USERADD_DATA":return Object(m.a)({},e,{data:t.payload,action:"DEFAULT_USERADD_DATA"});case"POS_DISPUTE_DETAIL":return Object(m.a)({},e,{data:t.payload,action:"POS_DISPUTE_DETAIL"});case"ADD_POS_DISPUTE_NOTE":return Object(m.a)({},e,{data:t.payload,action:"ADD_POS_DISPUTE_NOTE"});case"ACCEPT_POS_DISPUTE":return Object(m.a)({},e,{data:t.payload,action:"ACCEPT_POS_DISPUTE"});case"GET_POS_DISPUTE_EVIDENCE":return Object(m.a)({},e,{data:t.payload,action:"GET_POS_DISPUTE_EVIDENCE"});case"SUBMIT_POS_DISPUTE":return Object(m.a)({},e,{data:t.payload,action:"SUBMIT_POS_DISPUTE"});case"SAVE_LATER_POS_DISPUTE":return Object(m.a)({},e,{data:t.payload,action:"SAVE_LATER_POS_DISPUTE"});case"ENABLE_GOOGLE_CALENDAR_SYNC":return Object(m.a)({},e,{data:t.payload,action:"ENABLE_GOOGLE_CALENDAR_SYNC"});case"DISABLE_GOOGLE_CALENDAR_SYNC":return Object(m.a)({},e,{data:t.payload,action:"DISABLE_GOOGLE_CALENDAR_SYNC"});default:return e}},g={action:""},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CLINIC_LIST":return Object(m.a)({},e,{data:t.payload,action:"CLINIC_LIST"});case"SELECTED_CLINIC_LIST":return Object(m.a)({},e,{data:t.payload,action:"SELECTED_CLINIC_LIST"});case"CREATE_CLINIC":return Object(m.a)({},e,{data:t.payload,action:"CREATE_CLINIC"});case"UPDATE_SELECTED_CLINIC":return Object(m.a)({},e,{data:t.payload,action:"UPDATE_SELECTED_CLINIC"});case"TIMEZONE_LIST":return Object(m.a)({},e,{data:t.payload,action:"TIMEZONE_LIST"});case"COUNTRIES_LIST":return Object(m.a)({},e,{data:t.payload,action:"COUNTRIES_LIST"});case"USER_GET":return Object(m.a)({},e,{data:t.payload,action:"USER_GET"});case"USER_UPDATE":return Object(m.a)({},e,{data:t.payload,action:"USER_UPDATE"});case"DELETE_CLINIC":return Object(m.a)({},e,{data:t.payload,action:"DELETE_CLINIC"});case"EMPTY_DATA":return Object(m.a)({},e,{data:t.payload,action:"EMPTY_DATA"});case"DEFAULT_CLINIC_DATA":return Object(m.a)({},e,{data:t.payload,action:"DEFAULT_CLINIC_DATA"});default:return e}},v={action:""},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EMPTY_APPOINTMENT_DATA":return Object(m.a)({},e,{data:t.payload,action:"EMPTY_DATA"});case"APPOINTMENT_SURVEY_LIST":return Object(m.a)({},e,{data:t.payload,action:"APPOINTMENT_SURVEY_LIST"});case"APPOINTMENT_SURVEY_UPDATE":return Object(m.a)({},e,{data:t.payload,action:"APPOINTMENT_SURVEY_UPDATE"});case"SERVICE_CAT_LIST":return Object(m.a)({},e,{data:t.payload,action:"SERVICE_CAT_LIST"});case"SERVICE_CATEGORY_DATA":return Object(m.a)({},e,{data:t.payload,action:"SERVICE_CATEGORY_DATA"});case"CREATE_SERVICE_CATEGORY":return Object(m.a)({},e,{data:t.payload,action:"CREATE_SERVICE_CATEGORY"});case"UPDATE_SERVICE_CATEGORY":return Object(m.a)({},e,{data:t.payload,action:"UPDATE_SERVICE_CATEGORY"});case"DELETE_SERVICE_CATEGORY":return Object(m.a)({},e,{data:t.payload,action:"DELETE_SERVICE_CATEGORY"});case"SERVICE_CATEGORY_SERVICES_LIST":return Object(m.a)({},e,{data:t.payload,action:"SERVICE_CATEGORY_SERVICES_LIST"});case"SERVICE_DATA_AND_LIST_DATA":return Object(m.a)({},e,{data:t.payload,action:"SERVICE_DATA_AND_LIST_DATA"});case"SERVICE_SORT_ORDER_UPDATE":return Object(m.a)({},e,{data:t.payload,action:"SERVICE_SORT_ORDER_UPDATE"});case"CREATE_SERVICE":return Object(m.a)({},e,{data:t.payload,action:"CREATE_SERVICE"});case"UPDATE_SERVICE":return Object(m.a)({},e,{data:t.payload,action:"UPDATE_SERVICE"});case"DELETE_SERVICE":return Object(m.a)({},e,{data:t.payload,action:"DELETE_SERVICE"});case"SERVICES_PACKAGES_LIST":return Object(m.a)({},e,{data:t.payload,action:"SERVICES_PACKAGES_LIST"});case"SERVICES_PACKAGES_DATA":return Object(m.a)({},e,{data:t.payload,action:"SERVICES_PACKAGES_DATA"});case"CREATE_SERVICES_PACKAGES":return Object(m.a)({},e,{data:t.payload,action:"CREATE_SERVICES_PACKAGES"});case"UPDATE_SERVICES_PACKAGES":return Object(m.a)({},e,{data:t.payload,action:"UPDATE_SERVICES_PACKAGES"});case"DELETE_SERVICES_PACKAGES":return Object(m.a)({},e,{data:t.payload,action:"DELETE_SERVICES_PACKAGES"});case"PROVIDER_SCHEDULE_LIST":return Object(m.a)({},e,{data:t.payload,action:"PROVIDER_SCHEDULE_LIST"});case"PROVIDER_SCHEDULE_DYNAMIC_ORDERING":return Object(m.a)({},e,{data:t.payload,action:"PROVIDER_SCHEDULE_DYNAMIC_ORDERING"});case"PROVIDER_SCHEDULE_SORT_ORDER_UPDATE":return Object(m.a)({},e,{data:t.payload,action:"PROVIDER_SCHEDULE_SORT_ORDER_UPDATE"});case"PROVIDER_SCHEDULE_DATA":return Object(m.a)({},e,{data:t.payload,action:"PROVIDER_SCHEDULE_DATA"});case"CREATE_PROVIDER_SCHEDULE":return Object(m.a)({},e,{data:t.payload,action:"CREATE_PROVIDER_SCHEDULE"});case"UPDATE_PROVIDER_SCHEDULE":return Object(m.a)({},e,{data:t.payload,action:"UPDATE_PROVIDER_SCHEDULE"});case"DELETE_PROVIDER_SCHEDULE":return Object(m.a)({},e,{data:t.payload,action:"DELETE_PROVIDER_SCHEDULE"});case"EQUIPMENT_SCHEDULE_LIST":return Object(m.a)({},e,{data:t.payload,action:"EQUIPMENT_SCHEDULE_LIST"});case"EQUIPMENT_SCHEDULE_DATA":return Object(m.a)({},e,{data:t.payload,action:"EQUIPMENT_SCHEDULE_DATA"});case"CREATE_EQUIPMENT_SCHEDULE":return Object(m.a)({},e,{data:t.payload,action:"CREATE_EQUIPMENT_SCHEDULE"});case"UPDATE_EQUIPMENT_SCHEDULE":return Object(m.a)({},e,{data:t.payload,action:"UPDATE_EQUIPMENT_SCHEDULE"});case"DELETE_EQUIPMENT_SCHEDULE":return Object(m.a)({},e,{data:t.payload,action:"DELETE_EQUIPMENT_SCHEDULE"});case"RESOURCE_SCHEDULE_LIST":return Object(m.a)({},e,{data:t.payload,action:"RESOURCE_SCHEDULE_LIST"});case"RESOURCE_SCHEDULE_DATA":return Object(m.a)({},e,{data:t.payload,action:"RESOURCE_SCHEDULE_DATA"});case"CREATE_RESOURCE_SCHEDULE":return Object(m.a)({},e,{data:t.payload,action:"CREATE_RESOURCE_SCHEDULE"});case"UPDATE_RESOURCE_SCHEDULE":return Object(m.a)({},e,{data:t.payload,action:"UPDATE_RESOURCE_SCHEDULE"});case"DELETE_RESOURCE_SCHEDULE":return Object(m.a)({},e,{data:t.payload,action:"DELETE_RESOURCE_SCHEDULE"});case"CREATE_RESOURCE_TYPE":return Object(m.a)({},e,{data:t.payload,action:"CREATE_RESOURCE_TYPE"});case"CREATE_DEVICE":return Object(m.a)({},e,{data:t.payload,action:"CREATE_DEVICE"});case"GET_APPOINTMENTS":return Object(m.a)({},e,{data:t.payload,action:"GET_APPOINTMENTS"});case"SEARCH_PATIENTS":return Object(m.a)({},e,{data:t.payload,action:"SEARCH_PATIENTS"});case"GET_CLINICS":return Object(m.a)({},e,{data:t.payload,action:"GET_CLINICS"});case"GET_PROVIDERS":return Object(m.a)({},e,{data:t.payload,action:"GET_PROVIDERS"});case"GET_SERVICES":return Object(m.a)({},e,{data:t.payload,action:"GET_SERVICES"});case"GET_PROVIDER_AVAILABILITY":return Object(m.a)({},e,{data:t.payload,action:"GET_PROVIDER_AVAILABILITY"});case"GET_PROVIDER_TIME":return Object(m.a)({},e,{data:t.payload,action:"GET_PROVIDER_TIME"});case"SAVE_APPOINTMENT":return Object(m.a)({},e,{data:t.payload,action:"SAVE_APPOINTMENT"});case"APPOINTMENT_GET":return Object(m.a)({},e,{data:t.payload,action:"APPOINTMENT_GET"});case"APPOINTMENT_EDIT_GET":return Object(m.a)({},e,{data:t.payload,action:"APPOINTMENT_EDIT_GET"});case"MARKED_NO_SHOW":return Object(m.a)({},e,{data:t.payload,action:"MARKED_NO_SHOW"});case"GET_CHECKIN_DATA":return Object(m.a)({},e,{data:t.payload,action:"GET_CHECKIN_DATA"});case"POST_CHECKIN_DATA":return Object(m.a)({},e,{data:t.payload,action:"POST_CHECKIN_DATA"});case"CHECK_POS_ENABLED":return Object(m.a)({},e,{data:t.payload,action:"CHECK_POS_ENABLED"});case"GET_CARD_DETAILS":return Object(m.a)({},e,{data:t.payload,action:"GET_CARD_DETAILS"});case"SEND_NOTIFICATION":return Object(m.a)({},e,{data:t.payload,action:"SEND_NOTIFICATION"});case"APPOINTMENT_FEES":return Object(m.a)({},e,{data:t.payload,action:"APPOINTMENT_FEES"});case"APPOINTMENT_CANCELLED":return Object(m.a)({},e,{data:t.payload,action:"APPOINTMENT_CANCELLED"});case"CANCEL_NOTIFICATION_MESSAGE":return Object(m.a)({},e,{data:t.payload,action:"CANCEL_NOTIFICATION_MESSAGE"});case"RESCHEDULE_TIME":return Object(m.a)({},e,{data:t.payload,action:"RESCHEDULE_TIME"});case"APPOINTMENT_RESCHEDULED":return Object(m.a)({},e,{data:t.payload,action:"APPOINTMENT_RESCHEDULED"});case"UPDATE_NOTES":return Object(m.a)({},e,{data:t.payload,action:"UPDATE_NOTES"});case"BOOKING_HISTORY_LIST":return Object(m.a)({},e,{data:t.payload,action:"BOOKING_HISTORY_LIST"});case"PRINT_APPOINTMENT":return Object(m.a)({},e,{data:t.payload,action:"PRINT_APPOINTMENT"});case"CLIENT_DATA_APPOINTMENT":return Object(m.a)({},e,{data:t.payload,action:"CLIENT_DATA_APPOINTMENT"});default:return e}},b={action:""},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CONSENTS_LIST":return Object(m.a)({},e,{data:t.payload,action:"CONSENTS_LIST"});case"SELECTED_CONSENTS_LIST":return Object(m.a)({},e,{data:t.payload,action:"SELECTED_CONSENTS_LIST"});case"CREATE_CONSENTS":return Object(m.a)({},e,{data:t.payload,action:"CREATE_CONSENTS"});case"UPDATE_SELECTED_CONSENTS":return Object(m.a)({},e,{data:t.payload,action:"UPDATE_SELECTED_CONSENTS"});default:return e}},y={action:""},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOGS_LIST":return Object(m.a)({},e,{data:t.payload,action:"USER_LOGS_LIST"});case"SMS_NOTIFICATION_LIST":return Object(m.a)({},e,{data:t.payload,action:"SMS_NOTIFICATION_LIST"});case"NOTIFICATION_LIST":return Object(m.a)({},e,{data:t.payload,action:"NOTIFICATION_LIST"});case"DELETE_NOTIFICATION_DATA":return Object(m.a)({},e,{data:t.payload,action:"DELETE_NOTIFICATION_DATA"});case"EXPORT_CSV":return Object(m.a)({},e,{data:t.payload,action:"EXPORT_CSV"});case"VIEW_CHANGES":return Object(m.a)({},e,{data:t.payload,action:"VIEW_CHANGES"});case"FETCH_DASH_CLINICS":return Object(m.a)({},e,{data:t.payload,action:"FETCH_DASH_CLINICS"});case"SELECTED_SMS_POPUPS":return Object(m.a)({},e,{data:t.payload,action:"SELECTED_SMS_POPUPS"});case"FETCH_POPUPS_MENU":return Object(m.a)({},e,{data:t.payload,action:"FETCH_POPUPS_MENU"});case"CREATE_REPLY":return Object(m.a)({},e,{data:t.payload,action:"CREATE_REPLY"});default:return e}},S={action:""},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PROCEDURE_NOTES":return Object(m.a)({},e,{data:t.payload,action:"GET_PROCEDURE_NOTES"});case"SAVE_PROCEDURE_NOTES":return Object(m.a)({},e,{data:t.payload,action:"SAVE_PROCEDURE_NOTES"});case"DELETE_PROCEDURE_NOTE":return Object(m.a)({},e,{data:t.payload,action:"DELETE_PROCEDURE_NOTE"});case"GET_PROCEDURE_NOTE":return Object(m.a)({},e,{data:t.payload,action:"GET_PROCEDURE_NOTE"});case"UPDATE_PROCEDURE_NOTE":return Object(m.a)({},e,{data:t.payload,action:"UPDATE_PROCEDURE_NOTE"});default:return e}},w={action:""},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"All_SURVEYS":return Object(m.a)({},e,{data:t.payload,action:"All_SURVEYS"});case"SURVEYS_LIST":return Object(m.a)({},e,{data:t.payload,action:"SURVEYS_LIST"});case"SURVEYS_LIST_QUESTIONS":return Object(m.a)({},e,{data:t.payload,action:"SURVEYS_LIST_QUESTIONS"});case"SURVEYS_LISTING":return Object(m.a)({},e,{data:t.payload,action:"SURVEYS_LISTING"});case"SORT_ORDER_UPDATE":return Object(m.a)({},e,{data:t.payload,action:"SORT_ORDER_UPDATE"});case"SURVEY_TEMPLATE_DATA":return Object(m.a)({},e,{data:t.payload,action:"SURVEY_TEMPLATE_DATA"});case"SAVE_SURVEY_TEMPLATE_DATA":return Object(m.a)({},e,{data:t.payload,action:"SAVE_SURVEY_TEMPLATE_DATA"});case"DELETE_SURVEY_TEMPLATE":return Object(m.a)({},e,{data:t.payload,action:"DELETE_SURVEY_TEMPLATE"});case"SURVEY_PUBLISH_STATUS":return Object(m.a)({},e,{data:t.payload,action:"SURVEY_PUBLISH_STATUS"});default:return e}},x={action:""},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_LIST":return Object(m.a)({},e,{data:t.payload,action:"PRODUCT_LIST"});case"INVENTORY_PRODUCT_LIST_ACTIVE":return Object(m.a)({},e,{data:t.payload,action:"INVENTORY_PRODUCT_LIST_ACTIVE"});case"INVENTORY_PRODUCT_LIST_INACTIVE":return Object(m.a)({},e,{data:t.payload,action:"INVENTORY_PRODUCT_LIST_INACTIVE"});case"CATEGORY_LIST":return Object(m.a)({},e,{data:t.payload,action:"CATEGORY_LIST"});case"PACKAGES_LIST":return Object(m.a)({},e,{data:t.payload,action:"PACKAGES_LIST"});case"DISCOUNT_GROUP_LIST":return Object(m.a)({},e,{data:t.payload,action:"DISCOUNT_GROUP_LIST"});case"EGIFT_CARD_LIST":return Object(m.a)({},e,{data:t.payload,action:"EGIFT_CARD_LIST"});case"UPDATE_EGIFTCARD":return Object(m.a)({},e,{data:t.payload,action:"UPDATE_EGIFTCARD"});case"CREATE_EGIFTCARD":return Object(m.a)({},e,{data:t.payload,action:"CREATE_EGIFTCARD"});case"DELETE_EGIFTCARD":return Object(m.a)({},e,{data:t.payload,action:"DELETE_EGIFTCARD"});case"FETCH_SELECTED_EGIFTCARD":return Object(m.a)({},e,{data:t.payload,action:"FETCH_SELECTED_EGIFTCARD"});case"CREATE_DISCOUNT_GROUP":return Object(m.a)({},e,{data:t.payload,action:"CREATE_DISCOUNT_GROUP"});case"FETCH_SELECTED_DISCOUNT_GROUP":return Object(m.a)({},e,{data:t.payload,action:"FETCH_SELECTED_DISCOUNT_GROUP"});case"UPDATE_DISCOUNT_GROUP":return Object(m.a)({},e,{data:t.payload,action:"UPDATE_DISCOUNT_GROUP"});case"DELETE_DISCOUNT_GROUP":return Object(m.a)({},e,{data:t.payload,action:"DELETE_DISCOUNT_GROUP"});case"ADD_DISCOUNT_GROUP_PRODUCT":return Object(m.a)({},e,{data:t.payload,action:"ADD_DISCOUNT_GROUP_PRODUCT"});case"DELETE_DISCOUNT_GROUP_PRODUCT":return Object(m.a)({},e,{data:t.payload,action:"DELETE_DISCOUNT_GROUP_PRODUCT"});case"CREATE_CATEGORY":return Object(m.a)({},e,{data:t.payload,action:"CREATE_CATEGORY"});case"FETCH_CLINICS":return Object(m.a)({},e,{data:t.payload,action:"FETCH_CLINICS"});case"FETCH_SELECTED_CATEGORY":return Object(m.a)({},e,{data:t.payload,action:"FETCH_SELECTED_CATEGORY"});case"UPDATE_CATEGORIES":return Object(m.a)({},e,{data:t.payload,action:"UPDATE_CATEGORIES"});case"DELETE_CATEGORIES":return Object(m.a)({},e,{data:t.payload,action:"DELETE_CATEGORIES"});case"DEACTIVATE_ALL_CATEGORIES":return Object(m.a)({},e,{data:t.payload,action:"DEACTIVATE_ALL_CATEGORIES"});case"PRODUCT_DEFAULT_DATA":return Object(m.a)({},e,{data:t.payload,action:"PRODUCT_DEFAULT_DATA"});case"IS_PRODUCT_AVAILABLE":return Object(m.a)({},e,{data:t.payload,action:"IS_PRODUCT_AVAILABLE"});case"PRODUCT_ADDED":return Object(m.a)({},e,{data:t.payload,action:"PRODUCT_ADDED"});case"PRODUCT_DELETED":return Object(m.a)({},e,{data:t.payload,action:"PRODUCT_DELETED"});case"RESET_ACTION":return Object(m.a)({},e,{action:""});case"EXPORT_DATA":return Object(m.a)({},e,{data:t.payload,action:"EXPORT_DATA"});case"EXPORT_PRODUCT_DATA":return Object(m.a)({},e,{data:t.payload,action:"EXPORT_PRODUCT_DATA"});case"DEFAULT_PACKAGE_DATA":return Object(m.a)({},e,{data:t.payload,action:"DEFAULT_PACKAGE_DATA"});case"BOGO_PRODUCT_LIST":return Object(m.a)({},e,{data:t.payload,action:"BOGO_PRODUCT_LIST"});case"BOGO_FREE_PRODUCT_LIST":return Object(m.a)({},e,{data:t.payload,action:"BOGO_FREE_PRODUCT_LIST"});case"PACKAGE_PRODUCT_LIST":return Object(m.a)({},e,{data:t.payload,action:"PACKAGE_PRODUCT_LIST"});case"SAVE_PACKAGE_DATA":return Object(m.a)({},e,{data:t.payload,action:"SAVE_PACKAGE_DATA"});case"EMPTY_INVENTROY":return Object(m.a)({},e,{data:{},action:"EMPTY_INVENTROY"});case"DELETE_DISCOUNT_PACKAGE":return Object(m.a)({},e,{data:t.payload,action:"DELETE_DISCOUNT_PACKAGE"});case"ACTIVATE_PRODUCT":return Object(m.a)({},e,{data:t.payload,action:"ACTIVATE_PRODUCT"});case"EMPTY_DATA":return Object(m.a)({},e,{data:t.payload,action:"EMPTY_DATA"});default:return e}},O={action:""},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REPORTS_LIST":return Object(m.a)({},e,{data:t.payload,action:"REPORTS_LIST"});case"CREATE_REPORTS":return Object(m.a)({},e,{data:t.payload,action:"CREATE_REPORTS"});case"GET_REPORT_TYPES":return Object(m.a)({},e,{data:t.payload,action:"GET_REPORT_TYPES"});case"DELETE_REPORTS":return Object(m.a)({},e,{data:t.payload,action:"DELETE_REPORTS"});case"EXPORT_REPORTS":return Object(m.a)({},e,{data:t.payload,action:"EXPORT_REPORTS"});case"UPDATE_REPORTS":return Object(m.a)({},e,{data:t.payload,action:"UPDATE_REPORTS"});default:return e}},T={action:""},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CLIENTS_LIST":return Object(m.a)({},e,{data:t.payload,action:"CLIENTS_LIST"});case"CREATE_FILTER":return Object(m.a)({},e,{data:t.payload,action:"CREATE_FILTER"});case"GET_CPP_DATA":return Object(m.a)({},e,{data:t.payload,action:"GET_CPP_DATA"});case"UPDATE_FILTER":return Object(m.a)({},e,{data:t.payload,action:"UPDATE_FILTER"});case"GET_ALL_FILTERS":return Object(m.a)({},e,{data:t.payload,action:"GET_ALL_FILTERS"});case"DELETE_FILTER":return Object(m.a)({},e,{data:t.payload,action:"DELETE_FILTER"});case"GET_ONE_FILTER":return Object(m.a)({},e,{data:t.payload,action:"GET_ONE_FILTER"});case"SAVE_CLIENT_FIELD":return Object(m.a)({},e,{data:t.payload,action:"SAVE_CLIENT_FIELD"});case"GET_CLIENT_DETAIL":return Object(m.a)({},e,{data:t.payload,action:"GET_CLIENT_DETAIL"});case"FIRE_CLIENT":return Object(m.a)({},e,{data:t.payload,action:"FIRE_CLIENT"});case"DNC_CLIENT":return Object(m.a)({},e,{data:t.payload,action:"DNC_CLIENT"});case"CHANGE_PORTAL_CLIENT":return Object(m.a)({},e,{data:t.payload,action:"CHANGE_PORTAL_CLIENT"});case"GET_CLIENT_CARDS":return Object(m.a)({},e,{data:t.payload,action:"GET_CLIENT_CARDS"});case"SAVE_CLIENT_CARD":return Object(m.a)({},e,{data:t.payload,action:"SAVE_CLIENT_CARD"});case"UPDATE_MEDICAL_HISTORY":return Object(m.a)({},e,{data:t.payload,action:"UPDATE_MEDICAL_HISTORY"});case"RESEND_WELCOME_EMAIL":return Object(m.a)({},e,{data:t.payload,action:"RESEND_WELCOME_EMAIL"});case"RESET_CLIENT_PORTAL_PASSWORD":return Object(m.a)({},e,{data:t.payload,action:"RESET_CLIENT_PORTAL_PASSWORD"});case"CREATE_CLIENT":return Object(m.a)({},e,{data:t.payload,action:"CREATE_CLIENT"});case"UPDATE_CLIENT":return Object(m.a)({},e,{data:t.payload,action:"UPDATE_CLIENT"});case"DELETE_CLIENT":return Object(m.a)({},e,{data:t.payload,action:"DELETE_CLIENT"});case"GET_CLIENT_WALLET":return Object(m.a)({},e,{data:t.payload,action:"GET_CLIENT_WALLET"});case"ADD_CREDIT_TO_WALLET":return Object(m.a)({},e,{data:t.payload,action:"ADD_CREDIT_TO_WALLET"});case"REMOVE_CREDIT_FROM_WALLET":return Object(m.a)({},e,{data:t.payload,action:"REMOVE_CREDIT_FROM_WALLET"});case"UPDATE_WALLET_PACKAGE":return Object(m.a)({},e,{data:t.payload,action:"UPDATE_WALLET_PACKAGE"});case"REMOVE_WALLET_PACKAGE":return Object(m.a)({},e,{data:t.payload,action:"REMOVE_WALLET_PACKAGE"});case"UPDATE_MEMBERSHIP_CC":return Object(m.a)({},e,{data:t.payload,action:"UPDATE_MEMBERSHIP_CC"});case"CANCEL_MEMBERSHIP":return Object(m.a)({},e,{data:t.payload,action:"CANCEL_MEMBERSHIP"});case"ADD_MONTHLY_MEMBERSHIP":return Object(m.a)({},e,{data:t.payload,action:"ADD_MONTHLY_MEMBERSHIP"});case"SEARCH_WALLET_PRODUCT":return Object(m.a)({},e,{data:t.payload,action:"SEARCH_WALLET_PRODUCT"});case"ADD_PACKAGE_PRODUCT":return Object(m.a)({},e,{data:t.payload,action:"ADD_PACKAGE_PRODUCT"});case"GET_BOGO_PACKAGE_DETAILS":return Object(m.a)({},e,{data:t.payload,action:"GET_BOGO_PACKAGE_DETAILS"});case"GET_PRODUCT_PRICE_BY_CLINIC":return Object(m.a)({},e,{data:t.payload,action:"GET_PRODUCT_PRICE_BY_CLINIC"});case"EXPORT_FILE":return Object(m.a)({},e,{data:t.payload,action:"EXPORT_FILE"});case"EXPORT_CLIENT_PDF":return Object(m.a)({},e,{data:t.payload,action:"EXPORT_CLIENT_PDF"});case"REFUND_FEES":return Object(m.a)({},e,{data:t.payload,action:"REFUND_FEES"});case"EMPTY_DATA":return Object(m.a)({},e,{data:t.payload,action:"EMPTY_DATA"});default:return e}},R={action:""},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APPOINTMENT_SURVEY_UPDATE":return Object(m.a)({},e,{data:t.payload,action:"APPOINTMENT_SURVEY_UPDATE"});default:return e}},P={action:""},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_TRACE_DATA":return Object(m.a)({},e,{data:t.payload,action:"GET_TRACE_DATA"});case"GET_BATCH_BY_PROCEDURE":return Object(m.a)({},e,{data:t.payload,action:"GET_BATCH_BY_PROCEDURE"});case"GET_UNITS_BY_INVENTORY":return Object(m.a)({},e,{data:t.payload,action:"GET_UNITS_BY_INVENTORY"});case"SAVE_TRACE":return Object(m.a)({},e,{data:t.payload,action:"SAVE_TRACE"});case"UPDATE_TRACE":return Object(m.a)({},e,{data:t.payload,action:"UPDATE_TRACE"});case"DELETE_TRACE":return Object(m.a)({},e,{data:t.payload,action:"DELETE_TRACE"});default:return e}},M={action:""},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SALES_CATEGORY_LIST":return Object(m.a)({},e,{data:t.payload,action:"SALES_CATEGORY_LIST"});case"SEND_SELECTED_LOCATION":return Object(m.a)({},e,{data:t.payload,action:"SEND_SELECTED_LOCATION"});case"MONTHLY_NET_SALES_LIST":return Object(m.a)({},e,{data:t.payload,action:"MONTHLY_NET_SALES_LIST"});case"PAYMENT_METHOD_LIST":return Object(m.a)({},e,{data:t.payload,action:"PAYMENT_METHOD_LIST"});case"EMPLOYEE_SALES_REPORT_LIST":return Object(m.a)({},e,{data:t.payload,action:"EMPLOYEE_SALES_REPORT_LIST"});case"ITEM_SALES_LIST":return Object(m.a)({},e,{data:t.payload,action:"ITEM_SALES_LIST"});case"CATEGORY_SALES_LIST":return Object(m.a)({},e,{data:t.payload,action:"CATEGORY_SALES_LIST"});case"EXPORT_FILE":return Object(m.a)({},e,{data:t.payload,action:"EXPORT_FILE"});case"INVOICES_LIST":return Object(m.a)({},e,{data:t.payload,action:"INVOICES_LIST"});case"CREATE_EDIT_INVOICES":return Object(m.a)({},e,{data:t.payload,action:"CREATE_EDIT_INVOICES"});case"DISCOUNTS_LIST":return Object(m.a)({},e,{data:t.payload,action:"DISCOUNTS_LIST"});case"STAF_TREATMENT_LIST":return Object(m.a)({},e,{data:t.payload,action:"STAF_TREATMENT_LIST"});case"MEMBERSHIP_LIST":return Object(m.a)({},e,{data:t.payload,action:"MEMBERSHIP_LIST"});case"SHORT_TERM_LIABILITY_LIST":return Object(m.a)({},e,{data:t.payload,action:"SHORT_TERM_LIABILITY_LIST"});case"TREATMENT_PLANS_LIST":return Object(m.a)({},e,{data:t.payload,action:"TREATMENT_PLANS_LIST"});case"TAXES_LIST":return Object(m.a)({},e,{data:t.payload,action:"TAXES_LIST"});case"COMMISSION_REPORTS_LIST":return Object(m.a)({},e,{data:t.payload,action:"COMMISSION_REPORTS_LIST"});case"EGIFT_CARDS_LIST":return Object(m.a)({},e,{data:t.payload,action:"EGIFT_CARDS_LIST"});case"COST_TO_COMPANY_LIST":return Object(m.a)({},e,{data:t.payload,action:"COST_TO_COMPANY_LIST"});case"GET_CASH_DRAWER":return Object(m.a)({},e,{data:t.payload,action:"GET_CASH_DRAWER"});case"CHANGE_DRAWER_LOCATION":return Object(m.a)({},e,{data:t.payload,action:"CHANGE_DRAWER_LOCATION"});case"VIEW_OPENED_DRAWER":return Object(m.a)({},e,{data:t.payload,action:"VIEW_OPENED_DRAWER"});case"TAKE_DRAWER_CONTROL":return Object(m.a)({},e,{data:t.payload,action:"TAKE_DRAWER_CONTROL"});case"GET_OPEN_CASH_DRAWER":return Object(m.a)({},e,{data:t.payload,action:"GET_OPEN_CASH_DRAWER"});case"POST_OPEN_CASH_DRAWER":return Object(m.a)({},e,{data:t.payload,action:"POST_OPEN_CASH_DRAWER"});case"CLOSE_CASH_DRAWER":return Object(m.a)({},e,{data:t.payload,action:"CLOSE_CASH_DRAWER"});case"CASH_IN_DRAWER":return Object(m.a)({},e,{data:t.payload,action:"CASH_IN_DRAWER"});case"CASH_OUT_DRAWER":return Object(m.a)({},e,{data:t.payload,action:"CASH_OUT_DRAWER"});case"BANK_DROP_DRAWER":return Object(m.a)({},e,{data:t.payload,action:"BANK_DROP_DRAWER"});case"CASH_REGISTER_LOGS":return Object(m.a)({},e,{data:t.payload,action:"CASH_REGISTER_LOGS"});case"GET_CASH_DRAWER_HISTORY":return Object(m.a)({},e,{data:t.payload,action:"GET_CASH_DRAWER_HISTORY"});case"EDIT_CLOSED_DRAWER":return Object(m.a)({},e,{data:t.payload,action:"EDIT_CLOSED_DRAWER"});case"ADD_EDIT_POPUP_RECEIPT":return Object(m.a)({},e,{data:t.payload,action:"ADD_EDIT_POPUP_RECEIPT"});case"EXPORT_CASH_DRAWER_LOG":return Object(m.a)({},e,{data:t.payload,action:"EXPORT_CASH_DRAWER_LOG"});case"FETCH_INVOICES":return Object(m.a)({},e,{data:t.payload,action:"FETCH_INVOICES"});default:return e}},F={action:""},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CLIENT_NOTES":return Object(m.a)({},e,{data:t.payload,action:"GET_CLIENT_NOTES"});case"SAVE_CLIENT_NOTES":return Object(m.a)({},e,{data:t.payload,action:"SAVE_CLIENT_NOTES"});case"DELETE_CLIENT_NOTE":return Object(m.a)({},e,{data:t.payload,action:"DELETE_CLIENT_NOTE"});case"GET_CLIENT_NOTE":return Object(m.a)({},e,{data:t.payload,action:"GET_CLIENT_NOTE"});case"UPDATE_CLIENT_NOTE":return Object(m.a)({},e,{data:t.payload,action:"UPDATE_CLIENT_NOTE"});default:return e}},q={action:""},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_INVOICE_DETAILS":return Object(m.a)({},e,{data:t.payload,action:"GET_INVOICE_DETAILS"});case"GET_PAYMENT_HISTORY":return Object(m.a)({},e,{data:t.payload,action:"GET_PAYMENT_HISTORY"});case"VOID_INVOICE":return Object(m.a)({},e,{data:t.payload,action:"VOID_INVOICE"});case"EMAIL_AND_DOWNLOAD_INVOICE":return Object(m.a)({},e,{data:t.payload,action:"EMAIL_AND_DOWNLOAD_INVOICE"});case"EMAIL_AND_DOWNLOAD_REFUND_RECEIPT":return Object(m.a)({},e,{data:t.payload,action:"EMAIL_AND_DOWNLOAD_REFUND_RECEIPT"});case"GET_REFUND_DETAILS":return Object(m.a)({},e,{data:t.payload,action:"GET_REFUND_DETAILS"});case"ISSUE_REFUND":return Object(m.a)({},e,{data:t.payload,action:"ISSUE_REFUND"});case"UPDATE_USER_IN_INVOICE":return Object(m.a)({},e,{data:t.payload,action:"UPDATE_USER_IN_INVOICE"});case"EMPTY_DATA":return Object(m.a)({},e,{data:t.payload,action:"EMPTY_DATA"});default:return e}},H={action:""},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"VIEW_TREATMENT_MARKINGS":return Object(m.a)({},e,{data:t.payload,action:"VIEW_TREATMENT_MARKINGS"});default:return e}},V={action:""},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PROCEDURE_DATA":return Object(m.a)({},e,{data:t.payload,action:"GET_PROCEDURE_DATA"});case"GET_APPT_CONSULT_DATA":return Object(m.a)({},e,{data:t.payload,action:"GET_APPT_CONSULT_DATA"});case"CREATE_PROCEDURE":return Object(m.a)({},e,{data:t.payload,action:"CREATE_PROCEDURE"});case"UPDATE_PROCEDURE":return Object(m.a)({},e,{data:t.payload,action:"UPDATE_PROCEDURE"});case"GET_ASSOCIATED_CLINICS":return Object(m.a)({},e,{data:t.payload,action:"GET_ASSOCIATED_CLINICS"});case"DELETE_PROCEDURE":return Object(m.a)({},e,{data:t.payload,action:"DELETE_PROCEDURE"});default:return e}},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:"",status:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGN_UP":return{};case"SIGN_UP_BASIC":return Object(m.a)({},e,{data:t.payload,action:"SIGN_UP_BASIC"});case"GET_SIGNUP_ACCOUNT_STATUS":return Object(m.a)({},e,{data:t.payload,action:"GET_SIGNUP_ACCOUNT_STATUS"});case"SIGN_UP_PREMIUM":return Object(m.a)({},e,{data:t.payload,action:"SIGN_UP_PREMIUM"});case"UNIQUE_EMAIL":return Object(m.a)({},e,{data:t.payload,action:"UNIQUE_EMAIL"});case"SIGN_UP_PLANS":return Object(m.a)({},e,{data:t.payload,action:"SIGN_UP_PLANS"});default:return e}},J=a(20),Q=a.n(J),K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:"",status:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ACCOUNT_RESET":return{};case"ACCEPT_TOS_AGREEMENT":return Object(m.a)({},e,{data:t.payload,action:"ACCEPT_TOS_AGREEMENT"});case"UPGRADE_TRAIL_TO_PAID":return Object(m.a)({},e,{data:t.payload,action:"UPGRADE_TRAIL_TO_PAID"});case"UPGRADE_RECURLY_TO_STRIPE":return Object(m.a)({},e,{data:t.payload,action:"UPGRADE_RECURLY_TO_STRIPE"});case"UPGRADE_RECURLY_TO_STRIPE":return Object(m.a)({},e,{data:t.payload,action:"UPGRADE_RECURLY_TO_STRIPE",redirect_to:""});case"GET_ACCOUNT_PRIVILEGES":return Object(m.a)({},e,{data:t.payload,action:"GET_ACCOUNT_PRIVILEGES"});default:return e}},X=Object(c.combineReducers)({ClinicReducer:_,UserReducer:u,SettingReducer:h,AppointmentReducer:f,consentsReducer:E,DashboardReducer:N,ProcedureNotesReducer:D,surveyReducer:C,InventoryReducer:L,ReportsReducer:A,ClientsReducer:I,ServiceReducer:k,TraceReducer:j,SalesReducer:U,ClientNotesReducer:B,InvoiceReducer:Y,TreatmentMarkingReducer:G,ProcedureReducer:z,SignUpReducer:W,AccountReducer:K,routing:d.routerReducer}),Z=a(11),$=a(1941),ee=a(1936),te=a(946),ae=a(1946),se=a(1),ne=a(6),ie=a(7),re=a(5),oe=a(8),le=a(9),ce=a(31),de=a(929),me=a(860),ue=function(e){function t(){return Object(ne.a)(this,t),Object(re.a)(this,Object(oe.a)(t).apply(this,arguments))}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"header"},i.a.createElement("div",{className:"wrapper"},i.a.createElement("a",{href:"https://www.aestheticrecord.com/",className:"logo"},i.a.createElement("img",{src:"/images/logo.png?v=123"})),i.a.createElement("div",{className:"header-right"},i.a.createElement("ul",{className:"nav"},i.a.createElement("li",null,i.a.createElement("a",{href:"https://www.aestheticrecord.com/"},"Home")),i.a.createElement("li",null,i.a.createElement(me.a,{to:"/login",className:"login"},"Login")),i.a.createElement("li",null,i.a.createElement("a",{href:"https://www.aestheticrecord.com/aesthetic-record-emr-plans-and-pricing",className:"login"},"Get Started"))))))}}]),t}(i.a.Component),pe=(a(63),a(61)),he=(a(861),a(119)),ge=a(783),_e=a(784),ve=a(785),fe=a(786),be=(a(862),function(e){function t(e){var a;Object(ne.a)(this,t),a=Object(re.a)(this,Object(oe.a)(t).call(this,e)),document.body.classList.add("guest-body");JSON.parse(localStorage.getItem("userData"));var s=JSON.parse(localStorage.getItem("languageData"));return a.state={globalLang:null!==s&&null!==s.global&&void 0!==s.global?s.global:{}},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){document.getElementById("root").clientHeight}},{key:"render",value:function(){return i.a.createElement("footer",{className:"footer-fixed",id:"guest-footer-fixed"},i.a.createElement("div",{className:"wrapper"},i.a.createElement("p",null,this.state.globalLang.global_footer," ",i.a.createElement("a",{href:"https://www.aestheticrecord.com/aesthetic-record-emr-terms-of-service/",target:"_blank"},this.state.globalLang.global_terms_of_service),"\xa0\xa0 ",i.a.createElement("a",{className:"ar-policy-link",href:"https://www.aestheticrecord.com/aesthetic-record-emr-policies/",target:"_blank"},this.state.globalLang.global_ar_policies)),i.a.createElement("ul",{id:"social"},i.a.createElement("li",null,i.a.createElement("a",{target:"_blank",href:"https://twitter.com/Aesthetic_Rec"},i.a.createElement(pe.a,{icon:ge.faTwitter})," ")),i.a.createElement("li",null,i.a.createElement("a",{target:"_blank",href:"https://www.facebook.com/aesthetic.rec/"},i.a.createElement(pe.a,{icon:he.faFacebook}))),i.a.createElement("li",null,i.a.createElement("a",{target:"_blank",href:"https://www.youtube.com/channel/UCY2W0j0DbqLsg4qomXL0c1g"},i.a.createElement(pe.a,{icon:_e.faYoutube})," ")),i.a.createElement("li",null,i.a.createElement("a",{target:"_blank",href:"https://plus.google.com/b/110237484009069856390/110237484009069856390"},i.a.createElement(pe.a,{icon:ve.faGooglePlus}))),i.a.createElement("li",null,i.a.createElement("a",{target:"_blank",href:"https://www.instagram.com/aestheticrecord/"},i.a.createElement(pe.a,{icon:fe.faInstagram})," ")))))}}]),t}(i.a.Component)),Ee={API_URL:"http://192.168.0.129/ar-backend/public/api/",SHOW_CAPTCHA_AFTER_COUNT:4,CAPTCHA_SITE_KEY:"6LcvTg0TAAAAANi412maCnYmAYm1uFPo8oJhh4W9",JUVLY_ACC_ID:1500,CC_ACC_ID:1500,STRIPE_PUBLISHABLE_KEY:"pk_test_niFtGD0hQ40KIozzY7XaQZzQ",DEV_DOMAIN:"estheticrecord",LIVE_DOMAIN:"myaestheticrecord",CURRENT_DOMAIN:"dev"},ye=a(27),Ne=a(14),Se=a.n(Ne);function De(){return localStorage.getItem("isLoggedIn")}function we(){return localStorage.getItem("userData")}function Ce(e){return localStorage.setItem("access_token",e),Q.a.defaults.headers.common["access-token"]=xe(),!0}function xe(e){var t=localStorage.getItem("access_token");return t||!1}function Le(){localStorage.removeItem("access_token")}function Oe(){Le(),Ae(),window.location.href="/login"}function Ae(){localStorage.removeItem("userData"),localStorage.removeItem("isLoggedIn"),localStorage.removeItem("globalPrivileges"),localStorage.removeItem("tempLoggedUserData"),localStorage.removeItem("calendarFilter"),localStorage.removeItem("selectionRange");var e=JSON.parse(localStorage.getItem("languageData"));for(var t in e)"guest"!=t&&"global"!=t&&delete e[t];localStorage.setItem("languageData",JSON.stringify(e)),localStorage.removeItem("showLoader"),localStorage.removeItem("sortOnly"),localStorage.removeItem("currentUserRole"),localStorage.removeItem("loadFresh"),localStorage.removeItem("login_attempts"),localStorage.removeItem("defTimeLine"),localStorage.removeItem("timeFormat"),localStorage.removeItem("dateFormat"),localStorage.removeItem("stripeConnection"),localStorage.removeItem("isPosEnabled"),localStorage.removeItem("redirectTo"),localStorage.removeItem("flashToast"),localStorage.removeItem("currencySymbol"),localStorage.removeItem("currencyLabel"),localStorage.removeItem("cSortBy"),localStorage.removeItem("cSortOrder"),localStorage.removeItem("cLetterKey"),localStorage.removeItem("cTerm"),localStorage.removeItem("cFilterID"),localStorage.removeItem("cFilterName")}function Te(e){var t=JSON.parse(localStorage.getItem("userData")),a=[];return!!(t&&e&&(a=t.permissions)&&a.indexOf(e)>-1)}function Ie(e,t,a){var s={style:t=t||"decimal",currency:Ue(),maximumFractionDigits:2,minimumFractionDigits:a},n=new Intl.NumberFormat("en",s);return e&&null!==e&&""!==e&&e>0?n.format(e):n.format(0)}function Re(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e.split(" "),s=Object(ye.a)(a,2),n=s[0],i=s[1],r=n.split(":"),o=Object(ye.a)(r,2),l=o[0],c=o[1];return"12"===l&&(l="00"),"pm"===i.toLowerCase()&&(l=parseInt(l,10)+12),t?l+":"+c+":00":l+":"+c}function ke(e){return(e=e.toString().match(/^([01]\d|2[0-3])(:)([0-5]\d)(:[0-5]\d)?$/)||[e]).length>1&&((e=e.slice(1))[0]=+e[0]%12||12,e[0]<10&&(e[0]="0"+e[0])),delete e[e.length-1],e.join("")}function Pe(e){return(e=e.toString().match(/^([01]\d|2[0-3])(:)([0-5]\d)(:[0-5]\d)?$/)||[e]).length>1?+(e=e.slice(1))[0]<12?"AM":"PM":null}function je(e){return e.charAt(0).toUpperCase()+e.slice(1)}function Me(e){var t="";return e&&e.firstname&&(t+=je(e.firstname)),""!==t&&(t+=" "),e&&e.lastname&&(t+=je(e.lastname)),t}function Ue(){var e=localStorage.getItem("currencyLabel");return e||"usd"}function Fe(e,t){if(0==e)return"0 Bytes";var a=t||2,s=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,s)).toFixed(a))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][s]}function Be(e,t,a){t=t||!1,a=a||"";var s=We(),n=ze(),i=We(),r=We();if("0000-00-00 00:00:00"===e||"0000-00-00"===e||"0000/00/00 00:00:00"===e||"0000/00/00"===e)return"";if(""!==e&&void 0!==e&&null!==e||(e=Se()(Se()(),i).format(r).split(" ")[0]),e&&s&&n){if(t?r=i=s+" "+n:(i=s,r=s),""!=a&&(r=a),e.indexOf("/")>-1||e.indexOf("-")>-1){var o=e.split(" ")[0];if(("object"===typeof(o=-1!==o.indexOf("/")?o.split("/"):o.split("-"))||"array"===typeof o)&&3===o.length){if(2===o[0].length&&o[0]>12){if("YYYY/MM/DD"==s||"MM/DD/YYYY"===s)return Se()(e,"DD-MM-YYYY").format(r)}else if(2===o[1].length&&o[1]>12){if("DD/MM/YYYY"==s)return Se()(e,"MM-DD-YYYY").format(r)}else if(2===o[2].length&&o[2]>12&&"DD/MM/YYYY"==s)return Se()(e,"YYYY/MM/DD").format(r)}return"DD/MM/YYYY"==s?Se()(e,i).format(r):Se()(e).format(r)}return Se.a.unix(e).format(r)}}function qe(e){return!isNaN(parseFloat(e))&&isFinite(e)}function Ye(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}function He(e){var t,a,s,n;void 0!==e.pos_data&&(void 0!==e.pos_data.is_pos_enabled&&null!==e.pos_data.is_pos_enabled&&e.pos_data.is_pos_enabled>=0&&(n=(n=e.pos_data.is_pos_enabled)||!1,localStorage.setItem("isPosEnabled",n)),void 0!==e.pos_data.stripe_connection&&null!==e.pos_data.stripe_connection&&""!==e.pos_data.stripe_connection&&(s=(s=e.pos_data.stripe_connection)||"",localStorage.setItem("stripeConnection",s)),void 0!==e.pos_data.currency_symbol&&null!==e.pos_data.currency_symbol&&""!==e.pos_data.currency_symbol&&(a=(a=e.pos_data.currency_symbol)||"$",localStorage.setItem("currencySymbol",a)),void 0!==e.pos_data.currency_code&&null!==e.pos_data.currency_code&&""!==e.pos_data.currency_code&&(t=(t=e.pos_data.currency_code)||"usd",localStorage.setItem("currencyLabel",t))),void 0!==e.time_format&&""!==e.time_format&&null!==e.time_format&&function(e){switch(e){case"h:i a":e="hh:mm A";break;case"H:i":e="HH:mm";break;default:e="hh:mm A"}localStorage.setItem("timeFormat",e)}(e.time_format),void 0!==e.date_format&&""!==e.date_format&&null!==e.date_format&&function(e){switch(e){case"Y/m/d":e="YYYY/MM/DD";break;case"d/m/Y":e="DD/MM/YYYY";break;case"m/d/Y":e="MM/DD/YYYY";break;default:e="YYYY/MM/DD"}localStorage.setItem("dateFormat",e)}(e.date_format)}function Ge(){var e=localStorage.getItem("isPosEnabled");return"undefined"!==typeof e&&void 0!==typeof e&&("string"===typeof e&&"true"===e||"boolean"===typeof e&&!0===e)}function Ve(e){var t=ze();return Se()(e,"HH:mm:ss").format(t)}function ze(){var e=localStorage.getItem("timeFormat");return e||"hh:mm A"}function We(){var e=localStorage.getItem("dateFormat");return e||"YYYY/MM/DD"}function Je(e){return localStorage.setItem("redirectTo",e),!0}function Qe(){var e=localStorage.getItem("redirectTo");return e?"/"+e:null}function Ke(e){document.body.style.overflow=void 0!==e&&!0===e?"hidden":""}function Xe(e){var t=document.getElementById("protected-footer-fixed");null!=t&&void 0!=t&&setTimeout(function(){var e=document.getElementById("root").clientHeight;document.getElementById("root").scrollHeight;document.getElementById("protected-footer-fixed")&&(e+document.getElementById("protected-footer-fixed").clientHeight>window.innerHeight?t.classList.remove("footer-fixed"):t.classList.add("footer-fixed"))},200)}var Ze=Ee.API_URL,$e=Q.a.create();function et(e){return function(t){$e.post(Ze+"login",e).then(function(e){t({type:"LOGIN_SUCCESSFULL",payload:e.data})}).catch(function(e){e.response&&t({type:"LOGIN_ERROR",payload:e.response.data})})}}function tt(e){return function(t){$e.get(Ze+"switch-to-new/"+e).then(function(e){t({type:"DO_AUTO_LOGIN",payload:e.data})}).catch(function(e){e.response&&t({type:"DO_AUTO_LOGIN",payload:e.response.data})})}}function at(e,t){return function(a){var s="sms_otp"==t?"verify-sms-otp":"google-autenticator";$e.post(Ze+s,e).then(function(e){a({type:"VERIFY_OTP",payload:e.data})}).catch(function(e){e.response&&a({type:"VERIFY_OTP",payload:e.response.data})})}}$e.interceptors.response.use(function(e){return e.headers.access_token&&Ce(e.headers.access_token),void 0!=e.data&&void 0!=e.data.global_settings&&He(e.data.global_settings),e},function(e){return 602===e.response.data.status&&(localStorage.setItem("blockIP",1),window.location.href="/block-ip"),Promise.reject(e)});var st=a(30),nt=a.n(st),it=a(451),rt=a(2),ot=function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleEnter=function(e){var t=a.handleSubmit;switch((e=e||window.event).which||e.keyCode){case 13:t(e)}},a.asyncScriptOnLoad=function(){a.setState({callback:"called!"})},a.handleChange=function(e){a.setState({recaptchaError:e})},a.errorCallback=function(e){},a.expiredCallback=function(){rt.toast.error("Recaptcha has expired. Please verify it again!"),a.setState({recaptchaError:"Recaptcha has expired. Please verify it again!"})},a.resetRecaptcha=function(){a.state.recaptchaInstance.reset()},a.forceLogIn=function(){var e={email:a.state.email,password:a.state.password,login_attempts:a.state.login_attempts,languageId:1,is_need:1};a.props.userSignInRequest(e),a.dismissModal()},a.dismissModal=function(){a.setState({showModal:!1})},a.state={email:"",password:"",emailError:"",passwordError:"",loginMessage:null,showProcess:"",recaptcha:"",recaptchaInstance:"",status:"",showRecaptcha:localStorage.getItem("showRecaptcha"),blockIP:localStorage.getItem("blockIP"),recaptchaError:"",ResetCAPTCHA:1,login_attempts:1,toastId:"",sitekey:Ee.CAPTCHA_SITE_KEY,showModal:!1,loggingIn:!1},a.handleInputChange=a.handleInputChange.bind(Object(ce.a)(Object(ce.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(ce.a)(Object(ce.a)(a))),a.forceLogIn=a.forceLogIn.bind(Object(ce.a)(Object(ce.a)(a))),a.dismissModal=a.dismissModal.bind(Object(ce.a)(Object(ce.a)(a))),a._reCaptchaRef=i.a.createRef(),localStorage.removeItem("tempLoggedUserData"),a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleEnter,!1)}},{key:"componentDidUpdate",value:function(e){if(this.props.login_attempts!==e.login_attempts&&1!==localStorage.getItem("login_attempts")){var t=this.props.login_attempts,a=!1,s=!1;localStorage.setItem("login_attempts",t),(t>Ee.SHOW_CAPTCHA_AFTER_COUNT||localStorage.getItem("showRecaptcha"))&&(a=!0,localStorage.setItem("showRecaptcha",1)),601==this.props.status&&(s=!0),this.setState({login_attempts:t,showRecaptcha:a?1:0,showModal:!!s,loggingIn:this.props.loggingIn})}else if(604==this.props.status)this.props.history.push("/upgrade-account-to-stripe");else if(603==this.props.status)this.props.history.push("/upgrade-subscription-plan");else if(602==this.props.status)this.props.history.push("/accept-agreement");else if(605==this.props.status)this.props.history.push("/two-factor-login");else if(200==this.props.status){localStorage.setItem("languageData",JSON.stringify(this.props.userData.languageData));this.props.userData.globalPrivileges;localStorage.setItem("globalPrivileges",JSON.stringify(this.props.userData.globalPrivileges)),this.props.history.push(this.props.redirect_url)}}},{key:"componentDidMount",value:function(){var e=this;document.addEventListener("keydown",this.handleEnter,!1);var t={};if(localStorage.getItem("languageData")&&(t=JSON.parse(localStorage.getItem("languageData"))),t&&void 0!==t.global&&t.global){var a=JSON.parse(localStorage.getItem("languageData"));this.setState({loginEmailLabel:a.global.loginEmailLabel,loginCloseBtn:a.global.loginCloseBtn,loginAccountLocked:a.global.loginAccountLocked,loginAccountLockedMsg:a.global.loginAccountLockedMsg,loginForgotLabel:a.global.loginForgotLabel,loginPasswordLabel:a.global.loginPasswordLabel,loginHeader:a.global.loginHeader,loginBtn:a.global.loginBtn,languageData:a,alreadyLoginLabel:a.global.already_logged_in_header,loggingInBtn:a.global.loggingInBtn}),Q.a.get(Ee.API_URL+"getLanguageText/1/global").then(function(e){var t=e.data.data;a.global=t.global,localStorage.setItem("languageData",JSON.stringify(a))}).catch(function(e){})}else Q.a.get(Ee.API_URL+"getLanguageText/1/global").then(function(t){var a=t.data.data;localStorage.setItem("languageData",JSON.stringify(a)),e.setState({loginEmailLabel:a.global.loginEmailLabel,loginCloseBtn:a.global.loginCloseBtn,loginAccountLocked:a.global.loginAccountLocked,loginAccountLockedMsg:a.global.loginAccountLockedMsg,loginForgotLabel:a.global.loginForgotLabel,loginPasswordLabel:a.global.loginPasswordLabel,loginHeader:a.global.loginHeader,loginBtn:a.global.loginBtn,languageData:a,alreadyLoginLabel:a.global.already_logged_in_header,loggingInBtn:a.global.loggingInBtn})}).catch(function(e){})}},{key:"handleInputChange",value:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value;this.setState(Object(se.a)({},e.target.name,a))}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=!1;if(this.setState({emailError:"",passwordError:"",loggingIn:!0}),void 0===typeof this.state.email||null===this.state.email||""===this.state.email?(rt.toast.error("Email can not be blank!"),t=!0):nt.a.isEmail(this.state.email)||(rt.toast.error("Incorrect email address"),t=!0),void 0!==typeof this.state.password&&null!==this.state.password&&""!==this.state.password||(rt.toast.error("Password can not be blank!"),t=!0),this.state.showRecaptcha&&(void 0!==typeof this.state.recaptchaError&&null!==this.state.recaptchaError&&""!==this.state.recaptchaError.trim()||(rt.toast.error("Please verify recaptcha!"),t=!0)),!0!==t){var a={email:this.state.email,password:this.state.password,login_attempts:this.state.login_attempts,languageId:1};localStorage.getItem("login_attempts")||localStorage.setItem("login_attempts",1),this.props.userSignInRequest(a)}else this.setState({loggingIn:!1})}},{key:"render",value:function(){var e=this.state.loggingIn?this.state.loggingInBtn:this.state.loginBtn;return i.a.createElement("div",{className:"guest"},i.a.createElement(ue,null),i.a.createElement("div",{className:"login-main"},i.a.createElement("h1",null,this.state.loginHeader),i.a.createElement("form",null,i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:"usr"},this.state.loginEmailLabel,":"),i.a.createElement("input",{name:"email",className:"form-control",placeholder:this.state.loginEmailLabel,maxLength:"500",type:"text",id:"UserEmailId",value:this.state.email,onChange:this.handleInputChange})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:"pwd"},this.state.loginPasswordLabel,":"),i.a.createElement("input",{name:"password",className:"form-control",placeholder:this.state.loginPasswordLabel,type:"password",id:"UserPassword",value:this.state.password,onChange:this.handleInputChange})),i.a.createElement("div",{className:this.state.showRecaptcha?"":"no-display"},i.a.createElement(it.a,{style:{display:"inline-block"},theme:"light",ref:this._reCaptchaRef,sitekey:this.state.sitekey,onChange:this.handleChange,onExpired:this.expiredCallback,onErrored:this.errorCallback,asyncScriptOnLoad:this.asyncScriptOnLoad})),i.a.createElement("div",{className:"form-group"},i.a.createElement("a",{className:this.state.loggingIn?"button login-form-submit login-form-submit-anchor green":"button login-form-submit login-form-submit-anchor",disable:this.state.loggingIn?"disable":"",onClick:this.state.loggingIn?function(e){return e.preventDefault()}:this.handleSubmit},e," ",i.a.createElement("img",{className:this.state.loggingIn?"":"no-display",src:"../images/btn-load.gif"}))),i.a.createElement("div",{className:"text-center forgot-password"},i.a.createElement(me.a,{to:"/forgot-password"},this.state.loginForgotLabel,"?")),i.a.createElement("div",{className:this.state.showModal?"overlay":""}),i.a.createElement("div",{id:"filterModal",role:"dialog",className:this.state.showModal?"modal fade in displayBlock":"modal fade"},i.a.createElement("div",{className:"modal-dialog"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal",onClick:this.dismissModal},"\xd7"),i.a.createElement("h4",{className:"modal-title",id:"model_title"},this.state.alreadyLoginLabel,this.state.showModal)),i.a.createElement("div",{id:"errorwindow",className:"modal-body add-patient-form filter-patient"},this.state.loginAccountLockedMsg),i.a.createElement("div",{className:"modal-footer"},i.a.createElement("div",{className:"col-md-12 text-left",id:"footer-btn"},i.a.createElement("button",{type:"button",className:"btn defaut-btn loinCloseBtn","data-dismiss":"modal",onClick:this.dismissModal},this.state.loginCloseBtn),i.a.createElement("button",{type:"button",className:"btn btn-info logout pull-right","data-dismiss":"modal",onClick:this.forceLogIn},this.state.loginBtn)))))))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}),i.a.createElement(be,null))}}]),t}(i.a.Component),lt=Object(Z.b)(function(e){if("LOGIN"===e.UserReducer.action){var t={};if(200!=e.UserReducer.Logindata.status){if(localStorage.getItem("login_attempts")&&(t.login_attempts=parseInt(localStorage.getItem("login_attempts"))+1,t.loggingIn=!1),601==e.UserReducer.Logindata.status)t.showModal=!0,t.loggingIn=!1;else{rt.toast.dismiss();var a=JSON.parse(localStorage.getItem("languageData"));rt.toast.error(a.global[e.UserReducer.Logindata.message]),t.loggingIn=!1}t.loginMessage=e.UserReducer.Logindata.message,t.status=e.UserReducer.Logindata.status}else{var s=e.UserReducer.Logindata.data;if(s.render_view)t.status=605,t.twoFactorData=s,localStorage.setItem("twoFactorData",JSON.stringify(s));else if(t.status=200,t.login_attempts=1,t.loggingIn=!0,localStorage.removeItem("showRecaptcha"),localStorage.removeItem("login_attempts"),t.userData=e.UserReducer.Logindata.data,void 0!=s.redirect_to&&null!=s.redirect_to&&""!=s.redirect_to&&(Je(s.redirect_to),t.redirect_to=s.redirect_to,t.redirect_url=Qe()),void 0!=s.redirect_to&&"upgrade-account-to-stripe"!=s.redirect_to&&"upgrade-subscription-plan"!=s.redirect_to&&void 0!=s.is_bba_signed&&1==s.is_bba_signed)t.status=200,localStorage.setItem("currentUserRole",s.user.user_role_id),localStorage.setItem("userData",JSON.stringify(s)),localStorage.setItem("isLoggedIn",1),localStorage.setItem("user_listing_settings",JSON.stringify(s.user_listing_settings));else{void 0!=s.redirect_to&&"upgrade-account-to-stripe"==s.redirect_to?t.status=604:void 0!=s.redirect_to&&"upgrade-subscription-plan"==s.redirect_to?t.status=603:(Je("accept-agreement"),t.status=602);var n={userData:s,currentUserRole:s.user.user_role_id,isLoggedIn:1,user_listing_settings:s.user_listing_settings,access_token:xe()};localStorage.setItem("tempLoggedUserData",JSON.stringify(n))}}return t}return{loginMessage:""}},function(e){return{userSignInRequest:Object(c.bindActionCreators)(et,e)}})(Object(de.a)(ot)),ct=function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).submitOTP=function(){if(a.setState({otpError:!1,tokenError:!1,loggingIn:!0}),"sms_otp"==a.state.twoFactorType.render_view){if(""==a.state.otp)return a.setState({otpError:!0,loggingIn:!1}),!1}else if(""==a.state.token)return a.setState({tokenError:!0,loggingIn:!1}),!1;var e={};"sms_otp"==a.state.twoFactorType.render_view?e.smsOTP=a.state.otp:(e.auth_token=a.state.token,e.google_auth_code=a.state.twoFactorType.google_auth_code);var t=JSON.parse(localStorage.getItem("twoFactorData"));e.email=t.email,e.password=t.password,a.props.verifyOTP(e,a.state.twoFactorType.render_view)},a.handleEnter=function(e){var t=a.submitOTP;switch((e=e||window.event).which||e.keyCode){case 13:t(e)}},a.state={gCode:"",otpError:!1,showProcess:"",pwdchangeMessage:"",status:"",otp:"",token:"",timeStamp:new Date,loggingIn:!1,twoFactorType:localStorage.getItem("twoFactorData")?JSON.parse(localStorage.getItem("twoFactorData")):""},localStorage.getItem("twoFactorData")?(a.handleInputChange=a.handleInputChange.bind(Object(ce.a)(Object(ce.a)(a))),a):(a.props.history.push("/login"),Object(re.a)(a,!1))}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e=this;document.addEventListener("keydown",this.handleEnter,!1);var t={};if(localStorage.getItem("languageData")&&(t=JSON.parse(localStorage.getItem("languageData"))),t&&void 0!==t.global&&t.global){var a=JSON.parse(localStorage.getItem("languageData"));this.setState({two_step_verification:a.global.two_step_verification,enter_otp:a.global.enter_otp,label_continue:a.global.label_continue,backToLoginBtn:a.global.backToLoginBtn,resetPasswordBtnn:a.global.resetPasswordBtnn,enter_token:a.global.enter_token,otpPlaceholder:a.global.enter_otp,loggingInBtn:a.global.loggingInBtn})}else Q.a.get(Ee.API_URL+"getLanguageText/1/global").then(function(t){var a=t.data.data;localStorage.setItem("languageData",JSON.stringify(a)),e.setState({two_step_verification:a.global.two_step_verification,enter_otp:a.global.enter_otp,label_continue:a.global.label_continue,backToLoginBtn:a.global.backToLoginBtn,resetPasswordBtnn:a.global.resetPasswordBtnn,otpPlaceholder:a.global.enter_otp,enter_token:a.global.enter_token,loggingInBtn:a.global.loggingInBtn})}).catch(function(e){})}},{key:"handleInputChange",value:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value;this.setState(Object(se.a)({},e.target.name,a))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleEnter,!1)}},{key:"render",value:function(){var e=this.state.loggingIn?this.state.loggingInBtn:this.state.label_continue;return i.a.createElement("div",{className:"guest"},i.a.createElement(ue,null),i.a.createElement("div",{className:"login-container"},i.a.createElement("div",{className:"login-main"},i.a.createElement("h1",null,this.state.two_step_verification),i.a.createElement("form",null,i.a.createElement("div",{className:this.state.twoFactorType&&"sms_otp"==this.state.twoFactorType.render_view?"form-group":"no-display"},i.a.createElement("label",{htmlFor:"usr"},this.state.enter_otp,":"),i.a.createElement("input",{name:"otp",className:this.state.otpError?"form-control field-error":"form-control",placeholder:this.state.otpPlaceholder,type:"text",value:this.state.otp,onChange:this.handleInputChange})),i.a.createElement("div",{className:this.state.twoFactorType&&"google_authenticator"==this.state.twoFactorType.render_view?"form-group":"no-display"},i.a.createElement("label",{htmlFor:"usr"},this.state.enter_token,":"),i.a.createElement("input",{name:"token",className:this.state.tokenError?"form-control field-error":"form-control",placeholder:this.state.tokenPlaceholder,type:"text",value:this.state.token,onChange:this.handleInputChange})),i.a.createElement("div",{className:"form-group"},i.a.createElement("div",{className:"resetpswd pull-left"},i.a.createElement("div",{className:"submit"},i.a.createElement("a",{className:this.state.loggingIn?"button login-form-submit login-form-submit-anchor green":"button login-form-submit login-form-submit-anchor",disable:this.state.loggingIn?"disable":"",onClick:this.state.loggingIn?function(e){return e.preventDefault()}:this.submitOTP},e," ",i.a.createElement("img",{className:this.state.loggingIn?"":"no-display",src:"../images/btn-load.gif"})))))))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}),i.a.createElement(be,null))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};if(void 0!=e.userData&&t.timeStamp!=e.timeStamp&&"false"==localStorage.getItem("showLoader")){var s=e.userData;if(localStorage.removeItem("showRecaptcha"),localStorage.removeItem("login_attempts"),a.userData=e.userData,void 0!=s.redirect_to&&null!=s.redirect_to&&""!=s.redirect_to&&(Je(s.redirect_to),a.redirect_to=s.redirect_to,a.redirect_url=Qe()),void 0!=s.redirect_to&&"upgrade-account-to-stripe"!=s.redirect_to&&"upgrade-subscription-plan"!=s.redirect_to&&void 0!=s.is_bba_signed&&1==s.is_bba_signed){a.status=200,Je(s.redirect_to),localStorage.setItem("currentUserRole",s.user.user_role_id),localStorage.setItem("userData",JSON.stringify(s)),localStorage.setItem("isLoggedIn",1),localStorage.setItem("user_listing_settings",JSON.stringify(s.user_listing_settings)),a.showLoader=!1,localStorage.setItem("languageData",JSON.stringify(s.languageData));s.globalPrivileges;localStorage.setItem("globalPrivileges",JSON.stringify(s.globalPrivileges)),localStorage.removeItem("twoFactorData"),e.history.push(Qe())}else{var n={userData:s,currentUserRole:s.user.user_role_id,isLoggedIn:1,user_listing_settings:s.user_listing_settings,access_token:xe()};localStorage.setItem("tempLoggedUserData",JSON.stringify(n)),void 0!=s.redirect_to&&"upgrade-account-to-stripe"==s.redirect_to?e.history.push("/upgrade-account-to-stripe"):void 0!=s.redirect_to&&"upgrade-subscription-plan"==s.redirect_to?e.history.push("/upgrade-subscription-plan"):(Je("accept-agreement"),e.history.push("/accept-agreement")),a.showLoader=!1}}return void 0!=e.showLoader&&0==e.showLoader?(a.showLoader=!1,a.loggingIn=!1,a):a}}]),t}(i.a.Component),dt=Object(Z.b)(function(e){var t={},a=JSON.parse(localStorage.getItem("languageData"));return rt.toast.dismiss(),localStorage.setItem("showLoader",!1),"VERIFY_OTP"===e.UserReducer.action&&(200!=e.UserReducer.data.status?(rt.toast.error(a.global[e.UserReducer.data.message]),t.showLoader=!1):(t.userData=e.UserReducer.data.data,t.message=a.global[e.UserReducer.data.message])),t},function(e){return{verifyOTP:Object(c.bindActionCreators)(at,e)}})(Object(de.a)(ct)),mt=Ee.API_URL,ut=Q.a.create();function pt(){return function(e){e({type:"ACCOUNT_RESET"})}}function ht(e){return function(t){t({type:"ACCOUNT_RESET"}),ut.post(mt+"sign-tos-agreement",e||"").then(function(e){t({type:"ACCEPT_TOS_AGREEMENT",payload:e.data})}).catch(function(e){e.response&&t({type:"ACCEPT_TOS_AGREEMENT",payload:e.response.data})})}}function gt(e){return function(t){t({type:"ACCOUNT_RESET"}),ut.post(mt+"upgrade-plan",e).then(function(e){t({type:"UPGRADE_TRAIL_TO_PAID",payload:e.data})}).catch(function(e){e.response&&t({type:"UPGRADE_TRAIL_TO_PAID",payload:e.response.data})})}}function _t(e){return function(t){t({type:"ACCOUNT_RESET"}),ut.post(mt+"upgrade-account-to-stripe",e).then(function(e){t({type:"UPGRADE_RECURLY_TO_STRIPE",payload:e.data})}).catch(function(e){e.response&&t({type:"UPGRADE_RECURLY_TO_STRIPE",payload:e.response.data})})}}ut.interceptors.response.use(function(e){return e.headers.access_token&&Ce(e.headers.access_token),void 0!=e.data&&void 0!=e.data.global_settings&&He(e.data.global_settings),Xe(),e},function(e){return 602===e.response.data.status&&(localStorage.setItem("blockIP",1),window.location.href="/block-ip"),Promise.reject(e)});var vt=a(92),ft=function(e){function t(){var e,a;Object(ne.a)(this,t);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(a=Object(re.a)(this,(e=Object(oe.a)(t)).call.apply(e,[this].concat(n)))).handleAccept=function(){a.props.handleChildChange({isHppaPolicyAccepted:!0}),a.props.toggleSignUpForm(a.props.nextStep)},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"login-main-policy"},i.a.createElement("div",{className:"policy-info"},void 0!=this.props.signUpLabel?i.a.createElement("div",{className:"col-sm-12"},i.a.createElement("div",{className:"login-title"},this.props.signUpLabel)):null,i.a.createElement("div",{className:"col-sm-12 hippa-section"},i.a.createElement("div",{className:"member-section"},i.a.createElement("div",{className:"member-section-title no-margin"},this.props.globalLang.signup_hippa_business_associate_addendum),i.a.createElement("div",{className:"term-policy-div"},i.a.createElement(vt.Scrollbars,{style:{height:370}},i.a.createElement("h4",null,"General"),i.a.createElement("p",null,"Thank you for choosing Aesthetic Record (\u201cService Provider\u201d) for your business. When you (also referred to herein as \u201cCustomer\u201d) use our products and services you\u2019re agreeing to our terms and the applicable privacy policy, so please read these Terms of Service carefully as they contain important information regarding your legal rights and obligations. Certain capitalized words below are defined herein."),i.a.createElement("p",null,"Aesthetic Record provides online business management software services for the aesthetics and beauty industry (\u201cSoftware Service\u201d). You can access our Software Service via the login page on our website and through our app."),i.a.createElement("p",null,"The order confirmation when you signed up for our Software Service (the \u201cOrder Confirmation\u201d) and these terms (collectively, this \u201cAgreement\u201d) comprise the entire agreement between the parties, and supersede all prior or contemporaneous understandings, agreements, negotiations, representations and warranties, and communications, both written and oral."),i.a.createElement("p",null,"This Agreement prevails over any Customer\u2019s general terms and conditions regardless whether or when Customer has submitted its request for proposal, order, or such terms. Provision of services to Customer does not constitute acceptance of any of Customer\u2019s terms and conditions and does not serve to modify or amend this Agreement."),i.a.createElement("p",null,"This Agreement applies to any use of and access to our Software Service, Website or App (collectively, \u201cServices\u201d) by you and your Affiliates. By accessing or using any Software Services (or enabling an Affiliate to access or use any Software Services), you are indicating that you have read this Agreement and agree to be bound by its terms. If you do not agree with all of the terms of this Agreement, you may not access or use any Services."),i.a.createElement("p",null,"This Agreement is effective (\u201cEffective Date\u201d) on the earlier of (a) the date you accept this Agreement by clicking an \u201cAccept\u201d or similar button or otherwise indicate that you accept this Agreement (including through an Order Confirmation), or (b) the date you (or an Affiliate) first access or use any Services."),i.a.createElement("p",null,"When you use our Services, you are entering into a legal agreement and you agree to all of these terms. If you enter into this Agreement on behalf of a company or other legal entity, you represent and warrant that you have the legal authority to bind that entity and its Affiliates to this Agreement, and all references to \u201cyou\u201d and \u201cyour\u201d in this Agreement are referring to that entity. You and Aesthetic Record are also sometimes referred to in this Agreement individually as a \u201cParty\u201d and collectively as the \u201cParties.\u201d"),i.a.createElement("p",null,i.a.createElement("b",null,"Our privacy policy governs how we collect and use personal information that is submitted through the Services. By accessing or using the services, you agree that you have read and accepted our privacy policy and agree to its terms.")),i.a.createElement("p",null,"This Agreement applies to any use of the Services, whether in connection with a paid subscription or a free trial. Certain additional terms apply if you are entering information that originates in the European Economic Area."),i.a.createElement("p",null,"We continuously strive to improve our products and services, and as our business evolves, this agreement may change. This section describes how we can change the agreement. We may, in our sole discretion, make changes to this Agreement from time to time. Any changes we make will become effective when we post a modified version of the Agreement to our Website or app, and we agree the changes will not be retroactive. If we make any material changes to the Agreement, we\u2019ll also notify you within the Software Service or by sending you an email. If you continue using the Services after any changes, it means you have accepted them. If you do not agree to any changes, you must stop using the Services and you must cancel your account. It is your obligation to ensure that you read, understand and agree to the latest version of the Agreement that\u2019s posted on our Website. The legend at the top of the Agreement indicates when it was last changed."),i.a.createElement("p",null,"Additional terms apply to certain products that we provide. Your use of, and participation in, certain Services may be subject to additional terms (\u201cSupplemental Terms\u201d) and such Supplemental Terms will either be listed in this Agreement or will be presented to you for your acceptance when you sign up to use the supplemental Service. If this Agreement is inconsistent with the Supplemental Terms, the Supplemental Terms will control with respect to the service with which it applies."),i.a.createElement("h4",null,"Your Data and Your Business"),i.a.createElement("p",null,"\u201cYour Data\u201d means any data, information or material provided or submitted or made available by you and Affiliates to the Services. Your Data may include End User Data and Cardholder Data (and your or their representative\u2019s data), but excludes Aggregated Data."),i.a.createElement("p",null,"\u201cAffiliate\u201d means any entity that directly or indirectly controls, is controlled by, or is under common control with you, and that has been designated to receive Services under this Agreement. \u201cControl\u201d for purposes of this definition means the power to direct or cause the direction of the management and policies of the subject entity, whether through equity ownership, a credit arrangement, franchise agreement or other contractual arrangement. \u201cAffiliate\u201d also includes any of your business locations and any Franchisees that have been designated to receive Services under this Agreement."),i.a.createElement("p",null,i.a.createElement("b",null,"As between you and Aesthetic Record, you own all right, title and interest in Your Data. You hereby grant Aesthetic Record a non-exclusive, worldwide, assignable, sublicensable, fully paid-up and royalty-free license and right to copy, distribute, display and perform, publish, prepare derivative works of and otherwise use Your Data for the purposes of providing, improving and developing Aesthetic Record\u2019s products and services and/or complementary products and services of our partners and for the purposes of cooperating with government authorities should Your Data ever be requested. You represent and warrant to Aesthetic Record that you have all rights necessary to grant the licenses and that the provision of Your Data through and in connection with the services does not violate any applicable laws or rights of any third party.")),i.a.createElement("p",null,i.a.createElement("b",null,"You represent and warrant to Aesthetic Record that you have all the legal licenses, rights and insurance necessary to conduct your business and collect Your Data.")),i.a.createElement("p",null,"You authorize Aesthetic Record to aggregate or anonymize Your Data or other data in connection with the Agreement, and Aesthetic Record will own all Aggregated Data. You agree that nothing in this Agreement will prohibit Aesthetic Record or its affiliates from utilizing Aggregated Data for any purpose, provided such Aggregated Data does not reveal any personally identifying information about you or any end users."),i.a.createElement("p",null,i.a.createElement("b",null,"Notwithstanding any other sections of this Agreement, all right, title and interest in any data or information collected by Aesthetic Record independently and without access to, reference to or use of any of Your Data, including, without limitation, any data or information Aesthetic Record obtains through the Aesthetic Record app or website (whether the same as Your Data or otherwise), will be solely owned by Aesthetic Record.")),i.a.createElement("h4",null,"Our Services"),i.a.createElement("p",null,"Aesthetic Record will make the Services to which you have subscribed available to you, subject to the terms and conditions of this Agreement. We may temporarily suspend your access for things like scheduled maintenance, or if a natural disaster occurs. We may also change or discontinue particular features or functions of our Services at any time."),i.a.createElement("p",null,"We reserve the right to suspend any Services during planned downtime, in connection with a force majeure event, or if we believe any malicious software is being used in connection with your account. In addition, we reserve the right to change, suspend or discontinue any features, components or functions of the Services at any time. If we make any material changes to the Software Service, we\u2019ll notify you within the Software Service or by sending you an email. Notwithstanding the above, we have no obligation to update or enhance any Services or to produce or release new versions of any Services."),i.a.createElement("p",null,"We aren\u2019t responsible for any third party products that are integrated with or used in connection with the Services."),i.a.createElement("p",null,"Although the Services may allow you to access or use Third Party Offerings, they are not \u201cServices\u201d under this Agreement and are not subject to any of the warranties, service commitments or other obligations with respect to Services hereunder. The availability of any Third Party Offerings through the Services does not imply Aesthetic Record\u2019s endorsement of or affiliation with the provider."),i.a.createElement("p",null,"Your standard subscription fees include our standard support services. You may also purchase additional services for an additional fee."),i.a.createElement("p",null,"When you subscribe to our Software Service, and when available, your business will be provided the opportunity to be listed on Aesthetic Record\u2019s online marketing platform and marketplace (\u201cMarketing Services\u201d), which allows consumers to locate Aesthetic Record subscribers and evaluate, review and book their services, directly through the Aesthetic Record App and through our partner applications. From time to time, Aesthetic Record may offer subscribers the opportunity to participate in promotional programs (\u201cAR Promos\u201d), which are designed to promote their businesses and attract customers through the Marketing Services. Aesthetic Record reserves the right to charge fees for AR Promos."),i.a.createElement("p",null,"We are not responsible for any damages resulting from your use of any trial or beta services."),i.a.createElement("p",null,"Aesthetic Record may in its sole discretion offer free, trial or beta Services from time to time at no charge. Notwithstanding anything to the contrary herein: (a) any free, trial or beta Services are provided \u201cAS IS\u201d with no warranties of any kind; and (b) Aesthetic Record may discontinue any free, trial or beta Services or your ability to use such Services at any time, with or without notice and without any further obligations to you. Without limiting the generality of the foregoing, free Services that have not been accessed or used for 3 consecutive months may be terminated by us. Aesthetic Record will have no liability for any harm or damages suffered by you or any third party in connection with any free, trial or beta services."),i.a.createElement("p",null,"Aesthetic Record offers the ability to process payments through the Services (\u201cPayment Processing Services\u201d). Payment Processing Services are provided by our third party payment processing partner as Third Party Offerings and any procurement by you or your Affiliates will be subject to a separate merchant agreement which will be solely between you (or your Affiliate) and the third party processor."),i.a.createElement("p",null,"At Aesthetic Record\u2019s sole discretion, you may be offered Payment Processing Services provided by Stripe (\u201cAesthetic Record Payments\u201d). Aesthetic Record Payments are subject to certain fees and charges communicated to you during the enrollment process and as may be updated by Aesthetic Record from time to time. By enrolling in Aesthetic Record Payments, you agree to be bound by the Stripe Services Agreement, as the same may be modified by Stripe from time to time. As a condition of Aesthetic Record enabling payment processing services through Stripe, you agree to provide Aesthetic Record accurate and complete information about you and your business, and you authorize Aesthetic Record to share it and transaction information related to your use of the payment processing services provided by Stripe pursuant to our Privacy Policy. To the extent permitted by law, we may collect any obligations you owe us under this Agreement by deducting the corresponding amounts from funds payable to you arising from the settlement of card transactions through Aesthetic Record Payments. Fees will be assessed at the time a transaction is processed and will be first deducted from the funds received for such transactions. If the settlement amounts are not sufficient to meet your obligations to us, we may charge or debit the bank account or credit card registered in your account for any amounts owed to us. Your failure to fully pay amounts that you owe us on demand will be a breach of this Agreement. You will be liable for our costs associated with collection in addition to the amount owed, including without limitation attorneys' fees and expenses, costs of any arbitration or court proceeding, collection agency fees, and any applicable interest. Additionally, we may require a personal guaranty from a principal of a business for funds owed under this Agreement. If we require a personal guarantee we will specifically inform you. In addition to the amount due, delinquent accounts may be charged with fees that are incidental to the collection of delinquent accounts and chargebacks including, but not limited to, collection fees and convenience fees and other third parties charges. You hereby explicitly agree that communication from Aesthetic Record in relation to delinquent accounts may made by electronic mail or by phone or by other communication methods."),i.a.createElement("p",null,i.a.createElement("b",null,"All transactions that are done via card swipe using a card reader will be charged 2.75% plus any fees Stripe or its successor processor may charge, All transactions done via manual card entry or key entry will be charged 3.50% plus any fees Stripe may charge.")),i.a.createElement("p",null,i.a.createElement("b",null,"Aesthetic Record reserves the right to not offer the service to certain clients in its sole determination. In such situations, Aesthetic Record will provide the client 30 days written notice, unless the reason your account is being terminated is because of an alleged violation of a law, harassment or similar, in which case your account may be terminated sooner.")),i.a.createElement("p",null,i.a.createElement("b",null,"Card readers purchased by you in connection with this Agreement are final sale. They cannot be returned, exchanged or refunded.")),i.a.createElement("p",null,"If we make multiple discounts or pricing options for a service available to you at one time, you will only be eligible to receive one discount or pricing option, and will not be entitled to cumulative discounting and pricing options."),i.a.createElement("p",null,"You will ensure that all information you provide to us via the website or app is accurate, complete and not misleading."),i.a.createElement("p",null,i.a.createElement("b",null,"You are not eligible to use our Services (including obtaining a Credential or entering into a user agreement) unless you are at least 18 years old and otherwise have the legal capacity to enter into a binding contract in your jurisdiction.")),i.a.createElement("h4",null,"User Content"),i.a.createElement("p",null,i.a.createElement("b",null,"Our Services may allow you to access blogs, message boards, chat services, surveys and other forums where various users can share information, opinions, chats and other Content. We generally do not pre-screen or monitor user-submitted Content, and such Content may simply represent a user\u2019s opinion or Content a user finds interesting. Our Services may also include survey results, ratings or testimonials (\u201cEvaluations\u201d) from patients, clients or other customers (\u201cPatients\u201d) of healthcare professionals (\u201cProfessionals\u201d) that may endorse, recommend, critique, analyze, evaluate or otherwise describe the Professionals and the nature or quality of the services received by such patient, client or customer. Such Evaluations are anecdotal first-hand accounts of individual Patients, and are neither professional judgments nor the product of medical science. Such Evaluations do not in any way constitute or imply our endorsement or recommendation of any Professional. Further, Evaluations are subject to errors and biases that are common in anecdotal first-hand accounts, and should not to be presumed to be reliable or error-free.")),i.a.createElement("h4",null,"Directories"),i.a.createElement("p",null,i.a.createElement("b",null,"Our Services may include listings and directories (\u201cDirectories\u201d) to help our clients. The Directories are provided for your convenience. The Directories are not comprehensive, but rather generally represent Professionals who use our Services and who have chosen to participate in the Directories. Further, we do not evaluate any Professional and the listing of a Professional does not in any way constitute a recommendation of such Professional. Before obtaining services or treatment from any Professional listed in a Directory, you should take the same care you would under any other circumstance, including by confirming licensure and specialty certifications. The Professionals are solely responsible for the appropriateness and quality of the services they provide. Additionally, the Directories rely on information submitted by Professionals themselves. Unless Professionals provide us with current information, the Directory information may not be timely or accurate. You should confirm such information before obtaining services or treatment from a Professional. As a convenience, the Services may permit you to request an appointment with a Professional. However, Professionals are responsible for maintaining their own schedules, and we cannot ensure that any given Professional will be available, nor that such Professional will not cancel his or her appointment.")),i.a.createElement("h4",null,"No Medical Advice"),i.a.createElement("p",null,i.a.createElement("b",null,"Some Content may include health- or medical-related information. Such Content is provided for general informational purposes only. We do not directly or indirectly practice medicine, render medical advice, or dispense medical services via our Services or otherwise, and nothing contained in our Services should be intended to be a medical diagnosis or treatment. No medical professional/patient relationship is created by your use of our Services or the Content. Always seek the advice of your physician or other qualified health professional with any questions you may have regarding a medical condition, and never disregard professional medical advice or delay seeking treatment based on any Content or other information included in the Services. If you think you may have a medical emergency, call your healthcare professional or your local emergency number (usually 911) immediately.")),i.a.createElement("h4",null,"Clinical Decision Support Information"),i.a.createElement("p",null,i.a.createElement("b",null,"If you are a Professional, the Content may include information to assist you in clinical decision-making. This may include information and reminders concerning drug interactions, allergies, dosages, as well as general healthcare related information and resources, such as assessments. We may also provide forums for our users to exchange information. The information and materials available through our Services are for informational purposes only and are not intended to constitute professional advice, diagnosis or treatment, or to substitute for your professional judgment.")),i.a.createElement("h4",null,"No Legal or Regulatory Advice"),i.a.createElement("p",null,i.a.createElement("b",null,"Some Content may include regulatory related information pertaining to you or your business. Such Content is provided for informational purposes only and as examples only. We are not providing legal or regulatory advice and no attorney/client relationship is created by your use of our Services or the Content. Accordingly, always seek the advice of your attorney or advisor with any questions you may have regarding a law, medical consents, supervision requirements, regulations, or disputes, and things of similar nature.")),i.a.createElement("h4",null,"Public Forums"),i.a.createElement("p",null,i.a.createElement("b",null,"We may offer one or more forums for the exchange of information among our users. You acknowledge that any text, data, graphics, images, video or other content (\u201cContent\u201d) that you submit in any of our forums (including discussion groups, blogs, surveys, ratings, comment forms, or message boards, collectively, \u201cPublic Forums\u201d) is available to the public. Notwithstanding the foregoing, we are under no obligation to display any of your Content that you submit, and we reserve the right to remove or edit your Content at any time, for any or no reason.")),i.a.createElement("p",null,i.a.createElement("b",null,"It is important that you act responsibly when submitting Content to a Public Forum. You acknowledge that any Content that you submit in a Public Forum is available to the public. You are solely responsible for any Content that you post on the Public Forums or transmit to other users of our Services. You acknowledge that any information you post in a Public Forum may be available to the public, and may result in your receiving communications from others outside our Services.")),i.a.createElement("p",null,i.a.createElement("b",null,"You will only disclose information about yourself on a Public Forum that you consider suitable for public disclosure. You will not disclose information that personally identifies you unless you intend for that information to be disclosed publicly. We strongly recommend that you refrain from disclosing any sensitive information about yourself on a Public Forum, including information about any medical condition. You will not violate the privacy rights of others, including disclosing information about anyone else\u2019s medical or financial condition or any other sensitive subjects.")),i.a.createElement("p",null,i.a.createElement("b",null,"You will ensure that any Content that you submit to Public Forums is accurate. If you are rating or reviewing a Professional, you agree to provide your honest appraisals of such Professional, without using inappropriate language or making gratuitous personal criticisms.")),i.a.createElement("p",null,i.a.createElement("b",null,"You will not post any Content that you do not have the right to post; you will not violate any person\u2019s or entity\u2019s intellectual property or proprietary rights, including copyrights, trademarks or trade secret rights.")),i.a.createElement("p",null,i.a.createElement("b",null,"We will not be liable to you for any Content you submit to any Public Forum.")),i.a.createElement("p",null,i.a.createElement("b",null,"You understand and agree that we may, but are not obligated to, monitor, edit or remove any Content for any or no reason at any time. We are not responsible, however, for any delay or failure in removing any Content.")),i.a.createElement("h4",null,"Subscription Term"),i.a.createElement("p",null,"The term of this Agreement will be either month to month or yearly (\u201cSubscription Term\u201d), depending on which subscription you signed up for in your subscription details tab within your Aesthetic Record account settings. The Subscription Term commences on the Effective Date and will automatically renew on a monthly basis for monthly contracts and on a yearly basis for yearly contracts until either Party terminates in accordance with this Agreement. Either Party may terminate the Agreement and/or any subscription at any time, for any reason or no reason, by providing notice to the other Party at least thirty (30) days before the end of the relevant Subscription Term. Unless otherwise specified in an Order Form, Subscription Fees during any automatic renewal term will revert to the current pricing in effect at the time such renewal term commences."),i.a.createElement("p",null,"Aesthetic Record may terminate this Agreement and/or any subscription, effective immediately upon notice to you, if you or an Affiliate are in material breach of this Agreement. In the event of a termination pursuant to this section, in addition to other amounts you may owe Aesthetic Record you must immediately pay any unpaid Subscription Fees associated with the remainder of the Subscription Term. In no event will any termination relieve you of your obligation to pay any fees payable to Aesthetic Record for the period prior to the effective date of termination."),i.a.createElement("p",null,"Upon termination or expiration of this Agreement (a) all Order Forms will automatically terminate and be of no force or effect; (b) you will have no rights to continue use of the Services and will cease accessing and/or using the Services; and (c) except as specified in the following paragraph, Aesthetic Record will have no obligation to maintain your Services account or to retain or forward any data to you or any third party, except as required by applicable law."),i.a.createElement("p",null,"For a period of no greater than thirty (30) days following a notice of termination, Aesthetic Record will make Your Data available to you through Aesthetic Record. We may suspend or terminate your access to and use of the Services (or any portion thereof) at any time without notice if we believe (a) that any activity or use of Services in connection with your account violates this Agreement, the intellectual property rights of a third party or any applicable laws, or is otherwise disruptive or harmful to Aesthetic Record or any third party, (b) that we are required to do so by law, or (c) where the Parties do not agree on the use of a payment processor."),i.a.createElement("p",null,"If we reasonably believe any of Your Content violates the law, infringes or misappropriates the rights of any third party or otherwise violates a material term of the Agreement (\u201cProhibited Content\u201d), we will notify you of the Prohibited Content and may request that such content be removed from the Services or access to it be disabled. If you do not remove or disable access to the Prohibited Content within 2 business days of our notice, we may remove or disable access to the Prohibited Content or suspend the Services to the extent we are not able to remove or disable access to the Prohibited Content. Notwithstanding the foregoing, we may remove or disable access to any Prohibited Content without prior notice in connection with illegal content, where the content may disrupt or threaten the Services, pursuant to the Digital Millennium Copyright Act or as required to comply with law or any judicial, regulatory or other governmental order or request. In the event that we remove content without prior notice, we will provide prompt notice to you unless prohibited by law."),i.a.createElement("h4",null,"Your Responsibilities"),i.a.createElement("p",null,"You are responsible for making sure that you, your Affiliates and End Users comply with the terms of this agreement and applicable laws."),i.a.createElement("p",null,"You are responsible for all activity occurring under or relating to your account, including, but not limited to, your staff, employees, consultants, advisors, independent contractors, and End Users. You will ensure that your Affiliates and End Users comply with all of the provisions of this Agreement, and any applicable local, state, national and foreign laws, including those related to data privacy and transmission of personal data, at all times while using the Services. Any reference in this Agreement to your \u201caccess\u201d or \u201cuse\u201d of Services (or similar phrase) is deemed to include access or use, as appropriate, by Affiliates and/or End Users, and any act or omission of an Affiliate or End User that does not comply with this Agreement will be deemed a breach of this Agreement by you. You are also responsible for ensuring that you have the appropriate rights to interact and/or contact End Users through the Services, as applicable, in accordance with applicable laws and regulations."),i.a.createElement("p",null,"You will: (a) have sole responsibility for the accuracy and quality of Your Data and for ensuring that your collection and use of Your Data complies with applicable laws, including those related to data privacy and transmission of personal data; (b) prevent unauthorized access to, or use of, the Services, and notify Aesthetic Record promptly of any unauthorized access or use; and (c) have sole responsibility for obtaining, maintaining and paying for any hardware, telecommunications, Internet and other services needed to use the Services."),i.a.createElement("p",null,"You and your Affiliates and End Users will not: (i) submit any infringing, obscene, defamatory, threatening, or otherwise unlawful or tortious material to the Services, including material that violates privacy rights; (ii) interfere with or disrupt the integrity or performance of the Services or the data contained therein; (iii) attempt to gain access to the Services or related systems or networks in a manner not permitted by this Agreement; (iv) post, transmit or otherwise make available through or in connection with the Services any virus, worm, Trojan horse, Easter egg, time bomb, spyware or other harmful computer code, files, scripts agents or programs; (v) restrict or inhibit any other person or entity from using the Services; (vi) remove any copyright, trademark or other proprietary rights notice from the Services; (vii) frame or mirror any portion of the Services, or otherwise incorporate any portion of the Services into any product or service; (viii) systematically download and store Services content; or (ix) use any robot, spider, site search/retrieval application or other manual or automatic device to retrieve, index, \u201cscrape,\u201d \u201cdata mine\u201d or otherwise gather Services content, or reproduce or circumvent the navigational structure or presentation of the Services."),i.a.createElement("p",null,"You are liable if any Cardholder Data is mishandled under your account. You are solely responsible for any liability resulting from your or any Affiliate\u2019s handling of Cardholder Data. You agree that you and Affiliates will comply with PCI DSS anytime the Services are used to process credit cards."),i.a.createElement("p",null,"You will ensure all user names and passwords are kept confidential. Aesthetic Record may reject or require that you change any user name or password under your account. User names and passwords are for internal business use only and may not be shared with any third party, including any competitor of Aesthetic Record. You, and not Aesthetic Record are responsible for any use or misuse of user names or passwords associated with your account. Sharing one user name and one password among two or more people is a violation of this Agreement."),i.a.createElement("p",null,"Customer shall obtain and maintain all necessary licences and consents and comply with all applicable laws in relation to the Services before the date on which the Services are to start."),i.a.createElement("p",null,"Customer shall respond promptly to any Service Provider request to provide direction, information, approvals, authorizations or decisions that are reasonably necessary for Service Provider to perform Services in accordance with the requirements of this Agreement."),i.a.createElement("p",null,"Customer shall be responsible for all sales, use and excise taxes, and any other similar taxes, duties and charges of any kind imposed by any federal, state or local governmental entity on any amounts payable by Customer hereunder."),i.a.createElement("p",null,"If Service Provider\u2019s performance of its obligations under this Agreement is prevented or delayed by any act or omission of Customer or its agents, subcontractors, consultants or employees, Service Provider shall not be deemed in breach of its obligations under this Agreement or otherwise liable for any costs, charges or losses sustained or incurred by Customer, in each case, to the extent arising directly or indirectly from such prevention or delay."),i.a.createElement("h4",null,"Payment"),i.a.createElement("p",null,"Fees for the subscribed Software Services (\u201cSubscription Fees\u201d) are set forth on our website. This describes our fees and your payment obligations. All fees are non-refundable and must be paid in advance."),i.a.createElement("p",null,i.a.createElement("b",null,"Your payment to Aesthetic Record will automatically renew at the end of the subscription period unless you cancel your subscription through your subscription page before the end of the current subscription period. The cancellation will take effect the day after the last day of the current subscription period. However, if you cancel your payment or subscription and/or terminate any of the agreements before the end of the current subscription period, we will not refund any subscription fees already paid to us.")),i.a.createElement("p",null,"You agree to pay Aesthetic Record the Subscription Fees and any other applicable fees stated on an order form or otherwise specified in this Agreement. All payment obligations under this Agreement are non-cancelable and all fees paid are non-refundable. Fees must be paid in advance of each billing period."),i.a.createElement("p",null,"You will provide Aesthetic Record with valid and updated credit card information or another form of payment acceptable to Aesthetic Record. If you provide credit card information, you represent that you are authorized to use the card and you authorize Aesthetic Record to charge the card for all payments hereunder. By submitting payment information, you authorize Aesthetic Record to provide that information to third parties for purposes of facilitating payment. You agree to verify any information requested by Aesthetic Record for purposes of acknowledging or completing any payment."),i.a.createElement("p",null,"Any amounts not received by the applicable due date may accrue late interest at 1.5% of the outstanding balance per month, or the maximum interest permitted by applicable law, whichever is less, plus costs of collection. Any amount not received by Aesthetic Record within thirty (30) days after the applicable due date will be deemed a material default under this Agreement, and Aesthetic Record will be entitled to either suspend the Services or terminate the Agreement."),i.a.createElement("p",null,"In addition to any remedies that may be provided under this Agreement, Service Provider may terminate this Agreement with immediate effect upon written notice to Customer, if Customer:"),i.a.createElement("p",null,"(a)  has not otherwise performed or complied with any of the terms of this Agreement, in whole or in part; or"),i.a.createElement("p",null,"(b)  becomes insolvent, files a petition for bankruptcy or commences or has commenced against it proceedings relating to bankruptcy, receivership, reorganization or assignment for the benefit of creditors."),i.a.createElement("p",null,"Upon notice to you, Aesthetic Record may increase any fees specified in an order form or on our website, provided the increase will not become effective until the expiration of the current Subscription Term. Aesthetic Record may increase any fees that are not specified in an order form at any time, with or without notice to you. Aesthetic Record may also convert any free, trial or beta Service into a Service subject to a Subscription Fee upon notice to you, and your rights to such Service will be suspended if you do not pay the Subscription Fee."),i.a.createElement("p",null,i.a.createElement("b",null,"Aesthetic Record will communicate any price changes to you in advance and, if applicable, how to accept those changes. Price changes for subscriptions will take effect at the start of the next subscription period following the date of the price change. As permitted by local law, you accept the new price by continuing to use Aesthetic Record after the price change takes effect. If you do not agree with the price changes, you have the right to reject the change by canceling your Aesthetic Record account prior to the price change going into effect.")),i.a.createElement("p",null,"Fees do not include any taxes, levies, duties or similar governmental assessments of any nature, including, for example, value-added, sales, use or withholding taxes, assessable by any jurisdiction (collectively, \u201cTaxes\u201d). You are responsible for paying all Taxes associated with purchases and transactions under this Agreement. If Aesthetic Record is legally required to pay or collect any Taxes on your behalf, Aesthetic Record will invoice you and you will pay the invoiced amount. You acknowledge that we may make certain reports to tax authorities (e.g., 1099 forms) regarding transactions that we process and merchants to which we provide Payment Processing Services."),i.a.createElement("h4",null,"Intellectual Property"),i.a.createElement("p",null,"All intellectual property rights, including copyrights, patents, patent disclosures and inventions (whether patentable or not), trademarks service marks, trade secrets, know-how and other confidential information, trade dress, trade names, logos, corporate names and domain names, together with all of the goodwill associated therewith, derivative works and all other rights (collectively, \u201cIntellectual Property Rights\u201d) in and to all documents, work product and other materials that are delivered to Customer under this Agreement or prepared by or on behalf of the Service Provider in the course of performing the Services (collectively, the ",i.a.createElement("b",null,"\u201cDeliverables\u201d"),") except for any Confidential Information of Customer or customer materials shall be owned by Service Provider. Service Provider hereby grants Customer a personal license to use all Intellectual Property Rights free of additional charge and on a non-exclusive, worldwide, non-transferable, non-sublicenseable, fully paid-up, royalty-free and perpetual basis to the extent necessary to enable Customer to make reasonable use of the Deliverables and the Services."),i.a.createElement("p",null,"This license is for the sole purpose of enabling you to use and enjoy the benefit of the Services as provided by Aesthetic Record, in the manner permitted by these terms. You may not copy, modify, distribute, sell, or lease any part of our Services or included software, nor may you reverse engineer or attempt to extract the source code of that software, unless laws prohibit those restrictions or you have our written permission."),i.a.createElement("h4",null,"Confidential Information"),i.a.createElement("p",null,"All non-public, confidential or proprietary information of Service Provider, including, but not limited to, trade secrets, technology, information pertaining to business operations and strategies, and information pertaining to customers, pricing, and marketing (collectively, \u201cConfidential Information\u201d), disclosed by Service Provider to Customer, whether disclosed orally or disclosed or accessed in written, electronic or other form or media, and whether or not marked, designated or otherwise identified as \u201cconfidential,\u201d in connection with the provision of the Services and this Agreement is confidential, and shall not be disclosed or copied by Customer without the prior written consent of the Service Provider. Confidential Information does not include information that is (i)   in the public domain; (ii)  known to Customer at the time of disclosure; or (iii)  rightfully obtained by Customer on a non-confidential basis from a third party. Customer agrees to use the Confidential Information only to make use of the Services and Deliverables. Service Provider shall be entitled to injunctive relief for any violation of this Section."),i.a.createElement("h4",null,"Representations and Warranties"),i.a.createElement("p",null,"Service Provider represents and warrants to Customer that it shall perform the Services using personnel of required skill, experience and qualifications and in a professional and workmanlike manner in accordance with generally recognized industry standards for similar services and shall devote adequate resources to meet its obligations under this Agreement."),i.a.createElement("p",null,"The Service Provider shall not be liable for a breach of the warranty set forth in this Section unless Customer gives written notice of the defective Services, reasonably described, to Service Provider within 5 days of the time when Customer discovers or ought to have discovered that the Services were defective. Service Provider shall, in its sole discretion, either: (i)  repair or re-perform such Services (or the defective part); or (ii)  credit or refund the price of such Services at the pro rata contract rate.",i.a.createElement("b",null," THE REMEDIES SET FORTH IN THIS SECTION SHALL BE THE CUSTOMER\u2019S SOLE AND EXCLUSIVE REMEDY AND SERVICE PROVIDER\u2019S ENTIRE LIABILITY FOR ANY BREACH OF THE LIMITED WARRANTY SET FORTH IN THIS SECTION")),i.a.createElement("p",null,i.a.createElement("b",null,"EXCEPT FOR THE WARRANTY SET FORTH IN SECTION 11(A) ABOVE, SERVICE PROVIDER MAKES NO WARRANTY WHATSOEVER WITH RESPECT TO THE SERVICES, INCLUDING ANY (A) WARRANTY OF MERCHANTABILITY; OR (B) WARRANTY OF FITNESS FOR A PARTICULAR PURPOSE; OR (C) WARRANTY OF TITLE; OR (D) WARRANTY AGAINST INFRINGEMENT OF INTELLECTUAL PROPERTY RIGHTS OF A THIRD PARTY; WHETHER EXPRESS OR IMPLIED BY LAW, COURSE OF DEALING, COURSE OF PERFORMANCE, USAGE OF TRADE OR OTHERWISE.")),i.a.createElement("h4",null,"Indemnification"),i.a.createElement("p",null,"You agree to indemnify, defend, and hold harmless Aesthetic Record and its affiliates from and against any and all third party claims alleged or asserted against any of them, and all related charges, damages and expenses (including, but not limited to, reasonable attorneys' fees and costs) arising from or relating to: (a) any actual or alleged breach by you, an Affiliate or End User of any provisions of this Agreement; (b) any access to or use of the Services by you, an Affiliate or End User; (c) any actual or alleged violation by you, an Affiliate or End User of the intellectual property, privacy or other rights of a third party; (d) any dispute between you and another party regarding ownership of or access to Your Data; or (e) any alleged or actual violation of any law by you or any of your End Users or Affiliates."),i.a.createElement("h4",null,"Notices"),i.a.createElement("p",null,"Any notices provided by Aesthetic Record under this Agreement may be delivered to you within the Services or to the email address(es) we have on file for your account. You hereby consent to receive notice from Aesthetic Record through the foregoing means, and such notices will be deemed effective when sent if on a business day, and if not sent on a business day then on the next business day. Except as otherwise specified in the Agreement, any notices to Aesthetic Record under this Agreement must be delivered via first class registered U.S. mail, overnight courier, to Aesthetic Record, 40 West Gay Street, 3rd Floor, Columbus, OH 43215."),i.a.createElement("h4",null,"Electronic Communications and Signatures"),i.a.createElement("p",null,"You agree to the use of electronic communication in order to enter into agreements and place orders, and to the electronic delivery of notices, policies and records of transactions initiated or completed through the Services. Furthermore, you hereby waive any rights or requirements under any laws or regulations in any jurisdiction that require an original (non-electronic) signature or delivery or retention of non-electronic records, to the extent permitted under applicable law.",i.a.createElement("b",null," YOU ACKNOWLEDGE THAT YOUR ELECTRONIC SUBMISSIONS CONSTITUTE YOUR AGREEMENT AND INTENT TO BE BOUND BY SUCH AGREEMENTS AND TRANSACTIONS. YOUR AGREEMENT AND INTENT TO BE BOUND BY ELECTRONIC SUBMISSIONS APPLIES TO ALL RECORDS RELATING TO ALL TRANSACTIONS YOU ENTER INTO ON THE SERVICES, INCLUDING NOTICES OF CANCELLATION, POLICIES, CONTRACTS, AND APPLICATIONS.")),i.a.createElement("h4",null,"HIPAA"),i.a.createElement("p",null,"The Health Insurance Portability and Accountability Act of 1996 (\u201cHIPAA\u201d) imposes rules to protect certain Personal Health Information (PHI) as that term is defined under HIPAA. If you or any Affiliate is subject to HIPAA, and providing or processing any PHI in connection with the Services, prior to accessing or using the services you must notify Aesthetic Record and enter into a Business Associate Agreement (\u201cBAA\u201d) in the form provided by Aesthetic Record. You are solely responsible for determining whether you or any affiliates are subject to HIPAA."),i.a.createElement("p",null,i.a.createElement("b",null,"During the subscription term, Aesthetic Record will maintain administrative, physical and technical safeguards designed for the protection and integrity of Your Data.")),i.a.createElement("p",null,i.a.createElement("b",null,"In the United States, records may be securely deleted by Aesthetic Record after 90 days of inactivity or 90 days after the account not being in good standing or being terminated, whichever is sooner.")),i.a.createElement("p",null,i.a.createElement("b",null,"In the event of a termination by Customer, Customer acknowledges that is their responsibility to maintain a complete medical record for their client under HIPAA. Aesthetic Record agrees to make Customer\u2019s records available to them at no cost for 30 days after the end of their subscription to allow them to transfer the PHI in a HIPAA compliant manner. Aesthetic Record does not provide any data retrieval / export services, the data must be retrieved by the Customer during the subscription term.")),i.a.createElement("p",null,i.a.createElement("b",null,"For general support and tech support purposes when our Customers contact us for support, we access their Aesthetic Record dashboard and all screens related to their support inquiry to help them identify and solve issues.")),i.a.createElement("p",null,i.a.createElement("b",null,"If either party believes that there has been a disclosure of Your Data in a manner not authorized under this agreement, such party will promptly notify the other party. Additionally, each party will reasonably assist the other party in remediating or mitigating any potential damage, including any notification which should be sent to individuals impacted or potentially impacted by such unauthorized disclosure.")),i.a.createElement("p",null,i.a.createElement("b",null,"We are not responsible for resolving or intervening in any dispute over Your Data or your business practices. You are solely responsible for resolving disputes regarding ownership or access to Your Data, including those involving any current or former owners, co-owners, employees or contractors of your business. You acknowledge and agree that Aesthetic Record has no obligation whatsoever to resolve or intervene in such disputes.")),i.a.createElement("p",null,i.a.createElement("b",null,"Customer will not request, direct, or cause Aesthetic Record to use or disclose PHI unless the use or disclosure is in compliance with applicable law relating to the privacy and security of patient data and is the minimum amount necessary for the legitimate purpose of such use or disclosure;")),i.a.createElement("p",null,i.a.createElement("b",null,"Aesthetic Record\u2019s use and disclosure of Client PHI is permitted for the following purposes:",i.a.createElement("br",null),"(a) to provide Services;",i.a.createElement("br",null),"(b) as expressly permitted in the Agreement;",i.a.createElement("br",null),"(c) as required by law or a subpoena;",i.a.createElement("br",null),"(d) to provide data aggregation services;",i.a.createElement("br",null),"(e) for the proper management and administration of Aesthetic Record, including, without limitation, making and maintaining reasonable business records of transactions in which Aesthetic Record has participated or Aesthetic Record has been used (including back-up documentation); ",i.a.createElement("br",null),"(f) to provide tech support related to the services; and",i.a.createElement("br",null),"(g) to de-identify Client PHI and use such de-identified information.")),i.a.createElement("h4",null,"Disclaimer"),i.a.createElement("p",null,i.a.createElement("b",null,"EXCEPT AS EXPRESSLY PROVIDED IN THIS AGREEMENT, TO THE MAXIMUM EXTENT PERMITTED BY APPLICABLE LAW, AESTHETIC RECORD MAKES NO REPRESENTATIONS OR WARRANTIES OF ANY KIND, WHETHER EXPRESS, IMPLIED, STATUTORY OR OTHERWISE, AND SPECIFICALLY DISCLAIMS ALL IMPLIED WARRANTIES, INCLUDING WITHOUT LIMITATION ANY WARRANTIES OF TITLE, NON-INFRINGEMENT, MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE WITH RESPECT TO THE SERVICES AND/OR RELATED DOCUMENTATION. AESTHETIC RECORD DOES NOT WARRANT THAT YOUR USE OF THE SERVICES WILL BE SECURE, TIMELY, ERROR-FREE OR UNINTERRUPTED, OR THAT THE SERVICES ARE OR WILL REMAIN UPDATED, COMPLETE OR CORRECT, OR THAT THE SERVICES WILL MEET YOUR REQUIREMENTS OR THAT THE SYSTEMS THAT MAKE THE SERVICES AVAILABLE (INCLUDING WITHOUT LIMITATION THE INTERNET, OTHER TRANSMISSION NETWORKS, AND YOUR LOCAL NETWORK AND EQUIPMENT) WILL BE UNINTERRUPTED OR FREE FROM VIRUSES OR OTHER HARMFUL COMPONENTS. EXCEPT AS PROVIDED IN HEREIN THE SERVICES AND ANY PRODUCTS AND THIRD PARTY MATERIALS ARE PROVIDED ON AN \u201cAS IS\u201d AND \u201cAS AVAILABLE\u201d BASIS AND SOLELY FOR YOUR USE IN ACCORDANCE WITH THIS AGREEMENT. ALL DISCLAIMERS OF ANY KIND (INCLUDING IN THIS SECTION AND ELSEWHERE IN THIS AGREEMENT) ARE MADE ON BEHALF OF BOTH AESTHETIC RECORD AND ITS AFFILIATES AND THEIR RESPECTIVE SHAREHOLDERS, DIRECTORS, OFFICERS, EMPLOYEES, AFFILIATES, AGENTS, REPRESENTATIVES, CONTRACTORS, LICENSORS, SUPPLIERS AND SERVICE PROVIDERS.")),i.a.createElement("h4",null,"Limitation of Liability"),i.a.createElement("p",null,i.a.createElement("b",null,"IN NO EVENT SHALL SERVICE PROVIDER BE LIABLE TO CUSTOMER OR TO ANY THIRD PARTY FOR ANY LOSS OF USE, REVENUE OR PROFIT [OR LOSS OF DATA OR DIMINUTION IN VALUE], OR FOR ANY CONSEQUENTIAL, INCIDENTAL, INDIRECT, EXEMPLARY, SPECIAL OR PUNITIVE DAMAGES WHETHER ARISING OUT OF BREACH OF CONTRACT, TORT (INCLUDING NEGLIGENCE) OR OTHERWISE, REGARDLESS OF WHETHER SUCH DAMAGES WERE FORESEEABLE AND WHETHER OR NOT SERVICE PROVIDER HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES, AND NOTWITHSTANDING THE FAILURE OF ANY AGREED OR OTHER REMEDY OF ITS ESSENTIAL PURPOSE.")),i.a.createElement("p",null,i.a.createElement("b",null,"IN NO EVENT SHALL SERVICE PROVIDER\u2019S AGGREGATE LIABILITY ARISING OUT OF OR RELATED TO THIS AGREEMENT, WHETHER ARISING OUT OF OR RELATED TO BREACH OF CONTRACT, TORT (INCLUDING NEGLIGENCE) OR OTHERWISE, EXCEED THE AGGREGATE AMOUNTS PAID OR PAYABLE TO SERVICE PROVIDER PURSUANT TO THIS AGREEMENT IN THE 6 MONTH PERIOD PRECEDING THE EVENT GIVING RISE TO THE CLAIM.")),i.a.createElement("p",null,"The limitation of liability set forth above shall not apply to (i) liability resulting from Service Provider\u2019s gross negligence or willful misconduct and (ii) death or bodily injury resulting from Service Provider\u2019s gross negligent acts or gross negligent omissions."),i.a.createElement("h4",null,"Insurance"),i.a.createElement("p",null,i.a.createElement("b",null,"During the term of this Agreement, Customer shall, at its own expense, maintain and carry insurance in full force and effect which includes, but is not limited to, commercial general liability (including product liability) in a sum no less than $1,000,000 with financially sound and reputable insurers. Upon Service Provider\u2019s request, Customer shall provide Service Provider with a certificate of insurance from Customer\u2019s insurer evidencing the insurance coverage specified in these Terms. Customer shall provide Service Provider with 5 days\u2019 advance written notice in the event of a cancellation or material change in Customer\u2019s insurance policy.")),i.a.createElement("h4",null,"Waiver"),i.a.createElement("p",null,i.a.createElement("b",null,"No waiver by Service Provider of any of the provisions of this Agreement is effective unless explicitly set forth in writing and signed by Service Provider. No failure to exercise, or delay in exercising, any rights, remedy, power or privilege arising from this Agreement operates or may be construed as a waiver thereof. No single or partial exercise of any right, remedy, power or privilege hereunder precludes any other or further exercise thereof or the exercise of any other right, remedy, power or privilege.")),i.a.createElement("h4",null,"Force Majeure"),i.a.createElement("p",null,i.a.createElement("b",null,"The Service Provider shall not be liable or responsible to Customer, nor be deemed to have defaulted or breached this Agreement, for any failure or delay in fulfilling or performing any term of this Agreement when and to the extent such failure or delay is caused by or results from acts or circumstances beyond the reasonable control of Service Provider including, without limitation, acts of God, flood, fire, earthquake, explosion, governmental actions, war, invasion or hostilities (whether war is declared or not), terrorist threats or acts, riot, or other civil unrest, national emergency, revolution, insurrection, epidemic, lock-outs, strikes or other labor disputes (whether or not relating to either party\u2019s workforce), or restraints or delays affecting carriers or inability or delay in obtaining supplies of adequate or suitable materials, materials or telecommunication breakdown or power outage.")),i.a.createElement("h4",null,"Assignment"),i.a.createElement("p",null,i.a.createElement("b",null,"Customer shall not assign any of its rights or delegate any of its obligations under this Agreement without the prior written consent of Service Provider. Any purported assignment or delegation in violation of this Section is null and void. No assignment or delegation relieves Customer of any of its obligations under this Agreement.")),i.a.createElement("h4",null,"Relationship of the Parties"),i.a.createElement("p",null,i.a.createElement("b",null,"The relationship between the parties is that of independent contractors. Nothing contained in this Agreement shall be construed as creating any agency, partnership, joint venture or other form of joint enterprise, employment or fiduciary relationship between the parties, and neither party shall have authority to contract for or bind the other party in any manner whatsoever.")),i.a.createElement("h4",null,"Jurisdiction and Governing Law"),i.a.createElement("p",null,i.a.createElement("b",null,"Any legal suit, action or proceeding arising out of or relating to this Agreement shall be instituted in the federal courts of the United States of America or the courts of the State of Ohio in each case located in the City of Columbus and County of Franklin, and each party irrevocably submits to the exclusive jurisdiction of such courts in any such suit, action or proceeding.")),i.a.createElement("p",null,i.a.createElement("b",null,"All matters arising out of or relating to this Agreement are governed by and construed in accordance with the internal laws of the State of Ohio without giving effect to any choice or conflict of law provision or rule (whether of the State of Ohio or any other jurisdiction) that would cause the application of the laws of any jurisdiction other than those of the State of Ohio.")),i.a.createElement("h4",null,"Severability"),i.a.createElement("p",null,i.a.createElement("b",null,"If any term or provision of this Agreement is invalid, illegal or unenforceable in any jurisdiction, such invalidity, illegality or unenforceability shall not affect any other term or provision of this Agreement or invalidate or render unenforceable such term or provision in any other jurisdiction.")))),i.a.createElement("div",{className:"member-section-footer"},i.a.createElement("button",{type:"button",className:"agree-btn",onClick:this.handleAccept},this.props.globalLang.signup_button_accept))))))}}]),t}(i.a.Component),bt=function(e){function t(){var e,a;Object(ne.a)(this,t);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(a=Object(re.a)(this,(e=Object(oe.a)(t)).call.apply(e,[this].concat(n)))).handleAccept=function(){a.props.value&&!a.props.processingLoder&&(a.props.handleChildChange({isBbaPolicyAccepted:!0}),a.props.toggleSignUpForm(a.props.nextStep,!0))},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"login-main-policy"},i.a.createElement("div",{className:"policy-info"},void 0!=this.props.signUpLabel?i.a.createElement("div",{className:"col-sm-12"},i.a.createElement("div",{className:"login-title"},this.props.signUpLabel)):null,i.a.createElement("div",{className:"col-sm-12 hippa-section"},i.a.createElement("div",{className:"member-section"},i.a.createElement("div",{className:"member-section-title no-margin"},this.props.globalLang.signup_aesthetic_record_terms_of_service),i.a.createElement("div",{className:"term-policy-div"},i.a.createElement(vt.Scrollbars,{style:{height:370}},'This HIPAA Business Associate  Addendum ("BAA") is entered into between Aesthetic Record LLC ("Aesthetic Record") and the customer agreeing to the terms below ("Customer"), and supplements, amends and is incorporated into the Services  Agreement(s) (defined below) solely with respect to Covered Services (defined below).',i.a.createElement("br",null),i.a.createElement("br",null),'This BAA will be effective as of the date electronically accepted by Customer (the "BAA Effective Date\u201d). Customer must have an existing Services Agreement in place for this BAA to be valid and effective.',i.a.createElement("br",null),i.a.createElement("br",null),"Together with the Services Agreement, this BAA will govern each party's respective obligations regarding Protected Health Information (defined below).",i.a.createElement("br",null),i.a.createElement("br",null),"You represent and warrant that (i) you have the full legal authority to bind Customer to this BAA, (ii) you have read and understand this BAA, and (iii) you agree, on behalf of Customer to the terms of this BAA.",i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("strong",null,"If you do not have legal authority to bind Customer, or do not agree to these terms, please do not click to accept the terms of this BAA."),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("strong",null,"1. Definitions."),i.a.createElement("br",null),i.a.createElement("br",null),"Any capitalized terms used but not otherwise defined in this BAA will have the meaning given to them in HIPAA and the HITECH Act.",i.a.createElement("br",null),i.a.createElement("br",null),'"Business Associate" has the definition given to it under HIPAA.',i.a.createElement("br",null),i.a.createElement("br",null),'"Breach" has the definition given to it under HIPAA. A Breach will not include an acquisition, access, use, or disclosure of PHI with respect to which Aesthetic Record has determined in accordance with 45 C.F.R. \xa7 164.402 that there is a low probability that the PHI has been compromised.',i.a.createElement("br",null),i.a.createElement("br",null),'"Covered Entity" has the definition given to it under HIPAA.',i.a.createElement("br",null),i.a.createElement("br",null),'"Covered Services" means the Aesthetic Record products and services that provide the following functionality as included with the application: Calendar, scheduling, EMR, picture taking, data storage within the application. All services outside of the application including, but not limited to, local storage of files, communications outside of the application, etc. are not included.',i.a.createElement("br",null),i.a.createElement("br",null),'"HIPAA" means the Health Insurance Portability and Accountability Act of 1996 and the rules and the regulations thereunder, as amended.',i.a.createElement("br",null),i.a.createElement("br",null),'"HITECH Act" means the Health Information Technology for Economic and Clinical Health Act enacted in the United States Congress, which is Title XIII of the American Recovery & Reinvestment Act, and the regulations thereunder, as amended.',i.a.createElement("br",null),i.a.createElement("br",null),'"Protected Health Information" or "PHI" has the definition given to it under HIPAA  and for purposes of this BAA is limited to PHI within Customer Data to which Aesthetic Record has access through the Covered Services in connection with Customer\'s permitted use of Covered Services.',i.a.createElement("br",null),i.a.createElement("br",null),'"Security Breach" means any Breach of Unsecured PHI or Security Incident of which Aesthetic Record becomes aware.',i.a.createElement("br",null),i.a.createElement("br",null),'"Security Incident" has the definition given to it under HIPAA.',i.a.createElement("br",null),i.a.createElement("br",null),'"Services Agreement(s)" means the written agreement(s) entered into between Aesthetic Record and Customer for provision of the Covered Services, which agreement(s) may be in the form of online terms of service.',i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("strong",null,"2. Applicability."),i.a.createElement("br",null),i.a.createElement("br",null),"This BAA applies to the extent Customer is acting as a Covered Entity or a Business Associate to create, receive, maintain, or transmit PHI via a Covered Service and to the extent Aesthetic Record, as a result, is deemed under HIPAA to be acting as a Business Associate or Subcontractor of Customer. Customer acknowledges that this BAA does not apply to, or govern, any other Aesthetic Record product, service, or feature that is not a Covered Service.",i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("strong",null,"3. Use and Disclosure of PHI."),i.a.createElement("br",null),i.a.createElement("br",null),"(a) Except as otherwise stated in this BAA, Aesthetic Record may use and disclose PHI only as permitted or required by the Services Agreements and/or this BAA or as Required by Law.",i.a.createElement("br",null),"(b) Aesthetic Record may use and disclose PHI for the proper management and administration of Aesthetic Record's business and to carry out the legal responsibilities of Aesthetic Record, provided that any disclosure of PHI for such purposes may only occur if: (1) required by applicable law\u037e or (2) Aesthetic Record obtains written reasonable assurances from the person to whom PHI will be disclosed that it will be held in confidence, used only for the purpose for which it was disclosed, and that Aesthetic Record will be notified of any Security Breach.",i.a.createElement("br",null),"(c) Aesthetic Record may also use PHI to create de identified information in a manner consistent with the standards stated in HIPAA, and may use or disclose such de-identified PHI for any purpose in accordance with HIPAA.",i.a.createElement("br",null),"(d) Aesthetic Record has no obligations under this BAA  with respect to any PHI that Customer creates, receives, maintains, or transmits outside of the Covered Services (including Customer's use of its offline or on\xad-premise storage tools or third-\xadparty applications) and this BAA will not apply to any PHI created, received, maintained or transmitted outside of the Covered Services.",i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("strong",null,"4. Customer Obligations."),i.a.createElement("br",null),i.a.createElement("br",null),"(a) Customer may only use the Covered Services to create, receive, maintain, or transmit PHI. Customer is solely responsible for managing whether Customer's end users are authorized to share, disclose, create, and/or use PHI within the Covered Services.",i.a.createElement("br",null),"(b) Customer will not request that Aesthetic Record or the Covered Services use or disclose PHI in any manner that would not be permissible under HIPAA if done by Customer (if Customer is a Covered Entity) or by the Covered Entity to which Customer is a Business Associate (unless expressly permitted under HIPAA for a Business Associate).",i.a.createElement("br",null),"(c) For End Users that use the Covered Services in connection with PHI, Customer will use controls available within the Services to ensure its use of PHI is limited to the Covered Services. Customer acknowledges and agrees that Customer is solely responsible for ensuring that its and its End Users' use of the Covered Services complies with HIPAA and HITECH.",i.a.createElement("br",null),"(d) Customer will take appropriate measures to limit its use of PHI to the Covered Services and will limit its use within the Covered Services to the minimum extent necessary for Customer to carry out its authorized use of such PHI.",i.a.createElement("br",null),"(e) Customer warrants that it has obtained and will obtain any consents, authorizations and/or other legal permissions required under HIPAA and/or other applicable law for the disclosure of PHI to Aesthetic Record.",i.a.createElement("br",null),i.a.createElement("br",null),"Customer will notify Aesthetic Record of any changes in, or revocation of, the permission by an Individual to use or disclose his or her PHI, to the extent that such changes may affect Aesthetic Record's use or disclosure of PHI. Customer will not agree to any restriction on the use or disclosure of PHI under 45 CFR \xa7 164.522 that restricts Aesthetic Record's use or disclosure of PHI under the  Agreement unless such restriction is required by law.",i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("strong",null,"5. Appropriate Safeguards."),i.a.createElement("br",null),i.a.createElement("br",null),"Aesthetic Record and Customer will each use appropriate safeguards designed to prevent against unauthorized use or disclosure of PHI, and as otherwise required under HIPAA, with respect to the Covered Services.",i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("strong",null,"6. Reporting."),i.a.createElement("br",null),i.a.createElement("br",null),"(a) Subject to Section 6(d), Aesthetic Record will promptly notify Customer following Aesthetic Record's Discovery of a Security Breach in accordance with HIPAA and in the most expedient time possible under the circumstances, consistent with the legitimate needs of applicable law enforcement and applicable laws, and after taking any measures Aesthetic Record deems necessary to determine the scope of the Security Breach and to restore the reasonable integrity of Aesthetic Record's systems.",i.a.createElement("br",null),"(b) To the extent reasonably practicable, Aesthetic Record will use commercially reasonable efforts to mitigate any further harmful effects of a Security Breach caused by Aesthetic Record.",i.a.createElement("br",null),"(c) Aesthetic Record will send any applicable Security Breach notifications to the notification email  address provided by Customer in the Services Agreement or via direct communication with the Customer.",i.a.createElement("br",null),"(d) Notwithstanding Section 6(a), this Section 6(d) will be deemed as notice to Customer that Aesthetic Record periodically receives unsuccessful attempts for unauthorized access, use, disclosure, modification or destruction of information, or interference with the general operation of Aesthetic Record's information systems and the Covered Services. Customer acknowledges and agrees that even if such events constitute a Security Incident as that term is defined under HIPAA, Aesthetic Record will not be required to provide any notice under this BAA regarding such unsuccessful attempts other than this Section 6(d).",i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("strong",null,"7. Subcontractors."),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("b",null,"Aesthetic Record will take appropriate measures to ensure that any Subcontractors used by Aesthetic Record to perform its obligations under the Services Agreements that require access to PHI on behalf of Aesthetic Record are bound by written obligations that provide the same material level of protection for PHI a this BAA."),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("b",null,"To the extent Aesthetic Record uses Subcontractors in its performance of obligations hereunder, Aesthetic Record will remain responsible for their performance as if performed by Aesthetic Record."),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("strong",null,"8. Access and Amendment."),i.a.createElement("br",null),i.a.createElement("br",null),"Customer acknowledges and agrees that Customer is solely responsible for the form and content of PHI maintained by Customer within the Covered Services, including whether Customer maintains such PHI in a Designated Record Set within the Covered Services. Aesthetic Record will provide Customer with access to Customer's PHI via the Covered Services so that Customer may fulfill its obligations under HIPAA with respect to Individuals' rights of access and amendment, but will have no other obligations to Customer or any Individual with respect to the rights afforded to Individuals by HIPAA with respect to Designated Record Sets, including rights of access or amendment of PHI. Customer is responsible for managing its use of the Covered Services to appropriately respond to such Individual requests.",i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("strong",null,"9. Accounting of Disclosures."),i.a.createElement("br",null),i.a.createElement("br",null),"Aesthetic Record will document disclosures of PHI by Aesthetic Record and provide an accounting of such disclosures to Customer as and to the extent required of a Business Associate under HIPAA and in accordance with the requirements applicable to a Business Associate under HIPAA.",i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("strong",null,"10. Access to Records."),i.a.createElement("br",null),i.a.createElement("br",null),'To the extent required by law, and subject to applicable attorney client privileges, Aesthetic Record will make its internal practices, books, and records concerning the use and disclosure of PHI received from Customer, or created or received by Aesthetic Record on behalf of Customer, available to the Secretary of the U.S. Department of Health and Human Services (the "Secretary") for the purpose of the Secretary determining compliance with this BAA.',i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("strong",null,"11. Expiration and Termination."),i.a.createElement("br",null),i.a.createElement("br",null),"(a) This BAA will terminate on the earlier of (i) a permitted termination in accordance with Section 11(b) below, or (ii) the expiration or termination of all Services Agreements under which Customer has access to a Covered Service.",i.a.createElement("br",null),"(b) If either party materially breaches this BAA, the non-breaching party may terminate this BAA on 10 days' written notice to the breaching party unless the breach is cured within the 10-day period. If a cure under this Section 11(b) is not reasonably possible, the non\xadbreaching party may immediately terminate this BAA, or if neither termination nor cure is reasonably possible under this Section 11(b), the non\xadbreaching party may report the violation to the Secretary, subject to all applicable legal privileges.",i.a.createElement("br",null),"(c) If this BAA is terminated earlier than the Services Agreements, Customer may continue to use the Services in accordance with the Services Agreements, but must delete any PHI it maintains in the Covered Services and cease to further create, receive, maintain, or transmit such PHI to Aesthetic Record.",i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("strong",null,"12. Return/Destruction of Information."),i.a.createElement("br",null),i.a.createElement("br",null),"On termination of the Services Agreements, Aesthetic Record will return or destroy all PHI received from Customer, or created or received by Aesthetic Record on behalf of Customer\u037e provided, however, that if such return or destruction is not feasible, Aesthetic Record will extend the protections of this BAA to the PHI not returned or destroyed and limit further uses and disclosures to those purposes that make the return or destruction of the PHI infeasible.",i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("strong",null,"13. Miscellaneous."),i.a.createElement("br",null),i.a.createElement("br",null),"(a) Survival. Sections 12 (Return/Destruction of Information) and 13 (Return/Destruction of Information) will survive termination or expiration of this BAA.",i.a.createElement("br",null),"(b) Counterparts. The parties may execute this BAA in counterparts, including facsimile, PDF or other electronic copies, which taken together will constitute one instrument.",i.a.createElement("br",null),i.a.createElement("br",null),"Effects of Addendum.",i.a.createElement("br",null),"To the extent this BAA conflicts with the remainder of the Services Agreement(s), this BAA will govern. This BAA is subject to the Governing Law section in the Services Agreement(s). Except as expressly modified or amended under this BAA, the terms of the Services Agreement(s) remain in full force and effect.")),i.a.createElement("div",{className:"member-section-footer"},i.a.createElement("label",{htmlFor:"agree_checkbox"},i.a.createElement("input",{type:"checkbox",name:this.props.name,checked:!!this.props.value&&"checked",onChange:this.props.handleInputChange})," ",this.props.globalLang.signup_accept_aesthetic_record_terms_of_service),i.a.createElement("button",{disabled:!!this.props.processingLoder||!this.props.value,className:this.props.processingLoder?"agree-btn agree-btn-loader":this.props.value?"agree-btn":"agree-btn disable",onClick:this.handleAccept},this.props.processingLoder?this.props.globalLang.signup_please_wait:this.props.globalLang.signup_button_i_agree," ",i.a.createElement("img",{className:this.props.processingLoder?"":"no-display",src:"../images/btn-load.gif"})))))))}}]),t}(i.a.Component),Et=function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,s="checkbox"===t.type?t.checked:t.value;a.setState(Object(se.a)({},e.target.name,s))},a.handleChildChange=function(e){a.setState(e)},a.toggleSignUpForm=function(e,t){if(t=t||!1,a.setState(Object(se.a)({isShowHippa:!1,isShowBba:"isShowBba"==e||1==t},e,!0)),t){a.setState({processingLoder:!0});var s={term_condition:a.state.agree_checkbox?1:0};a.props.signTosAgreement(s)}},a.redirectToLogin=function(){a.props.history.push("/logout")},a.state={processingLoder:!1,globalLang:{},isShowHippa:!0,isShowBba:!1,agree_checkbox:!1,isHppaPolicyAccepted:!1,isBbaPolicyAccepted:!1,tempLoggedUserData:{},loginData:{},privilegeData:{}},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.accountReset();var t={};localStorage.getItem("tempLoggedUserData")&&"/accept-agreement"==Qe()?t=JSON.parse(localStorage.getItem("tempLoggedUserData")):this.redirectToLogin(),this.setState({tempLoggedUserData:t});var a={};if(localStorage.getItem("languageData")&&(a=JSON.parse(localStorage.getItem("languageData"))),a&&void 0!==a.global&&a.global){var s=JSON.parse(localStorage.getItem("languageData"));this.setState({globalLang:s.global})}else Q.a.get(Ee.API_URL+"getLanguageText/1/global").then(function(t){var a=t.data.data;localStorage.setItem("languageData",JSON.stringify(a)),e.setState({globalLang:a.global})}).catch(function(e){})}},{key:"render",value:function(){return i.a.createElement("div",{className:"guest"},i.a.createElement("div",{className:"header login-policy-header"},i.a.createElement("div",{className:"wrapper text-center"},i.a.createElement("a",{href:"https://www.aestheticrecord.com/"},i.a.createElement("img",{src:"/images/logo.png?v=123"})))),i.a.createElement("div",{className:"wrapper"},i.a.createElement("div",{className:"login-policy-wrapper"},i.a.createElement("div",{className:this.state.isShowHippa?"hippa-block":"hippa-block hide"},i.a.createElement(ft,{handleChildChange:this.handleChildChange,toggleSignUpForm:this.toggleSignUpForm,nextStep:"isShowBba",globalLang:this.state.globalLang})),i.a.createElement("div",{className:this.state.isShowBba?"bba-block":"bba-block hide"},i.a.createElement(bt,{handleChildChange:this.handleChildChange,toggleSignUpForm:this.toggleSignUpForm,handleInputChange:this.handleInputChange,name:"agree_checkbox",value:this.state.agree_checkbox,nextStep:"isShowBba",processingLoder:this.state.processingLoder,globalLang:this.state.globalLang})))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}),i.a.createElement(be,null))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};return void 0!=e.showLoader&&0==e.showLoader?(a.showLoader=!1,a.processingLoder=!1):void 0!=e.loginData&&Object.keys(e.loginData).length>0&&e.loginData!==t.loginData&&(rt.toast.dismiss(),rt.toast.success(t.globalLang[e.message]),a.loginData=e.loginData,Je(e.loginData.redirect_to),localStorage.setItem("currentUserRole",e.loginData.user.user_role_id),localStorage.setItem("userData",JSON.stringify(e.loginData)),localStorage.setItem("isLoggedIn",1),localStorage.setItem("user_listing_settings",JSON.stringify(e.loginData.user_listing_settings)),localStorage.setItem("languageData",JSON.stringify(e.loginData.languageData)),localStorage.setItem("globalPrivileges",JSON.stringify(e.loginData.globalPrivileges)),localStorage.removeItem("tempLoggedUserData"),e.history.push(Qe())),a}}]),t}(i.a.Component),yt=Object(Z.b)(function(e){var t={};if("ACCEPT_TOS_AGREEMENT"===e.AccountReducer.action)if(200!=e.AccountReducer.data.status){rt.toast.dismiss();var a=JSON.parse(localStorage.getItem("languageData"));rt.toast.error(a.global[e.AccountReducer.data.message]),t.processingLoder=!0}else t.loginData=e.AccountReducer.data.data,t.message=e.AccountReducer.data.message;return t},function(e){return Object(c.bindActionCreators)({accountReset:pt,signTosAgreement:ht},e)})(Object(de.a)(Et)),Nt=function(e){function t(){var e,a;Object(ne.a)(this,t);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(a=Object(re.a)(this,(e=Object(oe.a)(t)).call.apply(e,[this].concat(n)))).handleAccept=function(){},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"login-main-policy"},i.a.createElement("div",{className:"policy-info"},i.a.createElement("div",{className:"col-sm-12 hippa-section"},i.a.createElement("div",{className:"member-section"},i.a.createElement("div",{className:"member-section-title no-margin"},this.props.globalLang.signup_hippa_business_associate_addendum),i.a.createElement("div",{className:"term-policy-div"},i.a.createElement("h4",null,"General"),i.a.createElement("p",null,"Thank you for choosing Aesthetic Record (\u201cService Provider\u201d) for your business. When you (also referred to herein as \u201cCustomer\u201d) use our products and services you\u2019re agreeing to our terms and the applicable privacy policy, so please read these Terms of Service carefully as they contain important information regarding your legal rights and obligations. Certain capitalized words below are defined herein."),i.a.createElement("p",null,"Aesthetic Record provides online business management software services for the aesthetics and beauty industry (\u201cSoftware Service\u201d). You can access our Software Service via the login page on our website and through our app."),i.a.createElement("p",null,"The order confirmation when you signed up for our Software Service (the \u201cOrder Confirmation\u201d) and these terms (collectively, this \u201cAgreement\u201d) comprise the entire agreement between the parties, and supersede all prior or contemporaneous understandings, agreements, negotiations, representations and warranties, and communications, both written and oral."),i.a.createElement("p",null,"This Agreement prevails over any Customer\u2019s general terms and conditions regardless whether or when Customer has submitted its request for proposal, order, or such terms. Provision of services to Customer does not constitute acceptance of any of Customer\u2019s terms and conditions and does not serve to modify or amend this Agreement."),i.a.createElement("p",null,"This Agreement applies to any use of and access to our Software Service, Website or App (collectively, \u201cServices\u201d) by you and your Affiliates. By accessing or using any Software Services (or enabling an Affiliate to access or use any Software Services), you are indicating that you have read this Agreement and agree to be bound by its terms. If you do not agree with all of the terms of this Agreement, you may not access or use any Services."),i.a.createElement("p",null,"This Agreement is effective (\u201cEffective Date\u201d) on the earlier of (a) the date you accept this Agreement by clicking an \u201cAccept\u201d or similar button or otherwise indicate that you accept this Agreement (including through an Order Confirmation), or (b) the date you (or an Affiliate) first access or use any Services."),i.a.createElement("p",null,"When you use our Services, you are entering into a legal agreement and you agree to all of these terms. If you enter into this Agreement on behalf of a company or other legal entity, you represent and warrant that you have the legal authority to bind that entity and its Affiliates to this Agreement, and all references to \u201cyou\u201d and \u201cyour\u201d in this Agreement are referring to that entity. You and Aesthetic Record are also sometimes referred to in this Agreement individually as a \u201cParty\u201d and collectively as the \u201cParties.\u201d"),i.a.createElement("p",null,i.a.createElement("b",null,"Our privacy policy governs how we collect and use personal information that is submitted through the Services. By accessing or using the services, you agree that you have read and accepted our privacy policy and agree to its terms.")),i.a.createElement("p",null,"This Agreement applies to any use of the Services, whether in connection with a paid subscription or a free trial. Certain additional terms apply if you are entering information that originates in the European Economic Area."),i.a.createElement("p",null,"We continuously strive to improve our products and services, and as our business evolves, this agreement may change. This section describes how we can change the agreement. We may, in our sole discretion, make changes to this Agreement from time to time. Any changes we make will become effective when we post a modified version of the Agreement to our Website or app, and we agree the changes will not be retroactive. If we make any material changes to the Agreement, we\u2019ll also notify you within the Software Service or by sending you an email. If you continue using the Services after any changes, it means you have accepted them. If you do not agree to any changes, you must stop using the Services and you must cancel your account. It is your obligation to ensure that you read, understand and agree to the latest version of the Agreement that\u2019s posted on our Website. The legend at the top of the Agreement indicates when it was last changed."),i.a.createElement("p",null,"Additional terms apply to certain products that we provide. Your use of, and participation in, certain Services may be subject to additional terms (\u201cSupplemental Terms\u201d) and such Supplemental Terms will either be listed in this Agreement or will be presented to you for your acceptance when you sign up to use the supplemental Service. If this Agreement is inconsistent with the Supplemental Terms, the Supplemental Terms will control with respect to the service with which it applies."),i.a.createElement("h4",null,"Your Data and Your Business"),i.a.createElement("p",null,"\u201cYour Data\u201d means any data, information or material provided or submitted or made available by you and Affiliates to the Services. Your Data may include End User Data and Cardholder Data (and your or their representative\u2019s data), but excludes Aggregated Data."),i.a.createElement("p",null,"\u201cAffiliate\u201d means any entity that directly or indirectly controls, is controlled by, or is under common control with you, and that has been designated to receive Services under this Agreement. \u201cControl\u201d for purposes of this definition means the power to direct or cause the direction of the management and policies of the subject entity, whether through equity ownership, a credit arrangement, franchise agreement or other contractual arrangement. \u201cAffiliate\u201d also includes any of your business locations and any Franchisees that have been designated to receive Services under this Agreement."),i.a.createElement("p",null,i.a.createElement("b",null,"As between you and Aesthetic Record, you own all right, title and interest in Your Data. You hereby grant Aesthetic Record a non-exclusive, worldwide, assignable, sublicensable, fully paid-up and royalty-free license and right to copy, distribute, display and perform, publish, prepare derivative works of and otherwise use Your Data for the purposes of providing, improving and developing Aesthetic Record\u2019s products and services and/or complementary products and services of our partners and for the purposes of cooperating with government authorities should Your Data ever be requested. You represent and warrant to Aesthetic Record that you have all rights necessary to grant the licenses and that the provision of Your Data through and in connection with the services does not violate any applicable laws or rights of any third party.")),i.a.createElement("p",null,i.a.createElement("b",null,"You represent and warrant to Aesthetic Record that you have all the legal licenses, rights and insurance necessary to conduct your business and collect Your Data.")),i.a.createElement("p",null,"You authorize Aesthetic Record to aggregate or anonymize Your Data or other data in connection with the Agreement, and Aesthetic Record will own all Aggregated Data. You agree that nothing in this Agreement will prohibit Aesthetic Record or its affiliates from utilizing Aggregated Data for any purpose, provided such Aggregated Data does not reveal any personally identifying information about you or any end users."),i.a.createElement("p",null,i.a.createElement("b",null,"Notwithstanding any other sections of this Agreement, all right, title and interest in any data or information collected by Aesthetic Record independently and without access to, reference to or use of any of Your Data, including, without limitation, any data or information Aesthetic Record obtains through the Aesthetic Record app or website (whether the same as Your Data or otherwise), will be solely owned by Aesthetic Record.")),i.a.createElement("h4",null,"Our Services"),i.a.createElement("p",null,"Aesthetic Record will make the Services to which you have subscribed available to you, subject to the terms and conditions of this Agreement. We may temporarily suspend your access for things like scheduled maintenance, or if a natural disaster occurs. We may also change or discontinue particular features or functions of our Services at any time."),i.a.createElement("p",null,"We reserve the right to suspend any Services during planned downtime, in connection with a force majeure event, or if we believe any malicious software is being used in connection with your account. In addition, we reserve the right to change, suspend or discontinue any features, components or functions of the Services at any time. If we make any material changes to the Software Service, we\u2019ll notify you within the Software Service or by sending you an email. Notwithstanding the above, we have no obligation to update or enhance any Services or to produce or release new versions of any Services."),i.a.createElement("p",null,"We aren\u2019t responsible for any third party products that are integrated with or used in connection with the Services."),i.a.createElement("p",null,"Although the Services may allow you to access or use Third Party Offerings, they are not \u201cServices\u201d under this Agreement and are not subject to any of the warranties, service commitments or other obligations with respect to Services hereunder. The availability of any Third Party Offerings through the Services does not imply Aesthetic Record\u2019s endorsement of or affiliation with the provider."),i.a.createElement("p",null,"Your standard subscription fees include our standard support services. You may also purchase additional services for an additional fee."),i.a.createElement("p",null,"When you subscribe to our Software Service, and when available, your business will be provided the opportunity to be listed on Aesthetic Record\u2019s online marketing platform and marketplace (\u201cMarketing Services\u201d), which allows consumers to locate Aesthetic Record subscribers and evaluate, review and book their services, directly through the Aesthetic Record App and through our partner applications. From time to time, Aesthetic Record may offer subscribers the opportunity to participate in promotional programs (\u201cAR Promos\u201d), which are designed to promote their businesses and attract customers through the Marketing Services. Aesthetic Record reserves the right to charge fees for AR Promos."),i.a.createElement("p",null,"We are not responsible for any damages resulting from your use of any trial or beta services."),i.a.createElement("p",null,"Aesthetic Record may in its sole discretion offer free, trial or beta Services from time to time at no charge. Notwithstanding anything to the contrary herein: (a) any free, trial or beta Services are provided \u201cAS IS\u201d with no warranties of any kind; and (b) Aesthetic Record may discontinue any free, trial or beta Services or your ability to use such Services at any time, with or without notice and without any further obligations to you. Without limiting the generality of the foregoing, free Services that have not been accessed or used for 3 consecutive months may be terminated by us. Aesthetic Record will have no liability for any harm or damages suffered by you or any third party in connection with any free, trial or beta services."),i.a.createElement("p",null,"Aesthetic Record offers the ability to process payments through the Services (\u201cPayment Processing Services\u201d). Payment Processing Services are provided by our third party payment processing partner as Third Party Offerings and any procurement by you or your Affiliates will be subject to a separate merchant agreement which will be solely between you (or your Affiliate) and the third party processor."),i.a.createElement("p",null,"At Aesthetic Record\u2019s sole discretion, you may be offered Payment Processing Services provided by Stripe (\u201cAesthetic Record Payments\u201d). Aesthetic Record Payments are subject to certain fees and charges communicated to you during the enrollment process and as may be updated by Aesthetic Record from time to time. By enrolling in Aesthetic Record Payments, you agree to be bound by the Stripe Services Agreement, as the same may be modified by Stripe from time to time. As a condition of Aesthetic Record enabling payment processing services through Stripe, you agree to provide Aesthetic Record accurate and complete information about you and your business, and you authorize Aesthetic Record to share it and transaction information related to your use of the payment processing services provided by Stripe pursuant to our Privacy Policy. To the extent permitted by law, we may collect any obligations you owe us under this Agreement by deducting the corresponding amounts from funds payable to you arising from the settlement of card transactions through Aesthetic Record Payments. Fees will be assessed at the time a transaction is processed and will be first deducted from the funds received for such transactions. If the settlement amounts are not sufficient to meet your obligations to us, we may charge or debit the bank account or credit card registered in your account for any amounts owed to us. Your failure to fully pay amounts that you owe us on demand will be a breach of this Agreement. You will be liable for our costs associated with collection in addition to the amount owed, including without limitation attorneys' fees and expenses, costs of any arbitration or court proceeding, collection agency fees, and any applicable interest. Additionally, we may require a personal guaranty from a principal of a business for funds owed under this Agreement. If we require a personal guarantee we will specifically inform you. In addition to the amount due, delinquent accounts may be charged with fees that are incidental to the collection of delinquent accounts and chargebacks including, but not limited to, collection fees and convenience fees and other third parties charges. You hereby explicitly agree that communication from Aesthetic Record in relation to delinquent accounts may made by electronic mail or by phone or by other communication methods."),i.a.createElement("p",null,i.a.createElement("b",null,"All transactions that are done via card swipe using a card reader will be charged 2.75% plus any fees Stripe or its successor processor may charge, All transactions done via manual card entry or key entry will be charged 3.50% plus any fees Stripe may charge.")),i.a.createElement("p",null,i.a.createElement("b",null,"Aesthetic Record reserves the right to not offer the service to certain clients in its sole determination. In such situations, Aesthetic Record will provide the client 30 days written notice, unless the reason your account is being terminated is because of an alleged violation of a law, harassment or similar, in which case your account may be terminated sooner.")),i.a.createElement("p",null,i.a.createElement("b",null,"Card readers purchased by you in connection with this Agreement are final sale. They cannot be returned, exchanged or refunded.")),i.a.createElement("p",null,"If we make multiple discounts or pricing options for a service available to you at one time, you will only be eligible to receive one discount or pricing option, and will not be entitled to cumulative discounting and pricing options."),i.a.createElement("p",null,"You will ensure that all information you provide to us via the website or app is accurate, complete and not misleading."),i.a.createElement("p",null,i.a.createElement("b",null,"You are not eligible to use our Services (including obtaining a Credential or entering into a user agreement) unless you are at least 18 years old and otherwise have the legal capacity to enter into a binding contract in your jurisdiction.")),i.a.createElement("h4",null,"User Content"),i.a.createElement("p",null,i.a.createElement("b",null,"Our Services may allow you to access blogs, message boards, chat services, surveys and other forums where various users can share information, opinions, chats and other Content. We generally do not pre-screen or monitor user-submitted Content, and such Content may simply represent a user\u2019s opinion or Content a user finds interesting. Our Services may also include survey results, ratings or testimonials (\u201cEvaluations\u201d) from patients, clients or other customers (\u201cPatients\u201d) of healthcare professionals (\u201cProfessionals\u201d) that may endorse, recommend, critique, analyze, evaluate or otherwise describe the Professionals and the nature or quality of the services received by such patient, client or customer. Such Evaluations are anecdotal first-hand accounts of individual Patients, and are neither professional judgments nor the product of medical science. Such Evaluations do not in any way constitute or imply our endorsement or recommendation of any Professional. Further, Evaluations are subject to errors and biases that are common in anecdotal first-hand accounts, and should not to be presumed to be reliable or error-free.")),i.a.createElement("h4",null,"Directories"),i.a.createElement("p",null,i.a.createElement("b",null,"Our Services may include listings and directories (\u201cDirectories\u201d) to help our clients. The Directories are provided for your convenience. The Directories are not comprehensive, but rather generally represent Professionals who use our Services and who have chosen to participate in the Directories. Further, we do not evaluate any Professional and the listing of a Professional does not in any way constitute a recommendation of such Professional. Before obtaining services or treatment from any Professional listed in a Directory, you should take the same care you would under any other circumstance, including by confirming licensure and specialty certifications. The Professionals are solely responsible for the appropriateness and quality of the services they provide. Additionally, the Directories rely on information submitted by Professionals themselves. Unless Professionals provide us with current information, the Directory information may not be timely or accurate. You should confirm such information before obtaining services or treatment from a Professional. As a convenience, the Services may permit you to request an appointment with a Professional. However, Professionals are responsible for maintaining their own schedules, and we cannot ensure that any given Professional will be available, nor that such Professional will not cancel his or her appointment.")),i.a.createElement("h4",null,"No Medical Advice"),i.a.createElement("p",null,i.a.createElement("b",null,"Some Content may include health- or medical-related information. Such Content is provided for general informational purposes only. We do not directly or indirectly practice medicine, render medical advice, or dispense medical services via our Services or otherwise, and nothing contained in our Services should be intended to be a medical diagnosis or treatment. No medical professional/patient relationship is created by your use of our Services or the Content. Always seek the advice of your physician or other qualified health professional with any questions you may have regarding a medical condition, and never disregard professional medical advice or delay seeking treatment based on any Content or other information included in the Services. If you think you may have a medical emergency, call your healthcare professional or your local emergency number (usually 911) immediately.")),i.a.createElement("h4",null,"Clinical Decision Support Information"),i.a.createElement("p",null,i.a.createElement("b",null,"If you are a Professional, the Content may include information to assist you in clinical decision-making. This may include information and reminders concerning drug interactions, allergies, dosages, as well as general healthcare related information and resources, such as assessments. We may also provide forums for our users to exchange information. The information and materials available through our Services are for informational purposes only and are not intended to constitute professional advice, diagnosis or treatment, or to substitute for your professional judgment.")),i.a.createElement("h4",null,"No Legal or Regulatory Advice"),i.a.createElement("p",null,i.a.createElement("b",null,"Some Content may include regulatory related information pertaining to you or your business. Such Content is provided for informational purposes only and as examples only. We are not providing legal or regulatory advice and no attorney/client relationship is created by your use of our Services or the Content. Accordingly, always seek the advice of your attorney or advisor with any questions you may have regarding a law, medical consents, supervision requirements, regulations, or disputes, and things of similar nature.")),i.a.createElement("h4",null,"Public Forums"),i.a.createElement("p",null,i.a.createElement("b",null,"We may offer one or more forums for the exchange of information among our users. You acknowledge that any text, data, graphics, images, video or other content (\u201cContent\u201d) that you submit in any of our forums (including discussion groups, blogs, surveys, ratings, comment forms, or message boards, collectively, \u201cPublic Forums\u201d) is available to the public. Notwithstanding the foregoing, we are under no obligation to display any of your Content that you submit, and we reserve the right to remove or edit your Content at any time, for any or no reason.")),i.a.createElement("p",null,i.a.createElement("b",null,"It is important that you act responsibly when submitting Content to a Public Forum. You acknowledge that any Content that you submit in a Public Forum is available to the public. You are solely responsible for any Content that you post on the Public Forums or transmit to other users of our Services. You acknowledge that any information you post in a Public Forum may be available to the public, and may result in your receiving communications from others outside our Services.")),i.a.createElement("p",null,i.a.createElement("b",null,"You will only disclose information about yourself on a Public Forum that you consider suitable for public disclosure. You will not disclose information that personally identifies you unless you intend for that information to be disclosed publicly. We strongly recommend that you refrain from disclosing any sensitive information about yourself on a Public Forum, including information about any medical condition. You will not violate the privacy rights of others, including disclosing information about anyone else\u2019s medical or financial condition or any other sensitive subjects.")),i.a.createElement("p",null,i.a.createElement("b",null,"You will ensure that any Content that you submit to Public Forums is accurate. If you are rating or reviewing a Professional, you agree to provide your honest appraisals of such Professional, without using inappropriate language or making gratuitous personal criticisms.")),i.a.createElement("p",null,i.a.createElement("b",null,"You will not post any Content that you do not have the right to post; you will not violate any person\u2019s or entity\u2019s intellectual property or proprietary rights, including copyrights, trademarks or trade secret rights.")),i.a.createElement("p",null,i.a.createElement("b",null,"We will not be liable to you for any Content you submit to any Public Forum.")),i.a.createElement("p",null,i.a.createElement("b",null,"You understand and agree that we may, but are not obligated to, monitor, edit or remove any Content for any or no reason at any time. We are not responsible, however, for any delay or failure in removing any Content.")),i.a.createElement("h4",null,"Subscription Term"),i.a.createElement("p",null,"The term of this Agreement will be either month to month or yearly (\u201cSubscription Term\u201d), depending on which subscription you signed up for in your subscription details tab within your Aesthetic Record account settings. The Subscription Term commences on the Effective Date and will automatically renew on a monthly basis for monthly contracts and on a yearly basis for yearly contracts until either Party terminates in accordance with this Agreement. Either Party may terminate the Agreement and/or any subscription at any time, for any reason or no reason, by providing notice to the other Party at least thirty (30) days before the end of the relevant Subscription Term. Unless otherwise specified in an Order Form, Subscription Fees during any automatic renewal term will revert to the current pricing in effect at the time such renewal term commences."),i.a.createElement("p",null,"Aesthetic Record may terminate this Agreement and/or any subscription, effective immediately upon notice to you, if you or an Affiliate are in material breach of this Agreement. In the event of a termination pursuant to this section, in addition to other amounts you may owe Aesthetic Record you must immediately pay any unpaid Subscription Fees associated with the remainder of the Subscription Term. In no event will any termination relieve you of your obligation to pay any fees payable to Aesthetic Record for the period prior to the effective date of termination."),i.a.createElement("p",null,"Upon termination or expiration of this Agreement (a) all Order Forms will automatically terminate and be of no force or effect; (b) you will have no rights to continue use of the Services and will cease accessing and/or using the Services; and (c) except as specified in the following paragraph, Aesthetic Record will have no obligation to maintain your Services account or to retain or forward any data to you or any third party, except as required by applicable law."),i.a.createElement("p",null,"For a period of no greater than thirty (30) days following a notice of termination, Aesthetic Record will make Your Data available to you through Aesthetic Record. We may suspend or terminate your access to and use of the Services (or any portion thereof) at any time without notice if we believe (a) that any activity or use of Services in connection with your account violates this Agreement, the intellectual property rights of a third party or any applicable laws, or is otherwise disruptive or harmful to Aesthetic Record or any third party, (b) that we are required to do so by law, or (c) where the Parties do not agree on the use of a payment processor."),i.a.createElement("p",null,"If we reasonably believe any of Your Content violates the law, infringes or misappropriates the rights of any third party or otherwise violates a material term of the Agreement (\u201cProhibited Content\u201d), we will notify you of the Prohibited Content and may request that such content be removed from the Services or access to it be disabled. If you do not remove or disable access to the Prohibited Content within 2 business days of our notice, we may remove or disable access to the Prohibited Content or suspend the Services to the extent we are not able to remove or disable access to the Prohibited Content. Notwithstanding the foregoing, we may remove or disable access to any Prohibited Content without prior notice in connection with illegal content, where the content may disrupt or threaten the Services, pursuant to the Digital Millennium Copyright Act or as required to comply with law or any judicial, regulatory or other governmental order or request. In the event that we remove content without prior notice, we will provide prompt notice to you unless prohibited by law."),i.a.createElement("h4",null,"Your Responsibilities"),i.a.createElement("p",null,"You are responsible for making sure that you, your Affiliates and End Users comply with the terms of this agreement and applicable laws."),i.a.createElement("p",null,"You are responsible for all activity occurring under or relating to your account, including, but not limited to, your staff, employees, consultants, advisors, independent contractors, and End Users. You will ensure that your Affiliates and End Users comply with all of the provisions of this Agreement, and any applicable local, state, national and foreign laws, including those related to data privacy and transmission of personal data, at all times while using the Services. Any reference in this Agreement to your \u201caccess\u201d or \u201cuse\u201d of Services (or similar phrase) is deemed to include access or use, as appropriate, by Affiliates and/or End Users, and any act or omission of an Affiliate or End User that does not comply with this Agreement will be deemed a breach of this Agreement by you. You are also responsible for ensuring that you have the appropriate rights to interact and/or contact End Users through the Services, as applicable, in accordance with applicable laws and regulations."),i.a.createElement("p",null,"You will: (a) have sole responsibility for the accuracy and quality of Your Data and for ensuring that your collection and use of Your Data complies with applicable laws, including those related to data privacy and transmission of personal data; (b) prevent unauthorized access to, or use of, the Services, and notify Aesthetic Record promptly of any unauthorized access or use; and (c) have sole responsibility for obtaining, maintaining and paying for any hardware, telecommunications, Internet and other services needed to use the Services."),i.a.createElement("p",null,"You and your Affiliates and End Users will not: (i) submit any infringing, obscene, defamatory, threatening, or otherwise unlawful or tortious material to the Services, including material that violates privacy rights; (ii) interfere with or disrupt the integrity or performance of the Services or the data contained therein; (iii) attempt to gain access to the Services or related systems or networks in a manner not permitted by this Agreement; (iv) post, transmit or otherwise make available through or in connection with the Services any virus, worm, Trojan horse, Easter egg, time bomb, spyware or other harmful computer code, files, scripts agents or programs; (v) restrict or inhibit any other person or entity from using the Services; (vi) remove any copyright, trademark or other proprietary rights notice from the Services; (vii) frame or mirror any portion of the Services, or otherwise incorporate any portion of the Services into any product or service; (viii) systematically download and store Services content; or (ix) use any robot, spider, site search/retrieval application or other manual or automatic device to retrieve, index, \u201cscrape,\u201d \u201cdata mine\u201d or otherwise gather Services content, or reproduce or circumvent the navigational structure or presentation of the Services."),i.a.createElement("p",null,"You are liable if any Cardholder Data is mishandled under your account. You are solely responsible for any liability resulting from your or any Affiliate\u2019s handling of Cardholder Data. You agree that you and Affiliates will comply with PCI DSS anytime the Services are used to process credit cards."),i.a.createElement("p",null,"You will ensure all user names and passwords are kept confidential. Aesthetic Record may reject or require that you change any user name or password under your account. User names and passwords are for internal business use only and may not be shared with any third party, including any competitor of Aesthetic Record. You, and not Aesthetic Record are responsible for any use or misuse of user names or passwords associated with your account. Sharing one user name and one password among two or more people is a violation of this Agreement."),i.a.createElement("p",null,"Customer shall obtain and maintain all necessary licences and consents and comply with all applicable laws in relation to the Services before the date on which the Services are to start."),i.a.createElement("p",null,"Customer shall respond promptly to any Service Provider request to provide direction, information, approvals, authorizations or decisions that are reasonably necessary for Service Provider to perform Services in accordance with the requirements of this Agreement."),i.a.createElement("p",null,"Customer shall be responsible for all sales, use and excise taxes, and any other similar taxes, duties and charges of any kind imposed by any federal, state or local governmental entity on any amounts payable by Customer hereunder."),i.a.createElement("p",null,"If Service Provider\u2019s performance of its obligations under this Agreement is prevented or delayed by any act or omission of Customer or its agents, subcontractors, consultants or employees, Service Provider shall not be deemed in breach of its obligations under this Agreement or otherwise liable for any costs, charges or losses sustained or incurred by Customer, in each case, to the extent arising directly or indirectly from such prevention or delay."),i.a.createElement("h4",null,"Payment"),i.a.createElement("p",null,"Fees for the subscribed Software Services (\u201cSubscription Fees\u201d) are set forth on our website. This describes our fees and your payment obligations. All fees are non-refundable and must be paid in advance."),i.a.createElement("p",null,i.a.createElement("b",null,"Your payment to Aesthetic Record will automatically renew at the end of the subscription period unless you cancel your subscription through your subscription page before the end of the current subscription period. The cancellation will take effect the day after the last day of the current subscription period. However, if you cancel your payment or subscription and/or terminate any of the agreements before the end of the current subscription period, we will not refund any subscription fees already paid to us.")),i.a.createElement("p",null,"You agree to pay Aesthetic Record the Subscription Fees and any other applicable fees stated on an order form or otherwise specified in this Agreement. All payment obligations under this Agreement are non-cancelable and all fees paid are non-refundable. Fees must be paid in advance of each billing period."),i.a.createElement("p",null,"You will provide Aesthetic Record with valid and updated credit card information or another form of payment acceptable to Aesthetic Record. If you provide credit card information, you represent that you are authorized to use the card and you authorize Aesthetic Record to charge the card for all payments hereunder. By submitting payment information, you authorize Aesthetic Record to provide that information to third parties for purposes of facilitating payment. You agree to verify any information requested by Aesthetic Record for purposes of acknowledging or completing any payment."),i.a.createElement("p",null,"Any amounts not received by the applicable due date may accrue late interest at 1.5% of the outstanding balance per month, or the maximum interest permitted by applicable law, whichever is less, plus costs of collection. Any amount not received by Aesthetic Record within thirty (30) days after the applicable due date will be deemed a material default under this Agreement, and Aesthetic Record will be entitled to either suspend the Services or terminate the Agreement."),i.a.createElement("p",null,"In addition to any remedies that may be provided under this Agreement, Service Provider may terminate this Agreement with immediate effect upon written notice to Customer, if Customer:"),i.a.createElement("p",null,"(a)  has not otherwise performed or complied with any of the terms of this Agreement, in whole or in part; or"),i.a.createElement("p",null,"(b)  becomes insolvent, files a petition for bankruptcy or commences or has commenced against it proceedings relating to bankruptcy, receivership, reorganization or assignment for the benefit of creditors."),i.a.createElement("p",null,"Upon notice to you, Aesthetic Record may increase any fees specified in an order form or on our website, provided the increase will not become effective until the expiration of the current Subscription Term. Aesthetic Record may increase any fees that are not specified in an order form at any time, with or without notice to you. Aesthetic Record may also convert any free, trial or beta Service into a Service subject to a Subscription Fee upon notice to you, and your rights to such Service will be suspended if you do not pay the Subscription Fee."),i.a.createElement("p",null,i.a.createElement("b",null,"Aesthetic Record will communicate any price changes to you in advance and, if applicable, how to accept those changes. Price changes for subscriptions will take effect at the start of the next subscription period following the date of the price change. As permitted by local law, you accept the new price by continuing to use Aesthetic Record after the price change takes effect. If you do not agree with the price changes, you have the right to reject the change by canceling your Aesthetic Record account prior to the price change going into effect.")),i.a.createElement("p",null,"Fees do not include any taxes, levies, duties or similar governmental assessments of any nature, including, for example, value-added, sales, use or withholding taxes, assessable by any jurisdiction (collectively, \u201cTaxes\u201d). You are responsible for paying all Taxes associated with purchases and transactions under this Agreement. If Aesthetic Record is legally required to pay or collect any Taxes on your behalf, Aesthetic Record will invoice you and you will pay the invoiced amount. You acknowledge that we may make certain reports to tax authorities (e.g., 1099 forms) regarding transactions that we process and merchants to which we provide Payment Processing Services."),i.a.createElement("h4",null,"Intellectual Property"),i.a.createElement("p",null,"All intellectual property rights, including copyrights, patents, patent disclosures and inventions (whether patentable or not), trademarks service marks, trade secrets, know-how and other confidential information, trade dress, trade names, logos, corporate names and domain names, together with all of the goodwill associated therewith, derivative works and all other rights (collectively, \u201cIntellectual Property Rights\u201d) in and to all documents, work product and other materials that are delivered to Customer under this Agreement or prepared by or on behalf of the Service Provider in the course of performing the Services (collectively, the ",i.a.createElement("b",null,"\u201cDeliverables\u201d"),") except for any Confidential Information of Customer or customer materials shall be owned by Service Provider. Service Provider hereby grants Customer a personal license to use all Intellectual Property Rights free of additional charge and on a non-exclusive, worldwide, non-transferable, non-sublicenseable, fully paid-up, royalty-free and perpetual basis to the extent necessary to enable Customer to make reasonable use of the Deliverables and the Services."),i.a.createElement("p",null,"This license is for the sole purpose of enabling you to use and enjoy the benefit of the Services as provided by Aesthetic Record, in the manner permitted by these terms. You may not copy, modify, distribute, sell, or lease any part of our Services or included software, nor may you reverse engineer or attempt to extract the source code of that software, unless laws prohibit those restrictions or you have our written permission."),i.a.createElement("h4",null,"Confidential Information"),i.a.createElement("p",null,"All non-public, confidential or proprietary information of Service Provider, including, but not limited to, trade secrets, technology, information pertaining to business operations and strategies, and information pertaining to customers, pricing, and marketing (collectively, \u201cConfidential Information\u201d), disclosed by Service Provider to Customer, whether disclosed orally or disclosed or accessed in written, electronic or other form or media, and whether or not marked, designated or otherwise identified as \u201cconfidential,\u201d in connection with the provision of the Services and this Agreement is confidential, and shall not be disclosed or copied by Customer without the prior written consent of the Service Provider. Confidential Information does not include information that is (i)   in the public domain; (ii)  known to Customer at the time of disclosure; or (iii)  rightfully obtained by Customer on a non-confidential basis from a third party. Customer agrees to use the Confidential Information only to make use of the Services and Deliverables. Service Provider shall be entitled to injunctive relief for any violation of this Section."),i.a.createElement("h4",null,"Representations and Warranties"),i.a.createElement("p",null,"Service Provider represents and warrants to Customer that it shall perform the Services using personnel of required skill, experience and qualifications and in a professional and workmanlike manner in accordance with generally recognized industry standards for similar services and shall devote adequate resources to meet its obligations under this Agreement."),i.a.createElement("p",null,"The Service Provider shall not be liable for a breach of the warranty set forth in this Section unless Customer gives written notice of the defective Services, reasonably described, to Service Provider within 5 days of the time when Customer discovers or ought to have discovered that the Services were defective. Service Provider shall, in its sole discretion, either: (i)  repair or re-perform such Services (or the defective part); or (ii)  credit or refund the price of such Services at the pro rata contract rate.",i.a.createElement("b",null," THE REMEDIES SET FORTH IN THIS SECTION SHALL BE THE CUSTOMER\u2019S SOLE AND EXCLUSIVE REMEDY AND SERVICE PROVIDER\u2019S ENTIRE LIABILITY FOR ANY BREACH OF THE LIMITED WARRANTY SET FORTH IN THIS SECTION")),i.a.createElement("p",null,i.a.createElement("b",null,"EXCEPT FOR THE WARRANTY SET FORTH IN SECTION 11(A) ABOVE, SERVICE PROVIDER MAKES NO WARRANTY WHATSOEVER WITH RESPECT TO THE SERVICES, INCLUDING ANY (A) WARRANTY OF MERCHANTABILITY; OR (B) WARRANTY OF FITNESS FOR A PARTICULAR PURPOSE; OR (C) WARRANTY OF TITLE; OR (D) WARRANTY AGAINST INFRINGEMENT OF INTELLECTUAL PROPERTY RIGHTS OF A THIRD PARTY; WHETHER EXPRESS OR IMPLIED BY LAW, COURSE OF DEALING, COURSE OF PERFORMANCE, USAGE OF TRADE OR OTHERWISE.")),i.a.createElement("h4",null,"Indemnification"),i.a.createElement("p",null,"You agree to indemnify, defend, and hold harmless Aesthetic Record and its affiliates from and against any and all third party claims alleged or asserted against any of them, and all related charges, damages and expenses (including, but not limited to, reasonable attorneys' fees and costs) arising from or relating to: (a) any actual or alleged breach by you, an Affiliate or End User of any provisions of this Agreement; (b) any access to or use of the Services by you, an Affiliate or End User; (c) any actual or alleged violation by you, an Affiliate or End User of the intellectual property, privacy or other rights of a third party; (d) any dispute between you and another party regarding ownership of or access to Your Data; or (e) any alleged or actual violation of any law by you or any of your End Users or Affiliates."),i.a.createElement("h4",null,"Notices"),i.a.createElement("p",null,"Any notices provided by Aesthetic Record under this Agreement may be delivered to you within the Services or to the email address(es) we have on file for your account. You hereby consent to receive notice from Aesthetic Record through the foregoing means, and such notices will be deemed effective when sent if on a business day, and if not sent on a business day then on the next business day. Except as otherwise specified in the Agreement, any notices to Aesthetic Record under this Agreement must be delivered via first class registered U.S. mail, overnight courier, to Aesthetic Record, 40 West Gay Street, 3rd Floor, Columbus, OH 43215."),i.a.createElement("h4",null,"Electronic Communications and Signatures"),i.a.createElement("p",null,"You agree to the use of electronic communication in order to enter into agreements and place orders, and to the electronic delivery of notices, policies and records of transactions initiated or completed through the Services. Furthermore, you hereby waive any rights or requirements under any laws or regulations in any jurisdiction that require an original (non-electronic) signature or delivery or retention of non-electronic records, to the extent permitted under applicable law.",i.a.createElement("b",null," YOU ACKNOWLEDGE THAT YOUR ELECTRONIC SUBMISSIONS CONSTITUTE YOUR AGREEMENT AND INTENT TO BE BOUND BY SUCH AGREEMENTS AND TRANSACTIONS. YOUR AGREEMENT AND INTENT TO BE BOUND BY ELECTRONIC SUBMISSIONS APPLIES TO ALL RECORDS RELATING TO ALL TRANSACTIONS YOU ENTER INTO ON THE SERVICES, INCLUDING NOTICES OF CANCELLATION, POLICIES, CONTRACTS, AND APPLICATIONS.")),i.a.createElement("h4",null,"HIPAA"),i.a.createElement("p",null,"The Health Insurance Portability and Accountability Act of 1996 (\u201cHIPAA\u201d) imposes rules to protect certain Personal Health Information (PHI) as that term is defined under HIPAA. If you or any Affiliate is subject to HIPAA, and providing or processing any PHI in connection with the Services, prior to accessing or using the services you must notify Aesthetic Record and enter into a Business Associate Agreement (\u201cBAA\u201d) in the form provided by Aesthetic Record. You are solely responsible for determining whether you or any affiliates are subject to HIPAA."),i.a.createElement("p",null,i.a.createElement("b",null,"During the subscription term, Aesthetic Record will maintain administrative, physical and technical safeguards designed for the protection and integrity of Your Data.")),i.a.createElement("p",null,i.a.createElement("b",null,"In the United States, records may be securely deleted by Aesthetic Record after 90 days of inactivity or 90 days after the account not being in good standing or being terminated, whichever is sooner.")),i.a.createElement("p",null,i.a.createElement("b",null,"In the event of a termination by Customer, Customer acknowledges that is their responsibility to maintain a complete medical record for their client under HIPAA. Aesthetic Record agrees to make Customer\u2019s records available to them at no cost for 30 days after the end of their subscription to allow them to transfer the PHI in a HIPAA compliant manner. Aesthetic Record does not provide any data retrieval / export services, the data must be retrieved by the Customer during the subscription term.")),i.a.createElement("p",null,i.a.createElement("b",null,"For general support and tech support purposes when our Customers contact us for support, we access their Aesthetic Record dashboard and all screens related to their support inquiry to help them identify and solve issues.")),i.a.createElement("p",null,i.a.createElement("b",null,"If either party believes that there has been a disclosure of Your Data in a manner not authorized under this agreement, such party will promptly notify the other party. Additionally, each party will reasonably assist the other party in remediating or mitigating any potential damage, including any notification which should be sent to individuals impacted or potentially impacted by such unauthorized disclosure.")),i.a.createElement("p",null,i.a.createElement("b",null,"We are not responsible for resolving or intervening in any dispute over Your Data or your business practices. You are solely responsible for resolving disputes regarding ownership or access to Your Data, including those involving any current or former owners, co-owners, employees or contractors of your business. You acknowledge and agree that Aesthetic Record has no obligation whatsoever to resolve or intervene in such disputes.")),i.a.createElement("p",null,i.a.createElement("b",null,"Customer will not request, direct, or cause Aesthetic Record to use or disclose PHI unless the use or disclosure is in compliance with applicable law relating to the privacy and security of patient data and is the minimum amount necessary for the legitimate purpose of such use or disclosure;")),i.a.createElement("p",null,i.a.createElement("b",null,"Aesthetic Record\u2019s use and disclosure of Client PHI is permitted for the following purposes:",i.a.createElement("br",null),"(a) to provide Services;",i.a.createElement("br",null),"(b) as expressly permitted in the Agreement;",i.a.createElement("br",null),"(c) as required by law or a subpoena;",i.a.createElement("br",null),"(d) to provide data aggregation services;",i.a.createElement("br",null),"(e) for the proper management and administration of Aesthetic Record, including, without limitation, making and maintaining reasonable business records of transactions in which Aesthetic Record has participated or Aesthetic Record has been used (including back-up documentation); ",i.a.createElement("br",null),"(f) to provide tech support related to the services; and",i.a.createElement("br",null),"(g) to de-identify Client PHI and use such de-identified information.")),i.a.createElement("h4",null,"Disclaimer"),i.a.createElement("p",null,i.a.createElement("b",null,"EXCEPT AS EXPRESSLY PROVIDED IN THIS AGREEMENT, TO THE MAXIMUM EXTENT PERMITTED BY APPLICABLE LAW, AESTHETIC RECORD MAKES NO REPRESENTATIONS OR WARRANTIES OF ANY KIND, WHETHER EXPRESS, IMPLIED, STATUTORY OR OTHERWISE, AND SPECIFICALLY DISCLAIMS ALL IMPLIED WARRANTIES, INCLUDING WITHOUT LIMITATION ANY WARRANTIES OF TITLE, NON-INFRINGEMENT, MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE WITH RESPECT TO THE SERVICES AND/OR RELATED DOCUMENTATION. AESTHETIC RECORD DOES NOT WARRANT THAT YOUR USE OF THE SERVICES WILL BE SECURE, TIMELY, ERROR-FREE OR UNINTERRUPTED, OR THAT THE SERVICES ARE OR WILL REMAIN UPDATED, COMPLETE OR CORRECT, OR THAT THE SERVICES WILL MEET YOUR REQUIREMENTS OR THAT THE SYSTEMS THAT MAKE THE SERVICES AVAILABLE (INCLUDING WITHOUT LIMITATION THE INTERNET, OTHER TRANSMISSION NETWORKS, AND YOUR LOCAL NETWORK AND EQUIPMENT) WILL BE UNINTERRUPTED OR FREE FROM VIRUSES OR OTHER HARMFUL COMPONENTS. EXCEPT AS PROVIDED IN HEREIN THE SERVICES AND ANY PRODUCTS AND THIRD PARTY MATERIALS ARE PROVIDED ON AN \u201cAS IS\u201d AND \u201cAS AVAILABLE\u201d BASIS AND SOLELY FOR YOUR USE IN ACCORDANCE WITH THIS AGREEMENT. ALL DISCLAIMERS OF ANY KIND (INCLUDING IN THIS SECTION AND ELSEWHERE IN THIS AGREEMENT) ARE MADE ON BEHALF OF BOTH AESTHETIC RECORD AND ITS AFFILIATES AND THEIR RESPECTIVE SHAREHOLDERS, DIRECTORS, OFFICERS, EMPLOYEES, AFFILIATES, AGENTS, REPRESENTATIVES, CONTRACTORS, LICENSORS, SUPPLIERS AND SERVICE PROVIDERS.")),i.a.createElement("h4",null,"Limitation of Liability"),i.a.createElement("p",null,i.a.createElement("b",null,"IN NO EVENT SHALL SERVICE PROVIDER BE LIABLE TO CUSTOMER OR TO ANY THIRD PARTY FOR ANY LOSS OF USE, REVENUE OR PROFIT [OR LOSS OF DATA OR DIMINUTION IN VALUE], OR FOR ANY CONSEQUENTIAL, INCIDENTAL, INDIRECT, EXEMPLARY, SPECIAL OR PUNITIVE DAMAGES WHETHER ARISING OUT OF BREACH OF CONTRACT, TORT (INCLUDING NEGLIGENCE) OR OTHERWISE, REGARDLESS OF WHETHER SUCH DAMAGES WERE FORESEEABLE AND WHETHER OR NOT SERVICE PROVIDER HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES, AND NOTWITHSTANDING THE FAILURE OF ANY AGREED OR OTHER REMEDY OF ITS ESSENTIAL PURPOSE.")),i.a.createElement("p",null,i.a.createElement("b",null,"IN NO EVENT SHALL SERVICE PROVIDER\u2019S AGGREGATE LIABILITY ARISING OUT OF OR RELATED TO THIS AGREEMENT, WHETHER ARISING OUT OF OR RELATED TO BREACH OF CONTRACT, TORT (INCLUDING NEGLIGENCE) OR OTHERWISE, EXCEED THE AGGREGATE AMOUNTS PAID OR PAYABLE TO SERVICE PROVIDER PURSUANT TO THIS AGREEMENT IN THE 6 MONTH PERIOD PRECEDING THE EVENT GIVING RISE TO THE CLAIM.")),i.a.createElement("p",null,"The limitation of liability set forth above shall not apply to (i) liability resulting from Service Provider\u2019s gross negligence or willful misconduct and (ii) death or bodily injury resulting from Service Provider\u2019s gross negligent acts or gross negligent omissions."),i.a.createElement("h4",null,"Insurance"),i.a.createElement("p",null,i.a.createElement("b",null,"During the term of this Agreement, Customer shall, at its own expense, maintain and carry insurance in full force and effect which includes, but is not limited to, commercial general liability (including product liability) in a sum no less than $1,000,000 with financially sound and reputable insurers. Upon Service Provider\u2019s request, Customer shall provide Service Provider with a certificate of insurance from Customer\u2019s insurer evidencing the insurance coverage specified in these Terms. Customer shall provide Service Provider with 5 days\u2019 advance written notice in the event of a cancellation or material change in Customer\u2019s insurance policy.")),i.a.createElement("h4",null,"Waiver"),i.a.createElement("p",null,i.a.createElement("b",null,"No waiver by Service Provider of any of the provisions of this Agreement is effective unless explicitly set forth in writing and signed by Service Provider. No failure to exercise, or delay in exercising, any rights, remedy, power or privilege arising from this Agreement operates or may be construed as a waiver thereof. No single or partial exercise of any right, remedy, power or privilege hereunder precludes any other or further exercise thereof or the exercise of any other right, remedy, power or privilege.")),i.a.createElement("h4",null,"Force Majeure"),i.a.createElement("p",null,i.a.createElement("b",null,"The Service Provider shall not be liable or responsible to Customer, nor be deemed to have defaulted or breached this Agreement, for any failure or delay in fulfilling or performing any term of this Agreement when and to the extent such failure or delay is caused by or results from acts or circumstances beyond the reasonable control of Service Provider including, without limitation, acts of God, flood, fire, earthquake, explosion, governmental actions, war, invasion or hostilities (whether war is declared or not), terrorist threats or acts, riot, or other civil unrest, national emergency, revolution, insurrection, epidemic, lock-outs, strikes or other labor disputes (whether or not relating to either party\u2019s workforce), or restraints or delays affecting carriers or inability or delay in obtaining supplies of adequate or suitable materials, materials or telecommunication breakdown or power outage.")),i.a.createElement("h4",null,"Assignment"),i.a.createElement("p",null,i.a.createElement("b",null,"Customer shall not assign any of its rights or delegate any of its obligations under this Agreement without the prior written consent of Service Provider. Any purported assignment or delegation in violation of this Section is null and void. No assignment or delegation relieves Customer of any of its obligations under this Agreement.")),i.a.createElement("h4",null,"Relationship of the Parties"),i.a.createElement("p",null,i.a.createElement("b",null,"The relationship between the parties is that of independent contractors. Nothing contained in this Agreement shall be construed as creating any agency, partnership, joint venture or other form of joint enterprise, employment or fiduciary relationship between the parties, and neither party shall have authority to contract for or bind the other party in any manner whatsoever.")),i.a.createElement("h4",null,"Jurisdiction and Governing Law"),i.a.createElement("p",null,i.a.createElement("b",null,"Any legal suit, action or proceeding arising out of or relating to this Agreement shall be instituted in the federal courts of the United States of America or the courts of the State of Ohio in each case located in the City of Columbus and County of Franklin, and each party irrevocably submits to the exclusive jurisdiction of such courts in any such suit, action or proceeding.")),i.a.createElement("p",null,i.a.createElement("b",null,"All matters arising out of or relating to this Agreement are governed by and construed in accordance with the internal laws of the State of Ohio without giving effect to any choice or conflict of law provision or rule (whether of the State of Ohio or any other jurisdiction) that would cause the application of the laws of any jurisdiction other than those of the State of Ohio.")),i.a.createElement("h4",null,"Severability"),i.a.createElement("p",null,i.a.createElement("b",null,"If any term or provision of this Agreement is invalid, illegal or unenforceable in any jurisdiction, such invalidity, illegality or unenforceability shall not affect any other term or provision of this Agreement or invalidate or render unenforceable such term or provision in any other jurisdiction."))),i.a.createElement("div",{className:"member-section-footer"},i.a.createElement("button",{disabled:this.props.processingLoder,className:"btn btn-success green m-r-10",onClick:this.props.handleSubmit},this.props.processingLoder?this.props.globalLang.signup_please_wait:this.props.globalLang.signup_button_agree,i.a.createElement("img",{className:this.props.processingLoder?"":"no-display",src:"../images/btn-load.gif"})),i.a.createElement("button",{disabled:this.props.processingLoder,className:"btn btn-danger skip-upgrade",onClick:this.props.redirectToLogin},this.props.globalLang.signup_button_disagree))))))}}]),t}(i.a.Component),St="",Dt="",wt="",Ct="",xt=function(e){function t(e){var a,s;return Object(ne.a)(this,t),(s=Object(re.a)(this,Object(oe.a)(t).call(this,e))).generateStripeInput=function(e){var t=s.state.stripe.elements();St=t.create("cardNumber"),Dt=t.create("cardExpiry"),wt=t.create("cardCvc"),St.mount("#stripe-card-number"),Dt.mount("#stripe-card-expiry"),wt.mount("#stripe-card-cvc")},s.generateStripeCardToken=function(){s.setState({stripeToken:"",processingLoder:!0}),rt.toast.dismiss(),s.state.stripe.createToken(St).then(function(e){e.error?(s.setState({stripeToken:"",processingLoder:!1}),rt.toast.error(e.error.message)):(Ct=e.token.id)&&s.setState({stripeToken:Ct,processingLoder:!1,isShowCardInfo:!1,isShowHippa:!0})})},s.handleSubmit=function(){s.setState({processingLoder:!0});var e={stripe_token:s.state.stripeToken,return_type:"login",stripe_inactive:s.state.stripe_inactive};s.props.upgradeRecurlyToStripe(e)},s.redirectToDashboard=function(){var e=s.state.tempLoggedUserData;localStorage.setItem("currentUserRole",e.currentUserRole),localStorage.setItem("userData",JSON.stringify(e.userData)),localStorage.setItem("isLoggedIn",e.isLoggedIn),localStorage.setItem("user_listing_settings",JSON.stringify(e.user_listing_settings)),Ce(e.access_token),Q.a.get(Ee.API_URL+"privileges").then(function(e){var t=e.data.data;t.permissions;localStorage.setItem("globalPrivileges",JSON.stringify(t)),s.props.history.push(Qe())}).catch(function(e){})},s.redirectToLogin=function(){s.props.history.push("/logout")},s.state=(a={globalLang:{},isShowHippa:!0,isShowBba:!1,agree_checkbox:!1,isHppaPolicyAccepted:!1,isBbaPolicyAccepted:!1,tempLoggedUserData:{},stripeToken:"",processingLoder:!1,skip_upgrade:0,stripe_inactive:0,isShowCardInfo:!0},Object(se.a)(a,"isShowHippa",!1),Object(se.a)(a,"loginData",{}),Object(se.a)(a,"privilegeData",{}),a),s}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e=this,t={};localStorage.getItem("tempLoggedUserData")?void 0!=(t=JSON.parse(localStorage.getItem("tempLoggedUserData"))).userData&&(void 0!=t.userData.skip_upgrade&&this.setState({skip_upgrade:t.userData.skip_upgrade}),void 0!=t.userData.stripe_inactive&&this.setState({stripe_inactive:t.userData.stripe_inactive}),void 0!=t.userData.redirect_to&&"upgrade-account-to-stripe"!==t.userData.redirect_to&&this.redirectToLogin()):this.redirectToLogin(),this.setState({tempLoggedUserData:t});var a={};if(localStorage.getItem("languageData")&&(a=JSON.parse(localStorage.getItem("languageData"))),a&&void 0!==a.global&&a.global){var s=JSON.parse(localStorage.getItem("languageData"));this.setState({globalLang:s.global})}else Q.a.get(Ee.API_URL+"getLanguageText/1/global").then(function(t){var a=t.data.data;localStorage.setItem("languageData",JSON.stringify(a)),e.setState({globalLang:a.global})}).catch(function(e){});window.Stripe?this.setState({stripe:window.Stripe(Ee.STRIPE_PUBLISHABLE_KEY)},function(){e.generateStripeInput()}):document.querySelector("#stripe-js").addEventListener("load",function(){e.setState({stripe:window.Stripe(Ee.STRIPE_PUBLISHABLE_KEY)})},function(){e.generateStripeInput()})}},{key:"render",value:function(){return i.a.createElement("div",{className:"guest"},i.a.createElement(ue,null),i.a.createElement("div",{className:"wrapper"},i.a.createElement("div",{className:this.state.isShowCardInfo?"card-block":"card-block hide"},i.a.createElement("div",{className:"login-main  recurly-to-stripe-main sign-up-main"},i.a.createElement("form",{action:"javascript:void(0);",onSubmit:this.generateStripeCardToken},i.a.createElement("h1",{className:"login-title"},this.state.globalLang.update_credit_card_details),i.a.createElement("div",{className:"login-title-description"},this.state.globalLang.update_credit_card_details_notes),i.a.createElement("div",{className:"form-group row"},i.a.createElement("div",{className:"col-sm-12 first-name"},i.a.createElement("label",null,this.state.globalLang.signup_label_card_number,i.a.createElement("span",{className:"required"},"*")),i.a.createElement("div",{className:"form-control card-details",id:"stripe-card-number"}))),i.a.createElement("div",{className:"form-group row"},i.a.createElement("div",{className:"col-sm-12 first-name"},i.a.createElement("label",null,this.state.globalLang.signup_label_security_code,i.a.createElement("span",{className:"required"},"*")),i.a.createElement("div",{className:"form-control card-details",id:"stripe-card-cvc"}))),i.a.createElement("div",{className:"form-group row"},i.a.createElement("div",{className:"col-sm-12 first-name"},i.a.createElement("label",null,this.state.globalLang.signup_label_expiration_date,i.a.createElement("span",{className:"required"},"*")),i.a.createElement("div",{className:"form-control card-details",id:"stripe-card-expiry"}))),i.a.createElement("div",{className:"form-group row no-margin-bottom"},i.a.createElement("div",{className:"col-sm-6 text-left"},this.state.skip_upgrade?i.a.createElement("button",{disabled:this.state.processingLoder,className:"btn btn-danger skip-upgrade",onClick:this.redirectToDashboard},this.state.globalLang.upgrade_button_skip):null),i.a.createElement("div",{className:"col-sm-6 text-right"},i.a.createElement("button",{disabled:this.state.processingLoder,className:this.state.processingLoder?"btn btn-success green":"btn btn-success"},this.state.processingLoder?this.state.globalLang.signup_please_wait:this.state.globalLang.signup_button_continue,i.a.createElement("img",{className:this.state.processingLoder?"":"no-display",src:"../images/btn-load.gif"}))))))),i.a.createElement("div",{className:this.state.isShowHippa?"hippa-block":"hippa-block hide"},i.a.createElement("div",{className:"recurly-to-stripe-main sign-up-main"},i.a.createElement(Nt,{globalLang:this.state.globalLang,processingLoder:this.state.processingLoder,redirectToLogin:this.redirectToLogin,handleSubmit:this.handleSubmit})))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}),i.a.createElement(be,null))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};if(void 0!=e.processingLoder&&0==e.processingLoder)a.processingLoder=!1;else if(void 0!=e.loginData&&Object.keys(e.loginData).length>0&&e.loginData!==t.loginData)if(rt.toast.dismiss(),rt.toast.success(t.globalLang[e.message]),a.loginData=e.loginData,Je(e.loginData.redirect_to),void 0!=e.loginData.is_bba_signed&&1==e.loginData.is_bba_signed)localStorage.setItem("currentUserRole",e.loginData.user.user_role_id),localStorage.setItem("userData",JSON.stringify(e.loginData)),localStorage.setItem("isLoggedIn",1),localStorage.setItem("user_listing_settings",JSON.stringify(e.loginData.user_listing_settings)),localStorage.setItem("languageData",JSON.stringify(e.loginData.languageData)),localStorage.setItem("globalPrivileges",JSON.stringify(e.loginData.globalPrivileges)),localStorage.removeItem("tempLoggedUserData"),e.history.push(Qe());else{Je("accept-agreement");var s=t.tempLoggedUserData;s.userData=e.loginData,localStorage.setItem("tempLoggedUserData",JSON.stringify(s)),e.accountReset(),e.history.push(Qe())}return a}}]),t}(i.a.Component),Lt=Object(Z.b)(function(e){var t={};if("UPGRADE_RECURLY_TO_STRIPE"===e.AccountReducer.action)if(200!=e.AccountReducer.data.status){rt.toast.dismiss();var a=JSON.parse(localStorage.getItem("languageData"));rt.toast.error(a.global[e.AccountReducer.data.message]),t.processingLoder=!0}else t.loginData=e.AccountReducer.data.data,t.message=e.AccountReducer.data.message;return t},function(e){return Object(c.bindActionCreators)({accountReset:pt,upgradeRecurlyToStripe:_t},e)})(Object(de.a)(xt)),Ot=Ee.API_URL,At=Q.a.create();function Tt(){return function(e){e({type:"SIGN_UP"})}}function It(e){return function(t){At.post(Ot+"signup-account-status",e||"").then(function(e){t({type:"GET_SIGNUP_ACCOUNT_STATUS",payload:e.data})}).catch(function(e){e.response&&t({type:"GET_SIGNUP_ACCOUNT_STATUS",payload:e.response.data})})}}function Rt(e){return function(t){t({type:"SIGN_UP"}),At.post(Ot+"check-email-id",e).then(function(e){t({type:"UNIQUE_EMAIL",payload:e.data})}).catch(function(e){e.response&&t({type:"UNIQUE_EMAIL",payload:e.response.data})})}}function kt(){return function(e){e({type:"SIGN_UP"}),At.get(Ot+"signup-plans").then(function(t){e({type:"SIGN_UP_PLANS",payload:t.data})}).catch(function(t){t.response&&e({type:"SIGN_UP_PLANS",payload:t.response.data})})}}function Pt(e){return function(t){t({type:"SIGN_UP"}),At.post(Ot+"signup-basic",e).then(function(e){t({type:"SIGN_UP_BASIC",payload:e.data})}).catch(function(e){e.response&&t({type:"SIGN_UP_BASIC",payload:e.response.data})})}}function jt(e){return function(t){t({type:"SIGN_UP"}),At.post(Ot+"signup-premium",e).then(function(e){t({type:"SIGN_UP_PREMIUM",payload:e.data})}).catch(function(e){e.response&&t({type:"SIGN_UP_PREMIUM",payload:e.response.data})})}}Xe(),At.interceptors.response.use(function(e){return e.headers.access_token&&Ce(e.headers.access_token),void 0!=e.data&&void 0!=e.data.global_settings&&He(e.data.global_settings),Xe(),e},function(e){return 602===e.response.data.status&&(localStorage.setItem("blockIP",1),window.location.href="/block-ip"),Promise.reject(e)});var Mt="",Ut="",Ft="",Bt="",qt=function(e){function t(e){var a,s;return Object(ne.a)(this,t),(s=Object(re.a)(this,Object(oe.a)(t).call(this,e))).generateStripeInput=function(e){var t=s.state.stripe.elements();Mt=t.create("cardNumber"),Ut=t.create("cardExpiry"),Ft=t.create("cardCvc"),Mt.mount("#stripe-card-number"),Ut.mount("#stripe-card-expiry"),Ft.mount("#stripe-card-cvc")},s.generateStripeCardToken=function(){s.setState({stripeToken:"",processingLoder:!0}),rt.toast.dismiss(),s.state.stripe.createToken(Mt).then(function(e){e.error?(s.setState({stripeToken:"",processingLoder:!1}),rt.toast.error(e.error.message)):(Bt=e.token.id)&&Bt&&(s.setState({stripeToken:Bt,processingLoder:!1}),s.handlePolicyModal())})},s.handleInputChange=function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value;s.setState(Object(se.a)({},e.target.name,a))},s.handleSubmit=function(){s.setState({processingLoder:!0}),s.handlePolicyModal();var e={stripe_token:s.state.stripeToken,subscription_type:s.state.subscription_type,return_type:"login"};s.props.upgradeTrailToPaid(e)},s.redirectToLogin=function(){s.props.history.push("/logout")},s.handleUpgradeModal=function(){s.setState({isShowUpgradeModal:!s.state.isShowUpgradeModal})},s.handlePolicyModal=function(){s.setState({isShowPolicyModal:!s.state.isShowPolicyModal})},s.renderSubscriptionPlan=function(){var e=[];return Object.keys(s.state.subscriptionPlanList).forEach(function(t){e.push(i.a.createElement("option",{key:"subscriptionPlanList-"+t,value:t},s.state.subscriptionPlanList[t]," "))}),e},s.state=(a={showModal:!1,globalLang:{},isShowHippa:!0,isShowBba:!1,agree_checkbox:!1,isHppaPolicyAccepted:!1,isBbaPolicyAccepted:!1,tempLoggedUserData:{},stripeToken:"",processingLoder:!1,isShowUpgradeModal:!0,isShowPolicyModal:!1,planAndCountryData:{},subscriptionPlanList:{},subscription_type:"monthly",loginData:{}},Object(se.a)(a,"loginData",{}),Object(se.a)(a,"privilegeData",{}),a),s}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.getSignUpPlans(),this.props.accountReset();var t={};localStorage.getItem("tempLoggedUserData")&&"/upgrade-subscription-plan"==Qe()?t=JSON.parse(localStorage.getItem("tempLoggedUserData")):this.redirectToLogin(),this.setState({tempLoggedUserData:t});var a={};if(localStorage.getItem("languageData")&&(a=JSON.parse(localStorage.getItem("languageData"))),a&&void 0!==a.global&&a.global){var s=JSON.parse(localStorage.getItem("languageData"));this.setState({globalLang:s.global})}else Q.a.get(Ee.API_URL+"getLanguageText/1/global").then(function(t){var a=t.data.data;localStorage.setItem("languageData",JSON.stringify(a)),e.setState({globalLang:a.global})}).catch(function(e){});window.Stripe?this.setState({stripe:window.Stripe(Ee.STRIPE_PUBLISHABLE_KEY)},function(){e.generateStripeInput()}):document.querySelector("#stripe-js").addEventListener("load",function(){e.setState({stripe:window.Stripe(Ee.STRIPE_PUBLISHABLE_KEY)})},function(){e.generateStripeInput()})}},{key:"render",value:function(){return i.a.createElement("div",{className:"guest"},i.a.createElement(ue,null),i.a.createElement("div",{className:"wrapper"},i.a.createElement("div",{className:"login-main  sign-up-main trail-to-paid-main"},i.a.createElement("form",{action:"javascript:void(0);",onSubmit:this.generateStripeCardToken},i.a.createElement("h1",{className:"login-title"},this.state.globalLang.update_credit_card_details),i.a.createElement("div",{className:"form-group row"},i.a.createElement("div",{className:"col-sm-12 first-name"},i.a.createElement("label",null,this.state.globalLang.signup_label_card_number,i.a.createElement("span",{className:"required"},"*")),i.a.createElement("div",{className:"form-control card-details",id:"stripe-card-number"}))),i.a.createElement("div",{className:"form-group row"},i.a.createElement("div",{className:"col-sm-12 first-name"},i.a.createElement("label",null,this.state.globalLang.signup_label_security_code,i.a.createElement("span",{className:"required"},"*")),i.a.createElement("div",{className:"form-control card-details",id:"stripe-card-cvc"}))),i.a.createElement("div",{className:"form-group row"},i.a.createElement("div",{className:"col-sm-12 first-name"},i.a.createElement("label",null,this.state.globalLang.signup_label_expiration_date,i.a.createElement("span",{className:"required"},"*")),i.a.createElement("div",{className:"form-control card-details",id:"stripe-card-expiry"}))),i.a.createElement("div",{className:"form-group row"},i.a.createElement("div",{className:"col-sm-12"},i.a.createElement("label",null,this.state.globalLang.signup_label_subscription_type),i.a.createElement("select",{name:"subscription_type",value:this.state.subscription_type,onChange:this.handleInputChange,className:"form-control"},this.renderSubscriptionPlan()))),i.a.createElement("div",{className:"form-group row text-right"},i.a.createElement("div",{className:"col-sm-12"},i.a.createElement("button",{disabled:this.state.processingLoder,className:this.state.processingLoder?"btn btn-success green":"btn btn-success"},this.state.processingLoder?this.state.globalLang.signup_please_wait:this.state.globalLang.upgrade_account,i.a.createElement("img",{className:this.state.processingLoder?"":"no-display",src:"../images/btn-load.gif"})))))),i.a.createElement("div",{className:this.state.isShowUpgradeModal?"overlay":""}),i.a.createElement("div",{id:"filterModal",role:"dialog",className:this.state.isShowUpgradeModal?"modal fade in displayBlock":"modal fade no-display"},i.a.createElement("div",{className:"modal-dialog trail-to-paid-modal-dialog"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal",onClick:this.redirectToLogin},"\xd7"),i.a.createElement("h4",{className:"modal-title",id:"model_title"},this.state.globalLang.upgrade_subscription)),i.a.createElement("div",{className:"modal-body add-patient-form filter-patient"},this.state.globalLang.upgrade_subscription_trial_expiration_msg),i.a.createElement("div",{className:"modal-footer"},i.a.createElement("div",{className:"col-md-12 text-left"},i.a.createElement("button",{type:"button",className:"btn  logout pull-right","data-dismiss":"modal",onClick:this.redirectToLogin},this.state.globalLang.label_cancel),i.a.createElement("button",{type:"button",className:"btn btn-success pull-right m-r-10","data-dismiss":"modal",onClick:this.handleUpgradeModal},this.state.globalLang.upgrade_account)))))),i.a.createElement("div",{className:this.state.isShowPolicyModal?"overlay":""}),i.a.createElement("div",{id:"filterModal",role:"dialog",className:this.state.isShowPolicyModal?"modal fade in displayBlock":"modal fade no-display"},i.a.createElement("div",{className:"modal-dialog trail-to-paid-modal-dialog"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal",onClick:this.redirectToLogin},"\xd7"),i.a.createElement("h4",{className:"modal-title",id:"model_title"},this.state.globalLang.subscription_payments_are_non_refundable)),i.a.createElement("div",{id:"errorwindow",className:"modal-body add-patient-form filter-patient"},"YOU MAY CANCEL YOUR SUBSCRIPTION TO THE SERVICE AT LEAST 24 HOURS PRIOR TO THE NEXT DATE OF SUBSCRIPTION RENEWAL, AFTER WHICH AESTHETIC RECORD LLC WILL NOT RENEW YOUR SUBSCRIPTION. ",i.a.createElement("b",null,i.a.createElement("u",null,"SUBSCRIPTION PAYMENTS ARE NON-REFUNDABLE")),'. ALL SUBSCRIPTIONS ARE FINAL, REGARDLESS OF A YEARLY SUBSCRIPTION OR MONTHLY SUBSCRIPTION. YOU MAY CANCEL YOUR SUBSCRIPTION THROUGH THE FUNCTIONALITY PROVIDED THROUGH THE SETTINGS TAB ON THE WEB APPLICATION, UNDER THE "ACCOUNT INFORMATION" TAB. It is your responsibility to manage any subscription changes to your account.',i.a.createElement("br",null),i.a.createElement("br",null),"Recurring Charges. YOU AUTHORIZE AESTHETIC RECORD LLC TO CHARGE THE PAYMENT METHOD THAT OUR PAYMENT PROCESSOR HAS ON FILE FOR YOU TO PAY FOR ANY RENEWAL SUBSCRIPTION. YOU WILL BE BILLED FOR THE SAME SUBSCRIPTION PLAN (OR THE MOST SIMILAR SUBSCRIPTION PLAN, IF YOUR PRIOR PLAN IS NO LONGER AVAILABLE) AT THE THEN-CURRENT MONTHLY, OR ANNUAL SUBSCRIPTION PRICE PLUS ANY APPLICABLE TAXES. ADDITIONAL TERMS AND CONDITIONS MAY APPLY UPON RENEWAL, AND SUBSCRIPTION FEES MAY CHANGE AT ANY TIME, TO THE FULLEST EXTENT PERMITTED UNDER APPLICABLE LAW."),i.a.createElement("div",{className:"modal-footer"},i.a.createElement("div",{className:"col-md-12 text-left"},i.a.createElement("button",{disabled:this.state.processingLoder,className:"btn btn-success green",onClick:this.handleSubmit},this.state.processingLoder?this.state.globalLang.signup_please_wait:this.state.globalLang.signup_button_agree,i.a.createElement("img",{className:this.state.processingLoder?"":"no-display",src:"../images/btn-load.gif"})),i.a.createElement("button",{disabled:this.state.processingLoder,className:"btn btn-danger m-r-10","data-dismiss":"modal",onClick:this.redirectToLogin},this.state.globalLang.signup_button_disagree))))))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}),i.a.createElement(be,null))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};if(void 0!=e.showLoader&&0==e.showLoader)a.showLoader=!1;else if(void 0!=e.planAndCountryData&&e.planAndCountryData!=t.planAndCountryData)a.planAndCountryData=e.planAndCountryData,a.subscriptionPlanList=e.planAndCountryData.subscription_plans,e.signUp();else if(void 0!=e.loginData&&Object.keys(e.loginData).length>0&&e.loginData!==t.loginData)if(rt.toast.dismiss(),rt.toast.success(t.globalLang[e.message]),a.loginData=e.loginData,Je(e.loginData.redirect_to),void 0!=e.loginData.is_bba_signed&&1==e.loginData.is_bba_signed)localStorage.setItem("currentUserRole",e.loginData.user.user_role_id),localStorage.setItem("userData",JSON.stringify(e.loginData)),localStorage.setItem("isLoggedIn",1),localStorage.setItem("user_listing_settings",JSON.stringify(e.loginData.user_listing_settings)),localStorage.setItem("languageData",JSON.stringify(e.loginData.languageData)),localStorage.setItem("globalPrivileges",JSON.stringify(e.loginData.globalPrivileges)),localStorage.removeItem("tempLoggedUserData"),e.history.push(Qe());else{Je("accept-agreement");var s=t.tempLoggedUserData;s.userData=e.loginData,localStorage.setItem("tempLoggedUserData",JSON.stringify(s)),e.accountReset(),e.history.push(Qe())}return a}}]),t}(i.a.Component),Yt=Object(Z.b)(function(e){var t={};if("SIGN_UP_PLANS"===e.SignUpReducer.action)if(rt.toast.dismiss(),200!=e.SignUpReducer.data.status){var a=JSON.parse(localStorage.getItem("languageData"));rt.toast.error(a.global[e.SignUpReducer.data.message]),t.showLoader=!0}else t.planAndCountryData=e.SignUpReducer.data.data;else if("UPGRADE_TRAIL_TO_PAID"===e.AccountReducer.action)if(200!=e.AccountReducer.data.status){rt.toast.dismiss();var s=JSON.parse(localStorage.getItem("languageData"));rt.toast.error(s.global[e.AccountReducer.data.message]),t.processingLoder=!0}else t.loginData=e.AccountReducer.data.data,t.message=e.AccountReducer.data.message;return t},function(e){return Object(c.bindActionCreators)({accountReset:pt,upgradeTrailToPaid:gt,getSignUpPlans:kt,signUp:Tt},e)})(Object(de.a)(qt)),Ht=function(e){function t(e){var a;return Object(ne.a)(this,t),a=Object(re.a)(this,Object(oe.a)(t).call(this,e)),Le(),Ae(),window.location.href="/login",a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"render",value:function(){return null}}]),t}(i.a.Component),Gt=function(e){function t(){return Object(ne.a)(this,t),Object(re.a)(this,Object(oe.a)(t).apply(this,arguments))}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"field-group"},i.a.createElement("label",{htmlFor:"usr"},this.props.label,this.props.isRequired?i.a.createElement("span",{className:"required"},"*"):null),i.a.createElement("input",{name:this.props.name,value:this.props.value,onChange:this.props.handleInputChange,className:this.props.class,placeholder:this.props.placeholder,type:this.props.type,autoComplete:"new-password"}))}}]),t}(i.a.Component),Vt=a(46),zt=a.n(Vt),Wt=function(e){function t(){var e,a;Object(ne.a)(this,t);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(a=Object(re.a)(this,(e=Object(oe.a)(t)).call.apply(e,[this].concat(n)))).contactNumberChanged=function(e,t,s,n,i){var r;a.setState({userChanged:!0});var o=i.replace(/\s/g,""),l=!0,c="form-control field_error";t&&(l=!1,c="form-control"),a.props.handleChildChange((r={},Object(se.a)(r,e,o),Object(se.a)(r,e+"Error",l),Object(se.a)(r,e+"Class",c),r))},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"field-group"},i.a.createElement("label",{htmlFor:"usr"},this.props.label,this.props.isRequired?i.a.createElement("span",{className:"required"},"*"):null),this.props.isRender&&i.a.createElement(zt.a,{preferredCountries:["tw"],css:["intl-tel-input",this.props.class],utilsScript:"libcontactNumber.js",defaultValue:this.props.value?this.props.value:"",defaultCountry:"us",fieldName:this.props.name,onPhoneNumberChange:this.contactNumberChanged.bind(this,this.props.name),onPhoneNumberBlur:this.contactNumberChanged.bind(this,this.props.name),placeholder:this.props.placeholder,autoComplete:"off"}))}}]),t}(i.a.Component),Jt=function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,s=e.target.name,n="checkbox"===t.type?t.checked:t.value;"password"!=s&&"confirm_password"!=s&&"email"!=s||(n=n.trim()),a.setState(Object(se.a)({},s,n))},a.handleChildChange=function(e){a.setState(e)},a.handleInfoSubmit=function(e){rt.toast.dismiss(),"object"===typeof e&&e.preventDefault(),a.setState({isInfoValid:!1});var t=!1,s=!1;void 0==typeof a.state.firstname||null==a.state.firstname||""==a.state.firstname?(a.setState({firstNameClass:"form-control field_error"}),t=!0):a.state.firstname&&a.setState({firstNameClass:"form-control"}),void 0==typeof a.state.lastname||null==a.state.lastname||""==a.state.lastname?(a.setState({lastNameClass:"form-control field_error"}),t=!0):a.state.lastname&&a.setState({lastNameClass:"form-control"}),void 0==typeof a.state.email||null==a.state.email||""==a.state.email?(a.setState({emailClass:"form-control field_error"}),t=!0):nt.a.isEmail(a.state.email)?(a.props.checkUniqueEmail({email_id:a.state.email}),a.setState({emailClass:"form-control",isUniqueEmail:!1,uniqueEmailData:{}})):(a.setState({emailClass:"form-control field_error"}),t=!0,rt.toast.error(a.state.globalLang.signup_error_email_valid),s=!0),void 0==typeof a.state.contactNumber||null==a.state.contactNumber||""==a.state.contactNumber?(a.setState({contactNumberClass:"form-control field_error"}),t=!0):a.state.contactNumberError?(a.setState({contactNumberClass:"form-control field_error"}),t=!0,s||rt.toast.error(a.state.globalLang.signup_error_phone_number_valid),s=!0):a.state.contactNumber.length<=9?(a.setState({contactNumberClass:"form-control field_error"}),t=!0,s||rt.toast.error(a.state.globalLang.signup_error_phone_number_valid),s=!0):a.setState({contactNumberClass:"form-control"}),void 0===typeof a.state.password||null===a.state.password||""===a.state.password||""==a.state.password.trim()?(a.setState({passwordClass:"form-control field_error"}),t=!0):a.state.password&&(a.state.password.length<=8?(a.setState({passwordClass:"form-control field_error"}),t=!0,s||rt.toast.error(a.state.globalLang.signup_error_password_length),s=!0):/^(?=.{8,})(?=.*[A-Z])(?=.*[`~*-\/\[\]\\|{}().:;,''""!_<>-@#$%^&+=]).*$/.test(a.state.password)?a.setState({passwordClass:"form-control"}):(a.setState({passwordClass:"form-control field_error"}),t=!0,s||rt.toast.error(a.state.globalLang.signup_error_password_combination),s=!0)),void 0===typeof a.state.confirm_password||null===a.state.confirm_password||""===a.state.confirm_password?(a.setState({confirmPasswordClass:"form-control field_error"}),t=!0,a.state.password.length>0&&(a.setState({passwordClass:"form-control field_error"}),t=!0,s||rt.toast.error(a.state.globalLang.signup_error_password_combination),s=!0)):a.state.confirm_password&&(a.state.password!==a.state.confirm_password?(a.setState({passwordClass:"form-control field_error",confirmPasswordClass:"form-control field_error"}),t=!0,s||rt.toast.error(a.state.globalLang.signup_error_password_combination),s=!0):a.setState({confirmPasswordClass:"form-control"})),a.state.term_condition||s||(rt.toast.error(a.state.globalLang.signup_error_accept_terms_of_services),t=!0,s=!0),t?a.toggleSignUpForm("isShowInfo"):(a.setState({isInfoValid:!0}),a.state.isUniqueEmail&&a.toggleSignUpForm("isShowHippa"))},a.toggleSignUpForm=function(e,t){if(t=t||!1,a.setState(Object(se.a)({isShowInfo:!1,isShowHippa:!1,isShowBba:"isShowBba"==e||1==t},e,!0)),t){a.setState({processingLoder:!0});var s={};s.firstname=a.state.firstname,s.lastname=a.state.lastname,s.email_id=a.state.email,s.contact_number_1=a.state.contactNumber,s.password=a.state.password,s.confirm_password=a.state.confirm_password,s.business_name=a.state.business_name,s.term_condition=a.state.term_condition?1:0,s.agree_checkbox=a.state.agree_checkbox?1:0,a.props.signUpBasic(s)}},a.state={firstname:"",lastname:"",email:"",contactNumber:"",password:"",confirm_password:"",business_name:"",term_condition:!1,agree_checkbox:!1,isHppaPolicyAccepted:!1,isBbaPolicyAccepted:!1,firstNameClass:"form-control",lastNameClass:"form-control",emailClass:"form-control",contactNumberClass:"form-control",passwordClass:"form-control",confirmPasswordClass:"form-control",businessNameClass:"form-control",termconditionClass:"",agreecheckboxClass:"",defaultCountry:"us",contactNumberError:!1,isRender:!0,processingLoder:!1,isShowInfo:!0,isShowHippa:!1,isShowBba:!1,signUpData:{},uniqueEmailData:{},isUniqueEmail:!1,isInfoValid:!1,globalLang:{}},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e=this;localStorage.removeItem("accountSetupFile"),localStorage.removeItem("accountSetupStatus"),this.props.signUp();var t={};if(localStorage.getItem("languageData")&&(t=JSON.parse(localStorage.getItem("languageData"))),t&&void 0!==t.global&&t.global){var a=JSON.parse(localStorage.getItem("languageData"));this.setState({globalLang:a.global})}else Q.a.get(Ee.API_URL+"getLanguageText/1/global").then(function(t){var a=t.data.data;localStorage.setItem("languageData",JSON.stringify(a)),e.setState({globalLang:a.global})}).catch(function(e){})}},{key:"render",value:function(){return i.a.createElement("div",{className:"guest"},i.a.createElement(ue,null),i.a.createElement("div",{className:"wrapper"},i.a.createElement("div",{className:this.state.isShowInfo?"info-block":"info-block hide"},i.a.createElement("div",{className:"login-main sign-up-main"},i.a.createElement("form",{action:"javascript:void(0);",onSubmit:this.handleInfoSubmit},i.a.createElement("h1",{className:"login-title"},this.state.globalLang.signup_basic_plan_sign_up_for_our_30_day_trial),i.a.createElement("div",{className:"form-group row"},i.a.createElement("div",{className:"col-sm-6 first-name"},i.a.createElement(Gt,{name:"firstname",value:this.state.firstname,handleInputChange:this.handleInputChange,class:this.state.firstNameClass,placeholder:this.state.globalLang.signup_placeholder_first_name,type:"text",label:this.state.globalLang.signup_label_your_name,isRequired:!0})),i.a.createElement("div",{className:"col-sm-6 last-name"},i.a.createElement(Gt,{name:"lastname",value:this.state.lastname,handleInputChange:this.handleInputChange,class:this.state.lastNameClass,placeholder:this.state.globalLang.signup_placeholder_last_name,type:"text",label:"\xa0",isRequired:!1}))),i.a.createElement("div",{className:"form-group row"},i.a.createElement("div",{className:"col-sm-12"},i.a.createElement(Gt,{name:"email",value:this.state.email,handleInputChange:this.handleInputChange,class:this.state.emailClass,placeholder:this.state.globalLang.signup_placeholder_email,type:"text",label:this.state.globalLang.signup_label_email,isRequired:!0}))),i.a.createElement("div",{className:"form-group row"},i.a.createElement("div",{className:"col-sm-12"},i.a.createElement(Wt,{name:"contactNumber",value:this.state.contactNumber,handleChildChange:this.handleChildChange,class:this.state.contactNumberClass,placeholder:this.state.globalLang.signup_placeholder_phone,type:"text",label:this.state.globalLang.signup_label_phone,isRequired:!0,isRender:this.state.isRender}))),i.a.createElement("div",{className:"form-group row"},i.a.createElement("div",{className:"col-sm-6 first-name"},i.a.createElement(Gt,{name:"password",value:this.state.password,handleInputChange:this.handleInputChange,class:this.state.passwordClass,placeholder:this.state.globalLang.signup_placeholder_password,type:"password",label:this.state.globalLang.signup_label_password,isRequired:!0})),i.a.createElement("div",{className:"col-sm-6 last-name"},i.a.createElement(Gt,{name:"confirm_password",value:this.state.confirm_password,handleInputChange:this.handleInputChange,class:this.state.confirmPasswordClass,placeholder:this.state.globalLang.signup_placeholder_retype_password,type:"password",label:"\xa0",isRequired:!1}))),i.a.createElement("div",{className:"form-group row"},i.a.createElement("div",{className:"col-sm-12"},i.a.createElement(Gt,{name:"business_name",value:this.state.business_name,handleInputChange:this.handleInputChange,class:this.state.businessNameClass,placeholder:this.state.globalLang.signup_business_name,type:"text",label:this.state.globalLang.signup_label_business_name,isRequired:!1}))),i.a.createElement("div",{className:"form-group row"},i.a.createElement("div",{className:"col-sm-12 terms text-left"},i.a.createElement("input",{type:"checkbox",className:this.state.termConditionClass,name:"term_condition",checked:!!this.state.term_condition&&"checked",onChange:this.handleInputChange})," ",this.state.globalLang.signup_i_agree_to_the," ",i.a.createElement("a",{href:"https://www.aestheticrecord.com/terms-of-service/",target:"_blank"},this.state.globalLang.signup_aesthetic_record_terms_of_service_link))),i.a.createElement("div",{className:"form-group"},i.a.createElement("button",{type:"submit",className:"subscriptionBtn"},this.state.globalLang.signup_button_continue))))),i.a.createElement("div",{className:"sign-up-main"},i.a.createElement("div",{className:this.state.isShowHippa?"hippa-block":"hippa-block hide"},i.a.createElement(ft,{handleChildChange:this.handleChildChange,toggleSignUpForm:this.toggleSignUpForm,nextStep:"isShowBba",globalLang:this.state.globalLang,signUpLabel:this.state.globalLang.signup_basic_plan_sign_up_for_our_30_day_trial}))),i.a.createElement("div",{className:"sign-up-main"},i.a.createElement("div",{className:this.state.isShowBba?"bba-block":"bba-block hide"},i.a.createElement(bt,{handleChildChange:this.handleChildChange,toggleSignUpForm:this.toggleSignUpForm,handleInputChange:this.handleInputChange,name:"agree_checkbox",value:this.state.agree_checkbox,nextStep:"isShowBba",processingLoder:this.state.processingLoder,globalLang:this.state.globalLang,signUpLabel:this.state.globalLang.signup_basic_plan_sign_up_for_our_30_day_trial})))),i.a.createElement("div",{className:"sign-up-main"},i.a.createElement("center",null,i.a.createElement("img",{className:"banner-image",src:"/images/signup-banner1.png"}))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}),i.a.createElement(be,null))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};if(void 0!=e.showLoader&&0==e.showLoader)return{showLoader:!1};if(void 0!=e.processingLoder&&0==e.processingLoder)a.processingLoder=!1;else{if(void 0!=e.signUpData&&e.signUpData!=t.signUpData)return a.signUpData=e.signUpData,i.a.createElement("div",null,e.history.push("/account-setup/basic"));void 0!=e.isUniqueEmail&&(a.isUniqueEmail=e.isUniqueEmail,a.processingLoder=!1,e.isUniqueEmail?1==e.isUniqueEmail&&e.isUniqueEmail!=t.isUniqueEmail&&t.isInfoValid&&(a.isShowInfo=!1,a.isShowBba=!1,a.isShowHippa=!0):a.emailClass="form-control field_error",e.signUp())}return a}}]),t}(i.a.Component);var Qt=Object(Z.b)(function(e){JSON.parse(localStorage.getItem("languageData"));var t={};if("SIGN_UP_BASIC"===e.SignUpReducer.action)if(201!=e.SignUpReducer.data.status){rt.toast.dismiss();var a=JSON.parse(localStorage.getItem("languageData"));rt.toast.error(a.global[e.SignUpReducer.data.message]),t.processingLoder=!0,t.showLoader=!1}else localStorage.setItem("accountSetupFile",e.SignUpReducer.data.data),localStorage.setItem("accountSetupStatus",0),t.signUpData=e.SignUpReducer.data.data;else if("UNIQUE_EMAIL"===e.SignUpReducer.action)if(200!=e.SignUpReducer.data.status){rt.toast.dismiss();var s=JSON.parse(localStorage.getItem("languageData"));rt.toast.error(s.global[e.SignUpReducer.data.message]),t.processingLoder=!0,t.isUniqueEmail=!1,t.showLoader=!1}else t.isUniqueEmail=!0;return t},function(e){return Object(c.bindActionCreators)({signUp:Tt,signUpBasic:Pt,checkUniqueEmail:Rt},e)})(Object(de.a)(Jt)),Kt="",Xt="",Zt="",$t="",ea=function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,s=e.target.name,n="checkbox"===t.type?t.checked:t.value;"password"!=s&&"confirm_password"!=s&&"email"!=s||(n=n.trim()),a.setState(Object(se.a)({},s,n))},a.handleChildChange=function(e){a.setState(e)},a.handleInfoSubmit=function(e){rt.toast.dismiss(),"object"===typeof e&&e.preventDefault(),a.setState({isInfoValid:!1});var t=!1,s=!1;void 0==typeof a.state.firstname||null==a.state.firstname||""==a.state.firstname?(a.setState({firstNameClass:"form-control field_error"}),t=!0):a.state.firstname&&a.setState({firstNameClass:"form-control"}),void 0==typeof a.state.lastname||null==a.state.lastname||""==a.state.lastname?(a.setState({lastNameClass:"form-control field_error"}),t=!0):a.state.lastname&&a.setState({lastNameClass:"form-control"}),void 0==typeof a.state.email||null==a.state.email||""==a.state.email?(a.setState({emailClass:"form-control field_error"}),t=!0):nt.a.isEmail(a.state.email)?(a.props.checkUniqueEmail({email_id:a.state.email}),a.setState({emailClass:"form-control",isUniqueEmail:!1,uniqueEmailData:{}})):(a.setState({emailClass:"form-control field_error"}),t=!0,rt.toast.error(a.state.globalLang.signup_error_email_valid),s=!0),void 0==typeof a.state.contactNumber||null==a.state.contactNumber||""==a.state.contactNumber?(a.setState({contactNumberClass:"form-control field_error"}),t=!0):a.state.contactNumberError?(a.setState({contactNumberClass:"form-control field_error"}),t=!0,s||rt.toast.error(a.state.globalLang.signup_error_phone_number_valid),s=!0):a.state.contactNumber.length<=9?(a.setState({contactNumberClass:"form-control field_error"}),t=!0,s||rt.toast.error(a.state.globalLang.signup_error_phone_number_valid),s=!0):a.setState({contactNumberClass:"form-control"}),void 0===typeof a.state.password||null===a.state.password||""===a.state.password||""==a.state.password.trim()?(a.setState({passwordClass:"form-control field_error"}),t=!0):a.state.password&&(a.state.password.length<=8?(a.setState({passwordClass:"form-control field_error"}),t=!0,s||rt.toast.error(a.state.globalLang.signup_error_password_length),s=!0):/^(?=.{8,})(?=.*[A-Z])(?=.*[`~*-\/\[\]\\|{}().:;,''""!_<>-@#$%^&+=]).*$/.test(a.state.password)?a.setState({passwordClass:"form-control"}):(a.setState({passwordClass:"form-control field_error"}),t=!0,s||rt.toast.error(a.state.globalLang.signup_error_password_combination),s=!0)),void 0===typeof a.state.confirm_password||null===a.state.confirm_password||""===a.state.confirm_password?(a.setState({confirmPasswordClass:"form-control field_error"}),t=!0,a.state.password.length>0&&(a.setState({passwordClass:"form-control field_error"}),t=!0,s||rt.toast.error(a.state.globalLang.signup_error_password_match_with_confirm),s=!0)):a.state.confirm_password&&(a.state.password!==a.state.confirm_password?(a.setState({passwordClass:"form-control field_error",confirmPasswordClass:"form-control field_error"}),t=!0,s||rt.toast.error(a.state.globalLang.signup_error_password_match_with_confirm),s=!0):a.setState({confirmPasswordClass:"form-control"})),a.state.term_condition||s||(rt.toast.error(a.state.globalLang.signup_error_accept_terms_of_services),t=!0,s=!0),t?a.toggleSignUpForm("isShowInfo"):(a.setState({isInfoValid:!0}),a.state.isUniqueEmail&&a.toggleSignUpForm("isShowCardInfo"))},a.handleCardInfoSubmit=function(e){rt.toast.dismiss(),"object"===typeof e&&e.preventDefault(),a.setState({isCardInfoValid:!1});var t=!1;void 0==typeof a.state.address||null==a.state.address||""==a.state.address?(a.setState({addressClass:"form-control field_error"}),t=!0):a.state.address&&a.setState({addressClass:"form-control"}),void 0==typeof a.state.city||null==a.state.city||""==a.state.city?(a.setState({cityClass:"form-control field_error"}),t=!0):a.state.city&&a.setState({cityClass:"form-control"}),void 0==typeof a.state.state||null==a.state.state||""==a.state.state?(a.setState({stateClass:"form-control field_error"}),t=!0):a.state.state&&a.setState({stateClass:"form-control"}),void 0==typeof a.state.country||null==a.state.country||""==a.state.country?(a.setState({countryClass:"form-control field_error"}),t=!0):a.state.country&&a.setState({countryClass:"form-control"}),void 0==typeof a.state.pin_code||null==a.state.pin_code||""==a.state.pin_code?(a.setState({pinCodeClass:"form-control field_error"}),t=!0):a.state.pin_code&&a.setState({pinCodeClass:"form-control"}),t?a.toggleSignUpForm("isShowCardInfo"):(a.setState({processingLoder:!0}),a.generateStripeCardToken())},a.generateStripeInput=function(e){var t=a.state.stripe.elements();Kt=t.create("cardNumber"),Xt=t.create("cardExpiry"),Zt=t.create("cardCvc"),Kt.mount("#stripe-card-number"),Xt.mount("#stripe-card-expiry"),Zt.mount("#stripe-card-cvc")},a.generateStripeCardToken=function(){a.state.stripe.createToken(Kt).then(function(e){e.error?(a.setState({stripeToken:"",processingLoder:!1}),rt.toast.error(e.error.message)):($t=e.token.id)&&(a.setState({stripeToken:$t,processingLoder:!1}),a.setState({isCardInfoValid:!0}),a.toggleSignUpForm("isShowHippa"))})},a.toggleSignUpForm=function(e,t){if(t=t||!1,a.setState(Object(se.a)({isShowInfo:!1,isShowCardInfo:!1,isShowHippa:!1,isShowBba:"isShowBba"==e||1==t},e,!0)),t){a.setState({processingLoder:!0});var s={};s.firstname=a.state.firstname,s.lastname=a.state.lastname,s.email_id=a.state.email,s.contact_number_1=a.state.contactNumber,s.password=a.state.password,s.confirm_password=a.state.confirm_password,s.business_name=a.state.business_name,s.term_condition=a.state.term_condition?1:0,s.agree_checkbox=a.state.agree_checkbox?1:0,s.subscription_type=a.state.subscription_type,s.stripe_token=a.state.stripeToken,s.address=a.state.address,s.city=a.state.city,s.state=a.state.state,s.country=a.state.country,s.pincode=a.state.pin_code,a.props.signUpPremium(s)}},a.renderSubscriptionPlan=function(){var e=[];return Object.keys(a.state.subscriptionPlanList).forEach(function(t){e.push(i.a.createElement("option",{key:"subscriptionPlanList-"+t,value:t},a.state.subscriptionPlanList[t]," "))}),e},a.state={firstname:"",lastname:"",email:"",contactNumber:"",password:"",confirm_password:"",business_name:"",subscription_type:"monthly",term_condition:!1,agree_checkbox:!1,isHppaPolicyAccepted:!1,isBbaPolicyAccepted:!1,firstNameClass:"form-control",lastNameClass:"form-control",emailClass:"form-control",contactNumberClass:"form-control",passwordClass:"form-control",confirmPasswordClass:"form-control",businessNameClass:"form-control",subscriptionTypeClass:"form-control",termconditionClass:"",agreecheckboxClass:"",defaultCountry:"us",contactNumberError:!1,isRender:!0,processingLoder:!1,isShowInfo:!0,isShowCardInfo:!1,isShowHippa:!1,isShowBba:!1,signUpData:{},uniqueEmailData:{},isUniqueEmail:!1,isInfoValid:!1,isCardInfoValid:!1,card_number:"",cvc:"",expiry:"",cardNumberClass:"form-control card-details",cardCvcClass:"form-control card-details",cardExpiryClass:"form-control card-details",address:"",city:"",state:"",country:"",pin_code:"",addressClass:"form-control",cityClass:"form-control",stateClass:"form-control",countryClass:"form-control",pinCodeClass:"form-control",planAndCountryData:{},countryList:[],subscriptionPlanList:{},stripeToken:"",globalLang:{}},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e=this;localStorage.removeItem("accountSetupFile"),localStorage.removeItem("accountSetupStatus"),this.props.getSignUpPlans();var t={};if(localStorage.getItem("languageData")&&(t=JSON.parse(localStorage.getItem("languageData"))),t&&void 0!==t.global&&t.global){var a=JSON.parse(localStorage.getItem("languageData"));this.setState({globalLang:a.global})}else Q.a.get(Ee.API_URL+"getLanguageText/1/global").then(function(t){var a=t.data.data;localStorage.setItem("languageData",JSON.stringify(a)),e.setState({globalLang:a.global})}).catch(function(e){});window.Stripe?this.setState({stripe:window.Stripe(Ee.STRIPE_PUBLISHABLE_KEY)},function(){e.generateStripeInput()}):document.querySelector("#stripe-js").addEventListener("load",function(){e.setState({stripe:window.Stripe(Ee.STRIPE_PUBLISHABLE_KEY)})},function(){e.generateStripeInput()})}},{key:"render",value:function(){return i.a.createElement("div",{className:"guest"},i.a.createElement(ue,null),i.a.createElement("div",{className:"wrapper"},i.a.createElement("div",{className:this.state.isShowInfo?"info-block":"info-block hide"},i.a.createElement("div",{className:"login-main sign-up-main"},i.a.createElement("form",{action:"javascript:void(0);",onSubmit:this.handleInfoSubmit},i.a.createElement("h1",{className:"login-title"},this.state.globalLang.signup_premium_plan_sign_up),i.a.createElement("div",{className:"form-group row"},i.a.createElement("div",{className:"col-sm-6 first-name"},i.a.createElement(Gt,{name:"firstname",value:this.state.firstname,handleInputChange:this.handleInputChange,class:this.state.firstNameClass,placeholder:this.state.globalLang.signup_placeholder_first_name,type:"text",label:this.state.globalLang.signup_label_your_name,isRequired:!0})),i.a.createElement("div",{className:"col-sm-6 last-name"},i.a.createElement(Gt,{name:"lastname",value:this.state.lastname,handleInputChange:this.handleInputChange,class:this.state.lastNameClass,placeholder:this.state.globalLang.signup_placeholder_last_name,type:"text",label:"\xa0",isRequired:!1}))),i.a.createElement("div",{className:"form-group row"},i.a.createElement("div",{className:"col-sm-12"},i.a.createElement(Gt,{name:"email",value:this.state.email,handleInputChange:this.handleInputChange,class:this.state.emailClass,placeholder:this.state.globalLang.signup_placeholder_email,type:"text",label:this.state.globalLang.signup_label_email,isRequired:!0}))),i.a.createElement("div",{className:"form-group row"},i.a.createElement("div",{className:"col-sm-12"},i.a.createElement(Wt,{name:"contactNumber",value:this.state.contactNumber,handleChildChange:this.handleChildChange,class:this.state.contactNumberClass,placeholder:this.state.globalLang.signup_placeholder_phone,type:"text",label:this.state.globalLang.signup_label_phone,isRequired:!0,isRender:this.state.isRender}))),i.a.createElement("div",{className:"form-group row"},i.a.createElement("div",{className:"col-sm-6 first-name"},i.a.createElement(Gt,{name:"password",value:this.state.password,handleInputChange:this.handleInputChange,class:this.state.passwordClass,placeholder:this.state.globalLang.signup_placeholder_password,type:"password",label:this.state.globalLang.signup_label_password,isRequired:!0})),i.a.createElement("div",{className:"col-sm-6 last-name"},i.a.createElement(Gt,{name:"confirm_password",value:this.state.confirm_password,handleInputChange:this.handleInputChange,class:this.state.confirmPasswordClass,placeholder:this.state.globalLang.signup_placeholder_retype_password,type:"password",label:"\xa0",isRequired:!1}))),i.a.createElement("div",{className:"form-group row"},i.a.createElement("div",{className:"col-sm-12"},i.a.createElement(Gt,{name:"business_name",value:this.state.business_name,handleInputChange:this.handleInputChange,class:this.state.businessNameClass,placeholder:this.state.globalLang.signup_business_name,type:"text",label:this.state.globalLang.signup_label_business_name,isRequired:!1}))),i.a.createElement("div",{className:"form-group row"},i.a.createElement("div",{className:"col-sm-12"},i.a.createElement("label",null,this.state.globalLang.signup_label_subscription_type),i.a.createElement("select",{name:"subscription_type",value:this.state.subscription_type,onChange:this.handleInputChange,className:this.state.subscriptionTypeClass},this.renderSubscriptionPlan()))),i.a.createElement("div",{className:"form-group row"},i.a.createElement("div",{className:"col-sm-12 terms text-left"},i.a.createElement("input",{type:"checkbox",className:this.state.termConditionClass,name:"term_condition",checked:!!this.state.term_condition&&"checked",onChange:this.handleInputChange})," ",this.state.globalLang.signup_i_agree_to_the," ",i.a.createElement("a",{href:"https://www.aestheticrecord.com/terms-of-service/",target:"_blank"},this.state.globalLang.signup_aesthetic_record_terms_of_service_link))),i.a.createElement("div",{className:"form-group"},i.a.createElement("button",{type:"submit",className:"subscriptionBtn"},this.state.globalLang.signup_button_continue))))),i.a.createElement("div",{className:"sign-up-main"},i.a.createElement("form",{action:"javascript:void(0);",onSubmit:this.handleCardInfoSubmit},i.a.createElement("div",{className:this.state.isShowCardInfo?"card-block":"card-block hide"},i.a.createElement("div",{className:"col-sm-12"},i.a.createElement("div",{className:"login-title"},this.state.globalLang.signup_premium_plan_sign_up)),i.a.createElement("div",{className:"col-md-6 col-xs-12"},i.a.createElement("div",{className:"member-section pull-left"},i.a.createElement("div",{className:"member-section-title no-margin"},this.state.globalLang.signup_payment_details,"s"),i.a.createElement("div",{className:"col-sm-12 form-group"},i.a.createElement("div",{className:"field-group"},i.a.createElement("label",null,this.state.globalLang.signup_label_card_number,i.a.createElement("span",{className:"required"},"*")),i.a.createElement("div",{className:this.state.cardNumberClass,id:"stripe-card-number"}))),i.a.createElement("div",{className:"col-sm-12 form-group"},i.a.createElement("div",{className:"field-group"},i.a.createElement("label",null,this.state.globalLang.signup_label_security_code,i.a.createElement("span",{className:"required"},"*")),i.a.createElement("div",{className:this.state.cardCvcClass,id:"stripe-card-cvc"}))),i.a.createElement("div",{className:"col-sm-12 form-group"},i.a.createElement("div",{className:"field-group"},i.a.createElement("label",null,this.state.globalLang.signup_label_expiration_date,i.a.createElement("span",{className:"required"},"*")),i.a.createElement("div",{className:this.state.cardExpiryClass,id:"stripe-card-expiry"}))))),i.a.createElement("div",{className:"col-md-6 col-xs-12"},i.a.createElement("div",{className:"member-section pull-left"},i.a.createElement("div",{className:"member-section-title no-margin"},this.state.globalLang.signup_billing_details),i.a.createElement("div",{className:"col-sm-12 form-group"},i.a.createElement(Gt,{name:"address",value:this.state.address,handleInputChange:this.handleInputChange,class:this.state.addressClass,placeholder:this.state.globalLang.signup_placeholder_billing_address,type:"text",label:this.state.globalLang.signup_label_billing_address,isRequired:!0})),i.a.createElement("div",{className:"col-sm-6 form-group"},i.a.createElement(Gt,{name:"city",value:this.state.city,handleInputChange:this.handleInputChange,class:this.state.cityClass,placeholder:this.state.globalLang.signup_placeholder_city,type:"text",label:this.state.globalLang.signup_label_city,isRequired:!0})),i.a.createElement("div",{className:"col-sm-6 form-group"},i.a.createElement(Gt,{name:"state",value:this.state.state,handleInputChange:this.handleInputChange,class:this.state.stateClass,placeholder:this.state.globalLang.signup_placeholder_state,type:"text",label:this.state.globalLang.signup_label_state,isRequired:!0})),i.a.createElement("div",{className:"col-sm-6 form-group"},i.a.createElement("label",null,this.state.globalLang.signup_label_country),i.a.createElement("select",{name:"country",value:this.state.country,onChange:this.handleInputChange,className:this.state.countryClass,placeholder:"Country"},i.a.createElement("option",{value:""},this.state.globalLang.signup_select_country),this.state.countryList.map(function(e,t){return i.a.createElement("option",{key:"countryList-"+t,value:e.country_code},e.country_name)}))),i.a.createElement("div",{className:"col-sm-6 form-group"},i.a.createElement(Gt,{name:"pin_code",value:this.state.pin_code,handleInputChange:this.handleInputChange,class:this.state.pinCodeClass,placeholder:this.state.globalLang.signup_placeholder_zip_code,type:"text",label:this.state.globalLang.signup_label_zip_code,isRequired:!0})))),i.a.createElement("div",{className:"form-group col-sm-12"},i.a.createElement("button",{type:"submit",disabled:this.state.processingLoder,className:"billingBtn premium-btn ar-login-btn"},this.state.processingLoder?this.state.globalLang.signup_please_wait+"...":this.state.globalLang.signup_button_continue))))),i.a.createElement("div",{className:"sign-up-main"},i.a.createElement("div",{className:this.state.isShowHippa?"hippa-block":"hippa-block hide"},i.a.createElement(ft,{handleChildChange:this.handleChildChange,toggleSignUpForm:this.toggleSignUpForm,nextStep:"isShowBba",globalLang:this.state.globalLang,signUpLabel:this.state.globalLang.signup_premium_plan_sign_up}))),i.a.createElement("div",{className:"sign-up-main"},i.a.createElement("div",{className:this.state.isShowBba?"bba-block":"bba-block hide"},i.a.createElement(bt,{handleChildChange:this.handleChildChange,toggleSignUpForm:this.toggleSignUpForm,handleInputChange:this.handleInputChange,name:"agree_checkbox",value:this.state.agree_checkbox,nextStep:"isShowBba",processingLoder:this.state.processingLoder,globalLang:this.state.globalLang,signUpLabel:this.state.globalLang.signup_premium_plan_sign_up})))),i.a.createElement("div",{className:"sign-up-main"},i.a.createElement("center",null,i.a.createElement("img",{className:"banner-image",src:"/images/signup-banner1.png"}))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}),i.a.createElement(be,null))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};if(void 0!=e.showLoader&&0==e.showLoader)return{showLoader:!1};if(void 0!=e.processingLoder&&0==e.processingLoder)a.processingLoder=!1;else{if(void 0!=e.signUpData&&e.signUpData!=t.signUpData)return a.signUpData=e.signUpData,i.a.createElement("div",null,e.history.push("/account-setup/premium"));void 0!=e.planAndCountryData&&e.planAndCountryData!=t.planAndCountryData?(a.planAndCountryData=e.planAndCountryData,a.countryList=e.planAndCountryData.country_list,a.subscriptionPlanList=e.planAndCountryData.subscription_plans):void 0!=e.isUniqueEmail&&(a.isUniqueEmail=e.isUniqueEmail,a.processingLoder=!1,e.isUniqueEmail?1==e.isUniqueEmail&&e.isUniqueEmail!=t.isUniqueEmail&&t.isInfoValid&&(a.isShowInfo=!1,a.isShowBba=!1,a.isShowHippa=!1,a.isShowCardInfo=!0):a.emailClass="form-control field_error",e.signUp())}return a}}]),t}(i.a.Component);var ta=Object(Z.b)(function(e){var t={};if("SIGN_UP_PREMIUM"===e.SignUpReducer.action)if(rt.toast.dismiss(),201!=e.SignUpReducer.data.status){var a=JSON.parse(localStorage.getItem("languageData"));rt.toast.error(a.global[e.SignUpReducer.data.message]),t.processingLoder=!0,t.showLoader=!1}else localStorage.setItem("accountSetupFile",e.SignUpReducer.data.data),localStorage.setItem("accountSetupStatus",0),t.signUpData=e.SignUpReducer.data.data;else if("UNIQUE_EMAIL"===e.SignUpReducer.action)if(rt.toast.dismiss(),200!=e.SignUpReducer.data.status){var s=JSON.parse(localStorage.getItem("languageData"));rt.toast.error(s.global[e.SignUpReducer.data.message]),t.processingLoder=!0,t.isUniqueEmail=!1,t.showLoader=!1}else t.isUniqueEmail=!0;else if("SIGN_UP_PLANS"===e.SignUpReducer.action)if(rt.toast.dismiss(),200!=e.SignUpReducer.data.status){var n=JSON.parse(localStorage.getItem("languageData"));rt.toast.error(n.global[e.SignUpReducer.data.message]),t.processingLoder=!0,t.showLoader=!1}else t.planAndCountryData=e.SignUpReducer.data.data;return t},function(e){return Object(c.bindActionCreators)({signUp:Tt,getSignUpPlans:kt,signUpPremium:jt,checkUniqueEmail:Rt},e)})(Object(de.a)(ea)),aa=function(){localStorage.removeItem("accountSetupFile"),localStorage.removeItem("accountSetupStatus"),window.location.href="/login"},sa=function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).getSignUpAccountStatus=function(e,t){if(t=t||a.state.accountSetupStatus,a.state.isAccountSetupDone){clearInterval(a.state.interval);var s=Object(ce.a)(Object(ce.a)(a));s.setState({currentStatus:s.state.globalLang.autobots_setup_redirect_login_page}),setTimeout(function(){aa()},2e3)}else a.props.getSignUpAccountStatus({file_name:e,line_number:t})},a.state={showModal:!1,accountSetupFile:"",accountSetupStatus:0,accountSetupData:{},accountType:"",currentStatus:"",checkingStatus:!0,globalLang:{},isAccountSetupDone:!1,interval:""},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(localStorage.getItem("languageData")&&void 0!==localStorage.getItem("languageData").global&&localStorage.getItem("languageData").global){var t=JSON.parse(localStorage.getItem("languageData"));this.setState({globalLang:t.global,currentStatus:t.global.autobots_setting_up_your_account})}else Q.a.get(Ee.API_URL+"getLanguageText/1/global").then(function(t){var a=t.data.data;localStorage.setItem("languageData",JSON.stringify(a)),e.setState({globalLang:a.global,currentStatus:a.global.autobots_setting_up_your_account})}).catch(function(e){});var a=this.props.match.params.type;"basic"==a||"premium"==a?this.setState({accountType:a}):aa();var s=localStorage.getItem("accountSetupFile");if(void 0!=s&&null!=s&&""!=s){var n=localStorage.getItem("accountSetupStatus");void 0==n||null==n||"null"==n||n<=0?(n=0,localStorage.setItem("accountSetupStatus",n)):(n-=1,n=parseInt(n)),this.setState({accountSetupFile:s,accountSetupStatus:n,checkingStatus:!1}),this.getSignUpAccountStatus(s,n);var i=this,r=setInterval(function(){i.getSignUpAccountStatus(s)},2e3);this.setState({interval:r})}else aa()}},{key:"render",value:function(){return i.a.createElement("div",{className:"guest"},i.a.createElement(ue,null),i.a.createElement("div",{className:"sign-up-account-setup"},i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"thanku"},i.a.createElement("h2",{className:"current-status"},this.state.checkingStatus?null:this.state.currentStatus),i.a.createElement("h3",{className:"static-line"},this.state.checkingStatus?null:this.state.globalLang.autobots_are_working_background),i.a.createElement("img",{src:"/images/account-loader.gif",className:"account-loader"})))),i.a.createElement(be,null))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};return void 0!=e.showLoader&&0==e.showLoader?a.showLoader=!1:void 0!==e.accountSetupData&&e.accountSetupData!==t.accountSetupData&&(a.accountSetupData=e.accountSetupData,void 0!=e.accountSetupData.return_text&&""!==e.accountSetupData.return_text&&e.accountSetupData.return_text!==t.currentStatus&&(a.currentStatus=t.globalLang[e.accountSetupData.return_text],"autobots_setup_completed"==e.accountSetupData.return_text.toLowerCase().trim()?a.isAccountSetupDone=!0:(a.accountSetupStatus=t.accountSetupStatus+1,localStorage.setItem("accountSetupStatus",parseInt(a.accountSetupStatus))))),a}}]),t}(i.a.Component);var na=Object(Z.b)(function(e){var t={};return"GET_SIGNUP_ACCOUNT_STATUS"===e.SignUpReducer.action&&(200!=e.SignUpReducer.data.status?t.showLoader=!1:400==e.SignUpReducer.data.status?aa():t.accountSetupData=e.SignUpReducer.data.data),t},function(e){return Object(c.bindActionCreators)({getSignUpAccountStatus:It},e)})(Object(de.a)(sa)),ia=(a(944),a(1944)),ra=a(1945),oa=a(22),la=a(1942),ca=Ee.API_URL;Xe();var da=Q.a.create();function ma(e){return function(t){da.get(ca+"user-logs",e||"").then(function(e){t({type:"USER_LOGS_LIST",payload:e.data})}).catch(function(e){t({type:"USER_LOGS_LIST",payload:e.response.data})})}}function ua(e){return function(t){da.get(ca+"dashboard/sms-notifications",e||"").then(function(e){t({type:"SMS_NOTIFICATION_LIST",payload:e.data})}).catch(function(e){t({type:"SMS_NOTIFICATION_LIST",payload:e.response.data})})}}function pa(e){return function(t){da.get(ca+"dashboard/notifications",e||"").then(function(e){t({type:"NOTIFICATION_LIST",payload:e.data})}).catch(function(e){t({type:"NOTIFICATION_LIST",payload:e.response.data})})}}function ha(e){return function(t){da.delete(ca+"dashboard/notifications/"+e).then(function(e){t({type:"DELETE_NOTIFICATION_DATA",payload:e.data})}).catch(function(e){t({type:"DELETE_NOTIFICATION_DATA",payload:e.response.data})})}}function ga(e){return function(t){da.get(ca+"user-logs/export",e||"").then(function(e){t({type:"EXPORT_CSV",payload:e.data})}).catch(function(e){t({type:"EXPORT_CSV",payload:e.response.data})})}}function _a(e,t,a){return function(s){da.get(ca+"user-logs/view-changes/"+e+"/"+t+"/"+a).then(function(e){s({type:"VIEW_CHANGES",payload:e.data})}).catch(function(e){s({type:"VIEW_CHANGES",payload:e.response.data})})}}function va(e){return function(t){da.get(ca+"dashboard/index",e||"").then(function(e){t({type:"FETCH_DASH_CLINICS",payload:e.data})}).catch(function(e){t({type:"FETCH_DASH_CLINICS",payload:e.response.data})})}}da.defaults.headers.common["access-token"]=xe(),da.interceptors.response.use(function(e){return void 0!=e.data&&void 0!=e.data.global_settings&&He(e.data.global_settings),Xe(),e},function(e){if(e.response){var t=e.response.data.message;return"invalid_token"!=t&&"session_timeout"!=t&&"server_error"!=t&&"token_not_found"!=t||Oe(),Promise.reject(e)}return{data:{data:"",message:"server_error",status:500}}});var fa=function(e){return function(t){da.get(ca+"dashboard/sms-notifications/"+e).then(function(e){t({type:"SELECTED_SMS_POPUPS",payload:e.data})}).catch(function(e){t({type:"SELECTED_SMS_POPUPS",payload:e.response.data})})}},ba=function(){return function(e){da.get(ca+"dashboard/header-notifications").then(function(t){e({type:"FETCH_POPUPS_MENU",payload:t.data})}).catch(function(t){e({type:"FETCH_POPUPS_MENU",payload:t.response.data})})}},Ea=function(e,t){return function(a){da.post(ca+"dashboard/sms-reply",e||"").then(function(e){var s=e.data.message,n=e.data.status;da.get(ca+"dashboard/sms-notifications/"+t).then(function(e){e.data.message=s,e.data.status=n,a({type:"CREATE_REPLY",payload:e.data})}).catch(function(e){a({type:"CREATE_REPLY",payload:e.response.data})})}).catch(function(e){a({type:"CREATE_REPLY",payload:e.response.data})})}},ya=Ee.API_URL,Na=Q.a.create();Na.defaults.headers.common["access-token"]=xe();var Sa=function(e){function t(e){var a;Object(ne.a)(this,t),a=Object(re.a)(this,Object(oe.a)(t).call(this,e));var s=JSON.parse(localStorage.getItem("userData"));return a.state={notification_message:[],notificationCount:0,userData:s},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("languageData"));e&&void 0!==e.global&&null!==e.global&&this.setState({Notifications:e.global.Notifications,dashboard_See_All:e.global.dashboard_See_All});this.props;setInterval(function(){var e=this;Na.get(ya+"dashboard/header-notifications").then(function(t){var a=t.data,s={};if(a&&void 0!==a.notifications&&a.notifications.length>0){var n=a.notifications,i=0;n.map(function(e,t){0===e.read&&i++}),s.notificationCount=i,s.getNotificationPopupData=a.notifications,s.is_juvly_account=a.is_juvly_account,e.setState(s)}}).catch(function(e){var t=e.response.data.message;"invalid_token"!=t&&"session_timeout"!=t&&"server_error"!=t&&"token_not_found"!=t||Oe()})},6e5),this.props.fetchNotificationsPopupsMenu()}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("a",{id:"noti-icon",className:"noti-icon notification show-desktop right-menus-a",href:"javascript:void(0)",title:"Notifications"},i.a.createElement("span",{className:this.state.notificationCount?"":"no-display"},this.state.notificationCount)," "),i.a.createElement("a",{className:"noti-icon notification show-mobile",href:!this.state.userData||this.state.userData.user.account_id!==Ee.JUVLY_ACC_ID&&this.state.userData.user.account_id!==Ee.CC_ACC_ID?"/dashboard/notifications":"/dashboard/sms-notifications",title:"Notifications"},"Notification",i.a.createElement("span",{className:this.state.notificationCount?"":"no-display"},this.state.notificationCount)," "),i.a.createElement("div",{id:"popup",className:!0===this.props.isClicked?"noti-popup":"no-display"},i.a.createElement("div",{id:"notty-title",className:"noti-title"},this.state.Notifications),i.a.createElement("div",{id:"notty-content",className:"noti-content"},void 0!=this.state.getNotificationPopupData&&this.state.getNotificationPopupData.length>0&&this.state.getNotificationPopupData.map(function(e,t){if(""!=e.notification_message)return i.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.notification_message},className:1===e.read?"read":"unread-notty",key:t})}),void 0==this.state.getNotificationPopupData||0===this.state.getNotificationPopupData.length&&i.a.createElement("div",null,"You don\u2019t have any notifications")),i.a.createElement("div",{id:"notty-footer",className:"noti-footer"},i.a.createElement(me.a,{to:0===this.state.is_juvly_account?"/dashboard/notifications":"/dashboard/sms-notifications"},this.state.dashboard_See_All))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){JSON.parse(localStorage.getItem("languageData"));if(void 0!=e.showLoader&&0==e.showLoader)return{showLoader:!1};if(void 0!==e.getNotificationPopupData&&200===e.getNotificationPopupData.status){var a={};return a.notificationCount=e.getNotificationPopupData.data.unread_notification_count,a.getNotificationPopupData=e.getNotificationPopupData.data.notifications,a.is_juvly_account=e.getNotificationPopupData.data.is_juvly_account,a}return null}}]),t}(i.a.Component);var Da=Object(Z.b)(function(e){JSON.parse(localStorage.getItem("languageData"));var t={};return"FETCH_POPUPS_MENU"===e.DashboardReducer.action&&(200!=e.DashboardReducer.data.status?t.showLoader=!1:t.getNotificationPopupData=e.DashboardReducer.data),t},function(e){return Object(c.bindActionCreators)({fetchNotificationsPopupsMenu:ba},e)})(Sa),wa=a(307),Ca=a.n(wa),xa=(Q.a.create(),function(e,t){return e&&e.find(function(e){return e===t})}),La=function(){var e=[],t=JSON.parse(localStorage.getItem("languageData")),a=JSON.parse(localStorage.getItem("userData"))?JSON.parse(localStorage.getItem("userData")).permissions:null,s=a?Object(oa.a)(a):null,n=JSON.parse(localStorage.getItem("userData"))?JSON.parse(localStorage.getItem("userData")):null,i=Ge()?1:0,r=!(!n||!n.user)&&n.user.is_dashboard_enabled,o=n&&n.user?n.user.user_role_id:0,l=!(!n||!n.user)&&n.user.is_provider;if(n&&1===i&&!0===r&&e.push({label:t&&t.global.headerDashboard,to:"/dashboard",match:"/dashboard"}),xa(s,"view-patients")&&e.push({label:t&&t.global.header_clients,to:"/clients",match:"/clients"}),xa(s,"view-appointments")&&e.push({label:t&&t.global.header_appointments,to:"/appointment/index",match:"/appointment"}),1===i&&xa(s,"view-sales")){var c="";xa(s,"view-sales-report")?c="/sales":xa(s,"view-sales-invoices")?c="/sales/invoices":xa(s,"view-sales-invoice-text")?c="/sales/invoice-text":xa(s,"view-cash-drawer")?c="/sales/cash-drawer":xa(s,"view-sales-goals")&&(c="/sales/office-sales-goals"),e.push({label:t&&t.global.header_sales,to:c,match:"/sales"})}return xa(s,"view-products-inventory")&&e.push({label:t&&t.global.header_inventory,to:"/inventory/products/active",match:"/inventory"}),e.push({label:t&&t.global.header_surveys,to:"/surveys/dashboard",match:"/surveys"}),4===o&&e.push({label:t&&t.global.header_md_room,to:"/md-room/pending",match:"/md-room"}),2!==o&&!0!==l||e.push({label:t&&t.global.header_provider_room,to:"/provider-room/pending",match:"/provider-room"}),[e]},Oa=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleClick=function(e){a.toggleMenu(e.target)},a.toggleMenu=function(e){if("noti-icon"===e.id||!1!==a.state.isClicked){var t=!1;t=!1===a.state.isClicked&&"noti-icon"===e.id,a.setState({isClicked:t})}},a.getActiveClass=function(e){var t="";return void 0!==e&&e.map(function(e,a){void 0!==e.match&&window.location.pathname.startsWith(e.match)&&(t="active")}),{returnClass:t}},a.navClicked=function(e){a.setState({navTo:e})},a.componentDidUpdate=function(e,t){if(null!==a.state.user&&a.state.user!==t.user){var s=JSON.parse(localStorage.getItem("userData"));s.user.firstname=a.state.user.firstname,s.user.lastname=a.state.user.lastname,s.user.user_image_url=a.state.user.user_image_url,s=JSON.stringify(s),localStorage.setItem("userData",s),a.setState({userUpdated:!0})}};var s=JSON.parse(localStorage.getItem("languageData")),n=JSON.parse(localStorage.getItem("userData"))?JSON.parse(localStorage.getItem("userData")):null;return a.state={email:"",password:"",isClicked:!1,inventoryActive:"active",headerTextContent:La(),globalLang:s&&s.global,userData:n,navTo:"",isPosEnabled:Ge()},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClick,!1)}},{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleClick,!1)}},{key:"render",value:function(){var e,t=this,a=JSON.parse(localStorage.getItem("userData")),s=a?a.old_system_url:"";e=this.state.headerTextContent[0].map(function(e,a){var s;return s=t.getActiveClass([e]).returnClass,i.a.createElement("li",{onClick:function(){return t.navClicked(e.to)},className:s,key:a,ref:"parents"},i.a.createElement(me.a,{to:e.to},i.a.createElement("label",{htmlFor:e.label},e.label)))});var n=a&&a.user&&a.user.firstname?je(a.user.firstname):"",r=n+" "+(a&&a.user&&a.user.lastname?je(a.user.lastname):""),o=a&&a.user&&a.user.user_image_url?a.user.user_image_url:"../../../images/user.png",l="setting show-desktop right-menus-a";return window.location.href.includes("setting")&&(l="setting show-desktop right-menus-a select"),i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"switch-to-version"},i.a.createElement("img",{src:"/images/left-arrow.png",className:"switch-version-arrow"})," ",i.a.createElement("a",{href:s},this.state.globalLang.explore_new_dashboard," ")," ",i.a.createElement("img",{src:"/images/logo-white.png",className:"switch-version-logo"})),i.a.createElement("header",null,i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"navbar-header"},i.a.createElement("button",{"aria-controls":"navbar","aria-expanded":"false",className:"navbar-toggle collapsed","data-target":"#navbar","data-toggle":"collapse",type:"button"},i.a.createElement("span",{className:"sr-only"},this.state.globalLang&&this.state.globalLang.global_toggle_navigation),i.a.createElement("span",{className:"icon-bar"}),i.a.createElement("span",{className:"icon-bar"}),i.a.createElement("span",{className:"icon-bar"})),i.a.createElement(la.a,{className:"navbar-brand",to:"/"},i.a.createElement("img",{src:Ca.a}))),i.a.createElement("div",{id:"navbar",className:"navbar-collapse collapse"},i.a.createElement("div",{className:"nav-outer"},i.a.createElement("ul",{className:"nav navbar-nav right-menus"},i.a.createElement("li",null,i.a.createElement(me.a,{id:"users-logs",className:"users-logs show-desktop right-menus-a",to:"/dashboard/user-logs",title:"User Activities"}),i.a.createElement(me.a,{id:"users-logs",className:"users-logs show-mobile",to:"/dashboard/user-logs"},this.state.globalLang&&this.state.globalLang.global_view_users_activities)),i.a.createElement("li",{ref:function(e){t.node=e}},i.a.createElement(Da,{isClicked:this.state.isClicked})),i.a.createElement("li",{className:"arow-link-outer"},i.a.createElement("div",{className:"arow-link"},i.a.createElement("div",{className:"user-picture",id:"headerUserImage",style:{backgroundImage:"url(".concat(o,")")}}),i.a.createElement("span",{className:"name-txt"},r.length>=15?n:r))),i.a.createElement("li",null,i.a.createElement(me.a,{className:l,to:"/settings/profile",onClick:this.navClicked.bind(this,"settings"),title:"Settings"}),i.a.createElement(me.a,{className:"setting show-mobile",to:"/settings/profile"},this.state.globalLang&&this.state.globalLang.header_settings)),i.a.createElement("li",null,i.a.createElement(me.a,{className:"logout show-desktop right-menus-a",to:"/logout",title:"Logout"}),i.a.createElement(me.a,{className:"logout show-mobile",to:"/logout"},i.a.createElement("i",{className:"icon-Power-2"}),this.state.globalLang&&this.state.globalLang.global_log_out))),i.a.createElement("ul",{className:"nav navbar-nav main-navbar"},e))))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};return Ge()!==t.isPosEnabled&&(a.isPosEnabled=Ge(),a.headerTextContent=La()),void 0!=e.showLoader&&0==e.showLoader&&(a.showLoader=!1),void 0!==e.user&&200===e.user.status&&e.user.data!==t.user&&(a.user=e.user.data),a}}]),t}(i.a.Component);var Aa=Object(Z.b)(function(e){JSON.parse(localStorage.getItem("languageData"));var t={isPosEnabled:Ge()};return"PROFILE_UPDATE"===e.SettingReducer.action&&(200!=e.SettingReducer.data.status?t.showLoader=!1:t.user=e.SettingReducer.data),t})(Object(de.a)(Oa)),Ta=function(e){function t(e){var a;Object(ne.a)(this,t),a=Object(re.a)(this,Object(oe.a)(t).call(this,e)),document.body.classList.remove("guest-body");var s=JSON.parse(localStorage.getItem("userData")),n=JSON.parse(localStorage.getItem("languageData"));return a.state={email:"",password:"",globalLang:null!==n&&null!==n.global&&void 0!==n.global?n.global:{},isDesktop:!1,userData:s},a.updatePredicate=a.updatePredicate.bind(Object(ce.a)(Object(ce.a)(a))),a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){this.updatePredicate(),window.addEventListener("onload",this.updatePredicate)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("onunload",this.updatePredicate)}},{key:"updatePredicate",value:function(){this.setState({isDesktop:window.innerWidth>document.documentElement.clientWidth})}},{key:"render",value:function(){return i.a.createElement("footer",{className:(this.state.isDesktop,"main-footer"),id:"protected-footer-fixed"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("span",{className:"pull-right"},i.a.createElement("label",null,void 0!==this.state.globalLang&&null!==this.state.globalLang?this.state.globalLang.global_footer:""))))}}]),t}(i.a.Component),Ia=a(45),Ra=function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).state={},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("languageData"));this.setState({dash_filter_btn_text:e.dashboard.dash_filter_btn_text,dash_filter_custom_text:e.dashboard.dash_filter_custom_text,dash_filter_last_30_days_text:e.dashboard.dash_filter_last_30_days_text,dash_filter_last_month_text:e.dashboard.dash_filter_last_month_text,dash_filter_last_week_text:e.dashboard.dash_filter_last_week_text,dash_filter_last_year_text:e.dashboard.dash_filter_last_year_text,dash_filter_this_month_text:e.dashboard.dash_filter_this_month_text,dash_filter_this_week_text:e.dashboard.dash_filter_this_week_text,dash_filter_this_year_text:e.dashboard.dash_filter_this_year_text,dash_filter_yesterday_text:e.dashboard.dash_filter_yesterday_text,dash_greet_by_text:e.dashboard.dash_greet_by_text,dash_in_office_sales_goals_text:e.dashboard.dash_in_office_sales_goals_text,dash_matics_text:e.dashboard.dash_matics_text,dash_net_promoter_score_text:e.dashboard.dash_net_promoter_score_text,dash_pending_director_consents_text:e.dashboard.dash_pending_director_consents_text,dash_procedure_audit_text:e.dashboard.dash_procedure_audit_text,dash_returning_customers_text:e.dashboard.dash_returning_customers_text,dash_total_text:e.dashboard.dash_total_text,dash_view_and_sign_text:e.dashboard.dash_view_and_sign_text,dash_your_gross_sales_text:e.dashboard.dash_your_gross_sales_text,dash_your_procedure_goal_text:e.dashboard.dash_your_procedure_goal_text,dash_your_procedures_text:e.dashboard.dash_your_procedures_text,dash_your_sales_goal_text:e.dashboard.dash_your_sales_goal_text,dash_your_survey_scores_text:e.dashboard.dash_your_survey_scores_text,dash_your_top_10_items_by_sales:e.dashboard.dash_your_top_10_items_by_sales,dash_customers_text:e.dashboard.dash_customers_text,dash_lbl_month_text:e.dashboard.dash_lbl_month_text,dash_lbl_week_text:e.dashboard.dash_lbl_week_text,dash_no_score_yet_text:e.dashboard.dash_no_score_yet_text,dash_tbl_units_text:e.dashboard.dash_tbl_units_text,dash_tbl_sales_text:e.dashboard.dash_tbl_sales_text,dash_tbl_name_text:e.dashboard.dash_tbl_name_text,dashboard_Top_Providers:e.dashboard.dashboard_Top_Providers,dashboard_No_Data_to_show:e.dashboard.dashboard_No_Data_to_show})}},{key:"render",value:function(){return i.a.createElement("div",{className:"dash-box",id:"top-sales-outer"},i.a.createElement("div",{className:"dash-box-title"},this.props.langData.dashboard_Top_Providers),i.a.createElement(vt.Scrollbars,{style:{height:305},className:"custome-scroll"},i.a.createElement("div",{className:"dash-box-content top-ten-items"},i.a.createElement("div",{className:"table-responsive",id:"table-body-sales"},i.a.createElement("table",{className:void 0!==this.props.data.top_providers_by_sales&&this.props.data.top_providers_by_sales.length>0?"table-dashboard":"no-display"},i.a.createElement("thead",{className:"table-dashboard-thead",id:"heading_sale"},i.a.createElement("tr",null,i.a.createElement("th",{className:"col-xs-1 table-dashboard-th"},"#"),i.a.createElement("th",{className:"col-xs-5 table-dashboard-th"},this.state.dash_tbl_name_text),i.a.createElement("th",{className:"col-xs-3 table-dashboard-th text-right"},this.state.dash_tbl_sales_text))),i.a.createElement("tbody",{id:"topSales"},void 0!==this.props.data.top_providers_by_sales&&this.props.data.top_providers_by_sales.length>0&&this.props.data.top_providers_by_sales.map(function(e,t){return i.a.createElement("tr",{className:"table-dashboard-tr",key:t},i.a.createElement("td",{className:"col-xs-1 table-dashboard-td"},t+1),i.a.createElement("td",{className:"col-xs-5 table-dashboard-td"},null!=e.user?e.user.firstname+" "+e.user.lastname:""),i.a.createElement("td",{className:"col-xs-3 table-dashboard-td text-right"},Ie(e.total_price,"currency")))}))),i.a.createElement("p",{className:void 0!==this.props.data.top_providers_by_sales&&this.props.data.top_providers_by_sales.length>0?"no-display":"dashboard-no-data"},this.props.langData.dashboard_No_Data_to_show)))))}}]),t}(i.a.Component),ka=a(80),Pa=a.n(ka),ja=a(50),Ma=a.n(ja);Pa()(Ma.a);var Ua=function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).state={dashOfficeGoalsList:[],returningData:[]},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){console.log("executed here");var e=this.props.data.colors;if(void 0!==this.props.data.office_sales_goals&&void 0!==this.props.data.office_sales_goals.clinic_goals_array&&this.props.data.office_sales_goals.clinic_goals_array.length>0)for(var t=0;t<this.props.data.office_sales_goals.clinic_goals_array.length;t++){var a=this.props.data.office_sales_goals.clinic_goals_array[t],s={name:a.clinic_color,y:a.y,z:a.z,clinic_percentage:Ie(a.clinic_percentage),clinic_name:a.clinic_name,clinic_goal:Ie(a.clinic_goal)};this.state.returningData.push(s)}Ma.a.chart("container",{chart:{type:"pie",margin:[25,80,50,50],height:300,width:385,backgroundColor:"rgba(255, 255, 255, 0.0)"},colors:e,title:{text:"IN OFFICE SALES GOALS"},tooltip:{pointFormat:'Clinic Name :<span style="name:{point.clinic_name}"></span> <b> {point.clinic_name}</b><br/>Percentage (%): <b>{point.clinic_percentage}</b>%<br/>Goal ($): <b>${point.clinic_goal}</b><br/>'},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!1}}},series:[{minPointSize:10,innerSize:"70%",zMin:0,data:this.state.returningData}]})}},{key:"render",value:function(){return void 0!==this.props.data.office_sales_goals&&void 0!==this.props.data.office_sales_goals.clinic_goals_array&&this.props.data.office_sales_goals.clinic_goals_array.length>0&&this.props.data.office_sales_goals.clinic_goals_array.map(function(e,t,a){return{y:e.y,z:e.z,color:e.clinic_color,clinic_name:e.clinic_name,clinic_percentage:e.clinic_percentage}}),i.a.createElement("div",null,i.a.createElement("div",{id:"container"}))}}]),t}(n.Component),Fa=function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).state={},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){console.log("executed"),this.props.fetchClinicsDashboard()}},{key:"render",value:function(){var e=new Date,t=e.getMonth(),a=e.getFullYear();if(void 0!==this.props.data.office_sales_goals)for(var s in this.props.data.returning_customers){var n=this.props.data.office_sales_goals;this.props.data.total_clinic_goals=n.total_clinic_goals}return i.a.createElement("div",{className:"dash-box"},i.a.createElement("div",{className:"dash-box-title"},this.props.langData.dash_in_office_sales_goals_text),i.a.createElement("div",{className:"sales-date-price"},i.a.createElement("span",{className:"sale-goal-date"},["January","February","March","April","May","June","July","August","September","October","November","December"][t]+" "+a),i.a.createElement("span",{className:"sale-goal-price"},Ie(this.props.data.total_clinic_goals,"currency",2))),i.a.createElement("div",{className:"dash-box-content office-goal",id:"office-sales-goals","data-highcharts-chart":"6"},i.a.createElement("div",{id:"container",className:"highcharts-container ","data-highcharts-chart":"6",style:{position:"relative",overflow:"hidden",width:"375px",height:"300px",textAlign:"left",lineHeight:"normal",zIndex:"0",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"}},this.props.data.office_sales_goals&&i.a.createElement(Ua,{data:this.props.data}))),i.a.createElement("div",{className:"sales-goal-legend"},void 0!==this.props.data.office_sales_goals&&void 0!==this.props.data.office_sales_goals.clinic_goals_array&&this.props.data.office_sales_goals.clinic_goals_array.length>0&&this.props.data.office_sales_goals.clinic_goals_array.map(function(e,t){return i.a.createElement("div",{className:"legend-group",key:t},i.a.createElement("div",{className:"legend-dot",style:{background:"#005a8d"}}),i.a.createElement("div",{className:"legend-price"},e.goal_percent),i.a.createElement("div",{className:"legend-clinic"},e.clinic_name))})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return void 0!==e.office_sales_goals&&200===e.office_sales_goals.status&&t.office_sales_goals.clinic_goals_array.data!=e.office_sales_goals.clinic_goals_array.data?{clinic_name:e.clinic_name,showLoader:!1}:null}}]),t}(i.a.Component);Object(Z.b)(function(e){return JSON.parse(localStorage.getItem("languageData")),"FETCH_DASH_CLINICS"!==e.DashboardReducer.action?{}:200===e.DashboardReducer.data.status?(console.log(e.DashboardReducer.data),{OfficeSalesGoalsList:e.DashboardReducer.data}):void 0},function(e){return Object(c.bindActionCreators)({fetchClinicsDashboard:va},e)})(Fa);var Ba=function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).state={dashOfficeGoalsList:[],customersData:[],yData:null,zData:null,y:60},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e=0,t=0;if(void 0!==this.props.data.returning_customers){this.props.data.returning_customers;this.props.data.returning_customers,e=this.props.data.returning_customers.new_percentage,t=this.props.data.returning_customers.returned_percentage,this.setState({yData:e,zData:t})}Ma.a.chart("container-fluid",{chart:{type:"pie",margin:[-10,80,50,190],height:380,width:430,backgroundColor:"rgba(255, 255, 255, 0.0)"},title:{text:"RETURNING CUSTOMERS"},tooltip:{headerFormat:"",pointFormat:"Returning Customers<br/>Percentage (%): <b>{point.y}</b>%<br/>"},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!1}}},series:[{minPointSize:10,innerSize:"70%",zMin:0,name:"countries",data:[{name:"Returning Customers",y:t,z:t,color:"#2682c5"},{name:"New Customers",y:e,z:e,color:"#bec3c8"}]}]})}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{id:"container-fluid"}))}}]),t}(n.Component),qa=function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).state={total_patients_data:null},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("languageData"));this.setState({dash_filter_btn_text:e.dashboard.dash_filter_btn_text,dash_filter_custom_text:e.dashboard.dash_filter_custom_text,dash_filter_last_30_days_text:e.dashboard.dash_filter_last_30_days_text,dash_filter_last_month_text:e.dashboard.dash_filter_last_month_text,dash_filter_last_week_text:e.dashboard.dash_filter_last_week_text,dash_filter_last_year_text:e.dashboard.dash_filter_last_year_text,dash_filter_this_month_text:e.dashboard.dash_filter_this_month_text,dash_filter_this_week_text:e.dashboard.dash_filter_this_week_text,dash_filter_this_year_text:e.dashboard.dash_filter_this_year_text,dash_filter_yesterday_text:e.dashboard.dash_filter_yesterday_text,dash_greet_by_text:e.dashboard.dash_greet_by_text,dash_in_office_sales_goals_text:e.dashboard.dash_in_office_sales_goals_text,dash_matics_text:e.dashboard.dash_matics_text,dash_net_promoter_score_text:e.dashboard.dash_net_promoter_score_text,dash_pending_director_consents_text:e.dashboard.dash_pending_director_consents_text,dash_procedure_audit_text:e.dashboard.dash_procedure_audit_text,dash_returning_customers_text:e.dashboard.dash_returning_customers_text,dash_total_text:e.dashboard.dash_total_text,dash_view_and_sign_text:e.dashboard.dash_view_and_sign_text,dash_your_gross_sales_text:e.dashboard.dash_your_gross_sales_text,dash_your_procedure_goal_text:e.dashboard.dash_your_procedure_goal_text,dash_your_procedures_text:e.dashboard.dash_your_procedures_text,dash_your_sales_goal_text:e.dashboard.dash_your_sales_goal_text,dash_your_survey_scores_text:e.dashboard.dash_your_survey_scores_text,dash_your_top_10_items_by_sales:e.dashboard.dash_your_top_10_items_by_sales,dash_customers_text:e.dashboard.dash_customers_text,dash_lbl_month_text:e.dashboard.dash_lbl_month_text,dash_lbl_week_text:e.dashboard.dash_lbl_week_text,dash_no_score_yet_text:e.dashboard.dash_no_score_yet_text,dash_tbl_units_text:e.dashboard.dash_tbl_units_text,dash_tbl_sales_text:e.dashboard.dash_tbl_sales_text,dash_tbl_name_text:e.dashboard.dash_tbl_name_text,dashboard_Returned_Customers:e.dashboard.dashboard_Returned_Customers,dashboard_New_Customers:e.dashboard.dashboard_New_Customers})}},{key:"render",value:function(){this.props.data.returning_customers;return i.a.createElement("div",{className:"dash-box"},i.a.createElement("div",{className:"dash-box-title"},this.state.dash_returning_customers_text),i.a.createElement("div",{className:"sales-date-price Returning-date-price"},i.a.createElement("span",{className:"sale-goal-price",id:"return-cust-center"},this.props.data.returning_customers?this.props.data.returning_customers.total_patients:""),i.a.createElement("span",{className:"sale-goal-date",id:"return-cust-title"},this.props.langData.dash_customers_text)),i.a.createElement("div",{className:"dash-box-content",id:"returning-customers","data-highcharts-chart":"0"},i.a.createElement("div",{id:"highcharts-h18k2i3-2",className:"highcharts-container ","data-highcharts-chart":"0",style:{position:"relative",overflow:"hidden",width:"400px",height:"200px",textAlign:"left",lineHeight:"normal",zIndex:"0",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"}},this.props.data.office_sales_goals&&i.a.createElement(Ba,{data:this.props.data}))),i.a.createElement("div",{className:"Returning-legend"},void 0!==this.props.data.returning_customers?i.a.createElement("div",{className:"legend-group"},i.a.createElement("div",{className:"legend-dot"}),i.a.createElement("div",{className:"legend-price"},i.a.createElement("b",null,this.props.data.returning_customers.total_returned_patients," /",Ie(this.props.data.returning_customers.returned_percentage)," %")),i.a.createElement("div",{className:"legend-clinic"},this.props.langData.dashboard_Returned_Customers),i.a.createElement("div",{className:"legend-dot"}),i.a.createElement("div",{className:"legend-price"},i.a.createElement("b",null,this.props.data.returning_customers.total_new_patients,"/",this.props.data.returning_customers.new_percentage," %")),i.a.createElement("div",{className:"legend-clinic"},this.props.langData.dashboard_New_Customers)):""))}}]),t}(i.a.Component);var Ya=Object(Z.b)(function(e){return JSON.parse(localStorage.getItem("languageData")),e.DashboardReducer.action,{}},function(e){return Object(c.bindActionCreators)({fetchClinicsDashboard:va},e)})(qa),Ha=function(e){function t(e){return Object(ne.a)(this,t),Object(re.a)(this,Object(oe.a)(t).call(this,e))}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"dash-box new-stats"},i.a.createElement("div",{className:"dash-box-title"},this.props.langData.dash_pending_director_consents_text),i.a.createElement("div",{className:"dash-box-content"},i.a.createElement("a",{href:"/MDRooms/pending",className:"view-sign"},this.props.data.dash_view_and_sign_text),i.a.createElement("div",{className:"new-dash-stats pull-right",id:"pending-procedure"},this.props.data.pending_procedures>0?Ie(this.props.data.pending_procedures,"decimal",0):0)))}}]),t}(i.a.Component),Ga=function(e){function t(e){return Object(ne.a)(this,t),Object(re.a)(this,Object(oe.a)(t).call(this,e))}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"dash-box new-stats"},i.a.createElement("div",{className:"dash-box-title"},this.props.langData.dash_procedure_audit_text),i.a.createElement("div",{className:"dash-box-content"},i.a.createElement(me.a,{to:"/provider-room/pending",className:"view-sign"},this.props.langData.dash_view_and_sign_text),i.a.createElement("div",{className:"new-dash-stats pull-right",id:"procedure-audit"},parseInt(this.props.data.procedures_not_sent)>0?Ie(this.props.data.procedures_not_sent,"decimal",0):0)))}}]),t}(i.a.Component),Va=function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).state={},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("languageData"));this.setState({dash_filter_btn_text:e.dashboard.dash_filter_btn_text,dash_filter_custom_text:e.dashboard.dash_filter_custom_text,dash_filter_last_30_days_text:e.dashboard.dash_filter_last_30_days_text,dash_filter_last_month_text:e.dashboard.dash_filter_last_month_text,dash_filter_last_week_text:e.dashboard.dash_filter_last_week_text,dash_filter_last_year_text:e.dashboard.dash_filter_last_year_text,dash_filter_this_month_text:e.dashboard.dash_filter_this_month_text,dash_filter_this_week_text:e.dashboard.dash_filter_this_week_text,dash_filter_this_year_text:e.dashboard.dash_filter_this_year_text,dash_filter_yesterday_text:e.dashboard.dash_filter_yesterday_text,dash_greet_by_text:e.dashboard.dash_greet_by_text,dash_in_office_sales_goals_text:e.dashboard.dash_in_office_sales_goals_text,dash_matics_text:e.dashboard.dash_matics_text,dash_net_promoter_score_text:e.dashboard.dash_net_promoter_score_text,dash_pending_director_consents_text:e.dashboard.dash_pending_director_consents_text,dash_procedure_audit_text:e.dashboard.dash_procedure_audit_text,dash_returning_customers_text:e.dashboard.dash_returning_customers_text,dash_total_text:e.dashboard.dash_total_text,dash_view_and_sign_text:e.dashboard.dash_view_and_sign_text,dash_your_gross_sales_text:e.dashboard.dash_your_gross_sales_text,dash_your_procedure_goal_text:e.dashboard.dash_your_procedure_goal_text,dash_your_procedures_text:e.dashboard.dash_your_procedures_text,dash_your_sales_goal_text:e.dashboard.dash_your_sales_goal_text,dash_your_survey_scores_text:e.dashboard.dash_your_survey_scores_text,dash_your_top_10_items_by_sales:e.dashboard.dash_your_top_10_items_by_sales,dash_customers_text:e.dashboard.dash_customers_text,dash_lbl_month_text:e.dashboard.dash_lbl_month_text,dash_lbl_week_text:e.dashboard.dash_lbl_week_text,dash_no_score_yet_text:e.dashboard.dash_no_score_yet_text,dash_tbl_units_text:e.dashboard.dash_tbl_units_text,dash_tbl_sales_text:e.dashboard.dash_tbl_sales_text,dash_tbl_name_text:e.dashboard.dash_tbl_name_text})}},{key:"render",value:function(){return i.a.createElement("div",{className:"dash-box new-stats"},i.a.createElement("div",{className:"dash-box-title"},this.state.dash_your_gross_sales_text),i.a.createElement("div",{className:"dash-box-content"},i.a.createElement("div",{className:"new-dash-stats position-left",id:"gross-sale"},parseInt(this.props.data.total_gross_sales)>0?Ie(this.props.data.total_gross_sales,"currency",2):Ie(0,"currency",2))))}}]),t}(i.a.Component),za=function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).state={},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("languageData"));this.setState({dash_filter_btn_text:e.dashboard.dash_filter_btn_text,dash_filter_custom_text:e.dashboard.dash_filter_custom_text,dash_filter_last_30_days_text:e.dashboard.dash_filter_last_30_days_text,dash_filter_last_month_text:e.dashboard.dash_filter_last_month_text,dash_filter_last_week_text:e.dashboard.dash_filter_last_week_text,dash_filter_last_year_text:e.dashboard.dash_filter_last_year_text,dash_filter_this_month_text:e.dashboard.dash_filter_this_month_text,dash_filter_this_week_text:e.dashboard.dash_filter_this_week_text,dash_filter_this_year_text:e.dashboard.dash_filter_this_year_text,dash_filter_yesterday_text:e.dashboard.dash_filter_yesterday_text,dash_greet_by_text:e.dashboard.dash_greet_by_text,dash_in_office_sales_goals_text:e.dashboard.dash_in_office_sales_goals_text,dash_matics_text:e.dashboard.dash_matics_text,dash_net_promoter_score_text:e.dashboard.dash_net_promoter_score_text,dash_pending_director_consents_text:e.dashboard.dash_pending_director_consents_text,dash_procedure_audit_text:e.dashboard.dash_procedure_audit_text,dash_returning_customers_text:e.dashboard.dash_returning_customers_text,dash_total_text:e.dashboard.dash_total_text,dash_view_and_sign_text:e.dashboard.dash_view_and_sign_text,dash_your_gross_sales_text:e.dashboard.dash_your_gross_sales_text,dash_your_procedure_goal_text:e.dashboard.dash_your_procedure_goal_text,dash_your_procedures_text:e.dashboard.dash_your_procedures_text,dash_your_sales_goal_text:e.dashboard.dash_your_sales_goal_text,dash_your_survey_scores_text:e.dashboard.dash_your_survey_scores_text,dash_your_top_10_items_by_sales:e.dashboard.dash_your_top_10_items_by_sales,dash_customers_text:e.dashboard.dash_customers_text,dash_lbl_month_text:e.dashboard.dash_lbl_month_text,dash_lbl_week_text:e.dashboard.dash_lbl_week_text,dash_no_score_yet_text:e.dashboard.dash_no_score_yet_text,dash_tbl_units_text:e.dashboard.dash_tbl_units_text,dash_tbl_sales_text:e.dashboard.dash_tbl_sales_text,dash_tbl_name_text:e.dashboard.dash_tbl_name_text})}},{key:"render",value:function(){return i.a.createElement("div",{className:"dash-box new-stats"},i.a.createElement("div",{className:"dash-box-title"},this.state.dash_your_procedures_text),i.a.createElement("div",{className:"dash-box-content"},i.a.createElement("div",{className:"new-dash-stats position-left",id:"total-procedure"},this.props.data.total_procedures>0?Ie(this.props.data.total_procedures,"decimal",0):0)))}}]),t}(i.a.Component);Pa()(Ma.a);var Wa=function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).state={monthData:[],monthValueData:[]},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){if(void 0!==this.props.data.procedure_goals)for(var e in this.props.data.procedure_goals.monthly_procedure_array)this.state.monthData.push(e),this.state.monthValueData.push(this.props.data.procedure_goals.monthly_procedure_array[e]);Ma.a.chart("procedureGoals",{chart:{type:"areaspline",height:150},title:{text:""},subtitle:{text:""},xAxis:{categories:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30],tickLength:0},yAxis:{title:{text:""},plotLines:[{value:this.state.monthData,color:"green",dashStyle:"shortdash",width:2,label:{text:" "}}]},tooltip:{shared:!0,valueSuffix:"Procedures"},credits:{enabled:!1},legend:{layout:"vertical",align:"right",verticalAlign:"middle"},plotOptions:{areaspline:{fillOpacity:.5}},series:[{name:"",data:this.state.monthValueData,marker:{width:16,height:16}}],responsive:{rules:[{condition:{maxWidth:500},chartOptions:{legend:{layout:"horizontal",align:"center",verticalAlign:"bottom"}}}]}})}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{id:"procedureGoals"}))}}]),t}(n.Component),Ja=function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).state={weekData:[],weekValueData:[]},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e;if(void 0!==this.props.data.procedure_goals)for(var t in this.props.data.procedure_goals.weekly_procedure_array)this.state.weekData.push(t),this.state.weekValueData.push(this.props.data.procedure_goals.weekly_procedure_array[t]);Ma.a.chart("procedureGoalsWeek",(e={chart:{type:"areaspline",height:150},title:{text:""},subtitle:{text:""},legend:{enabled:!1},xAxis:{categories:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],tickLength:0},yAxis:{title:{text:""},plotLines:[{value:this.state.weekData,color:"green",dashStyle:"shortdash",width:2,label:{text:" "}}]},tooltip:{shared:!0,valueSuffix:" Procedures"},credits:{enabled:!1}},Object(se.a)(e,"legend",{layout:"vertical",align:"right",verticalAlign:"middle"}),Object(se.a)(e,"plotOptions",{areaspline:{fillOpacity:.5}}),Object(se.a)(e,"series",[{name:"",data:this.state.weekValueData,marker:{width:16,height:16}}]),Object(se.a)(e,"responsive",{rules:[{condition:{maxWidth:500},chartOptions:{legend:{layout:"horizontal",align:"center",verticalAlign:"bottom"}}}]}),e))}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{id:"procedureGoalsWeek"}))}}]),t}(n.Component),Qa=function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleMonth=function(){var e=a.props.data.procedure_goals;a.props.data.procedure_goals&&a.setState({totalGoals:e.monthly_procedure_goal}),a.setState({weekClass:"Week no-display",monthClass:"Month display",buttonClassMonth:"btn btn-default graph-btn select",buttonClassWeek:"btn btn-default graph-btn"})},a.handleWeek=function(){var e=a.props.data.procedure_goals;a.props.data.procedure_goals&&a.setState({totalGoals:e.weekly_procedure_goal}),a.setState({monthClass:"Month no-display",weekClass:"Week display",buttonClassWeek:"btn btn-default graph-btn select",buttonClassMonth:"btn btn-default graph-btn "})},a.state={monthClass:"Month",weekClass:"Week no-display",buttonClassMonth:"btn btn-default graph-btn select",buttonClassWeek:"btn btn-default graph-btn",totalGoals:null},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("languageData"));this.setState({dash_filter_btn_text:e.dashboard.dash_filter_btn_text,dash_filter_custom_text:e.dashboard.dash_filter_custom_text,dash_filter_last_30_days_text:e.dashboard.dash_filter_last_30_days_text,dash_filter_last_month_text:e.dashboard.dash_filter_last_month_text,dash_filter_last_week_text:e.dashboard.dash_filter_last_week_text,dash_filter_last_year_text:e.dashboard.dash_filter_last_year_text,dash_filter_this_month_text:e.dashboard.dash_filter_this_month_text,dash_filter_this_week_text:e.dashboard.dash_filter_this_week_text,dash_filter_this_year_text:e.dashboard.dash_filter_this_year_text,dash_filter_yesterday_text:e.dashboard.dash_filter_yesterday_text,dash_greet_by_text:e.dashboard.dash_greet_by_text,dash_in_office_sales_goals_text:e.dashboard.dash_in_office_sales_goals_text,dash_matics_text:e.dashboard.dash_matics_text,dash_net_promoter_score_text:e.dashboard.dash_net_promoter_score_text,dash_pending_director_consents_text:e.dashboard.dash_pending_director_consents_text,dash_procedure_audit_text:e.dashboard.dash_procedure_audit_text,dash_returning_customers_text:e.dashboard.dash_returning_customers_text,dash_total_text:e.dashboard.dash_total_text,dash_view_and_sign_text:e.dashboard.dash_view_and_sign_text,dash_your_gross_sales_text:e.dashboard.dash_your_gross_sales_text,dash_your_procedure_goal_text:e.dashboard.dash_your_procedure_goal_text,dash_your_procedures_text:e.dashboard.dash_your_procedures_text,dash_your_sales_goal_text:e.dashboard.dash_your_sales_goal_text,dash_your_survey_scores_text:e.dashboard.dash_your_survey_scores_text,dash_your_top_10_items_by_sales:e.dashboard.dash_your_top_10_items_by_sales,dash_customers_text:e.dashboard.dash_customers_text,dash_lbl_month_text:e.dashboard.dash_lbl_month_text,dash_lbl_week_text:e.dashboard.dash_lbl_week_text,dash_no_score_yet_text:e.dashboard.dash_no_score_yet_text,dash_tbl_units_text:e.dashboard.dash_tbl_units_text,dash_tbl_sales_text:e.dashboard.dash_tbl_sales_text,dash_tbl_name_text:e.dashboard.dash_tbl_name_text})}},{key:"render",value:function(){return i.a.createElement("div",{className:"dash-box"},i.a.createElement("div",{className:"dash-box-title"},this.state.dash_your_procedure_goal_text,i.a.createElement("div",{className:"btn-group graph-toggle",id:"pro-group-toggle",role:"group","aria-label":"..."},i.a.createElement("button",{type:"button",className:this.state.buttonClassMonth,id:"procedure-goal-monthly",onClick:this.handleMonth,"data-identifier":"monthy"},this.props.langData.dash_lbl_month_text),i.a.createElement("button",{type:"button",className:this.state.buttonClassWeek,id:"procedure-goal-weekly",onClick:this.handleWeek,"data-identifier":"weekly"},this.props.langData.dash_lbl_week_text)),i.a.createElement("span",{className:"pull-right"},this.state.dash_total_text," ",i.a.createElement("b",{id:"total-pro"},this.state.totalGoals)),i.a.createElement("div",{className:this.state.monthClass},this.props.data.procedure_goals&&i.a.createElement(Wa,{data:this.props.data})),i.a.createElement("div",{className:this.state.weekClass},this.props.data.procedure_goals&&i.a.createElement(Ja,{data:this.props.data}))))}}]),t}(i.a.Component);Pa()(Ma.a);var Ka=function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).state={monthData:[],monthValueData:[]},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){if(void 0!==this.props.data.sales_goals)for(var e in this.props.data.sales_goals.monthly_sales_array)this.state.monthData.push(e),this.state.monthValueData.push(this.props.data.sales_goals.monthly_sales_array[e]);Ma.a.chart("salesGoals",{chart:{type:"areaspline",height:150},title:{text:""},subtitle:{text:""},xAxis:{categories:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30],tickLength:0},yAxis:{title:{text:""},plotLines:[{value:this.state.monthData,color:"green",dashStyle:"shortdash",width:2,label:{text:" "}}]},legend:{layout:"vertical",align:"right",verticalAlign:"middle"},tooltip:{shared:!0,valueSuffix:"USD",valuePrefix:"$"},credits:{enabled:!1},plotOptions:{areaspline:{fillOpacity:.5}},series:[{name:"",data:this.state.monthValueData,marker:{width:16,height:16}}],responsive:{rules:[{condition:{maxWidth:500},chartOptions:{legend:{layout:"horizontal",align:"center",verticalAlign:"bottom"}}}]}})}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{id:"salesGoals"}))}}]),t}(n.Component),Xa=function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).state={weekData:[],weekValueData:[]},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){if(void 0!==this.props.data.sales_goals)for(var e in this.props.data.sales_goals.weekly_sales_array)this.state.weekData.push(e),this.state.weekValueData.push(this.props.data.sales_goals.weekly_sales_array[e]);Ma.a.chart("salesGoalsWeek",{chart:{type:"areaspline",height:150},title:{text:""},subtitle:{text:""},xAxis:{categories:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],tickLength:0},yAxis:{title:{text:""},plotLines:[{value:this.state.weekData,color:"green",dashStyle:"shortdash",width:2,label:{text:" "}}]},legend:{layout:"vertical",align:"right",verticalAlign:"middle"},plotOptions:{areaspline:{fillOpacity:.5}},tooltip:{shared:!0,valueSuffix:"USD",valuePrefix:"$"},credits:{enabled:!1},series:[{name:"",data:this.state.weekValueData,marker:{width:16,height:16}}],responsive:{rules:[{condition:{maxWidth:500},chartOptions:{legend:{layout:"horizontal",align:"center",verticalAlign:"bottom"}}}]}})}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{id:"salesGoalsWeek"}))}}]),t}(n.Component),Za=function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleMonth=function(){var e=a.props.data.sales_goals;a.props.data.sales_goals&&a.setState({totalGoals:e.monthly_sales_goal}),a.setState({weekClass:"Week no-display",monthClass:"Month display",buttonClassMonth:"btn btn-default graph-btn select",buttonClassWeek:"btn btn-default graph-btn"})},a.handleWeek=function(){var e=a.props.data.sales_goals;a.props.data.sales_goals&&a.setState({totalGoals:e.weekly_sales_goal}),a.setState({monthClass:"Month no-display",weekClass:"Week display",buttonClassWeek:"btn btn-default graph-btn select",buttonClassMonth:"btn btn-default graph-btn "})},a.state={monthClass:"Month",weekClass:"Week no-display",buttonClassMonth:"btn btn-default graph-btn select",buttonClassWeek:"btn btn-default graph-btn",totalGoals:null},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("languageData"));this.setState({dash_filter_btn_text:e.dashboard.dash_filter_btn_text,dash_filter_custom_text:e.dashboard.dash_filter_custom_text,dash_filter_last_30_days_text:e.dashboard.dash_filter_last_30_days_text,dash_filter_last_month_text:e.dashboard.dash_filter_last_month_text,dash_filter_last_week_text:e.dashboard.dash_filter_last_week_text,dash_filter_last_year_text:e.dashboard.dash_filter_last_year_text,dash_filter_this_month_text:e.dashboard.dash_filter_this_month_text,dash_filter_this_week_text:e.dashboard.dash_filter_this_week_text,dash_filter_this_year_text:e.dashboard.dash_filter_this_year_text,dash_filter_yesterday_text:e.dashboard.dash_filter_yesterday_text,dash_greet_by_text:e.dashboard.dash_greet_by_text,dash_in_office_sales_goals_text:e.dashboard.dash_in_office_sales_goals_text,dash_matics_text:e.dashboard.dash_matics_text,dash_net_promoter_score_text:e.dashboard.dash_net_promoter_score_text,dash_pending_director_consents_text:e.dashboard.dash_pending_director_consents_text,dash_procedure_audit_text:e.dashboard.dash_procedure_audit_text,dash_returning_customers_text:e.dashboard.dash_returning_customers_text,dash_total_text:e.dashboard.dash_total_text,dash_view_and_sign_text:e.dashboard.dash_view_and_sign_text,dash_your_gross_sales_text:e.dashboard.dash_your_gross_sales_text,dash_your_procedure_goal_text:e.dashboard.dash_your_procedure_goal_text,dash_your_procedures_text:e.dashboard.dash_your_procedures_text,dash_your_sales_goal_text:e.dashboard.dash_your_sales_goal_text,dash_your_survey_scores_text:e.dashboard.dash_your_survey_scores_text,dash_your_top_10_items_by_sales:e.dashboard.dash_your_top_10_items_by_sales,dash_customers_text:e.dashboard.dash_customers_text,dash_lbl_month_text:e.dashboard.dash_lbl_month_text,dash_lbl_week_text:e.dashboard.dash_lbl_week_text,dash_no_score_yet_text:e.dashboard.dash_no_score_yet_text,dash_tbl_units_text:e.dashboard.dash_tbl_units_text,dash_tbl_sales_text:e.dashboard.dash_tbl_sales_text,dash_tbl_name_text:e.dashboard.dash_tbl_name_text})}},{key:"render",value:function(){return i.a.createElement("div",{className:"dash-box"},i.a.createElement("div",{className:"dash-box-title"},this.state.dash_your_sales_goal_text,i.a.createElement("div",{className:"btn-group graph-toggle",id:"sale-group-toggle",role:"group","aria-label":"..."},i.a.createElement("button",{type:"button",className:this.state.buttonClassMonth,id:"sale-goal-monthly",onClick:this.handleMonth,"data-identifier":"monthy"},this.props.langData.dash_lbl_month_text),i.a.createElement("button",{type:"button",className:this.state.buttonClassWeek,id:"sale-goal-weekly",onClick:this.handleWeek,"data-identifier":"weekly"},this.props.langData.dash_lbl_week_text)),i.a.createElement("span",{className:"pull-right"},this.props.langData.dash_total_text," ",i.a.createElement("b",{id:"total-sale"}),this.state.totalGoals),i.a.createElement("div",{className:this.state.monthClass},this.props.data.sales_goals&&i.a.createElement(Ka,{data:this.props.data})),i.a.createElement("div",{className:this.state.weekClass},this.props.data.sales_goals&&i.a.createElement(Xa,{data:this.props.data}))))}}]),t}(i.a.Component),$a=function(e){function t(e){return Object(ne.a)(this,t),Object(re.a)(this,Object(oe.a)(t).call(this,e))}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("languageData"));this.setState({dash_filter_btn_text:e.dashboard.dash_filter_btn_text,dash_filter_custom_text:e.dashboard.dash_filter_custom_text,dash_filter_last_30_days_text:e.dashboard.dash_filter_last_30_days_text,dash_filter_last_month_text:e.dashboard.dash_filter_last_month_text,dash_filter_last_week_text:e.dashboard.dash_filter_last_week_text,dash_filter_last_year_text:e.dashboard.dash_filter_last_year_text,dash_filter_this_month_text:e.dashboard.dash_filter_this_month_text,dash_filter_this_week_text:e.dashboard.dash_filter_this_week_text,dash_filter_this_year_text:e.dashboard.dash_filter_this_year_text,dash_filter_yesterday_text:e.dashboard.dash_filter_yesterday_text,dash_greet_by_text:e.dashboard.dash_greet_by_text,dash_in_office_sales_goals_text:e.dashboard.dash_in_office_sales_goals_text,dash_matics_text:e.dashboard.dash_matics_text,dash_net_promoter_score_text:e.dashboard.dash_net_promoter_score_text,dash_pending_director_consents_text:e.dashboard.dash_pending_director_consents_text,dash_procedure_audit_text:e.dashboard.dash_procedure_audit_text,dash_returning_customers_text:e.dashboard.dash_returning_customers_text,dash_total_text:e.dashboard.dash_total_text,dash_view_and_sign_text:e.dashboard.dash_view_and_sign_text,dash_your_gross_sales_text:e.dashboard.dash_your_gross_sales_text,dash_your_procedure_goal_text:e.dashboard.dash_your_procedure_goal_text,dash_your_procedures_text:e.dashboard.dash_your_procedures_text,dash_your_sales_goal_text:e.dashboard.dash_your_sales_goal_text,dash_your_survey_scores_text:e.dashboard.dash_your_survey_scores_text,dash_your_top_10_items_by_sales:e.dashboard.dash_your_top_10_items_by_sales,dash_customers_text:e.dashboard.dash_customers_text,dash_lbl_month_text:e.dashboard.dash_lbl_month_text,dash_lbl_week_text:e.dashboard.dash_lbl_week_text,dash_no_score_yet_text:e.dashboard.dash_no_score_yet_text,dash_tbl_units_text:e.dashboard.dash_tbl_units_text,dash_tbl_sales_text:e.dashboard.dash_tbl_sales_text,dash_tbl_name_text:e.dashboard.dash_tbl_name_text})}},{key:"render",value:function(){return i.a.createElement("div",{className:"dash-box"},i.a.createElement("div",{className:"dash-box-title"},this.props.langData.dash_your_survey_scores_text),i.a.createElement("div",{className:"dash-box-content"},i.a.createElement("div",{className:"survey-scrore"},i.a.createElement("h2",{id:"score-hadding"},"  ",this.props.data.survey_scores>0?this.props.data.currency_symbol+Ie(this.props.data.survey_scores):0),i.a.createElement("p",{id:"promoter-score-label"},this.props.langData.dash_no_score_yet_text)),i.a.createElement("div",{className:"score-map"},i.a.createElement("div",{className:"score-map-fill",id:"net-promoter-score",style:{width:this.props.data.survey_scores}},i.a.createElement("div",{className:"map-overly"})))))}}]),t}(i.a.Component),es=function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).state={},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("languageData"));this.setState({dash_filter_btn_text:e.dashboard.dash_filter_btn_text,dash_filter_custom_text:e.dashboard.dash_filter_custom_text,dash_filter_last_30_days_text:e.dashboard.dash_filter_last_30_days_text,dash_filter_last_month_text:e.dashboard.dash_filter_last_month_text,dash_filter_last_week_text:e.dashboard.dash_filter_last_week_text,dash_filter_last_year_text:e.dashboard.dash_filter_last_year_text,dash_filter_this_month_text:e.dashboard.dash_filter_this_month_text,dash_filter_this_week_text:e.dashboard.dash_filter_this_week_text,dash_filter_this_year_text:e.dashboard.dash_filter_this_year_text,dash_filter_yesterday_text:e.dashboard.dash_filter_yesterday_text,dash_greet_by_text:e.dashboard.dash_greet_by_text,dash_in_office_sales_goals_text:e.dashboard.dash_in_office_sales_goals_text,dash_matics_text:e.dashboard.dash_matics_text,dash_net_promoter_score_text:e.dashboard.dash_net_promoter_score_text,dash_pending_director_consents_text:e.dashboard.dash_pending_director_consents_text,dash_procedure_audit_text:e.dashboard.dash_procedure_audit_text,dash_returning_customers_text:e.dashboard.dash_returning_customers_text,dash_total_text:e.dashboard.dash_total_text,dash_view_and_sign_text:e.dashboard.dash_view_and_sign_text,dash_your_gross_sales_text:e.dashboard.dash_your_gross_sales_text,dash_your_procedure_goal_text:e.dashboard.dash_your_procedure_goal_text,dash_your_procedures_text:e.dashboard.dash_your_procedures_text,dash_your_sales_goal_text:e.dashboard.dash_your_sales_goal_text,dash_your_survey_scores_text:e.dashboard.dash_your_survey_scores_text,dash_your_top_10_items_by_sales:e.dashboard.dash_your_top_10_items_by_sales,dash_customers_text:e.dashboard.dash_customers_text,dash_lbl_month_text:e.dashboard.dash_lbl_month_text,dash_lbl_week_text:e.dashboard.dash_lbl_week_text,dash_no_score_yet_text:e.dashboard.dash_no_score_yet_text,dash_tbl_units_text:e.dashboard.dash_tbl_units_text,dash_tbl_sales_text:e.dashboard.dash_tbl_sales_text,dash_tbl_name_text:e.dashboard.dash_tbl_name_text,dashboard_No_Data_to_show:e.dashboard.dashboard_No_Data_to_show})}},{key:"render",value:function(){return i.a.createElement("div",{className:"dash-box"},i.a.createElement("div",{className:"dash-box-title"},this.state.dash_your_top_10_items_by_sales),i.a.createElement(vt.Scrollbars,{style:{height:487},className:"custome-scroll"},i.a.createElement("div",{className:"dash-box-content top-ten-items"},i.a.createElement("div",{className:"table-responsive",id:"table-body-sales"},i.a.createElement("table",{className:void 0!==this.props.data.top_items_by_sales&&this.props.data.top_items_by_sales.length>0?"table-dashboard":"no-display"},i.a.createElement("thead",{className:"table-dashboard-thead",id:"heading_sale"},i.a.createElement("tr",null,i.a.createElement("th",{className:"col-xs-1 table-dashboard-th"},"#"),i.a.createElement("th",{className:"col-xs-5 table-dashboard-th"},this.state.dash_tbl_name_text),i.a.createElement("th",{className:"col-xs-3 table-dashboard-th text-right"},this.state.dash_tbl_sales_text),i.a.createElement("th",{className:"col-xs-3 table-dashboard-th text-right"},this.state.dash_tbl_units_text))),i.a.createElement("tbody",{id:"topSales"},void 0!==this.props.data.top_items_by_sales&&this.props.data.top_items_by_sales.length>0&&this.props.data.top_items_by_sales.map(function(e,t){return i.a.createElement("tr",{className:"table-dashboard-tr",key:t},i.a.createElement("td",{className:"col-xs-1 table-dashboard-td"},t+1),i.a.createElement("td",{className:"col-xs-5 table-dashboard-td"},e.product.product_name),i.a.createElement("td",{className:"col-xs-3 table-dashboard-td text-right"},Ie(e.total_price,"currency")),i.a.createElement("td",{className:"col-xs-3 table-dashboard-td text-right"},Ie(e.total_units,"decimal",1)))}))),i.a.createElement("p",{className:void 0!==this.props.data.top_items_by_sales&&this.props.data.top_items_by_sales.length>0?"no-display":"dashboard-no-data"},this.props.langData.dashboard_No_Data_to_show)))))}}]),t}(i.a.Component),ts=(a(88),a(89),a(58)),as=a.n(ts),ss=a(24),ns=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,s="checkbox"===t.type?t.checked:t.value;a.setState(Object(se.a)({},e.target.name,s)),"object_name"===e.target.name&&a.handleSubmit(e,s)},a.handleSubmit=function(e,t){var s="",n="";if(a.state.dashList.clinics.length>0)a.state.dashList.clinics;var i=a.state.dashList.clinics;"object"===typeof e?e.preventDefault():(s=t.from_date,n=t.to_date,i=t.clinic_id);var r={params:{to_date:n||a.state.to_date,from_date:s||a.state.from_date,clinic_id:i||a.state.clinic_id}};localStorage.setItem("loadAgain",!0),a.setState({showLoader:!0,dashClinicList:[],objectNames:[],dataFiltered:!0}),a.props.fetchClinicsDashboard(r)},a.toggleCalendar=function(e){if("calendar-input"===e.name||!1!==a.state.showCalendar){var t=!1;t=!1===a.state.showCalendar&&void 0!==e.name&&"calendar-input"===e.name,a.setState({showCalendar:t})}},a.handleRangeChange=function(e,t){var s,n=t.selection.startDate,i=t.selection.endDate;n=Object(ss.b)(n,"YYYY-MM-DD"),i=Object(ss.b)(i,"YYYY-MM-DD"),a.setState((s={},Object(se.a)(s,e,Object(m.a)({},a.state[e],t)),Object(se.a)(s,"showCalendar",!1),Object(se.a)(s,"from_date",n),Object(se.a)(s,"to_date",i),s)),a.handleSubmit(e,{from_date:n,to_date:i})},a.handleClick=function(e){e.target&&void 0!==e.target.className&&"string"===typeof e.target.className&&e.target.className.indexOf("rdrStaticRangeLabel")>-1&&e.target.childNodes&&a.setState({rangeSelected:e.target.innerHTML}),a.node.contains(e.target)&&!0===a.state.showCalendar||a.toggleCalendar(e.target)},a.handleCheck=function(e){a.setState({showLoader:!0,clinic_id:e.target.value}),localStorage.setItem("loadAgain",!0);var t={params:{to_date:a.state.to_date,from_date:a.state.from_date,clinic_id:e.target.value}};console.log(a.state.clinic_id),e.target.value>0?a.props.fetchClinicsDashboard(t):a.setState({showLoader:!1})};var s=JSON.parse(localStorage.getItem("userData")),n=JSON.parse(localStorage.getItem("languageData"));localStorage.setItem("loadAgain",!1);var i=new Date,r=new Date(i.getFullYear(),i.getMonth(),1);return a.state={dateRangePicker:{selection:{startDate:new Date,endDate:new Date,key:"selection"}},to_date:Object(ss.b)(r,"YYYY-MM-DD"),from_date:Object(ss.b)(new Date,"YYYY-MM-DD"),email:"",showLoader:!1,emailError:"",showProcess:"",dataFiltered:!1,showCalendar:!1,dashClinicList:[{}],dashList:[{}],object_name:"",clinic_id:null,sel_clini:"",is_juvly_account:"",total_clinic_goals:"",userRoleId:s.user.user_role_id,isProvider:s.user.is_provider,accId:s.user.account_id,accUserId:s.account.id,dash_filter_btn_text:n.dashboard.dash_filter_btn_text,dash_filter_custom_text:n.dashboard.dash_filter_custom_text,dash_filter_last_30_days_text:n.dashboard.dash_filter_last_30_days_text,dash_filter_last_month_text:n.dashboard.dash_filter_last_month_text,dash_filter_last_week_text:n.dashboard.dash_filter_last_week_text,dash_filter_last_year_text:n.dashboard.dash_filter_last_year_text,dash_filter_this_month_text:n.dashboard.dash_filter_this_month_text,dash_filter_this_week_text:n.dashboard.dash_filter_this_week_text,dash_filter_this_year_text:n.dashboard.dash_filter_this_year_text,dash_filter_yesterday_text:n.dashboard.dash_filter_yesterday_text,dash_greet_by_text:n.dashboard.dash_greet_by_text,dash_in_office_sales_goals_text:n.dashboard.dash_in_office_sales_goals_text,dash_matics_text:n.dashboard.dash_matics_text,dash_net_promoter_score_text:n.dashboard.dash_net_promoter_score_text,dash_pending_director_consents_text:n.dashboard.dash_pending_director_consents_text,dash_procedure_audit_text:n.dashboard.dash_procedure_audit_text,dash_returning_customers_text:n.dashboard.dash_returning_customers_text,dash_total_text:n.dashboard.dash_total_text,dash_view_and_sign_text:n.dashboard.dash_view_and_sign_text,dash_your_gross_sales_text:n.dashboard.dash_your_gross_sales_text,dash_your_procedure_goal_text:n.dashboard.dash_your_procedure_goal_text,dash_your_procedures_text:n.dashboard.dash_your_procedures_text,dash_your_sales_goal_text:n.dashboard.dash_your_sales_goal_text,dash_your_survey_scores_text:n.dashboard.dash_your_survey_scores_text,dash_your_top_10_items_by_sales:n.dashboard.dash_your_top_10_items_by_sales,dash_customers_text:n.dashboard.dash_customers_text,dash_lbl_month_text:n.dashboard.dash_lbl_month_text,dash_lbl_week_text:n.dashboard.dash_lbl_week_text,dash_no_score_yet_text:n.dashboard.dash_no_score_yet_text,dash_tbl_units_text:n.dashboard.dash_tbl_units_text,dash_tbl_sales_text:n.dashboard.dash_tbl_sales_text,dash_tbl_name_text:n.dashboard.dash_tbl_name_text,dashboard_all_clinics:n.dashboard.dashboard_all_clinics,langData:n.dashboard,Please_Wait:n.global.Please_Wait,rangeSelected:"Today"},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){localStorage.removeItem("tempLoggedUserData");var e=JSON.parse(localStorage.getItem("languageData")),t=JSON.parse(localStorage.getItem("languageData")),a=(null!==t&&void 0!==t&&null!==t.dashboard&&t.dashboard,JSON.parse(localStorage.getItem("userData")));this.state.to_date,this.state.from_date;document.addEventListener("click",this.handleClick,!1),this.setState({showLoader:!0,firstname:null!==a&&void 0!==a?a.user.firstname:"",lastname:null!==a&&void 0!==a?a.user.lastname:"",dash_filter_this_month_text:e.dashboard.dash_filter_this_month_text}),this.props.fetchClinicsDashboard()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClick,!1)}},{key:"render",value:function(){var e=this,t=(1==this.state.userRoleId||3==this.state.userRoleId)&&this.state.isProvider||4==this.state.userRoleId&&!this.state.isProvider?" col-md-4 new-stats-outer":1!=this.state.userRoleId||this.state.isProvider?2==this.state.userRoleId?"col-md-4 new-stats-outer":4==this.state.userRoleId&&this.state.isProvider?"col-md-3 new-stats-outer":"col-md-6 new-stats-outer":"col-md-6 new-stats-outer";return i.a.createElement("div",{className:"main protected"},i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content dashboard-wrapper"},i.a.createElement("div",{className:"title dashboard-title"},i.a.createElement("div",{className:"col-sm-12 col-md-4"},i.a.createElement("label",{className:"patient-count patient-name"},this.state.dash_greet_by_text," ",i.a.createElement("b",{id:"customers_count"},this.state.firstname," ",this.state.lastname," "))),i.a.createElement("div",{className:"dash-filter-outer"},i.a.createElement("input",{type:"hidden",id:"daterangedata",name:"date-range"}),i.a.createElement("input",{type:"hidden",id:"chosenlabel",name:"chosenlabel"}),i.a.createElement("div",{className:"search-bg new-calender pull-right",ref:function(t){e.node=t}},i.a.createElement("img",{src:as.a}),this.state.showCalendar&&i.a.createElement(Ia.DateRangePicker,{ranges:[this.state.dateRangePicker.selection],onChange:this.handleRangeChange.bind(this,"dateRangePicker"),className:"CalendarPreviewArea",maxDate:new Date}),i.a.createElement("input",{type:"text",className:"input-cal setting-search-input",name:"calendar-input",value:this.state.from_date?this.state.from_date+"-"+this.state.to_date:"",autoComplete:"off",onChange:this.handleInputChange}))),i.a.createElement("span",{id:"fromDate",className:"hidden"},"2018-11-1"),i.a.createElement("span",{id:"toDate",className:"hidden"},"2018-11-19"),i.a.createElement("form",{className:"navbar-form navbar-left search pull-right"},i.a.createElement("div",{className:"form-group all-clinic-form"},i.a.createElement("div",{className:"field-outer dash-clinic-outer"},i.a.createElement("select",{className:"sel-clini new-dash-sel",name:"sel_clini",value:this.state.sel_clini,onChange:this.handleInputChange,onClick:this.handleCheck},i.a.createElement("option",{value:""}," ",this.state.dashboard_all_clinics," "),void 0!==this.state.dashClinicList&&this.state.dashClinicList.map(function(e,t){return i.a.createElement("option",{key:t,value:e.id},e.clinic_name)}))))),i.a.createElement("span",{className:"date this-month"},this.state.dash_matics_text," - ",i.a.createElement("label",{id:"dateLabel"},this.state.rangeSelected))),i.a.createElement("div",{className:"main-content",id:"mainContent"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-lg-4 col-md-5 col-sm-6 col-xs-12 goals-outer"},i.a.createElement("div",{className:"dash-box"},i.a.createElement("div",{className:"dash-box-title"},"IN OFFICE SALES GOALS:"),i.a.createElement("div",{className:void 0==this.state.officeSalesGoalsList||""==this.state.officeSalesGoalsList||null==this.state.officeSalesGoalsList?"no-sales-goal":"no-display"},i.a.createElement("h6",null,"Goals not defined for this month"),i.a.createElement("a",{href:"/sales/office-sales-goals",className:"blue-btn add-goal"},"Add Goals")),i.a.createElement(vt.Scrollbars,{style:{height:596},className:void 0==this.state.officeSalesGoalsList||""==this.state.officeSalesGoalsList||null==this.state.officeSalesGoalsList?"no-display":"custome-scroll"},i.a.createElement("div",{className:"dash-box-content office-goal",id:"office-sales-goals-ccjuvly"},i.a.createElement("div",{className:"sales-goal-juvlycc mCustomScrollbar _mCS_1"},i.a.createElement("div",{id:"mCSB_1",className:"mCustomScrollBox mCS-dark mCSB_vertical mCSB_inside",style:{maxHeight:"none"},tabIndex:0},i.a.createElement("div",{id:"mCSB_1_container",className:"mCSB_container",style:{position:"relative",top:"0px",left:"0px"},dir:"ltr"},void 0!==this.state.officeSalesGoalsList&&this.state.officeSalesGoalsList.map(function(e,t){return i.a.createElement("div",{className:"custom-progress-outer",key:t},i.a.createElement("span",{className:"progress-label-clinic"},e.clinic_name_juvcc),i.a.createElement("span",{className:"pull-right total-prog-bar"},i.a.createElement("b",null,"Sales Goal:")," ",e.clinic_goal_formatted),i.a.createElement("div",{className:"custom-progress"},i.a.createElement("div",{href:"#",className:"custom-progress-growth",style:{width:e.to_be_achieve_percentage>100?"100%":e.to_be_achieve_percentage+"%"}}),i.a.createElement("div",{href:"#",className:"gray-progress-bar",style:{width:e.remaining_percentage+"%"}})),i.a.createElement("div",{className:e.to_be_achieve_percentage<100?"sale-pending":"no-display"},i.a.createElement("div",{className:"pull-left"},i.a.createElement("span",null,"Sales:")," ",e.net_sale_formatted,"/",e.to_be_achieve_percentage,"%"),i.a.createElement("div",{className:"pull-right"},i.a.createElement("span",null,"Pending:")," ",e.remaining_goal_formatted,"/",e.remaining_percentage,"%")),i.a.createElement("div",{className:e.to_be_achieve_percentage<100?"sales-need":"no-display"},"Sales needed per business day: ",e.remaining_per_day_goal))})),i.a.createElement("div",{id:"mCSB_1_scrollbar_vertical",className:"mCSB_scrollTools mCSB_1_scrollbar mCS-dark mCSB_scrollTools_vertical",style:{display:"block"}},i.a.createElement("a",{href:"#",className:"mCSB_buttonUp",style:{display:"block"}}),i.a.createElement("div",{className:"mCSB_draggerContainer"},i.a.createElement("div",{id:"mCSB_1_dragger_vertical",className:"mCSB_dragger",style:{position:"absolute",minHeight:"30px",display:"block",height:"224px",maxHeight:"544px",top:"0px"}},i.a.createElement("div",{className:"mCSB_dragger_bar",style:{lineHeight:"30px"}})),i.a.createElement("div",{className:"mCSB_draggerRail"})),i.a.createElement("a",{href:"#",className:"mCSB_buttonDown",style:{display:"block"}})))))))),i.a.createElement("div",{className:"col-lg-8 col-md-7 col-sm-6 col-xs-12"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:4==this.state.userRoleId?t:""},4==this.state.userRoleId?i.a.createElement(Ha,{data:this.state.dashList,langData:this.state.langData}):""),2==this.state.userRoleId||1==this.state.isProvider?i.a.createElement("div",{className:t},i.a.createElement(Ga,{data:this.state.dashList,langData:this.state.langData})):"",i.a.createElement("div",{className:t},i.a.createElement(Va,{data:this.state.dashList,langData:this.state.langData})),i.a.createElement("div",{className:t},i.a.createElement(za,{data:this.state.dashList,langData:this.state.langData}))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:2==this.state.userRoleId||1==this.state.isProvider?"col-lg-6 col-md-12 new-stats-outer":"no-display"},i.a.createElement(Qa,{data:this.state.dashList,langData:this.state.langData}),i.a.createElement(Za,{data:this.state.dashList,langData:this.state.langData}),i.a.createElement($a,{data:this.state.dashList,langData:this.state.langData})),i.a.createElement("div",{className:"col-lg-6 col-md-12 new-stats-outer"},i.a.createElement(es,{data:this.state.dashList,langData:this.state.langData})),2==this.state.userRoleId||1==this.state.isProvider?"":i.a.createElement("div",{className:"col-lg-6 col-md-12 new-stats-outer"},i.a.createElement(Ra,{data:this.state.dashList,langData:this.state.langData}),i.a.createElement(Ya,{data:this.state.dashList,langData:this.state.langData}))))))),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.Please_Wait)))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return void 0!=e.dashClinicList&&e.dashClinicList.data!=t.dashClinicList&&200==e.dashClinicList.status&&"false"==localStorage.getItem("loadAgain")?(localStorage.setItem("loadAgain",!1),{dashClinicList:e.dashClinicList.data.clinics,officeSalesGoalsList:e.dashClinicList.data.office_sales_goals.clinic_goals_array,total_clinic_goals:e.dashClinicList.data.office_sales_goals.total_clinic_goals,to_be_achieve_percentage:e.dashClinicList.data.office_sales_goals.to_be_achieve_percentage,remaining_percentage:e.dashClinicList.data.office_sales_goals.remaining_percentage,dashList:e.dashClinicList.data,is_juvly_account:e.dashClinicList.data.is_juvly_account,showLoader:!1}):null}}]),t}(i.a.Component);var is=Object(Z.b)(function(e){return JSON.parse(localStorage.getItem("languageData")),localStorage.setItem("loadAgain",!1),"FETCH_DASH_CLINICS"===e.DashboardReducer.action?{dashClinicList:e.DashboardReducer.data}:{}},function(e){return Object(c.bindActionCreators)({fetchClinicsDashboard:va},e)})(ns),rs=a(453),os=a(455),ls=a(779),cs={fadeIn:{animation:"x 1s",animationName:os.a.keyframes(rs.fadeIn,"fadeIn")},fadeOut:{animation:"x 2s",animationName:os.a.keyframes(rs.fadeOut,"fadeOut")}},ds=function(e,t){return e.find(function(e){return e===t})},ms=function(){var e=JSON.parse(localStorage.getItem("userData")).permissions,t=Object(oa.a)(e),a=JSON.parse(localStorage.getItem("userData")),s=JSON.parse(localStorage.getItem("languageData")),n=[],i=[{label:s.settings.sidebar_profile_menu,to:"/settings/profile",match:["/settings/profile"]},{label:s.settings.sidebar_2FA_menu,to:"/settings/two-factor-auth",match:["/settings/two-factor-auth"]}];if(ds(t,"manage-account-information")){i.push({label:s.settings.sidebar_AR_menu,to:"/settings/ar-account",match:["/settings/ar-account"]});var r={icon:"fas angle-down",label:"Account Information",content:i};"stripe"===a.account.pos_gateway&&"paid"===a.account.account_type&&"express"===a.account.stripe_mode&&("superadmin"!==a.user_type||a.user.account_id!==Ee.JUVLY_ACC_ID&&a.user.account_id!==Ee.CC_ACC_ID||1!==a.user.user_role_id||(i.push({label:s.settings.sidebar_POS_menu,to:"/settings/pos",match:["/settings/pos"]}),Ge()&&i.push({label:s.settings.sidebar_POS_disputes_menu,to:"/settings/pos-disputes",match:["/settings/pos-disputes"]}))),n.push(r)}if(ds(t,"manage-clinics")||ds(t,"manage-questionnaires")||ds(t,"manage-consents")||ds(t,"manage-pre-treatment-instructions")||ds(t,"manage-post-treatment-instructions")){var o=[];ds(t,"manage-clinics")&&o.push({label:s.settings["sidebar_menu-clinics"],to:"/settings/clinics",match:["/settings/clinics","/settings/clinic/:id/edit","/settings/clinic/create"]}),ds(t,"manage-questionnaires")&&o.push({label:s.settings.sidebar_questionnaires_menu,to:"/settings/questionnaires",match:["/settings/questionnaires","/settings/questionnaires/:id/edit","/settings/questionnaires/create"]}),ds(t,"manage-consents")&&o.push({label:s.settings.sidebar_consents_menu,to:"/settings/consents",match:["/settings/consents","/settings/consent/:id/edit","/settings/consent/create"]}),ds(t,"manage-pre-treatment-instructions")&&o.push({label:s.settings.sidebar_pre_treatment_instructions_menu,to:"/settings/pre-treatment-instructions",match:["/settings/pre-treatment-instructions","/settings/pre-treatment-instructions/:id/edit","/settings/pre-treatment-instructions/create"]},{label:s.settings.sidebar_pre_treatment_email_menu,to:"/settings/pre-treatment-email",match:["/settings/pre-treatment-email"]}),ds(t,"manage-post-treatment-instructions")&&o.push({label:s.settings.sidebar_post_treatment_instructions_menu,to:"/settings/post-treatment-instructions",match:["/settings/post-treatment-instructions","/settings/post-treatment-instructions/:id/edit","/settings/post-treatment-instructions/create"]},{label:s.settings.sidebar_post_treatment_email_menu,to:"/settings/post-treatment-email",match:["/settings/post-treatment-email"]}),o.push({label:s.settings.sidebar_procedure_menu,to:"/settings/procedure-templates",match:["/settings/procedure-templates"]});var l={icon:"icon-angle-down",label:s.settings.sidebar_manageClinics_menu,content:o};n.push(l)}if(ds(t,"manage-appointment-settings")){var c=[];c.push({label:s.settings.sidebar_appointments_email_sms_menu,to:"/settings/appointment-email-sms",match:["/settings/appointment-email-sms"]},{label:s.settings.sidebar_survey_settings_menu,to:"/settings/survey-email-sms",match:["/settings/survey-email-sms"]},{label:s.settings.sidebar_url_menu,to:"/settings/configure-uri",match:["/settings/configure-uri"]}),a.account.pos_enabled>0&&c.push({label:s.settings.sidebar_cancellation_menu,to:"/settings/cancellation-policy",match:["/settings/cancellation-policy"]}),c.push({label:s.settings.sidebar_patient_menu,to:"/settings/patient-portal",match:["/settings/patient-portal"]},{label:s.settings.sidebar_appointmentReminder_menu,to:"/settings/appointment-reminder",match:["/settings/appointment-reminder","/settings/appointment-reminder/create","/settings/appointment-reminder/:reminderId/edit"]}),n.push({icon:"icon-angle-down",label:s.settings.sidebar_Appointments_menu,content:c})}if(ds(t,"wallet-settings")&&n.push({label:s.settings.sidebar_membership_wallet_menu,to:"/settings/membership-wallet",match:["/settings/membership-wallet"]}),ds(t,"manage-users")||ds(t,"manage-user-roles")){var d=[];ds(t,"manage-users")&&d.push({label:s.settings.sidebar_users_menu,to:"/settings/users",match:["/settings/users","/settings/users/create","/settings/users/:userId/edit"]}),ds(t,"manage-user-roles")&&d.push({label:s.settings.sidebar_userRole_menu,to:"/settings/user-roles",match:["/settings/user-roles"]}),n.push({icon:"icon-angle-down",label:s.settings.sidebar_teammates_menu,content:d})}if(a.user.account_id!=Ee.JUVLY_ACC_ID&&a.user.account_id!=Ee.CC_ACC_ID&&(ds(t,"manage-subscription-details")||"superadmin"===a.user_type)){var m=[{label:s.settings["sidebar-manage-subscription-details"],to:"/settings/manage-subscription",match:["/settings/manage-subscription"]}];a.account.account_subscription.account_code.indexOf("cus_")>-1&&m.push({label:s.settings["sidebar-view-sales-invoices"],to:"/settings/manage-invoices",match:["/settings/manage-invoices"]}),n.push({icon:"icon-angle-down",label:s.settings.sidebar_your_billing_menu,content:m})}if("stripe"===a.account.pos_gateway&&"paid"===a.account.account_type&&"custom"===a.account.stripe_mode&&"superadmin"===a.user_type){var u=[];Ge()&&u.push({label:s.settings.sidebar_POS_dashboard_menu,to:"/settings/pos-dashboard",match:["/settings/pos-dashboard"]},{label:s.settings.sidebar_POS_payments_menu,to:"/settings/pos-payments",match:["/settings/pos-payments"]},{label:s.settings.sidebar_POS_payouts_menu,to:"/settings/pos-payouts",match:["/settings/pos-payouts"]}),u.push({label:s.settings.sidebar_POS_settings_menu,to:"/settings/pos",match:["/settings/pos"]}),Ge()&&u.push({label:s.settings.sidebar_POS_payment_settings_menu,to:"/settings/pos-payment-settings",match:["/settings/pos-payment-settings"]},{label:s.settings.sidebar_POS_disputes_only_menu,to:"/settings/pos-disputes",match:["/settings/pos-disputes"]}),n.push({icon:"icon-angle-down",label:s.settings.sidebar_POS_menu,content:u})}return n.push({label:s.settings.sidebar_recently_deleted_menu,to:"/settings/recently-deleted",match:["/settings/recently-deleted"]}),n},us=function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).toggleNav=function(e){var t=e.target.getAttribute("class"),a=e.target.parentNode,s=e.target,n=e.target.parentNode.parentNode;null===t&&(s=n),null!==t&&t.indexOf("svg-inline")>-1&&(s=a),s.classList.contains("active-menu")?(s.classList.remove("active-menu"),s.nextElementSibling.classList.add("no-display"),s.querySelector("svg").classList.remove("fa-angle-down"),s.querySelector("svg").classList.add("fa-angle-right")):(s.classList.add("active-menu"),s.nextElementSibling.classList.remove("no-display"),s.querySelector("svg").classList.remove("fa-angle-right"),s.querySelector("svg").classList.add("fa-angle-down"))},a.activeParentLink=function(e){var t="new-setting-subtabs-a";return void 0!==e&&e.map(function(e,s){void 0!==e.content&&e.content.map(function(e,s){e.match.indexOf(a.props.match.path)>-1&&(t="new-setting-subtabs-a active-menu")})}),{returnClass:t}},a.noChildClass=function(e){var t="new-setting-tabs-li";return void 0!==e&&e.map(function(e,s){e.match&&void 0!==e.match&&e.match.indexOf(a.props.match.path)>-1&&(t="new-setting-tabs-li active-menu")}),{returnClass:t}},a.state={toggleClassName:"new-setting-tabs-a",sideBarContent:ms(),isPosEnabled:Ge()},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){this.state={sideBarContent:ms()}}},{key:"render",value:function(){var e,t=this;return e=this.state.sideBarContent.map(function(e,a){var s=t.activeParentLink([e]).returnClass,n=s.indexOf("active-menu")>-1?"setting-submenu":"setting-submenu no-display",r=s.indexOf("active-menu")>-1?"fas fa-angle-down":"fas fa-angle-right",o=t.noChildClass([e]).returnClass;return i.a.createElement("li",{className:o,key:a,ref:"parents"},void 0!==e.to?i.a.createElement(me.a,{className:s,to:void 0!==e.to?e.to:"javascript:void(0)"}," ",e.label," "):i.a.createElement("a",{className:s,onClick:void 0!==e.content?t.toggleNav.bind(t):void 0,href:void 0!==e.to?e.to:"javascript:void(0)"}," ",e.label,void 0!==e.content&&i.a.createElement("i",{className:r})),void 0!==e.content&&e.content.length>0&&i.a.createElement(ls.a,{className:n},i.a.createElement("ul",{className:"setting-submenu",style:cs.fadeIn},e.content.map(function(e,a){var s=e.match.indexOf(t.props.match.path)>-1?"new-setting-subtabs-a sel-submenu":"new-setting-subtabs-a";return i.a.createElement("li",{className:"new-setting-subtabs-li",key:a},i.a.createElement(me.a,{className:s,to:e.to}," ",e.label," "))}))))}),i.a.createElement("div",{className:"setting-left-menu"},i.a.createElement("div",{className:"setting-title"},"Settings"),i.a.createElement("ul",{className:"new-setting-tabs"},e),i.a.createElement(ls.a,null))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};return Ge()!==t.isPosEnabled&&(a.isPosEnabled=Ge(),a.sideBarContent=ms()),a}}]),t}(i.a.Component);var ps=Object(Z.b)(function(e){return{isPosEnabled:Ge()}})(Object(de.a)(us)),hs=(Ee.API_URL,Q.a.create());hs.defaults.headers.common["access-token"]=xe();var gs=function(e){function t(e){var a;return Object(ne.a)(this,t),a=Object(re.a)(this,Object(oe.a)(t).call(this,e)),hs.get(Ee.API_URL+"check-valid-token").then(function(e){}).catch(function(e){if(void 0!==e.response){var t=e.response.data.message;"invalid_token"!=t&&"session_timeout"!=t&&"server_error"!=t&&"token_not_found"!=t||Oe()}else Oe()}),a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"main protected"},i.a.createElement(Aa,null),this.props.children,i.a.createElement(Ta,null))}}]),t}(n.Component),_s=a(140),vs=a.n(_s),fs=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,s="checkbox"===t.type?t.checked:t.value;a.setState(Object(se.a)({},e.target.name,s))},a.handleSubmit=function(e){var t;e.preventDefault(),localStorage.setItem("sortOnly",!0);var s={params:{page:1,pagesize:a.state.pagesize,sortorder:a.state.sortorder,term:a.state.term,scopes:a.state.scopes}};a.setState((t={page:1,pagesize:a.state.pagesize,sortorder:"asc"==a.state.sortorder?"desc":"asc",startFresh:!0,loadMore:!0},Object(se.a)(t,"startFresh",!0),Object(se.a)(t,"next_page_url",""),Object(se.a)(t,"fetchNotificationData",[]),t)),a.props.fetchNotificationData(s)},a.onSort=function(e){var t="asc"===a.state.sortorder?"desc":"asc",s={params:{page:1,pagesize:a.state.pagesize,sortby:e,sortorder:t,term:a.state.term}};a.setState({page:1,pagesize:a.state.pagesize,sortby:e,sortorder:t,loadMore:!0,startFresh:!0,showLoader:!0,next_page_url:"",fetchNotificationData:[]}),localStorage.setItem("sortOnly",!0),a.props.fetchNotificationData(s)},a.loadMore=function(){localStorage.setItem("sortOnly",!1),a.setState({loadMore:!0,startFresh:!0,showLoader:!0,showLoadingText:!0});var e={params:{page:a.state.page,pagesize:a.state.pagesize,sortorder:a.state.sortorder,term:a.state.term,scopes:a.state.scopes}};a.props.fetchSMSNotifications(e)},a.userEdit=function(e){return i.a.createElement("div",null,a.props.history.push("/dashboard/sms-notificationspopup/".concat(e)))};var s=JSON.parse(localStorage.getItem("userData"));return a.state={firstname:"",lastname:"",from_number:"",message:"",created:"",fetchNotificationData:[],showLoadingText:!1,id:s.user.id,page:1,pagesize:15,sortorder:"asc",term:"",hasMoreItems:!0,next_page_url:"",loadMore:!0,startFresh:!0,showLoader:!1,scopes:"business_hours"},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),window.onscroll=function(){var e=parseInt(Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop));window.innerHeight+e===document.documentElement.offsetHeight&&null!=a.state.next_page_url&&a.loadMore()},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e={params:{page:this.state.page,pagesize:this.state.pagesize}},t=JSON.parse(localStorage.getItem("languageData"));this.setState({SMS_Notifications:t.dashboard.SMS_Notifications,Notifications:t.dashboard.Notifications,SMS_Notifications_All_Time_displayed:t.dashboard.SMS_Notifications_All_Time_displayed,loading_please_wait_text:t.global.loading_please_wait_text,SMS_Notifications_SMS:t.dashboard.SMS_Notifications_SMS,SMS_Notifications_New_SMS_received_from:t.dashboard.SMS_Notifications_New_SMS_received_from,clinic_Please_Wait:t.settings.clinic_Please_Wait,dashboard_No_record_found:t.dashboard.dashboard_No_record_found,dashboard_Last_Message:t.dashboard.dashboard_Last_Message}),this.setState({showLoader:!0}),this.props.fetchSMSNotifications(e)}},{key:"shouldComponentUpdate",value:function(e,t){return!!this.state.startFresh||(!!this.state.loadMore||!!this.state.showLoader)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement("ul",{className:"sub-menu"},i.a.createElement("li",null,i.a.createElement(me.a,{to:"/dashboard/sms-notifications",className:"active"},this.state.SMS_Notifications)),i.a.createElement("li",null,i.a.createElement(me.a,{to:"/dashboard/notifications"},this.state.Notifications))),i.a.createElement("div",{className:"juvly-section full-width"},i.a.createElement("div",{className:"setting-search-outer"},this.state.fetchNotificationData&&this.state.fetchNotificationData.length>0&&i.a.createElement("span",{className:"search-text pull-right"},this.state.SMS_Notifications_All_Time_displayed)),i.a.createElement("div",{className:"activity-outer"},this.state.fetchNotificationData&&this.state.fetchNotificationData.length>0&&this.state.fetchNotificationData.map(function(t,a){var s="";return s=null===t.patient?t.from_number:null!==t.patient&&void 0!==t.patient?t.patient.firstname+""+t.patient.lastname:"",i.a.createElement("div",{className:"activity-row cursor-pointer",key:a},i.a.createElement("div",{className:"user-status status-color-a"},e.state.SMS_Notifications_SMS),i.a.createElement("div",{className:"activity-detail"},i.a.createElement("div",{className:"col-md-2 col-sm-4 col-xs-12","data-tip":!0,"data-for":"smsToolTip",onClick:e.userEdit.bind(e,t.id)},s," "),i.a.createElement(vs.a,{id:"smsToolTip",effect:"solid"},e.state.SMS_Notifications_New_SMS_received_from," ",i.a.createElement("span",null," ",s)),i.a.createElement("div",{className:"col-sm-8 col-xs-12",onClick:e.userEdit.bind(e,t.id)},t.message.length>75?t.message.substring(0,75)+"...":t.message)),i.a.createElement("div",{className:"activity-time",onClick:e.userEdit.bind(e,t.id)},e.state.dashboard_Last_Message,": ",t.created))}),void 0!==this.state.fetchNotificationData&&0==this.state.fetchNotificationData.length&&!1===this.state.showLoader&&i.a.createElement("div",{className:"text-center"},this.state.dashboard_No_record_found," ")),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.clinic_Please_Wait)))),i.a.createElement("div",{className:this.state.showLoadingText?"loading-please-wait":"loading-please-wait no-display "},this.state.loading_please_wait_text)))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(void 0!=e.fetchNotificationData&&e.fetchNotificationData.next_page_url!==t.next_page_url){var a={};return null==t.next_page_url?(localStorage.setItem("sortOnly",!1),a.next_page_url=null):(0==t.fetchNotificationData.length&&1==t.startFresh?"false"==localStorage.getItem("sortOnly")?(a.fetchNotificationData=e.fetchNotificationData.data.data,null!=e.fetchNotificationData.data.next_page_url?a.page=t.page+1:a.next_page_url=e.fetchNotificationData.data.next_page_url,a.startFresh=!1,a.showLoader=!1,a.showLoadingText=!1):localStorage.setItem("sortOnly",!1):t.fetchNotificationData!=e.fetchNotificationData.data.data&&0!=t.fetchNotificationData.length&&(a.fetchNotificationData=Object(oa.a)(t.fetchNotificationData).concat(Object(oa.a)(e.fetchNotificationData.data.data)),a.page=t.page+1,a.next_page_url=e.fetchNotificationData.data.next_page_url,a.showLoader=!1,a.showLoadingText=!1),a)}return null}}]),t}(n.Component);var bs=Object(Z.b)(function(e){return JSON.parse(localStorage.getItem("languageData")),"SMS_NOTIFICATION_LIST"===e.DashboardReducer.action?{fetchNotificationData:e.DashboardReducer.data}:{}},function(e){return Object(c.bindActionCreators)({fetchSMSNotifications:ua},e)})(fs),Es=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t,s=e.target.value;a.setState((t={},Object(se.a)(t,e.target.name,s),Object(se.a)(t,"userChanged",!0),t))},a.handleSubmit=function(e){e.preventDefault();var t={id:a.props.match.params.id,reply:a.state.reply};a.setState({showLoader:!0}),a.props.createReply(t,a.props.match.params.id),a.state.reply="",a.refs.reply.value=""};var s=JSON.parse(localStorage.getItem("userData"));return a.state={timezone:"",city:"",php_timezone:"",country_name:"",country_code:"",defaultCountry:"us",clinic_name:"",contact_no:"",address:"",email_special_instructions:"",sms_notifications_phone:"",smsPopupData:[],defaultImg:"/images/user.png",reply:"",tax:"",time_format:"",clinicData:{},userId:s.user.id,id:a.props.match.params.id,page:1,pagesize:15,sortorder:"asc",term:"",hasMoreItems:!0,next_page_url:"",loadMore:!0,startFresh:!0,showLoader:!1,scopes:"business_hours",user_changed:!1,timezoneList:[],countryList:[],notiEmailArr:[],multipleEmailClass:"setting-input-box notiEmailInput",contactClass:"setting-input-box",notiContactClass:"setting-input-box"},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id,t=JSON.parse(localStorage.getItem("languageData"));this.setState({smsId:void 0!=e?e:void 0,SMS_Notifications_popup:t.dashboard.SMS_Notifications_popup,SMS_Notifications_popup_IM_History:t.dashboard.SMS_Notifications_popup_IM_History,edit_clinic_subheader:t.settings.edit_clinic_subheader,edit_clinic_Clinic_name:t.settings.edit_clinic_Clinic_name,edit_clinic_contact_no:t.settings.edit_clinic_contact_no,edit_clinic_time_zone:t.settings.edit_clinic_time_zone,edit_clinic_address:t.settings.edit_clinic_address,edit_clinic_city_state:t.settings.edit_clinic_city_state,edit_clinic_country:t.settings.edit_clinic_country,edit_clinic_notif_email:t.settings.edit_clinic_notif_email,edit_clinic_sms_notif_phone:t.settings.edit_clinic_sms_notif_phone,edit_clinic_sms_multiple_emails:t.settings.edit_clinic_sms_multiple_emails,edit_clinic_tax_settings:t.settings.edit_clinic_tax_settings,edit_clinic_tax_rate:t.settings.edit_clinic_tax_rate,edit_clinic_business_hours:t.settings.edit_clinic_business_hours,edit_clinic_open_hours:t.settings.edit_clinic_open_hours,edit_clinic_close_hours:t.settings.edit_clinic_close_hours,edit_clinic_monday:t.settings.edit_clinic_monday,edit_clinic_tuesday:t.settings.edit_clinic_tuesday,edit_clinic_wednesday:t.settings.edit_clinic_wednesday,edit_clinic_thursday:t.settings.edit_clinic_thursday,edit_clinic_friday:t.settings.edit_clinic_friday,edit_clinic_Saturday:t.settings.edit_clinic_Saturday,edit_clinic_sunday:t.settings.edit_clinic_sunday,edit_clinic_delete_button:t.settings.edit_clinic_delete_button,clinic_delete_warning:t.settings.clinic_delete_warning,yes_option:t.settings.yes_option,no_option:t.settings.no_option,delete_confirmation:t.global.delete_confirmation,editUsers_CancelBtn:t.settings.editUsers_CancelBtn}),this.setState({showLoader:!0}),e&&this.props.fetchSMSNotificationsPopups(e)}},{key:"componentDidUpdate",value:function(){var e=document.getElementById("main-chat-outer");e.scrollTop=e.scrollHeight}},{key:"validateForm",value:function(){return this.state.reply.length>0}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement("div",{className:"wide-popup"},i.a.createElement("div",{className:"modal-blue-header"},i.a.createElement(me.a,{to:"/dashboard/sms-notifications",className:"popup-cross"},"\xd7"),i.a.createElement("span",{className:"popup-blue-name"}," ",""===this.state.firstname?this.state.from_number:this.state.firstname+""+this.state.lastname," - ",this.state.SMS_Notifications_popup_IM_History)),i.a.createElement("div",{className:"timezone-note col-xs-12 text-right"},this.state.SMS_Notifications_popup),i.a.createElement("div",{className:"main-chat-outer",id:"main-chat-outer"},void 0!==this.state.smsPopupData&&this.state.smsPopupData.map(function(t,a){var s="",n=(new Date).getDate();s=t.created===n?n:t.created;var r="";r="message"===t.message_type?t.message:"";var o="";o="reply"===t.message_type?t.message:"";var l={backgroundImage:"url("+(null===t.patient?"/images/user.png":""===t.patient.user_image_url?" ":t.patient.user_image_url)+")",backgroundColor:"#dddddd"},c={backgroundImage:"url("+(null===t.user?"/images/user.png":""===t.user.user_image_url?" ":t.user.user_image_url)+")",backgroundColor:"#dddddd"},d=null!==t.patient?t.patient.firstname.charAt(0).toUpperCase():"",m=null!==t.patient?t.patient.lastname.charAt(0).toUpperCase():"",u=null!==t.user?t.user.firstname.charAt(0).toUpperCase():"",p=null!==t.user?t.user.lastname.charAt(0).toUpperCase():"";return i.a.createElement("div",{key:a},i.a.createElement("div",{className:n!==t.created?"date-divider":"no-display"},i.a.createElement("span",{className:"chat-date"},Be(s,!1,"DD MMM YYYY"))),i.a.createElement("div",{className:"message"===t.message_type?"left-chat-outer chat-div":"no-display","data-notty-id":146},i.a.createElement("div",{className:"sms-user-picture",style:l}),null!==t.patient&&""===t.patient.user_image_url?i.a.createElement("div",{className:"sms-user-picture"},d,m):i.a.createElement("div",{className:"sms-user-picture",style:l}),i.a.createElement("div",{className:"chat-txt-gray"},r),i.a.createElement("div",{className:"chat-name "},null===t.patient?t.from_number:""===t.patient.firstname?t.from_number:t.patient.firstname.charAt(0).toUpperCase()+t.patient.firstname.slice(1)+" "+t.patient.lastname.charAt(0).toUpperCase()+t.patient.lastname.slice(1)+","," ",i.a.createElement("div",{className:"chat-time"},12==e.state.time_format?Be(t.created,JSON.stringify(t.created),"LT"):Be(t.created,JSON.stringify(t.created)," hh:mm")))),i.a.createElement("div",{className:"reply"===t.message_type?"right-chat-outer chat-div":"no-display","data-notty-id":147},null!==t.user&&""===t.user.user_image_url?i.a.createElement("div",{className:"sms-user-picture"},u,p):i.a.createElement("div",{className:"sms-user-picture",style:c}),i.a.createElement("div",{className:"chat-txt-gray"},o),i.a.createElement("div",{className:"chat-name "},null===t.user?t.from_number:""===t.user.firstname?t.from_number:t.user.firstname.charAt(0).toUpperCase()+t.user.firstname.slice(1)+" "+t.user.lastname.charAt(0).toUpperCase()+t.user.lastname.slice(1)+","," ",i.a.createElement("div",{className:"chat-time"},12==e.state.time_format?Be(t.created,JSON.stringify(t.created),"LT"):Be(t.created,JSON.stringify(t.created)," hh:mm")))))}),i.a.createElement("form",{id:"reply",name:"reply-form",className:"type-message",action:"#",method:"post",onSubmit:this.handleSubmit},i.a.createElement("textarea",{className:"reply-box",placeholder:"Type a message...",value:this.state.reply,ref:"reply",onChange:this.handleInputChange,name:"reply"}),i.a.createElement("input",{value:"reply",type:"submit",className:this.validateForm()?"header-select-btn reply-btn":"header-select-btn reply-btn disable",disabled:!this.validateForm()})),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock chat-loader":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.clinic_Please_Wait)))),i.a.createElement("div",{className:this.state.showLoadingText?"loading-please-wait":"loading-please-wait no-display "},this.state.loading_please_wait_text))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(void 0!==e.smsPopupData&&200===e.smsPopupData.status&&e.smsPopupData.data.all_notifications!==t.smsPopupData){var a={showLoader:!1};return a.from_number=t.userChanged?t.from_number:e.smsPopupData.data.notification.from_number,a.firstname=t.userChanged?t.firstname:""==t.firstname||null==t.firstname?"":e.smsPopupData.data.notification.patient.firstname,a.lastname=t.userChanged?t.lastname:""==t.lastname||null==t.lastname?"":e.smsPopupData.data.notification.patient.lastname,a.time_format=e.smsPopupData.data.time_format?e.smsPopupData.data.time_format:"",a.smsPopupData=e.smsPopupData.data.all_notifications,a}return null}}]),t}(n.Component);var ys=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData")),a={};return"SELECTED_SMS_POPUPS"!==e.DashboardReducer.action?"CREATE_REPLY"===e.DashboardReducer.action?(rt.toast.dismiss(),200!==e.DashboardReducer.data.status?rt.toast.error(t.global[e.DashboardReducer.data.message]):a.smsPopupData=e.DashboardReducer.data,a):{}:(a.smsPopupData=e.DashboardReducer.data,a)},function(e){return Object(c.bindActionCreators)({fetchSMSNotificationsPopups:fa,createReply:Ea},e)})(Es),Ns=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).loadMore=function(){localStorage.setItem("sortOnly",!1),a.setState({loadMore:!0,startFresh:!0,showLoader:!0,showLoadingText:!0});var e={params:{page:a.state.page,pagesize:a.state.pagesize,sortorder:a.state.sortorder,term:a.state.term,scopes:a.state.scopes}};a.props.fetchNotifications(e)},a.showDeleteModal=function(e){a.setState({showModal:!0,reminderId:e.currentTarget.dataset.userid}),localStorage.setItem("isDelete",!0),a.dismissModal();var t=a.state.getNotificationData;t.length&&(t.map(function(e,s){e.id==a.state.reminderId&&delete t[s]}),a.setState({getNotificationData:t})),a.props.deleteNotifications(e.currentTarget.dataset.userid),a.dismissModal()},a.showEditModal=function(e){a.setState({userId:e.currentTarget.dataset.userid})},a.dismissModal=function(){a.setState({showModal:!1})},a.handleInputChange=function(e){var t=e.target,s="checkbox"===t.type?t.checked:t.value;a.setState(Object(se.a)({},e.target.name,s))},a.renderColorClass=function(e){switch(e){case"low_stock":return"user-status status-color-a";case"expired_stock":return"user-status status-color-b";case"appointment_sync_failed":return"user-status status-color-c";default:return"user-status status-color-i"}},a.handleSubmit=function(e){var t;e.preventDefault(),localStorage.setItem("sortOnly",!0);var s={params:{page:1,pagesize:a.state.pagesize,sortorder:a.state.sortorder,term:a.state.term,scopes:a.state.scopes}};a.setState((t={page:1,pagesize:a.state.pagesize,sortorder:"asc"==a.state.sortorder?"desc":"asc",startFresh:!0,loadMore:!0},Object(se.a)(t,"startFresh",!0),Object(se.a)(t,"next_page_url",""),Object(se.a)(t,"getNotificationData",[]),t)),a.props.fetchNotifications(s)},a.onSort=function(e){var t="asc"===a.state.sortorder?"desc":"asc",s={params:{page:1,pagesize:a.state.pagesize,sortby:e,sortorder:t,term:a.state.term}};a.setState({page:1,pagesize:a.state.pagesize,sortby:e,sortorder:t,loadMore:!0,startFresh:!0,showLoader:!0,next_page_url:"",getNotificationData:[]}),localStorage.setItem("sortOnly",!0),a.props.fetchNotifications(s)},a.userEdit=function(e){return i.a.createElement("div",null,a.props.history.push("/settings/clinic/".concat(e,"/edit")))};var s=JSON.parse(localStorage.getItem("userData"));return a.state={firstname:"",lastname:"",from_number:"",message:"",created:"",is_juvly_account:0,getNotificationData:[],notification_message:"",smsNotificationname:!0,Notificationname:!1,showModal:!1,userId:"",showLoadingText:!1,id:s.user.id,fetchNotificationData:[],page:1,pagesize:15,sortorder:"asc",term:"",hasMoreItems:!0,next_page_url:"",loadMore:!0,startFresh:!0,showLoader:!1,scopes:"business_hours"},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),window.onscroll=function(){var e=parseInt(Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop));window.innerHeight+e===document.documentElement.offsetHeight&&null!=a.state.next_page_url&&a.loadMore()},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e={params:{page:this.state.page,pagesize:this.state.pagesize}},t=JSON.parse(localStorage.getItem("languageData"));this.setState({SMS_Notifications:t.dashboard.SMS_Notifications,Notifications:t.dashboard.Notifications,SMS_Notifications_All_Time_displayed:t.dashboard.SMS_Notifications_All_Time_displayed,loading_please_wait_text:t.global.loading_please_wait_text,SMS_Notifications_SMS:t.dashboard.SMS_Notifications_SMS,clinic_Please_Wait:t.settings.clinic_Please_Wait,dashboard_No_record_found:t.dashboard.dashboard_No_record_found}),this.setState({showLoader:!0}),this.props.fetchNotifications(e)}},{key:"shouldComponentUpdate",value:function(e,t){return!!this.state.startFresh||(!!this.state.loadMore||!!this.state.showLoader)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement("ul",{className:0===this.state.is_juvly_account?"sub-menu no-display":"sub-menu"},i.a.createElement("li",null,i.a.createElement(me.a,{name:"smsNotificationname",to:"/dashboard/sms-notifications"},this.state.SMS_Notifications)),i.a.createElement("li",null,i.a.createElement(me.a,{name:"Notificationname",to:"/dashboard/notifications",className:"active"},this.state.Notifications))),i.a.createElement("div",{className:0===this.state.is_juvly_account?"title":"title no-display"},i.a.createElement("span",null,this.state.Notifications)),i.a.createElement("div",{className:"juvly-section full-width"},i.a.createElement("div",{className:"setting-search-outer"},this.state.getNotificationData&&this.state.getNotificationData.length>0&&i.a.createElement("span",{className:"search-text pull-right"},this.state.SMS_Notifications_All_Time_displayed)),i.a.createElement("div",{className:"activity-outer delete-activity"},this.state.getNotificationData&&this.state.getNotificationData.length>0&&this.state.getNotificationData.map(function(t,a){return i.a.createElement("div",{className:"activity-row cursor-pointer",key:a},i.a.createElement("div",{className:e.renderColorClass(t.notification_type)},t.notification_type.replace(/_/g," ").toUpperCase()),i.a.createElement("div",{className:"activity-detail",dangerouslySetInnerHTML:{__html:t.notification_message}}),i.a.createElement("div",{className:"activity-time"},t.created),i.a.createElement("a",{href:"#",className:"trash-activity","data-userid":t.id,onClick:e.showDeleteModal.bind(e)},i.a.createElement("i",{className:"fas fa-trash-alt","data-userid":t.id,onClick:e.showDeleteModal.bind(e)})))}),void 0==this.state.getNotificationData||0==this.state.getNotificationData.length&&!1===this.state.showLoader&&i.a.createElement("div",{className:"no-record"},this.state.dashboard_No_record_found," ")),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.clinic_Please_Wait)))),i.a.createElement("div",{className:this.state.showLoadingText?"loading-please-wait":"loading-please-wait no-display "},this.state.loading_please_wait_text)),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(void 0!=e.isReloadPage&&1==e.isReloadPage&&rt.toast.success(e.message,{onClose:function(){window.location.reload()}}),void 0!=e.getNotificationData&&e.getNotificationData.next_page_url!==t.next_page_url){var a={};return null==t.next_page_url?(localStorage.setItem("sortOnly",!1),a.next_page_url=null):(0==t.getNotificationData.length&&1==t.startFresh?"false"==localStorage.getItem("sortOnly")?(a.getNotificationData=e.getNotificationData.data.data,null!=e.getNotificationData.data.next_page_url?a.page=t.page+1:a.next_page_url=e.getNotificationData.data.next_page_url,a.is_juvly_account=e.getNotificationData.data.is_juvly_account,a.startFresh=!1,a.showLoader=!1,a.showLoadingText=!1):localStorage.setItem("sortOnly",!1):t.getNotificationData!=e.getNotificationData.data.data&&0!=t.getNotificationData.length&&(a.getNotificationData=Object(oa.a)(t.getNotificationData).concat(Object(oa.a)(e.getNotificationData.data.data)),a.page=t.page+1,a.next_page_url=e.getNotificationData.data.next_page_url,a.is_juvly_account=e.getNotificationData.data.is_juvly_account,a.showLoader=!1,a.showLoadingText=!1),a)}return null}}]),t}(n.Component);var Ss=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData"));return"NOTIFICATION_LIST"===e.DashboardReducer.action?{getNotificationData:e.DashboardReducer.data}:"DELETE_NOTIFICATION_DATA"!==e.DashboardReducer.action?{}:(localStorage.setItem("isDelete",!1),200===e.DashboardReducer.data.status?{isReloadPage:!0,message:t.global[e.DashboardReducer.data.message]}:void rt.toast.error(t.global[e.DashboardReducer.data.message]))},function(e){return Object(c.bindActionCreators)({fetchNotifications:pa,deleteNotifications:ha},e)})(Ns),Ds=Ee.API_URL,ws=Q.a.create();function Cs(e){return function(t){ws.get(Ds+"clients",e||"").then(function(e){t({type:"CLIENTS_LIST",payload:e.data})}).catch(function(e){console.log(e),t({type:"CLIENTS_LIST",payload:e.response.data})})}}function xs(){return function(e){ws.get(Ds+"patient-filters/create").then(function(t){e({type:"GET_CPP_DATA",payload:t.data})}).catch(function(t){console.log(t),e({type:"GET_CPP_DATA",payload:t.response.data})})}}function Ls(e){return function(t){ws.post(Ds+"patient-filters",e||"").then(function(e){t({type:"CREATE_FILTER",payload:e.data})}).catch(function(e){console.log(e),t({type:"CREATE_FILTER",payload:e.response.data})})}}function Os(){return function(e){ws.get(Ds+"patient-filters").then(function(t){e({type:"GET_ALL_FILTERS",payload:t.data})}).catch(function(t){console.log(t),e({type:"GET_ALL_FILTERS",payload:t.response.data})})}}function As(e){return function(t){ws.get(Ds+"patient-filters/"+e).then(function(e){t({type:"GET_ONE_FILTER",payload:e.data})}).catch(function(e){console.log(e),t({type:"GET_ONE_FILTER",payload:e.response.data})})}}function Ts(e,t){return function(a){ws.put(Ds+"patient-filters/"+t,e||"").then(function(e){a({type:"UPDATE_FILTER",payload:e.data})}).catch(function(e){console.log(e),a({type:"UPDATE_FILTER",payload:e.response.data})})}}function Is(e){return function(t){ws.delete(Ds+"patient-filters/"+e).then(function(e){t({type:"DELETE_FILTER",payload:e.data})}).catch(function(e){console.log(e),t({type:"DELETE_FILTER",payload:e.response.data})})}}function Rs(e){return function(t){ws.post(Ds+"clients/save_fields",e||"").then(function(e){t({type:"SAVE_CLIENT_FIELD",payload:e.data})}).catch(function(e){console.log(e),t({type:"SAVE_CLIENT_FIELD",payload:e.response.data})})}}function ks(e,t){return function(a){ws.get(Ds+"clients/"+e+"?scopes="+t).then(function(e){a({type:"GET_CLIENT_DETAIL",payload:e.data})}).catch(function(e){console.log(e),a({type:"GET_CLIENT_DETAIL",payload:e.response.data})})}}function Ps(e){return function(t){ws.put(Ds+"clients/fire/"+e).then(function(e){t({type:"FIRE_CLIENT",payload:e.data})}).catch(function(e){t({type:"FIRE_CLIENT",payload:e.response.data})})}}function js(e){return function(t){ws.put(Ds+"clients/do_not_call/"+e).then(function(e){t({type:"DNC_CLIENT",payload:e.data})}).catch(function(e){t({type:"DNC_CLIENT",payload:e.response.data})})}}function Ms(e){return function(t){ws.put(Ds+"clients/change_patient_portal_access/"+e).then(function(e){t({type:"CHANGE_PORTAL_CLIENT",payload:e.data})}).catch(function(e){t({type:"CHANGE_PORTAL_CLIENT",payload:e.response.data})})}}function Us(e){return function(t){ws.get(Ds+"clients/get_cards/"+e).then(function(e){t({type:"GET_CLIENT_CARDS",payload:e.data})}).catch(function(e){console.log(e),t({type:"GET_CLIENT_CARDS",payload:e.response.data})})}}function Fs(e,t){return function(a){ws.post(Ds+"clients/save_credit_card/"+e,t||"").then(function(e){a({type:"SAVE_CLIENT_CARD",payload:e.data})}).catch(function(e){console.log(e),a({type:"SAVE_CLIENT_CARD",payload:e.response.data})})}}function Bs(e){return function(t){ws.post(Ds+"clients/medical_history",e||"").then(function(e){t({type:"UPDATE_MEDICAL_HISTORY",payload:e.data})}).catch(function(e){console.log(e),t({type:"UPDATE_MEDICAL_HISTORY",payload:e.response.data})})}}function qs(e){return function(t){ws.get(Ds+"clients/resend_portal_email/"+e).then(function(e){t({type:"RESEND_WELCOME_EMAIL",payload:e.data})}).catch(function(e){console.log(e),t({type:"RESEND_WELCOME_EMAIL",payload:e.response.data})})}}function Ys(e,t){return function(a){ws.post(Ds+"clients/reset_portal_password/"+e,t||"").then(function(e){a({type:"RESET_CLIENT_PORTAL_PASSWORD",payload:e.data})}).catch(function(e){console.log(e),a({type:"RESET_CLIENT_PORTAL_PASSWORD",payload:e.response.data})})}}function Hs(e){return function(t){ws.post(Ds+"clients",e||"").then(function(e){t({type:"CREATE_CLIENT",payload:e.data})}).catch(function(e){console.log(e),t({type:"CREATE_CLIENT",payload:e.response.data})})}}function Gs(e,t){return function(a){ws.patch(Ds+"clients/"+e,t||"").then(function(e){a({type:"UPDATE_CLIENT",payload:e.data})}).catch(function(e){console.log(e),a({type:"UPDATE_CLIENT",payload:e.response.data})})}}function Vs(e){return function(t){ws.delete(Ds+"clients/"+e).then(function(e){t({type:"DELETE_CLIENT",payload:e.data})}).catch(function(e){console.log(e),t({type:"DELETE_CLIENT",payload:e.response.data})})}}function zs(e){return function(t){ws.get(Ds+"client-wallet/"+e).then(function(e){t({type:"GET_CLIENT_WALLET",payload:e.data})}).catch(function(e){console.log(e),t({type:"GET_CLIENT_WALLET",payload:e.response.data})})}}function Ws(e,t){return function(a){ws.post(Ds+"add-credit/"+e,t||"").then(function(e){a({type:"ADD_CREDIT_TO_WALLET",payload:e.data})}).catch(function(e){console.log(e),a({type:"ADD_CREDIT_TO_WALLET",payload:e.response.data})})}}function Js(e,t){return function(a){ws.post(Ds+"remove-credit/"+e,t||"").then(function(e){a({type:"REMOVE_CREDIT_FROM_WALLET",payload:e.data})}).catch(function(e){console.log(e),a({type:"REMOVE_CREDIT_FROM_WALLET",payload:e.response.data})})}}function Qs(e,t){return function(a){ws.post(Ds+"edit-package/"+e,t||"").then(function(e){a({type:"UPDATE_WALLET_PACKAGE",payload:e.data})}).catch(function(e){console.log(e),a({type:"UPDATE_WALLET_PACKAGE",payload:e.response.data})})}}function Ks(e,t){return function(a){ws.post(Ds+"edit-package/"+e,t||"").then(function(e){a({type:"REMOVE_WALLET_PACKAGE",payload:e.data})}).catch(function(e){console.log(e),a({type:"REMOVE_WALLET_PACKAGE",payload:e.response.data})})}}function Xs(e,t){return function(a){ws.post(Ds+"update-membership-card-details/"+e,t||"").then(function(e){a({type:"UPDATE_MEMBERSHIP_CC",payload:e.data})}).catch(function(e){console.log(e),a({type:"UPDATE_MEMBERSHIP_CC",payload:e.response.data})})}}function Zs(e){return function(t){ws.post(Ds+"cancel-membership-subscription/"+e).then(function(e){t({type:"CANCEL_MEMBERSHIP",payload:e.data})}).catch(function(e){console.log(e),t({type:"CANCEL_MEMBERSHIP",payload:e.response.data})})}}function $s(e,t){return function(a){ws.post(Ds+"add-membership-subscription/"+e,t||"").then(function(e){a({type:"ADD_MONTHLY_MEMBERSHIP",payload:e.data})}).catch(function(e){console.log(e),a({type:"ADD_MONTHLY_MEMBERSHIP",payload:e.response.data})})}}function en(e){return function(t){ws.post(Ds+"search-product",e||"").then(function(e){t({type:"SEARCH_WALLET_PRODUCT",payload:e.data})}).catch(function(e){console.log(e),t({type:"SEARCH_WALLET_PRODUCT",payload:e.response.data})})}}function tn(e){return function(t){ws.post(Ds+"add-package-product",e||"").then(function(e){t({type:"ADD_PACKAGE_PRODUCT",payload:e.data})}).catch(function(e){console.log(e),t({type:"ADD_PACKAGE_PRODUCT",payload:e.response.data})})}}function an(e){return function(t){ws.post(Ds+"get-bogo-package-details",e||"").then(function(e){t({type:"GET_BOGO_PACKAGE_DETAILS",payload:e.data})}).catch(function(e){console.log(e),t({type:"GET_BOGO_PACKAGE_DETAILS",payload:e.response.data})})}}function sn(e){return function(t){ws.post(Ds+"get-product-price",e||"").then(function(e){t({type:"GET_PRODUCT_PRICE_BY_CLINIC",payload:e.data})}).catch(function(e){console.log(e),t({type:"GET_PRODUCT_PRICE_BY_CLINIC",payload:e.response.data})})}}function nn(e){return function(t){ws.post(Ds+"clients/export",e||"").then(function(e){t({type:"EXPORT_FILE",payload:e.data})}).catch(function(e){t({type:"EXPORT_FILE",payload:e.response.data})})}}function rn(e){return function(t){ws.post(Ds+"clients/export_patient",e||"").then(function(e){t({type:"EXPORT_CLIENT_PDF",payload:e.data})}).catch(function(e){t({type:"EXPORT_CLIENT_PDF",payload:e.response.data})})}}function on(e){return function(t){ws.post(Ds+"refundFees",e||"").then(function(e){t({type:"REFUND_FEES",payload:e.data})}).catch(function(e){t({type:"REFUND_FEES",payload:e.response.data})})}}function ln(e){return function(e){e({type:"EMPTY_DATA",payload:{data:"",status:200,message:""}})}}ws.defaults.headers.common["access-token"]=xe(),Xe(),ws.interceptors.response.use(function(e){return void 0!=e.data&&void 0!=e.data.global_settings&&He(e.data.global_settings),Xe(),e},function(e){if(e.response){var t=e.response.data.message;return"invalid_token"!=t&&"session_timeout"!=t&&"server_error"!=t&&"token_not_found"!=t||Oe(),Promise.reject(e)}return{data:{data:"",message:"server_error",status:500}}});var cn=a(232),dn=a.n(cn),mn=function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).loadMore=function(){localStorage.setItem("sortOnly",!1),a.setState({loadMore:!0,startFresh:!0,showLoader:!0});var e={params:{page:a.state.page,pagesize:a.state.pagesize,sortorder:a.state.sortorder,term:a.state.term}};a.props.getAllClients(e)},a.handleInputChange=function(e){var t,s=e.target,n="checkbox"===s.type?s.checked:s.value;console.log(e.target.name,n),a.setState((t={},Object(se.a)(t,e.target.name,n),Object(se.a)(t,"userChanged",!0),t))},a.handleSubmit=function(e){var t;e.preventDefault(),localStorage.setItem("sortOnly",!0);var s={params:{page:1,pagesize:a.state.pagesize,sortorder:a.state.sortorder,term:a.state.term}};a.setState((t={page:1,pagesize:a.state.pagesize,sortorder:"asc"==a.state.sortorder?"desc":"asc",startFresh:!0,loadMore:!0},Object(se.a)(t,"startFresh",!0),Object(se.a)(t,"next_page_url",""),Object(se.a)(t,"clientList",[]),t)),a.props.getAllClients(s)},a.state={clientList:[],page:1,pagesize:15,sortorder:"asc",term:"",userChanged:!1,firstname:"",lastname:"",email:"",phoneNumber:"",hasMoreItems:!0,next_page_url:"",loadMore:!0,startFresh:!0,showLoader:!1,dzCSS:""},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),window.onscroll=function(){var e=parseInt(Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop));window.innerHeight+e===document.documentElement.offsetHeight&&null!=a.state.next_page_url&&a.loadMore()},a.componentConfig={showFiletypeIcon:!0,postUrl:Ee.API_URL+"media/upload?upload_type=profile",uploadType:"docfile"},a.djsConfig={addRemoveLinks:!0,autoProcessQueue:!0,acceptedFiles:"image/jpeg,image/png,image/gif",clickable:".camra-icon",method:"POST",headers:{access_token:xe()}},a.callback=function(e){"file/.csv "!=e.type&&"file/.xlsx"!=e.type?rt.toast.error("This file type is not allowed!"):a.setState({defImageCls:"no-display",cameraInPreviewCls:"camra-icon dz-clickable camera-in-preview",dzImgObj:e,dzCSS:""})},a.success=function(e){var t=JSON.parse(localStorage.getItem("languageData")),s=JSON.parse(e.xhr.response);rt.toast.dismiss(),"200"==s.status?a.setState({uploadedFile:s.data.file_name,dzImgObj:e}):rt.toast.error(t.global[s.message])},a.removedfile=function(e){a.setState({uploadedFile:"",user_image:"",defImageCls:"",cameraInPreviewCls:"camra-icon dz-clickable no-image",dzImgObj:{},dzCSS:"no-dz-image"})},a.dropzone=null,a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e={params:{page:this.state.page,pagesize:this.state.pagesize,sortorder:"asc",term:this.state.term}};this.props.getAllClients(e)}},{key:"render",value:function(){var e=this,t=this.componentConfig,a=this.djsConfig,s={name:this.state.user_image_url,accepted:!0,size:7627},n={init:function(t){e.dropzone=t,""==e.state.user_image_url?e.setState({user_image:"",defImageCls:"",cameraInPreviewCls:"camra-icon dz-clickable no-image",dzCSS:"no-dz-image"}):(t.options.addedfile.call(t,s),t.options.thumbnail.call(t,s,e.state.user_image_url),t.emit("complete",s),e.setState({defImageCls:"no-display",cameraInPreviewCls:"camra-icon dz-clickable camera-in-preview",dzCSS:""}))},addedfile:this.callback,success:this.success,removedfile:this.removedfile};return i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement("div",{className:"juvly-section full-width"},i.a.createElement("div",{className:"juvly-container"},i.a.createElement("div",{className:"juvly-title m-b-40"},"Bulk Import",i.a.createElement("a",{"data-url":"/settings/user",className:"pull-right"},i.a.createElement("img",{src:"images/close.png"}))),i.a.createElement("div",{className:"juvly-subtitle"},"File Upload"),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Upload Excel Or CSV File",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"main-profile-picture static-upload-file"},i.a.createElement("div",{className:"dropzone dz-clickable"},i.a.createElement(dn.a,{config:t,eventHandlers:n,djsConfig:a,className:this.state.dzCSS}),i.a.createElement("div",{className:"dz-default dz-message"},i.a.createElement("span",null,"Drop files here to upload")),i.a.createElement("div",{className:"camra-icon"},i.a.createElement("i",{className:"fas fa-camera"})))))))),i.a.createElement("div",{className:"footer-static"},i.a.createElement("a",{id:"saveConsultation",className:"new-blue-btn pull-right"},"Save"),i.a.createElement("a",{"data-url":"/settings/questionnaires",className:"new-white-btn pull-right cancelAction"},"Cancel")))))}}]),t}(n.Component);Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData")),a={};return"CLIENTS_LIST"===e.ClientsReducer.action&&(200!=e.ClientsReducer.data.status?rt.toast.error(t.global[e.ClientsReducer.data.message]):a.clientList=e.ClientsReducer.data.data),a},function(e){return Object(c.bindActionCreators)({getAllClients:Cs},e)})(mn),a(1074);var un=a(25),pn=a(817),hn=a.n(pn),gn=a(818),_n=a.n(gn);localStorage.removeItem("cLetterKey"),localStorage.removeItem("cTerm"),localStorage.removeItem("cFilterID"),localStorage.removeItem("cFilterName");var vn=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleSelect=function(e){},a.handleDelete=function(e){var t=a.state.tags;a.setState({tags:t.filter(function(t,a){return a!==e})})},a.handleAddition=function(e){a.setState(function(t){return{tags:Object(oa.a)(t.tags).concat([e])}})},a.handleDrag=function(e,t,s){var n=Object(oa.a)(a.state.tags).slice();n.splice(t,1),n.splice(s,0,e),a.setState({tags:n})},a.loadMore=function(){localStorage.setItem("sortOnly",!1),a.setState({loadMore:!0,startFresh:!0,showLoadingText:!0,letter_key:a.state.letter_key,term:a.state.term,filter_id:a.state.filterToApply});var e={params:{page:a.state.page,pagesize:a.state.pagesize,sortby:a.state.sortby,sortorder:a.state.sortorder,term:a.state.term,letter_key:a.state.letter_key,filter_id:a.state.filterToApply}};a.state.sortby||delete e.params.sortby,a.props.getAllClients(e)},a.handleInputChange=function(e){var t,s=e.target,n="checkbox"===s.type?s.checked:s.value;a.setState((t={},Object(se.a)(t,e.target.name,n),Object(se.a)(t,"userChanged",!0),t))},a.componentWillUnmount=function(){a.props.exportEmptyData({})},a.handleFilterSubmit=function(e){e.preventDefault();var t=!1;a.setState({filter_name_Error:!1}),void 0===typeof a.state.filter_name.trim()||null===a.state.filter_name.trim()||""===a.state.filter_name.trim()?(a.setState({filter_name_Error:!0}),t=!0):!0===t&&(t=!1);var s=[];void 0!==a.state.selectedClinics&&a.state.selectedClinics.length>0&&(s=a.state.selectedClinics.map(function(e,t){return e.value}));var n=[];void 0!==a.state.selectedProvider&&a.state.selectedProvider.length>0&&(n=a.state.selectedProvider.map(function(e,t){return e.value}));var i=[];if(void 0!==a.state.selectedProducts&&a.state.selectedProducts.length>0&&(i=a.state.selectedProducts.map(function(e,t){return e.value})),!1===t){document.body.style.overflow="";var r={filter_name:a.state.filter_name,product_used:i,providers:n,clinics:s,member_type:a.state.member_type,fired_patient:a.state.fired_patient,patient_treated_date:a.state.from_date?a.state.from_date+"-"+a.state.to_date:""},o=a.state.filterId;o?a.props.updateFilter(r,o):(0===i.length&&delete r.product_used,0===n.length&&delete r.providers,0===s.length&&delete r.clinics,""===a.state.member_type&&delete r.member_type,""!==a.state.fired_patient&&null!=a.state.fired_patient||delete r.fired_patient,""!==a.state.from_date&&""!==a.state.to_date||delete r.patient_treated_date,a.props.createFilter(r)),a.setState({editFilterFlag:!1,showLoader:!0,showFilterModal:!1,page:1,pagesize:a.state.pagesize,sortorder:"desc",term:"",letter_key:"",filterData:[],appliedFilterName:a.state.filter_name})}},a.handleSubmit=function(e){var t;e.preventDefault();var s={params:{page:1,pagesize:a.state.pagesize,sortorder:a.state.sortorder?a.state.sortorder:"desc",term:a.state.term,letter_key:"",filter_id:a.state.filterToApply,sortby:a.state.sortby}};a.state.sortby||delete s.params.sortby,a.setState((t={page:1,pagesize:a.state.pagesize,sortorder:a.state.sortorder,term:a.state.term,startFresh:!0,loadMore:!0},Object(se.a)(t,"startFresh",!0),Object(se.a)(t,"next_page_url",""),Object(se.a)(t,"clientList",[]),Object(se.a)(t,"letter_key",""),Object(se.a)(t,"filter_id",a.state.filterToApply),Object(se.a)(t,"tabClicked",!0),Object(se.a)(t,"showLoader",!0),t)),localStorage.setItem("cTerm",a.state.term),localStorage.removeItem("cLetterKey"),a.props.getAllClients(s)},a.componentDidUpdate=function(e,t){if(null!==a.state.filterToApply&&""!==a.state.filterToApply&&a.state.filterToApply!==t.filterToApply){var s={params:{page:1,pagesize:a.state.pagesize,term:a.state.term?a.state.term:"",letter_key:a.state.letter_key,sortorder:a.state.sortorder?a.state.sortorder:"desc",filter_id:a.state.filterToApply,sortby:a.state.sortby}};a.state.sortby||delete s.params.sortby,localStorage.setItem("cFilterID",a.state.filterToApply),a.state.filter_name&&localStorage.setItem("cFilterName",a.state.filter_name),a.setState({page:1,pagesize:a.state.pagesize,sortorder:a.state.sortorder?a.state.sortorder:"desc",loadMore:!0,startFresh:!0,next_page_url:"",clientList:[],cppList:[]}),a.props.getAllClients(s),a.props.getClinicsProvidersProducts()}null!==a.state.deleteFilterData&&""!==a.state.deleteFilterData&&a.state.deleteFilterData!==t.deleteFilterData&&null!==a.state.deleteFilterStatus&&""!==a.state.deleteFilterStatus&&a.onReset()},a.showFilterModal=function(){document.body.style.overflow="hidden",a.setState({showFilterModal:!0,filterToApply:"",showDeleteLoading:!0}),a.props.getAllFilters()},a.showAddFilterModal=function(){document.addEventListener("click",a.handleClick,!1),a.setState({editFilterFlag:!0,filter_name:"",from_date:"",to_date:"",member_type:"",fired_patient:"",selectedClinics:[],selectedProducts:[],selectedProvider:[],userChanged:!1}),a.props.getClinicsProvidersProducts()},a.dismissFilterModal=function(){document.body.style.overflow="",a.setState({showFilterModal:!1}),document.removeEventListener("click",a.handleClick,!1)},a.dismissAddFilterModal=function(){a.setState({editFilterFlag:!1,showFilterModal:!1,showModal2:!1,showLoader:!1})},a.goBack=function(){a.setState({editFilterFlag:!1,filterId:"",filter_name:"",from_date:"",to_date:"",member_type:"",fired_patient:"",selectedClinics:[],selectedProducts:[],selectedProvider:[],userChanged:!1})},a.onSort=function(e){var t="asc"===a.state.sortorder?"desc":"asc",s={params:{page:1,pagesize:a.state.pagesize,sortby:e,sortorder:t,term:a.state.term,letter_key:a.state.letter_key,filter_id:a.state.filterToApply}};a.setState({page:1,pagesize:a.state.pagesize,sortby:e,sortorder:t,loadMore:!0,startFresh:!0,showLoader:!0,next_page_url:"",letter_key:a.state.letter_key,clientList:[],cppList:[],filter_id:a.state.filterToApply,tabClicked:!0}),a.props.getAllClients(s),localStorage.setItem("cSortBy",e),localStorage.setItem("cSortOrder",t)},a.onReset=function(){localStorage.removeItem("cSortBy"),localStorage.removeItem("cSortOrder"),localStorage.removeItem("cLetterKey"),localStorage.removeItem("cTerm"),localStorage.removeItem("cFilterID"),localStorage.removeItem("cFilterName");a.state.sortorder;var e={params:{page:1,pagesize:a.state.pagesize,letter_key:"",term:"",filter_id:"",sortorder:"desc"}};a.setState({page:1,pagesize:a.state.pagesize,loadMore:!0,startFresh:!0,showLoader:!0,next_page_url:"",letter_key:"",clientList:[],cppList:[],term:"",sortorder:"desc",filter_id:"",tabClicked:!0,appliedFilterName:"",sortby:void 0,filterToApply:""}),a.props.getAllClients(e)},a.onSortAlpha=function(e){if(void 0!==a.state.activeLetters&&Object.values(a.state.activeLetters).indexOf(e)>-1||""===e){var t={params:{page:1,pagesize:a.state.pagesize,term:"",letter_key:e,sortorder:a.state.sortorder?a.state.sortorder:"desc",filter_id:a.state.filterToApply,sortby:a.state.sortby}};a.state.sortby||delete t.params.sortby,a.setState({page:1,pagesize:a.state.pagesize,loadMore:!0,startFresh:!0,showLoader:!0,next_page_url:"",clientList:[],letter_key:e,term:"",filter_id:a.state.filterToApply,tabClicked:!0}),localStorage.setItem("cLetterKey",e),localStorage.removeItem("cTerm"),a.props.getAllClients(t)}},a.handleClinicChange=function(e){a.setState({selectedClinics:e})},a.handleProductChange=function(e){a.setState({selectedProducts:e})},a.handleProviderChange=function(e){a.setState({selectedProvider:e})},a.editFilter=function(e){e.preventDefault(),document.addEventListener("click",a.handleClick,!1);var t=e.target.dataset.filterid;a.setState({editFilterFlag:!0,filterId:e.target.dataset.filterid}),a.showLoaderFunc(),setTimeout(function(){this.props.getOneFilter(t)}.bind(Object(ce.a)(Object(ce.a)(a))),1e3),a.props.getClinicsProvidersProducts()},a.showDeleteFilter=function(e){var t=e.target.dataset.filterid;a.setState({showModalDelete:!0,filterDeleteId:t,showFilterModal:!1})},a.deleteThisFilter=function(e){document.body.style.overflow="",a.setState({showLoader:!0,showFilterModal:!1,showModalDelete:!1,showDeleteLoading:!0}),a.props.deleteFilter(a.state.filterDeleteId)},a.dismissModalDelete=function(){a.setState({showModalDelete:!1,filterDeleteId:"",showFilterModal:!0})},a.getClientDetails=function(e){return i.a.createElement("div",null,a.props.history.push("/clients/profile/".concat(e)))},a.handleRangeChange=function(e,t){var s,n=t.selection.startDate,i=t.selection.endDate;n=Object(ss.b)(n,"YYYY/MM/DD"),i=Object(ss.b)(i,"YYYY/MM/DD"),a.setState((s={},Object(se.a)(s,e,Object(m.a)({},a.state[e],t)),Object(se.a)(s,"from_date",n),Object(se.a)(s,"to_date",i),s))},a.handleClick=function(e){a.node&&a.node.contains(e.target)&&!0===a.state.showCalendar||a.toggleCalendar(e)},a.toggleCalendar=function(e){if(!1===a.state.showCalendar)return"resetDate"===e.target.id&&a.setState({from_date:"",dateRangePicker:{selection:{startDate:new Date,endDate:new Date,key:"selection"}}}),void("showPicker"===e.target.id&&!1===a.state.showCalendar&&a.setState({showCalendar:!0}));var t=!1;t=!1===a.state.showCalendar&&void 0!==e.target.id&&"showPicker"===e.target.id,a.setState({showCalendar:t})},a.applyThisFilter=function(e){document.body.style.overflow="";var t=e.id,s=e.filter_name;localStorage.setItem("cFilterID",t),localStorage.setItem("cFilterName",s),a.setState({filterToApply:t,editFilterFlag:!1,showLoader:!0,showFilterModal:!1,page:1,pagesize:a.state.pagesize,sortorder:a.state.sortorder?a.state.sortorder:"desc",term:a.state.term?a.state.term:"",letter_key:a.state.letter_key?a.state.letter_key:"",appliedFilterName:s})},a.updatePref=function(e){var t=!0===e.target.checked?1:0,s=e.target.name,n=void 0!==a.state.userData&&null!==a.state.userData?a.state.userData:[],i={fieldname:s,checked:t};a.props.saveClientFields(i),n.indexOf(s)>-1&&0===t&&n.splice(n.indexOf(s),1),-1===n.indexOf(s)&&1===t&&n.push(s),localStorage.setItem("user_listing_settings",JSON.stringify(n))},a.createClient=function(){return i.a.createElement("div",null,a.props.history.push("/clients/create"))},a.handleExport=function(e,t){var s="asc"===a.state.sortorder?"desc":"asc",n={page:a.state.page?a.state.page-1:1,pagesize:a.state.pagesize,sortby:a.state.sortby?a.state.sortby:e,sortorder:s,export_type:t,term:a.state.term,letter_key:a.state.letter_key,filter_id:a.state.filterToApply};a.setState({showLoader:!0}),a.props.exportFunction(n)},a.showLoaderFunc=function(){a.setState({showLoadingTextLoader:!0}),localStorage.setItem("showLoadingText",!0)};var s=JSON.parse(localStorage.getItem("languageData")),n=JSON.parse(localStorage.getItem("user_listing_settings")),r=JSON.parse(localStorage.getItem("userData"));window.scrollTo(0,0);var o=localStorage.getItem("cSortBy")?localStorage.getItem("cSortBy"):null,l=localStorage.getItem("cSortOrder")?localStorage.getItem("cSortOrder"):null,c=localStorage.getItem("cLetterKey")?localStorage.getItem("cLetterKey"):null,d=localStorage.getItem("cTerm")?localStorage.getItem("cTerm"):null,u=localStorage.getItem("cFilterID")?localStorage.getItem("cFilterID"):null,p=localStorage.getItem("cFilterName")?localStorage.getItem("cFilterName"):null;return a.state={dateRangePicker:{selection:{startDate:new Date,endDate:new Date,key:"selection"}},to_date:"",from_date:"",showCalendar:!1,clientList:[],cppList:[],getFilters:[],page:1,pagesize:20,sortby:o||"",sortorder:l||"desc",term:d||"",hasMoreItems:!0,next_page_url:"",loadMore:!0,startFresh:!0,showLoader:!1,userChanged:!1,firstname:"",lastname:"",email:!1,phoneNumber:!1,letter_key:c||"",user_image:!1,phoneNumber_2:!1,gender:!1,date_of_birth:!1,address_line_1:!1,address_line_2:!1,city:!1,state:!1,zipcode:!1,country:!1,last_visit:!1,is_fired:!1,nick_name:!1,showFilterModal:!1,showModal2:!1,showModalDelete:!1,filter_name:"",editFilterFlag:!1,tags:[{id:"",text:""}],suggestions:[{id:"",text:""}],defaultOptions:[],selectedOption:null,selectedClinics:[],selectedProducts:[],selectedProvider:[],filterId:"",member_type:"",fired_patient:"",globalLang:s.global,totalClients:0,showDeleteLoading:!0,filterToApply:u||"",filterData:[],userData:n,tabClicked:!1,showLoadingText:!1,reportType:"",expType:"csv",expoType:"xls",showLoadingTextLoader:!1,appliedFilterName:p||"",loggedInUserData:r},a.props.exportEmptyData({}),localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),window.onscroll=function(){var e=parseInt(Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop));window.innerHeight+e===document.documentElement.offsetHeight&&null!=a.state.next_page_url&&a.loadMore()},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e,t=this;this.state.userData.map(function(e,a){"user_image"===e&&(t.state.user_image=!0),"email"===e&&(t.state.email=!0),"phoneNumber"===e&&(t.state.phoneNumber=!0),"phoneNumber_2"===e&&(t.state.phoneNumber_2=!0),"gender"===e&&(t.state.gender=!0),"date_of_birth"===e&&(t.state.date_of_birth=!0),"address_line_1"===e&&(t.state.address_line_1=!0),"address_line_2"===e&&(t.state.address_line_2=!0),"city"===e&&(t.state.city=!0),"state"===e&&(t.state.state=!0),"zipcode"===e&&(t.state.zipcode=!0),"country"===e&&(t.state.country=!0),"last_visit"===e&&(t.state.last_visit=!0),"is_fired"===e&&(t.state.is_fired=!0),"nick_name"===e&&(t.state.nick_name=!0)});var a={params:{page:1,pagesize:this.state.pagesize,sortby:this.state.sortby,sortorder:this.state.sortorder,term:this.state.term,letter_key:this.state.letter_key,filter_id:this.state.filterToApply}};this.state.sortby||delete a.params.sortby;var s=JSON.parse(localStorage.getItem("languageData"));this.setState((e={client_header:s.clients.client_header,client_merge_button:s.clients.client_merge_button,client_recent_view_clients:s.clients.client_recent_view_clients,client_no_filter:s.clients.client_no_filter,client_filter_button:s.clients.client_filter_button,client_reset_button:s.clients.client_reset_button,client_import_export:s.clients.client_import_export,client_export_csv:s.clients.client_export_csv,client_bulk_import:s.clients.client_bulk_import,client_export_excel:s.clients.client_export_excel,client_create_client:s.clients.client_create_client,client_profile_photo:s.clients.client_profile_photo},Object(se.a)(e,"client_export_csv",s.clients.client_export_csv),Object(se.a)(e,"client_bulk_import",s.clients.client_bulk_import),Object(se.a)(e,"client_export_excel",s.clients.client_export_excel),Object(se.a)(e,"client_create_client",s.clients.client_create_client),Object(se.a)(e,"client_profile_photo",s.clients.client_profile_photo),Object(se.a)(e,"client_first_name",s.clients.client_first_name),Object(se.a)(e,"client_last_name",s.clients.client_last_name),Object(se.a)(e,"client_email",s.clients.client_email),Object(se.a)(e,"client_phone_number",s.clients.client_phone_number),Object(se.a)(e,"client_phone2",s.clients.client_phone2),Object(se.a)(e,"client_gender",s.clients.client_gender),Object(se.a)(e,"client_address1",s.clients.client_address1),Object(se.a)(e,"client_address2",s.clients.client_address2),Object(se.a)(e,"client_fired",s.clients.client_fired),Object(se.a)(e,"client_city",s.clients.client_city),Object(se.a)(e,"client_state",s.clients.client_state),Object(se.a)(e,"client_zip",s.clients.client_zip),Object(se.a)(e,"client_country",s.clients.client_country),Object(se.a)(e,"client_visits",s.clients.client_visits),Object(se.a)(e,"client_nick_name",s.clients.client_nick_name),Object(se.a)(e,"client_DOB",s.clients.client_DOB),Object(se.a)(e,"client_alpha_a",s.clients.client_alpha_a),Object(se.a)(e,"client_alpha_b",s.clients.client_alpha_b),Object(se.a)(e,"client_alpha_c",s.clients.client_alpha_c),Object(se.a)(e,"client_alpha_d",s.clients.client_alpha_d),Object(se.a)(e,"client_alpha_e",s.clients.client_alpha_e),Object(se.a)(e,"client_alpha_f",s.clients.client_alpha_f),Object(se.a)(e,"client_alpha_g",s.clients.client_alpha_g),Object(se.a)(e,"client_alpha_h",s.clients.client_alpha_h),Object(se.a)(e,"client_alpha_i",s.clients.client_alpha_i),Object(se.a)(e,"client_alpha_j",s.clients.client_alpha_j),Object(se.a)(e,"client_alpha_k",s.clients.client_alpha_k),Object(se.a)(e,"client_alpha_l",s.clients.client_alpha_l),Object(se.a)(e,"client_alpha_m",s.clients.client_alpha_m),Object(se.a)(e,"client_alpha_n",s.clients.client_alpha_n),Object(se.a)(e,"client_alpha_o",s.clients.client_alpha_o),Object(se.a)(e,"client_alpha_p",s.clients.client_alpha_p),Object(se.a)(e,"client_alpha_q",s.clients.client_alpha_q),Object(se.a)(e,"client_alpha_r",s.clients.client_alpha_r),Object(se.a)(e,"client_alpha_s",s.clients.client_alpha_s),Object(se.a)(e,"client_alpha_t",s.clients.client_alpha_t),Object(se.a)(e,"client_alpha_u",s.clients.client_alpha_u),Object(se.a)(e,"client_alpha_v",s.clients.client_alpha_v),Object(se.a)(e,"client_alpha_w",s.clients.client_alpha_w),Object(se.a)(e,"client_alpha_x",s.clients.client_alpha_x),Object(se.a)(e,"client_alpha_y",s.clients.client_alpha_y),Object(se.a)(e,"client_alpha_z",s.clients.client_alpha_z),Object(se.a)(e,"showLoader",!0),e)),this.props.getAllClients(a),this.props.getClinicsProvidersProducts()}},{key:"shouldComponentUpdate",value:function(e,t){return!!this.state.startFresh||(!!this.state.loadMore||!!this.state.showLoader)}},{key:"render",value:function(){var e=this,t=this.state,a=(t.tags,t.suggestions,t.filterId,[]);void 0!=this.state.defaultClinics&&this.state.defaultClinics.length&&this.state.defaultClinics.map(function(e,t){a.push({value:e.id,label:e.clinic_name})});var s=[];void 0!=this.state.defaultProducts&&this.state.defaultProducts.length&&this.state.defaultProducts.map(function(e,t){s.push({value:e.id,label:e.product_name})});var n=[];return void 0!=this.state.defaultProviders&&this.state.defaultProviders.length&&this.state.defaultProviders.map(function(e,t){var a=e.firstname+" "+e.lastname;n.push({value:e.id,label:a})}),i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement("div",{className:"loader-outer no-display",id:"patient-loader"},i.a.createElement("img",{src:"/images/Eclipse.gif",className:"loader-img"})),i.a.createElement("div",{className:"client-filter"},i.a.createElement("div",{className:"filter-outer"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"total-patients col-sm-4"},i.a.createElement("label",{className:"patient-count"},this.state.client_header,":",i.a.createElement("b",{id:"customers_count"},this.state.totalClients))),i.a.createElement("div",{className:"col-sm-5 text-center srch-outer srch-wid-alpha"},i.a.createElement("div",{className:"navbar-form search search-drop-down"},i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("div",{className:"field-outer search-bg"},i.a.createElement("i",{className:"fas fa-search"}),i.a.createElement("input",{className:"setting-search-input search-key","data-url":"/clients",name:"term",placeholder:"Search",value:this.state.term,onChange:this.handleInputChange,autoComplete:"off"})))),i.a.createElement("div",{className:"search-popup no-display"},i.a.createElement("div",{className:"search-header"},this.state.client_recent_view_clients," ",i.a.createElement("div",{className:"arrow-up"}))),i.a.createElement("div",{className:"filter-count"},this.state.appliedFilterName?this.state.appliedFilterName:this.state.client_no_filter),i.a.createElement("button",{className:"btn btn-default dropdown-toggle",id:"get_filters",type:"button",onClick:this.showFilterModal},i.a.createElement("i",{className:"fa fa-filter"})," ",this.state.client_filter_button),i.a.createElement("button",{className:"btn btn-default dropdown-toggle",onClick:this.onReset,type:"button",id:"reset-filters"},this.state.client_reset_button)),i.a.createElement("div",{className:"col-sm-3 right-create-patient"},i.a.createElement("div",{className:"pull-right"},(Te("export-patients")||Te("import-patients"))&&i.a.createElement("div",{className:"dropdown pull-left"},i.a.createElement("button",{className:"line-btn no-margin",type:"button",id:"dropdownMenu1","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},this.state.client_import_export,i.a.createElement("i",{className:"fas fa-angle-down"})),i.a.createElement("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenu1"},Te("export-patients")&&i.a.createElement("li",null,i.a.createElement("a",{href:"javascript:void(0);",name:"expType",onClick:this.handleExport.bind(this,"id",this.state.expType)},this.state.client_export_csv)),Te("export-patients")&&i.a.createElement("li",null,i.a.createElement("a",{href:"javascript:void(0);",name:"expoType",onClick:this.handleExport.bind(this,"id",this.state.expoType)},this.state.client_export_excel)))),Te("add-update-patients")&&i.a.createElement("a",{className:"blue-btn",onClick:this.createClient},this.state.client_create_client)))),i.a.createElement("div",{className:"dropdown add-field profile-toggler"},i.a.createElement("button",{className:"dropdown-toggle",type:"button","data-toggle":"dropdown"}," +"),i.a.createElement("ul",{className:"dropdown-menu add-field-list"},i.a.createElement("li",null,i.a.createElement("input",{onClick:this.updatePref,onChange:this.handleInputChange,checked:!!this.state.user_image&&"checked",type:"checkbox",id:"user_image",name:"user_image"})," ",i.a.createElement("label",{htmlFor:"user_image"},this.state.client_profile_photo)),i.a.createElement("li",null,i.a.createElement("input",{onClick:this.updatePref,onChange:this.handleInputChange,type:"checkbox",id:"firstname",name:"firstname",defaultChecked:"checked",disabled:"disabled"})," ",i.a.createElement("label",{htmlFor:"firstname"},this.state.client_first_name)),i.a.createElement("li",null,i.a.createElement("input",{onClick:this.updatePref,onChange:this.handleInputChange,type:"checkbox",id:"lastname",name:"lastname",defaultChecked:"checked",disabled:"disabled"})," ",i.a.createElement("label",{htmlFor:"lastname"},this.state.client_last_name)),i.a.createElement("li",null,i.a.createElement("input",{onClick:this.updatePref,onChange:this.handleInputChange,checked:!!this.state.email&&"checked",type:"checkbox",id:"email",name:"email"})," ",i.a.createElement("label",{htmlFor:"email"},this.state.client_email)),i.a.createElement("li",null,i.a.createElement("input",{onClick:this.updatePref,onChange:this.handleInputChange,checked:!!this.state.phoneNumber&&"checked",type:"checkbox",name:"phoneNumber"})," ",i.a.createElement("label",{htmlFor:"phoneNumber"},this.state.client_phone_number)),i.a.createElement("li",null,i.a.createElement("input",{onClick:this.updatePref,onChange:this.handleInputChange,checked:!!this.state.phoneNumber_2&&"checked",type:"checkbox",id:"phoneNumber_2",name:"phoneNumber_2"})," ",i.a.createElement("label",{htmlFor:"phoneNumber_2"},this.state.client_phone2)),i.a.createElement("li",null,i.a.createElement("input",{type:"checkbox",onClick:this.updatePref,onChange:this.handleInputChange,checked:!!this.state.gender&&"checked",id:"gender",name:"gender"})," ",i.a.createElement("label",{htmlFor:"gender"},this.state.client_gender)),i.a.createElement("li",null,i.a.createElement("input",{onClick:this.updatePref,onChange:this.handleInputChange,checked:!!this.state.date_of_birth&&"checked",type:"checkbox",id:"date_of_birth",name:"date_of_birth"})," ",i.a.createElement("label",{htmlFor:"date_of_birth"},this.state.client_DOB)),i.a.createElement("li",null,i.a.createElement("input",{onClick:this.updatePref,onChange:this.handleInputChange,checked:!!this.state.address_line_1&&"checked",type:"checkbox",id:"address_line_1",name:"address_line_1"})," ",i.a.createElement("label",{htmlFor:"address_line_1"},this.state.client_address1)),i.a.createElement("li",null,i.a.createElement("input",{onClick:this.updatePref,onChange:this.handleInputChange,checked:!!this.state.address_line_2&&"checked",type:"checkbox",id:"address_line_2",name:"address_line_2"})," ",i.a.createElement("label",{htmlFor:"address_line_2"},this.state.client_address2)),i.a.createElement("li",null,i.a.createElement("input",{onClick:this.updatePref,onChange:this.handleInputChange,checked:!!this.state.city&&"checked",type:"checkbox",id:"city",name:"city"})," ",i.a.createElement("label",{htmlFor:"city"},this.state.client_city)),i.a.createElement("li",null,i.a.createElement("input",{onClick:this.updatePref,onChange:this.handleInputChange,checked:!!this.state.state&&"checked",type:"checkbox",id:"state",name:"state"})," ",i.a.createElement("label",{htmlFor:"state"},this.state.client_state)),i.a.createElement("li",null,i.a.createElement("input",{onClick:this.updatePref,onChange:this.handleInputChange,checked:!!this.state.zipcode&&"checked",type:"checkbox",id:"zipcode",name:"zipcode"})," ",i.a.createElement("label",{htmlFor:"zipcode"},this.state.client_zip)),i.a.createElement("li",null,i.a.createElement("input",{onClick:this.updatePref,onChange:this.handleInputChange,checked:!!this.state.country&&"checked",type:"checkbox",id:"country",name:"country"})," ",i.a.createElement("label",{htmlFor:"country"},this.state.client_country)),i.a.createElement("li",null,i.a.createElement("input",{onClick:this.updatePref,onChange:this.handleInputChange,checked:!!this.state.last_visit&&"checked",type:"checkbox",id:"last_visit",name:"last_visit"})," ",i.a.createElement("label",{htmlFor:"last_visit"},this.state.client_visits)),i.a.createElement("li",null,i.a.createElement("input",{onClick:this.updatePref,onChange:this.handleInputChange,checked:!!this.state.is_fired&&"checked",type:"checkbox",id:"is_fired",name:"is_fired"})," ",i.a.createElement("label",{htmlFor:"is_fired"},this.state.client_fired)),i.a.createElement("li",null,i.a.createElement("input",{onClick:this.updatePref,onChange:this.handleInputChange,checked:!!this.state.nick_name&&"checked",type:"checkbox",id:"nick_name",name:"nick_name"})," ",i.a.createElement("label",{htmlFor:"nick_name"},this.state.client_nick_name)))),i.a.createElement("ul",{className:"patient-alpha profile-toggler"},i.a.createElement("li",null,i.a.createElement("a",{href:"javascript:void(0);",onClick:function(){return e.onSortAlpha("")},className:""===this.state.letter_key?"letter caps-all alpha-select":"letter caps-all"},"all")),i.a.createElement("li",null,i.a.createElement("a",{href:"javascript:void(0);",onClick:function(){return e.onSortAlpha("a")},className:"a"===this.state.letter_key?"letter alpha-select":void 0!==this.state.activeLetters&&Object.values(this.state.activeLetters).indexOf("a")>-1?"letter":"letter alpha-disable"},this.state.client_alpha_a)),i.a.createElement("li",null,i.a.createElement("a",{href:"javascript:void(0);",onClick:function(){return e.onSortAlpha("b")},className:"b"===this.state.letter_key?"letter alpha-select":void 0!==this.state.activeLetters&&Object.values(this.state.activeLetters).indexOf("b")>-1?"letter":"letter alpha-disable"},this.state.client_alpha_b)),i.a.createElement("li",null,i.a.createElement("a",{href:"javascript:void(0);",onClick:function(){return e.onSortAlpha("c")},className:"c"===this.state.letter_key?"letter alpha-select":void 0!==this.state.activeLetters&&Object.values(this.state.activeLetters).indexOf("c")>-1?"letter":"letter alpha-disable"},this.state.client_alpha_c)),i.a.createElement("li",null,i.a.createElement("a",{href:"javascript:void(0);",onClick:function(){return e.onSortAlpha("d")},className:"d"===this.state.letter_key?"letter alpha-select":void 0!==this.state.activeLetters&&Object.values(this.state.activeLetters).indexOf("d")>-1?"letter":"letter alpha-disable"},this.state.client_alpha_d)),i.a.createElement("li",null,i.a.createElement("a",{href:"javascript:void(0);",onClick:function(){return e.onSortAlpha("e")},className:"e"===this.state.letter_key?"letter alpha-select":void 0!==this.state.activeLetters&&Object.values(this.state.activeLetters).indexOf("e")>-1?"letter":"letter alpha-disable"},this.state.client_alpha_e)),i.a.createElement("li",null,i.a.createElement("a",{href:"javascript:void(0);",onClick:function(){return e.onSortAlpha("f")},className:"f"===this.state.letter_key?"letter alpha-select":void 0!==this.state.activeLetters&&Object.values(this.state.activeLetters).indexOf("f")>-1?"letter":"letter alpha-disable"},this.state.client_alpha_f)),i.a.createElement("li",null,i.a.createElement("a",{href:"javascript:void(0);",onClick:function(){return e.onSortAlpha("g")},className:"g"===this.state.letter_key?"letter alpha-select":void 0!==this.state.activeLetters&&Object.values(this.state.activeLetters).indexOf("g")>-1?"letter":"letter alpha-disable"},this.state.client_alpha_g)),i.a.createElement("li",null,i.a.createElement("a",{href:"javascript:void(0);",onClick:function(){return e.onSortAlpha("h")},className:"h"===this.state.letter_key?"letter alpha-select":void 0!==this.state.activeLetters&&Object.values(this.state.activeLetters).indexOf("h")>-1?"letter":"letter alpha-disable"},this.state.client_alpha_h)),i.a.createElement("li",null,i.a.createElement("a",{href:"javascript:void(0);",onClick:function(){return e.onSortAlpha("i")},className:"i"===this.state.letter_key?"letter alpha-select":void 0!==this.state.activeLetters&&Object.values(this.state.activeLetters).indexOf("i")>-1?"letter":"letter alpha-disable"},this.state.client_alpha_i)),i.a.createElement("li",null,i.a.createElement("a",{href:"javascript:void(0);",onClick:function(){return e.onSortAlpha("j")},className:"j"===this.state.letter_key?"letter alpha-select":void 0!==this.state.activeLetters&&Object.values(this.state.activeLetters).indexOf("j")>-1?"letter":"letter alpha-disable"},this.state.client_alpha_j)),i.a.createElement("li",null,i.a.createElement("a",{href:"javascript:void(0);",onClick:function(){return e.onSortAlpha("k")},className:"k"===this.state.letter_key?"letter alpha-select":void 0!==this.state.activeLetters&&Object.values(this.state.activeLetters).indexOf("k")>-1?"letter":"letter alpha-disable"},this.state.client_alpha_k)),i.a.createElement("li",null,i.a.createElement("a",{href:"javascript:void(0);",onClick:function(){return e.onSortAlpha("l")},className:"l"===this.state.letter_key?"letter alpha-select":void 0!==this.state.activeLetters&&Object.values(this.state.activeLetters).indexOf("l")>-1?"letter":"letter alpha-disable"},this.state.client_alpha_l)),i.a.createElement("li",null,i.a.createElement("a",{href:"javascript:void(0);",onClick:function(){return e.onSortAlpha("m")},className:"m"===this.state.letter_key?"letter alpha-select":void 0!==this.state.activeLetters&&Object.values(this.state.activeLetters).indexOf("m")>-1?"letter":"letter alpha-disable"},this.state.client_alpha_m)),i.a.createElement("li",null,i.a.createElement("a",{href:"javascript:void(0);",onClick:function(){return e.onSortAlpha("n")},className:"n"===this.state.letter_key?"letter alpha-select":void 0!==this.state.activeLetters&&Object.values(this.state.activeLetters).indexOf("n")>-1?"letter":"letter alpha-disable"},this.state.client_alpha_n)),i.a.createElement("li",null,i.a.createElement("a",{href:"javascript:void(0);",onClick:function(){return e.onSortAlpha("o")},className:"o"===this.state.letter_key?"letter alpha-select":void 0!==this.state.activeLetters&&Object.values(this.state.activeLetters).indexOf("o")>-1?"letter":"letter alpha-disable"},this.state.client_alpha_o)),i.a.createElement("li",null,i.a.createElement("a",{href:"javascript:void(0);",onClick:function(){return e.onSortAlpha("p")},className:"p"===this.state.letter_key?"letter alpha-select":void 0!==this.state.activeLetters&&Object.values(this.state.activeLetters).indexOf("p")>-1?"letter":"letter alpha-disable"},this.state.client_alpha_p)),i.a.createElement("li",null,i.a.createElement("a",{href:"javascript:void(0);",onClick:function(){return e.onSortAlpha("q")},className:"q"===this.state.letter_key?"letter alpha-select":void 0!==this.state.activeLetters&&Object.values(this.state.activeLetters).indexOf("q")>-1?"letter":"letter alpha-disable"},this.state.client_alpha_q)),i.a.createElement("li",null,i.a.createElement("a",{href:"javascript:void(0);",onClick:function(){return e.onSortAlpha("r")},className:"r"===this.state.letter_key?"letter alpha-select":void 0!==this.state.activeLetters&&Object.values(this.state.activeLetters).indexOf("r")>-1?"letter":"letter alpha-disable"},this.state.client_alpha_r)),i.a.createElement("li",null,i.a.createElement("a",{href:"javascript:void(0);",onClick:function(){return e.onSortAlpha("s")},className:"s"===this.state.letter_key?"letter alpha-select":void 0!==this.state.activeLetters&&Object.values(this.state.activeLetters).indexOf("s")>-1?"letter":"letter alpha-disable"},this.state.client_alpha_s)),i.a.createElement("li",null,i.a.createElement("a",{href:"javascript:void(0);",onClick:function(){return e.onSortAlpha("t")},className:"t"===this.state.letter_key?"letter alpha-select":void 0!==this.state.activeLetters&&Object.values(this.state.activeLetters).indexOf("t")>-1?"letter":"letter alpha-disable"},this.state.client_alpha_t)),i.a.createElement("li",null,i.a.createElement("a",{href:"javascript:void(0);",onClick:function(){return e.onSortAlpha("u")},className:"u"===this.state.letter_key?"letter alpha-select":void 0!==this.state.activeLetters&&Object.values(this.state.activeLetters).indexOf("u")>-1?"letter":"letter alpha-disable"},this.state.client_alpha_u)),i.a.createElement("li",null,i.a.createElement("a",{href:"javascript:void(0);",onClick:function(){return e.onSortAlpha("v")},className:"v"===this.state.letter_key?"letter alpha-select":void 0!==this.state.activeLetters&&Object.values(this.state.activeLetters).indexOf("v")>-1?"letter":"letter alpha-disable"},this.state.client_alpha_v)),i.a.createElement("li",null,i.a.createElement("a",{href:"javascript:void(0);",onClick:function(){return e.onSortAlpha("w")},className:"w"===this.state.letter_key?"letter alpha-select":void 0!==this.state.activeLetters&&Object.values(this.state.activeLetters).indexOf("w")>-1?"letter":"letter alpha-disable"},this.state.client_alpha_w)),i.a.createElement("li",null,i.a.createElement("a",{href:"javascript:void(0);",onClick:function(){return e.onSortAlpha("x")},className:"x"===this.state.letter_key?"letter alpha-select":void 0!==this.state.activeLetters&&Object.values(this.state.activeLetters).indexOf("x")>-1?"letter":"letter alpha-disable"},this.state.client_alpha_x)),i.a.createElement("li",null,i.a.createElement("a",{href:"javascript:void(0);",onClick:function(){return e.onSortAlpha("y")},className:"y"===this.state.letter_key?"letter alpha-select":void 0!==this.state.activeLetters&&Object.values(this.state.activeLetters).indexOf("y")>-1?"letter":"letter alpha-disable"},this.state.client_alpha_y)),i.a.createElement("li",null,i.a.createElement("a",{href:"javascript:void(0);",onClick:function(){return e.onSortAlpha("z")},className:"z"===this.state.letter_key?"letter alpha-select":void 0!==this.state.activeLetters&&Object.values(this.state.activeLetters).indexOf("z")>-1?"letter":"letter alpha-disable"},this.state.client_alpha_z))),i.a.createElement("table",{className:"table-updated juvly-table desktop-patient-head clients-table profile-toggler"},i.a.createElement("thead",{className:"table-updated-thead desktop-patient-head"},i.a.createElement("tr",null,i.a.createElement("th",{className:this.state.user_image?"table-updated-th  user_image ":"table-updated-th user_image no-display"}," Profile Photo"),i.a.createElement("th",{className:"table-updated-th sorting sortData",onClick:function(){return e.onSort("firstname")},"data-url":"/clients","data-sort":"firstname","data-order":"DESC"},"First Name ",i.a.createElement("i",{className:"asc"===this.state.sortorder&&"firstname"===this.state.sortby?"blue-gray":"desc"===this.state.sortorder&&"firstname"===this.state.sortby?"gray-blue":"gray-gray"})),i.a.createElement("th",{className:"table-updated-th sorting sortData",onClick:function(){return e.onSort("lastname")},"data-url":"/clients","data-sort":"lastname","data-order":"DESC"},"Last Name ",i.a.createElement("i",{className:"asc"===this.state.sortorder&&"lastname"===this.state.sortby?"blue-gray":"desc"===this.state.sortorder&&"lastname"===this.state.sortby?"gray-blue":"gray-gray"})),i.a.createElement("th",{className:this.state.email?"table-updated-th sorting email":"table-updated-th sorting email no-display",onClick:function(){return e.onSort("email")},"data-url":"/clients","data-sort":"email","data-order":"DESC"},"Email ",i.a.createElement("i",{className:"asc"===this.state.sortorder&&"email"===this.state.sortby?"blue-gray":"desc"===this.state.sortorder&&"email"===this.state.sortby?"gray-blue":"gray-gray"})),i.a.createElement("th",{className:this.state.phoneNumber?"table-updated-th  phoneNumber ":"table-updated-th phoneNumber no-display"},"Phone"),i.a.createElement("th",{className:this.state.phoneNumber_2?"table-updated-th  phoneNumber_2 ":"table-updated-th phoneNumber_2 no-display"},"Phone 2"),i.a.createElement("th",{className:this.state.gender?"table-updated-th  gender ":"table-updated-th gender no-display"},"Gender"),i.a.createElement("th",{className:this.state.date_of_birth?"table-updated-th  date_of_birth sorting":"table-updated-th date_of_birth no-display",onClick:function(){return e.onSort("date_of_birth")},"data-url":"/clients","data-sort":"date_of_birth","data-order":"DESC"},"DOB ",i.a.createElement("i",{className:"asc"===this.state.sortorder&&"date_of_birth"===this.state.sortby?"blue-gray":"desc"===this.state.sortorder&&"date_of_birth"===this.state.sortby?"gray-blue":"gray-gray"})),i.a.createElement("th",{className:this.state.address_line_1?"table-updated-th  address_line_1 ":"table-updated-th address_line_1 no-display"},"Address Line 1"),i.a.createElement("th",{className:this.state.address_line_2?"table-updated-th  address_line_2 ":"table-updated-th address_line_2 no-display"}," Address Line 2"),i.a.createElement("th",{className:this.state.city?"table-updated-th  city ":"table-updated-th city no-display"},"City"),i.a.createElement("th",{className:this.state.state?"table-updated-th  state ":"table-updated-th state no-display"},"State"),i.a.createElement("th",{className:this.state.zipcode?"table-updated-th  zipcode ":"table-updated-th zipcode no-display"},"Zip#"),i.a.createElement("th",{className:this.state.country?"table-updated-th  country ":"table-updated-th country no-display"}," Country"),i.a.createElement("th",{className:this.state.last_visit?"table-updated-th  last_visit ":"table-updated-th last_visit no-display"},"Visited"),i.a.createElement("th",{className:this.state.is_fired?"table-updated-th  is_fired ":"table-updated-th is_fired no-display"},"Fired"),i.a.createElement("th",{className:this.state.nick_name?"table-updated-th  nick_name ":"table-updated-th nick_name no-display"},"Nick Name")))))),i.a.createElement("div",{className:"table-responsive patient-responsive clients-table profile-toggler"},i.a.createElement("table",{className:"table-updated juvly-table min-w-1000"},i.a.createElement("thead",{className:"table-updated-thead mobile-patient-head"},i.a.createElement("tr",null,i.a.createElement("th",{className:this.state.user_image?"table-updated-th  user_image ":"table-updated-th user_image no-display"}," Profile Photo"),i.a.createElement("th",{className:"table-updated-th sorting sortData",onClick:function(){return e.onSort("firstname")},"data-url":"/clients","data-sort":"firstname","data-order":"DESC"},"First Name ",i.a.createElement("i",{className:"asc"===this.state.sortorder&&"firstname"===this.state.sortby?"blue-gray":"desc"===this.state.sortorder&&"firstname"===this.state.sortby?"gray-blue":"gray-gray"})),i.a.createElement("th",{className:"table-updated-th sorting sortData",onClick:function(){return e.onSort("lastname")},"data-url":"/clients","data-sort":"lastname","data-order":"DESC"},"Last Name ",i.a.createElement("i",{className:"asc"===this.state.sortorder&&"lastname"===this.state.sortby?"blue-gray":"desc"===this.state.sortorder&&"lastname"===this.state.sortby?"gray-blue":"gray-gray"})),i.a.createElement("th",{className:this.state.email?"table-updated-th sorting email":"table-updated-th sorting email no-display",onClick:function(){return e.onSort("email")},"data-url":"/clients","data-sort":"email","data-order":"DESC"},"Email ",i.a.createElement("i",{className:"asc"===this.state.sortorder&&"email"===this.state.sortby?"blue-gray":"desc"===this.state.sortorder&&"email"===this.state.sortby?"gray-blue":"gray-gray"})),i.a.createElement("th",{className:this.state.phoneNumber?"table-updated-th  phoneNumber ":"table-updated-th phoneNumber no-display"},"Phone"),i.a.createElement("th",{className:this.state.phoneNumber_2?"table-updated-th  phoneNumber_2 ":"table-updated-th phoneNumber_2 no-display"},"Phone 2"),i.a.createElement("th",{className:this.state.gender?"table-updated-th  gender ":"table-updated-th gender no-display"},"Gender"),i.a.createElement("th",{className:this.state.date_of_birth?"table-updated-th  date_of_birth sorting":"table-updated-th date_of_birth no-display",onClick:function(){return e.onSort("date_of_birth")},"data-url":"/clients","data-sort":"date_of_birth","data-order":"DESC"},"DOB ",i.a.createElement("i",{className:"asc"===this.state.sortorder&&"date_of_birth"===this.state.sortby?"blue-gray":"desc"===this.state.sortorder&&"date_of_birth"===this.state.sortby?"gray-blue":"gray-gray"})),i.a.createElement("th",{className:this.state.address_line_1?"table-updated-th  address_line_1 ":"table-updated-th address_line_1 no-display"},"Address Line 1"),i.a.createElement("th",{className:this.state.address_line_2?"table-updated-th  address_line_2 ":"table-updated-th address_line_2 no-display"}," Address Line 2"),i.a.createElement("th",{className:this.state.city?"table-updated-th  city ":"table-updated-th city no-display"},"City"),i.a.createElement("th",{className:this.state.state?"table-updated-th  state ":"table-updated-th state no-display"},"State"),i.a.createElement("th",{className:this.state.zipcode?"table-updated-th  zipcode ":"table-updated-th zipcode no-display"},"Zip#"),i.a.createElement("th",{className:this.state.country?"table-updated-th  country ":"table-updated-th country no-display"}," Country"),i.a.createElement("th",{className:this.state.last_visit?"table-updated-th  last_visit ":"table-updated-th last_visit no-display"},"Visited"),i.a.createElement("th",{className:this.state.is_fired?"table-updated-th  is_fired ":"table-updated-th is_fired no-display"},"Fired"),i.a.createElement("th",{className:this.state.nick_name?"table-updated-th  nick_name ":"table-updated-th nick_name no-display"},"Nick Name"))),i.a.createElement("tbody",{className:"ajax_body"},void 0!==this.state.clientList&&this.state.clientList.map(function(t,a){var s="";s=1==t.is_fired?"Yes":"No";var n="";return n="1"===t.gender?"Female":"0"===t.gender?"Male":(t.gender,"Not disclosed"),i.a.createElement("tr",{key:a,className:"table-updated-tr",onClick:e.getClientDetails.bind(e,t.id)},""!==t.user_image&&""!==t.user_image_url?i.a.createElement("td",{className:e.state.user_image?"table-updated-td ":"table-updated-td no-display"},i.a.createElement("span",{className:"td-user_image"},i.a.createElement("img",{src:t.user_image_url,alt:"client",width:"40px",height:"40px"}),i.a.createElement("br",null))):i.a.createElement("td",{className:e.state.user_image?"table-updated-td ":"table-updated-td no-display"},i.a.createElement("span",{className:"user-profile-img"},i.a.createElement("br",null))),i.a.createElement("td",{className:"table-updated-td break-all"},i.a.createElement("span",{className:"td-clinic-name"},t.firstname)),i.a.createElement("td",{className:"table-updated-td break-all"},i.a.createElement("span",null,t.lastname)),i.a.createElement("td",{className:e.state.email?"table-updated-td break-all":"table-updated-td no-display"},t.email),i.a.createElement("td",{className:e.state.phoneNumber?"table-updated-td break-all":"table-updated-td no-display"},i.a.createElement("span",null,t.phoneNumber,i.a.createElement("br",null))),i.a.createElement("td",{className:e.state.phoneNumber_2?"table-updated-td break-all":"table-updated-td no-display"},i.a.createElement("span",null,t.phoneNumber_2,i.a.createElement("br",null))),i.a.createElement("td",{className:e.state.gender?"table-updated-td keep-all":"table-updated-td no-display"},i.a.createElement("span",null,n,i.a.createElement("br",null))),i.a.createElement("td",{className:e.state.date_of_birth?"table-updated-td ":"table-updated-td no-display"},i.a.createElement("span",null,t.date_of_birth,i.a.createElement("br",null))),i.a.createElement("td",{className:e.state.address_line_1?"table-updated-td ":"table-updated-td no-display"},i.a.createElement("span",null,t.address_line_1,i.a.createElement("br",null))),i.a.createElement("td",{className:e.state.address_line_2?"table-updated-td ":"table-updated-td no-display"},i.a.createElement("span",null,t.address_line_2,i.a.createElement("br",null))),i.a.createElement("td",{className:e.state.city?"table-updated-td ":"table-updated-td no-display"},i.a.createElement("span",null,t.city,i.a.createElement("br",null))),i.a.createElement("td",{className:e.state.state?"table-updated-td ":"table-updated-td no-display"},i.a.createElement("span",null,t.state,i.a.createElement("br",null))),i.a.createElement("td",{className:e.state.zipcode?"table-updated-td ":"table-updated-td no-display"},i.a.createElement("span",null,t.pincode,i.a.createElement("br",null))),i.a.createElement("td",{className:e.state.country?"table-updated-td ":"table-updated-td no-display"},i.a.createElement("span",null,t.country,i.a.createElement("br",null))),i.a.createElement("td",{className:e.state.last_visit?"table-updated-td ":"table-updated-td no-display"},i.a.createElement("span",null,t.last_appointment.length>0?Be(t.last_appointment[0].appointment_datetime):"Never",i.a.createElement("br",null))),i.a.createElement("td",{className:e.state.is_fired?"table-updated-td ":"table-updated-td no-display"},i.a.createElement("span",null,s,i.a.createElement("br",null))),i.a.createElement("td",{className:e.state.nick_name?"table-updated-td ":"table-updated-td no-display"},i.a.createElement("span",null,t.nick_name,i.a.createElement("br",null))))}))),i.a.createElement("div",{className:this.state.clientList.length||!0===this.state.showLoader?"no-record no-display":"no-record client-norecord"},"Sorry, No record found"))),i.a.createElement("div",{className:this.state.showModalDelete?"overlay":""}),i.a.createElement("div",{id:"filterModal",role:"dialog",className:this.state.showModalDelete?"modal fade in displayBlock":"modal fade"},i.a.createElement("div",{className:"modal-dialog"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal",onClick:this.dismissModalDelete},"\xd7"),i.a.createElement("h4",{className:"modal-title",id:"model_title"},"Confirmation required!",this.state.showModalDelete)),i.a.createElement("div",{id:"errorwindow",className:"modal-body add-patient-form filter-patient"},"Are you sure you want to delete this Filter?"),i.a.createElement("div",{className:"modal-footer"},i.a.createElement("div",{className:"col-md-12 text-left",id:"footer-btn"},i.a.createElement("button",{type:"button",className:"btn  logout pull-right","data-dismiss":"modal",onClick:this.dismissModalDelete},"No"),i.a.createElement("button",{type:"button",className:"btn btn-success pull-right m-r-10","data-dismiss":"modal","data-filterid":this.state.filterDeleteId,onClick:this.deleteThisFilter.bind(this)},"Yes")))))),i.a.createElement("div",{className:this.state.showFilterModal?"overlay":""}),i.a.createElement("div",{id:"filterModal",role:"dialog",className:this.state.showFilterModal?"modal fade in displayBlock":"modal fade"},i.a.createElement("div",{className:""},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",null,i.a.createElement("div",{className:this.state.editFilterFlag?"no-display":"modalOverlay allFilters"},i.a.createElement("div",{className:"small-popup-outer client-filter-popup"},i.a.createElement("h4",{className:"modal-title",id:"model_title"},this.state.showFilterModal),i.a.createElement("div",{className:"small-popup-header"},i.a.createElement("div",{className:"popup-name"},"Filter Clients"),i.a.createElement("a",{"data-dismiss":"modal",onClick:this.dismissFilterModal,className:"small-cross"},"\xd7")),i.a.createElement("div",{className:"filter-title"},i.a.createElement("span",{className:"juvly-subtitle"},"Saved Filter"),i.a.createElement("a",{onClick:this.showAddFilterModal,className:"new-blue-btn pull-right"},"New Filter")),i.a.createElement("div",{className:"small-popup-content saved-filter-content"},i.a.createElement("table",{className:"table-updated juvly-table filter-table"},i.a.createElement("tbody",null,void 0!==this.state.getFilters&&this.state.getFilters&&this.state.getFilters.length>0?this.state.getFilters.map(function(t,a){return i.a.createElement("tr",{key:a,className:!0===e.state.showDeleteLoading?"table-updated-tr no-display":"table-updated-tr"},i.a.createElement("td",{className:"table-updated-td Questionnaire-name col-sm-7 col-xs-6"},i.a.createElement("i",{className:"fas fa-filter"}),t.filter_name),i.a.createElement("td",{className:"table-updated-td no-border-left text-right col-sm-5 col-xs-6"},i.a.createElement("a",{className:"easy-link","data-filterid":t.id,onClick:function(){return e.applyThisFilter(t)}},"Apply"),i.a.createElement("a",{className:"easy-link","data-filterid":t.id,onClick:e.editFilter},"Edit"),i.a.createElement("a",{className:"easy-link","data-filterid":t.id,onClick:e.showDeleteFilter},"Delete")))}):i.a.createElement("tr",{className:!0===this.state.showDeleteLoading&&void 0!==this.state.getFilters&&this.state.getFilters&&this.state.getFilters.length>0?"table-updated-tr no-display":"table-updated-tr"},i.a.createElement("td",{colSpan:"2",className:"table-updated-td Questionnaire-name col-sm-7 col-xs-6 text-center"},this.state.showDeleteLoading?"Loading...":"No record found")),i.a.createElement("tr",{className:!0===this.state.showDeleteLoading&&void 0!==this.state.getFilters&&this.state.getFilters&&this.state.getFilters.length>0?"table-updated-tr":"table-updated-tr no-display"},i.a.createElement("td",{colSpan:"2",className:"table-updated-td Questionnaire-name col-sm-7 col-xs-6 text-center"},"Loading..."))))),i.a.createElement("div",{className:"small-popup-footer"}))),i.a.createElement("div",{className:this.state.editFilterFlag?"modalOverlay createEditFilter":"no-display"},i.a.createElement("div",{className:"small-popup-outer client-filter-popup"},i.a.createElement("div",{className:"small-popup-header"},i.a.createElement("h4",{className:"modal-title",id:"model_title"},this.state.showModal2),i.a.createElement("button",{onClick:this.goBack,className:"go-back"},i.a.createElement("i",{className:"fas fa-angle-left"})),i.a.createElement("div",{className:"popup-name"},"Filter Clients")),!1===this.state.showLoadingTextLoader&&i.a.createElement("div",{className:"small-popup-content"},i.a.createElement("div",{className:"juvly-container no-padding-bottom"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"FILTER NAME"),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{onChange:this.handleInputChange,className:!0===this.state.filter_name_Error?"setting-input-box field_error":"setting-input-box",value:this.state.filter_name,type:"text",name:"filter_name",autoComplete:"off"})))),i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"CLIENT TREATED"),i.a.createElement("div",{className:"setting-input-outer",ref:function(t){e.node=t}},i.a.createElement("input",{onChange:this.handleInputChange,name:"patient_treated_date",value:this.state.from_date?Be(this.state.from_date)+"-"+Be(this.state.to_date):"",className:"setting-input-box p-r-40",type:"text",autoComplete:"off"}),i.a.createElement("img",{id:"showPicker",src:hn.a,className:"client-treat-cal"}),i.a.createElement("img",{id:"resetDate",src:_n.a,className:"client-treat-reset"}),this.state.showCalendar&&i.a.createElement(Ia.DateRangePicker,{ranges:[this.state.dateRangePicker.selection],onChange:this.handleRangeChange.bind(this,"dateRangePicker"),className:"CalendarPreviewArea",maxDate:new Date})))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"CLINICS"),i.a.createElement("div",{className:"setting-input-outer search-selected"},i.a.createElement("div",{className:"tag-auto-select"},a&&i.a.createElement(un.a,{onChange:this.handleClinicChange,name:"clinics",value:this.state.selectedClinics,isClearable:!0,isSearchable:!0,options:a,isMulti:!0}))))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"PRODUCT USED"),i.a.createElement("div",{className:"setting-input-outer search-selected"},i.a.createElement("div",{className:"tag-auto-select"},s&&i.a.createElement(un.a,{onChange:this.handleProductChange,name:"product_used",value:this.state.selectedProducts,isClearable:!0,isSearchable:!0,options:s,isMulti:!0}))))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"PROVIDERS"),i.a.createElement("div",{className:"setting-input-outer search-selected"},i.a.createElement("div",{className:"tag-auto-select"},n&&i.a.createElement(un.a,{onChange:this.handleProviderChange,name:"providers",value:this.state.selectedProvider,isClearable:!0,isSearchable:!0,options:n,isMulti:!0}))))),this.state.loggedInUserData&&(this.state.loggedInUserData.user.account_id===Ee.JUVLY_ACC_ID||this.state.loggedInUserData.user.account_id===Ee.CC_ACC_ID)&&i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"MEMBER TYPE"),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("select",{value:this.state.member_type,name:"member_type",onChange:this.handleInputChange,className:"setting-select-box"},i.a.createElement("option",{value:""},"Choose Type"),i.a.createElement("option",{value:"model"},"Model"),i.a.createElement("option",{value:"juvly_member"},"Member"),i.a.createElement("option",{value:"both"},"Both"))))),i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"FIRED CLIENT"),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("div",{className:"basic-checkbox-outer"},i.a.createElement("input",{onChange:this.handleInputChange,id:"yes",className:"basic-form-checkbox",checked:"1"===this.state.fired_patient||1===this.state.fired_patient,value:"1",name:"fired_patient",type:"radio"}),i.a.createElement("label",{className:"basic-form-text",htmlFor:"yes"},"Yes")),i.a.createElement("div",{className:"basic-checkbox-outer"},i.a.createElement("input",{id:"no",className:"basic-form-checkbox",checked:"0"===this.state.fired_patient||0===this.state.fired_patient,value:"0",onChange:this.handleInputChange,name:"fired_patient",type:"radio"}),i.a.createElement("label",{className:"basic-form-text",htmlFor:"no"},"No")))))))),!1===this.state.showLoadingTextLoader&&i.a.createElement("div",{className:"footer-static"},i.a.createElement("a",{className:"new-blue-btn pull-right","data-dismiss":"modal",onClick:this.handleFilterSubmit},"Save & Apply")),this.state.showLoadingTextLoader&&i.a.createElement("div",{className:"text-center text-loading"},"Loading..."))))))),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock clientLoader":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.globalLang.loading_please_wait_text))),i.a.createElement("div",{className:this.state.showLoadingText?"loading-please-wait":"loading-please-wait no-display"},this.state.globalLang.loading_please_wait_text),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(void 0!=e.showLoader&&0==e.showLoader)return{showLoader:!1};if(!0===t.tabClicked)return{tabClicked:!1,clientList:[]};if(void 0!==e.clientList&&void 0!==e.clientList.data&&e.clientList.next_page_url!==t.next_page_url){var a={};return null===t.next_page_url?(localStorage.setItem("sortOnly",!1),a.next_page_url=null):(0===t.clientList.length&&!0===t.startFresh?"false"===localStorage.getItem("sortOnly")?(a.clientList=e.clientList.data,null!==e.clientList.next_page_url?a.page=t.page+1:a.next_page_url=e.clientList.next_page_url,a.startFresh=!1,a.showLoader=!1,a.totalClients=e.clientList.total,a.activeLetters=e.clientList.active_letters,a.showLoadingText=!1):localStorage.setItem("sortOnly",!1):t.clientList!==e.clientList.data&&0!==t.clientList.length&&(a.clientList=Object(oa.a)(t.clientList).concat(Object(oa.a)(e.clientList.data)),a.next_page_url=e.clientList.next_page_url,a.showLoader=!1,a.page=t.page+1,a.showLoadingText=!1),a)}if(void 0!==e.cppList&&200===e.cppList.status&&e.cppList.data!==t.cppList)return{cppList:e.cppList.data,defaultProviders:e.cppList.data.providers,defaultClinics:e.cppList.data.clinics,defaultProducts:e.cppList.data.products,dateRangePicker:{selection:{startDate:new Date,endDate:new Date,key:"selection"}}};if(void 0!==e.cppList&&200!==e.cppList.status&&e.cppList.data!==t.cppList)return{cppList:e.cppList.data,showDeleteLoading:!1,dateRangePicker:{selection:{startDate:new Date,endDate:new Date,key:"selection"}}};var s;if(void 0!==e.getFilters&&void 0!==e.getFilters.data&&200===e.getFilters.status&&e.getFilters.data!==t.getFilters)return s={getFilters:e.getFilters.data,defaultProviders:e.getFilters.data.providers,defaultClinics:e.getFilters.data.clinics,defaultProducts:e.getFilters.data.products,filter_name:"",selectedClinics:[]},Object(se.a)(s,"defaultClinics",[]),Object(se.a)(s,"selectedProducts",[]),Object(se.a)(s,"defaultProducts",[]),Object(se.a)(s,"selectedProvider",[]),Object(se.a)(s,"defaultProviders",[]),Object(se.a)(s,"member_type",""),Object(se.a)(s,"fired_patient",""),Object(se.a)(s,"showDeleteLoading",!1),Object(se.a)(s,"userChanged",!1),s;if(void 0!==e.getFilters&&void 0!==e.getFilters.data&&200!==e.getFilters.status&&e.getFilters.data!==t.getFilters)return{getFilters:e.getFilters.data,showDeleteLoading:!1};if(void 0!==e.getOneFilterData&&void 0!==e.getOneFilterData.data&&e.getOneFilterData.data!==t.getOneFilterData){if("false"==localStorage.getItem("showLoadingText")){var n=e.getOneFilterData.data.clinics.split(","),i=[];void 0!==t.cppList.clinics&&t.cppList.clinics.length&&t.cppList.clinics.map(function(e,t){n.indexOf(e.id.toString())>-1&&i.push({value:e.id,label:e.clinic_name})});var r=e.getOneFilterData.data.product_used.split(","),o=[];void 0!==t.cppList.products&&t.cppList.products.length&&t.cppList.products.map(function(e,t){r.indexOf(e.id.toString())>-1&&o.push({value:e.id,label:e.product_name})});var l=e.getOneFilterData.data.providers.split(","),c=[];void 0!==t.cppList.providers&&t.cppList.providers.length&&t.cppList.providers.map(function(e,t){l.indexOf(e.id.toString())>-1&&c.push({value:e.id,label:e.firstname+e.lastname})});var d="",m="",u=Se()().toDate(),p=Se()().toDate();if(""!==e.getOneFilterData.data.patient_treated_date){var h=e.getOneFilterData.data.patient_treated_date.split("-");h.length>0&&(d=h[0],m=h[1],u=Se()(d).toDate(),p=Se()(m).toDate())}return{filter_name:t.userChanged?t.filter_name:e.getOneFilterData.data.filter_name,member_type:t.userChanged?t.member_type:e.getOneFilterData.data.member_type,fired_patient:t.userChanged?t.fired_patient:e.getOneFilterData.data.fired_patient,patient_treated_date:t.userChanged?t.patient_treated_date:e.getOneFilterData.data.patient_treated_date,selectedClinics:t.userChanged?t.selectedClinics:i,selectedProducts:t.userChanged?t.selectedProducts:o,selectedProvider:t.userChanged?t.selectedProvider:c,from_date:t.userChanged?t.from_date:d,to_date:t.userChanged?t.to_date:m,showLoadingTextLoader:!1,getOneFilterData:e.getOneFilterData.data,dateRangePicker:{selection:{startDate:u,endDate:p,key:"selection"}}}}}else{if(void 0!==e.filterData&&void 0!==e.filterData.data&&201===e.filterData.status&&e.filterData.data!==t.filterData)return{filterData:e.filterData.data,filterToApply:e.filterData.data.id};if(void 0!==e.filterData&&void 0!==e.filterData.data&&200===e.filterData.status&&e.filterData.data!==t.filterDat)return{filterData:e.filterData.data,filterToApply:e.filterData.data.id};if(void 0!==e.filterData&&(201!==e.filterData.status||200!==e.filterData.status)&&e.filterData.data!==t.filterData)return{showLoader:!1,filterData:e.filterData.data}}if(void 0!==e.deleteFilterData&&200===e.deleteFilterData.status&&e.deleteFilterData.data!==t.deleteFilterData)return{deleteFilterData:e.deleteFilterData.data,deleteFilterStatus:e.deleteFilterData.data};if(void 0!==e.deleteFilterData&&200!==e.deleteFilterData.status&&e.deleteFilterData.data!==t.deleteFilterData)return{deleteFilterData:e.deleteFilterData.data,showLoader:!1,deleteFilterStatus:""};if(void 0!==e.exportFunctionCall&&e.exportFunctionCall.data!==t.exportFunctionCall){var g={};return g.exportFunctionCall=e.exportFunctionCall.data,g.showLoader=!1,e.exportFunctionCall.data&&e.exportFunctionCall.data.file&&(window.location.href=e.exportFunctionCall.data.file),g}return null}}]),t}(n.Component);var fn=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData")),a={};if(localStorage.setItem("showLoadingText",!1),"CLIENTS_LIST"===e.ClientsReducer.action)200!==e.ClientsReducer.data.status?(rt.toast.error(t.global[e.ClientsReducer.data.message]),a.showLoader=!1):a.clientList=e.ClientsReducer.data.data;else if("GET_CPP_DATA"===e.ClientsReducer.action)200!==e.ClientsReducer.data.status?(rt.toast.error(t.global[e.ClientsReducer.data.message]),a.cppList=e.ClientsReducer.data):a.cppList=e.ClientsReducer.data;else if("CREATE_FILTER"===e.ClientsReducer.action)201!==e.ClientsReducer.data.status?(rt.toast.error(t.global[e.ClientsReducer.data.message]),a.filterData=e.ClientsReducer.data):(rt.toast.success(t.global[e.ClientsReducer.data.message]),a.filterData=e.ClientsReducer.data);else if("UPDATE_FILTER"===e.ClientsReducer.action)200!==e.ClientsReducer.data.status?(rt.toast.error(t.global[e.ClientsReducer.data.message]),a.filterData=e.ClientsReducer.data):(rt.toast.success(t.global[e.ClientsReducer.data.message]),a.filterData=e.ClientsReducer.data);else if("DELETE_FILTER"===e.ClientsReducer.action)200!==e.ClientsReducer.data.status?(rt.toast.error(t.global[e.ClientsReducer.data.message]),a.deleteFilterData=e.ClientsReducer.data):(rt.toast.success(t.global[e.ClientsReducer.data.message]),a.deleteFilterData=e.ClientsReducer.data);else if("GET_ALL_FILTERS"===e.ClientsReducer.action)200!==e.ClientsReducer.data.status?("record_not_found"!==e.ClientsReducer.data.message&&(rt.toast.error(t.global[e.ClientsReducer.data.message]),a.showLoader=!1),a.getFilters=e.ClientsReducer.data):a.getFilters=e.ClientsReducer.data;else if("GET_ONE_FILTER"===e.ClientsReducer.action)200!==e.ClientsReducer.data.status?(rt.toast.error(t.global[e.ClientsReducer.data.message]),a.showLoader=!1):a.getOneFilterData=e.ClientsReducer.data;else if("EXPORT_FILE"===e.ClientsReducer.action&&200===e.ClientsReducer.data.status)return{exportFunctionCall:e.ClientsReducer.data,timeStamp:new Date};return"EMPTY_DATA"===e.ClientsReducer.action?200!=e.ClientsReducer.data.status?(rt.toast.error(t.global[e.ClientsReducer.data.message]),{}):{}:a},function(e){return Object(c.bindActionCreators)({getAllClients:Cs,createFilter:Ls,getClinicsProvidersProducts:xs,updateFilter:Ts,getAllFilters:Os,getOneFilter:As,deleteFilter:Is,saveClientFields:Rs,exportFunction:nn,exportEmptyData:ln},e)})(vn),bn=a(128),En=a.n(bn),yn=a(314),Nn=a.n(yn),Sn="",Dn="",wn=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).openModal=function(e){var t=e.target.dataset.message,s=e.target.dataset.mtype,n=e.target.dataset.action;if("checkbox"===e.target.type)e.target.checked;a.setState({modalMessage:t,modalAction:n,modalActType:s,showModal:!0,isSliderCheck:""})},a.dismissModal=function(){if("updateDnc"===a.state.modalAction){a.refs.ref_2.checked=!a.refs.ref_2.checked}if("updateFireStatus"===a.state.modalAction){a.refs.ref_1.checked=!a.refs.ref_1.checked}if("updatePatientPortalAccess"===a.state.modalAction){a.refs.ref_3.checked=!a.refs.ref_3.checked}a.setState({modalMessage:"",modalAction:"",modalActType:"",showModal:!1})},a.handleModalAction=function(){a.state.modalAction&&"updateFireStatus"===a.state.modalAction&&a.updateFireStatus(),a.state.modalAction&&"updateDnc"===a.state.modalAction&&a.updateDnc(),a.state.modalAction&&"updatePatientPortalAccess"===a.state.modalAction&&a.updatePatientPortalAccess(),a.state.modalAction&&"deleteClient"===a.state.modalAction&&(a.deleteClient(),a.setState({modalMessage:"",modalAction:"",modalActType:"",showModal:!1,showLoader:!0}))},a.updateFireStatus=function(){a.props.fireClient(a.state.clientID),a.setState({modalMessage:"",modalAction:"",modalActType:"",showModal:!1,showLoader:!0})},a.updateDnc=function(){a.props.doNotCall(a.state.clientID),a.setState({modalMessage:"",modalAction:"",modalActType:"",showModal:!1,showLoader:!0})},a.updatePatientPortalAccess=function(){a.props.changePortaAccess(a.state.clientID),a.setState({modalMessage:"",modalAction:"",modalActType:"",showModal:!1,showLoader:!0})},a.changeTimelinePref=function(e){a.setState({defTimeLine:e}),localStorage.setItem("defTimeLine",e)},a.openProcedureDetail=function(e,t){if(t&&"cosmetic"===t)return i.a.createElement("div",null,a.props.history.push("/clients/procedure/edit/".concat(e,"/").concat(a.state.clientID,"/profile")))},a.viewQuestionnaires=function(e){return i.a.createElement("div",null,a.props.history.push("/clients/".concat(a.state.clientID,"/questionnaire/").concat(e,"/profile")))},a.viewConsents=function(e){return i.a.createElement("div",null,a.props.history.push("/clients/".concat(a.state.clientID,"/consent/").concat(e,"/profile")))},a.runCarousel=function(e){e.preventDefault();for(var t=e.target.parentNode.parentNode.children[0].children[0].childNodes,a=t.length,s=0;s<a;s++)if(t[s].classList.contains("active"))return t[s].classList.remove("active"),s===a-1&&(s=-1),void t[s+1].classList.add("active")},a.viewNotes=function(e){return i.a.createElement("div",null,a.props.history.push("/clients/notes/".concat(e,"/").concat(a.state.clientID,"/profile")))},a.componentDidUpdate=function(e,t){null!==a.state.fireStatus&&""!==a.state.fireStatus&&a.state.fireStatus!==t.fireStatus&&(a.props.getClientDetail(a.state.clientID,a.state.clientScopes),a.setState({showLoader:!0,dncStatus:null,fireStatus:null,portalAccessStatus:null})),null!==a.state.dncStatus&&""!==a.state.dncStatus&&a.state.dncStatus!==t.dncStatus&&(a.props.getClientDetail(a.state.clientID,a.state.clientScopes),a.setState({showLoader:!0,dncStatus:null,fireStatus:null,portalAccessStatus:null})),null!==a.state.portalAccessStatus&&""!==a.state.portalAccessStatus&&a.state.portalAccessStatus!==t.portalAccessStatus&&(a.props.getClientDetail(a.state.clientID,a.state.clientScopes),a.setState({showLoader:!0,dncStatus:null,fireStatus:null,portalAccessStatus:null})),null!==a.state.savedTime&&""!==a.state.savedTime&&a.state.savedTime!==t.savedTime&&(a.props.getClientDetail(a.state.clientID,a.state.clientScopes),a.setState({showLoader:!0,dncStatus:null,fireStatus:null,portalAccessStatus:null,savedTime:null,clicnicForCard:0})),null!==a.state.resendStatus&&""!==a.state.resendStatus&&a.state.resendStatus!==t.resendStatus&&(a.props.getClientDetail(a.state.clientID,a.state.clientScopes),a.setState({showLoader:!0,resendStatus:null})),null!==a.state.resetPortalPasswordStatus&&""!==a.state.resetPortalPasswordStatus&&a.state.resetPortalPasswordStatus!==t.resetPortalPasswordStatus&&(a.props.getClientDetail(a.state.clientID,a.state.clientScopes),a.setState({showLoader:!0,resendStatus:null})),null!==a.state.deleteStatus&&""!==a.state.deleteStatus&&a.state.deleteStatus!==t.deleteStatus&&setTimeout(function(){return i.a.createElement("div",null,this.props.history.push("/clients"))}.bind(Object(ce.a)(Object(ce.a)(a))),1e3)},a.viewTreatMentMarkings=function(e){return i.a.createElement("div",null,a.props.history.push("/clients/treatment-markings/".concat(e,"/").concat(a.state.clientID,"/profile")))},a.showPrescription=function(e){a.setState({showPrescriptionModal:!0})},a.hidePrescription=function(){a.setState({showPrescriptionModal:!1})},a.handleInputChange=function(e){var t,s=e.target,n="checkbox"===s.type?s.checked:s.value;a.setState((t={},Object(se.a)(t,e.target.name,n),Object(se.a)(t,"dataChanged",!0),Object(se.a)(t,"clicnicForCard",0),t))},a.openCCPopUp=function(){var e=a.state.stripe.elements();(Sn=e.create("cardNumber")).mount("#card-number"),e.create("cardExpiry").mount("#card-expiry"),e.create("cardCvc").mount("#card-cvc"),a.props.getClientCardData(a.state.clientID),a.setState({showCCPopup:!0})},a.closeCCPopup=function(){a.setState({showCCPopup:!1,clicnicForCard:0})},a.saveCC=function(){var e=0;void 0!==a.refs.clinicCardRef&&(e=a.refs.clinicCardRef.value),a.state.clicnicForCard&&a.state.clicnicForCard>0&&(e=a.state.clicnicForCard),a.setState({showLoader:!0}),a.state.stripe.createToken(Sn).then(function(t){if(t.error)rt.toast.error(t.error.message),a.setState({showLoader:!1});else if(Dn=t.token.id){var s={clinic_id:e,stripe_token:Dn};a.props.saveClientCard(a.state.clientID,s)}})},a.editSavedCard=function(e){e&&a.setState({clicnicForCard:e,card_clinic:e})},a.cancelEditSavedCard=function(){a.setState({clicnicForCard:0})},a.viewTraceAbility=function(e){return i.a.createElement("div",null,a.props.history.push("/clients/traceability-info/".concat(e,"/").concat(a.state.clientID,"/profile")))},a.getMedicalHistory=function(){return i.a.createElement("div",null,a.props.history.push("/clients/medical-history/".concat(a.state.clientID,"/profile")))},a.getUpcomingAppointments=function(){return i.a.createElement("div",null,a.props.history.push("/clients/upcoming-appointments/".concat(a.state.clientID,"/profile")))},a.getPaymentHistory=function(){return i.a.createElement("div",null,a.props.history.push("/clients/payment-history/".concat(a.state.clientID,"/profile/invoices")))},a.getCustomerNotes=function(){return i.a.createElement("div",null,a.props.history.push("/clients/customer-notes/".concat(a.state.clientID,"/profile")))},a.getClientDocuments=function(){return i.a.createElement("div",null,a.props.history.push("/clients/documents/".concat(a.state.clientID,"/profile")))},a.resendEmail=function(){a.setState({showLoader:!0}),a.props.resendWelcomeEmail(a.state.clientID)},a.showResetPassModal=function(){a.setState({showResetPassModal:!0})},a.dismissPassModal=function(){a.setState({showResetPassModal:!1})},a.changePassType=function(){var e=a.state.resetPassType,t=(a.state.eyeClass,"password"===e),s=t?"text":"password",n=t?"client-treat-cal pass-show":"client-treat-cal pass-hidden";a.setState({resetPassType:s,eyeClass:n})},a.handleSubmit=function(e){e.preventDefault();var t=a.state.clientNewPassword;if(/^(?=.{8,})(?=.*[A-Z])(?=.*[`~*-\/\[\]\\|{}().:;,''""!_<>-@#$%^&+=]).*$/.test(t)){if(void 0!==a.state.clientData&&""!==a.state.clientData.email){a.setState({resetPassClass:"setting-input-box p-r-40",showLoader:!0,showResetPassModal:!1,clientNewPassword:""}),a.refs.clientPass.value="";var s={portal_email:a.state.clientData.email,patient_user_id:void 0!==a.state.clientData.patient_account&&null!==a.state.clientData.patient_account?a.state.clientData.patient_account.patient_user_id:0,portal_password:t};a.props.resetPortalPassword(a.state.clientID,s)}}else a.setState({resetPassClass:"setting-input-box p-r-40 setting-input-box-invalid"})},a.getInvoiceDetails=function(e){return i.a.createElement("div",null,a.props.history.push("/clients/invoice/".concat(e,"/").concat(a.state.clientID,"/profile")))},a.editClienProfile=function(){return i.a.createElement("div",null,a.props.history.push("/clients/".concat(a.state.clientID,"/profile")))},a.deleteClient=function(){a.props.deleteClient(a.state.clientID)},a.createProcedure=function(e){if(console.log(e),e&&"cosmetic"===e)return i.a.createElement("div",null,a.props.history.push("/clients/procedure/add/".concat(a.state.clientID,"/profile")));rt.toast.error("Health timeline and procedures are under development")},a.openClientWallet=function(){return i.a.createElement("div",null,a.props.history.push("/clients/wallet/".concat(a.state.clientID,"/profile")))},a.exportClientPDF=function(){if(a.state.clientID){a.setState({showLoader:!0});var e={patient_id:a.state.clientID};a.props.exportClientPDF(e)}},a.createAppointment=function(){a.state.clientID&&window.open("/appointment/create/"+a.state.clientID)};var s=JSON.parse(localStorage.getItem("languageData")),n=JSON.parse(localStorage.getItem("userData"));return a.state={clientID:a.props.match.params.id,globalLang:s.global,showLoader:!1,clientData:[],userData:n,showModal:!1,modalMessage:"",modalAction:"",modalActType:"",isSliderCheck:!1,defTimeLine:"",appendedImagesData:[],def_no_image_vertical:En.a,fireData:[],fireStatus:null,dncData:[],dncStatus:null,portalAccessData:[],portalAccessStatus:null,showPrescriptionModal:!1,showCCPopup:!1,cardData:[],clicnicForCard:0,savedTime:null,resendStatus:null,showResetPassModal:!1,resetPassClass:"setting-input-box p-r-40",resetPortalPasswordStatus:null,deleteData:[],deleteStatus:null,lightboxIsOpen:!1,currentImage:0,lightboxImage:null,resetPassType:"password",eyeClass:"client-treat-cal pass-hidden"},window.onscroll=function(){return!1},a.closeLightbox=a.closeLightbox.bind(Object(ce.a)(Object(ce.a)(a))),a.gotoImage=a.gotoImage.bind(Object(ce.a)(Object(ce.a)(a))),a.openLightbox=a.openLightbox.bind(Object(ce.a)(Object(ce.a)(a))),a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"openLightbox",value:function(e,t,a){t.preventDefault(),this.setState({currentImage:e,lightboxIsOpen:!0,lightboxImage:a})}},{key:"closeLightbox",value:function(){this.setState({currentImage:0,lightboxIsOpen:!1,lightboxImage:null})}},{key:"gotoImage",value:function(e){this.setState({currentImage:e})}},{key:"componentDidMount",value:function(){var e=this;this.setState({showLoader:!0}),this.state.clientScopes="cardOnFiles,procedures",this.props.getClientDetail(this.state.clientID,this.state.clientScopes),window.Stripe?this.setState({stripe:window.Stripe(Ee.STRIPE_PUBLISHABLE_KEY)}):document.querySelector("#stripe-js").addEventListener("load",function(){e.setState({stripe:window.Stripe(Ee.STRIPE_PUBLISHABLE_KEY)})})}},{key:"render",value:function(){var e,t=this,a="../../../images/user.png",s="",n="",r="",o="",l="",c="",d=[],m="Not Registered",u="",p=!1,h=[],g="",_="";void 0!==this.state.clientData&&""!==this.state.clientData.user_image&&""!==this.state.clientData.user_image_url&&(a=this.state.clientData.user_image_url),e=void 0!==this.state.clientData&&void 0!==this.state.clientData.id?this.state.clientData.firstname+" "+this.state.clientData.lastname:"",void 0!==this.state.clientData&&"juvly_member"===this.state.clientData.member_type&&(s="../../../images/member.png"),void 0!==this.state.clientData&&"model"===this.state.clientData.member_type&&("0"===this.state.clientData.gender?(n="proc-img",s="../../../images/male-model.png"):s="../../../images/female-model.png"),void 0!==this.state.clientData&&"both"===this.state.clientData.member_type&&(_="../../../images/member.png","0"===this.state.clientData.gender?(n="proc-img",s="../../../images/male-model.png"):s="../../../images/female-model.png"),void 0!==this.state.clientData&&1===this.state.clientData.is_fired?("checked",r="Are you sure you want to activate this client?",l="disable"):("",r="Are you sure you want to fire this client?",l="enable"),void 0!==this.state.clientData&&1===this.state.clientData.do_not_call?("checked",o="Are you sure you want to disable do not call for this client?",c="disable"):("",o="Are you sure you want to enable do not call for this client?",c="enable"),void 0!==this.state.clientData&&this.state.clientData.address_line_1&&d.push(this.state.clientData.address_line_1),void 0!==this.state.clientData&&this.state.clientData.address_line_2&&d.push(this.state.clientData.address_line_2),void 0!==this.state.clientData&&this.state.clientData.city&&d.push(this.state.clientData.city),void 0!==this.state.clientData&&this.state.clientData.state&&d.push(this.state.clientData.state),void 0!==this.state.clientData&&this.state.clientData.pincode&&d.push(this.state.clientData.pincode),void 0!==this.state.clientData&&this.state.clientData.country&&d.push(this.state.clientData.country),void 0!==this.state.clientData&&this.state.clientData.is_monthly_membership&&1===this.state.clientData.is_monthly_membership&&(m="Registered",g="Membership savings this year : "+Ie(this.state.clientData.membership_benefits_this_year,"currency")),void 0!==this.state.clientData&&1===this.state.clientData.access_portal?(void 0!==this.state.clientData.patient_account&&null!==this.state.clientData.patient_account&&(p=!0),u="disable"):u="enable",void 0!==this.state.clientData&&this.state.clientData.card_on_files&&this.state.clientData.card_on_files.map(function(e,t){h.push(e.card_number)}),void 0!==this.state.clientData&&void 0!==this.state.clientData.account_prefrences&&null!==this.state.clientData.account_prefrences&&this.state.clientData.account_prefrences.default_template;var v="";void 0!==this.state.cardData.clinics&&this.state.cardData.clinics.length&&(v=this.state.cardData.clinics.map(function(e,a){return i.a.createElement("option",{selected:t.state.clicnicForCard===e.id,key:a,value:e.id},e.clinic_name)}));var f=0,b=!1;return(void 0!==this.state.clientData&&this.state.clientData.referral_source&&""!==this.state.clientData.referral_source.trim()||this.state.clientData.referral_person&&""!==this.state.clientData.referral_person.trim())&&(f=1),(0===f||void 0!==this.state.clientData&&this.state.clientData.address_line_1&&""===this.state.clientData.address_line_1.trim()||this.state.clientData.city&&""===this.state.clientData.city.trim()||this.state.clientData.state&&""===this.state.clientData.state.trim()||this.state.clientData.country&&""===this.state.clientData.country.trim()||""===(this.state.clientData.pincode&&this.state.clientData.pincode.trim()))&&(b=!0),i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement("div",{className:"row duplicate-patient-title"},i.a.createElement("div",{className:"col-sm-3"},i.a.createElement(me.a,{to:"/clients",className:"pull-left go-back go-back-arrow"}),i.a.createElement("span",{className:"patient-count"},"Client Profile")),i.a.createElement("div",{className:"right-create-patient col-sm-9 profile-right"},(Te("view-customer-notes")||Te("view-appointments")||Te("manage-medical-history")||Te("add-update-documents"))&&i.a.createElement("div",{className:"dropdown pull-right more-info-profile-dropdown"},i.a.createElement("button",{className:"line-btn pull-right",type:"button",id:"dropdownMenu1","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true"},"More Info",i.a.createElement("i",{className:"fas fa-angle-down"})),i.a.createElement("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenu1"},Te("view-appointments")&&i.a.createElement("li",null,i.a.createElement("a",{onClick:function(){return t.getUpcomingAppointments()},className:"header-unselect-btn setting"},"Upcoming Appointments ",this.state.clientData.upcoming_appointment_count?"("+this.state.clientData.upcoming_appointment_count+")":"(0)")),Te("manage-medical-history")&&i.a.createElement("li",null,i.a.createElement("a",{onClick:function(){return t.getMedicalHistory()},className:"header-unselect-btn setting modal-link"},"Medical History")),void 0!==this.state.clientData&&null!==this.state.clientData.account&&void 0!==this.state.clientData.account&&1===this.state.clientData.account.pos_enabled&&i.a.createElement("li",null,i.a.createElement("a",{onClick:function(){return t.getPaymentHistory()},className:"header-unselect-btn setting modal-link"},"Payment History")))),Te("view-customer-notes")&&i.a.createElement("a",{className:"blue-btn pull-right",onClick:function(){return t.getCustomerNotes()}},"Customer Notes"),Te("manage-procedures")&&""!==this.state.defTimeLine&&"cosmetic"===this.state.defTimeLine&&i.a.createElement("a",{onClick:function(){return t.createProcedure("cosmetic")},className:"blue-btn pull-right"},"Create Procedure"),Te("manage-procedures")&&""!==this.state.defTimeLine&&"health"===this.state.defTimeLine&&i.a.createElement("a",{onClick:function(){return t.createProcedure("health")},className:"blue-btn pull-right"},"Create Procedure"),void 0!==this.state.clientData&&null!==this.state.clientData.account&&void 0!==this.state.clientData.account&&1===this.state.clientData.account.pos_enabled&&i.a.createElement("a",{onClick:function(){return t.openClientWallet()},className:"blue-btn pull-right"},"Client Wallet"),Te("create-appointment")&&i.a.createElement("a",{onClick:function(){return t.createAppointment()},className:"blue-btn pull-right"},"Create Appointment"))),i.a.createElement("div",{className:"merge-outer row"},void 0!==this.state.clientData&&i.a.createElement("div",{className:"patient-left col-sm-4 merge-info"},i.a.createElement("div",{className:"merge-setion"},i.a.createElement("div",{className:"section-title header-blue"},i.a.createElement("span",{className:"section-title-name"},"Client Information")),!1===this.state.showLoader&&b&&Te("add-update-patients")&&i.a.createElement("div",{className:"profile-header-red"},"Address/Referral Source is missing ",i.a.createElement("a",{onClick:this.editClienProfile},"click here")," to add."),i.a.createElement("div",{className:"pro-pic-outer"},i.a.createElement("img",{src:a}),i.a.createElement("div",{className:"profile-img-info"},i.a.createElement("h3",{className:"break-word-content"},e),i.a.createElement("div",{className:"member-type-outer"},void 0!==this.state.clientData&&"both"===this.state.clientData.member_type&&_&&i.a.createElement("img",{src:_}),void 0!==this.state.userData&&(this.state.userData.user.account_id===Ee.JUVLY_ACC_ID||this.state.userData.user.account_id===Ee.CC_ACC_ID)&&s&&i.a.createElement("img",{className:n,src:s})),i.a.createElement("div",{className:"client-setting"},i.a.createElement("span",null,"Fire This Client"),i.a.createElement("label",{className:"setting-switch pull-right"},i.a.createElement("input",{ref:"ref_1",type:"checkbox",defaultChecked:this.state.clientData.is_fired,"data-message":r,"data-mtype":l,"data-action":"updateFireStatus",name:"fireCheck",className:"setting-custom-switch-input",onClick:this.openModal}),i.a.createElement("span",{className:"setting-slider "}))),i.a.createElement("div",{className:"client-setting"},i.a.createElement("span",null,"Do Not Call"),i.a.createElement("label",{className:"setting-switch pull-right"},i.a.createElement("input",{ref:"ref_2",type:"checkbox",defaultChecked:this.state.clientData.do_not_call,"data-mtype":c,"data-message":o,"data-action":"updateDnc",name:"dncCheck",className:"setting-custom-switch-input",onClick:this.openModal}),i.a.createElement("span",{className:"setting-slider"}))),(Te("add-update-patients")||Te("delete-patients")||Te("export-patients"))&&i.a.createElement("div",{className:"dropdown"},i.a.createElement("button",{className:"line-btn profile-actions no-margin",type:"button",id:"dropdownMenu1","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true"},"Actions",i.a.createElement("i",{className:"fas fa-angle-down"})),i.a.createElement("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenu1"},Te("add-update-patients")&&i.a.createElement("li",null,i.a.createElement("a",{className:"modal-link",onClick:this.editClienProfile},"Edit")),Te("delete-patients")&&i.a.createElement("li",null,i.a.createElement("a",{className:"confirm-model",onClick:this.openModal,"data-message":"Are you sure you want to delete this client?","data-mtype":"delete","data-action":"deleteClient"},"Delete")),Te("export-patients")&&i.a.createElement("li",null,i.a.createElement("a",{onClick:this.exportClientPDF},"Export PDF")))))),i.a.createElement("div",{className:"about-form"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("label",{className:"popup-input-field-name"},"Email"),i.a.createElement("span",{className:"popup-field-box"},void 0!==this.state.clientData&&""!==this.state.clientData.email?this.state.clientData.email:"")),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("label",{className:"popup-input-field-name"},"Phone"),i.a.createElement("span",{className:"popup-field-box"},void 0!==this.state.clientData&&""!==this.state.clientData.phoneNumber?this.state.clientData.phoneNumber:"")),this.state.clientData&&this.state.clientData.email&&i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("label",{className:"popup-input-field-name accessporta-name"},"Access Client Portal"),i.a.createElement("div",{className:"access-portal-allrow"},i.a.createElement("div",{className:"access-portal-row"},i.a.createElement("span",{className:"access-portal-label"},"Invited "),i.a.createElement("label",{className:"setting-switch"},i.a.createElement("input",{ref:"ref_3",type:"checkbox",name:"access_portal","data-message":"Are you sure you want to change this access?","data-mtype":u,"data-action":"updatePatientPortalAccess",className:"setting-custom-switch-input",onClick:this.openModal,defaultChecked:this.state.clientData.access_portal}),i.a.createElement("span",{className:"setting-slider "})),!0===p&&i.a.createElement("button",{onClick:function(){return t.showResetPassModal()},className:"line-btn pull-right restPasPtn",type:"button",id:"reset_portal_btn"},"Reset password")),1===this.state.clientData.access_portal&&i.a.createElement("div",{className:"access-portal-row acc_class"},i.a.createElement("span",{className:"access-portal-label"},"Accepted"),i.a.createElement("span",{className:"access-portal-content pull-i"},!0===p?"Yes":"No"),i.a.createElement("span",{className:"access-portal-content"},!1===p&&i.a.createElement("button",{onClick:function(){return t.resendEmail()},className:"line-btn pull-right",type:"button"},"Resend Email"))),!0===p&&i.a.createElement("div",{className:"access-portal-row login_email_class"},i.a.createElement("span",{className:"access-portal-label"},"Login Email"),i.a.createElement("span",{className:"access-portal-content login_email"},void 0!==this.state.clientData.patient_account&&null!==this.state.clientData.patient_account&&void 0!==this.state.clientData.patient_account.patient_user?this.state.clientData.patient_account.patient_user.email:"N/A")))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("label",{className:"popup-input-field-name"},"Birthday"),i.a.createElement("span",{className:"popup-field-box"},void 0!==this.state.clientData&&""!==this.state.clientData.date_of_birth?this.state.clientData.date_of_birth:"")),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("label",{className:"popup-input-field-name"},"Address"),i.a.createElement("span",{className:"popup-field-box"},d.join())),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("label",{className:"popup-input-field-name"},"EMERGENCY CONTACT NAME"),i.a.createElement("span",{className:"popup-field-box"},void 0!==this.state.clientData&&""!==this.state.clientData.emergency_contact_name?this.state.clientData.emergency_contact_name:"")),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("label",{className:"popup-input-field-name"},"EMERGENCY CONTACT NUMBER"),i.a.createElement("span",{className:"popup-field-box"},void 0!==this.state.clientData&&""!==this.state.clientData.emergency_contact_number?this.state.clientData.emergency_contact_number:"")),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("label",{className:"popup-input-field-name"},"Last Visit"),i.a.createElement("span",{className:"popup-field-box"},void 0!==this.state.clientData&&void 0!==this.state.clientData.last_appointment&&this.state.clientData.last_appointment.length>0?Be(this.state.clientData.last_appointment[0].appointment_datetime):"Never")),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("label",{className:"popup-input-field-name"},"Membership Program"),i.a.createElement("span",{className:"popup-field-box"},m,i.a.createElement("br",null),g)),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("label",{className:"popup-input-field-name"},"Total Sale relationship"),i.a.createElement("span",{className:"popup-field-box"},void 0!==this.state.clientData&&null!==this.state.clientData.total_sale_relationship&&this.state.clientData.total_sale_relationship>0?Ie(this.state.clientData.total_sale_relationship,"currency"):Ie(0,"currency"))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("label",{className:"popup-input-field-name"},"BD Account Number"),i.a.createElement("span",{className:"popup-field-box"},void 0!==this.state.clientData&&""!==this.state.clientData.brilliant_acc_number?this.state.clientData.brilliant_acc_number:"")),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("label",{className:"popup-input-field-name"},"Aspire Account Number"),i.a.createElement("span",{className:"popup-field-box"},void 0!==this.state.clientData&&""!==this.state.clientData.aspire_acc_email?this.state.clientData.aspire_acc_email:"")),void 0!==this.state.clientData&&null!==this.state.clientData.account&&void 0!==this.state.clientData.account&&1===this.state.clientData.account.pos_enabled&&void 0!==this.state.stripe&&i.a.createElement("div",{className:"col-xs-12"},"stripe"===this.state.clientData.account.pos_gateway&&h.length>0?i.a.createElement("div",null,i.a.createElement("label",{className:"popup-input-field-name"},"Credit Card Number"),i.a.createElement("span",null,h.join()),i.a.createElement("a",{className:"setting popup-field-box",onClick:function(){return t.openCCPopUp()}}," Update Card ")):"stripe"===this.state.clientData.account.pos_gateway&&1===this.state.clientData.can_add_card&&i.a.createElement("div",null,i.a.createElement("label",{className:"popup-input-field-name"},"Credit Card Number"),i.a.createElement("a",{onClick:function(){return t.openCCPopUp()},className:"setting popup-field-box"}," Add Credit Card "))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("label",{className:"popup-input-field-name"},"Zip Code"),i.a.createElement("span",{className:"popup-field-box"},void 0!==this.state.clientData&&""!==this.state.clientData.pincode?this.state.clientData.pincode:"")),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("label",{className:"popup-input-field-name"},"Referral Source"),i.a.createElement("span",{className:"popup-field-box"},void 0!==this.state.clientData&&""!==this.state.clientData.referral_source?this.state.clientData.referral_source:"")))))),i.a.createElement("div",{className:!0===this.state.showCCPopup?"modalOverlay":""},i.a.createElement("div",{className:!0===this.state.showCCPopup&&this.state.cardData?"small-popup-outer appointment-detail-main displayBlock":"small-popup-outer appointment-detail-main no-display"},i.a.createElement("div",{className:"small-popup-header"},i.a.createElement("div",{className:"popup-name"},"ADD CREDIT CARD DETAILS"),i.a.createElement("a",{onClick:function(){return t.closeCCPopup()},className:"small-cross"},"\xd7")),i.a.createElement("div",{className:"small-popup-content"},i.a.createElement("div",{className:"juvly-container no-padding-bottom"},void 0!==this.state.cardData&&void 0!==this.state.cardData.cards_data&&this.state.cardData.cards_data.length>0&&this.state.cardData.cards_data.map(function(e,a){return t.state.cardData.stripe_connection&&"global"!==t.state.cardData.stripe_connection?i.a.createElement("div",{key:a,className:"row m-b-20"},i.a.createElement("div",{className:"col-md-3 col-xs-12"},i.a.createElement("div",{className:"bank-account"},e.card_details)),i.a.createElement("div",{className:"col-md-6 col-xs-12"},i.a.createElement("div",{className:"bank-account"},e.clinic_name)),i.a.createElement("div",{className:"col-md-3 col-xs-12"},t.state.clicnicForCard>0&&t.state.clicnicForCard===e.clinic_id?i.a.createElement("a",{onClick:function(){return t.cancelEditSavedCard()},className:"new-blue-btn edit-account set-default-bank-acct credit-edit-btn","data-clinic":e.clinic_id},"Cancel"):i.a.createElement("a",{onClick:function(){return t.editSavedCard(e.clinic_id)},className:"new-white-btn edit-account set-default-bank-acct credit-edit-btn","data-clinic":e.clinic_id},"Edit"))):i.a.createElement("div",{key:a,className:"row m-b-20"},i.a.createElement("div",{className:"col-md-6 col-xs-12"},i.a.createElement("div",{className:"bank-account"},"Saved Card Number")),i.a.createElement("div",{className:"col-md-6 col-xs-12"},i.a.createElement("div",{className:"bank-account"},e.card_details)))}),i.a.createElement("div",{className:"juvly-subtitle m-b-20"},this.state.clicnicForCard>0?"Update Credit Card Information":"Add New Credit Card Information"),i.a.createElement("div",{className:"row"},this.state.cardData.stripe_connection&&"global"!==this.state.cardData.stripe_connection?i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Clinic ",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("select",{ref:"clinicCardRef",className:"setting-select-box",name:"card_clinic",onChange:this.handleInputChange},v))):"",i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Credit Card Number ",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-box",id:"card-number"}))),i.a.createElement("div",{className:"col-sm-4 col-xs-6"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Expiration date ",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-box",id:"card-expiry"}))),i.a.createElement("div",{className:"col-sm-4 col-xs-6"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"CVC ",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-box",id:"card-cvc"})))))),i.a.createElement("div",{className:"footer-static"},i.a.createElement("a",{className:"new-blue-btn pull-right",onClick:function(){return t.saveCC()}},"Save")))),i.a.createElement("div",{className:!0===this.state.showPrescriptionModal?"modalOverlay":""},i.a.createElement("div",{className:!0===this.state.showPrescriptionModal?"small-popup-outer appointment-detail-main displayBlock":"small-popup-outer appointment-detail-main no-display"},i.a.createElement("div",{className:"small-popup-header"},i.a.createElement("div",{className:"popup-name"},"Prescription Details"),i.a.createElement("a",{onClick:function(){return t.hidePrescription()},className:"small-cross"},"\xd7")),i.a.createElement("div",{className:"small-popup-content"},i.a.createElement("div",{className:"juvly-container no-padding-bottom"},i.a.createElement("div",{className:"prescription-content"},i.a.createElement("div",{className:"doc-section"},i.a.createElement("div",{className:"col-xs-12 no-margin"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Medicine Name ",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:"medicineName",className:"setting-input-box",type:"text",autoComplete:"off",onChange:this.handleInputChange})))),i.a.createElement("div",{className:"col-sm-4 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Dosage ",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:"medicineDose",className:"setting-input-box",type:"text",autoComplete:"off",onChange:this.handleInputChange})))),i.a.createElement("div",{className:"col-sm-4 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Frequency "),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:"medicineFrequency",className:"setting-input-box",type:"text",autoComplete:"off",onChange:this.handleInputChange})))),i.a.createElement("div",{className:"col-sm-4 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Duration "),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:"medicineDuration",className:"setting-input-box",type:"text",autoComplete:"off",onChange:this.handleInputChange}))))),i.a.createElement("a",{className:"add-round-btn"},i.a.createElement("span",null,"-"))))))),i.a.createElement("div",{className:"footer-static"},i.a.createElement("a",{className:"new-blue-btn pull-right"},"Save"),i.a.createElement("a",{className:"new-blue-btn pull-right"},"Add More")))),i.a.createElement("div",{className:!0===this.state.showModal?"overlay":""}),i.a.createElement("div",{id:"filterModal",role:"dialog",className:!0===this.state.showModal?"modal fade in displayBlock":"modal fade no-display"},i.a.createElement("div",{className:"modal-dialog"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal",onClick:this.dismissModal},"\xd7"),i.a.createElement("h4",{className:"modal-title"},"Confirmation required!")),i.a.createElement("div",{id:"errorwindow",className:"modal-body add-patient-form filter-patient"},void 0!==this.state.modalMessage?this.state.modalMessage:""),i.a.createElement("div",{className:"modal-footer"},i.a.createElement("div",{className:"col-md-12 text-left"},i.a.createElement("button",{type:"button",className:"btn  logout pull-right","data-dismiss":"modal",onClick:this.dismissModal},"No"),i.a.createElement("button",{type:"button",className:"btn btn-success pull-right m-r-10","data-dismiss":"modal",onClick:this.handleModalAction},"Yes")))))),i.a.createElement("div",{className:!0===this.state.showResetPassModal?"modalOverlay":"modalOverlay no-display"},i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("div",{className:"small-popup-outer"},i.a.createElement("div",{className:"small-popup-header"},i.a.createElement("div",{className:"popup-name"},"Reset Password"),i.a.createElement("a",{onClick:function(){return t.dismissPassModal()},className:"small-cross"},"\xd7")),i.a.createElement("div",{className:"small-popup-content"},i.a.createElement("div",{className:"juvly-container no-padding-bottom"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"User EmailId"),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{className:"setting-input-box",type:"text",name:"clientEmailID",defaultValue:void 0!==this.state.clientData&&""!==this.state.clientData.email?this.state.clientData.email:"",readOnly:!0})))),i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"New Password"),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{ref:"clientPass",className:this.state.resetPassClass,type:this.state.resetPassType,name:"clientNewPassword",onChange:this.handleInputChange}),i.a.createElement("span",{onClick:this.changePassType,className:this.state.eyeClass})))),i.a.createElement("p",{className:"p-text col-xs-12"},"Note: Password must have atleast 1 Special char, 1 uppercase alphabet, 1 lowercase alphabet and 1 number. Minimum length of the password should be 8 characters.")))),i.a.createElement("div",{className:"footer-static"},i.a.createElement("input",{className:"new-blue-btn pull-right",type:"submit",value:"Save"}))))),i.a.createElement("div",{className:"patient-right col-sm-8"},i.a.createElement("div",{className:"merge-setion"},i.a.createElement("ul",{className:"section-title section-tab-outer setting-tabs setting-sub-tabs"},i.a.createElement("li",null,i.a.createElement("a",{href:"javascript:void(0);",onClick:function(){return t.changeTimelinePref("cosmetic")},id:"cosmetic_tab",className:""!==this.state.defTimeLine&&"cosmetic"===this.state.defTimeLine?"section-title-name r section-tab sel-merge-tab":"section-title-name r section-tab","data-title":"Cosmetic"},"Cosmetic Timeline")),i.a.createElement("li",null,i.a.createElement("a",{href:"javascript:void(0);",onClick:function(){return t.changeTimelinePref("health")},id:"health_tab",className:""!==this.state.defTimeLine&&"health"===this.state.defTimeLine?"section-title-name r section-tab sel-merge-tab":"section-title-name r section-tab","data-title":"Health"},"Health Timeline"))),i.a.createElement("div",null," ",i.a.createElement("div",{className:""!==this.state.defTimeLine&&"cosmetic"===this.state.defTimeLine&&void 0!==this.state.clientData&&null!==this.state.clientData.procedure&&void 0!==this.state.clientData.procedure&&this.state.clientData.procedure.length>0?"time-line":"time-line no-display",id:"Cosmetic_Timeline"},void 0!==this.state.clientData&&null!==this.state.clientData.procedure&&void 0!==this.state.clientData.procedure&&this.state.clientData.procedure.length>0&&this.state.clientData.procedure.map(function(e,a){var s=null!==e.procedure.procedure_image_data&&""!==e.procedure.procedure_image_data.patient_image_left_45?e.procedure.procedure_image_data.patient_image_left_45:"",n=null!==e.procedure.procedure_image_data&&""!==e.procedure.procedure_image_data.patient_image_right_45?e.procedure.procedure_image_data.patient_image_right_45:"",r=null!==e.procedure.procedure_image_data&&""!==e.procedure.procedure_image_data.patient_image_front?e.procedure.procedure_image_data.patient_image_front:"",o=null!==e.procedure.procedure_image_data&&""!==e.procedure.procedure_image_data.patient_image_left?e.procedure.procedure_image_data.patient_image_left:"",l=null!==e.procedure.procedure_image_data&&""!==e.procedure.procedure_image_data.patient_image_right?e.procedure.procedure_image_data.patient_image_right:"";return i.a.createElement("div",{key:a,className:"timeline-outer row"},t.state.lightboxImage&&i.a.createElement(Nn.a,{images:[{src:t.state.lightboxImage}],isOpen:t.state.lightboxIsOpen,onClose:t.closeLightbox,preventScroll:!1,showImageCount:!1,backdropClosesModal:!0}),i.a.createElement("div",{className:"col-md-12 procedure-name-time-top"},i.a.createElement("div",{className:"procedure-name-time"},i.a.createElement("div",{className:"procedure-number"},a<9?"0"+ ++a:++a),i.a.createElement("div",{className:"pro-name-section"},Te("manage-procedures")?i.a.createElement("a",{onClick:function(){return t.openProcedureDetail(e.procedure.id,t.state.defTimeLine)},className:"modal-link pro-name"},i.a.createElement("h4",null,e.procedure.procedure_name)):i.a.createElement("a",{className:"modal-link pro-name"},i.a.createElement("h4",null,e.procedure.procedure_name)),i.a.createElement("p",{className:"pro-time"},e.procedure.procedure_date))),i.a.createElement("div",{className:"procedure-edit-btn"},Te("manage-procedures")&&i.a.createElement("a",{onClick:function(){return t.openProcedureDetail(e.procedure.id,t.state.defTimeLine)},className:"modal-link pull-right invoice-btn edit-pro-btn"},"Edit")),e.procedure.invoice_id>0&&e.procedure.pos_invoices&&0===e.procedure.pos_invoices.is_deleted&&"draft"!==e.procedure.pos_invoices.invoice_status&&"canceled"!==e.procedure.pos_invoices.invoice_status?i.a.createElement("h5",{className:"proc-cost"},Ie(e.procedure.total_amount,"currency"),i.a.createElement("a",{onClick:t.getInvoiceDetails.bind(t,e.procedure.pos_invoices.id),className:"modal-link pull-right invoice-btn view-invoice"},"View Invoice")):i.a.createElement("h5",{className:"proc-cost"},"No Invoice")),i.a.createElement("div",{className:"col-md-6 timeline-left"},i.a.createElement("center",null,i.a.createElement("img",{className:"left-big-image",onClick:function(a){return t.openLightbox(0,a,null!==e.procedure.procedure_image_data&&""!==e.procedure.procedure_image_data.patient_image_front_url?e.procedure.procedure_image_data.patient_image_front_url:t.state.def_no_image_vertical)},src:null!==e.procedure.procedure_image_data&&""!==e.procedure.procedure_image_data.patient_image_front_thumb_url?e.procedure.procedure_image_data.patient_image_front_thumb_url:t.state.def_no_image_vertical})),i.a.createElement("div",{className:"timeline-detail"},i.a.createElement("h4",null,"Treatment Summary","laser"!==e.procedure.type&&"coolsculpting"!==e.procedure.type&&Te("manage-tracebility-info")&&i.a.createElement("a",{onClick:function(){return t.viewTraceAbility(e.procedure.id)},className:"modal-link line-btn pull-right trac-info"},"Traceability Info")),i.a.createElement("ul",{className:"treat-sumry profile-treat-sumry no-padding"},void 0!==e.procedure.injection_array&&e.procedure.injection_array.map(function(e,t){return i.a.createElement("li",{key:t},i.a.createElement("label",null,e.product_name)," ",i.a.createElement("span",null,e.quantity?Ie(e.quantity,"decimal"):""," ",e.unit))}),void 0!==e.procedure.injection_array&&0===e.procedure.injection_array.length&&i.a.createElement("li",null,i.a.createElement("label",{className:"sorry-no-record"},"Sorry, No record found "))),i.a.createElement("div",{className:"tracbi-outer"},i.a.createElement("div",{className:"provder-md"},i.a.createElement("h5",null,i.a.createElement("label",{className:"popup-input-field-name"},"Provider")," ",i.a.createElement("span",{className:"popup-field-box"}," ",e.procedure.doctor_name?e.procedure.doctor_name:"N/A")))),4===t.state.userData.user.user_role_id&&i.a.createElement("div",{className:"tracbi-outer"},i.a.createElement("div",{className:"provder-md"},0===e.procedure.md_signed?i.a.createElement("h5",null,i.a.createElement("label",{className:1===e.procedure.sent_to_md&&e.procedure.md_user_id===t.state.userData.user.id?"popup-input-field-name loggedUserSign":"popup-input-field-name"},"MD Consent")," ",i.a.createElement("span",{className:"popup-field-box"}," Not Signed")):i.a.createElement("h5",null,i.a.createElement("label",{className:"popup-input-field-name"},"MD consent")," ",i.a.createElement("span",{className:"popup-field-box"}," Signed")))),i.a.createElement("div",null,null!==e.procedure.consent_ids&&""!==e.procedure.consent_ids?i.a.createElement("a",{onClick:function(){return t.viewConsents(e.procedure.id)},className:"line-btn pull-left sign-fill"},"Consents Signed",i.a.createElement("img",{src:"../../../images/check-icon-new.png"})):i.a.createElement("a",{className:"line-btn pull-left sign-fill"},"Consents Signed",i.a.createElement("img",{src:"../../../images/cross-icon-new.png"})),e.procedure.answers_count>0||e.procedure.answer_multiples_count>0?i.a.createElement("a",{onClick:function(){return t.viewQuestionnaires(e.procedure.id)},className:"line-btn pull-left sign-fill"},"Questionnaires Filled",i.a.createElement("img",{src:"../../../images/check-icon-new.png"})):i.a.createElement("a",{className:"line-btn pull-left sign-fill"},"Questionnaires Filled",i.a.createElement("img",{src:"../../../images/cross-icon-new.png"}))))),i.a.createElement("div",{className:"col-md-6 timeline-right"},i.a.createElement("div",{className:"carousel slide","data-ride":"carousel","data-interval":"false"},i.a.createElement("div",{className:"carousel-inner"},i.a.createElement("div",{className:"item active"},i.a.createElement("div",{className:"right-images"},i.a.createElement("div",{className:"images-half"},i.a.createElement("img",{onClick:function(a){return t.openLightbox(0,a,null!==e.procedure.procedure_image_data&&""!==e.procedure.procedure_image_data.patient_image_left_45_url?e.procedure.procedure_image_data.patient_image_left_45_url:t.state.def_no_image_vertical)},src:null!==e.procedure.procedure_image_data&&""!==e.procedure.procedure_image_data.patient_image_left_45_thumb_url?e.procedure.procedure_image_data.patient_image_left_45_thumb_url:t.state.def_no_image_vertical})),i.a.createElement("div",{className:"images-half pull-right"},i.a.createElement("img",{onClick:function(a){return t.openLightbox(0,a,null!==e.procedure.procedure_image_data&&""!==e.procedure.procedure_image_data.patient_image_right_45_url?e.procedure.procedure_image_data.patient_image_right_45_url:t.state.def_no_image_vertical)},src:null!==e.procedure.procedure_image_data&&""!==e.procedure.procedure_image_data.patient_image_right_45_thumb_url?e.procedure.procedure_image_data.patient_image_right_45_thumb_url:t.state.def_no_image_vertical})),i.a.createElement("div",{className:"coolsculpting"!==e.procedure.type&&"laser"!==e.procedure.type&&""!==s&&""!==n&&""!==r&&""!==e.procedure.combined_image_45&&null!==e.procedure.combined_image_45?"images-full":"images-full no-display"},i.a.createElement("img",{onClick:function(a){return t.openLightbox(0,a,null!==e.procedure.procedure_image_data&&e.procedure.combined_image_45?e.procedure.combined_image_45:t.state.def_no_image_vertical)},src:e.procedure.combined_image_45})))),i.a.createElement("div",{className:"item"},i.a.createElement("div",{className:"right-images"},i.a.createElement("div",{className:"images-half"},i.a.createElement("img",{onClick:function(a){return t.openLightbox(0,a,null!==e.procedure.procedure_image_data&&""!==e.procedure.procedure_image_data.patient_image_left_url?e.procedure.procedure_image_data.patient_image_left_url:t.state.def_no_image_vertical)},src:null!==e.procedure.procedure_image_data&&""!==e.procedure.procedure_image_data.patient_image_left_thumb_url?e.procedure.procedure_image_data.patient_image_left_thumb_url:t.state.def_no_image_vertical})),i.a.createElement("div",{className:"images-half pull-right"},i.a.createElement("img",{onClick:function(a){return t.openLightbox(0,a,null!==e.procedure.procedure_image_data&&""!==e.procedure.procedure_image_data.patient_image_right_url?e.procedure.procedure_image_data.patient_image_right_url:t.state.def_no_image_vertical)},src:null!==e.procedure.procedure_image_data&&""!==e.procedure.procedure_image_data.patient_image_right_thumb_url?e.procedure.procedure_image_data.patient_image_right_thumb_url:t.state.def_no_image_vertical})),i.a.createElement("div",{className:"coolsculpting"!==e.procedure.type&&""!==o&&""!==l&&""!==r&&""!==e.procedure.combined_image&&null!==e.procedure.combined_image?"images-full":"images-full no-display"},i.a.createElement("img",{onClick:function(a){return t.openLightbox(0,a,null!==e.procedure.procedure_image_data&&e.procedure.combined_image?e.procedure.combined_image:t.state.def_no_image_vertical)},src:e.procedure.combined_image})))),"coolsculpting"===e.procedure.type&&i.a.createElement("div",{className:"item"},i.a.createElement("div",{className:"right-images"},i.a.createElement("div",{className:"images-half"},i.a.createElement("img",{onClick:function(a){return t.openLightbox(0,a,null!==e.procedure.procedure_image_data&&""!==e.procedure.procedure_image_data.patient_image_back_left_45_url?e.procedure.procedure_image_data.patient_image_back_left_45_url:t.state.def_no_image_vertical)},src:null!==e.procedure.procedure_image_data&&""!==e.procedure.procedure_image_data.patient_image_back_left_45_thumb_url?e.procedure.procedure_image_data.patient_image_back_left_45_thumb_url:t.state.def_no_image_vertical})),i.a.createElement("div",{className:"images-half pull-right"},i.a.createElement("img",{onClick:function(a){return t.openLightbox(0,a,null!==e.procedure.procedure_image_data&&""!==e.procedure.procedure_image_data.patient_image_back_right_45_url?e.procedure.procedure_image_data.patient_image_back_right_45_url:t.state.def_no_image_vertical)},src:null!==e.procedure.procedure_image_data&&""!==e.procedure.procedure_image_data.patient_image_back_right_45_thumb_url?e.procedure.procedure_image_data.patient_image_back_right_45_thumb_url:t.state.def_no_image_vertical})),i.a.createElement("div",{className:"images-full"},i.a.createElement("img",{onClick:function(a){return t.openLightbox(0,a,null!==e.procedure.procedure_image_data&&""!==e.procedure.procedure_image_data.patient_image_back_url?e.procedure.procedure_image_data.patient_image_back_url:t.state.def_no_image_vertical)},src:null!==e.procedure.procedure_image_data&&""!==e.procedure.procedure_image_data.patient_image_back_thumb_url?e.procedure.procedure_image_data.patient_image_back_thumb_url:t.state.def_no_image_vertical})))),"laser"===e.procedure.type&&i.a.createElement("div",{className:"item"},i.a.createElement("div",{className:"right-images"},i.a.createElement("div",{className:"images-half"},i.a.createElement("img",{onClick:function(a){return t.openLightbox(0,a,null!==e.procedure.procedure_image_data&&""!==e.procedure.procedure_image_data.patient_image_back_left_45_url?e.procedure.procedure_image_data.patient_image_back_left_45_url:t.state.def_no_image_vertical)},src:null!==e.procedure.procedure_image_data&&""!==e.procedure.procedure_image_data.patient_image_back_left_45_thumb_url?e.procedure.procedure_image_data.patient_image_back_left_45_thumb_url:t.state.def_no_image_vertical})),i.a.createElement("div",{className:"images-half pull-right"},i.a.createElement("img",{onClick:function(a){return t.openLightbox(0,a,null!==e.procedure.procedure_image_data&&""!==e.procedure.procedure_image_data.patient_image_back_right_45_url?e.procedure.procedure_image_data.patient_image_back_right_45_url:t.state.def_no_image_vertical)},src:null!==e.procedure.procedure_image_data&&""!==e.procedure.procedure_image_data.patient_image_back_right_45_thumb_url?e.procedure.procedure_image_data.patient_image_back_right_45_thumb_url:t.state.def_no_image_vertical})),i.a.createElement("div",{className:"images-full"},i.a.createElement("img",{onClick:function(a){return t.openLightbox(0,a,null!==e.procedure.procedure_image_data&&""!==e.procedure.procedure_image_data.patient_image_back_url?e.procedure.procedure_image_data.patient_image_back_url:t.state.def_no_image_vertical)},src:null!==e.procedure.procedure_image_data&&""!==e.procedure.procedure_image_data.patient_image_back_thumb_url?e.procedure.procedure_image_data.patient_image_back_thumb_url:t.state.def_no_image_vertical})))))),i.a.createElement("div",{className:"trac-right-btn-outer"},Te("view-procedure-notes")&&i.a.createElement("a",{onClick:function(){return t.viewNotes(e.procedure.id)},className:"modal-link line-btn pull-left"},"View Notes (",void 0!==e.procedure.procedure_notes&&e.procedure.procedure_notes.length>0?e.procedure.procedure_notes.length:0,")"),i.a.createElement("a",{onClick:t.runCarousel,className:"line-btn pull-right"},"More Photos (",e.procedure.total_image_count,")"),i.a.createElement("a",{onClick:function(){return t.viewTreatMentMarkings(e.procedure.id)},className:"line-btn marketing-photo modal-link"},"View treatment markings"))))})),i.a.createElement("div",{className:void 0!==this.state.clientData&&void 0!==this.state.clientData.procedure&&this.state.clientData.procedure.length>0?"no-record no-display":void 0!==this.state.clientData&&void 0!==this.state.clientData.procedure&&0===this.state.clientData.procedure.length&&"cosmetic"===this.state.defTimeLine?"no-record":"no-record no-display"},"Sorry, No record found")),i.a.createElement("div",null," ",i.a.createElement("div",{className:""!==this.state.defTimeLine&&"health"===this.state.defTimeLine&&void 0!==this.state.clientData&&void 0!==this.state.clientData.procedure_template&&this.state.clientData.procedure_template.length>0?"time-line under-dev":"time-line no-display",id:"Health_Timeline"}),i.a.createElement("div",{className:"health"===this.state.defTimeLine?"no-record":"no-record no-display"},"This tab is under development")))))),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock clientLoader clientProfileLoader":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.globalLang.loading_please_wait_text))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(void 0!==e.clientData&&200===e.clientData.status&&e.clientData.data!==t.clientData)return{clientData:e.clientData.data,showLoader:!1,defTimeLine:null!==localStorage.getItem("defTimeLine")&&""!==localStorage.getItem("defTimeLine")?localStorage.getItem("defTimeLine"):e.clientData.data.account_prefrences.default_template};if(void 0!==e.fireData&&200===e.fireData.status&&e.fireData.data!==t.fireData)return{fireData:e.fireData,fireStatus:e.fireData.message};if(void 0!==e.dncData&&200===e.dncData.status&&e.dncData.data!==t.dncData)return{dncData:e.dncData,dncStatus:e.dncData.message};if(void 0!==e.portalAccessData&&200===e.portalAccessData.status&&e.portalAccessData.data!==t.portalAccessData)return{portalAccessData:e.portalAccessData,portalAccessStatus:e.portalAccessData.message};if(void 0!==e.cardData&&200===e.cardData.status&&e.cardData.data!==t.cardData)return{cardData:e.cardData.data};if(void 0!==e.saveCCData&&200===e.saveCCData.status&&e.saveCCData.data!==t.saveCCData)return{savedTime:e.saveCCData.data,showCCPopup:!1};if(void 0!==e.saveCCData&&200!==e.saveCCData.status)return{showLoader:!1};if(void 0!==e.resendEmailData&&200===e.resendEmailData.status&&e.resendEmailData.data!==t.resendEmailData)return{resendEmailData:e.resendEmailData.data,resendStatus:e.resendEmailData.data};if(void 0!==e.resetPortalPasswordData&&200===e.resetPortalPasswordData.status&&e.resetPortalPasswordData.data!==t.resetPortalPasswordData)return{resetPortalPasswordData:e.resetPortalPasswordData.data,resetPortalPasswordStatus:e.resetPortalPassword.data};if(void 0!==e.deleteData&&200===e.deleteData.status&&e.deleteData.data!==t.deleteData)return{deleteData:e.deleteData.data,deleteStatus:e.deleteData.data};if(void 0!==e.exportClientPDFData&&200===e.exportClientPDFData.status&&e.exportClientPDFData.data!==t.exportClientPDFData){var a={};return a.exportClientPDFData=e.exportClientPDFData.data,a.showLoader=!1,e.exportClientPDFData.data&&e.exportClientPDFData.data.file&&window.open(e.exportClientPDFData.data.file),a}return void 0!==e.exportClientPDFData&&200!==e.exportClientPDFData.status&&e.exportClientPDFData.data!==t.exportClientPDFData?{showLoader:!1,exportClientPDFData:e.exportClientPDFData.data}:null}}]),t}(n.Component);var Cn=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData")),a={};return"GET_CLIENT_DETAIL"===e.ClientsReducer.action&&(200!==e.ClientsReducer.data.status?rt.toast.error(t.global[e.ClientsReducer.data.message]):a.clientData=e.ClientsReducer.data),"FIRE_CLIENT"===e.ClientsReducer.action&&(200!==e.ClientsReducer.data.status?rt.toast.error(t.global[e.ClientsReducer.data.message]):(a.fireData=e.ClientsReducer.data,rt.toast.success(t.global[e.ClientsReducer.data.message]))),"DNC_CLIENT"===e.ClientsReducer.action&&(200!==e.ClientsReducer.data.status?rt.toast.error(t.global[e.ClientsReducer.data.message]):(a.dncData=e.ClientsReducer.data,rt.toast.success(t.global[e.ClientsReducer.data.message]))),"CHANGE_PORTAL_CLIENT"===e.ClientsReducer.action&&(200!==e.ClientsReducer.data.status?"third_party_error"===e.ClientsReducer.data.message?rt.toast.error(e.ClientsReducer.data.data):rt.toast.error(t.global[e.ClientsReducer.data.message]):(a.portalAccessData=e.ClientsReducer.data,rt.toast.success(t.global[e.ClientsReducer.data.message]))),"GET_CLIENT_CARDS"===e.ClientsReducer.action&&(200!==e.ClientsReducer.data.status?rt.toast.error(t.global[e.ClientsReducer.data.message]):a.cardData=e.ClientsReducer.data),"SAVE_CLIENT_CARD"===e.ClientsReducer.action&&(200!==e.ClientsReducer.data.status?("third_party_error"===e.ClientsReducer.data.message?rt.toast.error(e.ClientsReducer.data.data):rt.toast.error(t.global[e.ClientsReducer.data.message]),a.saveCCData=[]):(a.saveCCData=e.ClientsReducer.data,rt.toast.success(t.global[e.ClientsReducer.data.message]))),"RESEND_WELCOME_EMAIL"===e.ClientsReducer.action&&(200!==e.ClientsReducer.data.status?(rt.toast.error(t.global[e.ClientsReducer.data.message]),a.showLoader=!1):(a.resendEmailData=e.ClientsReducer.data,rt.toast.success(t.global[e.ClientsReducer.data.message]))),"RESET_CLIENT_PORTAL_PASSWORD"===e.ClientsReducer.action&&(200!==e.ClientsReducer.data.status?(rt.toast.error(t.global[e.ClientsReducer.data.message]),a.showLoader=!1):(a.resetPortalPasswordData=e.ClientsReducer.data,rt.toast.success(t.global[e.ClientsReducer.data.message]))),"DELETE_CLIENT"===e.ClientsReducer.action&&(200!==e.ClientsReducer.data.status?rt.toast.error(t.global[e.ClientsReducer.data.message]):(rt.toast.success(t.global[e.ClientsReducer.data.message]),a.deleteData=e.ClientsReducer.data)),"EXPORT_CLIENT_PDF"===e.ClientsReducer.action&&(200!==e.ClientsReducer.data.status?(rt.toast.error(t.global[e.ClientsReducer.data.message]),a.exportClientPDFData=e.ClientsReducer.data):a.exportClientPDFData=e.ClientsReducer.data),a},function(e){return Object(c.bindActionCreators)({getClientDetail:ks,fireClient:Ps,doNotCall:js,changePortaAccess:Ms,getClientCardData:Us,saveClientCard:Fs,resendWelcomeEmail:qs,resetPortalPassword:Ys,deleteClient:Vs,exportClientPDF:rn},e)})(wn),xn=a(47),Ln=(a(96),function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).reInit=function(e){a.dropzone.removeFile(e.dzImgObj),a.dropzone.options.addedfile.call(a.dropzone,e.mockFile),a.dropzone.options.thumbnail.call(a.dropzone,e.mockFile,e[a.props.fileUrl]),a.dropzone.emit("complete",e.mockFile),""==a.props[a.props.fileUrl]?a.props.handleChildChange(Object(se.a)({},a.props.uploadedFileName,"")):a.props.handleChildChange(Object(se.a)({},a.props.uploadedFileName,e[a.props.uploadedFileName]))},a.state={defImageCls:"no-display",cameraInPreviewCls:"camra-icon dz-clickable no-image",uploadedFile:"",dzImgObj:a.props.dzImgObj,logo_url:"",dzCSS:""},a.componentConfig={showFiletypeIcon:!0,postUrl:Ee.API_URL+"media/upload?upload_type="+a.props.type,uploadType:a.props.type},a.djsConfig={addRemoveLinks:!0,autoProcessQueue:!0,acceptedFiles:"image/jpeg,image/png,image/gif",clickable:".camra-icon",method:"POST",headers:{"access-token":xe()}},a.callback=function(e){"image/png"!=e.type&&"image/jpg"!=e.type&&"image/jpeg"!=e.type&&"image/gif"!=e.type?rt.toast.error("This file type is not allowed!"):a.props.handleChildChange({defImageCls:"no-display",cameraInPreviewCls:"camra-icon dz-clickable camera-in-preview",dzImgObj:e,dzCSS:""})},a.success=function(e){var t=JSON.parse(localStorage.getItem("languageData")),s=JSON.parse(e.xhr.response);rt.toast.dismiss(),"200"==s.status?a.props.handleChildChange(Object(se.a)({uploadedFile:s.data.file_name,dzImgObj:e},a.props.uploadedFileName,s.data.file_name)):rt.toast.error(t.global[s.message])},a.removedfile=function(e){a.props.handleChildChange(Object(se.a)({},a.props.uploadedFileName,""))},a.dropzone=null,a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"render",value:function(){var e=this,t=this.componentConfig,a=this.djsConfig,s={name:this.props[this.props.fileUrl],accepted:!0,size:7627},n="",r="",o="";""==this.props[this.props.uploadedFileName]||null==this.props[this.props.uploadedFileName]?("",n="",r="camra-icon dz-clickable no-image",o="no-dz-image"):(n="no-display",r="camra-icon dz-clickable camera-in-preview",o="");var l={init:function(t){e.dropzone=t,t.options.addedfile.call(t,s),t.options.thumbnail.call(t,s,e.props[e.props.fileUrl]),t.emit("complete",s)},addedfile:this.callback,success:this.success,removedfile:this.removedfile};return i.a.createElement("div",{className:this.props.containerClass},i.a.createElement("img",{className:n,src:this.props.defLogo}),i.a.createElement("div",{className:r},i.a.createElement("i",{className:"fas fa-camera"})),i.a.createElement(dn.a,{config:t,eventHandlers:l,djsConfig:a,className:o}))}}]),t}(i.a.Component)),On=a(82),An=a.n(On),Tn=function(){return{phoneNumber:"",phoneNumberError:!1,phoneNumberClass:"setting-input-box"}},In=function(){return{email:"",emailError:!1,emailClass:"setting-input-box"}},Rn=function(e){return Se()(e).format("YYYY-MM-DD")},kn=function(e){return void 0!=typeof e&&null!=e&&""!=e},Pn=function(e){return void 0!=typeof e&&null!=e?e:""},jn=function(e){function t(e){var a,s;Object(ne.a)(this,t),(s=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleClick=function(e){s.refDatePickerContainer.contains(e.target)||(s.refDatePicker.setOpen(!1),s.setState({showDatePicker:!1}))},s.handleDatePicker=function(e){s.setState({selectedPickerDate:e,showDatePicker:!1,userChanged:!0}),s.refDatePicker.setOpen(!1)},s.resetDatePicker=function(){s.setState({selectedPickerDate:"",showDatePicker:!0,userChanged:!0}),s.toggleDatePicker()},s.blurDatePicker=function(e){s.refDatePicker.setOpen(!0),s.setState({showDatePicker:!0,userChanged:!0})},s.focusDatePicker=function(e){s.setState({showDatePicker:!0})},s.toggleDatePicker=function(){s.setState({showDatePicker:!0}),s.refDatePicker.setFocus(!0),s.refDatePicker.setOpen(!0)},s.phoneNumberChanged=function(e,t,a,n,i){s.setState({userChanged:!0}),e=e.split("_");var r=i.replace(/[ `~!@#$%^&*()_|\-=?;:'",.<>\{\}\[\]\\\/]/gi,""),o=!0,l="setting-input-box setting-input-box-invalid";if(t&&(o=!1,l="setting-input-box"),e.length>1){var c=s.state.additionalPhoneNumber;c[e[1]].phoneNumber=r,c[e[1]].phoneNumberError=o,c[e[1]].phoneNumberClass=l,s.setState(c)}else{var d;s.setState((d={},Object(se.a)(d,e[0],r),Object(se.a)(d,e[0]+"Error",o),Object(se.a)(d,e[0]+"Class",l),d))}},s.handleChildChange=function(e){s.setState(e)},s.handleInputChange=function(e){s.setState({userChanged:!0});var t=e.target,a=t.value,n=t.name;switch(t.type){case"checkbox":a=t.checked;break;case"radio":a=t.value;break;case"file":a=t.files[0]}if("additional_email"==n){var i=e.target.dataset.index,r=s.state.additionalEmail;r[i].email=a,s.setState(r)}else s.setState(Object(se.a)({},e.target.name,a))},s.handleSubmit=function(e){e.preventDefault();var t={},a=[],n=[],i=!1,r=!1,o=!1;if(void 0==typeof s.state.firstname||null==s.state.firstname||""==s.state.firstname?(s.setState({firstNameClass:"setting-input-box field_error"}),i=!0):s.state.firstname&&s.setState({firstNameClass:"setting-input-box"}),void 0==typeof s.state.lastname||null==s.state.lastname||""==s.state.lastname?(s.setState({lastNameClass:"setting-input-box field_error"}),i=!0):s.state.lastname&&s.setState({lastNameClass:"setting-input-box"}),void 0==typeof s.state.email||null==s.state.email||""==s.state.email||nt.a.isEmail(s.state.email)?s.setState({emailClass:"setting-input-box"}):(s.setState({emailClass:"setting-input-box field_error"}),i=!0,r=!0),void 0!=s.state.phoneNumber&&null!=s.state.phoneNumber&&""!=s.state.phoneNumber&&s.state.phoneNumberError?(i=!0,o=!0,s.setState({phoneNumberClass:"setting-input-box setting-input-box-invalid"})):s.setState({phoneNumberClass:"setting-input-box"}),void 0==typeof s.state.aspire_acc_email||null==s.state.aspire_acc_email||""==s.state.aspire_acc_email||nt.a.isEmail(s.state.aspire_acc_email)?s.setState({aspireAccEmailClass:"setting-input-box"}):(s.setState({aspireAccEmailClass:"setting-input-box field_error"}),i=!0,r=!0),void 0!=s.state.emergencyContactNumber&&null!=s.state.emergencyContactNumber&&""!=s.state.emergencyContactNumber&&s.state.emergencyContactNumberError?(i=!0,o=!0,s.setState({emergencyContactNumberClass:"setting-input-box setting-input-box-invalid"})):s.setState({emergencyContactNumberClass:"setting-input-box"}),(n=s.state.additionalPhoneNumber).map(function(e,t){void 0!==e.phoneNumber&&null!==e.phoneNumber&&""!==e.phoneNumber&&e.phoneNumberError?(i=!0,o=!0,n[t].phoneNumberClass="setting-input-box setting-input-box-invalid"):n.length>1&&(void 0===e.phoneNumber||null===e.phoneNumber||""===e.phoneNumber)?(i=!0,o=!0,n[t].phoneNumberClass="setting-input-box setting-input-box-invalid"):n[t].phoneNumberClass="setting-input-box"}),s.setState(n),(a=s.state.additionalEmail).map(function(e,t){void 0==e.email||null==e.email||""==e.email||nt.a.isEmail(e.email)?a.length>1&&(void 0===e.email||null===e.email||""===e.email)?(i=!0,r=!0,a[t].emailClass="setting-input-box field_error",a[t].emailError=!0):(a[t].emailClass="setting-input-box",a[t].emailError=!1):(i=!0,r=!0,a[t].emailClass="setting-input-box field_error",a[t].emailError=!0)}),s.setState(a),i){if(r||o){var l="";l=r&&o?"Please enter valid email and phone number.":r?"Please enter valid email.":"Please enter valid  phone number.",rt.toast.dismiss(),rt.toast.error(l)}}else{t.firstname=s.state.firstname,t.lastname=s.state.lastname,t.email=s.state.email,t.phoneNumber=s.state.phoneNumber,t.user_image=s.state.user_image,t.gender=s.state.gender,t.referral_source=s.state.referral_source,t.referral_other=s.state.referral_other,t.referral_person=s.state.referral_person,t.ssn_number=s.state.ssn_number,t.address_line_1=s.state.address_line_1,t.address_line_2=s.state.address_line_2,t.city=s.state.city,t.state=s.state.state,t.pincode=s.state.pincode,t.country=s.state.country,t.brilliant_acc_number=s.state.brilliant_acc_number,t.brilliant_password=s.state.brilliant_password,t.aspire_acc_email=s.state.aspire_acc_email,t.aspire_password=s.state.aspire_password,t.emergency_contact_name=s.state.emergency_contact_name,t.emergency_contact_number=s.state.emergencyContactNumber,t.date_of_birth=void 0==s.state.selectedPickerDate||null==s.state.selectedPickerDate||""==s.state.selectedPickerDate?"":Rn(s.state.selectedPickerDate);for(var c=0;c<3;c++)t["email_"+(c+2)]=void 0!=a[c]&&void 0!=a[c].email?a[c].email:"",t["phoneNumber_"+(c+2)]=void 0!=n[c]&&void 0!=n[c].phoneNumber?n[c].phoneNumber:"";t.member_type="",void 0==s.state.userData.user||void 0==s.state.userData.user.account_id||s.state.userData.user.account_id!==Ee.JUVLY_ACC_ID&&s.state.userData.user.account_id!==Ee.CC_ACC_ID||(s.state.member_type_juvly&&s.state.member_type_model?t.member_type="both":s.state.member_type_juvly?t.member_type="juvly_member":s.state.member_type_model&&(t.member_type="model")),rt.toast.dismiss(),s.setState({showLoader:!0}),s.state.clientId>0?s.props.updateClient(s.state.clientId,t):s.props.createClient(t)}},s.addAdditionalPhoneNumber=function(){if(3==s.state.additionalPhoneNumber.length)return!1;var e=s.state.additionalPhoneNumber;e.push(Tn()),s.setState({additionalPhoneNumber:e})},s.deleteAdditionalPhoneNumber=function(e){if(1==s.state.additionalPhoneNumber.length)return!1;var t=s.state.additionalPhoneNumber,a=e.target.dataset.index;t.splice(a,1),1!==t.length||void 0!==t[0].phoneNumber&&null!==t[0].phoneNumber&&""!==t[0].phoneNumber||(t[0]=Tn()),s.setState({additionalPhoneNumber:t})},s.addAdditionalEmail=function(){if(3==s.state.additionalEmail.length)return!1;var e=s.state.additionalEmail;e.push(In()),s.setState({additionalEmail:e})},s.deleteAdditionalEmail=function(e){if(1==s.state.additionalEmail.length)return!1;var t=s.state.additionalEmail,a=e.target.dataset.index;t.splice(a,1),1!==t.length||void 0!==t[0].email&&null!==t[0].email&&""!==t[0].email||(t[0]=In()),s.setState({additionalEmail:t})};var n=JSON.parse(localStorage.getItem("languageData")),i=JSON.parse(localStorage.getItem("userData"));return s.state=(a={userData:i,globalLang:n.global,clientsLang:n.clients,clientId:s.props.match.params.id,showLoader:!1,redirect:!1,userChanged:!1,clientData:{}},Object(se.a)(a,"clientId",""),Object(se.a)(a,"actionType",""),Object(se.a)(a,"backAction","clients"),Object(se.a)(a,"isRender",!1),Object(se.a)(a,"countryList",[]),Object(se.a)(a,"referralSourceList",[]),Object(se.a)(a,"firstname",""),Object(se.a)(a,"lastname",""),Object(se.a)(a,"nick_name",""),Object(se.a)(a,"email",""),Object(se.a)(a,"phoneNumber",""),Object(se.a)(a,"gender",""),Object(se.a)(a,"date_of_birth",""),Object(se.a)(a,"referral_source",""),Object(se.a)(a,"referral_other",""),Object(se.a)(a,"referral_person",""),Object(se.a)(a,"ssn_number",""),Object(se.a)(a,"address_line_1",""),Object(se.a)(a,"address_line_2",""),Object(se.a)(a,"city",""),Object(se.a)(a,"state",""),Object(se.a)(a,"country",""),Object(se.a)(a,"pincode",""),Object(se.a)(a,"additionalPhoneNumber",[Tn()]),Object(se.a)(a,"additionalEmail",[In()]),Object(se.a)(a,"brilliant_acc_number",""),Object(se.a)(a,"brilliant_password",""),Object(se.a)(a,"aspire_acc_email",""),Object(se.a)(a,"aspire_password",""),Object(se.a)(a,"emergency_contact_name",""),Object(se.a)(a,"emergency_contact_number",""),Object(se.a)(a,"emergencyContactNumber",""),Object(se.a)(a,"member_type",""),Object(se.a)(a,"firstNameClass","setting-input-box"),Object(se.a)(a,"lastNameClass","setting-input-box"),Object(se.a)(a,"emailClass","setting-input-box"),Object(se.a)(a,"phoneNumberClass","setting-input-box"),Object(se.a)(a,"phoneNumberError",!1),Object(se.a)(a,"emergencyContactNumberClass","setting-input-box"),Object(se.a)(a,"emergencyContactNumberError",!1),Object(se.a)(a,"aspireAccEmailClass","setting-input-box"),Object(se.a)(a,"member_type_juvly",!1),Object(se.a)(a,"member_type_model",!1),Object(se.a)(a,"showDatePicker",!1),Object(se.a)(a,"selectedPickerDate",""),Object(se.a)(a,"defaultCountry","us"),Object(se.a)(a,"clearClass","new-white-btn no-margin clear no-display"),Object(se.a)(a,"resetClass","new-blue-btn reset no-display m-l-10"),Object(se.a)(a,"changeClass","new-blue-btn no-margin Change m-l-10"),Object(se.a)(a,"defImageCls","no-display"),Object(se.a)(a,"cameraInPreviewCls","camra-icon dz-clickable no-image"),Object(se.a)(a,"user_image",""),Object(se.a)(a,"dzImgObj",{}),Object(se.a)(a,"user_image_url",""),Object(se.a)(a,"uploadedFile",""),Object(se.a)(a,"dzCSS",""),a),s}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){window.onscroll=function(){return!1},document.addEventListener("click",this.handleClick,!1);var e=!1,t=this.props.match.params.id;void 0==t&&(t=0,e=!0),this.setState({showLoader:!0}),this.props.getClientDetail(t,"");var a=this.props.match.params.type;void 0==a&&(a="");var s="/clients";t&&"profile"==a&&(s="/clients/profile/".concat(t)),this.setState({clientId:t,actionType:a,backAction:s,isRender:e})}},{key:"componentDidUpdate",value:function(e){if(void 0!==e.clientData&&200===e.clientData.status&&void 0!==this.props.clientData&&e.clientData.data.user_image!==this.props.clientData.data.user_image){""!==this.props.clientData.data.user_image?this.setState({defImageCls:"no-display",cameraInPreviewCls:"camra-icon dz-clickable camera-in-preview",dzCSS:"",user_image:this.props.clientData.data.user_image,user_image_url:this.props.clientData.data.user_image_url}):this.setState({uploadedFile:this.props.clientData.data.user_image,user_image:this.props.clientData.data.user_image});var t={};t.dzImgObj=this.state.dzImgObj,t.mockFile={name:this.props.clientData.data.user_image_url,accepted:!0,size:7627},t.user_image_url=this.props.clientData.data.user_image_url,t.user_image=this.props.clientData.data.user_image,this.refs.child.reInit(t)}}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClick,!1)}},{key:"onDrop",value:function(e){this.setState({pictures:this.state.pictures.concat(e)})}},{key:"removeItems",value:function(){this.setState({icon:"faAngleRight"})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement("div",{className:"juvly-section full-width"},i.a.createElement("div",{className:"juvly-container"},i.a.createElement("div",{className:"juvly-title"}," ",this.state.clientId>0?this.state.clientsLang.client_edit_client:this.state.clientsLang.client_create_client,i.a.createElement(me.a,{to:this.state.backAction,className:"pull-right"},i.a.createElement("img",{src:"/images/close.png"}))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-12 profile-detail-left"},i.a.createElement("div",{className:"main-profile-picture"},this.state.isRender&&i.a.createElement(Ln,{type:"patient_profile",uploadedFileName:"user_image",fileUrl:"user_image_url",user_image:this.state.user_image,user_image_url:this.state.user_image_url,defLogo:An.a,logo_url:this.state.user_image_url,handleChildChange:this.handleChildChange,ref:"child",containerClass:"dropzone-holder"})),i.a.createElement("div",{className:"juvly-subtitle"},this.state.clientsLang.client_client_information),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.clientsLang.client_first_name,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("input",{className:this.state.firstNameClass,type:"text",name:"firstname",value:this.state.firstname,autoComplete:"off",onChange:this.handleInputChange}))),i.a.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.clientsLang.client_last_name,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("input",{className:this.state.lastNameClass,type:"text",name:"lastname",value:this.state.lastname,autoComplete:"off",onChange:this.handleInputChange}))),i.a.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.clientsLang.client_nickname),i.a.createElement("input",{className:"setting-input-box",type:"text",name:"nick_name",value:this.state.nick_name,autoComplete:"off",onChange:this.handleInputChange}))),i.a.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.clientsLang.client_email_address),i.a.createElement("input",{autoComplete:"new-password",className:this.state.emailClass,type:"text",name:"email",value:this.state.email,onChange:this.handleInputChange}))),i.a.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.clientsLang.client_phone),i.a.createElement("div",{className:"setting-input-outer"},this.state.isRender&&i.a.createElement(zt.a,{preferredCountries:["tw"],css:["intl-tel-input",this.state.phoneNumberClass],utilsScript:"libphonenumber.js",defaultValue:this.state.phoneNumber?this.state.phoneNumber:"",defaultCountry:this.state.defaultCountry,fieldName:"phoneNumber",onPhoneNumberChange:this.phoneNumberChanged.bind(this,"phoneNumber"),onPhoneNumberBlur:this.phoneNumberChanged.bind(this,"phoneNumber"),placeholder:"Phone Number"})))),i.a.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.clientsLang.client_gender),i.a.createElement("select",{className:"setting-select-box",name:"gender",value:this.state.gender,onChange:this.handleInputChange},i.a.createElement("option",{value:"2"},"Not Disclosed"),i.a.createElement("option",{value:"0"},"Male"),i.a.createElement("option",{value:"1"},"Female")))),i.a.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.clientsLang.client_date_of_birth),i.a.createElement("div",{className:"setting-input-outer",ref:function(t){return e.refDatePickerContainer=t}},i.a.createElement("a",{href:"javascript:void(0);",className:"client-treat-cal",onClick:this.toggleDatePicker},i.a.createElement("i",{className:"fas fa-calendar-alt"})),i.a.createElement("a",{href:"javascript:void(0);",className:"client-treat-reset",onClick:this.resetDatePicker},i.a.createElement("i",{className:"fas fa-times"})),i.a.createElement(xn.a,{selected:this.state.selectedPickerDate?this.state.selectedPickerDate:null,onChange:this.handleDatePicker,className:"setting-input-box p-r-40",dateFormat:"yyyy-MM-dd",autoComplete:"off",ref:function(t){return e.refDatePicker=t},onBlur:this.blurDatePicker,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",minDate:new Date(Se()().subtract(100,"years").toDate()),maxDate:new Date})))),i.a.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.clientsLang.client_select_referral_source),i.a.createElement("select",{className:"setting-select-box",name:"referral_source",value:this.state.referral_source,onChange:this.handleInputChange},i.a.createElement("option",{value:""},"Select"),this.state.referralSourceList.map(function(e,t){return i.a.createElement("option",{value:e.key,key:"referralSourceList-"+t},e.label)})))),"Other"==this.state.referral_source&&i.a.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.clientsLang.client_select_referral_source),i.a.createElement("input",{className:"setting-input-box p-r-40",type:"text",name:"referral_other",value:this.state.referral_other,autoComplete:"off",onChange:this.handleInputChange}))),i.a.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.clientsLang.client_referring_person),i.a.createElement("input",{className:"setting-input-box",type:"text",name:"referral_person",value:this.state.referral_person,autoComplete:"off",onChange:this.handleInputChange}))),i.a.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.clientsLang.client_ssn),i.a.createElement("input",{className:"setting-input-box",type:"text",name:"ssn_number",value:this.state.ssn_number,autoComplete:"off",onChange:this.handleInputChange}))),void 0!=this.state.userData.user&&void 0!=this.state.userData.user.account_id&&(this.state.userData.user.account_id===Ee.JUVLY_ACC_ID||this.state.userData.user.account_id===Ee.CC_ACC_ID)&&i.a.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.clientsLang.client_client_status),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("div",{className:"basic-checkbox-outer"},i.a.createElement("input",{id:"checkbox1",className:"basic-form-checkbox new-check",name:"member_type_juvly",type:"checkbox",onChange:this.handleInputChange,checked:!!this.state.member_type_juvly&&"checked"}),i.a.createElement("label",{className:"basic-form-text",htmlFor:"checkbox1"},this.state.clientsLang.client_client_status_member)),i.a.createElement("div",{className:"basic-checkbox-outer"},i.a.createElement("input",{id:"checkbox2",className:"basic-form-checkbox new-check",name:"member_type_model",type:"checkbox",onChange:this.handleInputChange,checked:!!this.state.member_type_model&&"checked"}),i.a.createElement("label",{className:"basic-form-text",htmlFor:"checkbox2"},this.state.clientsLang.client_client_status_model)))))),i.a.createElement("div",{className:"juvly-subtitle"},this.state.clientsLang.client_address_information),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.clientsLang.client_address1),i.a.createElement("input",{className:"setting-input-box",type:"text",name:"address_line_1",value:this.state.address_line_1,autoComplete:"off",onChange:this.handleInputChange}))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.clientsLang.client_address2),i.a.createElement("input",{className:"setting-input-box",type:"text",name:"address_line_2",value:this.state.address_line_2,autoComplete:"off",onChange:this.handleInputChange}))),i.a.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.clientsLang.client_city),i.a.createElement("input",{className:"setting-input-box",type:"text",name:"city",value:this.state.city,autoComplete:"off",onChange:this.handleInputChange}))),i.a.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.clientsLang.client_state),i.a.createElement("input",{className:"setting-input-box",type:"text",name:"state",value:this.state.state,autoComplete:"off",onChange:this.handleInputChange}))),i.a.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.clientsLang.client_zip_code),i.a.createElement("input",{className:"setting-input-box",type:"text",name:"pincode",value:this.state.pincode,autoComplete:"off",onChange:this.handleInputChange}))),i.a.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.clientsLang.client_country),i.a.createElement("select",{className:"setting-select-box",name:"country",value:this.state.country,onChange:this.handleInputChange},i.a.createElement("option",null,"Select"),this.state.countryList.map(function(e,t){return i.a.createElement("option",{value:e.country_code,key:"countryList-"+t},e.country_name)}))))),i.a.createElement("div",{className:"juvly-subtitle"},this.state.clientsLang.client_additional_contact_information),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12"},i.a.createElement("div",{className:"row"},this.state.additionalPhoneNumber.map(function(t,a){return i.a.createElement("div",{className:"col-xs-12 relative",key:"additionalPhoneNumber-"+a},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},e.state.clientsLang.client_phone_number," ",a+1),i.a.createElement("div",{className:"setting-input-outer"},e.state.isRender&&i.a.createElement(zt.a,{preferredCountries:["tw"],css:["intl-tel-input",t.phoneNumberClass],utilsScript:"libphonenumber.js",defaultValue:t.phoneNumber?t.phoneNumber:"",defaultCountry:e.state.defaultCountry,fieldName:"phoneNumber_"+a,onPhoneNumberChange:e.phoneNumberChanged.bind(e,"phoneNumber_"+a),onPhoneNumberBlur:e.phoneNumberChanged.bind(e,"phoneNumber_"+a),placeholder:"Phone Number"}))),0==a?i.a.createElement("a",{href:"javascript:void(0);",className:"add-round-btn","data-index":a,onClick:e.addAdditionalPhoneNumber},i.a.createElement("span",{"data-index":a},"+")):i.a.createElement("a",{href:"javascript:void(0);",className:"add-round-btn","data-index":a,onClick:e.deleteAdditionalPhoneNumber},i.a.createElement("span",{"data-index":a},"-")))}))),i.a.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12"},i.a.createElement("div",{className:"row relative"},this.state.additionalEmail.map(function(t,a){return i.a.createElement("div",{className:"col-xs-12 relative",key:"additionalPhoneNumber-"+a},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},e.state.clientsLang.client_email_address," ",a+1),i.a.createElement("input",{autoComplete:"new-password",className:t.emailClass,type:"text",name:"additional_email",value:t.email,onChange:e.handleInputChange,"data-index":a})),0==a?i.a.createElement("a",{href:"javascript:void(0);",className:"add-round-btn","data-index":a,onClick:e.addAdditionalEmail},i.a.createElement("span",{"data-index":a},"+")):i.a.createElement("a",{href:"javascript:void(0);",className:"add-round-btn","data-index":a,onClick:e.deleteAdditionalEmail},i.a.createElement("span",{"data-index":a},"-")))})))),i.a.createElement("div",{className:"juvly-subtitle"},this.state.clientsLang.client_brilliant_distinction_information),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.clientsLang.client_account_number),i.a.createElement("input",{autoComplete:"new-password",className:"setting-input-box",type:"text",name:"brilliant_acc_number",value:this.state.brilliant_acc_number,onChange:this.handleInputChange}))),i.a.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.clientsLang.client_password),i.a.createElement("input",{autoComplete:"new-password",className:"setting-input-box",type:"Password",name:"brilliant_password",value:this.state.brilliant_password,onChange:this.handleInputChange})))),i.a.createElement("div",{className:"juvly-subtitle"},this.state.clientsLang.client_aspire_rewards_information),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.clientsLang.client_email_address),i.a.createElement("input",{autoComplete:"new-password",className:this.state.aspireAccEmailClass,type:"text",name:"aspire_acc_email",value:this.state.aspire_acc_email,onChange:this.handleInputChange}))),i.a.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.clientsLang.client_password),i.a.createElement("input",{autoComplete:"new-password",className:"setting-input-box",type:"Password",name:"aspire_password",value:this.state.aspire_password,onChange:this.handleInputChange})))),i.a.createElement("div",{className:"juvly-subtitle"},this.state.clientsLang.client_emergency_contact),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.clientsLang.client_name),i.a.createElement("input",{autoComplete:"new-password",className:"setting-input-box",type:"text",name:"emergency_contact_name",value:this.state.emergency_contact_name,onChange:this.handleInputChange}))),i.a.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.clientsLang.client_phone_number),i.a.createElement("div",{className:"setting-input-outer"},this.state.isRender&&i.a.createElement(zt.a,{preferredCountries:["tw"],css:["intl-tel-input",this.state.emergencyContactNumberClass],utilsScript:"libphonenumber.js",defaultValue:this.state.emergencyContactNumber?this.state.emergencyContactNumber:"",defaultCountry:this.state.defaultCountry,fieldName:"emergencyContactNumber",onPhoneNumberChange:this.phoneNumberChanged.bind(this,"emergencyContactNumber"),onPhoneNumberBlur:this.phoneNumberChanged.bind(this,"emergencyContactNumber"),placeholder:"Phone Number"})))))))),i.a.createElement("div",{className:"footer-static"},i.a.createElement("a",{id:"saveConsultation",className:"new-blue-btn pull-right",onClick:this.handleSubmit},this.state.globalLang.label_save),i.a.createElement(me.a,{to:this.state.backAction,className:"new-white-btn pull-right"},this.state.globalLang.label_cancel)),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock clientLoader clientProfileLoader":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.globalLang.loading_please_wait_text))))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};if(void 0!==e.clientData&&200===e.clientData.status&&e.clientData.data!==t.clientData){if(a.clientData=e.clientData.data,void 0!=a.clientData.id&&a.clientData.id==t.clientId&&!t.userChanged){a.firstname=Pn(a.clientData.firstname),a.lastname=Pn(a.clientData.lastname),a.nick_name=Pn(a.clientData.nick_name),a.email=Pn(a.clientData.email),a.phoneNumber=Pn(a.clientData.phoneNumber),a.gender=Pn(a.clientData.gender),a.date_of_birth=Pn(a.clientData.date_of_birth),a.referral_source=Pn(a.clientData.referral_source),a.referral_other=Pn(a.clientData.referral_other),a.referral_person=Pn(a.clientData.referral_person),a.ssn_number=Pn(a.clientData.ssn_number),a.address_line_1=Pn(a.clientData.address_line_1),a.address_line_2=Pn(a.clientData.address_line_2),a.city=Pn(a.clientData.city),a.state=Pn(a.clientData.state),a.country=Pn(a.clientData.country),a.pincode=Pn(a.clientData.pincode),a.brilliant_acc_number=Pn(a.clientData.brilliant_acc_number),a.brilliant_password=Pn(a.clientData.brilliant_password),a.aspire_acc_email=Pn(a.clientData.aspire_acc_email),a.aspire_password=Pn(a.clientData.aspire_password),a.emergency_contact_name=Pn(a.clientData.emergency_contact_name),a.emergency_contact_number=Pn(a.clientData.emergency_contact_number),a.emergencyContactNumber=Pn(a.clientData.emergency_contact_number),a.user_image=Pn(a.clientData.user_image),a.user_image_url=Pn(a.clientData.user_image_url),a.selectedPickerDate=Pn(a.clientData.date_of_birth),"both"===a.clientData.member_type?(a.member_type_model=!0,a.member_type_juvly=!0):"juvly_member"===a.clientData.member_type?(a.member_type_model=!1,a.member_type_juvly=!0):"model"===a.clientData.member_type?(a.member_type_model=!0,a.member_type_juvly=!1):(a.member_type_model=!1,a.member_type_juvly=!1),""!=a.selectedPickerDate&&(a.selectedPickerDate=Se()(a.selectedPickerDate).toDate());var s=[];if(kn(a.clientData.phoneNumber_2)){var n=Tn();n.phoneNumber=a.clientData.phoneNumber_2,s.push(n)}if(kn(a.clientData.phoneNumber_3)){var i=Tn();i.phoneNumber=a.clientData.phoneNumber_3,s.push(i)}if(kn(a.clientData.phoneNumber_4)){var r=Tn();r.phoneNumber=a.clientData.phoneNumber_4,s.push(r)}0==s.length&&(s=[Tn()]),a.additionalPhoneNumber=s;var o=[];if(kn(a.clientData.email_2)){var l=In();l.email=a.clientData.email_2,o.push(l)}if(kn(a.clientData.email_3)){var c=In();c.email=a.clientData.email_3,o.push(c)}if(kn(a.clientData.email_4)){var d=In();d.email=a.clientData.email_4,o.push(d)}0==o.length&&(o=[In()]),a.additionalEmail=o}a.isRender=!0,a.countryList=a.clientData.countries,a.referral_source_array=a.clientData.referral_source_array;var m=[];Object.keys(a.referral_source_array).forEach(function(e){m.push({value:e,label:a.referral_source_array[e]})}),a.referralSourceList=m,a.showLoader=!1}else void 0!=e.redirect&&1==e.redirect&&e.redirect!=t.redirect?(a.redirect=!0,rt.toast.success(e.message,{onClose:function(){e.history.push(t.backAction)}})):void 0!=e.showLoader&&0==e.showLoader&&(a.showLoader=!1);return a}}]),t}(n.Component);var Mn=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData")),a={};return"GET_CLIENT_DETAIL"===e.ClientsReducer.action?200!=e.ClientsReducer.data.status?(rt.toast.dismiss(),rt.toast.error(t.global[e.ClientsReducer.data.message]),a.showLoader=!1):a.clientData=e.ClientsReducer.data:"CREATE_CLIENT"===e.ClientsReducer.action?200!=e.ClientsReducer.data.status?(rt.toast.dismiss(),rt.toast.error(t.global[e.ClientsReducer.data.message]),a.showLoader=!1):(a.message=t.global[e.ClientsReducer.data.message],a.redirect=!0):"UPDATE_CLIENT"===e.ClientsReducer.action&&(200!=e.ClientsReducer.data.status?(rt.toast.dismiss(),rt.toast.error(t.global[e.ClientsReducer.data.message]),a.showLoader=!1):(a.message=t.global[e.ClientsReducer.data.message],a.redirect=!0)),a},function(e){return Object(c.bindActionCreators)({getClientDetail:ks,createClient:Hs,updateClient:Gs},e)})(jn),Un=function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).onChangeDatePicker=function(e){a.setState({userChanged:!0,value:e}),a.props.onChangeDatePicker(Object(se.a)({userChanged:!0},a.state.name,e))},a.state={userChanged:!1,maxDate:a.props.maxDate?a.props.maxDate:new Date(Se()().add(20,"years").toDate()),minDate:a.props.minDate?a.props.minDate:new Date(Se()().subtract(20,"years").toDate()),value:a.props.value?Se()(a.props.value).toDate():"",format:a.props.format?a.props.format:"yyyy-MM-dd",name:a.props.name?a.props.name:"date_picker",class:a.props.class?a.props.class:"setting-input-box"},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"render",value:function(){var e;return i.a.createElement(xn.a,(e={className:this.state.class,selected:this.state.value?this.state.value:null,dateFormat:this.state.format,onChange:this.onChangeDatePicker,maxDate:this.state.maxDate,minDate:this.state.minDate,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",autoComplete:"off",name:this.state.name,readOnly:this.props.readOnly},Object(se.a)(e,"autoComplete","off"),Object(se.a)(e,"placeholderText",this.state.format.toLowerCase()),e))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};return void 0!==e.value&&e.value!==t.value&&(a.value=e.value),void 0!==e.class&&e.class!==t.class&&(a.class=e.class),a}}]),t}(i.a.Component),Fn="",Bn="",qn=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t,s=e.target,n="checkbox"===s.type?s.checked:s.value;if(a.setState((t={},Object(se.a)(t,e.target.name,n),Object(se.a)(t,"dataChanged",!0),Object(se.a)(t,"clicnicForCard",0),t)),a.state.hidProductID&&"proClinicId"===e.target.name&&a.getProductPrice(),"credit_type"===e.target.name&&a.setState({creditType:n}),"bogo_id"===e.target.name)if(s.value&&s.value>0){var i={bogo_id:s.value};a.setState({showLoader:!0}),a.props.getBogoPackageDetails(i)}else a.setState({bogoPackData:void 0,showBogoTable:!1});"package_id"===e.target.name&&a.handleUnitsToAdd(n,e)},a.handleUnitsToAdd=function(e,t){if(t.target.options[t.target.selectedIndex].dataset.qty){var s=t.target.options[t.target.selectedIndex].dataset.qty,n=t.target.options[t.target.selectedIndex].dataset.count,i=a.state.unitsToAddClass;i=n>1?"col-sm-6 col-xs-12 no-display":"col-sm-6 col-xs-12",a.setState({package_units:s,hid_package_units:s,unitsToAddClass:i})}else a.setState({package_units:"",hid_package_units:"",unitsToAddClass:"col-sm-6 col-xs-12"})},a.showEditPackageModal=function(e){var t="",s="";e&&e.balance_units&&(t=e.balance_units),e&&e.product_name&&(s=e.product_name),a.setState({showEditPackageModal:!0,packageProductName:s,balance_units:t,balanceUnitClass:"setting-input-box",editPackageData:e})},a.hideEditPackageModal=function(){a.setState({showEditPackageModal:!1,packageProductName:"",balance_units:"",editPackageData:{}})},a.showCreditModal=function(e,t){a.setState({showCreditModal:!0,creditMode:e,creditType:t,credit_amount:"",reason:"",amountClass:"setting-input-box",reasonClass:"setting-input-box"})},a.hideCreditModal=function(){a.setState({showCreditModal:!1,creditMode:"",creditType:"dollar"})},a.showPackageModal=function(){a.setState({showPackageModal:!0,package_id:0,package_units:"",bogo_id:0,mainBogoUnitsUsed:"0",freeBogoUnitsUsed:"0",product_name:"",product_units:"",price_per_unit:"",productType:"product",proPackageClass:"setting-select-box",proPackageUnitsClass:"setting-input-box",bogoPackageClass:"setting-select-box",bogoMainUnitClass:"setting-input-box",bogoFreeUnitClass:"setting-input-box",productClass:"setting-input-box",productUnitClass:"setting-input-box",productClinicClass:"setting-select-box",productPriceClass:"setting-input-box"})},a.hidePackageModal=function(){a.setState({showPackageModal:!1})},a.showMembershipModal=function(){var e=a.state.stripe.elements();(Fn=e.create("cardNumber")).mount("#card-number"),e.create("cardExpiry").mount("#card-expiry"),e.create("cardCvc").mount("#card-cvc");var t=a.state.clientWalletData&&a.state.clientWalletData.patient_data&&a.state.clientWalletData.patient_data.email?a.state.clientWalletData.patient_data.email:"";a.setState(Object(se.a)({showMembershipModal:!0,patientEmail:"",patientEmailClass:"setting-input-box",waiveOffOTFee:!1},"patientEmail",t))},a.hideMembershipModal=function(){a.setState({showMembershipModal:!1})},a.componentDidMount=function(){window.Stripe?a.setState({stripe:window.Stripe(Ee.STRIPE_PUBLISHABLE_KEY)}):document.querySelector("#stripe-js").addEventListener("load",function(){a.setState({stripe:window.Stripe(Ee.STRIPE_PUBLISHABLE_KEY)})}),a.setState({showLoader:!0}),a.props.getClientWallet(a.state.clientID)},a.handleCreditSubmit=function(e){if(e.preventDefault(),qe(a.state.credit_amount)&&a.state.credit_amount&&-1!==Math.sign(a.state.credit_amount)?a.setState({amountClass:"setting-input-box"}):a.setState({amountClass:"setting-input-box setting-input-box-invalid"}),""===a.state.reason.trim()?a.setState({reasonClass:"setting-input-box setting-input-box-invalid"}):a.setState({reasonClass:"setting-input-box"}),qe(a.state.credit_amount)&&a.state.credit_amount&&""!==a.state.reason.trim()&&-1!==Math.sign(a.state.credit_amount)){var t={credit_amount:a.state.credit_amount,credit_type:a.state.creditType,reason:a.state.reason.trim()};a.state.creditMode&&"remove"===a.state.creditMode?a.props.removeCreditFromWallet(a.state.clientID,t):a.props.addCreditToWallet(a.state.clientID,t),a.setState({showLoader:!0,showCreditModal:!1})}},a.handleMembershipSubmit=function(e){e.preventDefault();var t=!1;if(""!==a.state.patientEmail.trim()&&Ye(a.state.patientEmail.trim())?a.setState({patientEmailClass:"setting-input-box"}):(a.setState({patientEmailClass:"setting-input-box setting-input-box-invalid"}),t=!0),""===a.state.subscription_started_at||null===a.state.subscription_started_at?(a.setState({subscription_started_atClass:"setting-input-box setting-input-box-invalid"}),t=!0):a.setState({subscription_started_atClass:"setting-input-box"}),!t&&(rt.toast.dismiss(),""!==a.state.patientEmail.trim()&&Ye(a.state.patientEmail.trim())))if(a.setState({showLoader:!0}),"free"===a.state.clientWalletData.account_prefrence.monthly_membership_type&&!0===a.state.waiveOffOTFee||"free"===a.state.clientWalletData.account_prefrence.monthly_membership_type&&0===parseFloat(a.state.clientWalletData.account_prefrence.one_time_membership_setup)){var s={waive_off_one_time_fee:a.state.waiveOffOTFee?1:0,email:a.state.patientEmail,subscription_started_at:Se()(a.state.subscription_started_at).format("YYYY-MM-DD"),membership_total:a.state.waiveOffOTFee?a.state.total_membership_with_waive:a.state.total_membership_without_waive};a.props.addMonthyMembership(a.state.clientID,s),a.setState({showLoader:!0,showMembershipModal:!1})}else a.state.stripe.createToken(Fn).then(function(e){if(e.error)rt.toast.error(e.error.message),a.setState({showLoader:!1});else if(Bn=e.token.id){var t={stripeToken:Bn,waive_off_one_time_fee:a.state.waiveOffOTFee?1:0,email:a.state.patientEmail,subscription_started_at:Se()(a.state.subscription_started_at).format("YYYY-MM-DD"),membership_total:a.state.waiveOffOTFee?a.state.total_membership_with_waive:a.state.total_membership_without_waive};a.props.addMonthyMembership(a.state.clientID,t),a.setState({showLoader:!0,showMembershipModal:!1})}})},a.handlePackageSubmit=function(e){e.preventDefault();var t={};if(a.state.productType&&"product"===a.state.productType)a.state.package_id&&a.state.package_id>0?a.setState({proPackageClass:"setting-select-box"}):a.setState({proPackageClass:"setting-select-box setting-input-box-invalid"}),!a.state.package_units||-1===a.state.unitsToAddClass.indexOf("no-display")&&(!qe(a.state.package_units)||-1===Math.sign(a.state.package_units)||a.state.package_units>a.state.hid_package_units)?a.setState({proPackageUnitsClass:"setting-input-box setting-input-box-invalid"}):a.setState({proPackageUnitsClass:"setting-input-box"}),a.state.package_id&&a.state.package_id>0&&qe(a.state.package_units)&&a.state.package_units<=a.state.hid_package_units&&-1!==Math.sign(a.state.package_units)&&(t={patient_id:a.state.clientID,product_type:"product",package_id:a.state.package_id,package_units:a.state.package_units},a.setState({showLoader:!0,showPackageModal:!1}),a.props.addPackageProduct(t));else if(a.state.productType&&"package"===a.state.productType){if(a.state.bogo_id&&a.state.bogo_id>0?a.setState({bogoPackageClass:"setting-select-box"}):a.setState({bogoPackageClass:"setting-select-box setting-input-box-invalid"}),a.state.mainBogoUnitsUsed&&qe(a.state.mainBogoUnitsUsed)&&-1!==Math.sign(a.state.mainBogoUnitsUsed)?a.setState({bogoMainUnitClass:"setting-input-box"}):a.setState({bogoMainUnitClass:"setting-input-box setting-input-box-invalid"}),a.state.freeBogoUnitsUsed&&qe(a.state.freeBogoUnitsUsed)&&-1!==Math.sign(a.state.freeBogoUnitsUsed)?a.setState({bogoFreeUnitClass:"setting-input-box"}):a.setState({bogoFreeUnitClass:"setting-input-box setting-input-box-invalid"}),a.state.bogo_id&&a.state.bogo_id>0&&qe(a.state.mainBogoUnitsUsed)&&qe(a.state.freeBogoUnitsUsed)&&-1!==Math.sign(a.state.mainBogoUnitsUsed)&&-1!==Math.sign(a.state.freeBogoUnitsUsed)){var s=a.refs.mainBogoUnitRef.value,n=a.refs.freeBogoUnitRef.value;parseFloat(a.state.mainBogoUnitsUsed)>parseFloat(s)?a.setState({bogoMainUnitClass:"setting-input-box setting-input-box-invalid"}):a.setState({bogoMainUnitClass:"setting-input-box"}),parseFloat(a.state.freeBogoUnitsUsed)>parseFloat(n)?a.setState({bogoFreeUnitClass:"setting-input-box setting-input-box-invalid"}):a.setState({bogoFreeUnitClass:"setting-input-box"}),parseFloat(a.state.mainBogoUnitsUsed)<=parseFloat(s)&&parseFloat(a.state.freeBogoUnitsUsed)<=parseFloat(n)&&(t={patient_id:a.state.clientID,product_type:"package",bogo_id:a.state.bogo_id,main_bogo_units_used:a.state.mainBogoUnitsUsed,free_bogo_units_used:a.state.freeBogoUnitsUsed},a.setState({showLoader:!0,showPackageModal:!1}),a.props.addPackageProduct(t))}}else if(a.state.productType&&"actualProduct"===a.state.productType){var i=a.refs.clinic_ref.value;a.state.hidProductID&&a.state.hidProductID>0?a.setState({productClass:"setting-input-box"}):a.setState({productClass:"setting-input-box setting-input-box-invalid"}),a.state.product_units&&qe(a.state.product_units)&&-1!==Math.sign(a.state.product_units)?a.setState({productUnitClass:"setting-input-box"}):a.setState({productUnitClass:"setting-input-box setting-input-box-invalid"}),a.state.proClinicId&&a.state.proClinicId>0||i?a.setState({productClinicClass:"setting-select-box"}):a.setState({productClinicClass:"setting-select-box setting-input-box-invalid"}),a.state.price_per_unit&&qe(a.state.price_per_unit)&&-1!==Math.sign(a.state.price_per_unit)?a.setState({productPriceClass:"setting-input-box"}):a.setState({productPriceClass:"setting-input-box setting-input-box-invalid"}),a.state.hidProductID&&a.state.hidProductID>0&&qe(a.state.product_units)&&(a.state.proClinicId&&a.state.proClinicId>0||i)&&qe(a.state.price_per_unit)&&-1!==Math.sign(a.state.product_units)&&-1!==Math.sign(a.state.price_per_unit)&&(t={patient_id:a.state.clientID,product_type:"actualProduct",hidden_product_id:a.state.hidProductID,product_units:a.state.product_units,price_per_unit:a.state.price_per_unit},a.setState({showLoader:!0,showPackageModal:!1}),a.props.addPackageProduct(t))}},a.handleEditPackageSubmit=function(e){if(e.preventDefault(),a.state.balance_units&&qe(a.state.balance_units)?a.setState({balanceUnitClass:"setting-input-box"}):a.setState({balanceUnitClass:"setting-input-box setting-input-box-invalid"}),a.state.balance_units&&qe(a.state.balance_units)){var t={balance_units:a.state.balance_units,patient_package_id:a.state.editPackageData.patient_package_id,patient_product_id:a.state.editPackageData.product_id,total_balance_units:a.state.editPackageData.balance_units};a.props.updateWalletPackage(a.state.clientID,t),a.setState({showLoader:!0,showEditPackageModal:!1})}},a.showModal=function(e,t,s){a.setState({showModal:!0,modalMessage:t,modalAction:e,modalData:s})},a.dismissModal=function(){a.setState({showModal:!1,modalMessage:"",modalAction:"",modalData:""})},a.handleModalAction=function(){a.state.modalAction&&"removePackage"===a.state.modalAction&&a.removePackage(),a.state.modalAction&&"cancelMembership"===a.state.modalAction&&a.cancelMembership()},a.removePackage=function(){if(a.state.modalData){var e={balance_units:0,patient_package_id:a.state.modalData.patient_package_id,patient_product_id:a.state.modalData.product_id,total_balance_units:a.state.modalData.total_units};a.props.removeWalletPackage(a.state.clientID,e),a.setState({showLoader:!0,showModal:!1})}},a.componentDidUpdate=function(e,t){null!==a.state.addCreditData&&""!==a.state.addCreditData&&a.state.addCreditData!==t.addCreditData&&null!==a.state.addCreditMessage&&""!==a.state.addCreditMessage&&(a.setState({showLoader:!0}),a.props.getClientWallet(a.state.clientID)),null!==a.state.removeCreditData&&""!==a.state.removeCreditData&&a.state.removeCreditData!==t.removeCreditData&&null!==a.state.removeCreditMessage&&""!==a.state.removeCreditMessage&&(a.setState({showLoader:!0}),a.props.getClientWallet(a.state.clientID)),null!==a.state.updateWalletPackageData&&""!==a.state.updateWalletPackageData&&a.state.updateWalletPackageData!==t.updateWalletPackageData&&null!==a.state.updateWalletPackMessage&&""!==a.state.updateWalletPackMessage&&(a.setState({showLoader:!0}),a.props.getClientWallet(a.state.clientID)),null!==a.state.removeWalletPackageData&&""!==a.state.removeWalletPackageData&&a.state.removeWalletPackageData!==t.removeWalletPackageData&&null!==a.state.removeWalletPackMessage&&""!==a.state.removeWalletPackMessage&&(a.setState({showLoader:!0}),a.props.getClientWallet(a.state.clientID)),null!==a.state.updateWalletCCData&&""!==a.state.updateWalletCCData&&a.state.updateWalletCCData!==t.updateWalletCCData&&null!==a.state.updateWalletCCMessage&&""!==a.state.updateWalletCCMessage&&(a.setState({showLoader:!0}),a.props.getClientWallet(a.state.clientID)),null!==a.state.cancelMembershipData&&""!==a.state.cancelMembershipData&&a.state.cancelMembershipData!==t.cancelMembershipData&&null!==a.state.cancelMembershipMessage&&""!==a.state.cancelMembershipMessage&&(a.setState({showLoader:!0}),a.props.getClientWallet(a.state.clientID)),null!==a.state.addMembershipData&&""!==a.state.addMembershipData&&a.state.addMembershipData!==t.addMembershipData&&null!==a.state.addMembershipMessage&&""!==a.state.addMembershipMessage&&(a.setState({showLoader:!0}),a.props.getClientWallet(a.state.clientID)),null!==a.state.addPackageProductData&&""!==a.state.addPackageProductData&&a.state.addPackageProductData!==t.addPackageProductData&&null!==a.state.addPackageProductMessage&&""!==a.state.addPackageProductMessage&&(a.setState({showLoader:!0}),a.props.getClientWallet(a.state.clientID))},a.showPaymentDetails=function(){a.setState({showPaymentDetails:!0,showMembershipSection:!0,showNewCardSection:!1})},a.hidePaymentDetails=function(){a.setState({showPaymentDetails:!1})},a.handleSubmitPayment=function(e){e.preventDefault(),rt.toast.dismiss(),a.setState({showLoader:!0}),a.state.stripe.createToken(Fn).then(function(e){if(e.error)rt.toast.error(e.error.message),a.setState({showLoader:!1});else if(Bn=e.token.id){var t={mstripeToken:Bn};a.props.updateMembershipCC(a.state.clientID,t),a.setState({showLoader:!0,showPaymentDetails:!1})}})},a.cancelMembership=function(){a.props.cancelMembership(a.state.clientID),a.setState({showLoader:!0,showModal:!1,showPaymentDetails:!1})},a.changeMembershipCard=function(){var e=a.state.stripe.elements();(Fn=e.create("cardNumber")).mount("#mem-card-number"),e.create("cardExpiry").mount("#mem-card-expiry"),e.create("cardCvc").mount("#mem-card-cvc"),a.setState({showMembershipSection:!1,showNewCardSection:!0})},a.cancelUpdateMembershipCard=function(){a.setState({showMembershipSection:!0,showNewCardSection:!1})},a.handleProductChange=function(e){var t=e.target.value,s=(e.target.name,{});s[e.target.name]=t,a.setState(s);var n={};n.term=t,n.patient_id=a.state.clientID,t.length>2&&a.props.searchProduct(n),t.length<=2&&a.setState({showSearchResult:!1,hidProductID:0})},a.selectProduct=function(e){var t=0,s="",n={};e&&e.data&&e.data.id&&(t=e.data.id,s=e.data.product_name),t&&t>0&&s&&(n.hidProductID=t,n.product_name=s,n.showSearchResult=!1),a.setState(n),a.getProductPrice(t)},a.getProductPrice=function(e){e=e||a.state.hidProductID;var t=a.refs.clinic_ref.value;if(t&&e){var s={clinic_id:t,product_id:e,patient_id:a.state.clientID};a.setState({showLoader:!0}),a.props.getProductPriceByClinic(s)}},a.onChangeDatePicker=function(e){a.setState(e)};var s=JSON.parse(localStorage.getItem("languageData"));return a.state={backURLType:a.props.match.params.actionType?a.props.match.params.actionType:"clients",clientID:a.props.match.params.clientID,globalLang:s.global,showLoader:!1,showCreditModal:!1,creditMode:"",creditType:"dollar",creditTypeClass:"setting-select-box",amountClass:"setting-input-box",reasonClass:"setting-input-box",showPackageModal:!1,showMembershipModal:!1,productType:"product",proPackageClass:"setting-select-box",proPackageUnitsClass:"setting-input-box",bogoPackageClass:"setting-select-box",bogoMainUnitClass:"setting-input-box",bogoFreeUnitClass:"setting-input-box",productClass:"setting-input-box",productUnitClass:"setting-input-box",productClinicClass:"setting-select-box",productPriceClass:"setting-input-box",patientEmailClass:"setting-input-box",credit_amount:"",reason:"",patientEmail:"",package_units:"",mainBogoUnitsUsed:"0",freeBogoUnitsUsed:"0",product_name:"",product_units:"",price_per_unit:"",showEditPackageModal:!1,balanceUnitClass:"setting-input-box",balance_units:"",packageProductName:"",showModal:!1,modalMessage:"",modalAction:"",modalData:"",showPaymentDetails:!1,showMembershipSection:!0,showNewCardSection:!1,editPackageData:{},waiveOffOTFee:!1,showSearchResult:!1,hidProductID:0,showBogoTable:!1,monthly_membership_type:"free",monthly_membership_fees:0,one_time_membership_setup:0,total_membership_with_waive:0,total_membership_without_waive:0,subscription_started_at:new Date,subscription_started_atClass:"setting-input-box",unitsToAddClass:"col-sm-6 col-xs-12"},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"render",value:function(){var e=this,t="";this.state.backURLType&&"clients"===this.state.backURLType&&(t=this.props.match.params.type?"/"+this.state.backURLType+"/"+this.props.match.params.type+"/"+this.props.match.params.clientID:"/"+this.state.backURLType);var a=0,s="",n="",r=0,o=0,l=0,c="",d="",m="",u=0,p=0,h="",g="",_=0,v=0,f="",b=0;return this.state.clientWalletData&&this.state.clientWalletData.patient_data&&(a=this.state.clientWalletData.patient_data.is_monthly_membership,s=Me(this.state.clientWalletData.patient_data),this.state.clientWalletData.patient_data.patient_membership_subscription&&(_="0"===this.state.clientWalletData.patient_data.patient_membership_subscription.subscription_status&&"future"===this.state.clientWalletData.patient_data.patient_membership_subscription.start_type?1:"1"===this.state.clientWalletData.patient_data.patient_membership_subscription.subscription_status&&"immediate"===this.state.clientWalletData.patient_data.patient_membership_subscription.start_type?1:0,v="0"===this.state.clientWalletData.patient_data.patient_membership_subscription.subscription_status&&"future"===this.state.clientWalletData.patient_data.patient_membership_subscription.start_type?1:0,f=this.state.clientWalletData.patient_data.patient_membership_subscription.subscription_started_at,b=this.state.clientWalletData.patient_data.patient_membership_subscription.mothly_membership_fees),this.state.clientWalletData.patient_data.client_wallet&&(r=this.state.clientWalletData.patient_data.client_wallet.membership_fee,o=this.state.clientWalletData.patient_data.client_wallet.balance),this.state.clientWalletData&&this.state.clientWalletData.account_prefrence&&(l=this.state.clientWalletData.account_prefrence.is_membership_enable,h=this.state.clientWalletData.account_prefrence.recurly_program_name,u="free"===(g=this.state.clientWalletData.account_prefrence.monthly_membership_type)?0:this.state.clientWalletData.account_prefrence.monthly_membership_fees,p=this.state.clientWalletData.account_prefrence.one_time_membership_setup,this.state.waiveOffOTFee?u:u+p),this.state.clientWalletData.patient_data.patient_membership_subscription&&(n=this.state.clientWalletData.patient_data.patient_membership_subscription.subscription_uuid)),this.state.clientWalletData&&this.state.clientWalletData.all_packages&&this.state.clientWalletData.all_packages.length>0&&(c=this.state.clientWalletData.all_packages.map(function(e,t){var a=0,s=0;return e.discount_package_product&&(e.discount_package_product.length>0&&(a+=e.discount_package_product.map(function(e,t){return e.units})),s=Object.keys(e.discount_package_product).length),i.a.createElement("option",{"data-qty":parseFloat(a),"data-count":s,key:t,value:e.id},e.name)})),this.state.clientWalletData&&this.state.clientWalletData.all_bogos&&this.state.clientWalletData.all_bogos.length>0&&(d=this.state.clientWalletData.all_bogos.map(function(e,t){return i.a.createElement("option",{key:t,value:e.id},e.name)})),this.state.clientWalletData&&this.state.clientWalletData.allClinics&&this.state.clientWalletData.allClinics.length>0&&(m=this.state.clientWalletData.allClinics.map(function(e,t){return i.a.createElement("option",{key:t,value:e.id},e.clinic_name)})),i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement("div",{className:!0===this.state.showPaymentDetails?"modalOverlay":""},i.a.createElement("div",{className:!0===this.state.showPaymentDetails?"small-popup-outer appointment-detail-main displayBlock":"small-popup-outer appointment-detail-main no-display"},i.a.createElement("div",{className:"small-popup-header"},i.a.createElement("div",{className:"popup-name"},"Membership Details"),i.a.createElement("a",{onClick:function(){return e.hidePaymentDetails()},className:"small-cross"},"\xd7")),i.a.createElement("div",{className:"small-popup-content"},i.a.createElement("div",{className:"juvly-container no-padding-bottom"},i.a.createElement("div",{className:"prescription-content"},i.a.createElement("div",{className:"doc-section row"},i.a.createElement("div",{className:this.state.showMembershipSection?"col-xs-12 no-margin":"col-xs-12 no-margin no-display"}," ",i.a.createElement("span",{className:"juvly-subtitle"},"Membership Details",i.a.createElement("a",{onClick:function(){return e.showModal("cancelMembership","Are you sure you want to cancel your monthly membership subscription?","")},className:"new-blue-btn pull-right"},"Cancel Membership"),b>0&&i.a.createElement("a",{onClick:function(){return e.changeMembershipCard()},className:"new-blue-btn pull-right"},"Change Card"))),i.a.createElement("div",{className:this.state.showMembershipSection?"col-xs-12 no-margin":"col-xs-12 no-margin no-display"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"START DATE"),i.a.createElement("div",{className:"setting-input-box"},this.state.clientWalletData&&this.state.clientWalletData.patient_data&&this.state.clientWalletData.patient_data.patient_membership_subscription?Be(this.state.clientWalletData.patient_data.patient_membership_subscription.subscription_started_at):""))),i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"VALID UPTO DATE"),i.a.createElement("div",{className:"setting-input-box"},this.state.clientWalletData&&this.state.clientWalletData.patient_data&&this.state.clientWalletData.patient_data.patient_membership_subscription?Be(this.state.clientWalletData.patient_data.patient_membership_subscription.subscription_valid_upto):""))),i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"MEMBERSHIP FEE"),i.a.createElement("div",{className:"setting-input-box"},this.state.clientWalletData&&this.state.clientWalletData.patient_data&&this.state.clientWalletData.patient_data.patient_membership_subscription?Ie(this.state.clientWalletData.patient_data.patient_membership_subscription.mothly_membership_fees,"currency"):""))),i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"ONE TIME SETUP FEE"),i.a.createElement("div",{className:"setting-input-box"},this.state.clientWalletData&&this.state.clientWalletData.patient_data&&this.state.clientWalletData.patient_data.patient_membership_subscription?Ie(this.state.clientWalletData.patient_data.patient_membership_subscription.one_time_membership_setup,"currency"):""))),i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"CARD DETAILS"),i.a.createElement("div",{className:"setting-input-box"},this.state.clientWalletData&&this.state.clientWalletData.patient_data&&this.state.clientWalletData.patient_data.patient_membership_subscription?this.state.clientWalletData.patient_data.patient_membership_subscription.stripe_card_details:""))))),i.a.createElement("div",{className:this.state.showNewCardSection?"col-xs-12 no-margin":"col-xs-12 no-margin no-display"},i.a.createElement("form",{onSubmit:this.handleSubmitPayment},i.a.createElement("span",{className:"juvly-subtitle"},"Card Details"),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Credit card number ",i.a.createElement("span",{className:"required"},"*")),i.a.createElement("div",{className:"setting-input-box",id:"mem-card-number"}))),i.a.createElement("div",{className:"col-sm-2 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Exp. Date ",i.a.createElement("span",{className:"required"},"*")),i.a.createElement("div",{className:"setting-input-box",id:"mem-card-expiry"}))),i.a.createElement("div",{className:"col-sm-2 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"CVC ",i.a.createElement("span",{className:"required"},"*")),i.a.createElement("div",{className:"setting-input-box",id:"mem-card-cvc"})))),i.a.createElement("div",{className:"row"},i.a.createElement("input",{type:"submit",className:"new-blue-btn pull-right",value:"Save Card"}),i.a.createElement("a",{onClick:function(){return e.cancelUpdateMembershipCard()},className:"new-white-btn pull-right"},"Cancel")))),i.a.createElement("div",{className:"col-xs-12 no-margin"},i.a.createElement("span",{className:"juvly-subtitle"},"Membership Subscription Invoices")),i.a.createElement("div",{className:"table-responsive"},i.a.createElement("table",{className:"table-updated juvly-table no-hover"},i.a.createElement("thead",{className:"table-updated-thead"},i.a.createElement("tr",null,i.a.createElement("th",{className:"col-xs-3 table-updated-th"},"INVOICE#"),i.a.createElement("th",{className:"col-xs-3 table-updated-th text-right"},"INVOICE DATE"),i.a.createElement("th",{className:"col-xs-3 table-updated-th text-right"},"AMOUNT"),i.a.createElement("th",{className:"col-xs-3 table-updated-th text-right"},"Status"))),i.a.createElement("tbody",{className:"ajax_body"},!1===this.state.showLoader&&this.state.clientWalletData&&this.state.clientWalletData.patient_data&&this.state.clientWalletData.patient_data.monthly_membership_invoice&&this.state.clientWalletData.patient_data.monthly_membership_invoice.length>0&&this.state.clientWalletData.patient_data.monthly_membership_invoice.map(function(e,t){return i.a.createElement("tr",{key:t,className:"table-updated-tr"},i.a.createElement("td",{className:"table-updated-td"},e.invoice_number?e.invoice_number:""),i.a.createElement("td",{className:"table-updated-td"},e.created?Be(e.created):""),i.a.createElement("td",{className:"table-updated-td"},e.amount?Ie(e.amount,"currency"):""),i.a.createElement("td",{className:"table-updated-td"},e.payment_status?e.payment_status:""))}))),!1===this.state.showLoader&&i.a.createElement("div",{className:this.state.clientWalletData&&this.state.clientWalletData.patient_data&&this.state.clientWalletData.patient_data.monthly_membership_invoice&&this.state.clientWalletData.patient_data.monthly_membership_invoice.length>0?"no-record no-display":"no-record"},"No record found")))))))),i.a.createElement("div",{className:!0===this.state.showModal?"overlay":""}),i.a.createElement("div",{role:"dialog",className:!0===this.state.showModal?"modal fade in displayBlock":"modal fade no-display"},i.a.createElement("div",{className:"modal-dialog"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal",onClick:this.dismissModal},"\xd7"),i.a.createElement("h4",{className:"modal-title"},"Confirmation required!")),i.a.createElement("div",{id:"errorwindow",className:"modal-body add-patient-form filter-patient"},void 0!==this.state.modalMessage?this.state.modalMessage:""),i.a.createElement("div",{className:"modal-footer"},i.a.createElement("div",{className:"col-md-12 text-left"},i.a.createElement("button",{type:"button",className:"btn  logout pull-right","data-dismiss":"modal",onClick:this.dismissModal},"No"),i.a.createElement("button",{type:"button",className:"btn btn-success pull-right m-r-10","data-dismiss":"modal",onClick:this.handleModalAction},"Yes")))))),i.a.createElement("div",{className:!0===this.state.showEditPackageModal?"modalOverlay":""},i.a.createElement("form",{onSubmit:this.handleEditPackageSubmit},i.a.createElement("div",{className:!0===this.state.showEditPackageModal?"small-popup-outer appointment-detail-main displayBlock":"small-popup-outer appointment-detail-main no-display"},i.a.createElement("div",{className:"small-popup-header"},i.a.createElement("div",{className:"popup-name"},"Edit Package"),i.a.createElement("a",{onClick:function(){return e.hideEditPackageModal()},className:"small-cross"},"\xd7")),i.a.createElement("div",{className:"small-popup-content"},i.a.createElement("div",{className:"juvly-container no-padding-bottom"},i.a.createElement("div",{className:"prescription-content"},i.a.createElement("div",{className:"doc-section"},i.a.createElement("div",{className:"col-xs-12 no-margin"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Product"),i.a.createElement("div",{className:"setting-input-box"},this.state.packageProductName))),i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Balance Units ",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:"balance_units",placeholder:"Enter Balance Units",className:this.state.balanceUnitClass,type:"text",onChange:this.handleInputChange,autoComplete:"off",value:this.state.balance_units})))))))))),i.a.createElement("div",{className:"footer-static"},i.a.createElement("input",{type:"submit",className:"new-blue-btn pull-right",value:"Save"}))))),i.a.createElement("div",{className:!0===this.state.showCreditModal?"modalOverlay":""},i.a.createElement("form",{onSubmit:this.handleCreditSubmit},i.a.createElement("div",{className:!0===this.state.showCreditModal?"small-popup-outer appointment-detail-main displayBlock":"small-popup-outer appointment-detail-main no-display"},i.a.createElement("div",{className:"small-popup-header"},i.a.createElement("div",{className:"popup-name"},this.state.creditMode," Credit"),i.a.createElement("a",{onClick:function(){return e.hideCreditModal()},className:"small-cross"},"\xd7")),i.a.createElement("div",{className:"small-popup-content"},i.a.createElement("div",{className:"juvly-container no-padding-bottom"},i.a.createElement("div",{className:"prescription-content"},i.a.createElement("div",{className:"doc-section"},i.a.createElement("div",{className:"col-xs-12 no-margin"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Select credit type ",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("select",{name:"credit_type",className:this.state.creditTypeClass,onChange:this.handleInputChange,value:this.state.creditType},i.a.createElement("option",{value:"dollar"},"Dollar"),i.a.createElement("option",{value:"bd"},"BD"),i.a.createElement("option",{value:"aspire"},"Aspire"))))),i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Enter amount in USD ($) ",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:"credit_amount",placeholder:"add"===this.state.creditMode?"Enter Credit Amount":"Enter Amount To Remove",className:this.state.amountClass,type:"text",autoComplete:"off",onChange:this.handleInputChange,value:this.state.credit_amount})))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Reason ",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:"reason",placeholder:"Enter Reason",className:this.state.reasonClass,type:"text",onChange:this.handleInputChange,autoComplete:"off",value:this.state.reason})))))))))),i.a.createElement("div",{className:"footer-static"},i.a.createElement("input",{type:"submit",className:"new-blue-btn pull-right",value:"Save"}))))),i.a.createElement("div",{className:!0===this.state.showPackageModal?"modalOverlay":""},i.a.createElement("form",{onSubmit:this.handlePackageSubmit},i.a.createElement("div",{className:!0===this.state.showPackageModal?"small-popup-outer appointment-detail-main displayBlock":"small-popup-outer appointment-detail-main no-display"},i.a.createElement("div",{className:"small-popup-header"},i.a.createElement("div",{className:"popup-name"},"Add Products/Packages"),i.a.createElement("a",{onClick:function(){return e.hidePackageModal()},className:"small-cross"},"\xd7")),i.a.createElement("div",{className:"small-popup-content"},i.a.createElement("div",{className:"juvly-container"},i.a.createElement("div",{className:"p-text m-b-20"},"Please select what you want to add ",i.a.createElement("span",{className:"required"},"*")),i.a.createElement("div",{className:"row m-b-0"},i.a.createElement("div",{className:"basic-checkbox-outer col-sm-4 col-xs-12 no-margin"},i.a.createElement("input",{id:"Product Package",className:"basic-form-checkbox",type:"radio",name:"productType",value:"product",checked:"product"===this.state.productType,onChange:this.handleInputChange}),i.a.createElement("label",{className:"basic-form-text",htmlFor:"Product Package"},"Product Package")),i.a.createElement("div",{className:"basic-checkbox-outer col-sm-4 col-xs-12 no-margin"},i.a.createElement("input",{id:"Package Bogo",className:"basic-form-checkbox",type:"radio",name:"productType",value:"package",checked:"package"===this.state.productType,onChange:this.handleInputChange}),i.a.createElement("label",{className:"basic-form-text",htmlFor:"Package Bogo"},"Package Bogo")),i.a.createElement("div",{className:"basic-checkbox-outer col-sm-4 col-xs-12 no-margin"},i.a.createElement("input",{id:"Product",className:"basic-form-checkbox",type:"radio",name:"productType",value:"actualProduct",checked:"actualProduct"===this.state.productType,onChange:this.handleInputChange}),i.a.createElement("label",{className:"basic-form-text",htmlFor:"Product"},"Product")))),i.a.createElement("div",{className:"product"===this.state.productType?"juvly-container":"juvly-container no-display"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Select Package ",i.a.createElement("span",{className:"required"},"*")),i.a.createElement("select",{className:this.state.proPackageClass,name:"package_id",onChange:this.handleInputChange,value:this.state.package_id},i.a.createElement("option",{value:"0"},"Select"),c))),i.a.createElement("div",{className:this.state.unitsToAddClass},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Units to add ",i.a.createElement("span",{className:"required"},"*")),i.a.createElement("input",{name:"package_units",className:this.state.proPackageUnitsClass,type:"text",onChange:this.handleInputChange,value:this.state.package_units,autoComplete:"off",placeholder:"Enter units"}))))),i.a.createElement("div",{className:"package"===this.state.productType?"juvly-container":"juvly-container no-display"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Select Package  ",i.a.createElement("span",{className:"required"},"*")),i.a.createElement("select",{name:"bogo_id",className:this.state.bogoPackageClass,onChange:this.handleInputChange,value:this.state.bogo_id},i.a.createElement("option",{value:"0"},"Select"),d))))),i.a.createElement("div",{className:"package"===this.state.productType?"table-responsive":"table-responsive no-display"},this.state.bogoPackData&&this.state.showBogoTable&&i.a.createElement("table",{className:"table-updated juvly-table no-hover"},i.a.createElement("thead",{className:"table-updated-thead"},i.a.createElement("tr",null,i.a.createElement("th",{className:"col-xs-4 table-updated-th"},"Product"),i.a.createElement("th",{className:"col-xs-4 table-updated-th text-right"},"Buy Units"),i.a.createElement("th",{className:"col-xs-4 table-updated-th text-right"},"Units Used"))),i.a.createElement("tbody",{className:"ajax_body"},i.a.createElement("tr",{className:"table-updated-tr"},i.a.createElement("td",{className:"table-updated-td"},this.state.bogoPackData?this.state.bogoPackData.main_product_name:""),i.a.createElement("td",{className:"table-updated-td text-right"},this.state.bogoPackData?this.state.bogoPackData.bogo_product_quantity:0),i.a.createElement("td",{className:"table-updated-td text-right"},i.a.createElement("input",{autoComplete:"off",name:"mainBogoUnitsUsed",className:this.state.bogoMainUnitClass,type:"text",onChange:this.handleInputChange,value:this.state.mainBogoUnitsUsed})),i.a.createElement("td",{className:"no-display"},i.a.createElement("input",{name:"mainUnitRef",type:"hidden",ref:"mainBogoUnitRef",value:this.state.bogoPackData?this.state.bogoPackData.bogo_product_quantity:0,disabled:!0}))),i.a.createElement("tr",{className:"table-updated-tr"},i.a.createElement("td",{className:"table-updated-td"},this.state.bogoPackData?this.state.bogoPackData.free_product_name:""),i.a.createElement("td",{className:"table-updated-td text-right"},this.state.bogoPackData?this.state.bogoPackData.bogo_free_product_quantity:0),i.a.createElement("td",{className:"table-updated-td text-right"},i.a.createElement("input",{autoComplete:"off",name:"freeBogoUnitsUsed",className:this.state.bogoFreeUnitClass,type:"text",onChange:this.handleInputChange,value:this.state.freeBogoUnitsUsed})),i.a.createElement("td",{className:"no-display"},i.a.createElement("input",{name:"freeUnitRef",type:"hidden",ref:"freeBogoUnitRef",value:this.state.bogoPackData?this.state.bogoPackData.bogo_free_product_quantity:0,disabled:!0}))))),i.a.createElement("div",{className:"no-record no-display"},"Sorry, No record found")),i.a.createElement("div",{className:"actualProduct"===this.state.productType?"juvly-container":"juvly-container no-display"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Select Product ",i.a.createElement("span",{className:"required"},"*")),i.a.createElement("input",{autoComplete:"off",name:"product_name",className:this.state.productClass,type:"text",onChange:this.handleProductChange,value:this.state.product_name,placeholder:"Type to search"}),i.a.createElement("ul",{className:this.state.productData&&this.state.productData.length&&this.state.showSearchResult?" search-dropdown":"cal-dropdown clinicname-dropdown no-display"},this.state.productData&&this.state.productData.length&&this.state.productData.map(function(t,a){return i.a.createElement("li",{key:"product_"+a,onClick:function(){return e.selectProduct(t)}},i.a.createElement("a",null,t&&t.data&&t.data.product_name&&je(t.data.product_name)))})),i.a.createElement("ul",{className:this.state.productData&&!this.state.productData.length&&this.state.showSearchResult?"search-dropdown":" cal-dropdown clinicname-dropdown no-display"},this.state.productData&&0===this.state.productData.length&&i.a.createElement("li",null,i.a.createElement("a",null,"There were no matches, please enter relevant keywords"))))),i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Units to add ",i.a.createElement("span",{className:"required"},"*")),i.a.createElement("input",{name:"product_units",className:this.state.productUnitClass,type:"text",onChange:this.handleInputChange,value:this.state.product_units,autoComplete:"off",placeholder:"Enter units"}))),i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Select Clinic ",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("select",{ref:"clinic_ref",name:"proClinicId",className:this.state.productClinicClass,onChange:this.handleInputChange,value:this.state.proClinicId},m)))),i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Price Per Unit  ",i.a.createElement("span",{className:"required"},"*")),i.a.createElement("input",{name:"price_per_unit",className:this.state.productPriceClass,type:"text",onChange:this.handleInputChange,value:this.state.price_per_unit,autoComplete:"off",placeholder:"Enter price per units"})))))),i.a.createElement("div",{className:"footer-static"},i.a.createElement("input",{type:"submit",className:"new-blue-btn pull-right",value:"Save"}))))),i.a.createElement("div",{className:!0===this.state.showMembershipModal?"modalOverlay":""},i.a.createElement("form",{onSubmit:this.handleMembershipSubmit},i.a.createElement("div",{className:!0===this.state.showMembershipModal?"small-popup-outer appointment-detail-main displayBlock":"small-popup-outer appointment-detail-main no-display"},i.a.createElement("div",{className:"small-popup-header"},i.a.createElement("div",{className:"popup-name"},"Add Membership"),i.a.createElement("a",{onClick:function(){return e.hideMembershipModal()},className:"small-cross"},"\xd7")),i.a.createElement("div",{className:"small-popup-content"},i.a.createElement("div",{className:"juvly-container"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Membership Plan"),i.a.createElement("div",{className:"setting-input-box"},h))),i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Membership Type"),i.a.createElement("div",{className:"setting-input-box"},g.toUpperCase()))),"paid"===g&&i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},h," (Recurring Per Month)"),i.a.createElement("div",{className:"setting-input-box"},Ie(this.state.monthly_membership_fees,"currency",2)))),i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"One Time Setup Fee"),i.a.createElement("div",{className:"setting-input-box"},Ie(this.state.waiveOffOTFee?0:this.state.one_time_membership_setup,"currency",2)))),i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Total"),i.a.createElement("div",{className:"setting-input-box"},Ie(this.state.waiveOffOTFee?this.state.total_membership_with_waive:this.state.total_membership_without_waive,"currency",2)))),i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Client Email ",i.a.createElement("span",{className:"required"},"*")),i.a.createElement("input",{name:"patientEmail",className:this.state.patientEmailClass,onChange:this.handleInputChange,type:"text",value:this.state.patientEmail,autoComplete:"off",placeholder:"Enter Email"}))),i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Start Date ",i.a.createElement("span",{className:"required"},"*")),i.a.createElement(Un,{name:"subscription_started_at",onChangeDatePicker:this.onChangeDatePicker,minDate:new Date,maxDate:new Date(Se()().add(10,"years").toDate()),value:this.state.subscription_started_at,class:this.state.subscription_started_atClass}))),this.state.one_time_membership_setup>0&&i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Waive Setup Fee"),i.a.createElement("input",{type:"checkbox",className:"new-check",value:this.state.waiveOffOTFee,name:"waiveOffOTFee",onChange:this.handleInputChange})))),i.a.createElement("div",{className:!this.state.waiveOffOTFee&&this.state.total_membership_without_waive>0||this.state.waiveOffOTFee&&this.state.total_membership_with_waive>0?"":"no-display"},i.a.createElement("div",{className:"juvly-subtitle"},"Payment Details"),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Credit card number ",i.a.createElement("span",{className:"required"},"*")),i.a.createElement("div",{className:"setting-input-box",id:"card-number"}))),i.a.createElement("div",{className:"col-sm-2 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Exp. Date ",i.a.createElement("span",{className:"required"},"*")),i.a.createElement("div",{className:"setting-input-box",id:"card-expiry"}))),i.a.createElement("div",{className:"col-sm-2 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"CVC ",i.a.createElement("span",{className:"required"},"*")),i.a.createElement("div",{className:"setting-input-box",id:"card-cvc"}))))))),i.a.createElement("div",{className:"footer-static"},i.a.createElement("input",{type:"submit",className:"new-blue-btn pull-right",value:"Save"}))))),i.a.createElement("div",{className:"juvly-section full-width m-t-15"},i.a.createElement("div",{className:"juvly-container"},i.a.createElement("div",{className:"juvly-title m-b-40"},!1===this.state.showLoader&&i.a.createElement("span",null,"Wallet - ",s),i.a.createElement(me.a,{to:t,className:"pull-right"},i.a.createElement("img",{src:"../../../../images/close.png"}))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-8 col-xs-12"},1===_&&!1===this.state.showLoader?1===v?i.a.createElement("div",{className:"text-left"},i.a.createElement("span",null,"Will start on: ",Be(f),i.a.createElement("br",null),i.a.createElement("a",{className:"confirm-model",onClick:function(){return e.showModal("cancelMembership","Are you sure you want to cancel your monthly membership subscription?","")}}," Cancel Membership"))):i.a.createElement("div",{className:"membershipPrice text-left dashboard-bal"},Ie(r,"currency")):null,0===a&&0===_&&!1===this.state.showLoader&&1===l&&i.a.createElement("a",{onClick:function(){return e.showMembershipModal()},className:"pull-left new-blue-btn add-mon-mem-btn no-margin-left"},"Add Monthly Membership"),i.a.createElement("div",{className:"new-field-label text-left"},"MEMBERSHIP/MONTH")),i.a.createElement("div",{className:"col-sm-4 col-xs-12 text-right total-wallet-value"},!1===this.state.showLoader&&i.a.createElement("div",{className:"dashboard-bal"},Ie(o,"currency")),i.a.createElement("div",{className:"new-field-label"},"TOTAL WALLET VALUE")))),i.a.createElement("div",{className:"juvly-container border-top"},i.a.createElement("div",{className:"juvly-title m-b-0"},"What\u2019s in the wallet  ",i.a.createElement("a",{onClick:function(){return e.showPackageModal()},className:"pull-right new-blue-btn"},"Add Products/Packages"))),i.a.createElement("div",{className:"table-responsive h-240 upperTable"},i.a.createElement("table",{className:"table-updated juvly-table no-hover table-min-width"},i.a.createElement("thead",{className:"table-updated-thead"},i.a.createElement("tr",null,i.a.createElement("th",{className:"col-xs-5 table-updated-th"},"Item"),i.a.createElement("th",{className:"col-xs-2 table-updated-th text-right"},"Balance Unit"),i.a.createElement("th",{className:"col-xs-2 table-updated-th text-right"},"$ Balance"),i.a.createElement("th",{className:"col-xs-3 table-updated-th text-center"},"Action"))),i.a.createElement("tbody",{className:"ajax_body"},!1===this.state.showLoader&&this.state.clientWalletData&&this.state.clientWalletData.data&&this.state.clientWalletData.data.length>0&&this.state.clientWalletData.data.map(function(t,s){var o="";return t&&"product"===t.row_type&&(o=t.balance>0?Ie(t.balance,"currency"):"free"),i.a.createElement(i.a.Fragment,{key:s},t&&"product"===t.row_type?i.a.createElement("tr",{key:"product_"+s,className:"table-updated-tr"},i.a.createElement("td",{className:"table-updated-td"},t.product_name?t.product_name:"NA"),i.a.createElement("td",{className:"table-updated-td text-right"},t.balance_units?Ie(t.balance_units,"decimal",2):""),i.a.createElement("td",{className:"table-updated-td text-right"},o),i.a.createElement("td",{className:"table-updated-td text-center"},i.a.createElement("a",{onClick:function(){return e.showEditPackageModal(t)},className:"easy-link"},"Edit"),i.a.createElement("a",{onClick:function(){return e.showModal("removePackage","Are you sure? You won't be able to revert this!",t)},className:"easy-link"},"Remove"))):t&&"credit"===t.row_type&&"egiftcard"!==t.credit_type?i.a.createElement("tr",{key:"credit_"+s,className:"table-updated-tr"},i.a.createElement("td",{className:"table-updated-td"},i.a.createElement("b",null,t.product_name?t.product_name:"NA")),i.a.createElement("td",{className:"table-updated-td text-right"},"\xa0"),i.a.createElement("td",{className:"table-updated-td text-right"},t.balance?Ie(t.balance,"currency"):"0.00"),i.a.createElement("td",{className:"table-updated-td text-center"},Te("add-remove-dollar-credits")&&i.a.createElement("div",null,i.a.createElement("a",{onClick:function(){return e.showCreditModal("add",t.credit_type)},className:"easy-link"},"Add"),i.a.createElement("a",{className:"easy-link",onClick:function(){return e.showCreditModal("remove",t.credit_type)}},"Remove")))):i.a.createElement("tr",{key:"egift_"+s,className:"table-updated-tr"},i.a.createElement("td",{className:"table-updated-td"},i.a.createElement("b",null,t.product_name?t.product_name:"NA")),i.a.createElement("td",{className:"table-updated-td text-right"},"\xa0"),i.a.createElement("td",{className:"table-updated-td text-right"},t.balance?Ie(t.balance,"currency"):"0.00"),i.a.createElement("td",{className:"table-updated-td text-center"})),(n.indexOf("cus_")>-1||r<=0)&&a>0&&2===s&&i.a.createElement("tr",{key:"membership_"+s,className:"table-updated-tr"},i.a.createElement("td",{className:"table-updated-td"},i.a.createElement("b",null,"Membership - Monthly")),i.a.createElement("td",{className:"table-updated-td text-right"}),i.a.createElement("td",{className:"table-updated-td text-right"},Ie(r,"currency")),i.a.createElement("td",{className:"table-updated-td text-center"},i.a.createElement("a",{onClick:function(){return e.showPaymentDetails()},className:"easy-link"},"Payment details"))))})))),i.a.createElement("div",{className:"juvly-container"},i.a.createElement("div",{className:"juvly-title m-b-0"},"Wallet Log/Usage")),i.a.createElement("div",{className:"table-responsive h-240"},i.a.createElement("table",{className:"table-updated juvly-table no-hover table-min-width"},i.a.createElement("thead",{className:"table-updated-thead"},i.a.createElement("tr",null,i.a.createElement("th",{className:"col-xs-2 table-updated-th"},"Date"),i.a.createElement("th",{className:"col-xs-3 table-updated-th"},"Employee"),i.a.createElement("th",{className:"col-xs-5 table-updated-th"},"Description"),i.a.createElement("th",{className:"col-xs-2 table-updated-th text-right"},"Amount"))),i.a.createElement("tbody",{className:"ajax_body"},!1===this.state.showLoader&&this.state.clientWalletData&&this.state.clientWalletData.log_data&&this.state.clientWalletData.log_data.length>0&&this.state.clientWalletData.log_data.map(function(e,t){var a=e.description;a=a.replace("_"," ");var s="";return s=e.type&&"units"===e.type?e.units+" Units":Ie(e.amount,"currency"),i.a.createElement("tr",{className:"table-updated-tr",key:t},i.a.createElement("td",{className:"table-updated-td"},e.log_date?Be(e.log_date,!0):""),i.a.createElement("td",{className:"table-updated-td"},e.employee?je(e.employee):"NA"),i.a.createElement("td",{className:"table-updated-td"},a?je(a):""),i.a.createElement("td",{className:"table-updated-td text-right"},s&&s))}))),!1===this.state.showLoader&&i.a.createElement("div",{className:this.state.clientWalletData&&this.state.clientWalletData.log_data&&this.state.clientWalletData.log_data.length>0?"no-record no-display":"no-record"},"No record found")))),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock clientLoader clientProfileLoader":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.globalLang.loading_please_wait_text))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(void 0!==e.clientWalletData&&200===e.clientWalletData.status&&e.clientWalletData.data!==t.clientWalletData){var a="free",s=0,n=0;return e.clientWalletData.data&&e.clientWalletData.data.account_prefrence&&(s="paid"===(a=e.clientWalletData.data.account_prefrence.monthly_membership_type)?e.clientWalletData.data.account_prefrence.monthly_membership_fees:0,n=e.clientWalletData.data.account_prefrence.one_time_membership_setup),{clientWalletData:e.clientWalletData.data,showLoader:!1,monthly_membership_type:a,monthly_membership_fees:s,one_time_membership_setup:n,total_membership_with_waive:s,total_membership_without_waive:s+n}}return void 0!==e.addCreditData&&200===e.addCreditData.status&&e.addCreditData.data!==t.addCreditData?{addCreditData:e.addCreditData.data,addCreditMessage:e.addCreditData.message}:void 0!==e.addCreditData&&200!==e.addCreditData.status&&e.addCreditData.data!==t.addCreditData?{showLoader:!1,addCreditData:e.addCreditData.data,addCreditMessage:""}:void 0!==e.removeCreditData&&200===e.removeCreditData.status&&e.removeCreditData.data!==t.removeCreditData?{removeCreditData:e.removeCreditData.data,removeCreditMessage:e.removeCreditData.message}:void 0!==e.removeCreditData&&200!==e.removeCreditData.status&&e.removeCreditData.data!==t.removeCreditData?{showLoader:!1,removeCreditData:e.removeCreditData.data,removeCreditMessage:""}:void 0!==e.updateWalletPackageData&&200===e.updateWalletPackageData.status&&e.updateWalletPackageData.data!==t.updateWalletPackageData?{updateWalletPackageData:e.updateWalletPackageData.data,updateWalletPackMessage:e.updateWalletPackageData.message}:void 0!==e.updateWalletPackageData&&200!==e.updateWalletPackageData.status&&e.updateWalletPackageData.data!==t.updateWalletPackageData?{showLoader:!1,updateWalletPackageData:e.updateWalletPackageData.data,updateWalletPackMessage:""}:void 0!==e.addMembershipData&&200===e.addMembershipData.status&&e.addMembershipData.data!==t.addMembershipData?{addMembershipData:e.addMembershipData.data,addMembershipMessage:e.addMembershipData.message}:void 0!==e.addMembershipData&&200!==e.addMembershipData.status&&e.addMembershipData.data!==t.addMembershipData?{showLoader:!1,addMembershipData:e.addMembershipData.data,addMembershipMessage:""}:void 0!==e.removeWalletPackageData&&200===e.removeWalletPackageData.status&&e.removeWalletPackageData.data!==t.removeWalletPackageData?{removeWalletPackageData:e.removeWalletPackageData.data,removeWalletPackMessage:e.removeWalletPackageData.message}:void 0!==e.removeWalletPackageData&&200!==e.removeWalletPackageData.status&&e.removeWalletPackageData.data!==t.removeWalletPackageData?{showLoader:!1,removeWalletPackageData:e.removeWalletPackageData.data,removeWalletPackMessage:""}:void 0!==e.updateWalletCCData&&200===e.updateWalletCCData.status&&e.updateWalletCCData.data!==t.updateWalletCCData?{updateWalletCCData:e.updateWalletCCData.data,updateWalletCCMessage:e.updateWalletCCData.message}:void 0!==e.updateWalletCCData&&200!==e.updateWalletCCData.status&&e.updateWalletCCData.data!==t.updateWalletCCData?{showLoader:!1,updateWalletCCData:e.updateWalletCCData.data,updateWalletCCMessage:""}:void 0!==e.cancelMembershipData&&200===e.cancelMembershipData.status&&e.cancelMembershipData.data!==t.cancelMembershipData?{cancelMembershipData:e.cancelMembershipData.data,cancelMembershipMessage:e.cancelMembershipData.message}:void 0!==e.cancelMembershipData&&200!==e.cancelMembershipData.status&&e.cancelMembershipData.data!==t.cancelMembershipData?{showLoader:!1,cancelMembershipData:e.cancelMembershipData.data,cancelMembershipMessage:""}:void 0!==e.productData&&200===e.productData.status&&e.productData.data!==t.productData?{productData:e.productData.data,showSearchResult:!0}:void 0!==e.addPackageProductData&&200===e.addPackageProductData.status&&e.addPackageProductData.data!==t.addPackageProductData?{addPackageProductData:e.addPackageProductData.data,addPackageProductMessage:e.addPackageProductData.message,bogoPackData:void 0,showBogoTable:!1}:void 0!==e.addPackageProductData&&200!==e.addPackageProductData.status&&e.addPackageProductData.data!==t.addPackageProductData?{showLoader:!1,addPackageProductData:e.addPackageProductData.data,addPackageProductMessage:""}:void 0!==e.bogoPackData&&200===e.bogoPackData.status&&e.bogoPackData.data!==t.bogoPackData?{bogoPackData:e.bogoPackData.data,showBogoTable:t.bogo_id>0,showLoader:!1,mainBogoUnitsUsed:0,freeBogoUnitsUsed:0}:void 0!==e.bogoPackData&&200!==e.bogoPackData.status&&e.bogoPackData.data!==t.bogoPackData?{bogoPackData:[],showBogoTable:!1,showLoader:!1}:void 0!==e.priceData&&200===e.priceData.status&&e.priceData.data!==t.priceData?{priceData:e.priceData.data,showLoader:!1,price_per_unit:e.priceData.data?e.priceData.data.product_price_per_clinic:0}:void 0!==e.priceData&&200!==e.priceData.status&&e.priceData.data!==t.priceData?{showLoader:!1}:null}}]),t}(n.Component);var Yn=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData")),a={};return"GET_CLIENT_WALLET"===e.ClientsReducer.action&&(200!==e.ClientsReducer.data.status?rt.toast.error(t.global[e.ClientsReducer.data.message]):a.clientWalletData=e.ClientsReducer.data),"ADD_CREDIT_TO_WALLET"===e.ClientsReducer.action&&(200!==e.ClientsReducer.data.status?(rt.toast.error(t.global[e.ClientsReducer.data.message]),a.addCreditData=e.ClientsReducer.data):(rt.toast.success(t.global[e.ClientsReducer.data.message]),a.addCreditData=e.ClientsReducer.data)),"REMOVE_CREDIT_FROM_WALLET"===e.ClientsReducer.action&&(200!==e.ClientsReducer.data.status?(rt.toast.error(t.global[e.ClientsReducer.data.message]),a.removeCreditData=e.ClientsReducer.data):(rt.toast.success(t.global[e.ClientsReducer.data.message]),a.removeCreditData=e.ClientsReducer.data)),"UPDATE_WALLET_PACKAGE"===e.ClientsReducer.action&&(200!==e.ClientsReducer.data.status?(rt.toast.error(t.global[e.ClientsReducer.data.message]),a.updateWalletPackageData=e.ClientsReducer.data):(rt.toast.success(t.global[e.ClientsReducer.data.message]),a.updateWalletPackageData=e.ClientsReducer.data)),"REMOVE_WALLET_PACKAGE"===e.ClientsReducer.action&&(200!==e.ClientsReducer.data.status?(rt.toast.error(t.global[e.ClientsReducer.data.message]),a.removeWalletPackageData=e.ClientsReducer.data):(rt.toast.success(t.global[e.ClientsReducer.data.message]),a.removeWalletPackageData=e.ClientsReducer.data)),"UPDATE_MEMBERSHIP_CC"===e.ClientsReducer.action&&(200!==e.ClientsReducer.data.status?(rt.toast.error(t.global[e.ClientsReducer.data.message]),a.updateWalletCCData=e.ClientsReducer.data):(rt.toast.success(t.global[e.ClientsReducer.data.message]),a.updateWalletCCData=e.ClientsReducer.data)),"CANCEL_MEMBERSHIP"===e.ClientsReducer.action&&(200!==e.ClientsReducer.data.status?(rt.toast.error(t.global[e.ClientsReducer.data.message]),a.cancelMembershipData=e.ClientsReducer.data):(rt.toast.success(t.global[e.ClientsReducer.data.message]),a.cancelMembershipData=e.ClientsReducer.data)),"ADD_MONTHLY_MEMBERSHIP"===e.ClientsReducer.action&&(200!==e.ClientsReducer.data.status?(rt.toast.error(t.global[e.ClientsReducer.data.message]),a.addMembershipData=e.ClientsReducer.data):(rt.toast.success(t.global[e.ClientsReducer.data.message]),a.addMembershipData=e.ClientsReducer.data)),"SEARCH_WALLET_PRODUCT"===e.ClientsReducer.action&&(200!==e.ClientsReducer.data.status?(rt.toast.error(t.global[e.ClientsReducer.data.message]),a.productData=e.ClientsReducer.data):a.productData=e.ClientsReducer.data),"ADD_PACKAGE_PRODUCT"===e.ClientsReducer.action&&(200!==e.ClientsReducer.data.status?(rt.toast.error(t.global[e.ClientsReducer.data.message]),a.addPackageProductData=e.ClientsReducer.data):(rt.toast.success(t.global[e.ClientsReducer.data.message]),a.addPackageProductData=e.ClientsReducer.data)),"GET_BOGO_PACKAGE_DETAILS"===e.ClientsReducer.action&&(200!==e.ClientsReducer.data.status?(rt.toast.error(t.global[e.ClientsReducer.data.message]),a.bogoPackData=e.ClientsReducer.data):a.bogoPackData=e.ClientsReducer.data),"GET_PRODUCT_PRICE_BY_CLINIC"===e.ClientsReducer.action&&(200!==e.ClientsReducer.data.status?(rt.toast.error(t.global[e.ClientsReducer.data.message]),a.priceData=e.ClientsReducer.data):a.priceData=e.ClientsReducer.data),a},function(e){return Object(c.bindActionCreators)({getClientWallet:zs,addCreditToWallet:Ws,removeCreditFromWallet:Js,updateWalletPackage:Qs,removeWalletPackage:Ks,updateMembershipCC:Xs,cancelMembership:Zs,addMonthyMembership:$s,searchProduct:en,addPackageProduct:tn,getBogoPackageDetails:an,getProductPriceByClinic:sn},e)})(qn),Hn=Ee.API_URL,Gn=Q.a.create();function Vn(e,t){return function(a){Gn.get(Hn+"procedure-details/"+e+"/"+t).then(function(e){a({type:"GET_PROCEDURE_DATA",payload:e.data})}).catch(function(e){a({type:"GET_PROCEDURE_DATA",payload:e.response.data})})}}function zn(e){return function(t){Gn.post(Hn+"get-appointment-consultaion-data",e||"").then(function(e){t({type:"GET_APPT_CONSULT_DATA",payload:e.data})}).catch(function(e){t({type:"GET_APPT_CONSULT_DATA",payload:e.response.data})})}}function Wn(e){return function(t){Gn.post(Hn+"create-procedure",e||"").then(function(e){t({type:"CREATE_PROCEDURE",payload:e.data})}).catch(function(e){t({type:"CREATE_PROCEDURE",payload:e.response.data})})}}function Jn(e,t){return function(a){Gn.patch(Hn+"update-procedure/"+t,e||"").then(function(e){a({type:"UPDATE_PROCEDURE",payload:e.data})}).catch(function(e){a({type:"UPDATE_PROCEDURE",payload:e.response.data})})}}function Qn(e){return function(t){Gn.get(Hn+"get-associated-clinics/"+e).then(function(e){t({type:"GET_ASSOCIATED_CLINICS",payload:e.data})}).catch(function(e){t({type:"GET_ASSOCIATED_CLINICS",payload:e.response.data})})}}function Kn(e,t){return function(a){Gn.delete(Hn+"delete-procedure/"+e+"/"+t).then(function(e){a({type:"DELETE_PROCEDURE",payload:e.data})}).catch(function(e){a({type:"DELETE_PROCEDURE",payload:e.response.data})})}}Gn.defaults.headers.common["access-token"]=xe(),Xe(),Gn.interceptors.response.use(function(e){return void 0!=e.data&&void 0!=e.data.global_settings&&He(e.data.global_settings),Xe(),e},function(e){if(e.response){var t=e.response.data.message;return"invalid_token"!=t&&"session_timeout"!=t&&"server_error"!=t&&"token_not_found"!=t||Oe(),Promise.reject(e)}return{data:{data:"",message:"server_error",status:500}}});var Xn=function(){return{document_name:"",document_type:"",appointment_id:"",file:""}},Zn=function(){return{document_name:"setting-input-box",document_type:"setting-input-box",appointment_id:"setting-select-box",file:"image_questionnaire"}},$n=[{label:"image",value:"image",data:{patient_documents:{document_type:"image"}}},{label:"pdf",value:"pdf",data:{patient_documents:{document_type:"pdf"}}},{label:"word",value:"word",data:{patient_documents:{document_type:"word"}}},{label:"excel",value:"excel",data:{patient_documents:{document_type:"excel"}}}],ei=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).componentDidUpdate=function(e,t){},a.handleClick=function(e){a.refAutoSuggestionProducts&&!a.refAutoSuggestionProducts.contains(e.target)&&a.setState({showAutoSuggestion:!1,documentTypeIndex:""})},a.handleUpload=function(e){var t;t="signature_image"===e?"patient_signatures":"procedure_image";var s=new FormData;s.append("file",a.state.file,a.state.file.name);var n=Ee.API_URL+"media/upload?upload_type=".concat(t);Q.a.post(n,s).then(function(e){var t,s=a.state.target.name;a.setState((t={},Object(se.a)(t,s,e.data.data.file_name),Object(se.a)(t,"showLoader",!1),t))}).catch(function(e){rt.toast.error(a.state.globalLang[e.response.data.message])})},a.handleFileRead=function(e){a.state.fileReader.result;var t,s=a.state.target.name+"_thumbnail",n=a.state.target.name+"_src",i=a.state.target.name+"_size",r=Fe(a.state.file.size,1);a.setState((t={},Object(se.a)(t,s,a.state.file.name),Object(se.a)(t,i,r),Object(se.a)(t,n,a.state.fileReader.result),Object(se.a)(t,"showLoader",!0),t)),a.handleUpload(a.state.target.name)},a.handleFileChosen=function(e,t){a.state.fileReader=new FileReader,a.state.fileReader.onloadend=a.handleFileRead,a.state.fileReader.readAsDataURL(e),a.state.file=e,a.state.target=t},a.handleInputChange=function(e){a.setState({userChanged:!0});var t=e.target,s=t.value,n=t.name,i=e.target.dataset.index,r=a.state.multipleDocumentList;if(r[i][n]=s,a.setState({multipleDocumentList:r}),t&&"file"===t.type){t.files&&["image/png","image/PNG","image/jpg","image/JPG","image/jpeg","image/JPEG","image/gif","image/GIF"].indexOf(t.files[0].type)>-1||rt.toast.error("This file type is not allowed")}},a.handleSubmit=function(e){e.preventDefault()},a.addMultipleDocumentList=function(e){var t=a.state.multipleDocumentList;t.push(Xn());var s=a.state.multipleDocumentClassList;s.push(Zn()),a.setState({multipleDocumentList:t,multipleDocumentClassList:s})},a.deleteMultipleDocumentList=function(e){var t=a.state.multipleDocumentList;if(1==t.length)return!1;var s=e.target.dataset.index;t.splice(s,1);var n=a.state.multipleDocumentClassList;void 0!=n[s]&&n.splice(s,1),a.setState({multipleDocumentList:t,multipleDocumentClassList:n})},a.handleSelectedDocumentType=function(e){if("object"==typeof e&&void 0!=e.label&&""!=a.state.documentTypeIndex){var t=a.state.multipleDocumentList;t[a.state.documentTypeIndex].document_type=e.label,t=t,a.setState({selectedDocumentType:{},showAutoSuggestion:!1,multipleDocumentList:t,documentTypeIndex:""})}},a.handleAutoSuggestion=function(e){var t={},s=e.target.value,n=e.target.name,i=e.target.dataset.index,r=a.state.multipleDocumentList;r[i][n]=s,t.multipleDocumentList=r;var o=[],l=!1,c="";s.length>2&&(c=i,l=!0,a.state.documentTypeList.map(function(e,t){if("string"==typeof e.label){var a=new RegExp(s.toLowerCase(),"g");e.label.toLowerCase().match(a)&&o.push(e)}}),r.map(function(e,t){if("string"==typeof e.document_type&&""!=e.document_type){var a=new RegExp(s.toLowerCase(),"g"),n=e.document_type.toLowerCase();i!=t&&n.match(a)&&o.push({label:e.document_type,value:e.document_type})}})),t.autoSuggestionDocumentTypes=o,t.selectedDocumentType={},t.userChanged=!0,t.showAutoSuggestion=l,t.documentTypeIndex=c,a.setState(t)};var s=JSON.parse(localStorage.getItem("languageData"));return a.state={clientsLang:s.clients,globalLang:s.global,showLoader:!1,backURLType:a.props.match.params.actionType?a.props.match.params.actionType:"clients",clientID:a.props.match.params.clientID,actionType:a.props.match.params.actionType?a.props.match.params.actionType:"profile",isRender:!1,isShowDeleteModal:!1,documentId:0,multipleDocumentList:[Xn()],multipleDocumentClassList:[Zn()],showAutoSuggestion:!1,documentTypeList:$n,autoSuggestionDocumentTypes:[],selectedDocumentType:{},documentTypeIndex:""},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){window.onscroll=function(){return!1},document.addEventListener("click",this.handleClick,!1);var e=!1,t=this.props.match.params.clientID;void 0==t&&(t=0,e=!0);var a=this.props.match.params.type;void 0==a&&(a="");var s=this.props.match.params.documentID;void 0==s&&s<0&&(s=0),this.setState({clientID:t,actionType:a,isRender:e,documentID:s})}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClick,!1)}},{key:"render",value:function(){var e=this,t="";this.state.backURLType&&"clients"===this.state.backURLType&&(t=this.props.match.params.type?"/"+this.state.backURLType+"/documents/"+this.props.match.params.clientID+"/"+this.props.match.params.type:"/"+this.state.backURLType);var a=this.state.documentID?"/../../../../../images/upload.png":"../../../../images/upload.png";return i.a.createElement("div",{id:"content",className:"content-client-documents"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement("div",{className:"juvly-section full-width m-t-15"},i.a.createElement("div",{className:"juvly-container"},i.a.createElement("div",{className:"juvly-title m-b-40"},"Add Document",i.a.createElement(me.a,{to:t,className:"pull-right"},i.a.createElement("img",{src:"/images/close.png"}))),i.a.createElement("div",{className:"juvly-subtitle no-margin"},"Document Information"),this.state.multipleDocumentList.map(function(t,s){var n=void 0!=e.state.multipleDocumentClassList[s]?e.state.multipleDocumentClassList[s]:Zn();return i.a.createElement("div",{key:"document-upload"+s,className:"row add-doc-section"},i.a.createElement("div",{className:"col-xs-12 profile-detail-left no-margin"},i.a.createElement("div",{className:"main-profile-picture"},i.a.createElement("div",{className:"col-xs-6 no-padding"},i.a.createElement("div",{className:"file-container file-upload-img"},i.a.createElement("img",{src:a}),i.a.createElement("span",{className:"file-name-hide no-display"}),i.a.createElement("span",{className:"file-size-hide no-display"}),i.a.createElement("div",{className:"upload"},"Upload",i.a.createElement("input",{type:"file",className:n.file,name:"file",value:t.file,autoComplete:"off",onChange:e.handleInputChange,"data-index":s}))))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Document Name ",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{type:"text",autoComplete:"off",className:n.document_name,name:"document_name",value:t.document_name,onChange:e.handleInputChange,"data-index":s})))),i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Document Type ",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer add-doc-serach-dropdown"},i.a.createElement("input",{type:"text",autoComplete:"off",className:n.document_type,name:"document_type",value:t.document_type,onChange:e.handleAutoSuggestion,"data-index":s}),i.a.createElement("ul",{className:e.state.autoSuggestionDocumentTypes.length&&e.state.showAutoSuggestion&&e.state.documentTypeIndex==s?" search-dropdown":"cal-dropdown clinicname-dropdown no-display",ref:function(t){return e.refAutoSuggestionProducts=t}},e.state.autoSuggestionDocumentTypes.map(function(t,a){return i.a.createElement("li",{key:"products-"+s+"-"+a,"data-id":t.id,onClick:e.handleSelectedDocumentType.bind(e,t)},i.a.createElement("a",null,t&&t.label))}))))),i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer no-margin"},i.a.createElement("div",{className:"new-field-label"},"Select Appointment"),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("select",{className:n.appointment_id,name:"appointment_id",value:t.appointment_id,onChange:e.handleInputChange,"data-index":s},i.a.createElement("option",{value:""},"Select")))))),e.state.multipleDocumentList.length>1&&i.a.createElement("a",{href:"javascript:void(0);",className:"add-round-btn",onClick:e.deleteMultipleDocumentList,"data-index":s},i.a.createElement("span",{onClick:e.deleteMultipleDocumentList,"data-index":s},"-"))))}),i.a.createElement("div",{className:"add-document-btns"},i.a.createElement("a",{href:"javascript:void(0);",className:"new-blue-btn pull-right",onClick:this.addMultipleDocumentList},"Add More Documents"),i.a.createElement("p",{className:"p-text pull-left"},"Allowed file types: Images, PDF documents, Excel and Word documents."))),i.a.createElement("div",{className:"footer-static"},i.a.createElement("a",{href:"javascript:void(0);",className:"new-blue-btn pull-right"},"Save"),i.a.createElement(me.a,{to:t,className:"new-white-btn pull-right"},"Cancel")))),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock clientLoader clientProfileLoader":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.globalLang.loading_please_wait_text))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return null}}]),t}(n.Component);var ti=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData")),a={};return"GET_PROCEDURE_DATA1"===e.ProcedureReducer.action&&(200!==e.ProcedureReducer.data.status?rt.toast.error(t.global[e.ProcedureReducer.data.message]):a.procedureData=e.ProcedureReducer.data),a},function(e){return Object(c.bindActionCreators)({getProcedureData:Vn},e)})(ei),ai=(a(1117),Ee.API_URL),si=Q.a.create();function ni(e){return function(t){si.get(ai+"users",e||"").then(function(e){t({type:"USERS_LIST",payload:e.data})}).catch(function(e){t({type:"USERS_LIST",payload:e.response.data})})}}function ii(e,t){return function(a){si.get(ai+"users/"+e+"?scopes=clinics,privileges").then(function(e){a("profile"==t?{type:"PROFILE_GET",payload:e.data}:{type:"USER_GET",payload:e.data})}).catch(function(e){a("profile"==t?{type:"PROFILE_GET",payload:e.response.data}:{type:"USER_GET",payload:e.response.data})})}}function ri(e){return function(t){si.delete(ai+"users/"+e).then(function(e){t({type:"USER_DELETE",payload:e.data})}).catch(function(e){t({type:"USER_DELETE",payload:e.response.data})})}}function oi(e,t,a){return function(s){si.patch(ai+"users/"+t,e).then(function(e){s("profile"==a?{type:"PROFILE_UPDATE",payload:e.data}:{type:"USER_UPDATE",payload:e.data})}).catch(function(e){s("profile"==a?{type:"PROFILE_UPDATE",payload:e.response.data}:{type:"USER_UPDATE",payload:e.response.data})})}}function li(e){return function(t){si.put(ai+"post-treatment-email",e||"").then(function(e){t({type:"POST_TREATMENT_EMAIL_UPDATE",payload:e.data})}).catch(function(e){t({type:"POST_TREATMENT_EMAIL_UPDATE",payload:e.response.data})})}}function ci(e){return function(t){si.put(ai+"pre-treatment-email",e||"").then(function(e){t({type:"PRE_TREATMENT_EMAIL_UPDATE",payload:e.data})}).catch(function(e){t({type:"PRE_TREATMENT_EMAIL_UPDATE",payload:e.response.data})})}}function di(e){return function(t){si.get(ai+"questionnaires",e||"").then(function(e){t({type:"QUESTIONNAIRES_LIST",payload:e.data})}).catch(function(e){t({type:"QUESTIONNAIRES_LIST",payload:e.response.data})})}}function mi(e,t){return function(a){si.put(ai+"update/row/order/"+t,e).then(function(e){a({type:"SORT_ORDER_UPDATE",payload:e.data})}).catch(function(e){a({type:"SORT_ORDER_UPDATE",payload:e.response.data})})}}function ui(e){return function(t){si.get(ai+"post-treatment-instructions",e||"").then(function(e){t({type:"POST_TREATMENT_INSTRUCTIONS_LIST",payload:e.data})}).catch(function(e){t({type:"POST_TREATMENT_INSTRUCTIONS_LIST",payload:e.response.data})})}}function pi(e){return function(t){si.get(ai+"pre-treatment-instructions",e||"").then(function(e){t({type:"PRE_TREATMENT_INSTRUCTIONS_LIST",payload:e.data})}).catch(function(e){t({type:"PRE_TREATMENT_INSTRUCTIONS_LIST",payload:e.response.data})})}}function hi(e){return function(t){si.post(ai+"media/upload",e).then(function(e){t({type:"FILE_UPLOADED",payload:e.data})}).catch(function(e){t({type:"FILE_UPLOADED",payload:e.response.data})})}}function gi(e){return function(t){si.get(ai+"post-treatment-email",e).then(function(e){t({type:"POST_TREATMENT_EMAIL_LIST",payload:e.data})}).catch(function(e){t({type:"POST_TREATMENT_EMAIL_LIST",payload:e.response.data})})}}function _i(e,t){return function(a){si.get(ai+"accounts/"+e+"?scopes="+t).then(function(e){a({type:"ACCOUNT_GET",payload:e.data})}).catch(function(e){a({type:"ACCOUNT_GET",payload:e.response.data})})}}function vi(e,t){return function(a){si.put(ai+"accounts/"+t,e).then(function(e){a({type:"ACCOUNT_PUT",payload:e.data})}).catch(function(e){a({type:"ACCOUNT_PUT",payload:e.response.data})})}}function fi(e){return function(t){si.get(ai+"user-role/"+e).then(function(e){t({type:"PRIVILEGE_LIST",payload:e.data})}).catch(function(e){t({type:"PRIVILEGE_LIST",payload:e.response.data})})}}function bi(e){return function(t){si.put(ai+"user-role",e).then(function(e){t({type:"PRIVILEGE_UPDATE",payload:e.data})}).catch(function(e){t({type:"PRIVILEGE_UPDATE",payload:e.response.data})})}}function Ei(){return function(e){si.get(ai+"appointments/setting/email_sms").then(function(t){e({type:"APPOINTMENT_GET",payload:t.data})}).catch(function(t){e({type:"APPOINTMENT_GET",payload:t.response.data})})}}function yi(e){return function(t){si.get(ai+"pre-treatment-email",e).then(function(e){t({type:"PRE_TREATMENT_EMAIL_LIST",payload:e.data})}).catch(function(e){t({type:"PRE_TREATMENT_EMAIL_LIST",payload:e.response.data})})}}function Ni(e){return function(t){si.get(ai+"appointments/setting/appointment-reminders",e).then(function(e){t({type:"APPOINTMENT_REMINDER",payload:e.data})}).catch(function(e){t({type:"APPOINTMENT_REMINDER",payload:e.response.data})})}}function Si(e){return function(t){si.delete(ai+"appointments/setting/appointment-reminders/"+e).then(function(e){t({type:"DELETE_APPOINTMENT_REMINDER",payload:e.data})}).catch(function(e){t({type:"DELETE_APPOINTMENT_REMINDER",payload:e.response.data})})}}function Di(e,t){return function(a){si.put(ai+"appointments/setting/appointment-reminders/"+t,e).then(function(e){a({type:"UPDATE_APPOINTMENT_REMINDER",payload:e.data})}).catch(function(e){a({type:"UPDATE_APPOINTMENT_REMINDER",payload:e.response.data})})}}function wi(e){return function(t){si.post(ai+"appointments/setting/appointment-reminders",e).then(function(e){t({type:"CREATE_APPOINTMENT_REMINDER",payload:e.data})}).catch(function(e){t({type:"CREATE_APPOINTMENT_REMINDER",payload:e.response.data})})}}function Ci(e){return function(t){si.get(ai+"appointments/setting/appointment-reminders/"+e).then(function(e){t({type:"GET_EDIT_APPOINTMENT_REMINDER",payload:e.data})}).catch(function(e){t({type:"GET_EDIT_APPOINTMENT_REMINDER",payload:e.response.data})})}}function xi(e){return function(t){si.post(ai+"upload/signature",e).then(function(e){t({type:"BASE64_UPLOAD",payload:e.data})}).catch(function(e){t({type:"BASE64_UPLOAD",payload:e.response.data})})}}si.defaults.headers.common["access-token"]=xe(),Xe(),si.interceptors.response.use(function(e){return void 0!=e.data&&void 0!=e.data.global_settings&&He(e.data.global_settings),Xe(),e},function(e){if(e.response){var t=e.response.data.message;return"invalid_token"!=t&&"session_timeout"!=t&&"server_error"!=t&&"token_not_found"!=t||Oe(),Promise.reject(e)}return{data:{data:"",message:"server_error",status:500}}});var Li=function(e){return function(t){si.get(ai+"consents",e||"").then(function(e){t({type:"CONSENTS_LIST",payload:e.data})}).catch(function(e){t({type:"CONSENTS_LIST",payload:e.response.data})})}},Oi=function(e,t){return function(a){si.get(ai+"consents/"+t,e||"").then(function(e){a({type:"SELECTED_CONSENTS_LIST",payload:e.data})}).catch(function(e){a({type:"SELECTED_CONSENTS_LIST",payload:e.response.data})})}},Ai=function(e){return function(t){si.post(ai+"consents",e||"").then(function(e){t({type:"CREATE_CONSENTS",payload:e.data})}).catch(function(e){t({type:"CREATE_CONSENTS",payload:e.response.data})})}},Ti=function(e,t){return function(a){si.patch(ai+"consents/"+t,e||"").then(function(e){a({type:"UPDATE_SELECTED_CONSENTS",payload:e.data})}).catch(function(e){a({type:"UPDATE_SELECTED_CONSENTS",payload:e.response.data})})}},Ii=function(e){return function(t){si.delete(ai+"consents/"+e).then(function(e){t({type:"CONSENT_DELETED",payload:e.data})}).catch(function(e){t({type:"CONSENT_DELETED",payload:e.response.data})})}};function Ri(){return function(e){si.get(ai+"appointments/setting/booking-urls").then(function(t){e({type:"GET_BOOKING_URL_LIST",payload:t.data})}).catch(function(t){e({type:"GET_BOOKING_URL_LIST",payload:t.response.data})})}}function ki(e){return function(t){si.put(ai+"appointments/setting/booking-urls",e).then(function(e){t({type:"UPDATE_BOOKING_URL_LIST",payload:e.data})}).catch(function(e){t({type:"UPDATE_BOOKING_URL_LIST",payload:e.response.data})})}}function Pi(){return function(e){si.get(ai+"account/wallet-membership-setting").then(function(t){e({type:"GET_MEMBERSHIP_WALLET_LIST",payload:t.data})}).catch(function(t){e({type:"GET_MEMBERSHIP_WALLET_LIST",payload:t.response.data})})}}function ji(e){return function(t){si.put(ai+"account/wallet-membership-setting",e).then(function(e){t({type:"UPDATE_MEMBERSHIP_WALLET_LIST",payload:e.data})}).catch(function(e){t({type:"UPDATE_MEMBERSHIP_WALLET_LIST",payload:e.response.data})})}}function Mi(e){return function(t){si.get(ai+"appointments/setting/patient-portal",e).then(function(e){t({type:"GET_PATIENT_PORTAL",payload:e.data})}).catch(function(e){t({type:"GET_PATIENT_PORTAL",payload:e.response.data})})}}function Ui(e){return function(t){si.put(ai+"appointments/setting/patient-portal",e).then(function(e){t({type:"UPDATE_PATIENT_PORTAL",payload:e.data})}).catch(function(e){t({type:"UPDATE_PATIENT_PORTAL",payload:e.response.data})})}}function Fi(e){return function(t){si.get(ai+"appointments/setting/cancellation-policy",e).then(function(e){t({type:"GET_CANCELLATION_POLICY",payload:e.data})}).catch(function(e){t({type:"GET_CANCELLATION_POLICY",payload:e.response.data})})}}function Bi(e){return function(t){si.put(ai+"enable-disable-settings/",e).then(function(e){t({type:"CANCELLATION_POLICY_STATUS",payload:e.data})}).catch(function(e){t({type:"CANCELLATION_POLICY_STATUS",payload:e.response.data})})}}function qi(e){return function(t){si.post(ai+"appointments/setting/patient-portal/activate-all",e).then(function(e){t({type:"ACTIVATE_PATIENT_PORTAL",payload:e.data})}).catch(function(e){t({type:"ACTIVATE_PATIENT_PORTAL",payload:e.response.data})})}}function Yi(e){return function(t){si.put(ai+"appointments/setting/cancellation-policy",e).then(function(e){t({type:"UPDATE_CANCELLATION_POLICY",payload:e.data})}).catch(function(e){t({type:"UPDATE_CANCELLATION_POLICY",payload:e.response.data})})}}function Hi(e){return function(t){si.put(ai+"appointments/setting/email_sms",e).then(function(e){t({type:"APPOINTMENT_UPDATE",payload:e.data})}).catch(function(e){t({type:"APPOINTMENT_UPDATE",payload:e.response.data})})}}function Gi(e){return function(t){si.post(ai+"users",e).then(function(e){t({type:"USER_CREATE",payload:e.data})}).catch(function(e){t({type:"USER_CREATE",payload:e.response.data})})}}function Vi(){return function(e){si.get(ai+"user/get-all-mds").then(function(t){e({type:"MDS_LIST",payload:t.data})}).catch(function(t){e({type:"MDS_LIST",payload:t.response.data})})}}var zi=function(e){return function(t){si.get(ai+"md-room/get-procedures",e).then(function(e){t({type:"MDRoom_LIST",payload:e.data})}).catch(function(e){t({type:"MDRoom_LIST",payload:e.response.data})})}},Wi=function(e){return function(t){si.get(ai+"provider-room/get-procedures",e).then(function(e){t({type:"ProviderRoom_LIST",payload:e.data})}).catch(function(e){t({type:"ProviderRoom_LIST",payload:e.response.data})})}},Ji=function(e,t,a){return function(s){si.get(ai+a+"/get-procedures/"+e,t).then(function(e){s({type:"userRoomData_LIST",payload:e.data})}).catch(function(e){s({type:"userRoomData_LIST",payload:e.response.data})})}};function Qi(e){return function(t){si.post(ai+"post-treatment-instructions",e||"").then(function(e){t({type:"CREATE_POST_TREATMENT_INSTRUCTIONS_LIST",payload:e.data})}).catch(function(e){t({type:"CREATE_POST_TREATMENT_INSTRUCTIONS_LIST",payload:e.response.data})})}}function Ki(e,t){return function(a){si.get(ai+"post-treatment-instructions/"+t,e||"").then(function(e){a({type:"SELECTED_POST_TREATMENT_INSTRUCTIONS_LIST",payload:e.data})}).catch(function(e){a({type:"SELECTED_POST_TREATMENT_INSTRUCTIONS_LIST",payload:e.response.data})})}}function Xi(e,t){return function(a){si.patch(ai+"post-treatment-instructions/"+t,e||"").then(function(e){a({type:"UPDATE_POST_TREATMENT_INSTRUCTIONS_LIST",payload:e.data})}).catch(function(e){a({type:"UPDATE_POST_TREATMENT_INSTRUCTIONS_LIST",payload:e.response.data})})}}function Zi(e){return function(t){si.post(ai+"pre-treatment-instructions",e||"").then(function(e){t({type:"CREATE_PRE_TREATMENT_INSTRUCTIONS_LIST",payload:e.data})}).catch(function(e){t({type:"CREATE_PRE_TREATMENT_INSTRUCTIONS_LIST",payload:e.response.data})})}}function $i(e,t){return function(a){si.get(ai+"pre-treatment-instructions/"+t,e||"").then(function(e){a({type:"SELECTED_PRE_TREATMENT_INSTRUCTIONS_LIST",payload:e.data})}).catch(function(e){a({type:"SELECTED_PRE_TREATMENT_INSTRUCTIONS_LIST",payload:e.response.data})})}}function er(e,t){return function(a){si.patch(ai+"pre-treatment-instructions/"+t,e||"").then(function(e){a({type:"UPDATE_PRE_TREATMENT_INSTRUCTIONS_LIST",payload:e.data})}).catch(function(e){a({type:"UPDATE_PRE_TREATMENT_INSTRUCTIONS_LIST",payload:e.response.data})})}}function tr(e){return function(t){si.delete(ai+"pre-treatment-instructions/"+e).then(function(e){t({type:"DELETE_PRE_TREATMENT_INSTRUCTIONS_LIST",payload:e.data})}).catch(function(e){t({type:"DELETE_PRE_TREATMENT_INSTRUCTIONS_LIST",payload:e.response.data})})}}function ar(e){return function(t){si.delete(ai+"post-treatment-instructions/"+e).then(function(e){t({type:"DELETE_POST_TREATMENT_INSTRUCTIONS_LIST",payload:e.data})}).catch(function(e){t({type:"DELETE_POST_TREATMENT_INSTRUCTIONS_LIST",payload:e.response.data})})}}var sr=function(e){return function(t){si.post(ai+"questionnaires",e||"").then(function(e){t({type:"CREATE_QUESTIONNAIRES",payload:e.data})}).catch(function(e){t({type:"CREATE_QUESTIONNAIRES",payload:e.response.data})})}},nr=function(e,t){return function(a){si.put(ai+"questionnaires/"+t,e||"").then(function(e){a({type:"UPDATE_QUESTIONNAIRES",payload:e.data})}).catch(function(e){a({type:"UPDATE_QUESTIONNAIRES",payload:e.response.data})})}},ir=function(e,t,a){return function(s){si.put(ai+"questionnaires/"+t+"/question/"+a,e||"").then(function(e){s({type:"UPDATE_QUESTION",payload:e.data})}).catch(function(e){s({type:"UPDATE_QUESTION",payload:e.response.data})})}},rr=function(e,t){return function(a){si.post(ai+"questionnaires/"+t+"/question",e||"").then(function(e){a({type:"CREATE_QUESTION",payload:e.data})}).catch(function(e){a({type:"CREATE_QUESTION",payload:e.response.data})})}},or=function(e){return function(t){si.get(ai+"questionnaires/"+e+"?scopes=questions").then(function(e){t({type:"GET_QUESTIONNAIRE",payload:e.data})}).catch(function(e){t({type:"GET_QUESTIONNAIRE",payload:e.response.data})})}},lr=function(e,t){return function(a){si.get(ai+"questionnaires/".concat(e,"/question/").concat(t)).then(function(e){a({type:"GET_QUESTION",payload:e.data})}).catch(function(e){a({type:"GET_QUESTION",payload:e.response.data})})}},cr=function(e,t){return function(a){si.delete(ai+"questionnaires/"+e+"/question/"+t).then(function(e){a({type:"QUESTION_DELETED",payload:e.data})}).catch(function(e){a({type:"QUESTION_DELETED",payload:e.response.data})})}},dr=function(e){return function(t){si.delete(ai+"questionnaires/"+e).then(function(e){t({type:"QUESTIONNAIRE_DELETED",payload:e.data})}).catch(function(e){t({type:"QUESTIONNAIRE_DELETED",payload:e.response.data})})}};function mr(e){return function(t){si.post(ai+"user/edit-privilege",e).then(function(e){t({type:"USER_PRIVILEGE_UPDATE",payload:e.data})}).catch(function(e){t({type:"USER_PRIVILEGE_UPDATE",payload:e.response.data})})}}function ur(e,t,a,s,n){return function(t){si.delete(ai+"procedure-notes/"+e).then(function(e){var i={params:{action:s}},r=e.data.message,o=e.data.status;si.get(ai+n+"/get-procedures/"+a,i).then(function(e){e.data.message=r,e.data.status=o,t({type:"SETTING_DELETE_PROCEDURE_NOTE",payload:e.data})}).catch(function(e){t({type:"SETTING_DELETE_PROCEDURE_NOTE",payload:e.response.data})})}).catch(function(e){t({type:"SETTING_DELETE_PROCEDURE_NOTE",payload:e.response.data})})}}function pr(e){return function(t){si.get(ai+"user/2fa",e).then(function(e){t({type:"USER_2FA_GET",payload:e.data})}).catch(function(e){t({type:"USER_2FA_GET",payload:e.response.data})})}}function hr(e){return function(t){si.patch(ai+"user/2fa",e).then(function(e){t({type:"USER_2FA_DISABLED",payload:e.data})}).catch(function(e){t({type:"USER_2FA_DISABLED",payload:e.response.data})})}}function gr(e){return function(t){si.get(ai+"user/2fa/google",e).then(function(e){t({type:"GOOGLE_2FA_GET",payload:e.data})}).catch(function(e){t({type:"GOOGLE_2FA_GET",payload:e.response.data})})}}function _r(e){return function(t){si.put(ai+"user/2fa/google",e).then(function(e){t({type:"GOOGLE_2FA_VERIFY",payload:e.data})}).catch(function(e){t({type:"GOOGLE_2FA_VERIFY",payload:e.response.data})})}}function vr(e){return function(t){si.post(ai+"user/2fa/sms",e).then(function(e){t({type:"SEND_OTP",payload:e.data})}).catch(function(e){t({type:"SEND_OTP",payload:e.response.data})})}}function fr(e){return function(t){si.put(ai+"user/2fa/sms",e).then(function(e){t({type:"VERIFY_OTP",payload:e.data})}).catch(function(e){t({type:"VERIFY_OTP",payload:e.response.data})})}}function br(e){return function(e){e({type:"EMPTY_DATA",payload:{data:"",status:200,message:""}})}}function Er(e,t,a,s,n){return t=t||!1,a=a||{},n=n||"list",function(i){si.post(ai+s+"/sign-consents",e).then(function(e){if(!0===t){var r=e.data.message,o=e.data.status;si.get(ai+s+"/get-procedures",a).then(function(e){e.data.message=r,e.data.status=o,i({type:"SIGN_PROCEDURE",payload:e.data})}).catch(function(e){i({type:"SIGN_PROCEDURE",payload:e.response.data})})}else s&&"provider-room"===s&&"detail"===n&&(e.data.status=201),i({type:"SIGN_PROCEDURE",payload:e.data})}).catch(function(e){i({type:"SIGN_PROCEDURE",payload:e.response.data})})}}function yr(e,t,a,s,n){return function(i){si.patch(ai+"provider-room/mark-unmark-as-after-photos/"+t,e).then(function(e){var r=e.data.message,o=e.data.status,l=n&&"list"===n?"/get-procedures":"/get-procedures/".concat(t);si.get(ai+s+l,a).then(function(e){e.data.message=r,e.data.status=o,i({type:"MARK_UNMARK_AFTER_PHOTOS",payload:e.data})}).catch(function(e){i({type:"MARK_UNMARK_AFTER_PHOTOS",payload:e.response.data})})}).catch(function(e){i({type:"MARK_UNMARK_AFTER_PHOTOS",payload:e.response.data})})}}function Nr(e,t,a,s,n){return function(i){si.patch(ai+"provider-room/hide-procedure/"+e).then(function(e){var r=e.data.message,o=e.data.status,l=s&&"list"===s?"/get-procedures":"/get-procedures/".concat(n);si.get(ai+a+l,t).then(function(e){e.data.message=r,e.data.status=s&&"list"===s?o:201,i({type:"HIDE_MARK_AFTER_PHOTOS",payload:e.data})}).catch(function(e){i({type:"HIDE_MARK_AFTER_PHOTOS",payload:e.response.data})})}).catch(function(e){i({type:"HIDE_MARK_AFTER_PHOTOS",payload:e.response.data})})}}var Sr=function(e){return function(t){si.get(ai+"clinics",e||"").then(function(e){t({type:"CLINIC_LIST",payload:e.data})}).catch(function(e){t({type:"CLINIC_LIST",payload:e.response.data})})}},Dr=function(e,t){return function(a){var s="";s=e?ai+"procedure-questionnarie-details/"+e:ai+"procedure-questionnarie-details/",si.get(s,t||"").then(function(e){a({type:"PROCEDURE_QUESTIONNAIRE",payload:e.data})}).catch(function(e){a({type:"PROCEDURE_QUESTIONNAIRE",payload:e.response.data})})}},wr=function(e,t){return function(a){si.get(ai+"procedure-consent-details/"+e,t||"").then(function(e){a({type:"PROCEDURE_CONSENTS",payload:e.data})}).catch(function(e){a({type:"PROCEDURE_CONSENTS",payload:e.response.data})})}},Cr=function(e,t){return function(a){si.put(ai+"procedure-questionnarie-details/"+e,t||"").then(function(e){a({type:"UPDATE_PROCEDURE_QUESTIONNAIRE",payload:e.data})}).catch(function(e){a({type:"UPDATE_PROCEDURE_QUESTIONNAIRE",payload:e.response.data})})}},xr=function(e){return function(t){si.get(ai+"subscription-invoices",e||"").then(function(e){t({type:"SUBSCRIPTION_INVOICE_LIST",payload:e.data})}).catch(function(e){t({type:"SUBSCRIPTION_INVOICE_LIST",payload:e.response.data})})}},Lr=function(e,t){return function(a){si.get(ai+"subscription-invoice-details/"+e,t||"").then(function(e){a({type:"SUBSCRIPTION_INVOICE_DATA",payload:e.data})}).catch(function(e){a({type:"SUBSCRIPTION_INVOICE_DATA",payload:e.response.data})})}},Or=function(e){return function(t){si.post(ai+"pay-invoice",e||"").then(function(e){t({type:"PAY_LAST_DUE_INVOICE",payload:e.data})}).catch(function(e){t({type:"PAY_LAST_DUE_INVOICE",payload:e.response.data})})}},Ar=function(e){return function(t){si.get(ai+"subscription-details",e||"").then(function(e){t({type:"SUBSCRIPTION_DETAILS",payload:e.data})}).catch(function(e){t({type:"SUBSCRIPTION_DETAILS",payload:e.response.data})})}},Tr=function(e){return function(t){si.post(ai+"add-subscription-addon",e||"").then(function(e){t({type:"SUBSCRIPTION_ADD_ON",payload:e.data})}).catch(function(e){t({type:"SUBSCRIPTION_ADD_ON",payload:e.response.data})})}},Ir=function(e){return function(t){si.post(ai+"cancel-resume-plan",e||"").then(function(e){t({type:"SUBSCRIPTION_CANCEL_REACTIVATE",payload:e.data})}).catch(function(e){t({type:"SUBSCRIPTION_CANCEL_REACTIVATE",payload:e.response.data})})}},Rr=function(e){return function(t){si.post(ai+"upgrade-plan",e||"").then(function(e){t({type:"SUBSCRIPTION_UPGRADE_ACCOUNT",payload:e.data})}).catch(function(e){t({type:"SUBSCRIPTION_UPGRADE_ACCOUNT",payload:e.response.data})})}},kr=function(e){return function(t){si.post(ai+"change-suscription-card",e||"").then(function(e){t({type:"SUBSCRIPTION_UPDATE_CARD",payload:e.data})}).catch(function(e){t({type:"SUBSCRIPTION_UPDATE_CARD",payload:e.response.data})})}},Pr=function(e){return function(t){si.post(ai+"save-autorefill-settings",e||"").then(function(e){t({type:"SUBSCRIPTION_AUTO_REFILL",payload:e.data})}).catch(function(e){t({type:"SUBSCRIPTION_AUTO_REFILL",payload:e.response.data})})}},jr=function(e){return function(t){si.get(ai+"monthly-to-yearly",e||"").then(function(e){t({type:"SUBSCRIPTION_MONTHLY_TO_YEARLY_ESTIMATE",payload:e.data})}).catch(function(e){t({type:"SUBSCRIPTION_MONTHLY_TO_YEARLY_ESTIMATE",payload:e.response.data})})}},Mr=function(e){return function(t){si.post(ai+"monthly-to-yearly",e||"").then(function(e){t({type:"SUBSCRIPTION_MONTHLY_TO_YEARLY_UPGRADE",payload:e.data})}).catch(function(e){t({type:"SUBSCRIPTION_MONTHLY_TO_YEARLY_UPGRADE",payload:e.response.data})})}},Ur=function(e){return function(t){si.get(ai+"recently-deleted",e||"").then(function(e){t({type:"RECENTLY_DELETED_LIST",payload:e.data})}).catch(function(e){t({type:"RECENTLY_DELETED_LIST",payload:e.response.data})})}},Fr=function(e){return function(t){si.post(ai+"restore-procedure",e||"").then(function(e){t({type:"RECENTLY_DELETED_RESTORE",payload:e.data})}).catch(function(e){t({type:"RECENTLY_DELETED_RESTORE",payload:e.response.data})})}},Br=function(e){return function(t){si.get(ai+"pos-dashboard",e||"").then(function(e){t({type:"POS_DASHBOARD_DATA",payload:e.data})}).catch(function(e){t({type:"POS_DASHBOARD_DATA",payload:e.response.data})})}},qr=function(e){return function(t){si.get(ai+"pos-dashboard-charges",e||"").then(function(e){t({type:"POS_DASHBOARD_FILTER_DATA",payload:e.data})}).catch(function(e){t({type:"POS_DASHBOARD_FILTER_DATA",payload:e.response.data})})}},Yr=function(e){return function(t){si.get(ai+"pos-verification-fields",e||"").then(function(e){t({type:"GET_POS_DASHBOARD_VERIFICATION",payload:e.data})}).catch(function(e){t({type:"GET_POS_DASHBOARD_VERIFICATION",payload:e.response.data})})}},Hr=function(e){return function(t){si.post(ai+"pos-save-verification-fields",e||"").then(function(e){t({type:"SAVE_POS_DASHBOARD_VERIFICATION",payload:e.data})}).catch(function(e){t({type:"SAVE_POS_DASHBOARD_VERIFICATION",payload:e.response.data})})}},Gr=function(e){return function(t){si.get(ai+"pos-payments",e||"").then(function(e){t({type:"POS_PAYMENT_LIST",payload:e.data})}).catch(function(e){t({type:"POS_PAYMENT_LIST",payload:e.response.data})})}},Vr=function(e){return function(t){si.post(ai+"pos-export",e||"").then(function(e){t({type:"POS_PAYMENT_PAYOUT_EXPORT",payload:e.data})}).catch(function(e){t({type:"POS_PAYMENT_PAYOUT_EXPORT",payload:e.response.data})})}},zr=function(e){return function(t){si.get(ai+"pos-payouts",e||"").then(function(e){t({type:"POS_PAYOUT_LIST",payload:e.data})}).catch(function(e){t({type:"POS_PAYOUT_LIST",payload:e.response.data})})}},Wr=function(e){return function(t){si.get(ai+"pos-add-payout",e||"").then(function(e){t({type:"POS_PAYOUT_BANK_LIST",payload:e.data})}).catch(function(e){t({type:"POS_PAYOUT_BANK_LIST",payload:e.response.data})})}},Jr=function(e){return function(t){si.post(ai+"pos-add-payout",e||"").then(function(e){t({type:"POS_PAYOUT_NEW",payload:e.data})}).catch(function(e){t({type:"POS_PAYOUT_NEW",payload:e.response.data})})}},Qr=function(e){return function(t){si.get(ai+"pos-payout-details/"+e).then(function(e){t({type:"POS_PAYOUT_DATA",payload:e.data})}).catch(function(e){t({type:"POS_PAYOUT_DATA",payload:e.response.data})})}},Kr=function(e){return function(t){si.get(ai+"pos-disputes",e||"").then(function(e){t({type:"POS_DISPUTE_LIST",payload:e.data})}).catch(function(e){t({type:"POS_DISPUTE_LIST",payload:e.response.data})})}},Xr=function(e){return function(t){si.get(ai+"pos-disputes-settings",e||"").then(function(e){t({type:"POS_DISPUTE_SETTING_GET",payload:e.data})}).catch(function(e){t({type:"POS_DISPUTE_SETTING_GET",payload:e.response.data})})}},Zr=function(e){return function(t){si.post(ai+"pos-disputes-settings",e||"").then(function(e){t({type:"POS_DISPUTE_SETTING_POST",payload:e.data})}).catch(function(e){t({type:"POS_DISPUTE_SETTING_POST",payload:e.response.data})})}},$r=function(){return function(e){si.get(ai+"pos").then(function(t){e({type:"GET_POS_DATA",payload:t.data})}).catch(function(t){e({type:"GET_POS_DATA",payload:t.response.data})})}},eo=function(e){return function(t){si.post(ai+"pos-change-status",e||"").then(function(e){t({type:"CHANGE_POS_STATUS",payload:e.data})}).catch(function(e){t({type:"CHANGE_POS_STATUS",payload:e.response.data})})}},to=function(e){return function(t){si.post(ai+"pos-change-connection",e||"").then(function(e){t({type:"CHANGE_POS_CONNECTION_STATUS",payload:e.data})}).catch(function(e){t({type:"CHANGE_POS_CONNECTION_STATUS",payload:e.response.data})})}},ao=function(){return function(e){si.get(ai+"pos-setup-custom-account").then(function(t){e({type:"GET_POS_SETUP_DATA",payload:t.data})}).catch(function(t){e({type:"GET_POS_SETUP_DATA",payload:t.response.data})})}},so=function(e){return function(t){si.post(ai+"pos-check-country-spec",e||"").then(function(e){t({type:"GET_POS_ADDITIONAL_SETUP_DATA",payload:e.data})}).catch(function(e){t({type:"GET_POS_ADDITIONAL_SETUP_DATA",payload:e.response.data})})}},no=function(e){return function(t){si.post(ai+"pos-setup-custom-account",e||"").then(function(e){t({type:"SAVE_POS_SETUP_DATA",payload:e.data})}).catch(function(e){t({type:"SAVE_POS_SETUP_DATA",payload:e.response.data})})}},io=function(e){return function(t){si.post(ai+"pos-check-account-balance",e||"").then(function(e){t({type:"CHECK_POS_STRIPE_BALANCE",payload:e.data})}).catch(function(e){t({type:"CHECK_POS_STRIPE_BALANCE",payload:e.response.data})})}},ro=function(e){return function(t){si.post(ai+"pos-disconnect-account",e||"").then(function(e){t({type:"DISCONNENCT_POS_STRIPE_ACCOUNT",payload:e.data})}).catch(function(e){t({type:"DISCONNENCT_POS_STRIPE_ACCOUNT",payload:e.response.data})})}},oo=function(e){return function(t){si.get(ai+"procedure-templates",e||"").then(function(e){t({type:"PROCEDURE_TEMPLATE_LIST",payload:e.data})}).catch(function(e){t({type:"PROCEDURE_TEMPLATE_LIST",payload:e.response.data})})}},lo=function(e){return function(t){si.get(ai+"get-template-details/"+e).then(function(e){t({type:"PROCEDURE_TEMPLATE_DATA",payload:e.data})}).catch(function(e){t({type:"PROCEDURE_TEMPLATE_DATA",payload:e.response.data})})}},co=function(e){return function(t){si.post(ai+"add-edit-template/",e).then(function(e){t({type:"SAVE_PROCEDURE_TEMPLATE_DATA",payload:e.data})}).catch(function(e){t({type:"SAVE_PROCEDURE_TEMPLATE_DATA",payload:e.response.data})})}},mo=function(e){return function(t){si.get(ai+"delete-procedure-template/"+e).then(function(e){t({type:"DELETE_PROCEDURE_TEMPLATE",payload:e.data})}).catch(function(e){t({type:"DELETE_PROCEDURE_TEMPLATE",payload:e.response.data})})}},uo=function(e){return function(t){si.get(ai+"pos-update-custom-account/"+e).then(function(e){t({type:"GET_POS_STRIPE_ACCOUNT_FIELDS",payload:e.data})}).catch(function(e){t({type:"GET_POS_STRIPE_ACCOUNT_FIELDS",payload:e.response.data})})}},po=function(e){return function(t){si.post(ai+"pos-update-custom-account",e||"").then(function(e){t({type:"UPDATE_POS_STRIPE_ACCOUNT",payload:e.data})}).catch(function(e){t({type:"UPDATE_POS_STRIPE_ACCOUNT",payload:e.response.data})})}},ho=function(){return function(e){si.get(ai+"pos-payment-settings").then(function(t){e({type:"GET_POS_PAYMENT_SETTING_DATA",payload:t.data})}).catch(function(t){e({type:"GET_POS_PAYMENT_SETTING_DATA",payload:t.response.data})})}},go=function(e){return function(t){si.get(ai+"pos-add-bank-account/"+e).then(function(e){t({type:"GET_POS_BANK_ACCOUNT_FIELDS",payload:e.data})}).catch(function(e){t({type:"GET_POS_BANK_ACCOUNT_FIELDS",payload:e.response.data})})}},_o=function(e){return function(t){si.post(ai+"pos-add-bank-account",e||"").then(function(e){t({type:"ADD_POS_BANK_ACCOUNT",payload:e.data})}).catch(function(e){t({type:"ADD_POS_BANK_ACCOUNT",payload:e.response.data})})}},vo=function(e){return function(t){si.post(ai+"pos-set-default-bank",e||"").then(function(e){t({type:"SET_POS_DEFAULT_BANK_ACCOUNT",payload:e.data})}).catch(function(e){t({type:"SET_POS_DEFAULT_BANK_ACCOUNT",payload:e.response.data})})}},fo=function(e){return function(t){si.get(ai+"pos-add-payout-schedule/"+e).then(function(e){t({type:"GET_POS_PAYOUT_SCHEDULE_DATA",payload:e.data})}).catch(function(e){t({type:"GET_POS_PAYOUT_SCHEDULE_DATA",payload:e.response.data})})}},bo=function(e){return function(t){si.post(ai+"pos-add-payout-schedule",e||"").then(function(e){t({type:"UPDATE_POS_PAYOUT_SCHEDULE_DATA",payload:e.data})}).catch(function(e){t({type:"UPDATE_POS_PAYOUT_SCHEDULE_DATA",payload:e.response.data})})}},Eo=function(e){return function(t){si.get(ai+"pos-clinic-card-devices/"+e).then(function(e){t({type:"GET_POS_CARD_READER_DATA",payload:e.data})}).catch(function(e){t({type:"GET_POS_CARD_READER_DATA",payload:e.response.data})})}},yo=function(e){return function(t){si.post(ai+"pos-add-merchant",e||"").then(function(e){t({type:"ADD_POS_CARD_READER_MERCHENT",payload:e.data})}).catch(function(e){t({type:"ADD_POS_CARD_READER_MERCHENT",payload:e.response.data})})}},No=function(e){return function(t){si.post(ai+"pos-disable-stripe-is-swipe",e||"").then(function(e){t({type:"CHANGE_POS_CARD_READER_STATUS",payload:e.data})}).catch(function(e){t({type:"CHANGE_POS_CARD_READER_STATUS",payload:e.response.data})})}},So=function(e){return function(t){si.post(ai+"pos-attach-card-reader",e||"").then(function(e){t({type:"ADD_POS_CARD_READER_DEVICE",payload:e.data})}).catch(function(e){t({type:"ADD_POS_CARD_READER_DEVICE",payload:e.response.data})})}},Do=function(e){return function(t){si.post(ai+"pos-detach-card-reader",e||"").then(function(e){t({type:"DELETE_POS_CARD_READER_DEVICE",payload:e.data})}).catch(function(e){t({type:"DELETE_POS_CARD_READER_DEVICE",payload:e.response.data})})}},wo=function(e){return function(t){si.post(ai+"pos-create-express-account",e||"").then(function(e){t({type:"POS_SETUP_EXPRESS_ACCOUNT",payload:e.data})}).catch(function(e){t({type:"POS_SETUP_EXPRESS_ACCOUNT",payload:e.response.data})})}},Co=function(e){return function(t){si.post(ai+"pos-account-dashboard-url",e||"").then(function(e){t({type:"GET_POS_STRIPE_DASHBOARD_URL",payload:e.data})}).catch(function(e){t({type:"GET_POS_STRIPE_DASHBOARD_URL",payload:e.response.data})})}},xo=function(){return function(e){si.get(ai+"user/add-user").then(function(t){e({type:"DEFAULT_USERADD_DATA",payload:t.data})}).catch(function(t){e({type:"DEFAULT_USERADD_DATA",payload:t.response.data})})}},Lo=function(e,t){return t|=!1,function(a){si.get(ai+"pos-disputes-details/"+e).then(function(e){a(t?{type:"GET_POS_DISPUTE_EVIDENCE",payload:e.data}:{type:"POS_DISPUTE_DETAIL",payload:e.data})}).catch(function(e){a(t?{type:"GET_POS_DISPUTE_EVIDENCE",payload:e.response.data}:{type:"POS_DISPUTE_DETAIL",payload:e.response.data})})}},Oo=function(e){return function(t){si.post(ai+"pos-add-dispute-note",e||"").then(function(e){t({type:"ADD_POS_DISPUTE_NOTE",payload:e.data})}).catch(function(e){t({type:"ADD_POS_DISPUTE_NOTE",payload:e.response.data})})}},Ao=function(e){return function(t){si.post(ai+"pos-accept-dispute",e||"").then(function(e){t({type:"ACCEPT_POS_DISPUTE",payload:e.data})}).catch(function(e){t({type:"ACCEPT_POS_DISPUTE",payload:e.response.data})})}},To=function(e){return function(t){si.post(ai+"pos-submit-dispute-evidence",e||"").then(function(e){t({type:"SUBMIT_POS_DISPUTE",payload:e.data})}).catch(function(e){t({type:"SUBMIT_POS_DISPUTE",payload:e.response.data})})}},Io=function(e){return function(t){si.post(ai+"pos-save-evidence-for-later",e||"").then(function(e){t({type:"SAVE_LATER_POS_DISPUTE",payload:e.data})}).catch(function(e){t({type:"SAVE_LATER_POS_DISPUTE",payload:e.response.data})})}},Ro=function(e){return function(t){si.post(ai+"user/sync-with-google-calendar",e||"").then(function(e){t({type:"ENABLE_GOOGLE_CALENDAR_SYNC",payload:e.data})}).catch(function(e){t({type:"ENABLE_GOOGLE_CALENDAR_SYNC",payload:e.response.data})})}},ko=function(){return function(e){si.put(ai+"user/disable-google-sync").then(function(t){e({type:"DISABLE_GOOGLE_CALENDAR_SYNC",payload:t.data})}).catch(function(t){e({type:"DISABLE_GOOGLE_CALENDAR_SYNC",payload:t.response.data})})}},Po=function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).AddClientDocuments=function(){return i.a.createElement("div",null,a.props.history.push("/clients/documents/add/".concat(a.state.clientID,"/profile")))},a.EditClientDocuments=function(e){return i.a.createElement("div",null,a.props.history.push("/clients/documents/edit/".concat(e,"/").concat(a.state.clientID,"/profile")))},a.handleDeleteDocument=function(e){a.toggleState("isShowDeleteModal")},a.handleDownloadDocument=function(e){},a.toggleState=function(e){a.setState(Object(se.a)({},e,!a.state[e]))},a.state=a.initialState,a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e=!1,t=this.props.match.params.clientID;void 0==t&&(t=0,e=!0);var a=this.props.match.params.type;void 0==a&&(a=""),this.setState({clientID:t,actionType:a,isRender:e})}},{key:"render",value:function(){var e=this,t="";return this.state.backURLType&&"clients"===this.state.backURLType&&(t=this.props.match.params.type?"/"+this.state.backURLType+"/"+this.props.match.params.type+"/"+this.props.match.params.clientID:"/"+this.state.backURLType),i.a.createElement("div",{id:"content",className:"content-client-documents"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement("div",{className:"juvly-section full-width m-t-15"},i.a.createElement("div",{className:"juvly-container"},i.a.createElement("div",{className:"juvly-title m-b-0"},"Shimar - Manage Documents",i.a.createElement(me.a,{to:t,className:"pull-right crossIcon"},i.a.createElement("img",{src:"/images/close.png"})),i.a.createElement("a",{className:"new-blue-btn pull-right",onClick:function(){return e.AddClientDocuments()}},"Add Document"))),i.a.createElement("div",{className:"table-responsive"},i.a.createElement("table",{className:"table-updated juvly-table min-w-1000 no-hover"},i.a.createElement("thead",{className:"table-updated-thead"},i.a.createElement("tr",null,i.a.createElement("th",{className:"col-xs-4 table-updated-th text-ellipsis"},"Document"),i.a.createElement("th",{className:"col-xs-2 table-updated-th"},"Document Type"),i.a.createElement("th",{className:"col-xs-2 table-updated-th"},"Visited"),i.a.createElement("th",{className:"col-xs-4 table-updated-th"},"Actions"))),i.a.createElement("tbody",null,i.a.createElement("tr",{className:"table-updated-tr"},i.a.createElement("td",{className:"col-xs-4 table-updated-td text-ellipsis"},"Sample DocSample DocSample DocSample DocSample DocSample DocSample DocSample DocSample DocSample DocSample DocSample DocSample DocSample DocSample DocSample DocSample Doc"),i.a.createElement("td",{className:"col-xs-2 table-updated-td"},"Doc"),i.a.createElement("td",{className:"col-xs-2 table-updated-td"},"N/A"),i.a.createElement("td",{className:"col-xs-4 table-updated-td"},i.a.createElement("a",{href:"javascript:void(0);",className:"easy-link",onClick:function(){return e.EditClientDocuments(12)}},"Edit"),i.a.createElement("a",{href:"javascript:void(0);",className:"easy-link",onClick:function(){e.setState({isShowDeleteModal:!e.state.isShowDeleteModal,documentId:12})}},"Delete"),i.a.createElement("a",{href:"javascript:void(0);",className:"easy-link",onClick:function(){return e.handleDownloadDocument(12)}},"Download")))))),i.a.createElement("div",{className:!0===this.state.isShowDeleteModal?"overlay":""}),i.a.createElement("div",{id:"filterModal",role:"dialog",className:!0===this.state.isShowDeleteModal?"modal fade in displayBlock":"modal fade no-display"},i.a.createElement("div",{className:"modal-dialog"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal",onClick:this.toggleState.bind(this,"isShowDeleteModal")},"\xd7"),i.a.createElement("h4",{className:"modal-title"},"Confirmation required!")),i.a.createElement("div",{id:"errorwindow",className:"modal-body add-patient-form filter-patient"},"Are you sure you want to delete this document?"),i.a.createElement("div",{className:"modal-footer"},i.a.createElement("div",{className:"col-md-12 text-left"},i.a.createElement("button",{type:"button",className:"btn  logout pull-right","data-dismiss":"modal",onClick:this.toggleState.bind(this,"isShowDeleteModal")},"No"),i.a.createElement("button",{type:"button",className:"btn btn-success pull-right m-r-10","data-dismiss":"modal",onClick:this.handleDeleteDocument},"Yes"))))))),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.globalLang.Please_Wait)))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}},{key:"initialState",get:function(){var e=JSON.parse(localStorage.getItem("languageData"));return{clientsLang:e.clients,globalLang:e.global,showLoader:!1,backURLType:this.props.match.params.actionType?this.props.match.params.actionType:"clients",clientID:this.props.match.params.clientID,actionType:this.props.match.params.actionType?this.props.match.params.actionType:"profile",isRender:!1,isShowDeleteModal:!1,documentId:0,invoiceData:{},invoiceInfo:{},invoiceTo:[],invoiceEmail:"",invoiceAddress:[]}}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{}}}]),t}(n.Component);var jo=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData")),a={};return"SUBSCRIPTION_INVOICE_DATA1"===e.SettingReducer.action&&(200!=e.SettingReducer.data.status?(rt.toast.error(t.global[e.SettingReducer.data.message]),a.showLoader=!1):a.invoiceData=e.SettingReducer.data),a},function(e){return Object(c.bindActionCreators)({getSubscriptionInvoiceById:Lr},e)})(Object(de.a)(Po)),Mo=Ee.API_URL;Xe();var Uo=Q.a.create();Uo.defaults.headers.common["access-token"]=xe(),Uo.interceptors.response.use(function(e){return void 0!=e.data&&void 0!=e.data.global_settings&&He(e.data.global_settings),Xe(),e},function(e){if(e.response){var t=e.response.data.message;return"invalid_token"!=t&&"session_timeout"!=t&&"server_error"!=t&&"token_not_found"!=t||Oe(),Promise.reject(e)}return{data:{data:"",message:"server_error",status:500}}});var Fo=function(e){return function(t){Uo.get(Mo+"services-categories",e||"").then(function(e){t({type:"SERVICE_CAT_LIST",payload:e.data})}).catch(function(e){console.log(e),t({type:"SERVICE_CAT_LIST",payload:e.response.data})})}};function Bo(e,t){return function(a){Uo.get(Mo+"services-categories/"+t,e||"").then(function(e){a({type:"SERVICE_CATEGORY_DATA",payload:e.data})}).catch(function(e){console.log(e),a({type:"SERVICE_CATEGORY_DATA",payload:e.response.data})})}}function qo(e){return function(t){Uo.post(Mo+"services-categories",e||"").then(function(e){t({type:"CREATE_SERVICE_CATEGORY",payload:e.data})}).catch(function(e){console.log(e),t({type:"CREATE_SERVICE_CATEGORY",payload:e.response.data})})}}function Yo(e,t){return function(a){Uo.patch(Mo+"services-categories/"+t,e||"").then(function(e){a({type:"UPDATE_SERVICE_CATEGORY",payload:e.data})}).catch(function(e){console.log(e),a({type:"UPDATE_SERVICE_CATEGORY",payload:e.response.data})})}}function Ho(e){return function(t){Uo.delete(Mo+"services-categories/"+e).then(function(e){t({type:"DELETE_SERVICE_CATEGORY",payload:e.data})}).catch(function(e){console.log(e),t({type:"DELETE_SERVICE_CATEGORY",payload:e.response.data})})}}function Go(e,t){return function(a){Uo.get(Mo+"services/"+t,e||"").then(function(e){a({type:"SERVICE_CATEGORY_SERVICES_LIST",payload:e.data})}).catch(function(e){console.log(e),a({type:"SERVICE_CATEGORY_SERVICES_LIST",payload:e.response.data})})}}function Vo(e,t){return function(a){Uo.post(Mo+"services/"+t+"/service-orders",e).then(function(e){a({type:"SERVICE_SORT_ORDER_UPDATE",payload:e.data})}).catch(function(e){a({type:"SERVICE_SORT_ORDER_UPDATE",payload:e.response.data})})}}function zo(e,t){return function(a){Uo.get(Mo+"services/clone/"+t,e||"").then(function(e){a({type:"SERVICE_DATA_AND_LIST_DATA",payload:e.data})}).catch(function(e){console.log(e),a({type:"SERVICE_DATA_AND_LIST_DATA",payload:e.response.data})})}}function Wo(e,t){return function(a){Uo.post(Mo+"services/"+t,e||"").then(function(e){a({type:"CREATE_SERVICE",payload:e.data})}).catch(function(e){console.log(e),a({type:"CREATE_SERVICE",payload:e.response.data})})}}function Jo(e,t,a){return function(s){Uo.put(Mo+"services/"+t+"/"+a,e||"").then(function(e){s({type:"UPDATE_SERVICE",payload:e.data})}).catch(function(e){console.log(e),s({type:"UPDATE_SERVICE",payload:e.response.data})})}}function Qo(e){return function(t){Uo.delete(Mo+"services/"+e).then(function(e){t({type:"DELETE_SERVICE",payload:e.data})}).catch(function(e){console.log(e),t({type:"DELETE_SERVICE",payload:e.response.data})})}}function Ko(e){return function(t){Uo.get(Mo+"packages",e||"").then(function(e){t({type:"SERVICES_PACKAGES_LIST",payload:e.data})}).catch(function(e){console.log(e),t({type:"SERVICES_PACKAGES_LIST",payload:e.response.data})})}}function Xo(e,t){return function(a){Uo.get(Mo+"packages/"+t,e||"").then(function(e){a({type:"SERVICES_PACKAGES_DATA",payload:e.data})}).catch(function(e){console.log(e),a({type:"SERVICES_PACKAGES_DATA",payload:e.response.data})})}}function Zo(e){return function(t){Uo.post(Mo+"packages/0",e||"").then(function(e){t({type:"CREATE_SERVICES_PACKAGES",payload:e.data})}).catch(function(e){console.log(e),t({type:"CREATE_SERVICES_PACKAGES",payload:e.response.data})})}}function $o(e,t){return function(a){Uo.put(Mo+"packages/"+t,e||"").then(function(e){a({type:"UPDATE_SERVICES_PACKAGES",payload:e.data})}).catch(function(e){console.log(e),a({type:"UPDATE_SERVICES_PACKAGES",payload:e.response.data})})}}function el(e){return function(t){Uo.delete(Mo+"packages/"+e).then(function(e){t({type:"DELETE_SERVICES_PACKAGES",payload:e.data})}).catch(function(e){console.log(e),t({type:"DELETE_SERVICES_PACKAGES",payload:e.response.data})})}}function tl(e){return function(t){Uo.get(Mo+"provider-schedules",e||"").then(function(e){t({type:"PROVIDER_SCHEDULE_LIST",payload:e.data})}).catch(function(e){console.log(e),t({type:"PROVIDER_SCHEDULE_LIST",payload:e.response.data})})}}function al(e){return function(t){Uo.post(Mo+"provider-schedules/dynamic-ordering",e||"").then(function(e){t({type:"PROVIDER_SCHEDULE_DYNAMIC_ORDERING",payload:e.data})}).catch(function(e){console.log(e),t({type:"PROVIDER_SCHEDULE_DYNAMIC_ORDERING",payload:e.response.data})})}}function sl(e){return function(t){Uo.post(Mo+"update/provider/order",e).then(function(e){t({type:"PROVIDER_SCHEDULE_SORT_ORDER_UPDATE",payload:e.data})}).catch(function(e){t({type:"PROVIDER_SCHEDULE_SORT_ORDER_UPDATE",payload:e.response.data})})}}function nl(e,t){return function(a){Uo.get(Mo+"provider-schedules/"+t,e||"").then(function(e){a({type:"PROVIDER_SCHEDULE_DATA",payload:e.data})}).catch(function(e){console.log(e),a({type:"PROVIDER_SCHEDULE_DATA",payload:e.response.data})})}}function il(e){return function(t){Uo.post(Mo+"provider-schedules",e||"").then(function(e){t({type:"CREATE_PROVIDER_SCHEDULE",payload:e.data})}).catch(function(e){console.log(e),t({type:"CREATE_PROVIDER_SCHEDULE",payload:e.response.data})})}}function rl(e,t){return function(a){Uo.put(Mo+"provider-schedules/"+t,e||"").then(function(e){a({type:"UPDATE_PROVIDER_SCHEDULE",payload:e.data})}).catch(function(e){console.log(e),a({type:"UPDATE_PROVIDER_SCHEDULE",payload:e.response.data})})}}function ol(e){return function(t){Uo.delete(Mo+"provider-schedules/"+e).then(function(e){t({type:"DELETE_PROVIDER_SCHEDULE",payload:e.data})}).catch(function(e){console.log(e),t({type:"DELETE_PROVIDER_SCHEDULE",payload:e.response.data})})}}function ll(e){return function(t){Uo.get(Mo+"devices",e||"").then(function(e){t({type:"EQUIPMENT_SCHEDULE_LIST",payload:e.data})}).catch(function(e){console.log(e),t({type:"EQUIPMENT_SCHEDULE_LIST",payload:e.response.data})})}}function cl(e,t){return function(a){Uo.get(Mo+"devices/"+t,e||"").then(function(e){a({type:"EQUIPMENT_SCHEDULE_DATA",payload:e.data})}).catch(function(e){console.log(e),a({type:"EQUIPMENT_SCHEDULE_DATA",payload:e.response.data})})}}function dl(e){return function(t){Uo.post(Mo+"devices/0",e||"").then(function(e){t({type:"CREATE_EQUIPMENT_SCHEDULE",payload:e.data})}).catch(function(e){console.log(e),t({type:"CREATE_EQUIPMENT_SCHEDULE",payload:e.response.data})})}}function ml(e,t){return function(a){Uo.put(Mo+"devices/"+t,e||"").then(function(e){a({type:"UPDATE_EQUIPMENT_SCHEDULE",payload:e.data})}).catch(function(e){console.log(e),a({type:"UPDATE_EQUIPMENT_SCHEDULE",payload:e.response.data})})}}function ul(e){return function(t){Uo.delete(Mo+"devices/"+e).then(function(e){t({type:"DELETE_EQUIPMENT_SCHEDULE",payload:e.data})}).catch(function(e){console.log(e),t({type:"DELETE_EQUIPMENT_SCHEDULE",payload:e.response.data})})}}function pl(e){return function(t){Uo.get(Mo+"resources",e||"").then(function(e){t({type:"RESOURCE_SCHEDULE_LIST",payload:e.data})}).catch(function(e){console.log(e),t({type:"RESOURCE_SCHEDULE_LIST",payload:e.response.data})})}}function hl(e,t){return function(a){Uo.get(Mo+"resources/"+t,e||"").then(function(e){a({type:"RESOURCE_SCHEDULE_DATA",payload:e.data})}).catch(function(e){console.log(e),a({type:"RESOURCE_SCHEDULE_DATA",payload:e.response.data})})}}function gl(e){return function(t){Uo.post(Mo+"resources/0",e||"").then(function(e){t({type:"CREATE_RESOURCE_SCHEDULE",payload:e.data})}).catch(function(e){console.log(e),t({type:"CREATE_RESOURCE_SCHEDULE",payload:e.response.data})})}}function _l(e,t){return function(a){Uo.put(Mo+"resources/"+t,e||"").then(function(e){a({type:"UPDATE_RESOURCE_SCHEDULE",payload:e.data})}).catch(function(e){console.log(e),a({type:"UPDATE_RESOURCE_SCHEDULE",payload:e.response.data})})}}function vl(e){return function(t){Uo.delete(Mo+"resources/"+e).then(function(e){t({type:"DELETE_RESOURCE_SCHEDULE",payload:e.data})}).catch(function(e){console.log(e),t({type:"DELETE_RESOURCE_SCHEDULE",payload:e.response.data})})}}function fl(e){return function(t){Uo.post(Mo+"resource-types",e||"").then(function(e){t({type:"CREATE_RESOURCE_TYPE",payload:e.data})}).catch(function(e){console.log(e),t({type:"CREATE_RESOURCE_TYPE",payload:e.response.data})})}}function bl(e){return function(t){Uo.post(Mo+"devices/0",e||"").then(function(e){t({type:"CREATE_DEVICE",payload:e.data})}).catch(function(e){console.log(e),t({type:"CREATE_DEVICE",payload:e.response.data})})}}function El(e){return function(e){e({type:"EMPTY_APPOINTMENT_DATA",payload:{data:"",status:200,message:""}})}}function yl(e){return function(t){Uo.post(Mo+"appointment",e||"").then(function(e){t({type:"GET_APPOINTMENTS",payload:e.data})}).catch(function(e){console.log(e),t({type:"GET_APPOINTMENTS",payload:e.response.data})})}}function Nl(e){return function(t){Uo.get(Mo+"find-patient/"+e.client).then(function(e){t({type:"SEARCH_PATIENTS",payload:e.data})}).catch(function(e){console.log(e),t({type:"SEARCH_PATIENTS",payload:e.response.data})})}}function Sl(e){return function(e){Uo.get(Mo+"list_clinics").then(function(t){e({type:"GET_CLINICS",payload:t.data})}).catch(function(t){console.log(t),e({type:"GET_CLINICS",payload:t.response.data})})}}function Dl(e){return function(t){Uo.post(Mo+"all-available-providers",e||"").then(function(e){t({type:"GET_PROVIDERS",payload:e.data})}).catch(function(e){console.log(e),t({type:"GET_PROVIDERS",payload:e.response.data})})}}function wl(e){return function(t){Uo.post(Mo+"get-provider-availability",e||"").then(function(e){t({type:"GET_PROVIDER_AVAILABILITY",payload:e.data})}).catch(function(e){console.log(e),t({type:"GET_PROVIDER_AVAILABILITY",payload:e.response.data})})}}function Cl(e){return function(t){Uo.post(Mo+"get-provider-time",e||"").then(function(e){t({type:"GET_PROVIDER_TIME",payload:e.data})}).catch(function(e){console.log(e),t({type:"GET_PROVIDER_TIME",payload:e.response.data})})}}function xl(e){return function(t){Uo.get(Mo+"clinic-services-and-packages/"+e.clinicId).then(function(e){t({type:"GET_SERVICES",payload:e.data})}).catch(function(e){console.log(e),t({type:"GET_SERVICES",payload:e.response.data})})}}function Ll(e,t){return function(a){Uo.get(Mo+"edit-appointment/"+e).then(function(e){a("view"==t?{type:"APPOINTMENT_GET",payload:e.data}:{type:"APPOINTMENT_EDIT_GET",payload:e.data})}).catch(function(e){a("edit"==t?{type:"APPOINTMENT_GET",payload:e.response.data}:{type:"APPOINTMENT_EDIT_GET",payload:e.response.data})})}}function Ol(e){return function(t){Uo.post(Mo+"create-appointment",e||"").then(function(e){t({type:"SAVE_APPOINTMENT",payload:e.data})}).catch(function(e){console.log(e),t({type:"SAVE_APPOINTMENT",payload:e.response.data})})}}function Al(e){return function(t){Uo.get(Mo+"mark-as-noshow/"+e.appointment_id+"/"+e.charge).then(function(e){t({type:"MARKED_NO_SHOW",payload:e.data})}).catch(function(e){console.log(e),t({type:"MARKED_NO_SHOW",payload:e.response.data})})}}function Tl(e){return function(t){Uo.post(Mo+"add-appointment-note",e).then(function(e){t({type:"UPDATE_NOTES",payload:e.data})}).catch(function(e){console.log(e),t({type:"UPDATE_NOTES",payload:e.response.data})})}}function Il(e){return function(t){Uo.get(Mo+"appointment-check-in/"+e).then(function(e){t({type:"GET_CHECKIN_DATA",payload:e.data})}).catch(function(e){console.log(e),t({type:"GET_CHECKIN_DATA",payload:e.response.data})})}}function Rl(e){return function(t){Uo.post(Mo+"appointment-check-in/"+e.id,e).then(function(e){t({type:"POST_CHECKIN_DATA",payload:e.data})}).catch(function(e){console.log(e),t({type:"POST_CHECKIN_DATA",payload:e.response.data})})}}function kl(e){return function(t){console.log(e),Uo.post(Mo+"get-patient-card-on-file",e).then(function(e){t({type:"GET_CARD_DETAILS",payload:e.data})}).catch(function(e){console.log(e),t({type:"GET_CARD_DETAILS",payload:e.response.data})})}}function Pl(e){return function(t){Uo.get(Mo+"check-if-can-take-payment/"+e).then(function(e){t({type:"CHECK_POS_ENABLED",payload:e.data})}).catch(function(e){console.log(e),t({type:"CHECK_POS_ENABLED",payload:e.response.data})})}}function jl(e){return function(t){Uo.post(Mo+"send-appointment-notification/"+e.appointment_id,e).then(function(e){t({type:"SEND_NOTIFICATION",payload:e.data})}).catch(function(e){console.log(e),t({type:"SEND_NOTIFICATION",payload:e.response.data})})}}function Ml(e){return function(t){Uo.get(Mo+"get-appointment-fees/"+e).then(function(e){t({type:"APPOINTMENT_FEES",payload:e.data})}).catch(function(e){console.log(e),t({type:"APPOINTMENT_FEES",payload:e.response.data})})}}function Ul(e){return function(t){Uo.get(Mo+"get-notification-popup/"+e+"/cancel/true").then(function(e){t({type:"CANCEL_NOTIFICATION_MESSAGE",payload:e.data})}).catch(function(e){console.log(e),t({type:"CANCEL_NOTIFICATION_MESSAGE",payload:e.response.data})})}}function Fl(e){return function(t){Uo.post(Mo+"cancel-appointment/"+e.appointment_id,e).then(function(e){t({type:"APPOINTMENT_CANCELLED",payload:e.data})}).catch(function(e){console.log(e),t({type:"APPOINTMENT_CANCELLED",payload:e.response.data})})}}function Bl(e){return function(t){Uo.post(Mo+"check-if-reschedule-available/"+e.appointment_id,e).then(function(e){t({type:"RESCHEDULE_TIME",payload:e.data})}).catch(function(e){console.log(e),t({type:"RESCHEDULE_TIME",payload:e.response.data})})}}function ql(e){return function(t){Uo.post(Mo+"reschedule-appointment/true",e).then(function(e){t({type:"APPOINTMENT_RESCHEDULED",payload:e.data})}).catch(function(e){console.log(e),t({type:"APPOINTMENT_RESCHEDULED",payload:e.response.data})})}}function Yl(e,t,a){return function(s){Uo.post(Mo+"appointment-history?page="+e+"&pagesize="+t,a||"").then(function(e){s({type:"BOOKING_HISTORY_LIST",payload:e.data})}).catch(function(e){console.log(e),s({type:"BOOKING_HISTORY_LIST",payload:e.response.data})})}}function Hl(e){return function(t){Uo.post(Mo+"appointment-print",e||"").then(function(e){t({type:"PRINT_APPOINTMENT",payload:e.data})}).catch(function(e){console.log(e),t({type:"PRINT_APPOINTMENT",payload:e.response.data})})}}function Gl(e){return function(t){Uo.get(Mo+"client/"+e).then(function(e){t({type:"CLIENT_DATA_APPOINTMENT",payload:e.data})}).catch(function(e){console.log(e),t({type:"CLIENT_DATA_APPOINTMENT",payload:e.response.data})})}}var Vl=a(36),zl=function(e){function t(e){var a;Object(ne.a)(this,t),a=Object(re.a)(this,Object(oe.a)(t).call(this,e));JSON.parse(localStorage.getItem("userData"));return a.state={activeMenuTag:""},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("languageData"));this.setState({appointment_calendar:e.appointments.appointment_calendar,appointment_services:e.appointments.appointment_services,appointment_services_packages:e.appointments.appointment_services_packages,appointment_provider_schedule:e.appointments.appointment_provider_schedule,appointment_equipment_schedule:e.appointments.appointment_equipment_schedule,appointment_resource_schedule:e.appointments.appointment_resource_schedule,appointment_booking_history:e.appointments.appointment_booking_history})}},{key:"render",value:function(){return i.a.createElement("ul",{className:"sub-menu text-right"},Te("view-appointments")&&i.a.createElement("li",null,i.a.createElement(me.a,{to:"/appointment/index",className:"calendar"==this.state.activeMenuTag?"active":""},this.state.appointment_calendar)),Te("view-appointments")&&i.a.createElement("li",null,i.a.createElement(me.a,{to:"/appointment/booking-history",className:"booking-history"==this.state.activeMenuTag?"active":""},this.state.appointment_booking_history)),Te("manage-services")&&i.a.createElement("li",null,i.a.createElement(me.a,{to:"/appointment/service-category",className:"service-category"==this.state.activeMenuTag?"active":""},this.state.appointment_services)),Te("manage-Services-Packages")&&i.a.createElement("li",null,i.a.createElement(me.a,{to:"/appointment/services-packages",className:"services-packages"==this.state.activeMenuTag?"active":""},this.state.appointment_services_packages)),Te("manage-provider-schedule")&&i.a.createElement("li",null,i.a.createElement(me.a,{to:"/appointment/provider-schedule",className:"provider-schedule"==this.state.activeMenuTag?"active":""},this.state.appointment_provider_schedule)),Te("manage-equipments-schedule")&&i.a.createElement("li",null,i.a.createElement(me.a,{to:"/appointment/equipment-schedule",className:"equipment-schedule"==this.state.activeMenuTag?"active":""},this.state.appointment_equipment_schedule)),Te("manage-resource-schedule")&&i.a.createElement("li",null,i.a.createElement(me.a,{to:"/appointment/resource-schedule",className:"resource-schedule"==this.state.activeMenuTag?"active":""},this.state.appointment_resource_schedule)))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};return void 0!=e.activeMenuTag&&(a.activeMenuTag=e.activeMenuTag),a}}]),t}(n.Component),Wl=function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,s="checkbox"===t.type?t.checked:t.value;a.setState(Object(se.a)({},e.target.name,s)),"object_name"===e.target.name&&a.handleSubmit(e,s)},a.loadMore=function(){localStorage.setItem("sortOnly",!1),a.setState({loadMore:!0,startFresh:!0,showLoader:!0,showLoadingText:!0});var e={params:{page:a.state.page,pagesize:a.state.pagesize,term:a.state.term}};a.setState({showLoader:!0}),a.props.getServiceCategories(e)},a.reorder=function(e,t,a){var s=Array.from(e),n=s.splice(t,1),i=Object(ye.a)(n,1)[0];return s.splice(a,0,i),s},a.getItemStyle=function(e,t){return Object(m.a)({userSelect:"none",background:e?"#f7fbfd":"ffffff"},t)},a.reOrderList=function(e){var t={object_ids:e};a.props.updateSortOrder(t,"ServiceCategory")},a.ServiceCategoryEdit=function(e){return i.a.createElement("div",null,a.props.history.push("/appointment/service-category/".concat(e,"/edit")))},a.ServiceCategoryList=function(e,t){if("easy-link"!=t.target.className)return i.a.createElement("div",null,a.props.history.push("/appointment/services/".concat(e)))},a.handleSubmit=function(e){var t;e.preventDefault(),localStorage.setItem("sortOnly",!0);var s={params:{page:1,pagesize:a.state.pagesize,term:a.state.term}};a.setState((t={page:1,pagesize:a.state.pagesize,startFresh:!0,loadMore:!0},Object(se.a)(t,"startFresh",!0),Object(se.a)(t,"next_page_url",""),Object(se.a)(t,"serviceCatList",[]),Object(se.a)(t,"next_page_url",""),t)),a.setState({showLoader:!0}),a.props.getServiceCategories(s)},a.state=Object(se.a)({serviceCatList:[],page:1,pagesize:15,sortorder:"asc",term:"",hasMoreItems:!0,next_page_url:"",showLoadingText:!1,loadMore:!0,startFresh:!0,showLoader:!1},"next_page_url",""),localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),window.onscroll=function(){var e=parseInt(Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop));window.innerHeight+e===document.documentElement.offsetHeight&&null!==a.state.next_page_url&&a.loadMore()},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("languageData"));this.setState({appointment_service_category_create_service_category:e.appointments.appointment_service_category_create_service_category,appointment_service_category_category_name:e.appointments.appointment_service_category_category_name,appointment_service_category_no_of_services:e.appointments.appointment_service_category_no_of_services,label_active:e.global.label_active,label_yes:e.global.label_yes,label_no:e.global.label_no,label_edit:e.global.label_edit,label_search:e.global.label_search,loading_please_wait_text:e.global.loading_please_wait_text,Please_Wait:e.global.Please_Wait,sorry_no_record_found:e.global.sorry_no_record_found});var t={params:{page:this.state.page,pagesize:this.state.pagesize,sortorder:"asc",term:this.state.term}};this.setState({showLoader:!0}),this.props.getServiceCategories(t)}},{key:"render",value:function(){var e=this,t=[];void 0!==this.state.serviceCatList&&(t=this.state.serviceCatList.map(function(t,a){return{content:i.a.createElement(i.a.Fragment,{key:"fragment_"+t.id},i.a.createElement("td",{className:"col-xs-6 table-updated-td Questionnaire-name"},i.a.createElement("a",{href:"javascript:void(0);",className:"drag-dots"}),t.name),i.a.createElement("td",{className:"col-xs-2 table-updated-td"},t.service_category_assoc_count),i.a.createElement("td",{className:"col-xs-2 table-updated-td"},t.is_active?e.state.label_yes:e.state.label_no),i.a.createElement("td",{className:"col-xs-2 table-updated-td"},i.a.createElement("a",{href:"javascript:void(0);",onClick:e.ServiceCategoryEdit.bind(e,t.id),className:"easy-link"},e.state.label_edit))),id:t.id}}));return i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(zl,{activeMenuTag:"service-category"}),i.a.createElement("div",{className:"juvly-section full-width"},i.a.createElement("div",{className:"setting-search-outer"},i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("div",{className:"search-bg new-search"},i.a.createElement("i",{className:"fas fa-search"}),i.a.createElement("input",{className:"setting-search-input search-key",autoComplete:"off",name:"term",placeholder:this.state.label_search,value:this.state.term,onChange:this.handleInputChange}))),i.a.createElement(me.a,{to:"/appointment/service-category/create",className:"new-blue-btn pull-right"},this.state.appointment_service_category_create_service_category)),i.a.createElement("div",{className:"table-responsive"},i.a.createElement("table",{className:"table-updated juvly-table table-min-width"},i.a.createElement("thead",{className:"table-updated-thead"},i.a.createElement("tr",null,i.a.createElement("th",{className:"col-xs-6 table-updated-th"},this.state.appointment_service_category_category_name),i.a.createElement("th",{className:"col-xs-2 table-updated-th"},this.state.appointment_service_category_no_of_services),i.a.createElement("th",{className:"col-xs-2 table-updated-th"},this.state.label_active),i.a.createElement("th",{className:"col-xs-2 table-updated-th"},"\xa0"))),t.length>0?i.a.createElement(Vl.a,{onDragEnd:function(a){var s;if(a.destination){var n=e.reorder(t,a.source.index,a.destination.index);t=n,s=n.map(function(e,t){return e.id}),e.reOrderList(s)}}},i.a.createElement(Vl.c,{droppableId:"droppable"},function(a,s){return i.a.createElement("tbody",{ref:a.innerRef},t.map(function(t,a){return i.a.createElement(Vl.b,{key:t.id,draggableId:t.id,index:a},function(a,s){return i.a.createElement("tr",Object.assign({className:"table-updated-tr","data-order_by":t.id,onClick:e.ServiceCategoryList.bind(e,t.id),ref:a.innerRef},a.draggableProps,a.dragHandleProps,{style:e.getItemStyle(s.isDragging,a.draggableProps.style)}),t.content)})}),null,a.placeholder)})):i.a.createElement("tbody",null,i.a.createElement("tr",{className:"table-updated-tr"},i.a.createElement("td",{className:"col-xs-12 table-updated-td text-center",colSpan:"7"},this.state.sorry_no_record_found))))),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.Please_Wait)))),i.a.createElement("div",{className:this.state.showLoadingText?"loading-please-wait":"loading-please-wait no-display"},this.state.loading_please_wait_text)),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};if(void 0!=e.showLoader&&0==e.showLoader)return a.showLoader=!1,a;if(void 0!=e.serviceCatList&&e.serviceCatList.next_page_url!==t.next_page_url){var s={};return null==t.next_page_url?(localStorage.setItem("sortOnly",!1),s.next_page_url=null,s):(0==t.serviceCatList.length&&1==t.startFresh?"false"==localStorage.getItem("sortOnly")?(s.serviceCatList=e.serviceCatList.data,null!=e.serviceCatList.next_page_url?s.page=t.page+1:s.next_page_url=e.serviceCatList.next_page_url,s.startFresh=!1,s.showLoader=!1,s.showLoadingText=!1,localStorage.setItem("showLoader",!1)):localStorage.setItem("sortOnly",!1):t.serviceCatList!=e.serviceCatList.data&&0!=t.serviceCatList.length&&(s.serviceCatList=Object(oa.a)(t.serviceCatList).concat(Object(oa.a)(e.serviceCatList.data)),s.page=t.page+1,s.next_page_url=e.serviceCatList.next_page_url,localStorage.setItem("showLoader",!1),s.showLoader=!1,s.showLoadingText=!1),s)}return null}}]),t}(n.Component);var Jl=Object(Z.b)(function(e){var t={},a=JSON.parse(localStorage.getItem("languageData"));if("SERVICE_CAT_LIST"===e.AppointmentReducer.action)200!=e.AppointmentReducer.data.status?(rt.toast.dismiss(),rt.toast.error(a.global[e.AppointmentReducer.data.message]),t.showLoader=!1):t.serviceCatList=e.AppointmentReducer.data.data;else if("SORT_ORDER_UPDATE"===e.SettingReducer.action)return 200==e.SettingReducer.data.status?(rt.toast.dismiss(),rt.toast.success(a.global[e.SettingReducer.data.message])):(rt.toast.dismiss(),rt.toast.error(a.global[e.SettingReducer.data.message]),t.showLoader=!1),{};return t},function(e){return Object(c.bindActionCreators)({getServiceCategories:Fo,updateSortOrder:mi,exportEmptyData:El},e)})(Wl),Ql=(a(77),function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t,s=e.target,n=s.value;switch(s.type){case"checkbox":n=s.checked;break;case"radio":n=1==s.value||"true"==s.value}a.setState((t={},Object(se.a)(t,e.target.name,n),Object(se.a)(t,"userChanged",!0),t))},a.handleSubmit=function(e){var t=!1;if(a.setState({nameError:!1}),void 0===typeof a.state.name||null===a.state.name||""===a.state.name.trim()?(a.setState({nameError:!0,nameClassError:"setting-input-box field_error"}),t=!0):a.state.name&&a.setState({nameClassError:!1,nameClass:"setting-input-box"}),!0!==t){var s={name:a.state.name,is_active:1==a.state.is_active||"true"==a.state.is_active?1:0},n=a.props.match.params.id;a.setState({showLoader:!0}),n?a.props.updateServiceCategory(s,n):a.props.createServiceCategory(s)}},a.showDeleteModal=function(){a.setState({showModal:!0})},a.dismissModal=function(){a.setState({showModal:!1})},a.deleteServiceCategory=function(){a.state.serviceCategoryId&&(a.setState({showLoader:!0,hideBtns:!0}),a.dismissModal(),a.props.deleteServiceCategory(a.state.serviceCategoryId))};JSON.parse(localStorage.getItem("userData"));return a.state={serviceCategoryData:{},showLoader:!1,userChanged:!1,name:"",is_active:!1,nameClass:"setting-input-box",isDeleted:!1,showModal:!1},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){window.onscroll=function(){return!1};var e=JSON.parse(localStorage.getItem("languageData"));this.setState({appointment_service_category_create_category:e.appointments.appointment_service_category_create_category,appointment_service_category_edit_category:e.appointments.appointment_service_category_edit_category,appointment_service_category_category_name:e.appointments.appointment_service_category_category_name,label_active:e.global.label_active,label_yes:e.global.label_yes,label_no:e.global.label_no,label_submit:e.global.label_submit,label_cancel:e.global.label_cancel,Please_Wait:e.global.Please_Wait,label_delete:e.global.label_delete,delete_confirmation:e.global.delete_confirmation,services_category_delete_msg:e.appointments.services_category_delete_msg});var t=this.props.match.params.id;t&&this.setState({serviceCategoryId:t}),t?(this.setState({showLoader:!0}),this.props.fetchServiceCategory({},t)):this.props.exportEmptyData({})}},{key:"render",value:function(){return i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(zl,{activeMenuTag:"service-category"}),i.a.createElement("div",{className:"juvly-section full-width"},i.a.createElement("div",{className:"juvly-container border-top"},i.a.createElement("div",{className:"juvly-title m-b-40"},this.state.serviceCategoryId?this.state.appointment_service_category_edit_category:this.state.appointment_service_category_create_category,i.a.createElement(me.a,{to:"/appointment/service-category",className:"pull-right cross-icon"},i.a.createElement("img",{src:"/images/close.png"}))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.appointment_service_category_category_name,"  ",i.a.createElement("span",{className:"required"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:"name",id:"name",className:!0===this.state.nameError?this.state.nameClassError:this.state.nameClass,maxLength:255,type:"text",value:this.state.name,onChange:this.handleInputChange,autoComplete:"off"})))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.label_active),i.a.createElement("div",{className:"basic-checkbox-outer"},i.a.createElement("input",{id:"radiobutton1",className:"basic-form-checkbox",name:"is_active",type:"radio",value:"true",onChange:this.handleInputChange,checked:!!this.state.is_active&&"checked"}),i.a.createElement("label",{className:"basic-form-text",htmlFor:"radiobutton1"},this.state.label_yes)),i.a.createElement("div",{className:"basic-checkbox-outer"},i.a.createElement("input",{id:"radiobutton2",className:"basic-form-checkbox",name:"is_active",type:"radio",value:"false",onChange:this.handleInputChange,checked:!this.state.is_active&&"checked"}),i.a.createElement("label",{className:"basic-form-text",htmlFor:"radiobutton2"},this.state.label_no)))))),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.Please_Wait))),i.a.createElement("div",{className:"footer-static"},this.state.serviceCategoryId>0&&this.state.isDeleted&&i.a.createElement("input",{className:"new-red-btn pull-left confirm-model",onClick:this.showDeleteModal,"data-message":this.state.services_packages_delete_msg,"data-confirm-url":"",type:"button",autoComplete:"off",value:this.state.label_delete}),i.a.createElement("div",{className:this.state.showModal?"overlay":""}),i.a.createElement("div",{id:"filterModal",role:"dialog",className:this.state.showModal?"modal fade in displayBlock":"modal fade no-display"},i.a.createElement("div",{className:"modal-dialog"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal",onClick:this.dismissModal},"\xd7"),i.a.createElement("h4",{className:"modal-title",id:"model_title"},this.state.delete_confirmation)),i.a.createElement("div",{id:"errorwindow",className:"modal-body add-patient-form filter-patient"},this.state.services_category_delete_msg),i.a.createElement("div",{className:"modal-footer"},i.a.createElement("div",{className:"col-md-12 text-left",id:"footer-btn"},i.a.createElement("button",{type:"button",className:"btn  logout pull-right","data-dismiss":"modal",onClick:this.dismissModal},this.state.label_no),i.a.createElement("button",{type:"button",className:"btn btn-success pull-right m-r-10","data-dismiss":"modal",onClick:this.deleteServiceCategory},this.state.label_yes)))))),i.a.createElement("input",{className:"new-blue-btn pull-right",id:"save_service_category",onClick:this.handleSubmit,type:"button",autoComplete:"off",defaultValue:this.state.label_submit}),i.a.createElement(me.a,{to:"/appointment/service-category",className:"new-white-btn pull-right cancelAction"},this.state.label_cancel)))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};return void 0!=e.showLoader&&0==e.showLoader?{showLoader:!1}:(void 0!==e.serviceCategoryData&&200===e.serviceCategoryData.status&&e.serviceCategoryData!==t.serviceCategoryData?(a.serviceCategoryData=e.serviceCategoryData,a.name=t.userChanged?t.name:e.serviceCategoryData.data.name,a.is_active=t.userChanged?t.is_active:1==e.serviceCategoryData.data.is_active,a.showLoader=!1,a.isDeleted=!e.serviceCategoryData.data.service_category_assoc_count):void 0!=e.redirect&&1==e.redirect?rt.toast.success(e.message,{onClose:function(){e.history.push("/appointment/service-category")}}):void 0!=e.showLoader&&0==e.showLoader&&(a.showLoader=!1),a)}}]),t}(n.Component));var Kl=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData")),a={};return"SERVICE_CATEGORY_DATA"===e.AppointmentReducer.action?200!=e.AppointmentReducer.data.status?(rt.toast.dismiss(),rt.toast.error(t.global[e.AppointmentReducer.data.message]),a.showLoader=!1):a.serviceCategoryData=e.AppointmentReducer.data:"CREATE_SERVICE_CATEGORY"===e.AppointmentReducer.action?201==e.AppointmentReducer.data.status?(a.redirect=!0,a.message=t.global[e.AppointmentReducer.data.message]):(rt.toast.dismiss(),rt.toast.error(t.global[e.AppointmentReducer.data.message]),a.showLoader=!1):"UPDATE_SERVICE_CATEGORY"===e.AppointmentReducer.action?200==e.AppointmentReducer.data.status?(a.redirect=!0,a.message=t.global[e.AppointmentReducer.data.message]):(rt.toast.dismiss(),rt.toast.error(t.global[e.AppointmentReducer.data.message]),a.showLoader=!1):"DELETE_SERVICE_CATEGORY"===e.AppointmentReducer.action?200==e.AppointmentReducer.data.status?(a.redirect=!0,a.message=t.global[e.AppointmentReducer.data.message]):(rt.toast.dismiss(),rt.toast.error(t.global[e.AppointmentReducer.data.message]),a.showLoader=!1):e.AppointmentReducer.action,a},function(e){return Object(c.bindActionCreators)({fetchServiceCategory:Bo,createServiceCategory:qo,updateServiceCategory:Yo,deleteServiceCategory:Ho,exportEmptyData:El},e)})(Ql),Xl=function(e){function t(e){var a,s;return Object(ne.a)(this,t),(s=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value;s.setState(Object(se.a)({},e.target.name,a)),"object_name"===e.target.name&&s.handleSubmit(e,a)},s.handleSubmit=function(e){var t;e.preventDefault(),localStorage.setItem("sortOnly",!1);var a={params:{page:1,pagesize:s.state.pagesize,term:s.state.term}};s.setState((t={page:1,pagesize:s.state.pagesize,startFresh:!0,loadMore:!0},Object(se.a)(t,"startFresh",!0),Object(se.a)(t,"next_page_url",""),Object(se.a)(t,"serviceList",[]),Object(se.a)(t,"showLoader",!0),Object(se.a)(t,"next_page_url",""),Object(se.a)(t,"apiServiceList",{}),t)),s.setState({showLoader:!0}),s.props.getServiceListByCategoryId(a,s.state.serviceCategoryId)},s.getItemStyle=function(e,t){return Object(m.a)({userSelect:"none",background:e?"#f7fbfd":"ffffff"},t)},s.reorder=function(e,t,a){var s=Array.from(e),n=s.splice(t,1),i=Object(ye.a)(n,1)[0];return s.splice(a,0,i),s},s.reOrderList=function(e){var t={service_ids:e};s.props.updateServiceSortOrder(t,s.state.serviceCategoryId)},s.ServiceCreate=function(e){return i.a.createElement("div",null,s.props.history.push("/appointment/services/".concat(e,"/create")))},s.ServiceClone=function(e,t){if("easy-link"==t.target.className)return i.a.createElement("div",null,s.props.history.push("/appointment/services/".concat(s.state.serviceCategoryId,"/").concat(e,"/clone")))},s.ServiceEdit=function(e,t){if("easy-link"!=t.target.className)return i.a.createElement("div",null,s.props.history.push("/appointment/services/".concat(s.state.serviceCategoryId,"/").concat(e,"/edit")))},s.loadMore=function(){localStorage.setItem("sortOnly",!0),s.setState({loadMore:!0,startFresh:!0,showLoader:!1,showLoadingText:!0});var e={params:{term:s.state.term,page:s.state.page,pagesize:s.state.pagesize}};s.props.getServiceListByCategoryId(e,s.state.serviceCategoryId)},s.AssociatedClinincs=function(e){return e.map(function(e,t){return e.clinic.clinic_name}).join(", ")},s.state=(a={page:1,pagesize:15,next_page_url:"",startFresh:!0,showLoadingText:!1,loadMore:!0,showLoader:!1,serviceList:[],serviceCategoryData:[]},Object(se.a)(a,"next_page_url",""),Object(se.a)(a,"apiServiceList",{}),Object(se.a)(a,"term",""),a),localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),window.onscroll=function(){var e=parseInt(Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop));window.innerHeight+e===document.documentElement.offsetHeight&&null!==s.state.next_page_url&&s.loadMore()},s}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("languageData"));this.setState({appointment_service_create_service:e.appointments.appointment_service_create_service,appointment_service_service_of_services:e.appointments.appointment_service_service_of_services,appointment_service_can_be_booked_by_customer:e.appointments.appointment_service_can_be_booked_by_customer,appointment_service_associated_clinics:e.appointments.appointment_service_associated_clinics,appointment_service_appointments:e.appointments.appointment_service_appointments,label_hrs:e.global.label_hrs,label_mins:e.global.label_mins,label_clone:e.global.label_clone,label_search:e.global.label_search,label_yes:e.global.label_yes,label_no:e.global.label_no,loading_please_wait_text:e.global.loading_please_wait_text,Please_Wait:e.global.Please_Wait,sorry_no_record_found:e.global.sorry_no_record_found});var t=this.props.match.params.serviceCategoryId;t&&this.setState({serviceCategoryId:t}),document.addEventListener("click",this.handleClick,!1);var a={params:{term:this.state.term,page:this.state.page,pagesize:this.state.pagesize}};this.setState({showLoader:!0}),this.props.getServiceListByCategoryId(a,t)}},{key:"render",value:function(){var e=this,t=[];void 0!==this.state.serviceList&&(t=this.state.serviceList.map(function(t,a){return{content:i.a.createElement(i.a.Fragment,{key:"fragment_"+a},i.a.createElement("td",{className:"col-xs-3 table-updated-td Questionnaire-name"},i.a.createElement("a",{href:"javascript:void(0);",className:"drag-dots"}),t.name),i.a.createElement("td",{className:"col-xs-1 table-updated-td"}," ",Math.floor(t.duration/60)),i.a.createElement("td",{className:"col-xs-1 table-updated-td"},Math.floor(t.duration%60)),i.a.createElement("td",{className:"col-xs-1 table-updated-td"},t.is_available_online?e.state.label_yes:e.state.label_no),i.a.createElement("td",{className:"col-xs-2 table-updated-td"},e.AssociatedClinincs(void 0!=t.service_clinics?t.service_clinics:[])),i.a.createElement("td",{className:"col-xs-1 table-updated-td"},t.appointment_services.length?t.appointment_services.length:0),i.a.createElement("td",{className:"col-xs-2 table-updated-td"},i.a.createElement("a",{href:"javascript:void(0);",onClick:e.ServiceClone.bind(e,t.id),className:"easy-link"},e.state.label_clone))),id:t.id}}));return i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(zl,{activeMenuTag:"service-category"}),i.a.createElement("div",{className:"juvly-section full-width"},i.a.createElement("div",{className:"setting-search-outer"},i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("div",{className:"search-bg new-search"},i.a.createElement("i",{className:"fas fa-search"}),i.a.createElement("input",{className:"setting-search-input search-key",autoComplete:"off",name:"term",placeholder:this.state.label_search,value:this.state.term,onChange:this.handleInputChange}))),i.a.createElement("a",{href:"javascript:void(0);",onClick:this.ServiceCreate.bind(this,this.state.serviceCategoryId),className:"new-blue-btn pull-right"},this.state.appointment_service_create_service)),i.a.createElement("div",{className:"juvly-container border-top sm-container"},i.a.createElement("div",{className:"juvly-title no-margin"},this.state.appointment_service_service_of_services," ",this.state.serviceCategoryData.name?"- "+this.state.serviceCategoryData.name:null,i.a.createElement(me.a,{to:"/appointment/service-category",className:"pull-right cross-icon"},i.a.createElement("img",{src:"/images/close.png"})))),i.a.createElement("div",{className:"table-responsive"},i.a.createElement("table",{className:"table-updated juvly-table table-min-width"},i.a.createElement("thead",{className:"table-updated-thead"},i.a.createElement("tr",null,i.a.createElement("th",{className:"col-xs-3 table-updated-th"},this.state.appointment_service_service_of_services),i.a.createElement("th",{className:"col-xs-1 table-updated-th"},this.state.label_hrs),i.a.createElement("th",{className:"col-xs-1 table-updated-th"},this.state.label_mins),i.a.createElement("th",{className:"col-xs-2 table-updated-th"},this.state.appointment_service_can_be_booked_by_customer),i.a.createElement("th",{className:"col-xs-2 table-updated-th"},this.state.appointment_service_associated_clinics),i.a.createElement("th",{className:"col-xs-1 table-updated-th"},this.state.appointment_service_appointments),i.a.createElement("th",{className:"col-xs-2 table-updated-th"},"\xa0"))),t.length>0?i.a.createElement(Vl.a,{onDragEnd:function(a){var s;if(a.destination){var n=e.reorder(t,a.source.index,a.destination.index);t=n,s=n.map(function(e,t){return e.id}),e.reOrderList(s)}}},i.a.createElement(Vl.c,{droppableId:"droppable"},function(a,s){return i.a.createElement("tbody",{ref:a.innerRef},t.map(function(t,a){return i.a.createElement(Vl.b,{key:"Drag"+t.id,draggableId:t.id,index:a},function(a,s){return i.a.createElement("tr",Object.assign({className:"table-updated-tr","data-order_by":t.id,onClick:e.ServiceEdit.bind(e,t.id),ref:a.innerRef},a.draggableProps,a.dragHandleProps,{style:e.getItemStyle(s.isDragging,a.draggableProps.style)}),t.content)})}),null,a.placeholder)})):i.a.createElement("tbody",null,i.a.createElement("tr",{className:"table-updated-tr"},i.a.createElement("td",{className:"col-xs-12 table-updated-td text-center",colSpan:"7"},this.state.sorry_no_record_found))))),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.Please_Wait)))),i.a.createElement("div",{className:this.state.showLoadingText?"loading-please-wait":"loading-please-wait no-display"},this.state.loading_please_wait_text)),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};if(void 0!=e.showLoader&&0==e.showLoader)return a.showLoader=!1,a;if(void 0!==e.serviceList&&e.serviceList.services.next_page_url!==t.next_page_url){var s={};return null==t.next_page_url?(localStorage.setItem("sortOnly",!1),s.next_page_url=null,s):(0==t.serviceList.length&&1==t.startFresh?"false"==localStorage.getItem("sortOnly")?(s.serviceList=e.serviceList.services.data,s.serviceCategoryData=e.serviceList.service_category,null!=e.serviceList.services.next_page_url?s.page=t.page+1:s.next_page_url=e.serviceList.services.next_page_url,s.startFresh=!1,s.showLoader=!1,s.showLoadingText=!1,localStorage.setItem("showLoader",!1),e.exportEmptyData()):localStorage.setItem("sortOnly",!1):t.serviceList!=e.serviceList.services.data&&0!=t.serviceList.length&&(s.serviceList=Object(oa.a)(t.serviceList).concat(Object(oa.a)(e.serviceList.services.data)),s.page=t.page+1,s.next_page_url=e.serviceList.services.next_page_url,localStorage.setItem("showLoader",!1),s.showLoader=!1,s.showLoadingText=!1,e.exportEmptyData()),s)}return null}}]),t}(n.Component);var Zl=Object(Z.b)(function(e){var t={},a=JSON.parse(localStorage.getItem("languageData"));return"SERVICE_SORT_ORDER_UPDATE"===e.AppointmentReducer.action?(200==e.AppointmentReducer.data.status?(rt.toast.dismiss(),rt.toast.success(a.global[e.AppointmentReducer.data.message])):(rt.toast.dismiss(),rt.toast.error(a.global[e.AppointmentReducer.data.message])),{}):("SERVICE_CATEGORY_SERVICES_LIST"===e.AppointmentReducer.action&&(200!=e.AppointmentReducer.data.status?(rt.toast.dismiss(),rt.toast.error(a.global[e.AppointmentReducer.data.message]),t.showLoader=!1):t.serviceList=e.AppointmentReducer.data.data),t)},function(e){return Object(c.bindActionCreators)({getServiceListByCategoryId:Go,updateServiceSortOrder:Vo,exportEmptyData:El},e)})(Xl),$l=function(e){var t=[];return e.length>0&&e.map(function(e,a){t.push(e.value)}),t},ec=function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleTagChange=function(e,t){if("select-option"==t.action){var s=a.state.value;a.state.options;s.push(t.option);var n=$l(s);a.setState({value:s,selectedId:n});var i={options:a.state.options,value:s,selectedId:n};a.props.handleChildChange(Object(se.a)({},a.props.listName,i))}else if("remove-value"==t.action){var r=a.state.value,o=r.findIndex(function(e){return e.id===t.removedValue.value});r.splice(o,1);var l=$l(r);a.setState({value:r,selectedId:l});var c={options:a.state.options,value:r,selectedId:l};a.props.handleChildChange(Object(se.a)({},a.props.listName,c))}else if("clear"==t.action){a.setState({value:[],selectedId:[]});var d={options:a.state.options,value:[],selectedId:[]};a.props.handleChildChange(Object(se.a)({},a.props.listName,d))}},a.state={inputClassName:a.props.inputClassName&&a.props.inputClassName.includes("field_error")?"field_error":"",options:a.props.options,value:a.props.value,selectedId:void 0!==a.props.value?$l(a.props.value):[],isFocus:!1,placeholder:void 0!==a.props.placeholder?a.props.placeholder:""},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"render",value:function(){var e=[];return void 0!==this.state.value&&(e=this.state.value.map(function(e,t){return e})),i.a.createElement("div",{className:"tag-auto-select"},this.state.value&&i.a.createElement(un.a,{placeholder:this.state.placeholder,onChange:this.handleTagChange,value:e,isClearable:!0,isSearchable:!0,options:this.props.options,isMulti:!0,className:this.state.inputClassName,name:"clinicList"}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};return void 0!=e.showLoader&&0==e.showLoader?{showLoader:!1}:(e.value!=t.value?(a.value=e.value,a.options=e.options,a.selectedTag=e.selectedTag,a.selectedId=$l(e.value),a.inputClassName=e.inputClassName.includes("field_error")?"field_error":" ",e.handleChildChange(Object(se.a)({},e.listName,{options:a.options,value:a.value,selectedId:a.selectedId}))):e.inputClassName!=t.inputClassName&&(a.inputClassName=e.inputClassName.includes("field_error")?"field_error":" "),a)}}]),t}(i.a.Component),tc=function(e,t){t=t||"name";var a=[];return"array"!==typeof e&&"object"!==typeof e||e.map(function(e,s){var n={label:e[t],value:e.id};a.push(n)}),a},ac=function(e,t,a,s){s=s||!1;var n=[];return"array"!==typeof t&&"object"!==typeof t||t.map(function(t,i){e.map(function(e,i){if(s){if(t[a]==e.value){var r={label:e.label,value:e.value};n.push(r)}}else if(t[a]==e.id){var o={label:e.name,value:e.id};n.push(o)}})}),n},sc=function(){return{survey_id:"",scheduled:"1-hour",custom_scheduled_after:"",schedule_type:"hours",custom_days:0,scheduled_after:""}},nc=function(e){var t=!0;return void 0!=e&&void 0!=typeof e&&null!=e&&""!=e?"string"==typeof e&&""===e.trim()&&(t=!1):t=!1,t},ic=function(e){function t(e){var a,s;Object(ne.a)(this,t),(s=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleAddCategory=function(){s.setState({is_add_new_category:!s.state.is_add_new_category,addNewCategoryNameClass:"setting-input-box"})},s.handleAddDevice=function(){s.setState({is_add_new_device:!s.state.is_add_new_device,addNewDeviceNameClass:"setting-input-box"})},s.handleDeviceDependent=function(){s.setState({is_device_dependent:!s.state.is_device_dependent,deviceListClass:"setting-input-box"})},s.handleChildChange=function(e){s.setState(e),s.setState({userChanged:!0})},s.handleInputChange=function(e){var t={userChanged:!0},a=e.target,n=a.value,i=a.name,r=e.target.dataset.surveyindex;if(r){var o=s.state.multipleSurveyList;if(o[r][i]=n,"scheduled"==i)if(o[r].custom_days="0","custom"==n)o[r].schedule_type="days",o[r].custom_scheduled_after="",o[r].scheduled_after="1",o[r].custom_days="1";else switch(n){case"1-hour":o[r].scheduled_after="1",o[r].schedule_type="hours",o[r].custom_scheduled_after="";break;case"2-hour":o[r].scheduled_after="2",o[r].schedule_type="hours",o[r].custom_scheduled_after="";break;default:o[r].schedule_type="days",o[r].custom_scheduled_after="",o[r].scheduled_after=n}else"custom_scheduled_after"==i&&"custom"==o[r].scheduled&&(o[r].scheduled_after=o[r].custom_scheduled_after);s.setState({multipleSurveyList:o})}else{switch("duration"==i&&(t.custom_duration="",t.customDurationClass="setting-input-box"),a.type){case"checkbox":n=a.checked;break;case"radio":(n=1==a.value||"true"==a.value)&&"is_device_dependent"==i&&(t.deviceListClass="setting-input-box")}t[e.target.name]=n,s.setState(t)}},s.handleSubmit=function(e){var t=e.target.name,a=!1;if("addNewCategoryNameSave"==t){if(void 0===typeof s.state.addNewCategoryName||null===s.state.addNewCategoryName||""===s.state.addNewCategoryName.trim()?(s.setState({addNewCategoryNameClass:"setting-input-box field_error"}),a=!0):s.state.addNewCategoryName&&s.setState({addNewCategoryNameClass:"setting-input-box"}),a)return;var n={name:s.state.addNewCategoryName,is_active:1};return s.setState({showLoader:!0}),void s.props.createServiceCategory(n)}if("addNewDeviceNameSave"==t){if(void 0===typeof s.state.addNewDeviceName||null===s.state.addNewDeviceName||""===s.state.addNewDeviceName.trim()?(s.setState({addNewDeviceNameClass:"setting-input-box field_error"}),a=!0):s.state.addNewDeviceName&&s.setState({addNewDeviceNameClass:"setting-input-box"}),a)return;var i={name:s.state.addNewDeviceName};return s.setState({showLoader:!0}),void s.props.createDevice(i)}void 0===typeof s.state.name||null===s.state.name||""===s.state.name.trim()?(s.setState({nameClass:"setting-input-box field_error"}),a=!0):s.state.name&&s.setState({nameClass:"setting-input-box"}),void 0===typeof s.state.categoryList.selectedId||null===s.state.categoryList.selectedId||s.state.categoryList.selectedId.length<=0?(s.setState({categoryListClass:"setting-input-box field_error"}),a=!0):s.state.categoryList.selectedId.length>0&&s.setState({categoryListClass:"setting-input-box"}),s.state.is_add_new_category&&(void 0===typeof s.state.addNewCategoryName||null===s.state.addNewCategoryName||""===s.state.addNewCategoryName.trim()?(s.setState({addNewCategoryNameClass:"setting-input-box field_error"}),a=!0):s.state.addNewCategoryName&&s.setState({addNewCategoryNameClass:"setting-input-box"})),void 0===typeof s.state.clinicList.selectedId||null===s.state.clinicList.selectedId||s.state.clinicList.selectedId<=0?(s.setState({clinicListClass:"setting-input-box field_error"}),a=!0):s.state.clinicList.selectedId.length>0&&s.setState({clinicListClass:"setting-input-box"}),s.state.is_device_dependent?(void 0===typeof s.state.deviceList.selectedId||null===s.state.deviceList.selectedId||s.state.deviceList.selectedId<=0?(s.setState({deviceListClass:"setting-input-box field_error"}),a=!0):s.state.deviceList.selectedId.length>0&&s.setState({deviceListClass:"setting-input-box"}),s.state.is_add_new_device&&(void 0===typeof s.state.addNewDeviceName||null===s.state.addNewDeviceName||""===s.state.addNewDeviceName.trim()?(s.setState({addNewDeviceNameClass:"setting-input-box field_error"}),a=!0):s.state.addNewDeviceName&&s.setState({addNewDeviceNameClass:"setting-input-box"}))):s.setState({deviceListClass:"setting-input-box"}),void 0===typeof s.state.providerList.selectedId||null===s.state.providerList.selectedId||s.state.providerList.selectedId<=0?(s.setState({providerListClass:"setting-input-box field_error"}),a=!0):s.state.providerList.selectedId.length>0&&s.setState({providerListClass:"setting-input-box"}),nc(s.state.duration)&&0!=s.state.duration?s.state.duration?(s.setState({durationClass:"setting-select-box"}),"custom"==s.state.duration&&(nc(s.state.custom_duration)?s.state.custom_duration&&s.setState({customDurationClass:"setting-input-box"}):(s.setState({customDurationClass:"setting-input-box field_error"}),a=!0))):s.setState({customDurationClass:"setting-input-box"}):(s.setState({durationClass:"setting-select-box field_error"}),a=!0),void 0===typeof s.state.description||null===s.state.description||""===s.state.description.trim()?(s.setState({descriptionClass:"setting-textarea-box field_error"}),a=!0):s.state.description&&s.setState({descriptionClass:"setting-textarea-box"});var r=s.state.multipleSurveyList,o=[];if(r.map(function(e,t){var s={};if((null===e.survey_id||""===e.survey_id)&&r.length>1?(s.survey_id="setting-select-box field_error",a=!0):s.survey_id="setting-select-box",null===e.scheduled||""===e.scheduled)s.scheduled="setting-select-box field_error";else if(s.scheduled="setting-select-box",r[t].custom_days="0","custom"==e.scheduled)r[t].scheduled_after=e.custom_scheduled_after,r[t].custom_days="1";else switch(e.scheduled){case"1-hour":r[t].scheduled_after="1",r[t].schedule_type="hours",r[t].custom_scheduled_after="";break;case"2-hour":r[t].scheduled_after="2",r[t].schedule_type="hours",r[t].custom_scheduled_after="";break;default:r[t].scheduled_after=e.scheduled,r[t].schedule_type="days",r[t].custom_scheduled_after=""}if("custom"==e.scheduled&&(null===e.custom_scheduled_after||""===e.custom_scheduled_after||parseInt(e.custom_scheduled_after)>0)){s.custom_scheduled_after="setting-input-box field_error",a=!0;var n=JSON.parse(localStorage.getItem("languageData"));rt.toast.dismiss(),rt.toast.error(n.global.validation_scheduled_after_integer)}else s.custom_scheduled_after="setting-input-box";"custom"!=e.scheduled||null!==e.schedule_type&&""!==e.schedule_type?s.schedule_type="setting-select-box":(s.schedule_type="setting-select-box field_error",a=!0),o.push(s)}),s.setState({multipleSurveyList:r,multipleSurveyListClass:o}),!0!==a){var l={name:s.state.name,categories:s.state.categoryList.selectedId,clinics:s.state.clinicList.selectedId,is_device_dependent:1==s.state.is_device_dependent||"true"==s.state.is_device_dependent?1:0,devices:1==s.state.is_device_dependent||"true"==s.state.is_device_dependent?s.state.deviceList.selectedId:[],is_available_online:1==s.state.is_available_online||"true"==s.state.is_available_online?1:0,is_service_free:1==s.state.is_service_free||"true"==s.state.is_service_free?1:0,free_consultation:1==s.state.free_consultation||"true"==s.state.free_consultation?1:0,questionnaires:s.state.questionnaireList.selectedId,providers:s.state.providerList.selectedId,resources:s.state.resourceList.selectedId,not_clubbed_services:s.state.serviceList.selectedId,pre_instructions:s.state.preTreatmentInstructionList.selectedId,post_instructions:s.state.postTreatmentInstructionList.selectedId,description:s.state.description,custom_duration:"custom"==s.state.duration?1:0,duration:"custom"==s.state.duration?s.state.custom_duration:s.state.duration};r.length>1?l.surveys=r:r[0].survey_id>0&&(l.surveys=r);var c=s.state.serviceCategoryId;if(c){s.setState({showLoader:!0});var d=s.state.serviceId;d?s.props.updateService(l,c,d):s.props.createService(l,c)}}},s.ServiceBack=function(){return i.a.createElement("div",null,s.props.history.push("/appointment/services/".concat(s.state.serviceCategoryId)))},s.addMultipleSurvey=function(){var e=s.state.multipleSurveyList;e.push(sc()),s.setState({multipleSurveyList:e})},s.deleteMultipleSurvey=function(e){var t=s.state.multipleSurveyList;if(1==t.length)return!1;var a=e.target.dataset.surveyindex;t.splice(a,1);var n=s.state.multipleSurveyListClass;void 0!=n[a]&&n.splice(a,1),s.setState({multipleSurveyList:t,multipleSurveyListClass:n})},s.showDeleteModal=function(){s.setState({showModal:!0})},s.dismissModal=function(){s.setState({showModal:!1})},s.deleteService=function(){s.state.serviceId&&(s.setState({showLoader:!0,hideBtns:!0}),s.dismissModal(),s.props.deleteService(s.state.serviceId))};JSON.parse(localStorage.getItem("userData"));return s.state=(a={serviceData:{},listData:{},serviceCategoryId:0,serviceId:0,cloneId:0,hideBtns:!1,showModal:!1,showLoader:!1,userChanged:!1,name:"",is_device_dependent:!1,is_available_online:!1,is_service_free:!1,free_consultation:!1,description:"",categoryList:{options:[],value:[],selectedId:[]},clinicList:{options:[],value:[],selectedId:[]},deviceList:{options:[],value:[],selectedId:[]},questionnaireList:{options:[],value:[],selectedId:[]},providerList:{options:[],value:[],selectedId:[]},resourceList:{options:[],value:[],selectedId:[]},serviceList:{options:[],value:[],selectedId:[]},preTreatmentInstructionList:{options:[],value:[],selectedId:[]},postTreatmentInstructionList:{options:[],value:[],selectedId:[]},multipleSurveyList:[sc()],duration:"",custom_duration:"",surveyList:[],survey_id:[],scheduled:"",is_send_custom:!1,is_add_new_category:!1,addNewCategoryName:"",is_add_new_device:!1,addNewDeviceName:"",nameClass:"setting-input-box",categoriesClass:"setting-input-box",addNewCategoryNameClass:"setting-input-box",addNewDeviceNameClass:"setting-input-box",categoryListClass:"setting-input-box",clinicListClass:"setting-input-box",deviceListClass:"setting-input-box",questionnaireListClass:"setting-input-box",providerListClass:"setting-input-box",resourceListClass:"setting-input-box",serviceListClass:"setting-input-box",preTreatmentInstructionListClass:"setting-input-box",postTreatmentInstructionListClass:"setting-input-box"},Object(se.a)(a,"postTreatmentInstructionListClass","setting-input-box"),Object(se.a)(a,"durationClass","setting-select-box"),Object(se.a)(a,"customDurationClass","setting-input-box"),Object(se.a)(a,"descriptionClass","setting-textarea-box"),Object(se.a)(a,"multipleSurveyListClass",[{survey_id:"setting-select-box",scheduled:"setting-select-box",custom_scheduled_after:"setting-input-box",schedule_type:"setting-select-box"}]),a),s}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e;window.onscroll=function(){return!1};var t=JSON.parse(localStorage.getItem("languageData"));this.setState((e={appointment_service_create_service:t.appointments.appointment_service_create_service,appointment_service_edit_service:t.appointments.appointment_service_edit_service,appointment_service_services:t.appointments.appointment_service_services,appointment_service_service_name:t.appointments.appointment_service_service_name,appointment_service_service_category:t.appointments.appointment_service_service_category,appointment_add_new_category:t.appointments.appointment_add_new_category,appointment_new_category_name:t.appointments.appointment_new_category_name,appointment_service_available_at_clinics:t.appointments.appointment_service_available_at_clinics,appointment_service_does_this_service_require_equipment:t.appointments.appointment_service_does_this_service_require_equipment,appointment_service_select_devices:t.appointments.appointment_service_select_devices,appointment_add_new_device:t.appointments.appointment_add_new_device,appointment_new_device_name:t.appointments.appointment_new_device_name,appointment_service_is_this_service_available_for_smart_booking:t.appointments.appointment_service_is_this_service_available_for_smart_booking,appointment_service_disable_card_capture_for_this_service:t.appointments.appointment_service_disable_card_capture_for_this_service,appointment_service_is_this_service_a_free_consultation:t.appointments.appointment_service_is_this_service_a_free_consultation,appointment_service_select_questionnaires:t.appointments.appointment_service_select_questionnaires,appointment_service_select_providers:t.appointments.appointment_service_select_providers,appointment_service_select_resources:t.appointments.appointment_service_select_resources,appointment_service_can_not_book_with:t.appointments.appointment_service_can_not_book_with,appointment_service_select_pre_treatment_instructions:t.appointments.appointment_service_select_pre_treatment_instructions,appointment_service_select_post_treatment_instructions:t.appointments.appointment_service_select_post_treatment_instructions,appointment_service_select_duration:t.appointments.appointment_service_select_duration,appointment_service_description_shown_for_smart_booking:t.appointments.appointment_service_description_shown_for_smart_booking,appointment_service_select_survey:t.appointments.appointment_service_select_survey,appointment_service_send:t.appointments.appointment_service_send},Object(se.a)(e,"appointment_service_services",t.appointments.appointment_service_services),Object(se.a)(e,"appointment_service_surveys",t.appointments.appointment_service_surveys),Object(se.a)(e,"service_delete_msg",t.appointments.service_delete_msg),Object(se.a)(e,"label_save",t.global.label_save),Object(se.a)(e,"label_cancel",t.global.label_cancel),Object(se.a)(e,"label_submit",t.global.label_submit),Object(se.a)(e,"label_delete",t.global.label_delete),Object(se.a)(e,"label_yes",t.global.label_yes),Object(se.a)(e,"label_no",t.global.label_no),Object(se.a)(e,"Please_Wait",t.global.Please_Wait),Object(se.a)(e,"delete_confirmation",t.global.delete_confirmation),e));var a=this.props.match.params.serviceCategoryId;a&&this.setState({serviceCategoryId:a});var s=0,n=this.props.match.params.id;n&&(s=n,this.setState({serviceId:n}));var i=this.props.match.params.cloneId;i&&(s=i,this.setState({cloneId:i})),this.setState({showLoader:!0}),this.props.fetchServiceAndListData({},s)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(zl,{activeMenuTag:"service-category"}),i.a.createElement("div",{className:"juvly-section full-width"},i.a.createElement("div",{className:"juvly-container border-top"},i.a.createElement("div",{className:"juvly-title m-b-40"},this.state.serviceId?this.state.appointment_service_edit_service:this.state.appointment_service_create_service,i.a.createElement(me.a,{to:"/appointment/services/"+this.state.serviceCategoryId,className:"pull-right cross-icon"},i.a.createElement("img",{src:"/images/close.png"}))),i.a.createElement("div",{className:"settings-subtitle"},this.state.appointment_service_services),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.appointment_service_service_name," ",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("input",{name:"name",id:"name",className:this.state.nameClass,maxLength:255,type:"text",value:this.state.name,onChange:this.handleInputChange,autoComplete:"off"}))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer relative"},i.a.createElement("div",{className:"new-field-label"},this.state.appointment_service_service_category," ",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-10 col-sm-9 col-xs-12"},i.a.createElement(ec,{inputClassName:this.state.categoryListClass,handleChildChange:this.handleChildChange,options:this.state.categoryList.options,value:this.state.categoryList.value,listName:"categoryList"})),i.a.createElement("div",{className:"col-md-2 col-sm-3 col-xs-12 add-category-outer"},i.a.createElement("a",{href:"javascript:void(0);",className:"new-white-btn sm-btn no-margin",onClick:this.handleAddCategory},this.state.appointment_add_new_category))))),this.state.is_add_new_category&&i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer relative"},i.a.createElement("div",{className:"new-field-label"},this.state.appointment_new_category_name," ",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-10 col-sm-9 col-xs-12"},i.a.createElement("input",{name:"addNewCategoryName",className:this.state.addNewCategoryNameClass,maxLength:255,type:"text",value:this.state.addNewCategoryName,onChange:this.handleInputChange,autoComplete:"off"})),i.a.createElement("div",{className:"col-md-2 col-sm-3 col-xs-12 add-category-outer"},i.a.createElement("a",{href:"javascript:void(0);",className:"new-white-btn sm-btn no-margin",name:"addNewCategoryNameSave",onClick:this.handleSubmit},this.state.label_save),i.a.createElement("a",{href:"javascript:void(0);",className:"new-white-btn sm-btn",onClick:this.handleAddCategory},this.state.label_cancel))))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.appointment_service_available_at_clinics," ",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement(ec,{inputClassName:this.state.clinicListClass,handleChildChange:this.handleChildChange,options:this.state.clinicList.options,value:this.state.clinicList.value,listName:"clinicList"})))),i.a.createElement("div",{className:"col-lg-3 col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.appointment_service_does_this_service_require_equipment,"? ",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("div",{className:"basic-checkbox-outer"},i.a.createElement("input",{id:"radiobutton1",className:"basic-form-checkbox",name:"is_device_dependent",type:"radio",value:"true",onChange:this.handleInputChange,checked:!!this.state.is_device_dependent&&"checked"}),i.a.createElement("label",{className:"basic-form-text",htmlFor:"radiobutton1"},this.state.label_yes)),i.a.createElement("div",{className:"basic-checkbox-outer"},i.a.createElement("input",{id:"radiobutton2",className:"basic-form-checkbox",name:"is_device_dependent",type:"radio",value:"false",onChange:this.handleInputChange,checked:!this.state.is_device_dependent&&"checked"}),i.a.createElement("label",{className:"basic-form-text",htmlFor:"radiobutton2"},this.state.label_no))))),i.a.createElement("div",{className:"col-lg-3 col-sm-6 col-xs-12 no-padding-right"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.appointment_service_is_this_service_available_for_smart_booking,"?"),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("div",{className:"basic-checkbox-outer"},i.a.createElement("input",{id:"radiobutton1",className:"basic-form-checkbox",name:"is_available_online",type:"radio",value:"true",onChange:this.handleInputChange,checked:!!this.state.is_available_online&&"checked"}),i.a.createElement("label",{className:"basic-form-text",htmlFor:"radiobutton1"},this.state.label_yes)),i.a.createElement("div",{className:"basic-checkbox-outer"},i.a.createElement("input",{id:"radiobutton2",className:"basic-form-checkbox",name:"is_available_online",type:"radio",value:"false",onChange:this.handleInputChange,checked:!this.state.is_available_online&&"checked"}),i.a.createElement("label",{className:"basic-form-text",htmlFor:"radiobutton1"},this.state.label_no))))),i.a.createElement("div",{className:"col-lg-3 col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.appointment_service_disable_card_capture_for_this_service,"?"),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("div",{className:"basic-checkbox-outer"},i.a.createElement("input",{id:"radiobutton1",className:"basic-form-checkbox",name:"is_service_free",type:"radio",value:"true",onChange:this.handleInputChange,checked:!!this.state.is_service_free&&"checked"}),i.a.createElement("label",{className:"basic-form-text",htmlFor:"radiobutton1"},this.state.label_yes)),i.a.createElement("div",{className:"basic-checkbox-outer"},i.a.createElement("input",{id:"radiobutton2",className:"basic-form-checkbox",name:"is_service_free",type:"radio",value:"false",onChange:this.handleInputChange,checked:!this.state.is_service_free&&"checked"}),i.a.createElement("label",{className:"basic-form-text",htmlFor:"radiobutton1"},this.state.label_no))))),i.a.createElement("div",{className:"col-lg-3 col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.appointment_service_is_this_service_a_free_consultation),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("div",{className:"basic-checkbox-outer"},i.a.createElement("input",{id:"radiobutton1",className:"basic-form-checkbox",name:"free_consultation",type:"radio",value:"true",onChange:this.handleInputChange,checked:!!this.state.free_consultation&&"checked"}),i.a.createElement("label",{className:"basic-form-text",htmlFor:"radiobutton1"},this.state.label_yes)),i.a.createElement("div",{className:"basic-checkbox-outer"},i.a.createElement("input",{id:"radiobutton2",className:"basic-form-checkbox",name:"free_consultation",type:"radio",value:"false",onChange:this.handleInputChange,checked:!this.state.free_consultation&&"checked"}),i.a.createElement("label",{className:"basic-form-text",htmlFor:"radiobutton1"},this.state.label_no))))),i.a.createElement("div",{className:this.state.is_device_dependent?"col-xs-12":"col-xs-12 no-display"},i.a.createElement("div",{className:"setting-field-outer relative"},i.a.createElement("div",{className:"new-field-label"},this.state.appointment_service_select_devices," ",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-10 col-sm-9 col-xs-12"},i.a.createElement(ec,{inputClassName:this.state.deviceListClass,handleChildChange:this.handleChildChange,selectedTag:this.state.deviceList.selectedTag,options:this.state.deviceList.options,value:this.state.deviceList.value,listName:"deviceList"})),i.a.createElement("div",{className:"col-md-2 col-sm-3 col-xs-12 add-category-outer"},i.a.createElement("a",{href:"javascript:void(0);",className:"new-white-btn sm-btn no-margin",onClick:this.handleAddDevice},this.state.appointment_add_new_device))))),this.state.is_device_dependent&&this.state.is_add_new_device&&i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer relative"},i.a.createElement("div",{className:"new-field-label"},this.state.appointment_new_device_name," ",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-10 col-sm-9 col-xs-12"},i.a.createElement("input",{name:"addNewDeviceName",className:this.state.addNewDeviceNameClass,maxLength:255,type:"text",value:this.state.addNewDeviceName,onChange:this.handleInputChange,autoComplete:"off"})),i.a.createElement("div",{className:"col-md-2 col-sm-3 col-xs-12 add-category-outer"},i.a.createElement("a",{href:"javascript:void(0);",className:"new-white-btn sm-btn no-margin",name:"addNewDeviceNameSave",onClick:this.handleSubmit},this.state.label_save),i.a.createElement("a",{href:"javascript:void(0);",className:"new-white-btn sm-btn",onClick:this.handleAddDevice},this.state.label_cancel))))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.appointment_service_select_questionnaires),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement(ec,{inputClassName:this.state.questionnaireListClass,handleChildChange:this.handleChildChange,options:this.state.questionnaireList.options,value:this.state.questionnaireList.value,listName:"questionnaireList"})))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.appointment_service_select_providers," ",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement(ec,{inputClassName:this.state.providerListClass,handleChildChange:this.handleChildChange,options:this.state.providerList.options,value:this.state.providerList.value,listName:"providerList"})))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.appointment_service_select_resources),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement(ec,{inputClassName:this.state.resourceListClass,handleChildChange:this.handleChildChange,options:this.state.resourceList.options,value:this.state.resourceList.value,listName:"resourceList"})))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.appointment_service_can_not_book_with),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement(ec,{inputClassName:this.state.serviceListClass,handleChildChange:this.handleChildChange,options:this.state.serviceList.options,value:this.state.serviceList.value,listName:"serviceList"})))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.appointment_service_select_pre_treatment_instructions),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement(ec,{inputClassName:this.state.preTreatmentInstructionListClass,handleChildChange:this.handleChildChange,options:this.state.preTreatmentInstructionList.options,value:this.state.preTreatmentInstructionList.value,listName:"preTreatmentInstructionList"})))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.appointment_service_select_post_treatment_instructions),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement(ec,{inputClassName:this.state.postTreatmentInstructionListClass,handleChildChange:this.handleChildChange,options:this.state.postTreatmentInstructionList.options,value:this.state.postTreatmentInstructionList.value,listName:"postTreatmentInstructionList"})))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.appointment_service_select_duration," ",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-3 col-xs-6"},i.a.createElement("select",{className:this.state.durationClass,name:"duration",value:this.state.duration,onChange:this.handleInputChange},i.a.createElement("option",{value:"0"},"Please select"),i.a.createElement("option",{value:"15"},"15 minutes"),i.a.createElement("option",{value:"30"},"30 minutes"),i.a.createElement("option",{value:"45"},"45 minutes"),i.a.createElement("option",{value:"60"},"1 hour"),i.a.createElement("option",{value:"75"},"1 hour 15 minutes"),i.a.createElement("option",{value:"90"},"1 hour 30 minutes"),i.a.createElement("option",{value:"custom"},"Custom"))),i.a.createElement("div",{className:"col-sm-3 col-xs-6"},i.a.createElement("input",{className:this.state.customDurationClass,placeholder:"Time in minutes (min 10 mins)",type:"text",name:"custom_duration",onChange:this.handleInputChange,disabled:"custom"!=this.state.duration,autoComplete:"off",value:this.state.custom_duration}))))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.appointment_service_description_shown_for_smart_booking," ",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("textarea",{name:"description",id:"name",className:this.state.descriptionClass,maxLength:255,type:"textarea",value:this.state.description,onChange:this.handleInputChange,autoComplete:"off"}))))),i.a.createElement("div",{className:"settings-subtitle"},this.state.appointment_service_surveys),this.state.multipleSurveyList.length&&this.state.multipleSurveyList.map(function(t,a){return i.a.createElement("div",{className:"row relative",key:"surveyIndex-"+a},i.a.createElement("div",{className:"col-sm-4 col-xs-11"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},e.state.appointment_service_select_survey),i.a.createElement("select",{className:e.state.multipleSurveyListClass[a]?e.state.multipleSurveyListClass[a].survey_id:"setting-select-box",name:"survey_id",value:t.survey_id,"data-surveyindex":a,onChange:e.handleInputChange},i.a.createElement("option",{value:0},"Select Survey"),e.state.surveyList.length?e.state.surveyList.map(function(e,t){return i.a.createElement("option",{key:"surveyOption-"+t,value:e.id},e.title)}):null))),i.a.createElement("div",{className:"col-sm-8 col-xs-11"},i.a.createElement("div",{className:"new-field-label"},e.state.appointment_service_send),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("select",{className:e.state.multipleSurveyListClass[a]?e.state.multipleSurveyListClass[a].scheduled+" m-b-30":"setting-select-box m-b-30",value:t.scheduled,name:"scheduled","data-surveyindex":a,onChange:e.handleInputChange},i.a.createElement("option",{value:"1-hour"},"After 1 hour"),i.a.createElement("option",{value:"2-hour"},"After 2 hours"),i.a.createElement("option",{value:1},"After 1 day"),i.a.createElement("option",{value:2},"After 2 days"),i.a.createElement("option",{value:3},"After 3 days"),i.a.createElement("option",{value:4},"After 4 days"),i.a.createElement("option",{value:5},"After 5 days"),i.a.createElement("option",{value:6},"After 6 days"),i.a.createElement("option",{value:7},"After 1 week"),i.a.createElement("option",{value:14},"After 2 weeks"),i.a.createElement("option",{value:21},"After 3 weeks"),i.a.createElement("option",{value:30},"After 1 month"),i.a.createElement("option",{value:60},"After 2 months"),i.a.createElement("option",{value:"custom"},"Custom"))),i.a.createElement("div",{className:"col-sm-2 col-xs-6 m-b-30"},i.a.createElement("input",{className:e.state.multipleSurveyListClass[a]?e.state.multipleSurveyListClass[a].custom_scheduled_after:"setting-input-box",type:"text",placeholder:"Days",name:"custom_scheduled_after","data-surveyindex":a,onChange:e.handleInputChange,disabled:"custom"!=t.scheduled,autoComplete:"off",value:t.custom_scheduled_after})),i.a.createElement("div",{className:"col-sm-3 col-xs-6 m-b-30"},i.a.createElement("select",{className:e.state.multipleSurveyListClass[a]?e.state.multipleSurveyListClass[a].schedule_type:"setting-select-box",value:t.schedule_type,name:"schedule_type","data-surveyindex":a,onChange:e.handleInputChange,disabled:"custom"!=t.scheduled},i.a.createElement("option",{value:"days"},"Days"),i.a.createElement("option",{value:"hours"},"Hours"))))),0==a?i.a.createElement("a",{href:"javascript:void(0);",className:"add-round-btn",onClick:e.addMultipleSurvey},i.a.createElement("span",null,"+")):i.a.createElement("a",{href:"javascript:void(0);",className:"add-round-btn","data-surveyindex":a,onClick:e.deleteMultipleSurvey},i.a.createElement("span",{"data-surveyindex":a},"-")))})),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.Please_Wait))),i.a.createElement("div",{className:"footer-static"},this.state.serviceId?i.a.createElement("input",{className:"new-red-btn pull-left confirm-model",onClick:this.showDeleteModal,"data-message":this.state.service_delete_msg,"data-confirm-url":"",type:"submit",autoComplete:"off",value:this.state.label_delete}):null,i.a.createElement("div",{className:this.state.showModal?"overlay":""}),i.a.createElement("div",{id:"filterModal",role:"dialog",className:this.state.showModal?"modal fade in displayBlock":"modal fade no-display"},i.a.createElement("div",{className:"modal-dialog"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal",onClick:this.dismissModal},"\xd7"),i.a.createElement("h4",{className:"modal-title",id:"model_title"},this.state.delete_confirmation)),i.a.createElement("div",{id:"errorwindow",className:"modal-body add-patient-form filter-patient"},this.state.service_delete_msg),i.a.createElement("div",{className:"modal-footer"},i.a.createElement("div",{className:"col-md-12 text-left",id:"footer-btn"},i.a.createElement("button",{type:"button",className:"btn  logout pull-right","data-dismiss":"modal",onClick:this.dismissModal},this.state.label_no),i.a.createElement("button",{type:"button",className:"btn btn-success pull-right m-r-10","data-dismiss":"modal",onClick:this.deleteService},this.state.label_yes)))))),i.a.createElement("input",{className:"new-blue-btn pull-right",name:"save_services",id:"save_services",onClick:this.handleSubmit,type:"button",autoComplete:"off",defaultValue:this.state.label_submit}),i.a.createElement(me.a,{to:"/appointment/services/"+this.state.serviceCategoryId,className:"new-white-btn pull-right cancelAction"},this.state.label_cancel)))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeonClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};if(void 0!=e.showLoader&&0==e.showLoader)return{showLoader:!1};if(void 0!==e.serviceData&&200===e.status&&e.serviceData!==t.serviceData){if(a.serviceData=e.serviceData,a.name=t.serviceId?e.serviceData.name:t.name,a.description=t.serviceId>0||t.cloneId>0?e.serviceData.description:t.description,a.is_device_dependent=t.serviceId||t.cloneId>0?1==e.serviceData.is_device_dependent:t.is_device_dependent,a.is_available_online=t.serviceId||t.cloneId>0?1==e.serviceData.is_available_online:t.is_available_online,a.is_service_free=t.serviceId||t.cloneId>0?1==e.serviceData.is_service_free:t.is_service_free,a.free_consultation=t.serviceId||t.cloneId>0?1==e.serviceData.free_consultation:t.free_consultation,a.duration=t.serviceId||t.cloneId>0?e.serviceData.custom_duration?"custom":e.serviceData.duration:t.duration,a.custom_duration=t.serviceId||t.cloneId>0?e.serviceData.custom_duration?e.serviceData.duration:"":t.custom_duration,a.multipleSurveyList=t.serviceId||t.cloneId>0?function(e){var t=[];return void 0!==e&&e.length?e.map(function(e,a){var s={survey_id:e.survey_id,custom_days:e.custom_days,scheduled:e.custom_days?"custom":e.scheduled_after,scheduled_after:e.scheduled_after,custom_scheduled_after:e.custom_days?e.scheduled_after:"",schedule_type:e.schedule_type};t.push(s)}):t=[sc()],t}(e.serviceData.service_surveys):t.multipleSurveyList,a.showLoader=!1,void 0!==e.listData&&0!=e.listData.length&&e.listData!==t.listData){if(a.listData=e.listData,a.categoryList={options:t.userChanged?t.categoryList.options:tc(e.listData.categories),value:t.userChanged?t.categoryList.value:ac(e.listData.categories,e.serviceData.service_category_assoc,"category_id"),selectedId:[]},t.serviceCategoryId>0&&0==t.serviceId){var s=a.categoryList.options.findIndex(function(e){return e.value==t.serviceCategoryId});-1!==s&&(a.categoryList.value=[a.categoryList.options[s]])}var n=tc(e.listData.clinics,"clinic_name");a.clinicList={options:t.userChanged?t.clinicList.options:n,value:t.userChanged?t.clinicList.value:ac(n,e.serviceData.service_clinics,"clinic_id",!0),selectedId:[]},a.deviceList={options:t.userChanged?t.deviceList.options:tc(e.listData.devices),value:t.userChanged?t.deviceList.value:ac(e.listData.devices,e.serviceData.service_devices,"device_id"),selectedId:[]};var i=tc(e.listData.questionnaires,"consultation_title");a.questionnaireList={options:t.userChanged?t.questionnaireList.options:i,value:t.userChanged?t.questionnaireList.value:ac(i,e.serviceData.service_questionnaires,"questionnaire_id",!0),selectedId:[]};var r=[];e.listData.providers.map(function(e,t){return r.push({value:e.id,label:e.firstname+" "+e.lastname})}),a.providerList={options:t.userChanged?t.providerList.options:r,value:t.userChanged?t.providerList.value:ac(r,e.serviceData.service_providers,"user_id",!0),selectedId:[]};var o=tc(e.listData.resources);a.resourceList={options:t.userChanged?t.resourceList.options:o,value:t.userChanged?t.resourceList.value:ac(o,e.serviceData.service_resources,"resource_id",!0),selectedId:[]},a.serviceList={options:t.userChanged?t.serviceList.options:tc(e.listData.services),value:t.userChanged?t.serviceList.value:ac(e.listData.services,e.serviceData.service_not_clubbables,"not_clubbed_service"),selectedId:[]};var l=tc(e.listData.pre_treatment_instructions,"title");a.preTreatmentInstructionList={options:t.userChanged?t.preTreatmentInstructionList.options:l,value:t.userChanged?t.preTreatmentInstructionList.value:ac(l,e.serviceData.service_pre_treatment_instruction,"pre_treatment_instruction_id",!0),selectedId:[]};var c=tc(e.listData.post_treatment_instructions,"title");a.postTreatmentInstructionList={options:t.userChanged?t.postTreatmentInstructionList.options:c,value:t.userChanged?t.postTreatmentInstructionList.value:ac(c,e.serviceData.service_post_treatment_instruction,"post_treatment_instruction_id",!0),selectedId:[]},a.surveyList=t.userChanged?t.surveyList:e.listData.surveys}}else if(void 0!==e.serviceCategoryData&&e.serviceCategoryData!==t.serviceCategoryData){a.serviceCategoryData=e.serviceCategoryData,a.showLoader=!1;var d=t.categoryList.options;d.push({value:e.serviceCategoryData.id,label:e.serviceCategoryData.name});var m=t.categoryList.value;m.push({value:e.serviceCategoryData.id,label:e.serviceCategoryData.name});var u=t.categoryList.selectedId;u.push(e.serviceCategoryData.id);var p={options:d,value:m,selectedId:u};a.categoryList=p,a.is_add_new_category=!1,a.addNewCategoryName=""}else if(void 0!==e.deviceData&&e.deviceData!==t.deviceData){a.deviceData=e.deviceData,a.showLoader=!1;var h=t.deviceList.options;h.push({value:e.deviceData.current.id,label:e.deviceData.current.name});var g=t.deviceList.value;g.push({value:e.deviceData.current.id,label:e.deviceData.current.name});var _=t.deviceList.selectedId;_.push(e.deviceData.current.id);var v={options:h,value:g,selectedId:_};a.deviceList=v,a.is_add_new_device=!1,a.addNewDeviceName=""}else void 0!=e.redirect&&1==e.redirect?rt.toast.success(e.message,{onClose:function(){e.history.push("/appointment/services/"+t.serviceCategoryId)}}):void 0!=e.showLoader&&0==e.showLoader&&(a.showLoader=!1);return a}}]),t}(n.Component);var rc=Object(Z.b)(function(e){var t={},a=JSON.parse(localStorage.getItem("languageData"));if("SERVICE_DATA_AND_LIST_DATA"===e.AppointmentReducer.action)200!=e.AppointmentReducer.data.status?(rt.toast.dismiss(),rt.toast.error(a.global[e.AppointmentReducer.data.message]),t.showLoader=!1):(t.serviceData=e.AppointmentReducer.data.data.service_data,t.listData=e.AppointmentReducer.data.data.list_data,t.status=200);else if("CREATE_SERVICE"===e.AppointmentReducer.action)201==e.AppointmentReducer.data.status?(t.redirect=!0,t.message=a.global[e.AppointmentReducer.data.message]):(rt.toast.dismiss(),rt.toast.error(a.global[e.AppointmentReducer.data.message]),t.showLoader=!1);else{if("UPDATE_SERVICE"===e.AppointmentReducer.action)return 201==e.AppointmentReducer.data.status?(t.redirect=!0,t.message=a.global[e.AppointmentReducer.data.message]):(rt.toast.dismiss(),rt.toast.error(a.global[e.AppointmentReducer.data.message]),t.showLoader=!1),t;if("DELETE_SERVICE"===e.AppointmentReducer.action)return 200==e.AppointmentReducer.data.status?(t.redirect=!0,t.message=a.global[e.AppointmentReducer.data.message]):(rt.toast.dismiss(),rt.toast.error(a.global[e.AppointmentReducer.data.message]),t.showLoader=!1),t;"CREATE_SERVICE_CATEGORY"===e.AppointmentReducer.action?201==e.AppointmentReducer.data.status?(t.serviceCategoryData=e.AppointmentReducer.data.data,rt.toast.success(a.global[e.AppointmentReducer.data.message])):(t.showLoader=!1,rt.toast.dismiss(),rt.toast.error(a.global[e.AppointmentReducer.data.message]),t.showLoader=!1):"CREATE_DEVICE"===e.AppointmentReducer.action?201==e.AppointmentReducer.data.status?(t.deviceData=e.AppointmentReducer.data.data,rt.toast.success(a.global[e.AppointmentReducer.data.message])):(rt.toast.dismiss(),rt.toast.error(a.global[e.AppointmentReducer.data.message]),t.showLoader=!1):"EMPTY_DATA"===e.AppointmentReducer.action&&(t.showLoader=!1)}return t},function(e){return Object(c.bindActionCreators)({fetchServiceAndListData:zo,createService:Wo,updateService:Jo,deleteService:Qo,exportEmptyData:El,createServiceCategory:qo,createDevice:bl},e)})(ic),oc=a(316),lc=a(317),cc=a.n(lc),dc=a(131),mc=a.n(dc),uc=a(318),pc=a.n(uc),hc=(Object.keys(mc.a.Views).map(function(e){return mc.a.Views[e]}),mc.a.momentLocalizer(Se.a)),gc=pc()(mc.a),_c=function(e){return Se()(e).format("YYYY-MM-DD")},vc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se()(),t=Se()(e).startOf("week"),a=Se()(e).endOf("week");return t.format("YYYY")!=a.format("YYYY")?t.format("MMM DD, YY - ")+a.format("MMM DD, YY"):t.format("MM")!=a.format("MM")?t.format("MMM DD - ")+a.format("MMM DD, YYYY"):t.format("MMM ")+t.format("DD - ")+a.format("DD, YYYY")},fc=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"MM-DD-YYYY";return{start:Se.a.utc(e,t).startOf("week"),end:Se.a.utc(e,t).endOf("week")}},bc=function(e){return Se()(e).format("MMMM DD, YYYY")},Ec=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleSelect=function(e){e.start,e.end,e.resourceId},a.navigate=function(){},a.getAppointmentFees=function(e){localStorage.setItem("showLoader",!0),a.setState({showLoader:!0,feesMode:e.currentTarget.dataset.mode}),a.props.getAppointmentFees(a.state.editAppointmentId)},a.onView=function(e){},a.rescheduleAppoint=function(){localStorage.setItem("showLoader",!0),a.setState({showLoader:!0,showRescheduleConfirmModal:!1});var e=a.state.rescheduleFormData;a.props.checkRescheduleTime(e)},a.resizeEvent=function(e,t){var s=t.event,n=t.start,i=t.end,r=a.state.events.map(function(e){return e.id==s.id?Object(m.a)({},e,{start:n,end:i}):e});a.setState({events:r})},a.handleClick=function(e){(a.state.showProvider||a.state.showClinics||a.state.showService)&&"cal-filter-outer"!==e.target.parentElement.className&&(a.state.showService&&!a.refServiceButton.contains(e.target)&&a.setState({showService:!1}),a.state.showProvider&&!a.refProviderButton.contains(e.target)&&a.setState({showProvider:!1}),a.state.showClinics&&!a.refClinicButton.contains(e.target)&&a.setState({showClinics:!1}))},a.showPreviousBookings=function(e){e.preventDefault(),a.setState({showBookings:!a.state.showBookings})},a.editNote=function(){a.setState({showEditNote:!a.state.showEditNote})},a.saveNotes=function(){if(a.setState({noteError:!1}),""==a.state.notes.trim())return a.setState({noteError:!0}),!1;localStorage.setItem("showLoader",!0),a.setState({noteError:!1,showLoader:!0});var e={};e.appointment_id=a.state.editAppointmentId,e.note=a.state.notes,a.props.updateNotes(e)},a.handleInputChange=function(e){var t=e.target,s=t.value,n=e.target.name,i={};switch(t.type){case"checkbox":s=t.checked;break;case"radio":s=t.value}if(n.startsWith("provider-")){var r=n.split("-"),o=parseInt(r[1]),l=a.state.selectedProviders;if(s)l.push(o);else{var c=l.indexOf(o);c>-1&&l.splice(c,1)}i.selectedProvidersLength=l.length,i.selectedProviders=l}if(n.startsWith("service-")){var d=n.split("-")[1],m=a.state.selectedServices;if(s)m.push(d);else{var u=m.indexOf(d);u>-1&&m.splice(u,1)}i.selectedServices=m,i.selectedServicesLength=m.length}if("notification_type"==n&&s&&(i.notification_body="sms"==s?a.state.appointment_sms:a.state.appointment_email_text),i[e.target.name]=s,i.userChanged=!0,"room"==n||"customer_note"==n||"send_to_provider"==n||n.startsWith("notes-")||"notification_body"==n||"notification_type"==n||"notes"==n||n.startsWith("provider-")||n.startsWith("service-"))a.setState(i);else{localStorage.setItem("showLoader",!0),i.showLoader=!0;var p=Se()(a.state.selectedDate);p=p.format("YYYY-MM-DD"),a.setState(i),a.refreshAppointments(p,p)}},a.handleNextPrevDate=function(e){var t=Se()(a.state.selectedDate),s=a.state.calendarView,n={userChanged:!0};switch(s){case"week":if("next"==e){var i=t.add(1,"weeks").toDate();n.selectedDate=i,n.showSelectedDate=vc(i),n.searchPickerDate=Se()(n.selectedDate).startOf("week").toDate(),n.isChangeWeek=!0}else if("prev"==e){var r=t.subtract(1,"weeks").toDate();n.selectedDate=r,n.showSelectedDate=vc(r),n.searchPickerDate=Se()(n.selectedDate).startOf("week").toDate(),n.isChangeWeek=!0}else n.selectedDate=Se()(),t=Se()().toDate(),n.showSelectedDate=vc(t),n.searchPickerDate=Se()(n.selectedDate).toDate(),n.isChangeWeek=!1;break;case"day":if("next"==e){var o=t.add(1,"days").toDate();n.selectedDate=o,n.showSelectedDate=bc(Se()(o))}else if("prev"==e){var l=t.subtract(1,"days").toDate();n.selectedDate=l,n.showSelectedDate=bc(Se()(l))}else t=Se()(),n.selectedDate=Se()().toDate(),n.showSelectedDate=bc(Se()());n.searchPickerDate=Se()(n.selectedDate).toDate()}localStorage.setItem("showLoader",!0);var c=t;c=c.format("YYYY-MM-DD"),n.showLoader=!0,a.setState(n);var d="week"==s?fc(t,"YYYY-MM-DD"):{start:c,end:c};a.refreshAppointments(d.start,d.end)},a.markAsNoShow=function(e){localStorage.setItem("showLoader",!0),a.setState({showLoader:!0}),a.props.markNoShow(a.state.editAppointmentId)},a.emptyFunction=function(e){},a.showEvent=function(e){localStorage.setItem("showLoader",!0),a.setState({editAppointmentId:e.id,showLoader:!0}),a.props.getAppointment(e.id,"view")},a.closePopUp=function(){a.setState({showAppointmentDetails:!1,showBookings:!1})},a.toggleClinics=function(e){a.setState({showClinics:!a.state.showClinics,showService:!1,showProvider:!1,userChanged:!0})},a.toggleService=function(e){e.stopPropagation(),a.setState({showClinics:!1,showService:!0,showProvider:!1,userChanged:!0})},a.toggleProvider=function(e){e.stopPropagation(),a.setState({showClinics:!1,showService:!1,showProvider:!0,userChanged:!0})},a.refreshAppointments=function(e,t){var s={},n="";"week"!=a.state.calendarView||e?e||(e=Se()(a.state.searchPickerDate).toDate(),t=Se()(a.state.searchPickerDate).toDate()):n=vc(a.state.searchPickerDate),s.start=_c(e||n.start),s.end=_c(t||n.end),s.service_ids=a.state.services.length?a.state.selectedServices:[],s.doctor_ids=a.state.providers.length?a.state.selectedProviders:[],s.clinic_id=a.state.clinic_id;var i=JSON.parse(JSON.stringify(s));i.searchPickerDate=e?Se()(e).toDate():a.state.searchPickerDate,i.calendarView=a.state.calendarView,localStorage.setItem("calendarFilter",JSON.stringify(i)),a.setState({showClinics:!1,showService:!1,showProvider:!1,userChanged:!0,showLoader:!0}),a.props.getAppointments(s)},a.changeClinic=function(e){localStorage.setItem("showLoader",!0);var t=parseInt(e.currentTarget.dataset.id),s={},n={},i={},r=a.getFormDataDate();for(var o in s.start=r,s.end=r,s.service_ids=[],s.doctor_ids=[],s.clinic_id=t,t?(i=a.state.clinics.find(function(e){return e.id==t}),n.selectedClinic=i.clinic_name):(n.clinic_id=t,n.selectedClinic="Please Select"),a.state)(o.startsWith("provider-")||o.startsWith("service-"))&&(n[o]=void 0);n.showLoader=!0,a.setState(n);var l=JSON.stringify(s);localStorage.setItem("calendarFilter",l),a.props.getAppointments(s)},a.handleCalendarView=function(e){localStorage.setItem("showLoader",!0);var t={};t.calendarView=e,t.userChanged=!0,t.selectedDate=a.state.selectedDate,"week"==e?(t.calendarStep=15,t.showSelectedDate=vc(t.selectedDate)):"day"==e&&(t.isChangeWeek=!1,t.calendarStep=15,a.state.returnState&&(t.selectedDate=Se()(t.selectedDate).startOf("week").toDate()),t.showSelectedDate=bc(t.selectedDate)),t.searchPickerDate=Se()(t.selectedDate).toDate(),t.showLoader=!0,a.setState(t);var s=Se()(t.selectedDate);s=s.format("YYYY-MM-DD");var n="week"==e?fc(a.state.selectedDate,"YYYY-MM-DD"):{start:s,end:s};a.refreshAppointments(n.start,n.end)},a.handleDatePicker=function(e){a.setState({selectedPickerDate:e,showDatePicker:!1}),a.refDatePicker.setOpen(!1)},a.resetDatePicker=function(){a.setState({selectedPickerDate:null,showDatePicker:!0}),a.toggleDatePicker()},a.blurDatePicker=function(e){a.refDatePicker.setOpen(!0),a.setState({showDatePicker:!0})},a.focusDatePicker=function(e){a.setState({showDatePicker:!0})},a.toggleDatePicker=function(){a.setState({showDatePicker:!0}),a.refDatePicker.setFocus(!0),a.refDatePicker.setOpen(!0)},a.handleRepeatDatePicker=function(e){a.setState({selectedRepeatPickerDate:e})},a.resetRepeatDatePicker=function(){a.setState({selectedRepeatPickerDate:null}),a.toggleRepeatDatePicker()},a.blurRepeatDatePicker=function(e){a.refRepeatDatePicker.setOpen(!0)},a.toggleRepeatDatePicker=function(){a.refRepeatDatePicker.setFocus(!0),a.refRepeatDatePicker.setOpen(!0)},a.getFormDataDate=function(){var e=Se()(a.state.selectedDate);e=e.format("YYYY-MM-DD");"week"==a.state.calendarView&&fc(a.state.selectedDate,"YYYY-MM-DD");return e},a.handleSearchDatePicker=function(e){localStorage.setItem("showLoader",!0);var t={showLoader:!0};t.searchPickerDate=e,t.isChangeWeek=!1,t.selectedDate=e,t.userChanged=!0,"week"==a.state.calendarView?(t.calendarStep=15,t.showSelectedDate=vc(t.selectedDate)):"day"==a.state.calendarView&&(t.isChangeWeek=!1,t.calendarStep=15,a.state.returnState&&(t.selectedDate=Se()(t.selectedDate).startOf("week").toDate()),t.showSelectedDate=bc(t.selectedDate)),t.calendarView=a.state.calendarView,a.setState(t);var s=Se()(e),n={start:s=s.format("YYYY-MM-DD"),end:s};a.refreshAppointments(n.start,n.end)},a.patientCheckIn=function(){localStorage.setItem("showLoader",!0),a.setState({showLoader:!0}),a.props.checkin(a.state.editAppointmentId)},a.makeCheckin=function(){var e={};if(e.id=a.state.editAppointmentId,""==a.state.room.trim())return a.setState({roomError:!0}),!1;e.room=a.state.room.trim(),localStorage.setItem("showLoader",!0),a.setState({roomError:!1,showLoader:!0});var t=[];for(var s in a.state)s.startsWith("notes-")&&a.state[s]&&t.push(s.split("-")[1]);e.notes_arr=t,e.customer_new_note=a.state.customer_note,e.send_to_provider=a.state.send_to_provider,a.props.makePatientCheckin(e)},a.componentDidUpdate=function(e,t){if(void 0!=a.props.markedTimeStamp&&a.props.markedTimeStamp!=t.markedTimeStamp){Se()(a.state.selectedDate);a.refreshAppointments()}a.props.timestamp!=t.timestamp&&(a.props.appointmentCancelled||a.props.notificationSent)&&a.refreshAppointments(),vs.a.rebuild()},a.cancelAppointment=function(){localStorage.setItem("showLoader",!0),a.setState({showLoader:!0});var e={};e.pat_to_be_charged=a.state.patient_to_charge,e.appointment_id=a.state.editAppointmentId,e.notification_type=a.state.notification_type,e.notification_body=a.state.notification_body,e.appointment_sms=a.state.appointment_sms,e.appointment_subject=a.state.appointment_subject,a.props.cancelAppointment(e)},a.sendNotification=function(){var e={};if(!a.state.notification_body.trim())return!1;localStorage.setItem("showLoader",!0),a.setState({showLoader:!0}),e.notification_type=a.state.notification_type,e.notification_body=a.state.notification_body,e.appointment_sms=a.state.appointment_sms,e.appointment_subject=a.state.appointment_subject,e.appointment_id=a.state.appointment_id,a.props.sendNotification(e)},a.chargeAndFurther=function(e){var t=a.state.feesMode,s=e.currentTarget.dataset.charge;if(a.setState({patient_to_charge:s}),"cancel"==t)a.props.getCancelNotification(a.state.editAppointmentId);else{localStorage.setItem("showLoader",!0),a.setState({showLoader:!0});var n={};n.appointment_id=a.state.editAppointmentId,n.charge=s,a.props.markNoShow(n)}},a.dismissModal=function(){a.setState({showModal:!a.state.showModal})},a.dismissRescheduleModal=function(){a.setState({showRescheduleConfirmModal:!a.state.showRescheduleConfirmModal})},a.dismissPrintModal=function(){a.setState({showPrintModal:!a.state.showPrintModal})},a.toggleAllServices=function(e){e.stopPropagation();var t=a.state.services,s={},n=!a.state.selectAllService,i=[];s.selectAllService=n,t.map(function(e,t){s["service-"+e.id]=n,i.push(e.id)}),s.selectedServices=n?i:[],s.userChanged=!0,a.setState(s)},a.toggleAllProviders=function(e){e.stopPropagation();var t=a.state.providers,s={},n=!a.state.selectAllProviders,i=[];s.selectAllProviders=n,t.map(function(e,t){s["provider-"+e.id]=n,i.push(e.id)}),s.selectedProviders=n?i:[],s.userChanged=!0,a.setState(s)},a.applyFilter=function(e){e.stopPropagation(),localStorage.setItem("showLoader",!0),a.refreshAppointments()},a.print=function(e){if(localStorage.getItem("calendarFilter")){var t=JSON.parse(localStorage.getItem("calendarFilter"));t.print_type=e,a.props.printAppointment(t)}};var s=JSON.parse(localStorage.getItem("languageData"));a.props.exportEmptyData({});var n=JSON.parse(localStorage.getItem("userData")),i=new Date,r=i.getDate()+1,o=i.getMonth()+1,l=i.getFullYear();i=r+"/"+o+"/"+l;var c=JSON.parse(localStorage.getItem("calendarFilter"));return a.state={showSelectedDate:c?"week"==c.calendarView?vc(c.searchPickerDate):bc(c.searchPickerDate):Se()().format("LL"),selectedDate:c?Se()(c.searchPickerDate).toDate():Se()().toDate(),providers:[],clinics:[],services:[],calendarView:"day",showLoader:!1,showProvider:!1,showService:!1,showClinics:!1,selectedProviders:[],selectedServices:[],selectedClinic:"",showAppointmentDetails:!1,appointmentData:[],available_buttons:[],editAppointmentId:0,showBookings:!1,showEditNote:!1,notificationSent:!1,checkinData:[],showCheckinData:!1,room:"",customer_note:"",send_to_provider:!1,last_canceled_appointment:null,markedAsNoShow:!0,selectedProvidersLength:0,selectedServicesLength:0,globalLang:s.global,appointmentLang:s.appointments,userChanged:!1,forceChanged:!1,showNotifyPop:!1,showModal:!1,showPrintModal:!1,cancelNotificationMessage:{},rescheduledData:{},notification_type:"email",noteError:!1,selectAllProviders:!1,selectAllService:!1,refreshListAfterCancelling:!1,showRescheduleConfirmModal:!1,userData:n,openAt:"",timestamp:"",markedTimeStamp:"",patient_name:"",closesAt:""},window.onscroll=function(){return!1},a.moveEvent=a.moveEvent.bind(Object(ce.a)(Object(ce.a)(a))),a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"moveEvent",value:function(e){var t=e.event,a=e.start,s=e.end,n=e.resourceId,i=e.isAllDay,r=this.state.events;if(t.resourceId==n){r.indexOf(t);var o=t.allDay;if(!t.allDay&&i?o=!0:t.allDay&&!i&&(o=!1),Se()(a).isAfter(t.start)){var l=Object(m.a)({},t,{start:a,end:s,resourceId:n,allDay:o}),c={};c.startdate=Se()(a).format("YYYY-MM-DD HH:mm:ss"),c.appointment_id=t.id,this.setState({updatedEvent:l,appointment_id:t.id,rescheduleFormData:c,showRescheduleConfirmModal:!0})}}}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClick,!1),rt.toast.dismiss()}},{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleClick,!1);JSON.parse(localStorage.getItem("languageData"));var e="",t={};t.start=Se()().format("YYYY-MM-DD"),t.end=Se()().format("YYYY-MM-DD");var a={showLoader:!0};if(this.props.match.params.appointmentId)a.dontShowAppointment=!0,this.setState(a),this.props.getAppointment(this.props.match.params.appointmentId,"view");else if(localStorage.getItem("calendarFilter")){var s=JSON.parse(localStorage.getItem("calendarFilter"));a.searchPickerDate=Se()(s.searchPickerDate).toDate(),s.start!==s.end?(a.calendarView="week",a.showSelectedDate=vc(s.searchPickerDate),e=fc(s.searchPickerDate,"YYYY-MM-DD"),t.start=e.start,t.end=e.end):(a.showSelectedDate=bc(s.searchPickerDate),t.start=t.end=_c(s.selectedDate)),a.selectedProviders=s.doctor_ids,a.selectedServices=s.service_ids,a.selectedServices&&a.selectedServices.map(function(e,t){a["service-"+e]=!0}),this.setState(a),this.props.getAppointments(s)}else this.setState(a),this.props.getAppointments(t);var n=parseInt(window.innerHeight)-267;document.getElementById("juvly-section").style.height=n+"px"}},{key:"render",value:function(){var e=this,t=this.state.selectedClinic,a="";if(this.state.userData&&this.state.userData.user.account_id===Ee.JUVLY_ACC_ID)a="https://juvly.aestheticrecord.com/book/appointments?user_id="+this.state.userData.user.hash_id;else{var s="";s="dev"===Ee.CURRENT_DOMAIN?Ee.DEV_DOMAIN:Ee.LIVE_DOMAIN,a=this.state.userData.host_name+this.state.userData.account.pportal_subdomain+"."+s+".com/book/appointments?user_id="+this.state.userData.user.hash_id}var n=this.state.appointment_details&&this.state.appointment_details.patient?this.state.appointment_details.patient.firstname:this.state.patient_name?this.state.patient_name:"",r=this.state.selectAllProviders?"Unselect All":"Select All",o=this.state.selectAllService?"Unselect All":"Select All";return i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content"},i.a.createElement(zl,{activeMenuTag:"calendar"}),i.a.createElement("span",{id:"business_time",className:""!=this.state.openAt?"":"no-display"},"Opens at: ",Ve(this.state.openAt)," \xa0\xa0 Closes at: ",Ve(this.state.closesAt)),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-4 cal-month-week-day-outer"},i.a.createElement("button",{className:"week"==this.state.calendarView?"calendar-btn btn-week selected":"calendar-btn btn-week",onClick:this.handleCalendarView.bind(this,"week")},"Week"),i.a.createElement("button",{className:"day"==this.state.calendarView?"calendar-btn btn-day selected":"calendar-btn btn-day",onClick:this.handleCalendarView.bind(this,"day")},"Day")),i.a.createElement("div",{className:"col-lg-4 col-md-3 col-sm-6 cal-date-btn-outer"},i.a.createElement("button",{className:"calendar-btn today-btn",onClick:this.handleNextPrevDate.bind(this,"today")},"Today"),i.a.createElement("button",{className:"calendar-btn cal-date-btn"},i.a.createElement("a",{className:"cal-arrow pull-left",onClick:this.handleNextPrevDate.bind(this,"prev")},i.a.createElement("img",{src:"/images/cal-left.svg"})),this.state.showSelectedDate,i.a.createElement("a",{className:"cal-arrow pull-right",onClick:this.handleNextPrevDate.bind(this,"next")},i.a.createElement("img",{src:"/images/cal-right.svg"}))),i.a.createElement("div",{className:"search-bg new-calender",ref:function(t){return e.refSearchDatePickerContainer=t}},i.a.createElement("img",{src:as.a}),i.a.createElement(xn.a,{value:this.state.searchPickerDate?bc(this.state.searchPickerDate):null,onChange:this.handleSearchDatePicker,className:"setting-search-input search-key",dateFormat:"YYYY-MM-dd",minDate:new Date(Se()().subtract(10,"years")),selected:this.state.searchPickerDate,name:"searchPickerDate",autoComplete:"off",ref:function(t){return e.refSearchDatePicker=t}}))),i.a.createElement("div",{className:"col-lg-4 col-md-5 col-sm-12 cal-filter"},i.a.createElement("button",{className:"calendar-dropdown",onClick:this.toggleService,ref:function(t){return e.refServiceButton=t}},0==this.state.services.length?"No Service":0==this.state.selectedServices.length?"All Services":"("+this.state.selectedServices.length+") Services",i.a.createElement("a",{href:"javascript:void(0);",className:"cal-arrow pull-right"},i.a.createElement("img",{src:this.state.showService?"/images/cal-up.png":"/images/cal-down.png"})),i.a.createElement("div",{className:this.state.showService?"filter-wid-apply-btn":"filter-wid-apply-btn no-display"},i.a.createElement("div",{className:"cal-filter-outer"},i.a.createElement("a",{className:0==this.state.services.length?"line-btn pull-right no-display":"line-btn pull-right",onClick:this.applyFilter,disabled:this.state.services.length},"Apply"),i.a.createElement("a",{className:0==this.state.services.length?"line-btn pull-right no-display":"line-btn pull-right",onClick:this.toggleAllServices,disabled:this.state.services.length},o)),i.a.createElement("ul",{className:this.state.services.length>0?"cal-dropdown cal-service-dropdown":"cal-dropdown cal-service-dropdown no-visible"},this.state.services.length>0&&this.state.services.map(function(t,a){return i.a.createElement("li",{key:"services-"+a},i.a.createElement("a",null,i.a.createElement("label",{className:"checkbox","data-tip":t.name},i.a.createElement("input",{type:"checkbox",value:t.id,name:"service-"+t.id,checked:!!e.state["service-"+t.id]&&"checked",autoComplete:"off",onChange:e.handleInputChange,"data-tip":t.name})," ",t.name,i.a.createElement("span",null," \xa0 "))))})),i.a.createElement("div",{className:0==this.state.services.length?"no-record":"no-display"},"No service found"))),i.a.createElement("button",{className:"calendar-dropdown show",onClick:this.toggleProvider,ref:function(t){return e.refProviderButton=t}},0==this.state.providers.length?"No Provider":0==this.state.selectedProviders.length?"All Providers":"("+this.state.selectedProviders.length+") Providers",i.a.createElement("a",{href:"javascript:void(0);",className:"cal-arrow pull-right"},i.a.createElement("img",{src:this.state.showProvider?"/images/cal-up.png":"/images/cal-down.png"})),i.a.createElement("div",{className:this.state.showProvider?"filter-wid-apply-btn":"filter-wid-apply-btn no-display"},i.a.createElement("div",{className:"cal-filter-outer"},i.a.createElement("a",{className:0==this.state.providers.length?"line-btn pull-right no-display":"line-btn pull-right",onClick:this.applyFilter,disabled:this.state.providers.length},"Apply"),i.a.createElement("a",{className:0==this.state.providers.length?"line-btn pull-right no-display":"line-btn pull-right",onClick:this.toggleAllProviders,disabled:this.state.providers.length},r)),i.a.createElement("ul",{className:this.state.providers.length>0?"cal-dropdown cal-service-dropdown":"cal-dropdown cal-service-dropdown no-visible"},this.state.providers.length>0&&this.state.providers.map(function(t,a){return i.a.createElement("li",{key:"provider-"+a},i.a.createElement("a",null,i.a.createElement("label",{className:"checkbox"},i.a.createElement("input",{type:"checkbox",value:e.state["provider-"+t.id],name:"provider-"+t.id,onChange:e.handleInputChange,checked:!!e.state["provider-"+t.id]&&"checked"})," ",Me(t),i.a.createElement("span",{className:"filter-provider-span",style:{backgroundColor:t.appointment_color}},"  "))))})),i.a.createElement("div",{className:0==this.state.providers.length?"no-record":"no-display"},"No providers found"))),i.a.createElement("button",{className:"calendar-dropdown cal-clinic",onClick:this.toggleClinics,ref:function(t){return e.refClinicButton=t}},t.length>16?t.substring(0,15)+"...":t," ",i.a.createElement("a",{href:"javascript:void(0);",className:"cal-arrow pull-right"},i.a.createElement("img",{src:this.state.showClinics?"/images/cal-up.png":"/images/cal-down.png"})),i.a.createElement("ul",{className:this.state.showClinics?"cal-dropdown clinicname-dropdown":"cal-dropdown clinicname-dropdown no-display"},this.state.clinics.length>0&&this.state.clinics.map(function(t,a){return i.a.createElement("li",{key:"clinics-"+a,"data-id":t.id,onClick:e.changeClinic},i.a.createElement("a",{href:"javascript:void(0);"},i.a.createElement("label",{className:"checkbox"},t.clinic_name)))})))),i.a.createElement("div",{className:"calender-btns"},i.a.createElement("a",{className:"header-select-btn pull-right ",onClick:function(){e.setState({showPrintModal:!0})},id:"print_cal"}," Print"),Te("create-appointment")&&i.a.createElement(me.a,{id:"create_appointment1",className:"new-blue-btn pull-right","data-url":"/appointments/add_appointment",to:"/appointment/create"},this.state.appointmentLang.appointment_create),Te("create-appointment")&&i.a.createElement("a",{id:"",href:a,target:"_blank",className:"new-procedure-btn new-blue-btn pull-right"},i.a.createElement("i",{className:""}),this.state.appointmentLang.appointment_smar_booking))),i.a.createElement("div",{className:"week"==this.state.calendarView?"juvly-section full-width m-t-10 week-view-calendar":"juvly-section full-width m-t-10 day-view-calendar",id:"juvly-section"},this.state.events&&i.a.createElement(gc,{selectable:!0,localizer:hc,views:["week","day"],events:this.state.events,min:this.state.min,max:this.state.max,resources:this.state.resourceMap,resourceIdAccessor:"resourceId",resourceTitleAccessor:"resourceTitle",onEventDrop:this.moveEvent,view:this.state.calendarView,defaultDate:new Date(2019,0,29),onSelectSlot:this.handleSelect,onSelectEvent:this.showEvent,step:5,timeslots:3,showMultiDayTimes:!0,toolbar:!1,date:this.state.selectedDate,onNavigate:this.navigate,onView:this.onView})),i.a.createElement("div",{className:"allTimeDisplay"},i.a.createElement("img",{src:"/images/History.svg"}),i.a.createElement("div",{className:"allTimeLabel"},"All times displayed in",i.a.createElement("div",{id:"timezone_after_calendar"},"(UTC-05:00) Eastern Time (US & Canada)")))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}),i.a.createElement("div",{className:this.state.showAppointmentDetails?"modalOverlay":"modalOverlay no-display"},i.a.createElement("div",{className:"small-popup-outer appointment-detail-main"},i.a.createElement("div",{className:"small-popup-header"},i.a.createElement("div",{className:"popup-name"},this.state.appointmentLang.appointment_details),i.a.createElement("a",{onClick:this.closePopUp,className:"small-cross"},"\xd7")),i.a.createElement("div",{className:"small-popup-content"},i.a.createElement("div",{className:"juvly-container no-padding-bottom"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.appointmentLang.appointment_client),i.a.createElement("div",{className:"setting-input-box"},this.state.appointment_details&&Me(this.state.appointment_details.patient),i.a.createElement("div",{className:"existing-user"},i.a.createElement("a",{href:"/clients/profile/".concat(this.state.appointment_details&&this.state.appointment_details.patient.id),target:"_blank",className:"easy-link pull-left no-padding"},this.state.appointmentLang.appointment_view_profile),i.a.createElement("span",{className:"pull-right"},this.state.appointmentLang.appointment_existing))))),i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.appointmentLang.appointment_booking_info),i.a.createElement("div",{className:"relative setting-input-box p-r-15"},i.a.createElement("div",{className:"appo-booking-info"},i.a.createElement("span",null,this.state.appointmentLang.sales_date_of_booking," :")," ",this.state.appointment_details&&this.state.appointment_details.appointment_booking.booking_datetime),i.a.createElement("div",{className:"appo-booking-info"},i.a.createElement("span",null,this.state.appointmentLang.appointment_booded_by," :")," ",this.state.appointment_details&&this.state.appointment_details.appointment_booking.booked_by),i.a.createElement("span",{onClick:this.showPreviousBookings},i.a.createElement("i",{className:"far fa-clock client-treat-cal"}))),i.a.createElement("div",{className:this.state.showBookings?"appoint-pro-edit":"appoint-pro-edit no-display"},i.a.createElement("ul",{className:"log-appoint-his"},this.state.appointment_details&&this.state.appointment_user_log.length>0&&this.state.appointment_user_log.map(function(t,a){return i.a.createElement("li",{key:"customer_bookings-"+a},e.state.appointmentLang.appointment_customer_booked_on," ",t.appointment_datetime," ")})))))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.appointmentLang.appointment_email),i.a.createElement("div",{className:"setting-input-box"},this.state.appointment_details&&this.state.appointment_details.patient.email))),i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.appointmentLang.appointment_phone),i.a.createElement("div",{className:"setting-input-box"},this.state.appointment_details&&this.state.appointment_details.patient.phoneNumber)))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.appointmentLang.appointment_notes),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("textarea",{className:this.state.noteError?"setting-textarea-box field-error":"setting-textarea-box",name:"notes",value:this.state.notes,disabled:this.state.showEditNote?"":"disabled",onChange:this.handleInputChange},this.state.appointment_details&&this.state.notes),i.a.createElement("a",{onClick:this.editNote,className:"client-treat-cal appoint-note"},i.a.createElement("i",{className:"far fa-edit"}))))),i.a.createElement("div",{className:this.state.showEditNote?"setting-field-outer col-xs-12":"setting-field-outer col-xs-12 no-display"},i.a.createElement("a",{className:"new-white-btn",onClick:function(){e.setState({showEditNote:!1})}},this.state.appointmentLang.appointment_cancel),i.a.createElement("a",{className:"new-blue-btn",onClick:this.saveNotes},this.state.appointmentLang.appointment_save))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.appointmentLang.appointment_clinic),i.a.createElement("div",{className:"setting-input-box"},this.state.appointment_details&&this.state.appointment_details.clinic.clinic_name))),i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.appointmentLang.appointment_medical_provider),i.a.createElement("div",{className:"setting-input-box relative p-r-15"},this.state.appointment_details&&Me(this.state.appointment_details.provider),i.a.createElement("div",{className:"medical-pro-color",id:"provider-color-box",style:{backgroundColor:this.state.appointment_details?this.state.appointment_details.provider.appointment_color:""}}))))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.appointmentLang.appointment_service_services),i.a.createElement("div",{className:"setting-input-box"},this.state.appointment_details&&this.state.appointment_details.appointment_services.map(function(t,a){return i.a.createElement("div",{className:"services-listdiv service-list",key:"appointment_services-"+a},t.service.name,i.a.createElement("span",{"data-duration_hours":"0",className:"duration_hours"},"( ",t.service.hours," hrs "),i.a.createElement("span",{"data-duration_mins":"15",className:"duration_mins"},t.service.mins," ",e.state.appointmentLang.appointment_minutes," )"))})))),i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.appointmentLang.appointment_date_time),i.a.createElement("div",{className:"setting-input-box"},this.state.appointment_details&&this.state.appointment_details.date+" "+this.state.appointment_details.appointment_start_on),i.a.createElement("div",{className:"important-instruction m-t-15"},this.state.appointmentLang.appointment_ends_at," ",this.state.appointment_details&&this.state.appointment_details.appointment_endtime)))))),i.a.createElement("div",{className:"footer-static"},i.a.createElement("p",{className:null!=this.state.last_canceled_appointment?"p-text last-cancel-appint":"p-text last-cancel-appint no-display"},this.state.appointmentLang.appointment_last_cancelled,": ",this.state.last_canceled_appointment&&this.state.last_canceled_appointment.appointment_datetime),i.a.createElement(me.a,{to:"/appointment/edit/"+this.state.editAppointmentId,className:this.state.appointment_details&&this.state.available_buttons.indexOf("edit-appointment")>-1?"new-green-btn pull-right":"new-green-btn pull-right no-display"},this.state.appointmentLang.appointment_edit_label),i.a.createElement("a",{className:this.state.appointment_details&&this.state.available_buttons.indexOf("cancel-appointment")>-1?"new-red-btn pull-right m-l-10":"new-red-btn pull-right m-l-10 no-display","data-mode":"cancel",onClick:this.getAppointmentFees},this.state.appointmentLang.appointment_cancel_label),i.a.createElement("a",{className:this.state.appointment_details&&this.state.available_buttons.indexOf("mark-as-noshow")>-1?"new-yellow-btn pull-right":"new-yellow-btn pull-right no-display","data-mode":"markasnoshow",onClick:this.getAppointmentFees},this.state.appointmentLang.appointment_mark_as_no_show),i.a.createElement("a",{className:this.state.appointment_details&&this.state.available_buttons.indexOf("patient-check-in")>-1?"new-green-btn pull-right":"new-green-btn pull-right no-display",onClick:this.patientCheckIn},this.state.appointmentLang.appointment_patient_check_in),i.a.createElement("a",{className:this.state.appointment_details&&this.state.available_buttons.indexOf("patient-checked-in")>-1?"new-green-btn pull-right":"new-green-btn pull-right no-display"},this.state.appointmentLang.appointment_patient_checked)))),i.a.createElement("div",{className:this.state.showCheckinData?"modalOverlay":"modalOverlay no-display"},i.a.createElement("div",{className:"small-popup-outer"},i.a.createElement("div",{className:"small-popup-header"},i.a.createElement("div",{className:"popup-name"},"KIRANJOT KAUR - ",this.state.appointmentLang.appointment_check_in),i.a.createElement("a",{onClick:function(){e.setState({showCheckinData:!e.state.showCheckinData})},className:"small-cross"},"\xd7")),i.a.createElement("div",{className:"small-popup-content"},i.a.createElement("div",{className:"juvly-container no-padding-bottom"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"ROOM ",i.a.createElement("span",{className:"required"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{className:this.state.roomError?"setting-input-box field-error":"setting-input-box",type:"text",name:"room",value:this.state.room,autoComplete:"off",onChange:this.handleInputChange})))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.appointmentLang.appointment_customer_note),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{className:"setting-input-box",type:"text",name:"customer_note",value:this.state.customer_note,autoComplete:"off",onChange:this.handleInputChange})))),i.a.createElement("p",{className:"p-text col-xs-12"},i.a.createElement("input",{type:"checkbox",className:"new-check",name:"send_to_provider",checked:!!this.state.send_to_provider&&"checked",autoComplete:"off",onChange:this.handleInputChange}),this.state.appointmentLang.appointment_send_this)),i.a.createElement("div",{className:"customer-note"},i.a.createElement("div",{className:"juvly-subtitle m-b-15"},this.state.appointmentLang.appointment_select_customer_notes,":"),this.state.checkinData&&this.state.checkinData.map(function(t,a){return i.a.createElement("div",{className:"check-note"},i.a.createElement("input",{type:"checkbox",className:"note-check",name:"notes-"+t.id,checked:!!e.state["notes-"+t.id]&&"checked",onChange:e.handleInputChange}),i.a.createElement("div",{className:"check-note-text"},t.added_by,", ",t.created," - ",t.notes))})))),i.a.createElement("div",{className:"footer-static"},i.a.createElement("a",{className:"new-blue-btn pull-right",onClick:this.makeCheckin},this.state.appointmentLang.appointment_complete_check_in),i.a.createElement("a",{className:"new-white-btn pull-right",onClick:function(){return e.setState({showCheckinData:!e.state.showCheckinData})}},this.state.appointmentLang.appointment_cancel)))),i.a.createElement("div",{className:this.state.showNotifyPop?"modalOverlay":"modalOverlay no-display"},i.a.createElement("div",{className:"small-popup-outer appointment-detail-main"},i.a.createElement("div",{className:"small-popup-header"},i.a.createElement("div",{className:"popup-name"},"cancel"==this.state.notiMode?"Cancel Appointment":"Send Notification"),i.a.createElement("a",{className:"small-cross",onClick:function(){return e.setState({showNotifyPop:!e.state.showNotifyPop})}},"\xd7")),i.a.createElement("div",{className:"small-popup-content"},i.a.createElement("div",{className:"juvly-container no-padding-bottom"},i.a.createElement("div",{className:"cancel"==this.state.notiMode?"juvly-subtitle":"no-display"},this.state.appointmentLang.appointment_r_u_sure_cancel," ",n,"'s ",this.state.appointmentLang.appointment_question_mark,i.a.createElement("br",null),this.state.appointmentLang.appointment_will_be_removed," ",n,"'s ",this.state.appointmentLang.appointment_history,"."),i.a.createElement("div",{className:"reschedule"==this.state.notiMode?"juvly-subtitle":"no-display"},this.state.appointmentLang.appointment_r_u_sure_reschedule," ",n,"'s ",this.state.appointmentLang.appointment_question_mark,i.a.createElement("br",null),this.state.appointmentLang.appointment_will_be_removed," ",n,"'s ",this.state.appointmentLang.appointment_history,"."),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},n," ",this.state.appointmentLang.appoinment_will_be_notified,":"),i.a.createElement("select",{className:"setting-select-box",name:"notification_type",onChange:this.handleInputChange,value:this.state.notification_type},i.a.createElement("option",{value:"email"},this.state.appointmentLang.appointment_email),i.a.createElement("option",{value:"sms"},this.state.appointmentLang.appointment_sms),i.a.createElement("option",{value:"emailAndSms"},this.state.appointmentLang.appointment_both),i.a.createElement("option",{value:"dontsend"},this.state.appointmentLang.appointment_dont_send_notification))))),i.a.createElement("p",{className:"p-text"},this.state.appointmentLang.appointment_notification_message,i.a.createElement("br",null),this.state.appointmentLang.appointment_top_notification),i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("textarea",{className:"setting-textarea-box h-130 scroll-y",name:"notification_body",onChange:this.handleInputChange,value:this.state.notification_body},this.state.notification_body)))),i.a.createElement("div",{className:"footer-static"},i.a.createElement("a",{onClick:function(){return e.setState({showNotifyPop:!e.state.showNotifyPop})},className:"new-red-btn pull-left"},this.state.appointmentLang.appointment_back),i.a.createElement("a",{className:"cancel"==this.state.notiMode?"new-blue-btn pull-right":"no-display",onClick:this.cancelAppointment},this.state.appointmentLang.appointment_cancel_label),i.a.createElement("a",{className:"reschedule"==this.state.notiMode?"new-blue-btn pull-right":"no-display",onClick:this.sendNotification},this.state.appointmentLang.appointment_send_notification)))),i.a.createElement("div",{className:this.state.showModal?"overlay":""}),i.a.createElement("div",{id:"filterModal",role:"dialog",className:this.state.showModal?"modal fade in displayBlock":"modal fade"},i.a.createElement("div",{className:"modal-dialog"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal",onClick:this.dismissModal},"\xd7"),i.a.createElement("h4",{className:"modal-title",id:"model_title"})),i.a.createElement("div",{id:"errorwindow",className:"modal-body add-patient-form filter-patient"},this.state.appointmentLang.appointment_cancellation_fee_of," ",this.state.cancellation_fee,". ",this.state.appointmentLang.appointment_want_to_do),i.a.createElement("div",{className:"modal-footer"},i.a.createElement("div",{className:"col-md-12 text-left",id:"footer-btn"},i.a.createElement("button",{type:"button",className:"btn btn-success pull-right","data-charge":!0,onClick:this.chargeAndFurther},this.state.appointmentLang.appointment_cancel_and_charge),i.a.createElement("button",{type:"button",className:"btn  logout pull-right m-r-10","data-charge":!1,onClick:this.chargeAndFurther},this.state.appointmentLang.appointment_cancel_donot_charge)))))),i.a.createElement("div",{className:this.state.showPrintModal?"modalOverlay":"modalOverlay no-display"},i.a.createElement("div",{className:"small-popup-outer"},i.a.createElement("div",{className:"small-popup-header"},i.a.createElement("div",{className:"popup-name"},"Print"),i.a.createElement("a",{className:"small-cross",onClick:function(){return e.setState({showPrintModal:!e.state.showPrintModal})}},"\xd7")),i.a.createElement("div",{className:"small-popup-content"},i.a.createElement("div",{className:"juvly-container"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-12 printable-img-title"},"We offer two types of printouts."),i.a.createElement("div",{className:"col-sm-6"},i.a.createElement("a",{className:"printable-img print_cal_option",onClick:this.print.bind(this,"short")},i.a.createElement("img",{src:"/images/short.png"}),i.a.createElement("div",{className:"text-center"},"Short"))),i.a.createElement("div",{className:"col-sm-6"},i.a.createElement("a",{className:"printable-img print_cal_option",onClick:this.print.bind(this,"extensive")},i.a.createElement("img",{src:"/images/extensive.png"}),i.a.createElement("div",{className:"text-center"},"Extensive")))))))),i.a.createElement("div",{className:this.state.showRescheduleConfirmModal?"overlay":""}),i.a.createElement("div",{id:"filterModal",role:"dialog",className:this.state.showRescheduleConfirmModal?"modal fade in displayBlock":"modal fade"},i.a.createElement("div",{className:"modal-dialog"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal",onClick:this.dismissRescheduleModal},"\xd7"),i.a.createElement("h4",{className:"modal-title",id:"model_title"},this.state.globalLang.are_you_sure)),i.a.createElement("div",{id:"errorwindow",className:"modal-body add-patient-form filter-patient"},this.state.appointmentLang.reschedule_confirmation_message),i.a.createElement("div",{className:"modal-footer"},i.a.createElement("div",{className:"col-md-12 text-left",id:"footer-btn"},i.a.createElement("button",{type:"button",className:"btn  logout pull-right","data-dismiss":"modal",onClick:this.dismissRescheduleModal},this.state.appointmentLang.no_option),i.a.createElement("button",{type:"button",className:"btn btn-success pull-right m-r-10","data-dismiss":"modal",onClick:this.rescheduleAppoint},this.state.appointmentLang.yes_option)))))),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock positionFixed":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.appointmentLang.appointment_processing_please_wait))),i.a.createElement(vs.a,{effect:"float",multiline:!0,place:"right"}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};if(void 0!=e.exportCsvData&&t.timeStamp!=e.timeStamp&&"false"==localStorage.getItem("showLoader")&&(a.showLoader=!1,a.showPrintModal=!1,window.open(e.exportCsvData.file)),void 0!=e.showLoader&&0==e.showLoader)return a.showLoader=!1,a;if(void 0!=e.notificationSent&&1==e.notificationSent&&e.notificationSent!=t.notificationSent&&"false"==localStorage.getItem("showLoader"))return a.showLoader=!1,a.showNotifyPop=!1,a.notificationSent=e.notificationSent,a.refreshListAfterCancelling=!t.refreshListAfterCancelling,a;if(void 0!=e.notesUpdates&&1==e.notesUpdates&&"false"==localStorage.getItem("showLoader"))return rt.toast.success(e.message),a.showLoader=!1,a.showEditNote=!1,a;if(void 0!=e.rescheduledData&&e.rescheduledData!=t.rescheduledData&&"false"==localStorage.getItem("showLoader")){if(a.rescheduledData=e.rescheduledData,"fail"==e.rescheduledData.status)return a.showLoader=!1,e.history.push("/appointment/edit/"+t.updatedEvent.id+"/reschedule"),a;var s={};s.appointment_id=t.updatedEvent.id,s.appointment_date=Se()(t.updatedEvent.start).format("YYYY-MM-DD"),s.appointment_time=Se()(t.updatedEvent.start).format("HH:mm:ss"),e.rescheduleAppointment(s)}if(void 0!=e.patientCheckedIn&&1==e.patientCheckedIn&&"false"==localStorage.getItem("showLoader"))return a.showLoader=!1,a.showCheckinData=!1,rt.toast.success(e.message),a;if(void 0!=e.updatedAppointmentData&&e.updatedAppointmentData!=t.updatedAppointmentData&&"false"==localStorage.getItem("showLoader"))return a.updatedAppointmentData=e.updatedAppointmentData,a.noti_type=e.updatedAppointmentData.noti_type,a.appointment_email_text=e.updatedAppointmentData.appointment_email_text,a.notification_body=e.updatedAppointmentData.appointment_email_text,a.appointment_sms=e.updatedAppointmentData.appointment_sms,a.appointment_subject=e.updatedAppointmentData.appointment_subject,a.patient_name=e.updatedAppointmentData.patient_name,a.showAppointmentDetails=!1,a.showNotifyPop=!0,a.showLoader=!1,a.notiMode="reschedule",a;if(void 0!=e.appointmentCancelled&&1==e.appointmentCancelled&&"false"==localStorage.getItem("showLoader"))return a.showLoader=!1,a.refreshListAfterCancelling=!1,a.showNotifyPop=!1,a.timestamp=e.timestamp,a;if(void 0!=e.appointmentFees&&e.appointmentFees!=t.appointmentFees&&"false"==localStorage.getItem("showLoader")){if(a.appointmentFees=e.appointmentFees,e.appointmentFees.cancellation_fee)a.cancellation_fee=e.appointmentFees.cancellation_fee,a.showLoader=!1,a.showAppointmentDetails=!1,a.showModal=!0;else if(a.cancellation_fee=0,"cancel"==t.feesMode)e.getCancelNotification(t.editAppointmentId);else{var n={};n.appointment_id=t.editAppointmentId,n.charge=!1,e.markNoShow(n)}return a}if(void 0!=e.cancelNotificationMessage&&e.cancelNotificationMessage!=t.cancelNotificationMessage&&"false"==localStorage.getItem("showLoader"))return a.cancelNotificationMessage=e.cancelNotificationMessage,a.noti_type=e.cancelNotificationMessage.noti_type,a.appointment_email_text=e.cancelNotificationMessage.appointment_email_text,a.notification_body=e.cancelNotificationMessage.appointment_email_text,a.appointment_sms=e.cancelNotificationMessage.appointment_sms,a.appointment_subject=e.cancelNotificationMessage.appointment_subject,a.showAppointmentDetails=!1,a.showNotifyPop=!0,a.showLoader=!1,a.showModal=!1,a.notiMode="cancel",a;if(void 0!=e.appointmentData&&e.appointmentData!==t.appointmentData&&"false"==localStorage.getItem("showLoader")&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(e.appointmentData)){var i={},r=e.appointmentData.appointment_details;if(i.appointmentData=e.appointmentData,i.appointment_details=e.appointmentData.appointment_details,i.appointment_user_log=e.appointmentData.appointment_user_log,i.available_buttons=e.appointmentData.available_buttons,i.last_canceled_appointment=e.appointmentData.last_canceled_appointment,i.notes=e.appointmentData.appointment_details.appointment_booking.appointment_notes,t.dontShowAppointment){i.selectedDate=r.date,i.showSelectedDate=bc(Se()(r.date));var o={};o.start=r.date,o.end=r.date,o.clinic_id=r.clinic_id,e.getAppointments(o)}else i.showLoader=!1,i.showAppointmentDetails=!0;return i}if(void 0!=e.checkinData&&e.checkinData!==t.checkinData&&"false"==localStorage.getItem("showLoader"))return e.checkinData.length&&e.checkinData.map(function(e,t){a["notes-"+e.id]=!1}),a.checkinData=e.checkinData,a.showLoader=!1,a.showAppointmentDetails=!1,a.showCheckinData=!0,a;if(void 0!=e.markedAsNoShow&&1==e.markedAsNoShow&&e.markedTimeStamp!=t.markedTimeStamp&&"false"==localStorage.getItem("showLoader"))return a.markedAsNoShow=!t.markedAsNoShow,a.showAppointmentDetails=!1,a.showLoader=!1,a.showModal=!1,a.markedTimeStamp=e.markedTimeStamp,a;if(void 0!=e.appointmentsData&&e.appointmentsData!==t.appointmentsData){if("false"==localStorage.getItem("showLoader")){var l=[],c=[];if(e.appointmentsData.resources.length?e.appointmentsData.resources.map(function(e,t){l.push({resourceId:e.id,resourceTitle:Me(e),resourceColor:"#FF1493"})}):l.push({resourceId:0,resourceTitle:"",resourceColor:"#FF1493"}),e.appointmentsData.doctor_ids.length&&(e.appointmentsData.doctor_ids.map(function(e,s){a["provider-"+e]=!t.userChanged||t["provider-"+e]}),a.selectedProvidersLength=e.appointmentsData.doctor_ids.length),localStorage.getItem("calendarFilter"))JSON.parse(localStorage.getItem("calendarFilter")).clinic_id!=e.appointmentsData.clinic_id?a.selectedProviders=[]:a.selectedProviders=t.userChanged&&e.appointmentsData.providers==t.providers?t.selectedProviders:e.appointmentsData.doctor_ids;else a.selectedProviders=[];t.dontShowAppointment&&(a.dontShowAppointment=!1,a.showAppointmentDetails=!0),e.appointmentsData.appointments.length&&e.appointmentsData.appointments.map(function(e,t){var a=e.appointment_date.split("-"),s=e.appointment_start_time.split(":"),n=e.appointment_end_time.split(":"),i=function(e){var t=[],a="";return e.appointment_services&&e.appointment_services.map(function(e,a){t.push(e.service.name)}),t.length&&(a=t.join(", ")),a}(e);c.push({id:e.id,title:"("+i+")",start:new Date(a[0],a[1]-1,a[2],s[0],s[1],s[2]),end:new Date(a[0],a[1]-1,a[2],n[0],n[1],n[2]),resourceId:e.user_id,color:e.color,clientName:Me(e.patient)})});var d=e.appointmentsData.clinics.find(function(t){return t.id==e.appointmentsData.clinic_id}),m=e.appointmentsData.clinicOpensAt.split(":"),u=e.appointmentsData.clinicClosesAt.split(":");if(a.events=t.forceChanged?t.events:c,a.clinics=e.appointmentsData.clinics,a.providers=e.appointmentsData.providers,0==e.appointmentsData.providers.length)for(var p in t)p.startsWith("provider-")&&(a[p]=!1);a.resourceMap=l,a.services=e.appointmentsData.services,a.clinic_id=e.appointmentsData.clinic_id,a.selectedClinic=d?d.clinic_name:"",a.showLoader=!1,a.forceChanged=!1,t.selectedServices.length&&t.selectedServices.length==e.appointmentsData.services.length&&(a.selectAllService=!0),t.selectedProviders.length&&t.selectedProviders.length==a.selectedProviders.length&&(a.selectAllProviders=!0),a.openAt=m[0]+":"+m[1],a.closesAt=u[0]+":"+u[1],a.min=new Date(2019,1,28,m[0],m[1],m[2]),a.max=new Date(2019,1,28,u[0],u[1],u[2])}return a}return null}}]),t}(n.Component);var yc=Object(Z.b)(function(e){var t={},a=JSON.parse(localStorage.getItem("languageData"));return rt.toast.dismiss(),localStorage.setItem("showLoader",!1),"GET_APPOINTMENTS"===e.AppointmentReducer.action&&(200!=e.AppointmentReducer.data.status?(rt.toast.error(a.global[e.AppointmentReducer.data.message]),t.showLoader=!1):t.appointmentsData=e.AppointmentReducer.data.data),"APPOINTMENT_GET"===e.AppointmentReducer.action&&(200!=e.AppointmentReducer.data.status?(rt.toast.error(a.global[e.AppointmentReducer.data.message]),t.showLoader=!1):t.appointmentData=e.AppointmentReducer.data.data),"MARKED_NO_SHOW"===e.AppointmentReducer.action&&(200!=e.AppointmentReducer.data.status?(rt.toast.error(a.global[e.AppointmentReducer.data.message]),t.showLoader=!1):(rt.toast.success(a.global[e.AppointmentReducer.data.message]),t.markedAsNoShow=!0,t.markedTimeStamp=e.AppointmentReducer.data.data.timestamp)),"GET_CHECKIN_DATA"===e.AppointmentReducer.action&&(200!=e.AppointmentReducer.data.status?(rt.toast.error(a.global[e.AppointmentReducer.data.message]),t.showLoader=!1):t.checkinData=e.AppointmentReducer.data.data),"POST_CHECKIN_DATA"===e.AppointmentReducer.action&&(200!=e.AppointmentReducer.data.status?(rt.toast.error(a.global[e.AppointmentReducer.data.message]),t.showLoader=!1):(t.patientCheckedIn=!0,t.message=a.global[e.AppointmentReducer.data.message])),"EMPTY_DATA"===e.AppointmentReducer.action&&(200!=e.AppointmentReducer.data.status?(rt.toast.error(a.global[e.AppointmentReducer.data.message]),t.showLoader=!1):t.appointmentData={}),"APPOINTMENT_FEES"===e.AppointmentReducer.action&&(200!=e.AppointmentReducer.data.status?(rt.toast.error(a.global[e.AppointmentReducer.data.message]),t.showLoader=!1):t.appointmentFees=e.AppointmentReducer.data.data),"CANCEL_NOTIFICATION_MESSAGE"===e.AppointmentReducer.action&&(200!=e.AppointmentReducer.data.status?(rt.toast.error(a.global[e.AppointmentReducer.data.message]),t.showLoader=!1):t.cancelNotificationMessage=e.AppointmentReducer.data.data),"APPOINTMENT_CANCELLED"===e.AppointmentReducer.action&&(200!=e.AppointmentReducer.data.status?(rt.toast.error(a.global[e.AppointmentReducer.data.message]),t.showLoader=!1):(t.appointmentCancelled=!0,t.notificationSent=!0,t.timestamp=e.AppointmentReducer.data.data.timestamp,rt.toast.success(a.global[e.AppointmentReducer.data.message]))),"RESCHEDULE_TIME"===e.AppointmentReducer.action&&(200!=e.AppointmentReducer.data.status?(rt.toast.error(a.global[e.AppointmentReducer.data.message]),t.showLoader=!1):t.rescheduledData=e.AppointmentReducer.data.data),"APPOINTMENT_RESCHEDULED"===e.AppointmentReducer.action&&(200!=e.AppointmentReducer.data.status?(rt.toast.error(a.global[e.AppointmentReducer.data.message]),t.showLoader=!1):t.updatedAppointmentData=e.AppointmentReducer.data.data),"SEND_NOTIFICATION"===e.AppointmentReducer.action&&(200!=e.AppointmentReducer.data.status?(rt.toast.error(a.global[e.AppointmentReducer.data.message]),t.showLoader=!1):(rt.toast.success(a.global[e.AppointmentReducer.data.message]),t.notificationSent=!0)),"UPDATE_NOTES"===e.AppointmentReducer.action&&(200!=e.AppointmentReducer.data.status?(rt.toast.error(a.global[e.AppointmentReducer.data.message]),t.showLoader=!1):(t.notesUpdates=!0,t.message=a.global[e.AppointmentReducer.data.message])),"PRINT_APPOINTMENT"===e.AppointmentReducer.action&&(200!=e.AppointmentReducer.data.status?(rt.toast.error(a.global[e.AppointmentReducer.data.message]),t.showLoader=!1):(t.exportCsvData=e.AppointmentReducer.data.data,t.timeStamp=new Date)),t},function(e){return Object(c.bindActionCreators)({getAppointments:yl,getAppointment:Ll,markNoShow:Al,updateNotes:Tl,checkin:Il,makePatientCheckin:Rl,exportEmptyData:El,getAppointmentFees:Ml,getCancelNotification:Ul,cancelAppointment:Fl,checkRescheduleTime:Bl,rescheduleAppointment:ql,sendNotification:jl,printAppointment:Hl},e)})(Object(oc.DragDropContext)(cc.a)(Ec)),Nc=function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,s="checkbox"===t.type?t.checked:t.value;a.setState(Object(se.a)({},e.target.name,s)),"object_name"===e.target.name&&a.handleSubmit(e,s)},a.handleSubmit=function(e){var t;e.preventDefault(),localStorage.setItem("sortOnly",!0);var s={params:{page:1,pagesize:a.state.pagesize,term:a.state.term}};a.setState((t={page:1,pagesize:a.state.pagesize,startFresh:!0,loadMore:!0},Object(se.a)(t,"startFresh",!0),Object(se.a)(t,"next_page_url",""),Object(se.a)(t,"equipmentScheduleList",[]),Object(se.a)(t,"showLoader",!0),Object(se.a)(t,"next_page_url",""),t)),a.setState({showLoader:!0}),a.props.fetchEquipmentSchedule(s)},a.EquipmentScheduleCreate=function(e){return i.a.createElement("div",null,a.props.history.push("/appointment/equipment-schedule/create"))},a.EquipmentScheduleEdit=function(e,t){if("easy-link"!=t.target.className&&"new-blue-btn pull-right"!=t.target.className)return i.a.createElement("div",null,a.props.history.push("/appointment/equipment-schedule/".concat(e,"/edit")))},a.loadMore=function(){a.setState({loadMore:!0,startFresh:!0,showLoader:!1,showLoadingText:!0});var e={params:{term:a.state.term,page:a.state.page,pagesize:a.state.pagesize}};a.props.fetchEquipmentSchedule(e,a.state.serviceCategoryId)},a.state=Object(se.a)({page:1,pagesize:15,next_page_url:"",startFresh:!0,showLoadingText:!1,loadMore:!0,showLoader:!1,equipmentScheduleList:[]},"next_page_url",""),localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),window.onscroll=function(){var e=parseInt(Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop));window.innerHeight+e===document.documentElement.offsetHeight&&null!==a.state.next_page_url&&a.loadMore()},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("languageData"));this.setState({appointment_equipment_add_equipment:e.appointments.appointment_equipment_add_equipment,appointment_equipment_equipment_name:e.appointments.appointment_equipment_equipment_name,appointment_clinic:e.appointments.appointment_clinic,label_search:e.global.label_search,loading_please_wait_text:e.global.loading_please_wait_text,Please_Wait:e.global.Please_Wait,sorry_no_record_found:e.global.sorry_no_record_found}),document.addEventListener("click",this.handleClick,!1);var t={params:{term:this.state.term,page:this.state.page,pagesize:this.state.pagesize}};this.setState({showLoader:!0}),this.props.fetchEquipmentSchedule(t)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(zl,{activeMenuTag:"equipment-schedule"}),i.a.createElement("div",{className:"juvly-section full-width"},i.a.createElement("div",{className:"setting-search-outer"},i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("div",{className:"search-bg new-search"},i.a.createElement("i",{className:"fas fa-search"}),i.a.createElement("input",{className:"setting-search-input search-key",name:"term",placeholder:this.state.label_search,value:this.state.term,onChange:this.handleInputChange,autoComplete:"off"}))),i.a.createElement("a",{href:"javascript:void(0);",onClick:this.EquipmentScheduleCreate.bind(),className:"new-blue-btn pull-right"},this.state.appointment_equipment_add_equipment)),i.a.createElement("div",{className:"table-responsive"},i.a.createElement("table",{className:"table-updated juvly-table table-min-width"},i.a.createElement("thead",{className:"table-updated-thead"},i.a.createElement("tr",null,i.a.createElement("th",{className:"col-xs-3 table-updated-th"},this.state.appointment_equipment_equipment_name),i.a.createElement("th",{className:"col-xs-1 table-updated-th"},this.state.appointment_clinic))),i.a.createElement("tbody",null,this.state.equipmentScheduleList.length>0?this.state.equipmentScheduleList.map(function(t,a){return i.a.createElement("tr",{key:"fragment_"+a,className:"table-updated-tr","data-order_by":t.id,onClick:e.EquipmentScheduleEdit.bind(e,t.id)},i.a.createElement("td",{className:"col-xs-3 table-updated-td"},t.name),i.a.createElement("td",{className:"col-xs-1 table-updated-td"},t.clinic?t.clinic.clinic_name:""))}):i.a.createElement("tr",{className:"table-updated-tr"},i.a.createElement("td",{className:"col-xs-12 table-updated-td text-center",colSpan:"7"},this.state.sorry_no_record_found))))),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.Please_Wait)))),i.a.createElement("div",{className:this.state.showLoadingText?"loading-please-wait":"loading-please-wait no-display"},this.state.loading_please_wait_text)),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};if(void 0!=e.showLoader&&0==e.showLoader)return a.showLoader=!1,a;if(void 0!=e.equipmentScheduleList&&e.equipmentScheduleList.devices.next_page_url!==t.next_page_url){var s={};return null==t.next_page_url?(localStorage.setItem("sortOnly",!1),s.next_page_url=null,s):(0==t.equipmentScheduleList.length&&1==t.startFresh?"false"==localStorage.getItem("sortOnly")?(s.equipmentScheduleList=e.equipmentScheduleList.devices.data,null!=e.equipmentScheduleList.devices.next_page_url?s.page=t.page+1:s.next_page_url=e.equipmentScheduleList.devices.next_page_url,s.startFresh=!1,s.showLoader=!1,s.showLoadingText=!1,localStorage.setItem("showLoader",!1)):localStorage.setItem("sortOnly",!1):t.equipmentScheduleList!=e.equipmentScheduleList.devices.data&&0!=t.equipmentScheduleList.length&&(s.equipmentScheduleList=Object(oa.a)(t.equipmentScheduleList).concat(Object(oa.a)(e.equipmentScheduleList.devices.data)),s.page=t.page+1,s.next_page_url=e.equipmentScheduleList.devices.next_page_url,localStorage.setItem("showLoader",!1),s.showLoader=!1,s.showLoadingText=!1),s)}return null}}]),t}(n.Component);var Sc=Object(Z.b)(function(e){var t={},a=JSON.parse(localStorage.getItem("languageData"));return"EQUIPMENT_SCHEDULE_LIST"===e.AppointmentReducer.action?200!=e.AppointmentReducer.data.status?(rt.toast.dismiss(),rt.toast.error(a.global[e.AppointmentReducer.data.message]),t.showLoader=!1):t.equipmentScheduleList=e.AppointmentReducer.data.data:"SERVICE_SORT_ORDER_UPDATE"===e.AppointmentReducer.action&&(200==e.AppointmentReducer.data.status?rt.toast.success(a.global[e.AppointmentReducer.data.message]):(rt.toast.dismiss(),rt.toast.error(a.global[e.AppointmentReducer.data.message]),t.showLoader=!1)),t},function(e){return Object(c.bindActionCreators)({fetchEquipmentSchedule:ll},e)})(Nc),Dc=a(106),wc=a.n(Dc),Cc=function(){return{from_time:"12:00",from_time_option:"AM",from_time_24:"00:00",to_time:"12:00",to_time_option:"PM",to_time_24:"12:00",className:{from_time:"setting-input-box hours-time from-time-input",from_time_option:"setting-select-box hours-pm from_time_option",to_time:"setting-input-box hours-time to-time-input",to_time_option:"setting-select-box hours-pm to_time_option"}}},xc=function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleChange=function(e){var t=a.state.dayValue,s=e.target,n=s.value,i=s.name;e.target.dataset.surveyindex;if("checkbox"==s.type){if(!(n=1==s.checked||"true"==s.checked)){var r=[Cc()];t.schedules=r}t[i]=n}else{var o=e.target.dataset.scheduleindex;t.schedules[o][i]=n,t.schedules[o].from_time_24=Re(t.schedules[o].from_time+" "+t.schedules[o].from_time_option),t.schedules[o].to_time_24=Re(t.schedules[o].to_time+" "+t.schedules[o].to_time_option)}a.setState({dayValue:t,userChanged:!0}),a.props.handleChildChange({dayValue:t,index:a.props.index})},a.addMultipleSchedule=function(){var e=a.state.dayValue,t=e.schedules;t.push(Cc()),e.schedules=t,a.setState({dayValue:e}),a.props.handleChildChange({dayValue:e,index:a.props.index})},a.deleteMultipleSchedule=function(e){var t=a.state.dayValue,s=t.schedules;if(1==s.length)return!1;var n=e.target.dataset.scheduleindex;s.splice(n,1),t.schedules=s,a.setState({dayValue:t}),a.props.handleChildChange({dayValue:t,index:a.props.index})},a.maskChange=function(e,t,a){var s=e.value,n=e.selection;return function(e,t,a,s){e.endsWith(":")&&":"!==s&&(a===e.length&&(t={start:--a,end:a}),e=e.slice(0,-1)),2==a&&e>12&&(e=12);var n=e.split(":");return parseInt(n[0])>12&&(n[0]=12),parseInt(n[0])<=0&&(n[0]=12),5==a&&parseInt(n[1])>=60&&(n[1]=59,e=n.join(":")),void 0==n[1]&&(n[0],n[1]="00"),n[0]=n[0].toString(),n[0]=n[0].padEnd(2,"0"),n[1]=n[1].toString(),n[1]=n[1].padEnd(2,"0"),{value:e=n.join(":"),selection:t}}(s,n,n?n.start:null,a)},a.state={index:null,isChecked:!1,schedules:[Cc()],dayValue:{day:0,name:"",is_checked:!1,schedules:[Cc()]},dayValueData:{}},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",null,this.state.dayValue.schedules&&this.state.dayValue.schedules.map(function(t,a){return i.a.createElement("div",{className:"row datetimeparent",key:"schedules-"+e.state.dayValue.day+"-"+a},0==a?i.a.createElement("div",{className:"col-xs-4"},i.a.createElement("input",{type:"checkbox",className:"new-check",checked:!!e.state.dayValue.is_checked&&"checked",value:!!e.state.dayValue.is_checked,name:"is_checked",onChange:e.handleChange}),i.a.createElement("label",{className:"setting-week",htmlFor:"Tuesday"},e.state.dayValue.name)):i.a.createElement("div",{className:"col-xs-4"},"\xa0"),i.a.createElement("div",{className:"fromandtoTime"},i.a.createElement("div",{className:"col-xs-4"},i.a.createElement(wc.a,{name:"from_time",value:t.from_time,mask:"99:99",className:t.className.from_time,placeholder:"00:00",onChange:e.handleChange,disabled:!e.state.dayValue.is_checked,"data-dayindex":e.state.dayValue.day,"data-scheduleindex":a,maskChar:"",beforeMaskedValueChange:e.maskChange,autoComplete:"off"}),i.a.createElement("select",{name:"from_time_option",value:t.from_time_option,className:t.className.from_time_option,onChange:e.handleChange,disabled:!e.state.dayValue.is_checked,"data-dayindex":e.state.dayValue.day,"data-scheduleindex":a},i.a.createElement("option",{value:"AM"},"AM"),i.a.createElement("option",{value:"PM"},"PM"))),i.a.createElement("div",{className:"col-xs-4"},i.a.createElement(wc.a,{name:"to_time",value:t.to_time,mask:"99:99",className:t.className.to_time,placeholder:"00:00",onChange:e.handleChange,disabled:!e.state.dayValue.is_checked,"data-dayindex":e.state.dayValue.day,"data-scheduleindex":a,maskChar:"",beforeMaskedValueChange:e.maskChange,autoComplete:"off"}),i.a.createElement("select",{name:"to_time_option",value:t.to_time_option,className:t.className.to_time_option,onChange:e.handleChange,disabled:!e.state.dayValue.is_checked,"data-dayindex":e.state.dayValue.day,"data-scheduleindex":a},i.a.createElement("option",{value:"AM"},"AM"),i.a.createElement("option",{value:"PM"},"PM"))),e.state.dayValue.is_checked?0===a?i.a.createElement("a",{href:"javascript:void(0);",className:"add-round-btn","data-dayindex":e.state.dayValue.day,"data-scheduleindex":a,onClick:e.addMultipleSchedule},i.a.createElement("span",{"data-dayindex":e.state.dayValue.day,"data-scheduleindex":a},"+")):i.a.createElement("a",{href:"javascript:void(0);",className:"add-round-btn","data-dayindex":e.state.dayValue.day,"data-scheduleindex":a,onClick:e.deleteMultipleSchedule},i.a.createElement("span",{"data-dayindex":e.state.dayValue.day,"data-scheduleindex":a},"-")):null))}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};if(void 0!=e.showLoader&&0==e.showLoader)return{showLoader:!1};if(void 0!==e.dayValue&&void 0!=e.dayValue.schedules&&e.dayValue.schedules!=t.schedules){a.index=e.index,a.dayValueData=e.dayValue,a.schedules=e.dayValue.schedules;var s={};return s.day=e.dayValue.day,s.name=e.dayValue.name,s.is_checked=e.dayValue.is_checked,s.schedules=t.userChanged?t.dayValue.schedules:e.dayValue.schedules,a.dayValue=s,a}return null}}]),t}(i.a.Component),Lc={2:"Monday",3:"Tuesday",4:"Wednesday",5:"Thursday",6:"Friday",7:"Saturday",1:"Sunday"},Oc=function(e){return{day:e,name:Lc[e],is_checked:!1,schedules:[{from_time:"12:00",from_time_option:"AM",from_time_24:"00:00",to_time:"12:00",to_time_option:"PM",to_time_24:"12:00",className:{from_time:"setting-input-box hours-time from-time-input",from_time_option:"setting-select-box hours-pm from_time_option",to_time:"setting-input-box hours-time to-time-input",to_time_option:"setting-select-box hours-pm to_time_option"}}]}},Ac=function(){return{from_time:"setting-input-box hours-time from-time-input",from_time_option:"setting-select-box hours-pm from_time_option",to_time:"setting-input-box hours-time to-time-input",to_time_option:"setting-select-box hours-pm to_time_option"}},Tc=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleChildChange=function(e){if(void 0!=e.index&&void 0!=e.dayValue){a.state.deviceScheduleList;a.setState(Object(se.a)({},"deviceSchedule_"+e.index,e.dayValue))}},a.handleInputChange=function(e){var t={userChanged:!0},s=e.target,n=s.value,i=s.name;if(e.target.dataset.surveyindex);else{switch("duration"==i&&(t.custom_duration="",t.customDurationClass="setting-input-box"),s.type){case"checkbox":n=s.checked;break;case"radio":(n=1==s.value||"true"==s.value)&&"is_device_dependent"==i&&(t.deviceListClass="setting-input-box")}t[e.target.name]=n,a.setState(t)}},a.handleSubmit=function(e){e.target.name;var t,s=!1,n=function(){void 0===typeof a.state.name||null===a.state.name||""===a.state.name.trim()?(a.setState({nameClass:"setting-input-box field_error"}),s=!0):a.state.name&&a.setState({nameClass:"setting-input-box"}),void 0===typeof a.state.clinic_id||null===a.state.clinic_id||""===a.state.clinic_id?(a.setState({cinicIdClass:"setting-select-box field_error"}),s=!0):a.state.clinic_id&&a.setState({cinicIdClass:"setting-select-box"}),void 0===typeof a.state.cleanup_time||null===a.state.cleanup_time||""===a.state.cleanup_time?(a.setState({cleanupTimeClass:"setting-select-box field_error"}),s=!0):a.state.cleanup_time&&a.setState({cleanupTimeClass:"setting-select-box"});var e=[],n=!1,i=Se()().format("YYYY-MM-DD"),r=function(){var s={},r=null;if((r=a.state["deviceSchedule_"+t]).is_checked){s.day=t;var o=[];r.schedules.map(function(e,t){r.schedules[t].className=Ac();var a={};a.from_time=Re(e.from_time+" "+e.from_time_option),a.to_time=Re(e.to_time+" "+e.to_time_option),Se()(i+" "+a.from_time)>=Se()(i+" "+a.to_time)?(r.schedules[t].className.from_time="setting-input-box hours-time from-time-input field_error",r.schedules[t].className.from_time_option="setting-select-box hours-pm from_time_option field_error",r.schedules[t].className.to_time="setting-input-box hours-time to-time-input field_error",r.schedules[t].className.to_time_option="setting-select-box hours-pm to_time_option field_error",n=!0):o.push(a)}),s.schedules=o,e.push(s)}};for(t=1;t<=7;t++)r();if(n){s=!0;var o=JSON.parse(localStorage.getItem("languageData"));rt.toast.error(o.global.to_time_greater_than_from_time)}if(!n){e=[];var l=function(){var i={},r=null;if((r=a.state["deviceSchedule_"+t]).is_checked){i.day=t;var o=[],l=r.schedules;r.schedules.map(function(e,t){var a=Re(e.from_time+" "+e.from_time_option),i=Re(e.to_time+" "+e.to_time_option),c=!1;if(l.map(function(e,o){if(t!=o){var l=Re(e.from_time+" "+e.from_time_option),d=Re(e.to_time+" "+e.to_time_option);(a>=l&&a<=d||i<=l&&i>=d||a==l&&i==d)&&(c=!0,c=!0,n=!0,s=!0,r.schedules[t].className.from_time="setting-input-box hours-time from-time-input field_error",r.schedules[t].className.from_time_option="setting-select-box hours-pm from_time_option field_error",r.schedules[t].className.to_time="setting-input-box hours-time to-time-input field_error",r.schedules[t].className.to_time_option="setting-select-box hours-pm to_time_option field_error",r.schedules[o].className.from_time="setting-input-box hours-time from-time-input field_error",r.schedules[o].className.from_time_option="setting-select-box hours-pm from_time_option field_error",r.schedules[o].className.to_time="setting-input-box hours-time to-time-input field_error",r.schedules[o].className.to_time_option="setting-select-box hours-pm to_time_option field_error")}}),!c){var d={};d.from_time=a,d.to_time=i,o.push(d)}}),i.schedules=o,e.push(i)}a.setState(Object(se.a)({},"deviceSchedule_"+t,r))};for(t=1;t<=7;t++)l();if(n){var c=JSON.parse(localStorage.getItem("languageData"));rt.toast.error(c.global.time_overlapping)}}if(!0===s)return{v:void 0};var d={name:a.state.name,clinic_id:a.state.clinic_id,cleanup_time:a.state.cleanup_time};e.length>0&&(d.device_schedules=e),a.setState({showLoader:!0});var m=a.state.deviceId;m?a.props.updateEquipmentSchedule(d,m):a.props.createEquipmentSchedule(d)}();if("object"===typeof n)return n.v},a.showDeleteModal=function(){a.setState({showModal:!0})},a.dismissModal=function(){a.setState({showModal:!1})},a.deleteEquipmentSchedule=function(){a.state.deviceId&&(a.setState({showLoader:!0,hideBtns:!0}),a.dismissModal(),a.props.deleteEquipmentSchedule(a.state.deviceId))};JSON.parse(localStorage.getItem("userData"));return a.state={deviceData:{},clinicList:{},deviceId:0,hideBtns:!1,showModal:!1,showLoader:!1,userChanged:!1,name:"",clinic_id:"",cleanup_time:"",deviceSchedule_1:Oc(1),deviceSchedule_2:Oc(2),deviceSchedule_3:Oc(3),deviceSchedule_4:Oc(4),deviceSchedule_5:Oc(5),deviceSchedule_6:Oc(6),deviceSchedule_7:Oc(7),nameClass:"setting-input-box",cinicIdClass:"setting-select-box",cleanupTimeClass:"setting-select-box"},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){window.onscroll=function(){return!1};var e=JSON.parse(localStorage.getItem("languageData"));this.setState({appointment_equipment_schedule:e.appointments.appointment_equipment_schedule,appointment_business_hours:e.appointments.appointment_business_hours,appointment_let_your_clients_know_when_you_are_open:e.appointments.appointment_let_your_clients_know_when_you_are_open,appointment_equipment_equipment_name:e.appointments.appointment_equipment_equipment_name,appointment_clinic:e.appointments.appointment_clinic,appointment_equipment_clean_up_time_in_minutes:e.appointments.appointment_equipment_clean_up_time_in_minutes,appointment_open_hours:e.appointments.appointment_open_hours,appointment_close_hours:e.appointments.appointment_close_hours,equipment_schedule_delete_msg:e.appointments.equipment_schedule_delete_msg,label_cancel:e.global.label_cancel,label_submit:e.global.label_submit,label_delete:e.global.label_delete,label_yes:e.global.label_yes,label_no:e.global.label_no,Please_Wait:e.global.Please_Wait,delete_confirmation:e.global.delete_confirmation}),this.setState({showLoader:!0});var t=this.props.match.params.id;t?(this.setState({deviceId:t}),this.props.getEquipmentScheduleById({},t)):this.props.getEquipmentScheduleById({},0)}},{key:"render",value:function(){return i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(zl,{activeMenuTag:"equipment-schedule"}),i.a.createElement("div",{className:"juvly-section full-width"},i.a.createElement("div",{className:"juvly-container border-top"},i.a.createElement("div",{className:"juvly-title m-b-40"},this.state.appointment_equipment_schedule,i.a.createElement(me.a,{to:"/appointment/equipment-schedule",className:"pull-right cross-icon"},i.a.createElement("img",{src:"/images/close.png"}))),i.a.createElement("div",{className:"juvly-subtitle m-b-20"},this.state.appointment_business_hours),i.a.createElement("p",{className:"p-text m-b-40"},this.state.appointment_let_your_clients_know_when_you_are_open),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.appointment_equipment_equipment_name," ",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("input",{name:"name",className:this.state.nameClass,maxLength:255,type:"text",value:this.state.name,onChange:this.handleInputChange,autoComplete:"off"}))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer relative"},i.a.createElement("div",{className:"new-field-label"},this.state.appointment_clinic," ",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("select",{className:this.state.cinicIdClass,name:"clinic_id",value:this.state.clinic_id,onChange:this.handleInputChange},i.a.createElement("option",{value:""},"Select"),this.state.clinicList.length?this.state.clinicList.map(function(e,t){return i.a.createElement("option",{key:"clinic-"+t,value:e.id},e.clinic_name)}):null))),i.a.createElement("div",{className:"col-md-5 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer relative"},i.a.createElement("div",{className:"new-field-label"},this.state.appointment_equipment_clean_up_time_in_minutes," "),i.a.createElement("select",{name:"cleanup_time",className:this.state.cleanupTimeClass,value:this.state.cleanup_time,onChange:this.handleInputChange},i.a.createElement("option",{value:""},"Select"),i.a.createElement("option",{value:"5"},"5"),i.a.createElement("option",{value:"10"},"10"),i.a.createElement("option",{value:"15"},"15"),i.a.createElement("option",{value:"20"},"20"),i.a.createElement("option",{value:"25"},"25"),i.a.createElement("option",{value:"30"},"30"))))),i.a.createElement("div",{className:"business-hours-outer service-hours-outer"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-4"},"\xa0"),i.a.createElement("div",{className:"col-xs-4"},i.a.createElement("div",{className:"new-field-label"},this.state.appointment_open_hours)),i.a.createElement("div",{className:"col-xs-4"},i.a.createElement("div",{className:"new-field-label"},this.state.appointment_close_hours))),i.a.createElement(xc,{index:2,dayValue:this.state.deviceSchedule_2,handleChildChange:this.handleChildChange}),i.a.createElement(xc,{index:3,dayValue:this.state.deviceSchedule_3,handleChildChange:this.handleChildChange}),i.a.createElement(xc,{index:4,dayValue:this.state.deviceSchedule_4,handleChildChange:this.handleChildChange}),i.a.createElement(xc,{index:5,dayValue:this.state.deviceSchedule_5,handleChildChange:this.handleChildChange}),i.a.createElement(xc,{index:6,dayValue:this.state.deviceSchedule_6,handleChildChange:this.handleChildChange}),i.a.createElement(xc,{index:7,dayValue:this.state.deviceSchedule_7,handleChildChange:this.handleChildChange}),i.a.createElement(xc,{index:1,dayValue:this.state.deviceSchedule_1,handleChildChange:this.handleChildChange}))),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.Please_Wait))),i.a.createElement("div",{className:"footer-static"},this.state.deviceId?i.a.createElement("input",{className:"new-red-btn pull-left confirm-model",onClick:this.showDeleteModal,"data-message":this.state.equipment_schedule_delete_msg,"data-confirm-url":"",autoComplete:"off",type:"submit",value:this.state.label_delete}):null,i.a.createElement("div",{className:this.state.showModal?"overlay":""}),i.a.createElement("div",{id:"filterModal",role:"dialog",className:this.state.showModal?"modal fade in displayBlock":"modal fade no-display"},i.a.createElement("div",{className:"modal-dialog"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal",onClick:this.dismissModal},"\xd7"),i.a.createElement("h4",{className:"modal-title",id:"model_title"},this.state.delete_confirmation)),i.a.createElement("div",{id:"errorwindow",className:"modal-body add-patient-form filter-patient"},this.state.equipment_schedule_delete_msg),i.a.createElement("div",{className:"modal-footer"},i.a.createElement("div",{className:"col-md-12 text-left",id:"footer-btn"},i.a.createElement("button",{type:"button",className:"btn logout pull-right","data-dismiss":"modal",onClick:this.dismissModal},this.state.label_no),i.a.createElement("button",{type:"button",className:"btn btn-success pull-right m-r-10","data-dismiss":"modal",onClick:this.deleteEquipmentSchedule},this.state.label_yes)))))),i.a.createElement("input",{className:"new-blue-btn pull-right",name:"save_services",id:"save_services",onClick:this.handleSubmit,type:"button",autoComplete:"off",defaultValue:this.state.label_submit}),i.a.createElement(me.a,{to:"/appointment/equipment-schedule",className:"new-white-btn pull-right cancelAction"},this.state.label_cancel)))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeonClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};if(void 0!=e.showLoader&&0==e.showLoader)return{showLoader:!1};if(void 0!==e.clinicList&&200===e.status&&e.clinicList!==t.clinicList){if(a.clinicList=e.clinicList,a.showLoader=!1,void 0!==e.deviceData&&e.deviceData!==t.deviceData){a.deviceData=e.deviceData,a.name=t.userChanged?t.name:e.deviceData.name,a.clinic_id=t.userChanged?t.clinic_id:e.deviceData.clinic_id,a.cleanup_time=t.userChanged?t.cleanup_time:e.deviceData.cleanup_time;for(var s=function(){var t=Oc(n),s=[];e.deviceData.device_schedules.map(function(e,t){if(e.day==n){var a={};a.from_time_24=e.from_time,a.from_time=ke(e.from_time),a.from_time_option=Pe(e.from_time),a.to_time_24=e.to_time,a.to_time=ke(e.to_time),a.to_time_option=Pe(e.to_time),a.className=Ac(),s.push(a)}}),s.length?(t.schedules=s,t.is_checked=!0):t.is_checked=!1,a["deviceSchedule_"+n]=t},n=1;n<=7;n++)s()}}else void 0!=e.redirect&&1==e.redirect?rt.toast.success(e.message,{onClose:function(){e.history.push("/appointment/equipment-schedule")}}):void 0!=e.showLoader&&0==e.showLoader&&(a.showLoader=!1);return a}}]),t}(n.Component);var Ic=Object(Z.b)(function(e){var t={},a=JSON.parse(localStorage.getItem("languageData"));return"EQUIPMENT_SCHEDULE_DATA"===e.AppointmentReducer.action?200!=e.AppointmentReducer.data.status?(rt.toast.dismiss(),rt.toast.error(a.global[e.AppointmentReducer.data.message]),t.showLoader=!1):(t.deviceData=e.AppointmentReducer.data.data.device,t.clinicList=e.AppointmentReducer.data.data.clinics,t.status=200):"CREATE_EQUIPMENT_SCHEDULE"===e.AppointmentReducer.action?201==e.AppointmentReducer.data.status?(t.redirect=!0,t.message=a.global[e.AppointmentReducer.data.message]):(rt.toast.dismiss(),rt.toast.error(a.global[e.AppointmentReducer.data.message]),t.showLoader=!1):"UPDATE_EQUIPMENT_SCHEDULE"===e.AppointmentReducer.action?200==e.AppointmentReducer.data.status?(t.redirect=!0,t.message=a.global[e.AppointmentReducer.data.message]):(rt.toast.dismiss(),rt.toast.error(a.global[e.AppointmentReducer.data.message]),t.showLoader=!1):"DELETE_EQUIPMENT_SCHEDULE"===e.AppointmentReducer.action?200==e.AppointmentReducer.data.status?(t.redirect=!0,t.message=a.global[e.AppointmentReducer.data.message]):(rt.toast.dismiss(),rt.toast.error(a.global[e.AppointmentReducer.data.message]),t.showLoader=!1):"EMPTY_DATA"===e.AppointmentReducer.action&&(t.showLoader=!1),t},function(e){return Object(c.bindActionCreators)({getEquipmentScheduleById:cl,createEquipmentSchedule:dl,updateEquipmentSchedule:ml,deleteEquipmentSchedule:ul,exportEmptyData:El},e)})(Tc),Rc=function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,s="checkbox"===t.type?t.checked:t.value;a.setState(Object(se.a)({},e.target.name,s)),"object_name"===e.target.name&&a.handleSubmit(e,s)},a.handleSubmit=function(e){var t;e.preventDefault(),localStorage.setItem("sortOnly",!0);var s={params:{page:1,pagesize:a.state.pagesize,term:a.state.term}};a.setState((t={page:1,pagesize:a.state.pagesize,startFresh:!0,loadMore:!0},Object(se.a)(t,"startFresh",!0),Object(se.a)(t,"next_page_url",""),Object(se.a)(t,"resourceScheduleList",[]),Object(se.a)(t,"showLoader",!0),Object(se.a)(t,"next_page_url",""),t)),a.setState({showLoader:!0}),a.props.fetchResourceSchedule(s)},a.ResourceScheduleCreate=function(e){return i.a.createElement("div",null,a.props.history.push("/appointment/resource-schedule/create"))},a.ResourceScheduleEdit=function(e,t){if("easy-link"!=t.target.className&&"new-blue-btn pull-right"!=t.target.className)return i.a.createElement("div",null,a.props.history.push("/appointment/resource-schedule/".concat(e,"/edit")))},a.loadMore=function(){a.setState({loadMore:!0,startFresh:!0,showLoader:!1,showLoadingText:!0});var e={params:{term:a.state.term,page:a.state.page,pagesize:a.state.pagesize}};a.props.fetchResourceSchedule(e,a.state.serviceCategoryId)},a.state=Object(se.a)({page:1,pagesize:15,next_page_url:"",startFresh:!0,showLoadingText:!1,loadMore:!0,showLoader:!1,resourceScheduleList:[]},"next_page_url",""),localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),window.onscroll=function(){var e=parseInt(Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop));window.innerHeight+e===document.documentElement.offsetHeight&&null!==a.state.next_page_url&&a.loadMore()},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("languageData"));this.setState({appointment_resource_schedule:e.appointments.appointment_resource_schedule,appointment_add_resource:e.appointments.appointment_add_resource,appointment_resource_name:e.appointments.appointment_resource_name,appointment_resource_type:e.appointments.appointment_resource_type,appointment_clinic:e.appointments.appointment_clinic,label_search:e.global.label_search,loading_please_wait_text:e.global.loading_please_wait_text,Please_Wait:e.global.Please_Wait,sorry_no_record_found:e.global.sorry_no_record_found}),document.addEventListener("click",this.handleClick,!1);var t={params:{term:this.state.term,page:this.state.page,pagesize:this.state.pagesize}};this.setState({showLoader:!0}),this.props.fetchResourceSchedule(t)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(zl,{activeMenuTag:"resource-schedule"}),i.a.createElement("div",{className:"juvly-section full-width"},i.a.createElement("div",{className:"setting-search-outer"},i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("div",{className:"search-bg new-search"},i.a.createElement("i",{className:"fas fa-search"}),i.a.createElement("input",{className:"setting-search-input search-key",name:"term",placeholder:this.state.label_search,value:this.state.term,onChange:this.handleInputChange,autoComplete:"off"}))),i.a.createElement("a",{href:"javascript:void(0);",onClick:this.ResourceScheduleCreate.bind(),className:"new-blue-btn pull-right"},this.state.appointment_add_resource)),i.a.createElement("div",{className:"table-responsive"},i.a.createElement("table",{className:"table-updated juvly-table table-min-width"},i.a.createElement("thead",{className:"table-updated-thead"},i.a.createElement("tr",null,i.a.createElement("th",{className:"col-xs-3 table-updated-th"},this.state.appointment_resource_name),i.a.createElement("th",{className:"col-xs-3 table-updated-th"},this.state.appointment_resource_type),i.a.createElement("th",{className:"col-xs-1 table-updated-th"},this.state.appointment_clinic))),i.a.createElement("tbody",null,this.state.resourceScheduleList.length>0?this.state.resourceScheduleList.map(function(t,a){return i.a.createElement("tr",{key:"fragment_"+a,className:"table-updated-tr","data-order_by":t.id,onClick:e.ResourceScheduleEdit.bind(e,t.id)},i.a.createElement("td",{className:"col-xs-3 table-updated-td"},t.name),i.a.createElement("td",{className:"col-xs-3 table-updated-td"},t.resource_type?t.resource_type.name:""),i.a.createElement("td",{className:"col-xs-1 table-updated-td"},t.clinic?t.clinic.clinic_name:""))}):i.a.createElement("tr",{className:"table-updated-tr"},i.a.createElement("td",{className:"col-xs-12 table-updated-td text-center",colSpan:"7"},this.state.sorry_no_record_found))))),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.Please_Wait)))),i.a.createElement("div",{className:this.state.showLoadingText?"loading-please-wait":"loading-please-wait no-display"},this.state.loading_please_wait_text)),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};if(void 0!=e.showLoader&&0==e.showLoader)return a.showLoader=!1,a;if(void 0!=e.resourceScheduleList&&e.resourceScheduleList.resources.next_page_url!==t.next_page_url){var s={};return null==t.next_page_url?(localStorage.setItem("sortOnly",!1),s.next_page_url=null,s):(0==t.resourceScheduleList.length&&1==t.startFresh?"false"==localStorage.getItem("sortOnly")?(s.resourceScheduleList=e.resourceScheduleList.resources.data,null!=e.resourceScheduleList.resources.next_page_url?s.page=t.page+1:s.next_page_url=e.resourceScheduleList.resources.next_page_url,s.startFresh=!1,s.showLoader=!1,s.showLoadingText=!1,localStorage.setItem("showLoader",!1)):localStorage.setItem("sortOnly",!1):t.resourceScheduleList!=e.resourceScheduleList.resources.data&&0!=t.resourceScheduleList.length&&(s.resourceScheduleList=Object(oa.a)(t.resourceScheduleList).concat(Object(oa.a)(e.resourceScheduleList.resources.data)),s.page=t.page+1,s.next_page_url=e.resourceScheduleList.resources.next_page_url,localStorage.setItem("showLoader",!1),s.showLoader=!1,s.showLoadingText=!1),s)}return null}}]),t}(n.Component);var kc=Object(Z.b)(function(e){var t={},a=JSON.parse(localStorage.getItem("languageData"));return"RESOURCE_SCHEDULE_LIST"===e.AppointmentReducer.action?200!=e.AppointmentReducer.data.status?(rt.toast.dismiss(),rt.toast.error(a.global[e.AppointmentReducer.data.message]),t.showLoader=!1):t.resourceScheduleList=e.AppointmentReducer.data.data:"SERVICE_SORT_ORDER_UPDATE"===e.AppointmentReducer.action&&(200==e.AppointmentReducer.data.status?rt.toast.success(a.global[e.AppointmentReducer.data.message]):(rt.toast.dismiss(),rt.toast.error(a.global[e.AppointmentReducer.data.message]),t.showLoader=!1)),t},function(e){return Object(c.bindActionCreators)({fetchResourceSchedule:pl},e)})(Rc),Pc={2:"Monday",3:"Tuesday",4:"Wednesday",5:"Thursday",6:"Friday",7:"Saturday",1:"Sunday"},jc=function(e){return{day:e,name:Pc[e],is_checked:!1,schedules:[{from_time:"12:00",from_time_option:"AM",from_time_24:"00:00",to_time:"12:00",to_time_option:"PM",to_time_24:"12:00",className:{from_time:"setting-input-box hours-time from-time-input",from_time_option:"setting-select-box hours-pm from_time_option",to_time:"setting-input-box hours-time to-time-input",to_time_option:"setting-select-box hours-pm to_time_option"}}]}},Mc=function(){return{from_time:"setting-input-box hours-time from-time-input",from_time_option:"setting-select-box hours-pm from_time_option",to_time:"setting-input-box hours-time to-time-input",to_time_option:"setting-select-box hours-pm to_time_option"}},Uc=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleChildChange=function(e){if(void 0!=e.index&&void 0!=e.dayValue){a.state.deviceScheduleList;a.setState(Object(se.a)({},"deviceSchedule_"+e.index,e.dayValue))}},a.handleAddResourceType=function(){a.setState({is_add_new_resource_type:!a.state.is_add_new_resource_type,addNewResourceTypeClass:"setting-input-box"})},a.handleInputChange=function(e){var t={userChanged:!0},s=e.target,n=s.value,i=s.name;if(e.target.dataset.surveyindex);else{switch("duration"==i&&(t.custom_duration="",t.customDurationClass="setting-input-box"),s.type){case"checkbox":n=s.checked;break;case"radio":(n=1==s.value||"true"==s.value)&&"is_device_dependent"==i&&(t.deviceListClass="setting-input-box")}t[e.target.name]=n,a.setState(t)}},a.handleSubmit=function(e){var t=e.target.name,s=!1;if("addNewResourceTypeSave"==t){if(void 0===typeof a.state.addNewResourceType||null===a.state.addNewResourceType||""===a.state.addNewResourceType.trim()?(a.setState({addNewResourceTypeClass:"setting-input-box field_error"}),s=!0):a.state.addNewResourceType&&a.setState({addNewResourceTypeClass:"setting-input-box",addNewResourceType:""}),s)return;var n={name:a.state.addNewResourceType,is_active:1};return a.setState({showLoader:!0}),void a.props.createResourceType(n)}var i,r=function(){void 0===typeof a.state.name||null===a.state.name||""===a.state.name.trim()?(a.setState({nameClass:"setting-input-box field_error"}),s=!0):a.state.name&&a.setState({nameClass:"setting-input-box"}),void 0===typeof a.state.clinic_id||null===a.state.clinic_id||""===a.state.clinic_id?(a.setState({cinicIdClass:"setting-select-box field_error"}),s=!0):a.state.clinic_id&&a.setState({cinicIdClass:"setting-select-box"}),void 0===typeof a.state.resource_type_id||null===a.state.resource_type_id||""===a.state.resource_type_id?(a.setState({resourceTypeIdClass:"setting-select-box field_error"}),s=!0):a.state.resource_type_id&&a.setState({resourceTypeIdClass:"setting-select-box"}),a.state.is_add_new_resource_type&&(void 0===typeof a.state.addNewResourceType||null===a.state.addNewResourceType||""===a.state.addNewResourceType.trim()?(a.setState({addNewResourceTypeClass:"setting-input-box field_error"}),s=!0):a.state.addNewResourceType&&a.setState({addNewResourceTypeClass:"setting-input-box"}));var e=[],t=!1,n=Se()().format("YYYY-MM-DD"),r=function(){var s={},r=null;if((r=a.state["deviceSchedule_"+i]).is_checked){s.day=i;var o=[];r.schedules.map(function(e,a){r.schedules[a].className=Mc();var s={};s.from_time=Re(e.from_time+" "+e.from_time_option),s.to_time=Re(e.to_time+" "+e.to_time_option),Se()(n+" "+s.from_time)>=Se()(n+" "+s.to_time)?(r.schedules[a].className.from_time="setting-input-box hours-time from-time-input field_error",r.schedules[a].className.from_time_option="setting-select-box hours-pm from_time_option field_error",r.schedules[a].className.to_time="setting-input-box hours-time to-time-input field_error",r.schedules[a].className.to_time_option="setting-select-box hours-pm to_time_option field_error",t=!0):o.push(s)}),s.schedules=o,e.push(s)}a.setState(Object(se.a)({},"deviceSchedule_"+i,r))};for(i=1;i<=7;i++)r();if(t){s=!0;var o=JSON.parse(localStorage.getItem("languageData"));rt.toast.error(o.global.to_time_greater_than_from_time)}if(!t){e=[];var l=function(){var n={},r=null;if((r=a.state["deviceSchedule_"+i]).is_checked){n.day=i;var o=[],l=r.schedules;r.schedules.map(function(e,a){var n=Re(e.from_time+" "+e.from_time_option),i=Re(e.to_time+" "+e.to_time_option),c=!1;if(l.map(function(e,o){if(a!=o){var l=Re(e.from_time+" "+e.from_time_option),d=Re(e.to_time+" "+e.to_time_option);(n>=l&&n<=d||i<=l&&i>=d||n==l&&i==d)&&(t=!0,s=!0,r.schedules[a].className.from_time="setting-input-box hours-time from-time-input field_error",r.schedules[a].className.from_time_option="setting-select-box hours-pm from_time_option field_error",r.schedules[a].className.to_time="setting-input-box hours-time to-time-input field_error",r.schedules[a].className.to_time_option="setting-select-box hours-pm to_time_option field_error",r.schedules[o].className.from_time="setting-input-box hours-time from-time-input field_error",r.schedules[o].className.from_time_option="setting-select-box hours-pm from_time_option field_error",r.schedules[o].className.to_time="setting-input-box hours-time to-time-input field_error",r.schedules[o].className.to_time_option="setting-select-box hours-pm to_time_option field_error",c=!0)}}),!c){var d={};d.from_time=n,d.to_time=i,o.push(d)}}),n.schedules=o,e.push(n)}a.setState(Object(se.a)({},"deviceSchedule_"+i,r))};for(i=1;i<=7;i++)l();if(t){var c=JSON.parse(localStorage.getItem("languageData"));rt.toast.error(c.global.time_overlapping)}}if(!0===s)return{v:void 0};var d={name:a.state.name,clinic_id:a.state.clinic_id,resource_type_id:a.state.resource_type_id};e.length>0&&(d.resource_schedules=e),a.setState({showLoader:!0});var m=a.state.resourceId;m?a.props.updateResourceSchedule(d,m):a.props.createResourceSchedule(d)}();if("object"===typeof r)return r.v},a.showDeleteModal=function(){a.setState({showModal:!0})},a.dismissModal=function(){a.setState({showModal:!1})},a.deleteResourceSchedule=function(){a.state.resourceId&&(a.setState({showLoader:!0,hideBtns:!0}),a.dismissModal(),a.props.deleteResourceSchedule(a.state.resourceId))};JSON.parse(localStorage.getItem("userData"));return a.state={resourceData:{},clinicList:[],resourceTypeList:[],resourceId:0,hideBtns:!1,showModal:!1,showLoader:!1,userChanged:!1,name:"",clinic_id:"",resource_type_id:"",is_add_new_resource_type:!1,addNewResourceType:"",deviceSchedule_1:jc(1),deviceSchedule_2:jc(2),deviceSchedule_3:jc(3),deviceSchedule_4:jc(4),deviceSchedule_5:jc(5),deviceSchedule_6:jc(6),deviceSchedule_7:jc(7),nameClass:"setting-input-box",cinicIdClass:"setting-select-box",resourceTypeIdClass:"setting-select-box",addNewResourceTypeClass:"setting-input-box"},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){window.onscroll=function(){return!1};var e=JSON.parse(localStorage.getItem("languageData"));this.setState({appointment_resource_schedule:e.appointments.appointment_resource_schedule,appointment_business_hours:e.appointments.appointment_business_hours,appointment_let_your_clients_know_when_you_are_open:e.appointments.appointment_let_your_clients_know_when_you_are_open,appointment_resource_name:e.appointments.appointment_resource_name,appointment_resource_type:e.appointments.appointment_resource_type,appointment_clinic:e.appointments.appointment_clinic,appointment_add_resource_type:e.appointments.appointment_add_resource_type,appointment_open_hours:e.appointments.appointment_open_hours,appointment_close_hours:e.appointments.appointment_close_hours,resource_schedule_delete_msg:e.appointments.resource_schedule_delete_msg,label_save:e.global.label_save,label_cancel:e.global.label_cancel,label_submit:e.global.label_submit,label_delete:e.global.label_delete,label_yes:e.global.label_yes,label_no:e.global.label_no,Please_Wait:e.global.Please_Wait,delete_confirmation:e.global.delete_confirmation}),this.setState({showLoader:!0});var t=this.props.match.params.id;t?(this.setState({resourceId:t}),this.props.getResourceScheduleById({},t)):this.props.getResourceScheduleById({},0)}},{key:"render",value:function(){return i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(zl,{activeMenuTag:"resource-schedule"}),i.a.createElement("div",{className:"juvly-section full-width"},i.a.createElement("div",{className:"juvly-container border-top"},i.a.createElement("div",{className:"juvly-title m-b-40"},this.state.appointment_resource_schedule,i.a.createElement(me.a,{to:"/appointment/resource-schedule",className:"pull-right cross-icon"},i.a.createElement("img",{src:"/images/close.png"}))),i.a.createElement("div",{className:"juvly-subtitle m-b-20"},this.state.appointment_business_hours),i.a.createElement("p",{className:"p-text m-b-40"},this.state.appointment_let_your_clients_know_when_you_are_open),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer relative"},i.a.createElement("div",{className:"new-field-label"},this.state.appointment_clinic," ",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("select",{className:this.state.cinicIdClass,name:"clinic_id",value:this.state.clinic_id,onChange:this.handleInputChange},i.a.createElement("option",{value:""},"Select"),this.state.clinicList.length?this.state.clinicList.map(function(e,t){return i.a.createElement("option",{key:"clinic-"+t,value:e.id},e.clinic_name)}):null))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.appointment_resource_name," ",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("input",{name:"name",className:this.state.nameClass,maxLength:255,type:"text",value:this.state.name,onChange:this.handleInputChange,autoComplete:"off"}))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer relative"},i.a.createElement("div",{className:"new-field-label"},this.state.appointment_resource_type," ",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-5 col-xs-12"},i.a.createElement("select",{name:"resource_type_id",className:this.state.resourceTypeIdClass,value:this.state.resource_type_id,onChange:this.handleInputChange},i.a.createElement("option",{value:""},"Select"),this.state.resourceTypeList.length?this.state.resourceTypeList.map(function(e,t){return i.a.createElement("option",{key:"resourcetype-"+t,value:e.id},e.name)}):null)),this.state.is_add_new_resource_type?i.a.createElement("div",{className:"col-sm-7 col-xs-12"},i.a.createElement("div",{className:"col-sm-7 col-xs-12 resource-type-field"},i.a.createElement("input",{name:"addNewResourceType",className:this.state.addNewResourceTypeClass,value:this.state.addNewResourceType,type:"text",placeholder:"Enter resource type",autoComplete:"off",onChange:this.handleInputChange})),i.a.createElement("div",{className:"col-sm-5 col-xs-12 no-padding-right"},i.a.createElement("a",{href:"javascript:void(0);",className:"new-white-btn sm-btn no-margin",name:"addNewResourceTypeSave",onClick:this.handleSubmit},this.state.label_save),i.a.createElement("a",{href:"javascript:void(0);",className:"new-white-btn sm-btn",onClick:this.handleAddResourceType},this.state.label_cancel))):i.a.createElement("div",{className:"col-sm-7 col-xs-12"},i.a.createElement("a",{href:"javascript:void(0);",className:"new-white-btn sm-btn no-margin",onClick:this.handleAddResourceType},this.state.appointment_add_resource_type)))))),i.a.createElement("div",{className:"business-hours-outer service-hours-outer"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-4"},"\xa0"),i.a.createElement("div",{className:"col-xs-4"},i.a.createElement("div",{className:"new-field-label"},this.state.appointment_open_hours)),i.a.createElement("div",{className:"col-xs-4"},i.a.createElement("div",{className:"new-field-label"},this.state.appointment_close_hours))),i.a.createElement(xc,{index:2,dayValue:this.state.deviceSchedule_2,handleChildChange:this.handleChildChange}),i.a.createElement(xc,{index:3,dayValue:this.state.deviceSchedule_3,handleChildChange:this.handleChildChange}),i.a.createElement(xc,{index:4,dayValue:this.state.deviceSchedule_4,handleChildChange:this.handleChildChange}),i.a.createElement(xc,{index:5,dayValue:this.state.deviceSchedule_5,handleChildChange:this.handleChildChange}),i.a.createElement(xc,{index:6,dayValue:this.state.deviceSchedule_6,handleChildChange:this.handleChildChange}),i.a.createElement(xc,{index:7,dayValue:this.state.deviceSchedule_7,handleChildChange:this.handleChildChange}),i.a.createElement(xc,{index:1,dayValue:this.state.deviceSchedule_1,handleChildChange:this.handleChildChange}))),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.Please_Wait))),i.a.createElement("div",{className:"footer-static"},this.state.resourceId?i.a.createElement("input",{className:"new-red-btn pull-left confirm-model",onClick:this.showDeleteModal,"data-message":this.state.resource_schedule_delete_msg,"data-confirm-url":"",type:"submit",autoComplete:"off",value:this.state.label_delete}):null,i.a.createElement("div",{className:this.state.showModal?"overlay":""}),i.a.createElement("div",{id:"filterModal",role:"dialog",className:this.state.showModal?"modal fade in displayBlock":"modal fade no-display"},i.a.createElement("div",{className:"modal-dialog"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal",onClick:this.dismissModal},"\xd7"),i.a.createElement("h4",{className:"modal-title",id:"model_title"},this.state.delete_confirmation)),i.a.createElement("div",{id:"errorwindow",className:"modal-body add-patient-form filter-patient"},this.state.resource_schedule_delete_msg),i.a.createElement("div",{className:"modal-footer"},i.a.createElement("div",{className:"col-md-12 text-left",id:"footer-btn"},i.a.createElement("button",{type:"button",className:"btn  logout pull-right","data-dismiss":"modal",onClick:this.dismissModal},this.state.label_no),i.a.createElement("button",{type:"button",className:"btn btn-success pull-right m-r-10","data-dismiss":"modal",onClick:this.deleteResourceSchedule},this.state.label_yes)))))),i.a.createElement("input",{className:"new-blue-btn pull-right",name:"save_services",id:"save_services",onClick:this.handleSubmit,type:"button",autoComplete:"off",defaultValue:this.state.label_submit}),i.a.createElement(me.a,{to:"/appointment/resource-schedule",className:"new-white-btn pull-right cancelAction"},this.state.label_cancel)))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeonClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};if(void 0!=e.showLoader&&0==e.showLoader)return{showLoader:!1};if(void 0!==e.resourceScheduleData&&e.resourceScheduleData!==t.resourceScheduleData){if(a.resourceScheduleData=e.resourceScheduleData,a.clinicList=e.resourceScheduleData.clinics,a.resourceTypeList=e.resourceScheduleData.resource_types,a.showLoader=!1,void 0!==e.resourceScheduleData.resource&&e.resourceScheduleData.resource!==t.resourceData&&t.resourceId){a.resourceData=e.resourceScheduleData.resource,a.name=t.userChanged?t.name:e.resourceScheduleData.resource.name,a.clinic_id=t.userChanged?t.clinic_id:e.resourceScheduleData.resource.clinic_id,a.resource_type_id=t.userChanged?t.resource_type_id:e.resourceScheduleData.resource.resource_type_id;for(var s=function(){var t=jc(n),s=[];e.resourceScheduleData.resource.resource_schedules.map(function(e,t){if(e.day==n){var a={};a.from_time_24=e.from_time,a.from_time=ke(e.from_time),a.from_time_option=Pe(e.from_time),a.to_time_24=e.to_time,a.to_time=ke(e.to_time),a.to_time_option=Pe(e.to_time),a.className=Mc(),s.push(a)}}),s.length?(t.schedules=s,t.is_checked=!0):t.is_checked=!1,a["deviceSchedule_"+n]=t},n=1;n<=7;n++)s()}}else if(void 0!==e.reourceTypeData&&e.reourceTypeData!==t.reourceTypeData){a.showLoader=!1,a.reourceTypeData=e.reourceTypeData;var i=t.resourceTypeList,r={id:e.reourceTypeData.id,name:e.reourceTypeData.name};i.push(r),a.resourceTypeList=i,a.resource_type_id=e.reourceTypeData.id,a.is_add_new_resource_type=!1}else void 0!=e.redirect&&1==e.redirect?rt.toast.success(e.message,{onClose:function(){e.history.push("/appointment/resource-schedule")}}):void 0!=e.showLoader&&0==e.showLoader&&(a.showLoader=!1);return a}}]),t}(n.Component);var Fc=Object(Z.b)(function(e){var t={},a=JSON.parse(localStorage.getItem("languageData"));return"RESOURCE_SCHEDULE_DATA"===e.AppointmentReducer.action?200!=e.AppointmentReducer.data.status?(rt.toast.dismiss(),rt.toast.error(a.global[e.AppointmentReducer.data.message]),t.showLoader=!1):t.resourceScheduleData=e.AppointmentReducer.data.data:"CREATE_RESOURCE_SCHEDULE"===e.AppointmentReducer.action?201==e.AppointmentReducer.data.status?(t.redirect=!0,t.message=a.global[e.AppointmentReducer.data.message]):(rt.toast.dismiss(),rt.toast.error(a.global[e.AppointmentReducer.data.message]),t.showLoader=!1):"UPDATE_RESOURCE_SCHEDULE"===e.AppointmentReducer.action?200==e.AppointmentReducer.data.status?(t.redirect=!0,t.message=a.global[e.AppointmentReducer.data.message]):(rt.toast.dismiss(),rt.toast.error(a.global[e.AppointmentReducer.data.message]),t.showLoader=!1):"DELETE_RESOURCE_SCHEDULE"===e.AppointmentReducer.action?200==e.AppointmentReducer.data.status?(t.redirect=!0,t.message=a.global[e.AppointmentReducer.data.message]):(rt.toast.dismiss(),rt.toast.error(a.global[e.AppointmentReducer.data.message]),t.showLoader=!1):"CREATE_RESOURCE_TYPE"===e.AppointmentReducer.action?201==e.AppointmentReducer.data.status?(t.reourceTypeData=e.AppointmentReducer.data.data.resource_type_data,rt.toast.success(a.global[e.AppointmentReducer.data.message])):(rt.toast.dismiss(),rt.toast.error(a.global[e.AppointmentReducer.data.message]),t.showLoader=!1):"EMPTY_DATA"===e.AppointmentReducer.action&&(t.showLoader=!1),t},function(e){return Object(c.bindActionCreators)({getResourceScheduleById:hl,createResourceSchedule:gl,updateResourceSchedule:_l,deleteResourceSchedule:vl,createResourceType:fl},e)})(Uc),Bc=function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,s="checkbox"===t.type?t.checked:t.value;a.setState(Object(se.a)({},e.target.name,s)),"object_name"===e.target.name&&a.handleSubmit(e,s)},a.handleSubmit=function(e){var t;e.preventDefault(),localStorage.setItem("sortOnly",!0);var s={params:{page:1,pagesize:a.state.pagesize,term:a.state.term}};a.setState((t={page:1,pagesize:a.state.pagesize,startFresh:!0,loadMore:!0},Object(se.a)(t,"startFresh",!0),Object(se.a)(t,"next_page_url",""),Object(se.a)(t,"servicesPackagesList",[]),Object(se.a)(t,"showLoader",!0),Object(se.a)(t,"next_page_url",""),t)),a.setState({showLoader:!0}),a.props.fetchServicesPackages(s)},a.ServicesPackagesCreate=function(e){return i.a.createElement("div",null,a.props.history.push("/appointment/services-packages/create"))},a.ServicesPackagesClone=function(e,t){if("easy-link"==t.target.className)return i.a.createElement("div",null,a.props.history.push("/appointment/services-packages/".concat(e,"/clone")))},a.ServicesPackagesEdit=function(e,t){if("easy-link"!=t.target.className)return i.a.createElement("div",null,a.props.history.push("/appointment/services-packages/".concat(e,"/edit")))},a.loadMore=function(){a.setState({loadMore:!0,startFresh:!0,showLoader:!1,showLoadingText:!0});var e={params:{term:a.state.term,page:a.state.page,pagesize:a.state.pagesize}};a.props.fetchServicesPackages(e,a.state.serviceCategoryId)},a.state=Object(se.a)({page:1,pagesize:15,next_page_url:"",startFresh:!0,showLoadingText:!1,loadMore:!0,showLoader:!1,servicesPackagesList:[]},"next_page_url",""),localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),window.onscroll=function(){var e=parseInt(Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop));window.innerHeight+e===document.documentElement.offsetHeight&&null!==a.state.next_page_url&&a.loadMore()},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("languageData"));this.setState({appointment_services_packages:e.appointments.appointment_services_packages,appointment_create_package:e.appointments.appointment_create_package,appointment_package_name:e.appointments.appointment_package_name,label_hrs:e.global.label_hrs,label_mins:e.global.label_mins,label_active:e.global.label_active,label_clone:e.global.label_clone,label_yes:e.global.label_yes,label_no:e.global.label_no,label_search:e.global.label_search,loading_please_wait_text:e.global.loading_please_wait_text,Please_Wait:e.global.Please_Wait,sorry_no_record_found:e.global.sorry_no_record_found}),document.addEventListener("click",this.handleClick,!1);var t={params:{term:this.state.term,page:this.state.page,pagesize:this.state.pagesize}};this.setState({showLoader:!0}),this.props.fetchServicesPackages(t)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(zl,{activeMenuTag:"services-packages"}),i.a.createElement("div",{className:"juvly-section full-width"},i.a.createElement("div",{className:"setting-search-outer"},i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("div",{className:"search-bg new-search"},i.a.createElement("i",{className:"fas fa-search"}),i.a.createElement("input",{className:"setting-search-input search-key",name:"term",placeholder:this.state.label_search,value:this.state.term,onChange:this.handleInputChange,autoComplete:"off"}))),i.a.createElement("a",{href:"javascript:void(0);",onClick:this.ServicesPackagesCreate.bind(),className:"new-blue-btn pull-right"},this.state.appointment_create_package)),i.a.createElement("div",{className:"table-responsive"},i.a.createElement("table",{className:"table-updated juvly-table table-min-width"},i.a.createElement("thead",{className:"table-updated-thead"},i.a.createElement("tr",null,i.a.createElement("th",{className:"col-xs-3 table-updated-th"},this.state.appointment_package_name),i.a.createElement("th",{className:"col-xs-2 table-updated-th"},this.state.label_hrs),i.a.createElement("th",{className:"col-xs-2 table-updated-th"},this.state.label_mins),i.a.createElement("th",{className:"col-xs-2 table-updated-th"},this.state.label_active),i.a.createElement("th",{className:"col-xs-2 table-updated-th"},"\xa0"))),i.a.createElement("tbody",null,this.state.servicesPackagesList.length>0?this.state.servicesPackagesList.map(function(t,a){return i.a.createElement("tr",{key:"fragment_"+a,className:"table-updated-tr","data-order_by":t.id,onClick:e.ServicesPackagesEdit.bind(e,t.id)},i.a.createElement("td",{className:"col-xs-3 table-updated-td"},t.name),i.a.createElement("td",{className:"col-xs-2 table-updated-td"}," ",Math.floor(t.duration/60)),i.a.createElement("td",{className:"col-xs-2 table-updated-td"},Math.floor(t.duration%60)),i.a.createElement("td",{className:"col-xs-2 table-updated-td"},t.is_active?e.state.label_yes:e.state.label_no),i.a.createElement("td",{className:"col-xs-2 table-updated-td"},i.a.createElement("a",{href:"javascript:void(0);",onClick:e.ServicesPackagesClone.bind(e,t.id),className:"easy-link"},e.state.label_clone)))}):i.a.createElement("tr",{className:"table-updated-tr"},i.a.createElement("td",{className:"col-xs-12 table-updated-td text-center",colSpan:"7"},this.state.sorry_no_record_found))))),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.Please_Wait)))),i.a.createElement("div",{className:this.state.showLoadingText?"loading-please-wait":"loading-please-wait no-display"},this.state.loading_please_wait_text)),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};if(void 0!=e.showLoader&&0==e.showLoader)return a.showLoader=!1,a;if(void 0!=e.servicesPackagesList&&e.servicesPackagesList.packages.next_page_url!==t.next_page_url){var s={};return null==t.next_page_url?(localStorage.setItem("sortOnly",!1),s.next_page_url=null,s):(0==t.servicesPackagesList.length&&1==t.startFresh?"false"==localStorage.getItem("sortOnly")?(s.servicesPackagesList=e.servicesPackagesList.packages.data,null!=e.servicesPackagesList.packages.next_page_url?s.page=t.page+1:s.next_page_url=e.servicesPackagesList.packages.next_page_url,s.startFresh=!1,s.showLoader=!1,s.showLoadingText=!1,localStorage.setItem("showLoader",!1)):localStorage.setItem("sortOnly",!1):t.servicesPackagesList!=e.servicesPackagesList.packages.data&&0!=t.servicesPackagesList.length&&(s.servicesPackagesList=Object(oa.a)(t.servicesPackagesList).concat(Object(oa.a)(e.servicesPackagesList.packages.data)),s.page=t.page+1,s.next_page_url=e.servicesPackagesList.packages.next_page_url,localStorage.setItem("showLoader",!1),s.showLoader=!1,s.showLoadingText=!1),s)}return null}}]),t}(n.Component);var qc=Object(Z.b)(function(e){var t={},a=JSON.parse(localStorage.getItem("languageData"));return"SERVICES_PACKAGES_LIST"===e.AppointmentReducer.action?200!=e.AppointmentReducer.data.status?(rt.toast.dismiss(),rt.toast.error(a.global[e.AppointmentReducer.data.message]),t.showLoader=!1):t.servicesPackagesList=e.AppointmentReducer.data.data:"SERVICE_SORT_ORDER_UPDATE"===e.AppointmentReducer.action&&(200==e.AppointmentReducer.data.status?rt.toast.success(a.global[e.AppointmentReducer.data.message]):(rt.toast.dismiss(),rt.toast.error(a.global[e.AppointmentReducer.data.message]),t.showLoader=!1)),t},function(e){return Object(c.bindActionCreators)({fetchServicesPackages:Ko},e)})(Bc),Yc=function(){return{id:"",break_time:"",custom_duration:"",duration:""}},Hc=function(e){var t="",a=Math.floor(e/60),s=Math.floor(e%60);if(a){var n=a.toString(),i=s.toString();t=n.padStart(2,"0")+":"+i.padStart(2,"0"),t+=a>1?" hours":" hour"}else t=s+" minutes";return t},Gc=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t={userChanged:!0},s=e.target,n=s.value,i=s.name,r=e.target.dataset.servicepackageindex;if(r){var o=a.state.multipleServicePackageList;if(o[r][i]=n,"service_id"==i)if(o[r].id=n,""!=n){var l=a.state.serviceList.find(function(e){return e.id==n});void 0!=l&&void 0!=l.id?(o[r].duration=l.duration,o[r].custom_duration=Hc(l.duration)):(o[r].custom_duration="",o[r].duration="")}else o[r].custom_duration="",o[r].duration="";a.setState({multipleServicePackageList:o})}else{switch(s.type){case"checkbox":n=s.checked;break;case"radio":n=1==s.value||"true"==s.value}t[e.target.name]=n,a.setState(t)}},a.handleSubmit=function(e){e.target.name;var t=!1;void 0===typeof a.state.name||null===a.state.name||""===a.state.name.trim()?(a.setState({nameClass:"setting-input-box field_error"}),t=!0):a.state.name&&a.setState({nameClass:"setting-input-box"}),void 0===typeof a.state.description||null===a.state.description||""===a.state.description.trim()?(a.setState({descriptionClass:"setting-textarea-box field_error"}),t=!0):a.state.description&&a.setState({descriptionClass:"setting-textarea-box"}),void 0===typeof a.state.clinic_id||null===a.state.clinic_id||null===a.state.clinic_id?(a.setState({cinicIdClass:"setting-select-box field_error"}),t=!0):a.state.clinic_id&&a.setState({cinicIdClass:"setting-select-box"});var s=a.state.multipleServicePackageList,n=[];if(s.map(function(e,a){var s={};null===e.id||""===e.id?(s.id="setting-select-box field_error",t=!0):s.id="setting-select-box",null===e.custom_duration||""===e.custom_duration?(s.custom_duration="setting-input-box field_error",t=!0):s.custom_duration="setting-input-box",null===e.break_time||""===e.break_time?(s.break_time="setting-select-box field_error",t=!0):s.break_time="setting-select-box",n.push(s)}),a.setState({multipleServicePackageList:s,multipleServicePackageListClass:n}),!0!==t){var i={name:a.state.name,description:a.state.description,clinic_id:a.state.clinic_id,is_active:1==a.state.is_active||"true"==a.state.is_active?1:0,service_packages:s};a.setState({showLoader:!0});var r=a.state.servicePackageId;r?a.props.updateServicesPackages(i,r):a.props.createServicesPackages(i)}},a.showDeleteModal=function(){a.setState({showModal:!0})},a.dismissModal=function(){a.setState({showModal:!1})},a.deleteServicesPackages=function(){a.state.servicePackageId&&(a.setState({showLoader:!0,hideBtns:!0}),a.dismissModal(),a.props.deleteServicesPackages(a.state.servicePackageId))},a.addMultipleServicePackage=function(){var e=a.state.multipleServicePackageList;e.push(Yc()),a.setState({multipleServicePackageList:e})},a.deleteMultipleServicePackage=function(e){var t=a.state.multipleServicePackageList;if(1==t.length)return!1;var s=e.target.dataset.servicepackageindex;t.splice(s,1);var n=a.state.multipleServicePackageListClass;void 0!=n[s]&&n.splice(s,1),a.setState({multipleServicePackageList:t,multipleServicePackageListClass:n})};JSON.parse(localStorage.getItem("userData"));return a.state={clinicList:[],serviceList:[],servicesPackagesData:{},packageData:{},servicePackageId:0,cloneId:0,hideBtns:!1,showModal:!1,showLoader:!1,userChanged:!1,name:"",description:"",clinic_id:"",is_active:!1,multipleServicePackageList:[Yc()],multipleServicePackageListClass:[{id:"setting-select-box",break_time:"setting-select-box",custom_duration:"setting-input-box"}],nameClass:"setting-input-box",descriptionClass:"setting-textarea-box",cinicIdClass:"setting-select-box",cleanupTimeClass:"setting-select-box"},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){window.onscroll=function(){return!1};var e=JSON.parse(localStorage.getItem("languageData"));this.setState({appointment_create_package:e.appointments.appointment_create_package,appointment_edit_package:e.appointments.appointment_edit_package,appointment_package_name:e.appointments.appointment_package_name,appointment_description:e.appointments.appointment_description,appointment_clinic:e.appointments.appointment_clinic,appointment_service:e.appointments.appointment_service,appointment_break_time:e.appointments.appointment_break_time,services_packages_delete_msg:e.appointments.services_packages_delete_msg,label_active:e.global.label_active,label_yes:e.global.label_yes,label_no:e.global.label_no,label_cancel:e.global.label_cancel,label_submit:e.global.label_submit,label_delete:e.global.label_delete,Please_Wait:e.global.Please_Wait,delete_confirmation:e.global.delete_confirmation});var t=0,a=this.props.match.params.id;a&&(t=a,this.setState({servicePackageId:a}));var s=this.props.match.params.cloneId;s&&(t=s,this.setState({cloneId:s})),console.log("cloneId",s),console.log("servicePackageId",a),this.setState({showLoader:!0}),this.props.getServicesPackagesById({},t)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(zl,{activeMenuTag:"services-packages"}),i.a.createElement("div",{className:"juvly-section full-width"},i.a.createElement("div",{className:"juvly-container border-top"},i.a.createElement("div",{className:"juvly-title m-b-40"},this.state.servicePackageId?this.state.appointment_edit_package:this.state.appointment_create_package,i.a.createElement(me.a,{to:"/appointment/services-packages",className:"pull-right cross-icon"},i.a.createElement("img",{src:"/images/close.png"}))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.appointment_package_name," ",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("input",{name:"name",className:this.state.nameClass,maxLength:255,type:"text",value:this.state.name,onChange:this.handleInputChange,autoComplete:"off"}))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.appointment_description," ",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("textarea",{name:"description",className:this.state.descriptionClass,maxLength:255,type:"textarea",value:this.state.description,onChange:this.handleInputChange,autoComplete:"off"}))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer relative"},i.a.createElement("div",{className:"new-field-label"},this.state.appointment_clinic," ",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("select",{className:this.state.cinicIdClass,name:"clinic_id",value:this.state.clinic_id,onChange:this.handleInputChange},i.a.createElement("option",{value:""},"Select Clinic"),this.state.clinicList.length?this.state.clinicList.map(function(e,t){return i.a.createElement("option",{key:"clinic-"+t,value:e.id},e.clinic_name)}):null))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.label_active),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("div",{className:"basic-checkbox-outer"},i.a.createElement("input",{id:"radiobutton1",className:"basic-form-checkbox",name:"is_active",type:"radio",value:!0,onChange:this.handleInputChange,checked:!!this.state.is_active&&"checked"}),i.a.createElement("label",{className:"basic-form-text",htmlFor:"radiobutton1"},this.state.label_yes)),i.a.createElement("div",{className:"basic-checkbox-outer"},i.a.createElement("input",{id:"radiobutton2",className:"basic-form-checkbox",name:"is_active",type:"radio",value:!1,onChange:this.handleInputChange,checked:!this.state.is_active&&"checked"}),i.a.createElement("label",{className:"basic-form-text",htmlFor:"radiobutton2"},this.state.label_no)))))),this.state.multipleServicePackageList.length>0&&this.state.multipleServicePackageList.map(function(t,a){return i.a.createElement("div",{className:"row relative",key:"servicePackage-"+a},i.a.createElement("div",{className:"col-sm-7 col-xs-11"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Select Service ",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("select",{name:"service_id",className:e.state.multipleServicePackageListClass[a]?e.state.multipleServicePackageListClass[a].id:"setting-select-box",value:t.id,onChange:e.handleInputChange,"data-servicepackageindex":a},i.a.createElement("option",null,"Select Service"),e.state.serviceList.length&&e.state.serviceList.map(function(e,t){return i.a.createElement("option",{key:"service-"+t,value:e.id},e.name)})))),i.a.createElement("div",{className:"col-sm-2 col-xs-11"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Time Duration"),i.a.createElement("input",{name:"custom_duration",className:e.state.multipleServicePackageListClass[a]?e.state.multipleServicePackageListClass[a].custom_duration:"setting-input-box",value:t.custom_duration,onChange:e.handleInputChange,type:"text",disabled:!0,autoComplete:"off","data-servicepackageindex":a}))),i.a.createElement("div",{className:"col-sm-3 col-xs-12"},i.a.createElement("div",{className:"new-field-label"},"Break Time ",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-11"},i.a.createElement("select",{name:"break_time",className:e.state.multipleServicePackageListClass[a]?e.state.multipleServicePackageListClass[a].break_time+" m-b-30":"setting-select-box m-b-30",value:t.break_time,onChange:e.handleInputChange,"data-servicepackageindex":a},i.a.createElement("option",{value:""},"Select Break Time"),i.a.createElement("option",{value:"0"},"No Break Time"),i.a.createElement("option",{value:"5"},"5 minutes"),i.a.createElement("option",{value:"10"},"10 minutes"),i.a.createElement("option",{value:"15"},"15 minutes"),i.a.createElement("option",{value:"20"},"20 minutes"),i.a.createElement("option",{value:"25"},"25 minutes"),i.a.createElement("option",{value:"30"},"30 minutes"),i.a.createElement("option",{value:"35"},"35 minutes"),i.a.createElement("option",{value:"40"},"40 minutes"),i.a.createElement("option",{value:"45"},"45 minutes"),i.a.createElement("option",{value:"50"},"50 minutes"),i.a.createElement("option",{value:"55"},"55 minutes"),i.a.createElement("option",{value:"60"},"1 hour"),i.a.createElement("option",{value:"75"},"1 hour 15 minutes"),i.a.createElement("option",{value:"90"},"1 hour 30 minutes"))))),0==a?i.a.createElement("a",{href:"javascript:void(0);",className:"add-round-btn",onClick:e.addMultipleServicePackage},i.a.createElement("span",null,"+")):i.a.createElement("a",{href:"javascript:void(0);",className:"add-round-btn","data-servicepackageindex":a,onClick:e.deleteMultipleServicePackage},i.a.createElement("span",{"data-servicepackageindex":a},"-")))})),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.Please_Wait))),i.a.createElement("div",{className:"footer-static"},this.state.servicePackageId?i.a.createElement("input",{className:"new-red-btn pull-left confirm-model",onClick:this.showDeleteModal,"data-message":this.state.services_packages_delete_msg,"data-confirm-url":"",type:"submit",autoComplete:"off",value:this.state.label_delete}):null,i.a.createElement("div",{className:this.state.showModal?"overlay":""}),i.a.createElement("div",{id:"filterModal",role:"dialog",className:this.state.showModal?"modal fade in displayBlock":"modal fade no-display"},i.a.createElement("div",{className:"modal-dialog"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal",onClick:this.dismissModal},"\xd7"),i.a.createElement("h4",{className:"modal-title",id:"model_title"},this.state.delete_confirmation)),i.a.createElement("div",{id:"errorwindow",className:"modal-body add-patient-form filter-patient"},this.state.services_packages_delete_msg),i.a.createElement("div",{className:"modal-footer"},i.a.createElement("div",{className:"col-md-12 text-left",id:"footer-btn"},i.a.createElement("button",{type:"button",className:"btn  logout pull-right","data-dismiss":"modal",onClick:this.dismissModal},this.state.label_no),i.a.createElement("button",{type:"button",className:"btn btn-success pull-right m-r-10","data-dismiss":"modal",onClick:this.deleteServicesPackages},this.state.label_yes)))))),i.a.createElement("input",{className:"new-blue-btn pull-right",name:"save_services",id:"save_services",onClick:this.handleSubmit,type:"button",autoComplete:"off",defaultValue:this.state.label_submit}),i.a.createElement(me.a,{to:"/appointment/services-packages",className:"new-white-btn pull-right cancelAction"},this.state.label_cancel)))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeonClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};if(void 0!=e.showLoader&&0==e.showLoader)return{showLoader:!1};if(void 0!==e.servicesPackagesData&&e.servicesPackagesData!==t.servicesPackagesData){if(a.servicesPackagesData=e.servicesPackagesData,a.clinicList=e.servicesPackagesData.clinics,a.serviceList=e.servicesPackagesData.services,a.showLoader=!1,void 0!==e.servicesPackagesData.package_data&&e.servicesPackagesData.package_data!==t.packageData&&(t.servicePackageId||t.cloneId)){a.packageData=e.servicesPackagesData.package_data,a.name=t.servicePackageId?e.servicesPackagesData.package_data.name:t.name,a.description=t.servicePackageId||t.cloneId?e.servicesPackagesData.package_data.description:t.description,a.clinic_id=t.servicePackageId||t.cloneId?e.servicesPackagesData.package_data.clinic_id:t.clinic_id,a.is_active=t.servicePackageId||t.cloneId?e.servicesPackagesData.package_data.is_active:t.is_active;var s=[];e.servicesPackagesData.package_data.service_packages.map(function(e,t){var a={};a.id=e.service_id,a.service_id=e.service_id,a.break_time=e.break_time,a.custom_duration=Hc(e.duration),a.duration=e.duration,s.push(a)}),a.multipleServicePackageList=s}}else void 0!=e.redirect&&1==e.redirect?rt.toast.success(e.message,{onClose:function(){e.history.push("/appointment/services-packages")}}):void 0!=e.showLoader&&0==e.showLoader&&(a.showLoader=!1);return a}}]),t}(n.Component);var Vc=Object(Z.b)(function(e){var t={},a=JSON.parse(localStorage.getItem("languageData"));return"SERVICES_PACKAGES_DATA"===e.AppointmentReducer.action?200!=e.AppointmentReducer.data.status?(rt.toast.dismiss(),rt.toast.error(a.global[e.AppointmentReducer.data.message]),t.showLoader=!1):t.servicesPackagesData=e.AppointmentReducer.data.data:"CREATE_SERVICES_PACKAGES"===e.AppointmentReducer.action?201==e.AppointmentReducer.data.status?(t.redirect=!0,t.message=a.global[e.AppointmentReducer.data.message]):(rt.toast.dismiss(),rt.toast.error(a.global[e.AppointmentReducer.data.message]),t.showLoader=!1):"UPDATE_SERVICES_PACKAGES"===e.AppointmentReducer.action?200==e.AppointmentReducer.data.status?(t.redirect=!0,t.message=a.global[e.AppointmentReducer.data.message]):(rt.toast.dismiss(),rt.toast.error(a.global[e.AppointmentReducer.data.message]),t.showLoader=!1):"DELETE_SERVICES_PACKAGES"===e.AppointmentReducer.action?200==e.AppointmentReducer.data.status?(t.redirect=!0,t.message=a.global[e.AppointmentReducer.data.message]):(rt.toast.dismiss(),rt.toast.error(a.global[e.AppointmentReducer.data.message]),t.showLoader=!1):"EMPTY_DATA"===e.AppointmentReducer.action&&(t.showLoader=!1),t},function(e){return Object(c.bindActionCreators)({getServicesPackagesById:Xo,createServicesPackages:Zo,updateServicesPackages:$o,deleteServicesPackages:el,exportEmptyData:El},e)})(Gc),zc=function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t,s=e.target,n="checkbox"===s.type?s.checked:s.value;a.setState((t={},Object(se.a)(t,e.target.name,n),Object(se.a)(t,"userChanged",!0),t)),"days"===e.target.name?a.handleSubmit(e,n):"dynamic_providers_ordering"===e.target.name&&a.handleDynamicOrdering(n)},a.handleDynamicOrdering=function(e){a.setState({showLoader:!0}),a.props.dynamicOrderingProviderSchedule({is_enabled:e?1:0})},a.handleSubmit=function(e,t){var s;e.preventDefault(),localStorage.setItem("sortOnly",!1);var n={params:{page:1,pagesize:a.state.pagesize,term:a.state.term,days:t||a.state.days}};a.setState((s={page:1,pagesize:a.state.pagesize,startFresh:!0,loadMore:!0},Object(se.a)(s,"startFresh",!0),Object(se.a)(s,"next_page_url",""),Object(se.a)(s,"providerScheduleList",[]),Object(se.a)(s,"showLoader",!0),Object(se.a)(s,"next_page_url",""),s)),a.setState({showLoader:!0}),a.props.fetchProviderSchedule(n)},a.ProviderScheduleView=function(e,t){if("easy-link"!=t.target.className&&"new-blue-btn pull-right"!=t.target.className)return i.a.createElement("div",null,a.props.history.push("/appointment/provider-schedule/".concat(e,"/view")))},a.loadMore=function(){a.setState({loadMore:!0,startFresh:!0,showLoader:!1,showLoadingText:!0});var e={params:{term:a.state.term,page:a.state.page,pagesize:a.state.pagesize,days:a.state.days}};a.props.fetchProviderSchedule(e,a.state.serviceCategoryId)},a.reorder=function(e,t,a){var s=Array.from(e),n=s.splice(t,1),i=Object(ye.a)(n,1)[0];return s.splice(a,0,i),s},a.getItemStyle=function(e,t){return Object(m.a)({userSelect:"none",background:e?"#f7fbfd":"ffffff"},t)},a.reOrderList=function(e){var t={object_ids:e};a.props.updateProviderScheduleSortOrder(t)},a.renderDragDropTable=function(){var e=[];e=a.state.providerScheduleList.map(function(e,t){return{content:i.a.createElement(i.a.Fragment,{key:"fragment_"+t},i.a.createElement("td",{className:"col-xs-3 table-updated-td Questionnaire-name"},i.a.createElement("a",{href:"javascript:void(0);",className:"drag-dots"}),e.firstname+" "+e.lastname),i.a.createElement("td",{className:"col-xs-3 table-updated-td"},e.occupied_percentage?Ie(e.occupied_percentage,"decimal",2):0," %"),i.a.createElement("td",{className:"col-xs-3 table-updated-td"},e.last_schedule_date?e.last_schedule_date:a.state.appointment_not_scheduled),i.a.createElement("td",{className:"col-xs-3 table-updated-td"},e.last_appointment_date?e.last_appointment_date:a.state.appointment_not_booked)),id:e.id}});return i.a.createElement(Vl.a,{onDragEnd:function(t){var s;if(t.destination){var n=a.reorder(e,t.source.index,t.destination.index);e=n,s=n.map(function(e,t){return e.id}),a.reOrderList(s)}}},i.a.createElement(Vl.c,{droppableId:"droppable"},function(t,s){return i.a.createElement("tbody",{ref:t.innerRef},e.map(function(e,t){return i.a.createElement(Vl.b,{key:e.id,draggableId:e.id,index:t},function(t,s){return i.a.createElement("tr",Object.assign({className:"table-updated-tr","data-order_by":e.id,onClick:a.ProviderScheduleView.bind(Object(ce.a)(Object(ce.a)(a)),e.id),ref:t.innerRef},t.draggableProps,t.dragHandleProps,{style:a.getItemStyle(s.isDragging,t.draggableProps.style)}),e.content)})}),null,t.placeholder)}))},a.renderSimpleTable=function(){return i.a.createElement("tbody",null,a.state.providerScheduleList.map(function(e,t){return i.a.createElement("tr",{key:"providerSchedule"+t,className:"table-updated-tr","data-order_by":e.id,onClick:a.ProviderScheduleView.bind(Object(ce.a)(Object(ce.a)(a)),e.id)},i.a.createElement("td",{className:"col-xs-3 table-updated-td"},e.firstname+" "+e.lastname),i.a.createElement("td",{className:"col-xs-3 table-updated-td"},e.occupied_percentage?Ie(e.occupied_percentage,"decimal",2):0," %"),i.a.createElement("td",{className:"col-xs-3 table-updated-td"},e.last_schedule_date?e.last_schedule_date:a.state.appointment_not_scheduled),i.a.createElement("td",{className:"col-xs-3 table-updated-td"},e.last_appointment_date?e.last_appointment_date:a.state.appointment_not_booked))}))},a.state={page:1,pagesize:15,startFresh:!0,showLoadingText:!1,loadMore:!0,showLoader:!1,providerScheduleList:[],next_page_url:"",dynamic_providers_ordering:!1,is_superadmin:0,days:"15",term:"",userChanged:!1},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),window.onscroll=function(){var e=parseInt(Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop));window.innerHeight+e===document.documentElement.offsetHeight&&null!==a.state.next_page_url&&a.loadMore()},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("languageData"));this.setState({appointment_dynamic_ordering:e.appointments.appointment_dynamic_ordering,appointment_filter:e.appointments.appointment_filter,appointment_provider_name:e.appointments.appointment_provider_name,appointment_occupied:e.appointments.appointment_occupied,appointment_schedule_available_upto:e.appointments.appointment_schedule_available_upto,appointment_appointment_booked_upto:e.appointments.appointment_appointment_booked_upto,appointment_not_scheduled:e.appointments.appointment_not_scheduled,appointment_not_booked:e.appointments.appointment_not_booked,label_on:e.global.label_on,label_off:e.global.label_off,label_search:e.global.label_search,loading_please_wait_text:e.global.loading_please_wait_text,Please_Wait:e.global.Please_Wait,sorry_no_record_found:e.global.sorry_no_record_found}),document.addEventListener("click",this.handleClick,!1);var t={params:{term:this.state.term,page:this.state.page,pagesize:this.state.pagesize,days:this.state.days}};this.setState({showLoader:!0}),this.props.fetchProviderSchedule(t)}},{key:"render",value:function(){return i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(zl,{activeMenuTag:"provider-schedule"}),i.a.createElement("div",{className:"juvly-section full-width"},i.a.createElement("div",{className:"setting-search-outer"},i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("div",{className:"search-bg new-search"},i.a.createElement("i",{className:"fas fa-search"}),i.a.createElement("input",{className:"setting-search-input search-key",name:"term",placeholder:this.state.label_search,value:this.state.term,onChange:this.handleInputChange,autoComplete:"off"}))),i.a.createElement("div",{className:"filter-type"},i.a.createElement("span",{className:"search-text"},this.state.appointment_filter,":"),i.a.createElement("div",{className:"header-select"},i.a.createElement("select",{name:"days",onChange:this.handleInputChange,value:this.state.days},i.a.createElement("option",{value:"15"},"Next 15 Days"),i.a.createElement("option",{value:"30"},"Next 30 Days"),i.a.createElement("option",{value:"45"},"Next 45 Days"),i.a.createElement("option",{value:"60"},"Next 60 Days"),i.a.createElement("option",{value:"90"},"Next 90 Days")),i.a.createElement("i",{className:"fas fa-angle-down"}))),this.state.is_superadmin?i.a.createElement("div",{className:"filter-type"},i.a.createElement("span",{className:"search-text"},this.state.appointment_dynamic_ordering," : ",this.state.dynamic_providers_ordering?this.state.label_on:this.state.label_off," "),i.a.createElement("label",{className:"setting-switch pull-right Dynamic-Ordering"},i.a.createElement("input",{type:"checkbox",name:"dynamic_providers_ordering",value:this.state.dynamic_providers_ordering,checked:!!this.state.dynamic_providers_ordering&&"checked",onChange:this.handleInputChange}),i.a.createElement("span",{className:"setting-slider"}))):null),i.a.createElement("div",{className:"table-responsive"},i.a.createElement("table",{className:"table-updated juvly-table table-min-width"},i.a.createElement("thead",{className:"table-updated-thead"},i.a.createElement("tr",null,i.a.createElement("th",{className:"col-xs-3 table-updated-th"},this.state.appointment_provider_name),i.a.createElement("th",{className:"col-xs-3 table-updated-th"},"% ",this.state.appointment_occupied),i.a.createElement("th",{className:"col-xs-3 table-updated-th"},this.state.appointment_schedule_available_upto),i.a.createElement("th",{className:"col-xs-3 table-updated-th"},this.state.appointment_appointment_booked_upto))),this.state.providerScheduleList.length>0?this.state.is_superadmin&&this.state.dynamic_providers_ordering?this.renderDragDropTable():this.renderSimpleTable():i.a.createElement("tbody",null,i.a.createElement("tr",{className:"table-updated-tr"},i.a.createElement("td",{className:"col-xs-12 table-updated-td text-center",colSpan:"7"},this.state.sorry_no_record_found))))),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.Please_Wait)))),i.a.createElement("div",{className:this.state.showLoadingText?"loading-please-wait":"loading-please-wait no-display"},this.state.loading_please_wait_text)),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};if(void 0!=e.showLoader&&0==e.showLoader)return a.showLoader=!1,a;if(void 0!=e.providerScheduleList&&e.providerScheduleList.providers.next_page_url!==t.next_page_url){var s={};return null==t.next_page_url?(localStorage.setItem("sortOnly",!1),s.next_page_url=null,s):(0==t.providerScheduleList.length&&1==t.startFresh?("false"==localStorage.getItem("sortOnly")?(s.providerScheduleList=e.providerScheduleList.providers.data,void 0!==e.providerScheduleList.account_prefrence&&(s.dynamic_providers_ordering=t.userChanged?t.dynamic_providers_ordering:!!e.providerScheduleList.account_prefrence.dynamic_providers_ordering),void 0!==e.providerScheduleList.is_superadmin&&(s.is_superadmin=e.providerScheduleList.is_superadmin),null!=e.providerScheduleList.providers.next_page_url?s.page=t.page+1:s.next_page_url=e.providerScheduleList.providers.next_page_url,s.startFresh=!1,s.showLoader=!1,s.showLoadingText=!1,localStorage.setItem("showLoader",!1)):localStorage.setItem("sortOnly",!1),e.exportEmptyData()):t.providerScheduleList!=e.providerScheduleList.providers.data&&0!=t.providerScheduleList.length&&(s.providerScheduleList=Object(oa.a)(t.providerScheduleList).concat(Object(oa.a)(e.providerScheduleList.providers.data)),s.page=t.page+1,s.next_page_url=e.providerScheduleList.providers.next_page_url,localStorage.setItem("showLoader",!1),s.showLoader=!1,s.showLoadingText=!1,e.exportEmptyData()),s)}return null}}]),t}(n.Component);var Wc=Object(Z.b)(function(e){var t={},a=JSON.parse(localStorage.getItem("languageData"));return"PROVIDER_SCHEDULE_LIST"===e.AppointmentReducer.action?200!=e.AppointmentReducer.data.status?(rt.toast.dismiss(),rt.toast.error(a.global[e.AppointmentReducer.data.message]),t.showLoader=!1):t.providerScheduleList=e.AppointmentReducer.data.data:"PROVIDER_SCHEDULE_DYNAMIC_ORDERING"===e.AppointmentReducer.action?200==e.AppointmentReducer.data.status?(t.showLoader=!1,rt.toast.dismiss(),rt.toast.success(a.global[e.AppointmentReducer.data.message])):(rt.toast.dismiss(),rt.toast.error(a.global[e.AppointmentReducer.data.message]),t.showLoader=!1):"PROVIDER_SCHEDULE_SORT_ORDER_UPDATE"===e.AppointmentReducer.action?200==e.AppointmentReducer.data.status?(rt.toast.dismiss(),rt.toast.success(a.global[e.AppointmentReducer.data.message])):(rt.toast.dismiss(),rt.toast.error(a.global[e.AppointmentReducer.data.message]),t.showLoader=!1):e.AppointmentReducer.action,t},function(e){return Object(c.bindActionCreators)({fetchProviderSchedule:tl,dynamicOrderingProviderSchedule:al,updateProviderScheduleSortOrder:sl,exportEmptyData:El},e)})(zc),Jc=(a(67),mc.a.momentLocalizer(Se.a)),Qc=["#6ca6cd","#ae0001","#C71577","#9932CC","#632a01","#FF8C00","#c0c0c0","#FF1493","#4af79c","#1E90FF","#7b526c","#DC143C","#9f0101","#404040","#9f0101","#404040","#598a6f","#FF6347","#efb509","#fff8b6","#ffb90f","#2abe3d","#c66f6f","#6897bb","#00008B","#76588c","#800000","#6BA5C2","#4B0082"],Kc=(pc()(mc.a),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se()(),t=Se()(e).startOf("week"),a=Se()(e).endOf("week");return t.format("YYYY")!=a.format("YYYY")?t.format("MMM DD, YY - ")+a.format("MMM DD, YY"):t.format("MM")!=a.format("MM")?t.format("MMM DD - ")+a.format("MMM DD, YYYY"):t.format("MMM ")+t.format("DD - ")+a.format("DD, YYYY")}),Xc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se()(),t=Se()(e).startOf("month"),a=Se()(e).endOf("month");return t.format("YYYY")!=a.format("YYYY")?t.format("MMM DD, YY - ")+a.format("MMM DD, YY"):t.format("MM")!=a.format("MM")?t.format("MMM DD - ")+a.format("MMM DD, YYYY"):t.format("MMM ")+t.format("DD - ")+a.format("DD, YYYY")},Zc=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{startDate:Se()(e).startOf("week"),endDate:Se()(e).endOf("week")}},$c=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{startDate:Se()(e).startOf("month"),endDate:Se()(e).endOf("month")}},ed=function(e){return Se()(e).format("YYYY-MM-DD")},td=function(e){return Se()(e).format("MMMM DD, YYYY")},ad=function(){return{id:"",name:"",schedules:[{from_time:"00:00",from_time_option:"AM",from_time_24:"00:00",to_time:"00:00",to_time_option:"PM",to_time_24:"00:00"}]}},sd=function(){return{from_time:"00:00",from_time_option:"AM",from_time_24:"00:00",to_time:"00:00",to_time_option:"PM",to_time_24:"00:00"}},nd=function(){return{from_time:"setting-input-box hours-time from-time-input",from_time_option:"setting-select-box hours-pm from_time_option",to_time:"setting-input-box hours-time to-time-input",to_time_option:"setting-select-box hours-pm to_time_option"}},id=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleClick=function(e){a.refDatePickerContainer.contains(e.target)||a.refRepeatDatePickerContainer.contains(e.target)||a.refUpdateDatePickerContainer.contains(e.target)?a.refDatePicker==e.target||a.refRepeatDatePicker==e.target||a.refUpdateDatePicker==e.target?a.setState({showDatePicker:!1}):a.setState({showDatePicker:!0}):a.setState({showDatePicker:!1}),a.refDatePickerContainer.contains(e.target)||a.refDatePicker.setOpen(!1),a.refRepeatDatePickerContainer.contains(e.target)||a.refRepeatDatePicker.setOpen(!1),a.refUpdateDatePickerContainer.contains(e.target)||a.refUpdateDatePicker.setOpen(!1),a.refAssociateClinicContainer.contains(e.target)||a.setState({isShowClinicModal:!1})},a.onSelectEvent=function(e){var t=a.state.selectedEvent,s=e.id.split("_");t.id=parseInt(s[0]),t.clinic_id=parseInt(s[1]),t.clinic_name=e.title,t.date=e.start,t.from_time=Se()(e.start).format("hh:mm"),t.from_time_24=Se()(e.start).format("HH:mm"),t.from_time_option=Se()(e.start).format("A"),t.to_time=Se()(e.end).format("hh:mm"),t.to_time_24=Se()(e.end).format("HH:mm"),t.to_time_option=Se()(e.end).format("A"),t.isPassedDate=!(Se()()<Se()(e.start));a.setState({selectedEvent:t,selectedEventError:{date:"setting-input-box p-r-40",from_time:"setting-input-box hours-time from-time-input",from_time_option:"setting-select-box hours-pm from_time_option",to_time:"setting-input-box hours-time to-time-input",to_time_option:"setting-select-box hours-pm to_time_option"},isGetProviderScheduleModal:!0})},a.onSelectSlot=function(e){var t=e.start;e.end,e.slots;if("click"==e.action&&Se()()<Se()(t)){var s=a.state.clinicScheduleList,n=a.state.clinicScheduleListError;s.map(function(e,t){s[t].schedules=[sd()],n[t].schedules=[nd()]}),a.setState({clinicScheduleList:s,clinicScheduleListError:n,isCreateProviderScheduleModal:!0,selectedPickerDate:t,selectedRepeatPickerDate:null})}},a.onSelectSlotBtn=function(){var e=a.state.clinicScheduleList,t=a.state.clinicScheduleListError;e.map(function(a,s){e[s].schedules=[sd()],t[s].schedules=[nd()]}),a.setState({clinicScheduleList:e,clinicScheduleListError:t,isCreateProviderScheduleModal:!0,selectedPickerDate:Se()().toDate(),selectedRepeatPickerDate:null})},a.onNavigate=function(e){},a.onView=function(e){},a.resizeEvent=function(e,t){var s=t.event,n=t.start,i=t.end,r=a.state.events.map(function(e){return e.id==s.id?Object(m.a)({},e,{start:n,end:i}):e});a.setState({events:r})},a.handleInputChange=function(e){var t=e.target,s=t.value,n=t.name,i=e.target.dataset.scheduleindex,r=e.target.dataset.clinicindex,o=t.dataset.updateschedule;if(r&&i){var l=a.state.clinicScheduleList;l[r].schedules[i][n]=s,l[r].schedules[i].from_time_24=Re(l[r].schedules[i].from_time+" "+l[r].schedules[i].from_time_option),l[r].schedules[i].to_time_24=Re(l[r].schedules[i].to_time+" "+l[r].schedules[i].to_time_option),a.setState({clinicScheduleList:l})}else if(o){var c=a.state.selectedEvent;c[n]=s,c.from_time_24=Re(c.from_time+" "+c.from_time_option),c.to_time_24=Re(c.to_time+" "+c.to_time_option),a.setState({selectedEvent:c})}else{var d;switch(t.type){case"checkbox":s=t.checked;var m=t.dataset.clinicid;if(m){var u=s?m:0;a.setState({selectedClinicId:u});var p=a.state.associatedClinics;p.map(function(e,t){p[t].checked=m==e.id&&s}),a.setState({associatedClinics:p}),a.getProviderScheduleById(a.state.calendarView,a.state.selectedDate,u)}break;case"radio":s=t.value}a.setState((d={},Object(se.a)(d,e.target.name,s),Object(se.a)(d,"userChanged",!0),d))}},a.handleSubmitCreate=function(e){e.target.name;var t=!1,s=a.state.selectedPickerDate;void 0===typeof s||null===s||""===s?(a.setState({selectedPickerDateClass:"setting-input-box p-r-40 field_error"}),t=!0):s&&a.setState({selectedPickerDateClass:"setting-input-box p-r-40"});var n=a.state.selectedRepeatPickerDate;if((void 0!=typeof n||null!=n||""!=n)&&Se()(s)>=Se()(n)?(t=!0,a.setState({selectedRepeatPickerDateClass:"setting-input-box p-r-40 field_error"})):a.setState({selectedRepeatPickerDateClass:"setting-input-box p-r-40"}),t)return rt.toast.dismiss(),rt.toast.error(a.state.globalLang.error_please_a_valid_time),!1;s=Se()(s).format("YYYY-MM-DD");var i=a.state.clinicScheduleList,r=a.state.clinicScheduleListError,o=[],l=!0,c=!0;if(i.map(function(e,a){e.schedules.map(function(n,i){var d=!1,m={from_time:"setting-input-box hours-time from-time-input",from_time_option:"setting-select-box hours-pm from_time_option",to_time:"setting-input-box hours-time to-time-input",to_time_option:"setting-select-box hours-pm to_time_option"};if("00:00"!=n.from_time||"00:00"!=n.to_time){if(l=!1,"00:00"==n.from_time)t=!0,m.from_time="setting-input-box hours-time from-time-input field_error";else if("00:00"==n.to_time)t=!0,m.to_time="setting-input-box hours-time to-time-input field_error";else{Se()(s+" "+n.from_time+" "+n.from_time_option)>=Se()(s+" "+n.to_time+" "+n.to_time_option)&&(t=!0,d=!0,c=!0,m.from_time="setting-input-box hours-time from-time-input field_error",m.from_time_option="setting-select-box hours-pm from_time_option field_error",m.to_time="setting-input-box hours-time to-time-input field_error",m.to_time_option="setting-select-box hours-pm to_time_option field_error")}if(!d){var u=!1,p={from_time:n.from_time_24,to_time:n.to_time_24};if(o.length&&o.map(function(t,a){t.id==e.id&&(u=!0,o[a].time_schedules.push(p))}),!u){var h={};h.id=e.id,h.time_schedules=[],h.time_schedules.push(p),o.push(h)}}}r[a].schedules[i]=m})}),a.setState({clinicScheduleListError:r}),t||l)l?(rt.toast.dismiss(),rt.toast.error(a.state.globalLang.error_please_fill_time_for_at_least_one_clinic)):c&&(rt.toast.dismiss(),rt.toast.error(a.state.globalLang.error_please_a_valid_time));else{var d=a.state.providerId,m={id:d,schedule_date:s,repeat_date:a.state.selectedRepeatPickerDate?Se()(a.state.selectedRepeatPickerDate).format("YYYY-MM-DD"):null,clinic_schedules:o};d&&(a.setState({showLoader:!0}),a.handleCreateProviderScheduleModal(),a.props.createProviderSchedule(m))}},a.handleSubmitUpdate=function(e){e.target.name;var t=!1,s=a.state.selectedEvent,n=a.state.selectedEventError;void 0===typeof s.date||null===s.date||""===s.date?(n.date="setting-input-box p-r-40 field_error",a.setState({selectedEventError:n}),t=!0):s.date&&(n.date="setting-input-box p-r-40",a.setState({selectedEventError:n}));var i=Se()(s.date).format("YYYY-MM-DD"),r=!1;"00:00"!=s.from_time&&"00:00"!=s.to_time?Se()(i+" "+s.from_time+" "+s.from_time_option)>=Se()(i+" "+s.to_time+" "+s.to_time_option)&&(t=!0,r=!0,n.from_time="setting-input-box hours-time from-time-input field_error",n.from_time_option="setting-select-box hours-pm from_time_option field_error",n.to_time="setting-input-box hours-time to-time-input field_error",n.to_time_option="setting-select-box hours-pm to_time_option field_error"):"00:00"==s.from_time?(t=!0,r=!0,n.from_time="setting-input-box hours-time from-time-input field_error"):"00:00"==s.to_time&&(t=!0,r=!0,n.to_time="setting-input-box hours-time to-time-input field_error");if(a.setState({selectedEventError:n}),t)r&&(rt.toast.dismiss(),rt.toast.error(a.state.globalLang.error_please_a_valid_time));else{var o=a.state.providerId,l={id:o,schedule_date:i,clinic_schedules:[{id:s.clinic_id,time_schedules:[{from_time:s.from_time_24,to_time:s.to_time_24}]}]};o&&(a.setState({showLoader:!0}),a.handleGetProviderScheduleModal(),a.props.updateProviderSchedule(l,s.id))}},a.handleNextPrevDate=function(e){var t=Se()(a.state.selectedDate),s={userChanged:!0};switch(a.state.calendarView){case"week":if("next"==e){var n=t.add(1,"weeks").toDate();s.selectedDate=n,s.showSelectedDate=Kc(n),s.searchPickerDate=Se()(s.selectedDate).startOf("week").toDate(),s.isChangeWeek=!0}else if("prev"==e){var i=t.subtract(1,"weeks").toDate();s.selectedDate=i,s.showSelectedDate=Kc(i),s.searchPickerDate=Se()(s.selectedDate).startOf("week").toDate(),s.isChangeWeek=!0}else s.selectedDate=Se()().toDate(),s.showSelectedDate=Kc(),s.searchPickerDate=Se()(s.selectedDate).toDate(),s.isChangeWeek=!1;break;case"month":if("next"==e){var r=t.add(1,"months").toDate();s.selectedDate=r,s.showSelectedDate=Xc(r),s.searchPickerDate=Se()(s.selectedDate).startOf("month").toDate(),s.isChangeWeek=!0}else if("prev"==e){var o=t.subtract(1,"months").toDate();s.selectedDate=o,s.showSelectedDate=Xc(o),s.searchPickerDate=Se()(s.selectedDate).startOf("month").toDate(),s.isChangeWeek=!0}else s.selectedDate=Se()().toDate(),s.showSelectedDate=Xc(),s.searchPickerDate=Se()(s.selectedDate).toDate(),s.isChangeWeek=!1;break;case"day":if("next"==e){var l=t.add(1,"days").toDate();s.selectedDate=l,s.showSelectedDate=td(Se()(l))}else if("prev"==e){var c=t.subtract(1,"days").toDate();s.selectedDate=c,s.showSelectedDate=td(Se()(c))}else s.selectedDate=Se()().toDate(),s.showSelectedDate=td(Se()());s.searchPickerDate=Se()(s.selectedDate).toDate()}a.setState(s),a.getProviderScheduleById(a.state.calendarView,s.selectedDate,a.state.selectedClinicId)},a.handleCalendarView=function(e){var t={};t.calendarView=e,t.userChanged=!0,t.selectedDate=a.state.selectedDate,"week"==e?t.showSelectedDate=Kc(t.selectedDate):"day"==e?(t.isChangeWeek=!1,a.state.returnState&&(t.selectedDate=Se()(t.selectedDate).startOf("week").toDate()),t.showSelectedDate=td(t.selectedDate)):t.showSelectedDate=Xc(t.selectedDate),t.searchPickerDate=Se()(t.selectedDate).toDate(),a.setState(t),a.getProviderScheduleById(t.calendarView,t.selectedDate,a.state.selectedClinicId)},a.getProviderScheduleById=function(e,t,s){if(a.state.providerId){var n="";n="week"==e?Zc(t):"day"==e?{startDate:t,endDate:t}:$c(t);var i={params:{start_date:ed(n.startDate),end_date:ed(n.endDate)}};s&&(i.params.clinic_id=s),a.setState({showLoader:!0}),a.props.getProviderScheduleById(i,a.state.providerId)}},a.handleSearchDatePicker=function(e){a.setState({searchPickerDate:e}),a.setState({showLoader:!0});var t={isChangeWeek:!1};t.selectedDate=e,t.userChanged=!0,t.showSelectedDate=td(t.selectedDate),t.calendarView="day",a.setState(t),a.getProviderScheduleById(t.calendarView,t.selectedDate,a.state.selectedClinicId)},a.addMultipleSchedule=function(e){var t=e.target.dataset.clinicindex;if(t){var s=a.state.clinicScheduleList;s[t].schedules.push(sd()),a.state.clinicScheduleListError[t].schedules.push(nd()),a.setState({clinicScheduleList:s})}},a.deleteMultipleSchedule=function(e){var t=e.target.dataset.clinicindex;if(t){var s=a.state.clinicScheduleList,n=s[t].schedules;if(1==n.length)return!1;var i=e.target.dataset.scheduleindex;n.splice(i,1),s[t].schedules=n;var r=a.state.clinicScheduleListError,o=r[t].schedules;o.splice(i,1),r[t].schedules=o,a.setState({clinicScheduleList:s,clinicScheduleListError:r})}},a.handleShowClinicModal=function(){a.setState({isShowClinicModal:!a.state.isShowClinicModal})},a.handleCreateProviderScheduleModal=function(){a.setState({isCreateProviderScheduleModal:!a.state.isCreateProviderScheduleModal})},a.handleGetProviderScheduleModal=function(){a.setState({isGetProviderScheduleModal:!a.state.isGetProviderScheduleModal})},a.handleDatePicker=function(e){a.setState({selectedPickerDate:e,showDatePicker:!1}),a.refDatePicker.setOpen(!1)},a.resetDatePicker=function(){a.setState({selectedPickerDate:null,showDatePicker:!0}),a.toggleDatePicker()},a.blurDatePicker=function(e){a.refDatePicker.setOpen(!0),a.setState({showDatePicker:!0})},a.focusDatePicker=function(e){a.setState({showDatePicker:!0})},a.toggleDatePicker=function(){a.setState({showDatePicker:!0}),a.refDatePicker.setFocus(!0),a.refDatePicker.setOpen(!0)},a.handleRepeatDatePicker=function(e){a.setState({selectedRepeatPickerDate:e})},a.resetRepeatDatePicker=function(){a.setState({selectedRepeatPickerDate:null}),a.toggleRepeatDatePicker()},a.blurRepeatDatePicker=function(e){a.refRepeatDatePicker.setOpen(!0)},a.focusRepeatDatePicker=function(e){a.setState({showDatePicker:!0})},a.toggleRepeatDatePicker=function(){a.setState({showDatePicker:!0}),a.refRepeatDatePicker.setFocus(!0),a.refRepeatDatePicker.setOpen(!0)},a.handleUpdateDatePicker=function(e){a.setState({selectedPickerDate:e,showDatePicker:!1}),a.refUpdateUpdateDatePicker.setOpen(!1)},a.resetUpdateDatePicker=function(){a.setState({selectedPickerDate:null,showDatePicker:!0}),a.toggleUpdateDatePicker()},a.blurUpdateDatePicker=function(e){a.refUpdateUpdateDatePicker.setOpen(!0),a.setState({showDatePicker:!0})},a.focusUpdateDatePicker=function(e){a.setState({showDatePicker:!0})},a.toggleUpdateDatePicker=function(){a.setState({showDatePicker:!0}),a.refUpdateUpdateDatePicker.setFocus(!0),a.refUpdateUpdateDatePicker.setOpen(!0)},a.handleDeleteModal=function(){a.setState({isShowDeleteModal:!a.state.isShowDeleteModal})},a.deleteProviderSchedule=function(){a.state.selectedEvent.id&&(a.setState({showLoader:!0,hideBtns:!0}),a.handleDeleteModal(),a.props.deleteProviderSchedule(a.state.selectedEvent.id))},a.maskChange=function(e,t,a){var s=e.value,n=e.selection,i=n?n.start:null;s.endsWith(":")&&":"!==a&&(i===s.length&&(n={start:--i,end:i}),s=s.slice(0,-1)),2==i&&s>12&&(s=12);var r=s.split(":");(parseInt(r[0])>12&&(r[0]=12),5==i)&&(parseInt(r[1])>=60&&(r[1]=59,s=r.join(":")));return void 0==r[1]&&(r[0],r[1]="00"),{value:s=r.join(":"),selection:n}},a.renderAssociateClinic=function(){a.state.associatedClinics;return i.a.createElement("ul",{className:a.state.isShowClinicModal?"cal-dropdown":"cal-dropdown no-display"},a.state.associatedClinics.map(function(e,t){return i.a.createElement("li",{key:"associateClinic-"+t},i.a.createElement("a",{href:"javascript:void(0);"},i.a.createElement("label",{className:"checkbox"},i.a.createElement("input",{type:"checkbox",name:"provider_clinic_id","data-clinicid":e.id,value:e.checked,checked:e.checked,onChange:a.handleInputChange})," ",e.clinic_name,i.a.createElement("span",{style:{backgroundColor:e.color}}))))}))};var s=JSON.parse(localStorage.getItem("languageData"));a.state={globalLang:s.global,appointmentLang:s.appointments,providerId:0,events:[],showSelectedDate:Xc(),selectedDate:Se()().toDate(),calendarView:"month",calendarStep:5,calenderTimeslots:3,searchPickerDate:Se()().toDate(),isChangeWeek:!1,providerScheduleData:{},allClinics:[],associatedClinics:[],providerScheduleList:[],providerInfo:[],selectedClinicId:0,isShowClinicModal:!1,showLoader:!1,isCreateProviderScheduleModal:!1,isGetProviderScheduleModal:!1,userChanged:!1,clinicScheduleList:[ad()],selectedPickerDate:null,selectedRepeatPickerDate:null,showDatePicker:!1,showRepeatDatePicker:!1,isShowDeleteModal:!1,selectedEvent:{id:null,clinic_id:null,clinic_name:null,from_time:"00:00",from_time_option:"AM",from_time_24:"00:00",to_time:"00:00",to_time_option:"AM",to_time_24:"00:00",date:null,isPassedDate:!1},selectedPickerDateClass:"setting-input-box p-r-40",selectedRepeatPickerDateClass:"setting-input-box p-r-40",clinicScheduleListError:[nd()],selectedEventError:{date:"setting-input-box p-r-40",from_time:"setting-input-box hours-time from-time-input",from_time_option:"setting-select-box hours-pm from_time_option",to_time:"setting-input-box hours-time to-time-input",to_time_option:"setting-select-box hours-pm to_time_option"}};JSON.parse(localStorage.getItem("userData"));return a.moveEvent=a.moveEvent.bind(Object(ce.a)(Object(ce.a)(a))),a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidUpdate",value:function(){vs.a.rebuild()}},{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleClick,!1);var e=this.props.match.params.id;if(e){this.setState({providerId:e});var t=$c(Se()()),a={params:{start_date:ed(Se()(t.startDate).toDate()),end_date:ed(Se()(t.endDate).toDate())}};this.props.getProviderScheduleById(a,e)}}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClick,!1)}},{key:"moveEvent",value:function(e){var t=e.event,a=e.start,s=e.end,n=e.resourceId,i=e.isAllDay,r=this.state.events;if(t.resourceId==n){var o=r.indexOf(t),l=t.allDay;!t.allDay&&i?l=!0:t.allDay&&!i&&(l=!1);var c=Object(m.a)({},t,{start:a,end:s,resourceId:n,allDay:l}),d=Object(oa.a)(r);d.splice(o,1,c),this.setState({events:d})}}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content provider-schedule-view"},i.a.createElement(zl,{activeMenuTag:"provider-schedule"}),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-lg-2 col-md-5 col-sm-6 cal-month-week-day-outer provider-m-d-w"},i.a.createElement("button",{className:"month"==this.state.calendarView?"calendar-btn btn-week selected":"calendar-btn btn-week",onClick:this.handleCalendarView.bind(this,"month")},"Month"),i.a.createElement("button",{className:"week"==this.state.calendarView?"calendar-btn btn-week selected":"calendar-btn btn-week",onClick:this.handleCalendarView.bind(this,"week")},this.state.globalLang.label_week),i.a.createElement("button",{className:"day"==this.state.calendarView?"calendar-btn btn-day selected":"calendar-btn btn-day",onClick:this.handleCalendarView.bind(this,"day")},this.state.globalLang.label_day)),i.a.createElement("div",{className:"col-lg-4 col-md-3 col-sm-6 cal-date-btn-outer"},i.a.createElement("button",{className:"calendar-btn today-btn",onClick:this.handleNextPrevDate.bind(this,"today")},this.state.globalLang.label_today),i.a.createElement("button",{className:"calendar-btn cal-date-btn"},i.a.createElement("a",{className:"cal-arrow pull-left",onClick:this.handleNextPrevDate.bind(this,"prev")},i.a.createElement("img",{src:"/images/cal-left.svg"})),this.state.showSelectedDate,i.a.createElement("a",{className:"cal-arrow pull-right",onClick:this.handleNextPrevDate.bind(this,"next")},i.a.createElement("img",{src:"/images/cal-right.svg"}))),i.a.createElement("div",{className:"search-bg new-calender",ref:function(t){return e.refSearchDatePickerContainer=t}},i.a.createElement("img",{src:as.a}),i.a.createElement(xn.a,{value:this.state.searchPickerDate?td(this.state.searchPickerDate):null,onChange:this.handleSearchDatePicker,className:"setting-search-input search-key",dateFormat:"YYYY-MM-dd",minDate:new Date(Se()().subtract(10,"years")),selected:this.state.searchPickerDate,name:"searchPickerDate",autoComplete:"off",ref:function(t){return e.refSearchDatePicker=t}}))),i.a.createElement("div",{className:"col-lg-6 col-md-4 col-sm-12 cal-filter provider-cal-filter"},i.a.createElement("button",{onClick:this.handleShowClinicModal,className:this.state.isShowClinicModal?"calendar-dropdown provider-clinic-filter show":"calendar-dropdown provider-clinic-filter ",ref:function(t){return e.refAssociateClinicContainer=t}},this.state.appointmentLang.appointment_all_clinics,i.a.createElement("a",{href:"javascript:void(0);",className:"cal-arrow pull-right"},i.a.createElement("img",{src:this.state.isShowClinicModal?"/images/cal-up.png":"/images/cal-down.png"})),this.state.associatedClinics.length>0?this.renderAssociateClinic():i.a.createElement("ul",{className:this.state.isShowClinicModal?"cal-dropdown":"cal-dropdown no-display"},i.a.createElement("li",null,i.a.createElement("a",{href:"javascript:void(0);"},i.a.createElement("label",{className:"checkbox"},i.a.createElement("input",{type:"checkbox",defaultValue:9751})," ",this.state.appointmentLang.appointment_all_clinics,i.a.createElement("span",{style:{backgroundColor:"#750808"}})))))),i.a.createElement("a",{className:"new-blue-btn pull-right m-r-5",onClick:this.onSelectSlotBtn},"Add Schedule"))),i.a.createElement("div",{className:"calendar-provider-schedule juvly-section full-width m-t-10",id:"juvly-section"},i.a.createElement(mc.a,{selectable:"ignoreEvents",localizer:Jc,views:["week","day","month"],events:this.state.events,onEventDrop:this.moveEvent,defaultView:"month",view:this.state.calendarView,defaultDate:new Date(2019,0,29),showMultiDayTimes:!0,toolbar:!1,onSelectSlot:this.onSelectSlot,onSelectEvent:this.onSelectEvent,date:this.state.selectedDate,onNavigate:this.onNavigate,onView:this.onView}),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.appointment_processing_please_wait)))),i.a.createElement("div",{className:this.state.isCreateProviderScheduleModal?"modalOverlay":"no-display"},i.a.createElement("div",{className:"small-popup-outer"},i.a.createElement("div",{className:"small-popup-header"},i.a.createElement("div",{className:"popup-name"},this.state.appointmentLang.appointment_create_provider_schedule),i.a.createElement("a",{href:"javascript:void(0);",className:"small-cross",onClick:this.handleCreateProviderScheduleModal},"\xd7")),i.a.createElement("div",{className:"small-popup-content"},i.a.createElement("div",{className:"juvly-container no-padding-bottom",style:this.state.showDatePicker?{minHeight:345}:{}},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-6"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.globalLang.label_date," ",i.a.createElement("span",{className:"required"},"*")),i.a.createElement("div",{className:"setting-input-outer",ref:function(t){return e.refDatePickerContainer=t}},i.a.createElement("a",{href:"javascript:void(0);",className:"client-treat-cal",onClick:this.toggleDatePicker},i.a.createElement("i",{className:"fas fa-calendar-alt"})),i.a.createElement("a",{href:"javascript:void(0);",className:"client-treat-reset",onClick:this.resetDatePicker},i.a.createElement("i",{className:"fas fa-times"})),i.a.createElement(xn.a,{selected:this.state.selectedPickerDate?this.state.selectedPickerDate:null,onChange:this.handleDatePicker,onBlur:this.blurDatePicker,onFocus:this.focusDatePicker,minDate:new Date,maxDate:new Date(Se()().add(5,"years").toDate()),autoComplete:"off",className:this.state.selectedPickerDateClass,dateFormat:"yyyy-MM-dd",ref:function(t){return e.refDatePicker=t},name:"selectedPickerDate",showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select"})))),i.a.createElement("div",{className:"col-xs-6"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.appointmentLang.appointment_repeat_this_till),i.a.createElement("div",{className:"setting-input-outer",ref:function(t){return e.refRepeatDatePickerContainer=t}},i.a.createElement("a",{href:"javascript:void(0);",className:"client-treat-cal",onClick:this.toggleRepeatDatePicker},i.a.createElement("i",{className:"fas fa-calendar-alt"})),i.a.createElement("a",{href:"javascript:void(0);",className:"client-treat-reset",onClick:this.resetRepeatDatePicker},i.a.createElement("i",{className:"fas fa-times",onClick:this.resetRepeatDatePicker})),i.a.createElement(xn.a,{selected:this.state.selectedRepeatPickerDate?this.state.selectedRepeatPickerDate:null,onChange:this.handleRepeatDatePicker,onBlur:this.blurRepeatDatePicker,onFocus:this.focusRepeatDatePicker,className:this.state.selectedRepeatPickerDateClass,dateFormat:"yyyy-MM-dd",minDate:new Date,maxDate:new Date(Se()().add(5,"years").toDate()),name:"selectedRepeatPickerDate",autoComplete:"off",ref:function(t){return e.refRepeatDatePicker=t}}))))),i.a.createElement("div",{className:"business-hours-outer m-t-20"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-4"},"\xa0"),i.a.createElement("div",{className:"col-xs-4"},i.a.createElement("div",{className:"new-field-label"},this.state.appointmentLang.appointment_open_hours)),i.a.createElement("div",{className:"col-xs-4"},i.a.createElement("div",{className:"new-field-label"},this.state.appointmentLang.appointment_close_hours))),this.state.clinicScheduleList&&this.state.clinicScheduleList.map(function(t,a){return t.schedules.map(function(s,n){var r=void 0!=e.state.clinicScheduleListError[a]&&void 0!=e.state.clinicScheduleListError[a].schedules?e.state.clinicScheduleListError[a].schedules[n]:nd();return i.a.createElement("div",{className:"row datetimeparent",key:"schedules-"+a+"-"+n},0==n?i.a.createElement("div",{className:"col-xs-4"},i.a.createElement("label",{className:"setting-week",htmlFor:"Tuesday"},t.name)):i.a.createElement("div",{className:"col-xs-4"},"\xa0"),i.a.createElement("div",{className:"fromandtoTime"},i.a.createElement("div",{className:"col-xs-4"},i.a.createElement(wc.a,{name:"from_time",value:s.from_time,className:r.from_time,onChange:e.handleInputChange,"data-clinicindex":a,"data-scheduleindex":n,placeholder:"00:00",autoComplete:"off",mask:"99:99",maskChar:"",beforeMaskedValueChange:e.maskChange}),i.a.createElement("select",{name:"from_time_option",value:s.from_time_option,className:r.from_time_option,onChange:e.handleInputChange,"data-clinicindex":a,"data-scheduleindex":n},i.a.createElement("option",{value:"AM"},"AM"),i.a.createElement("option",{value:"PM"},"PM"))),i.a.createElement("div",{className:"col-xs-4"},i.a.createElement(wc.a,{name:"to_time",value:s.to_time,className:r.to_time,onChange:e.handleInputChange,"data-clinicindex":a,"data-scheduleindex":n,placeholder:"00:00",autoComplete:"off",mask:"99:99",maskChar:"",beforeMaskedValueChange:e.maskChange}),i.a.createElement("select",{name:"to_time_option",value:s.to_time_option,className:r.to_time_option,onChange:e.handleInputChange,"data-clinicindex":a,"data-scheduleindex":n},i.a.createElement("option",{value:"AM"},"AM"),i.a.createElement("option",{value:"PM"},"PM"))),0===n?i.a.createElement("a",{href:"javascript:void(0);",className:"add-round-btn","data-clinicindex":a,"data-scheduleindex":n,onClick:e.addMultipleSchedule},i.a.createElement("span",{"data-clinicindex":a,"data-scheduleindex":n},"+")):i.a.createElement("a",{href:"javascript:void(0);",className:"add-round-btn","data-clinicindex":a,"data-scheduleindex":n,onClick:e.deleteMultipleSchedule},i.a.createElement("span",{"data-clinicindex":a,"data-scheduleindex":n},"-"))))})})))),i.a.createElement("div",{className:"footer-static"},i.a.createElement("a",{href:"javascript:void(0);",className:"new-blue-btn pull-right",name:"btn_create_schedule",onClick:this.handleSubmitCreate},this.state.globalLang.label_save),i.a.createElement("a",{href:"javascript:void(0);",className:"new-white-btn pull-right",onClick:this.handleCreateProviderScheduleModal},this.state.globalLang.label_cancel)))),i.a.createElement("div",{className:this.state.isGetProviderScheduleModal?"modalOverlay":"no-display"},i.a.createElement("div",{className:"small-popup-outer"},i.a.createElement("div",{className:"small-popup-header"},i.a.createElement("div",{className:"popup-name"},this.state.appointmentLang.appointment_schedule_details),i.a.createElement("a",{href:"javascript:void(0);",className:"small-cross",onClick:this.handleGetProviderScheduleModal},"\xd7")),i.a.createElement("div",{className:"small-popup-content"},i.a.createElement("div",{className:"juvly-container no-padding-bottom",style:this.state.showDatePicker?{minHeight:30}:{}},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.globalLang.label_date),i.a.createElement("div",{className:"setting-input-outer",ref:function(t){return e.refUpdateDatePickerContainer=t}},i.a.createElement("a",{href:"javascript:void(0);",className:this.state.selectedEvent.isPassedDate?"client-treat-cal no-display":"client-treat-cal",onClick:this.toggleUpdateDatePicker},i.a.createElement("i",{className:"fas fa-calendar-alt"})),i.a.createElement("a",{href:"javascript:void(0);",className:this.state.selectedEvent.isPassedDate?"client-treat-reset no-display":"client-treat-reset",onClick:this.resetUpdateDatePicker},i.a.createElement("i",{className:"fas fa-times"})),i.a.createElement(xn.a,{selected:this.state.selectedEvent.date?this.state.selectedEvent.date:null,onChange:this.handleUpdateDatePicker,onBlur:this.blurUpdateDatePicker,onFocus:this.focusUpdateDatePicker,className:this.state.selectedEventError.date,"data-updateschedule":this.state.selectedEvent.id,dateFormat:"yyyy-MM-dd",minDate:new Date,name:"selectedPickerDate",autoComplete:"off",disabled:!!this.state.selectedEvent.isPassedDate,ref:function(t){return e.refUpdateDatePicker=t}})))),i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.globalLang.label_clinic),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("div",{className:"setting-input-box"},this.state.selectedEvent.clinic_name)))),i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.globalLang.label_open),i.a.createElement("div",{className:"setting-input-outer row"},i.a.createElement("div",{className:"col-xs-6"},i.a.createElement(wc.a,{name:"from_time",value:this.state.selectedEvent.from_time,className:this.state.selectedEventError.from_time,"data-updateschedule":this.state.selectedEvent.id,onChange:this.handleInputChange,placeholder:"00:00",autoComplete:"off",mask:"99:99",maskChar:"",beforeMaskedValueChange:this.maskChange,disabled:!!this.state.selectedEvent.isPassedDate})),i.a.createElement("div",{className:"col-xs-6"},i.a.createElement("select",{name:"from_time_option",value:this.state.selectedEvent.from_time_option,className:this.state.selectedEventError.from_time_option,"data-updateschedule":this.state.selectedEvent.id,onChange:this.handleInputChange,disabled:!!this.state.selectedEvent.isPassedDate},i.a.createElement("option",null,"AM"),i.a.createElement("option",null,"PM")))))),i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.globalLang.label_closed),i.a.createElement("div",{className:"setting-input-outer row"},i.a.createElement("div",{className:"col-xs-6"},i.a.createElement(wc.a,{name:"to_time",value:this.state.selectedEvent.to_time,className:this.state.selectedEventError.to_time,"data-updateschedule":this.state.selectedEvent.id,onChange:this.handleInputChange,placeholder:"00:00",autoComplete:"off",mask:"99:99",maskChar:"",beforeMaskedValueChange:this.maskChange,disabled:!!this.state.selectedEvent.isPassedDate})),i.a.createElement("div",{className:"col-xs-6"},i.a.createElement("select",{name:"to_time_option",value:this.state.selectedEvent.to_time_option,className:this.state.selectedEventError.to_time_option,"data-updateschedule":this.state.selectedEvent.id,onChange:this.handleInputChange,disabled:!!this.state.selectedEvent.isPassedDate},i.a.createElement("option",null,"AM"),i.a.createElement("option",null,"PM"))))))))),i.a.createElement("div",{className:"footer-static"},this.state.selectedEvent.isPassedDate?null:i.a.createElement("div",null,i.a.createElement("a",{href:"javascript:void(0);",className:"new-blue-btn pull-right",name:"btn_update_schedule",onClick:this.handleSubmitUpdate},this.state.globalLang.label_save),i.a.createElement("a",{href:"javascript:void(0);",className:"new-red-btn pull-left",onClick:this.handleDeleteModal},this.state.globalLang.label_delete))))),i.a.createElement("div",{className:this.state.isShowDeleteModal?"overlay":""}),i.a.createElement("div",{id:"filterModal",role:"dialog",className:this.state.isShowDeleteModal?"modal fade in displayBlock":"modal fade no-display"},i.a.createElement("div",{className:"modal-dialog"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal",onClick:this.handleDeleteModal},"\xd7"),i.a.createElement("h4",{className:"modal-title",id:"model_title"},this.state.globalLang.delete_confirmation)),i.a.createElement("div",{id:"errorwindow",className:"modal-body add-patient-form filter-patient"},this.state.appointmentLang.provider_schedule_delete_msg),i.a.createElement("div",{className:"modal-footer"},i.a.createElement("div",{className:"col-md-12 text-left",id:"footer-btn"},i.a.createElement("button",{type:"button",className:"btn  logout pull-right","data-dismiss":"modal",onClick:this.handleDeleteModal},this.state.globalLang.label_no),i.a.createElement("button",{type:"button",className:"btn btn-success pull-right m-r-10","data-dismiss":"modal",onClick:this.deleteProviderSchedule},this.state.globalLang.label_yes))))))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}),i.a.createElement(vs.a,{effect:"float",multiline:!0,place:"right"}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};if(void 0!=e.showLoader&&0==e.showLoader)return{showLoader:!1};if(void 0!==e.providerScheduleData&&e.providerScheduleData!==t.providerScheduleData){a.providerScheduleData=e.providerScheduleData,a.providerScheduleList=e.providerScheduleData.provider_schedule,a.showLoader=!1;var s=[];if(t.userChanged)s=t.associatedClinics;else{a.allClinics=e.providerScheduleData.all_clinics,a.providerInfo=e.providerScheduleData.provider_info;var n=[],i=[];e.providerScheduleData.clinics_associated.map(function(e,t){var a=void 0!=Qc[t]?Qc[t]:Qc[1],r=e;r.color=a,r.checked=!1,s.push(r);var o={};o.id=e.id,o.name=e.clinic_name,o.clientName=e.clinic_name,o.title=e.clinic_name,o.schedules=[sd()],n.push(o);var l={};l.id=e.id,l.name=e.clinic_name,l.schedules=[nd()],i.push(l)}),a.associatedClinics=s,a.clinicScheduleList=n,a.clinicScheduleListError=i}var r=[];e.providerScheduleData.provider_schedule.map(function(e,t){var a={};a.id=e.id+"_"+e.clinic_id,a.title=e.clinic?e.clinic.clinic_name:"",a.clientName=a.title,a.title=e.from_time+" - "+e.to_time,a.clinicColor=e.clinic.clinic_color,a.start=new Date(Se()(Se()(e.date_scheduled_event).format("YYYY-MM-DD ")+e.from_time)),a.end=new Date(Se()(Se()(e.date_scheduled_event).format("YYYY-MM-DD ")+e.to_time)),s.map(function(t,s){t.id==e.clinic_id&&(a.color=t.color)}),r.push(a)}),a.events=r}else void 0!=e.reload&&1==e.reload?rt.toast.success(e.message,{onClose:function(){var s="";s="week"==t.calendarView?Zc(t.selectedDate):"day"==t.calendarView?{startDate:t.selectedDate,endDate:t.selectedDate}:$c(t.selectedDate);var n={params:{start_date:ed(s.startDate),end_date:ed(s.endDate)}};t.selectedClinicId&&(n.params.clinic_id=t.selectedClinicId),a.showLoader=!0,e.getProviderScheduleById(n,t.providerId)}}):void 0!=e.redirect&&1==e.redirect?rt.toast.success(e.message,{onClose:function(){e.history.push("/appointment/provider-schedule")}}):void 0!=e.showLoader&&0==e.showLoader&&(a.showLoader=!1);return a}}]),t}(n.Component);var rd=Object(Z.b)(function(e){var t={},a=JSON.parse(localStorage.getItem("languageData"));return"PROVIDER_SCHEDULE_DATA"===e.AppointmentReducer.action?200!=e.AppointmentReducer.data.status?(rt.toast.dismiss(),rt.toast.error(a.global[e.AppointmentReducer.data.message]),t.showLoader=!1):t.providerScheduleData=e.AppointmentReducer.data.data:"CREATE_PROVIDER_SCHEDULE"===e.AppointmentReducer.action?201==e.AppointmentReducer.data.status?(t.reload=!0,t.message=a.global[e.AppointmentReducer.data.message]):(rt.toast.dismiss(),rt.toast.error(a.global[e.AppointmentReducer.data.message]),t.showLoader=!1):"UPDATE_PROVIDER_SCHEDULE"===e.AppointmentReducer.action?200==e.AppointmentReducer.data.status?(t.reload=!0,t.message=a.global[e.AppointmentReducer.data.message]):(rt.toast.dismiss(),rt.toast.error(a.global[e.AppointmentReducer.data.message]),t.showLoader=!1):"DELETE_PROVIDER_SCHEDULE"===e.AppointmentReducer.action?200==e.AppointmentReducer.data.status?(t.reload=!0,t.message=a.global[e.AppointmentReducer.data.message]):(rt.toast.dismiss(),rt.toast.error(a.global[e.AppointmentReducer.data.message]),t.showLoader=!1):"EMPTY_DATA"===e.AppointmentReducer.action&&(t.showLoader=!1),t},function(e){return Object(c.bindActionCreators)({getProviderScheduleById:nl,createProviderSchedule:il,updateProviderSchedule:rl,deleteProviderSchedule:ol},e)})(Object(oc.DragDropContext)(cc.a)(id)),od=function(e){return Se()(e).format("MMMM DD, YYYY")},ld="",cd="",dd=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleClick=function(e){a.refDatePickerContainer&&!a.refDatePickerContainer.contains(e.target)&&(a.refDatePicker.setOpen(!1),a.setState({showDatePicker:!1})),a.refAutoSuggestionClients&&!a.refAutoSuggestionClients.contains(e.target)&&a.setState({showClients:!1})},a.handleDatePicker=function(e){a.setState({selectedPickerDate:e,showDatePicker:!1}),a.refDatePicker.setOpen(!1)},a.resetDatePicker=function(){a.setState({selectedPickerDate:null,showDatePicker:!0}),a.toggleDatePicker()},a.blurDatePicker=function(e){a.refDatePicker.setOpen(!0),a.setState({showDatePicker:!0})},a.focusDatePicker=function(e){a.setState({showDatePicker:!0})},a.toggleDatePicker=function(){a.setState({showDatePicker:!0}),a.refDatePicker.setFocus(!0),a.refDatePicker.setOpen(!0)},a.handleRepeatDatePicker=function(e){a.setState({selectedRepeatPickerDate:e})},a.resetRepeatDatePicker=function(){a.setState({selectedRepeatPickerDate:null}),a.toggleRepeatDatePicker()},a.blurRepeatDatePicker=function(e){a.refRepeatDatePicker.setOpen(!0)},a.toggleRepeatDatePicker=function(){a.refRepeatDatePicker.setFocus(!0),a.refRepeatDatePicker.setOpen(!0)},a.handleSearchDatePicker=function(e){var t={},s=[];t.showLoader=!0,t.searchPickerDate=e,t.selectedDate=e;var n={};if(localStorage.setItem("showLoader",!0),n.date=Se()(e).format("YYYY-MM-DD"),n.clinic_id=a.state.selectedClinic,1==a.state.appointmentType)s=a.getAllServiceIds();else{var i=a.state.packages.find(function(e){return e.id==a.state.selectedPackage});i.service_packages.length>0&&i.service_packages.map(function(e,t){s.push(e.service_id)})}n.appointment_service=s,n.provider_id=a.state.provider,n.appointment_id=0,n.double_booking="false",t.showLoader=!0,a.setState(t),a.props.getProviderTime(n)},a.getDoubleBookingData=function(e){var t={},s=[];t.searchPickerDate=a.state.searchPickerDate,t.selectedDate=a.state.searchPickerDate;var n={};if(localStorage.setItem("showLoader",!0),n.date=Se()(a.state.searchPickerDate).format("YYYY-MM-DD"),n.clinic_id=a.state.selectedClinic,1==a.state.appointmentType)s=a.getAllServiceIds();else{var i=a.state.packages.find(function(e){return e.id==a.state.selectedPackage});i.service_packages.length>0&&i.service_packages.map(function(e,t){s.push(e.service_id)})}n.appointment_service=s,n.provider_id=a.state.provider,n.appointment_id=0,n.double_booking=e?"true":"false",t.showLoader=!0,a.setState(t),a.props.getProviderTime(n)},a.getAllServiceIds=function(e,t){var s=a.state,n=[];for(var i in s)i.startsWith("service-")&&(e&&e==i?n.push(t):n.push(a.state[i]));return n},a.getDuration=function(){var e=a.state,t=0;if(1==a.state.appointmentType)for(var s in e)s.startsWith("service-")&&function(){var e=a.state[s],n=a.state.services.find(function(t){return t.id==e});n.hours&&(t+=parseInt(60*parseInt(n.hours))),n.mins&&(t+=parseInt(n.mins))}();else{var n=a.state.packages.find(function(e){return e.id==a.state.selectedPackage});n.hours&&(t+=parseInt(60*parseInt(n.hours))),n.mins&&(t+=parseInt(n.mins))}return t},a.handleInputChange=function(e){var t=e.target,s=e.target.name,n=t.value,i={};switch(t.type){case"checkbox":n=t.checked}if(i[e.target.name]=n,i.userChanged=!0,"appointmentType"==s&&(i.providers=[],i.includeDates=[],i.providerTime=[]),"selectedClinic"==s&&0!=n){localStorage.setItem("showLoader",!0);var r={};r.clinicId=n,a.props.getServices(r);var o=a.state.clinics.find(function(e){return e.id==n});i.selectedClinicName=o.clinic_name,i.showLoader=!0}if("selectedPackage"==s&&0!=n){localStorage.setItem("showLoader",!0);var l={},c=[],d=a.state.packages.find(function(e){return e.id==n});d&&(i.packageHours=d.hours,i.packageMins=d.mins),d.service_packages.length>0&&d.service_packages.map(function(e,t){c.push(e.service_id)}),l.clinic_id=a.state.selectedClinic,l.service_id=c,i.showLoader=!0,a.props.getProviders(l)}if("provider"==s&&0!=n){localStorage.setItem("showLoader",!0);var m={},u=[];if(1==a.state.appointmentType)u=a.getAllServiceIds(s,n);else{var p=a.state.packages.find(function(e){return e.id==a.state.selectedPackage});p.service_packages.length>0&&p.service_packages.map(function(e,t){u.push(e.service_id)})}m.appointment_service=u,m.clinic_id=a.state.selectedClinic,m.provider_id=n,i.showLoader=!0,a.props.getProviderAvailability(m)}if("card_data"==s&&n){localStorage.setItem("showLoader",!0);var h={};a.state.selectedClientId?(h.clinic_id=a.state.selectedClinic,h.patient_id=a.state.selectedClientId,i.showLoader=!0,a.props.getCardDetails(h)):i.showCCForm=!0}else"card_data"!=s||n||(i.showCCForm=!1);if("notification_type"==s&&n&&(i.notification_body="sms"==n?a.state.appointment_sms:a.state.appointment_email_text),s.startsWith("service-")&&0!=n){localStorage.setItem("showLoader",!0);var g={},_=(a.state,a.state.services.find(function(e){return e.id==n})),v=s.split("-");i["hours-"+v[1]]=_.hours,i["mins-"+v[1]]=_.mins,i.providers=[],i.provider=0;var f=a.getAllServiceIds(s,n);0==f.length&&f.push(n),g.clinic_id=a.state.selectedClinic,g.service_id=f,i.showLoader=!0,a.props.getProviders(g)}if(a.setState(i),"allow_double"==s&&a.state.searchPickerDate)return a.getDoubleBookingData(n),!1},a.selectClient=function(e){var t=e.currentTarget.dataset.id,s=a.state.clients.find(function(e){return e.id==t}),n={};n.clientEmail=s.email,n.selectedClientId=s.id,n.selectedClient=s,n.phone=s.phoneNumber,n.showClients=!1,n.contactError=!1,n.card_data=!1,n.cardNumber="",n.client=Me(s),a.setState(n)},a.handleClientChange=function(e){var t=e.target.value,s=(e.target.name,{});localStorage.setItem("showLoader",!0),s[e.target.name]=t,a.setState(s);var n={};n.client=t,t.length>2&&a.props.searchPatientByName(n)},a.phoneNumberChanged=function(e,t,s,n){e?a.setState({phone:n.replace(/\s/g,""),contactClass:"setting-input-box",contactError:!1}):a.setState({contactClass:"setting-input-box setting-input-box-invalid",contactError:!0,phone:n})},a.addAnotherService=function(e){var t=a.state.serviceArr,s=a.state.serviceArr.length;t.push(s);var n=a.state.serviceArrNames,i={},r={};if(a.state.services.length){var o=a.state.services,l=o[0].name+" ("+o[0].hours+"hrs "+o[0].mins+" mins)";n.push(l),i.serviceArrNames=n,i["hours-"+s]=o[0].hours,i["mins-"+s]=o[0].mins}i.serviceArr=t,a.setState(i);var c=a.getAllServiceIds();r.clinic_id=a.state.selectedClinic,r.service_id=c,a.props.getProviders(r)},a.removeService=function(e){var t=e.currentTarget.dataset.id,s=[],n={},i={},r=a.state;for(var o in r)o.startsWith("service-")&&(s.push(a.state[o]),delete a.state[o]);s.splice(t,1),s.map(function(e,t){n["service-"+t]=e}),n.serviceArr=s,n.showLoader=!0,a.setState(n);var l=a.getAllServiceIds();i.clinic_id=a.state.selectedClinic,i.service_id=l,a.props.getProviders(i)},a.getServiceDetails=function(e){if(a.state.services.length){var t={},s="",n=a.state["service-"+e];return(t=n?a.state.services.find(function(e){return e.id==n}):a.state.services[0])&&(s=t.name+" ("+t.hours+" hrs "+t.mins+" mins)"),s}},a.saveAppointment=function(){var e={},t={},s=[];a.setState({patientNameError:!1,patientEmailError:!1,clinicError:!1,providerError:!1,dateError:!1,timeError:!1});var n=a.state.selectedClient;if(n.id?(e.patient_id=n.id,e.patient_name=Me(n),e.patient_phone=n.phoneNumber,e.patient_email=n.email):(e.patient_name=a.state.client,e.patient_email=a.state.clientEmail,e.patient_phone=a.state.phone),""==e.patient_name.trim())return t.patientNameError=!0,a.setState(t),!1;if(""==e.patient_email.trim()||!nt.a.isEmail(e.patient_email))return t.patientEmailError=!0,a.setState(t),!1;if(!a.state.selectedClinic)return t.clinicError=!0,a.setState(t),!1;if(!a.state.provider)return t.providerError=!0,a.setState(t),!1;if(!a.state.searchPickerDate)return t.dateError=!0,a.setState(t),!1;if(!a.state.actualTime)return t.timeError=!0,a.setState(t),!1;if(e.clinic_id=a.state.selectedClinic,e.patient_name=a.state.client,e.double_booking=a.state.allow_double,e.patient_to_be_charged=0,e.date=Se()(a.state.searchPickerDate).format("YYYY-MM-DD"),e.time=Re(a.state.actualTime,!0),e.notes=a.state.notes,a.state.selectedPackage){var i=a.state.packages.find(function(e){return e.id==a.state.selectedPackage});i.service_packages.length>0&&i.service_packages.map(function(e,t){s.push(e.service_id)}),e.appointment_service=s,e.package=a.state.selectedPackage}else e.appointment_service=a.getAllServiceIds(),e.package=0;e.duration=a.getDuration(),e.provider_id=a.state.provider,localStorage.setItem("showLoader",!0),a.setState({showLoader:!0}),a.state.card_data&&a.state.showCCForm?a.state.stripe.createToken(ld).then(function(t){if(t.error)return rt.toast.error(t.error.message),localStorage.setItem("showLoader",!1),a.setState({showLoader:!1}),!1;(cd=t.token.id)&&(e.stripeToken=cd,e.isAddClicked=!0,e["cc-check"]=1,a.state.editAppointmentId?(e.appointment_id=a.state.editAppointmentId,a.setState({formData:e}),a.props.getAppointmentFees(a.state.editAppointmentId)):a.props.saveAppointment(e))}):a.state.editAppointmentId?(a.state.card_data&&(e["cc-check"]=1),e.appointment_id=a.state.editAppointmentId,a.setState({formData:e,showLoader:!0}),a.props.getAppointmentFees(a.state.editAppointmentId)):(e.appointment_id=0,a.setState({showLoader:!0}),a.props.saveAppointment(e))},a.toggleCCForm=function(){a.setState({showCCForm:!a.state.showCCForm,cardNumber:""})},a.sendNotification=function(){var e={};if(!a.state.notification_body.trim())return!1;localStorage.setItem("showLoader",!0),a.setState({showLoader:!0}),e.notification_type=a.state.notification_type,e.notification_body=a.state.notification_body,e.appointment_sms=a.state.appointment_sms,e.appointment_subject=a.state.appointment_subject,e.appointment_id=a.state.appointment_id,a.props.sendNotification(e)},a.chargeAndReschedule=function(e){var t=e.currentTarget.dataset.charge,s=a.state.formData;s.patient_to_be_charged=t?1:0,t&&(a.setState({showLoader:!0}),a.props.saveAppointment(s))},a.dismissModal=function(){a.setState({showModal:!1,userChanged:!0})};var s=JSON.parse(localStorage.getItem("languageData"));return a.state={clients:[],services:[],packages:[],providers:[],clinics:[],showClients:!1,defaultCountry:"us",contactClass:"setting-input-box",clientEmail:"",appointmentType:1,serviceArr:[0],selectedClinicName:"",serviceArrNames:[],selectedClient:{},providerAvailability:[],showSelectedDate:"",searchPickerDate:"",includeDates:[],providerTime:[],showLoader:!1,actualTime:"",client:"",isPosEnabled:!1,showCCForm:!1,showNotifyPop:!1,card_data:"",cardNumber:"",cardDetails:{},allow_double:0,appointmentNotificationData:[],notification_type:"email",appointmentLang:s.appointments,userChanged:!1,patientNameError:!1,patientEmailError:!1,providerError:!1,clinicError:!1,dateError:!1,timeError:!1,showModal:!1,mode:"Create"},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidUpdate",value:function(e,t){if(t.selectedClinic!=this.state.selectedClinic&&this.state.selectedClinic&&this.props.checkePosEnabled(this.state.selectedClinic),t.stripe!=this.state.stripe){var a=this.state.stripe.elements();(ld=a.create("cardNumber")).mount("#card-number"),a.create("cardExpiry").mount("#card-expiry"),a.create("cardCvc").mount("#card-cvc")}}},{key:"componentDidMount",value:function(){var e={};window.Stripe?e.stripe=window.Stripe(Ee.STRIPE_PUBLISHABLE_KEY):document.querySelector("#stripe-js").addEventListener("load",function(){e.stripe=window.Stripe(Ee.STRIPE_PUBLISHABLE_KEY)}),localStorage.setItem("showLoader",!0),e.showLoader=!0,this.props.getClinics(),this.props.match.params.id&&(e.showLoader=!0,void 0!=this.props.match.params.mode&&"reschedule"==this.props.match.params.mode?e.mode="Reschedule":e.mode="Edit",e.editAppointmentId=this.props.match.params.id,this.props.getAppointment(this.props.match.params.id,"edit")),this.props.match.params.clientId&&(e.clientId=this.props.match.params.clientId,this.props.getClientData(this.props.match.params.clientId)),this.setState(e),document.addEventListener("click",this.handleClick,!1)}},{key:"render",value:function(){var e,t=this,a="",s="",n="",r="";(e=this.state.mode,this.state.selectedClient.firstname&&(a=Me(this.state.selectedClient)),""==a&&(a=this.state.client),this.state.selectedClient.email&&(s=this.state.selectedClient.email),""==s&&(s=this.state.clientEmail),this.state.selectedClient.phoneNumber&&(r=this.state.selectedClient.phoneNumber),""==r&&(r=this.state.phone),this.state.provider)&&(n=Me(this.state.providers.find(function(e){return e.id==t.state.provider})));return i.a.createElement("div",null,i.a.createElement("div",{className:"awesome",style:{border:"1px solid red"}},i.a.createElement("label",{htmlFor:"name"},this.state.appointmentLang.appointment_enter_ur_name,": "),i.a.createElement("input",{type:"text",id:"name"})),i.a.createElement("p",null,this.state.appointmentLang.appointment_enter_your," "),i.a.createElement("div",null,i.a.createElement("div",{className:"create-appoint-popup"},i.a.createElement("div",{className:"create-appoint-title"},i.a.createElement(me.a,{to:"/appointment/index",className:"back-txt"},i.a.createElement("img",{src:"/images/back-arrow.png"}),"\xa0 ",this.state.appointmentLang.appointment_calender)),i.a.createElement("div",{className:"table popup-new-container"},i.a.createElement("div",{className:"table-row"},i.a.createElement("div",{className:"table-cell popup-left-section"},i.a.createElement("div",{className:"popup-left-title"},this.state.appointmentLang.appointment_book_an),i.a.createElement("div",{className:"left-field-outer"},i.a.createElement("label",{className:"popup-input-label"},this.state.appointmentLang.appointment_clinic),i.a.createElement("div",{className:"popup-input-box",id:"clinic_left_side_label"},this.state.selectedClinicName)),i.a.createElement("div",{className:"left-field-outer"},i.a.createElement("label",{className:"popup-input-label",id:"Service_package_left_lable"},this.state.appointmentLang.appointment_service_services),i.a.createElement("div",{className:"popup-input-box",id:"service_left_side_label"},this.state.serviceArr.map(function(e,a){return i.a.createElement("span",{key:"serviceDetails-"+a},t.getServiceDetails(a),i.a.createElement("br",null))}))),i.a.createElement("div",{className:"left-field-outer"},i.a.createElement("label",{className:"popup-input-label"},this.state.appointmentLang.appointment_medical_provider_label),i.a.createElement("div",{className:"popup-input-box",id:"provider_left_side_label"},n)),i.a.createElement("div",{className:"left-field-outer"},i.a.createElement("label",{className:"popup-input-label"},this.state.appointmentLang.appointment_date_time_label),i.a.createElement("div",{className:"popup-input-box",id:"datetime_left_side_label"},(""!=this.state.searchPickerDate?od(this.state.searchPickerDate):"")+"  "+(this.state.actualTime?this.state.actualTime:""))),i.a.createElement("div",{className:"left-field-outer"},i.a.createElement("label",{className:"popup-input-label"},this.state.appointmentLang.appointment_client),i.a.createElement("div",{className:"popup-input-box",id:"patient_left_side_label"},a)),i.a.createElement("div",{className:"left-field-outer"},i.a.createElement("label",{className:"popup-input-label"},this.state.appointmentLang.appointment_email),i.a.createElement("div",{className:"popup-input-box",id:"email_left_side_label"},s," ")),i.a.createElement("div",{className:"left-field-outer"},i.a.createElement("label",{className:"popup-input-label"},this.state.appointmentLang.appointment_phone),i.a.createElement("div",{className:"popup-input-box",id:"phone_left_side_label"},r)),i.a.createElement("div",{className:"left-field-outer"},i.a.createElement("label",{className:"popup-input-label"},this.state.appointmentLang.appointment_notes_label),i.a.createElement("div",{className:"popup-input-box",id:"notes_left_side_label"},this.state.notes)),i.a.createElement("div",{className:"left-field-outer"},i.a.createElement("label",{className:"popup-input-label"},this.state.appointmentLang.appointment_service_appointments),i.a.createElement("div",{className:"popup-input-box",id:"previous_appointments"},i.a.createElement("ul",{className:"past-appointments"},this.state.selectedClient&&this.state.selectedClient.upcoming_appointments&&this.state.selectedClient.upcoming_appointments.length>0&&this.state.selectedClient.upcoming_appointments.map(function(e,t){var a="";return e.appointment_services.length&&e.appointment_services.map(function(e,t){a+=(""!=a?a+" ,":"")+(e.service?e.service.name:"")}),i.a.createElement("li",{key:"upcoming-"+t},i.a.createElement("span",{className:"app_status_span upcoming"},"upcoming")," ",e.appointment_datetime,i.a.createElement("div",null," at ",e.clinic.clinic_name),i.a.createElement("div",null,"with ",Me(e.user)),i.a.createElement("div",null,"for ",a))}))))),i.a.createElement("div",{className:"table-cell popup-right-section"},i.a.createElement("div",{className:"popup-right-form-outer"},i.a.createElement("div",{className:"setting-title m-b-40"},e," Appointment",i.a.createElement("a",{"data-url":"/settings/clinics",className:"pull-right cancelAction"})),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-4 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer relative"},i.a.createElement("div",{className:"new-field-label"},this.state.appointmentLang.appointment_client),i.a.createElement("input",{className:this.state.patientNameError?"setting-input-box field-error":"setting-input-box",name:"client",value:this.state.client,onChange:this.handleClientChange,type:"text",disabled:this.state.editAppointmentId?"disabled":""}),i.a.createElement("ul",{className:this.state.clients.length&&this.state.showClients?" search-dropdown":"cal-dropdown clinicname-dropdown no-display",ref:function(e){return t.refAutoSuggestionClients=e}},this.state.clients.length&&this.state.clients.map(function(e,a){return i.a.createElement("li",{key:"client-"+a,"data-id":e.id,onClick:t.selectClient},i.a.createElement("a",null,e&&Me(e)))})))),i.a.createElement("div",{className:"col-md-4 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.appointmentLang.appointment_email),i.a.createElement("input",{className:this.state.patientEmailError?"setting-input-box field-error":"setting-input-box",type:"text",name:"clientEmail",value:this.state.clientEmail,onChange:this.handleInputChange,disabled:this.state.editAppointmentId?"disabled":""}))),i.a.createElement("div",{className:"col-md-4 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.appointmentLang.appointment_phone),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement(zt.a,{preferredCountries:["tw"],css:["intl-tel-input",this.state.contactClass],utilsScript:"libphonenumber.js",value:this.state.phone?this.state.phone:"",defaultCountry:this.state.defaultCountry,fieldName:"phone",onPhoneNumberChange:this.phoneNumberChanged,onPhoneNumberBlur:this.phoneNumberChanged,placeholder:"Phone Number",disabled:this.state.editAppointmentId?"disabled":""}))))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.appointmentLang.appointment_notes),i.a.createElement("textarea",{className:"setting-textarea-box appoint-note",name:"notes",value:this.state.notes,onChange:this.handleInputChange,disabled:"Reschedule"==this.state.mode?"disabled":""}," ")))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.appointmentLang.appointment_clinic),i.a.createElement("select",{className:this.state.clinicError?"setting-select-box field-error":"setting-select-box",name:"selectedClinic",value:this.state.selectedClinic,onChange:this.handleInputChange,disabled:"Reschedule"==this.state.mode?"disabled":""},i.a.createElement("option",{value:0},this.state.appointmentLang.appointment_select_clinic),this.state.clinics&&this.state.clinics.length>0&&this.state.clinics.map(function(e,t){return i.a.createElement("option",{value:e.id,key:"clinic-"+e.id},e.clinic_name)})))),i.a.createElement("div",{className:"col-md-6 col-xs-12"},i.a.createElement("div",{className:this.state.selectedClinic?"setting-field-outer":"setting-field-outer no-display"},i.a.createElement("div",{className:"new-field-label"},this.state.appointmentLang.appointment_type),i.a.createElement("select",{className:"setting-select-box",name:"appointmentType",value:this.state.appointmentType,onChange:this.handleInputChange,disabled:"Reschedule"==this.state.mode?"disabled":""},i.a.createElement("option",{value:"1"},this.state.appointmentLang.appointment_service_services),i.a.createElement("option",{value:"2"},this.state.appointmentLang.appointment_packages)))),i.a.createElement("div",{className:1==this.state.appointmentType?"col-md-6 col-sm-12 col-xs-12":"col-md-6 col-sm-12 col-xs-12 no-display"},i.a.createElement("div",{className:this.state.selectedClinic?"setting-field-outer":"setting-field-outer no-display"},i.a.createElement("div",{className:"new-field-label"},this.state.appointmentLang.appointment_services_label),this.state.serviceArr.map(function(e,a){return i.a.createElement("div",{className:"setting-input-box add-services relative",key:"serviceArr-"+a},i.a.createElement("select",{name:"service-"+a,value:t.state["service-"+a],onChange:t.handleInputChange,className:"setting-select-box",disabled:"Reschedule"==t.state.mode?"disabled":""},i.a.createElement("option",{value:0},t.state.appointmentLang.appointment_please_select),t.state.services.length>0&&t.state.services.map(function(e,t){return i.a.createElement("option",{value:e.id,key:"servicesOptions-"+e.id},e.name)})),i.a.createElement("input",{className:"",type:"text",placeholder:"Hrs",disabled:"true",value:t.state["hours-"+a],onChange:t.handleInputChange}),i.a.createElement("input",{className:"",type:"text",placeholder:"min",disabled:"true",value:t.state["mins-"+a],onChange:t.handleInputChange}),i.a.createElement("a",{className:a>0?"add-round-btn":"add-round-btn no-display",onClick:t.removeService,"data-id":a},i.a.createElement("span",null,"-")))}),i.a.createElement("div",{className:this.state.services.length>0?"Reschedule"==this.state.mode?"input-outer clint-name add-another-service no-display":"input-outer clint-name add-another-service":"input-outer clint-name add-another-service no-display"},i.a.createElement("input",{className:"form-control",id:"add-more-service",value:"Add another service",type:"button",onClick:this.addAnotherService})))),i.a.createElement("div",{className:2==this.state.appointmentType?"col-md-6 col-sm-12 col-xs-12":"col-md-6 col-sm-12 col-xs-12 no-display"},i.a.createElement("div",{className:this.state.selectedClinic?"setting-field-outer":"setting-field-outer no-display"},i.a.createElement("div",{className:"new-field-label"},this.state.appointmentLang.appointment_package_label),i.a.createElement("div",{className:"setting-input-box add-services relative"},i.a.createElement("select",{className:"setting-select-box",value:this.state.selectedPackage,onChange:this.handleInputChange,name:"selectedPackage",disabled:"Reschedule"==this.state.mode?"disabled":""},i.a.createElement("option",{value:0},this.state.appointmentLang.appointment_please_select),this.state.packages.length>0&&this.state.packages.map(function(e,t){return i.a.createElement("option",{value:e.id,key:"packages-"+e.id},e.name)})),i.a.createElement("input",{className:"",type:"text",placeholder:"Hrs",value:this.state.packageHours}),i.a.createElement("input",{className:"",type:"text",placeholder:"min",value:this.state.packageMins})))),i.a.createElement("div",{className:"col-md-6 col-sm-12 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.appointmentLang.appointment_provider),i.a.createElement("select",{className:this.state.providerError?"setting-select-box field-error":"setting-select-box",name:"provider",value:this.state.provider,onChange:this.handleInputChange,disabled:"Reschedule"==this.state.mode?"disabled":""},i.a.createElement("option",{value:0},this.state.appointmentLang.appointment_please_select),this.state.providers.length>0&&this.state.providers.map(function(e,t){return i.a.createElement("option",{value:e.id,key:"providers-"+e.id},e&&Me(e))})))),i.a.createElement("div",{class:"col-xs-12"},i.a.createElement("p",{class:"reschedule-msg"},"Sorry, selected date and time 05/08/2019 1:15 PM is not available for this appointment as per services and providers. Please select from available time below.")),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.appointmentLang.appointment_day),i.a.createElement("div",{className:"setting-input-outer appointmant-date-picker",ref:function(e){return t.refDatePickerContainer=e}},i.a.createElement("i",{className:"fas fa-calendar-alt client-treat-cal",ref:function(e){return t.refDatePicker=e}}),i.a.createElement(xn.a,{value:this.state.searchPickerDate?od(this.state.searchPickerDate):null,onChange:this.handleSearchDatePicker,className:this.state.dateError||"setting-input-box"?"setting-input-box":"setting-field-outer no-display",dateFormat:"YYYY-MM-dd",includeDates:this.state.includeDates,name:"searchPickerDate",selected:""!=this.state.searchPickerDate?this.state.searchPickerDate:null,autoComplete:"off",showDisabledMonthNavigation:!0,ref:function(e){return t.refDatePicker=e}})))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer no-margin"},i.a.createElement("div",{className:"new-field-label"},this.state.appointmentLang.appointment_time),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("select",{className:this.state.timeError?"setting-select-box field-error":"setting-select-box",name:"actualTime",value:this.state.actualTime,onChange:this.handleInputChange},i.a.createElement("option",{value:0},this.state.appointmentLang.appointment_please_select),this.state.providerTime.length>0&&this.state.providerTime.map(function(e,t){return i.a.createElement("option",{value:e,key:"providers-"+t},e)}))),i.a.createElement("div",{className:"important-instruction m-t-15 text-right"})))))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("p",{className:"Reschedule"==this.state.mode?"p-text allow-double-booking no-display":"p-text allow-double-booking"},i.a.createElement("input",{type:"checkbox",className:"new-check",id:"double-booking",name:"allow_double",checked:!!this.state.allow_double&&"checked",onChange:this.handleInputChange}),i.a.createElement("label",{htmlFor:"double-booking"},this.state.appointmentLang.appointment_double_booking)),i.a.createElement("p",{className:this.state.isPosEnabled&&!this.state.editAppointmentId?"p-text allow-double-booking m-b-20":"p-text allow-double-booking no-display"},i.a.createElement("input",{type:"checkbox",className:"new-check",name:"card_data",checked:!!this.state.card_data&&"checked",onChange:this.handleInputChange}),i.a.createElement("label",{htmlFor:"double-booking"},this.state.appointmentLang.appointment_enter_card_details)),i.a.createElement("div",{className:this.state.cardNumber&&this.state.card_data?"form-group row right-field-outer app-card-detail cc-detail":"form-group row right-field-outer app-card-detail cc-detail no-display"},i.a.createElement("div",{className:"col-sm-12"},i.a.createElement("label",{className:"popup-input-label"},this.state.appointmentLang.appointment_ur_card_details),i.a.createElement("div",{className:"popup-input-box"},i.a.createElement("label",{id:"savedCC"},this.state.cardNumber),i.a.createElement("a",{className:"normal-link pull-right addNewCard",onClick:this.toggleCCForm},this.state.appointmentLang.appointment_add_edit_card)))),i.a.createElement("div",{className:this.state.showCCForm?"row":"row no-display"},i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.appointmentLang.appointment_credit_card_no,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-box",id:"card-number"}))),i.a.createElement("div",{className:"col-sm-4 col-xs-6"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.appointmentLang.appointment_expiration_date," ",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-box",id:"card-expiry"}))),i.a.createElement("div",{className:"col-sm-4 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.appointmentLang.appointment_cvc,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-box",id:"card-cvc"})))),i.a.createElement("a",{className:"new-blue-btn save-appoint-btn",onClick:this.saveAppointment},this.state.appointmentLang.appointment_sales_label)))))))),i.a.createElement("div",{className:this.state.showNotifyPop?"modalOverlay":"modalOverlay no-display"},i.a.createElement("div",{className:"small-popup-outer appointment-detail-main"},i.a.createElement("div",{className:"small-popup-header"},i.a.createElement("div",{className:"popup-name"},this.state.appointmentLang.appointment_send_notification),i.a.createElement("a",{onClick:function(){t.setState({showNotifyPop:!t.state.showNotifyPop}),t.props.history.push("/appointment/index")},className:"small-cross"},"\xd7")),i.a.createElement("div",{className:"small-popup-content"},i.a.createElement("div",{className:"juvly-container no-padding-bottom"},i.a.createElement("div",{className:"juvly-subtitle"},this.state.appointmentLang.appointment_your," ",this.state.noti_type," ",this.state.appointmentLang.appointment_successfully),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},Me(this.state.selectedClient)," ",this.state.appointmentLang.appoinment_will_be_notified,":"),i.a.createElement("select",{className:"setting-select-box",name:"notification_type",onChange:this.handleInputChange,value:this.state.notification_type},i.a.createElement("option",{value:"email"},this.state.appointmentLang.appointment_email),i.a.createElement("option",{value:"sms"},this.state.appointmentLang.appointment_sms),i.a.createElement("option",{value:"emailAndSms"},this.state.appointmentLang.appointment_both))))),i.a.createElement("p",{className:"p-text"},this.state.appointmentLang.appointment_notification_message,i.a.createElement("br",null),this.state.appointmentLang.appointment_top_notification),i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("textarea",{className:"setting-textarea-box h-130 scroll-y",name:"notification_body",onChange:this.handleInputChange,value:this.state.notification_body},this.state.notification_body)))),i.a.createElement("div",{className:"footer-static"},i.a.createElement(me.a,{to:"/appointment/index",className:"new-red-btn pull-left"},this.state.appointmentLang.appointment_dont_send_notification),i.a.createElement("a",{className:"new-blue-btn pull-right",onClick:this.sendNotification},this.state.appointmentLang.appointment_send_notification)))),i.a.createElement("div",{className:this.state.showModal?"overlay":""}),i.a.createElement("div",{id:"filterModal",role:"dialog",className:this.state.showModal?"modal fade in displayBlock":"modal fade"},i.a.createElement("div",{className:"modal-dialog"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal",onClick:this.dismissModal},"\xd7"),i.a.createElement("h4",{className:"modal-title",id:"model_title"},this.state.appointmentLang.appointment_rescheduling_fee," ",this.state.cancellation_fee,". ",this.state.appointmentLang.appointment_want_to_do)),i.a.createElement("div",{id:"errorwindow",className:"modal-body add-patient-form filter-patient"},this.state.delete_warning),i.a.createElement("div",{className:"modal-footer"},i.a.createElement("div",{className:"col-md-12 text-left",id:"footer-btn"},i.a.createElement("button",{type:"button",className:"btn  logout pull-right","data-dismiss":"modal","data-charge":!1,onClick:this.chargeAndReschedule},"Reschedule & Dont Charge"),i.a.createElement("button",{type:"button",className:"btn btn-success pull-right m-r-10","data-dismiss":"modal","data-charge":!0,onClick:this.chargeAndReschedule},"Reschedule & Charge"))))))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock positionFixed":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.appointmentLang.appointment_processing_please_wait))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};if(void 0!=e.showLoader&&0==e.showLoader&&"false"==localStorage.getItem("showLoader")&&(a.showLoader=!1),void 0!=e.clinics&&e.clinics!==t.clinics&&"false"==localStorage.getItem("showLoader")&&(a.clinics=e.clinics,t.editAppointmentId||(a.showLoader=!1)),void 0!=e.redirect&&e.redirect!==t.redirect&&"false"==localStorage.getItem("showLoader")&&e.history.push("/appointment/index"),void 0!=e.appointmentFees&&e.appointmentFees!==t.appointmentFees&&"false"==localStorage.getItem("showLoader")&&(e.appointmentFees.cancellation_fee?(a.cancellation_fee=e.appointmentFees.cancellation_fee,a.showLoader=!1,a.showModal=!t.showModal,localStorage.setItem("showLoader",!0)):e.saveAppointment(t.formData)),void 0!=e.selectedClientData&&e.selectedClientData!==t.selectedClientData&&"false"==localStorage.getItem("showLoader")){var s=e.selectedClientData;a.selectedClientData=s,a.clientEmail=s.email,a.selectedClientId=s.id,a.selectedClient=s,a.phone=s.phoneNumber,a.showClients=!1,a.contactError=!1,a.card_data=!1,a.cardNumber="",a.client=Me(s)}if(void 0!=e.notificationSent&&1==e.notificationSent&&"false"==localStorage.getItem("showLoader")&&(rt.toast.success(e.message),a.showLoader=!1,a.showNotifyPop=!1,e.history.push("/appointment/index")),void 0!=e.appointmentNotificationData&&e.appointmentNotificationData!==t.appointmentNotificationData&&"false"==localStorage.getItem("showLoader")&&(a.showNotifyPop=!0,a.appointment_email_text=t.userChanged&&t.appointment_email_text?t.appointment_email_text:e.appointmentNotificationData.appointment_email_text,a.appointment_sms=t.userChanged&&t.appointment_sms?t.appointment_sms:e.appointmentNotificationData.appointment_sms,a.appointment_subject=t.userChanged&&t.appointment_subject?t.appointment_subject:e.appointmentNotificationData.appointment_subject,a.noti_type=e.appointmentNotificationData.noti_type,a.notification_body=t.userChanged&&t.notification_body?t.notification_body:e.appointmentNotificationData.appointment_email_text,a.appointment_id=e.appointmentNotificationData.appointment_id,a.showLoader=!1,a.showModal=!1),void 0!=e.isPosEnabled&&e.isPosEnabled&&"false"==localStorage.getItem("showLoader")&&(a.isPosEnabled=parseInt(e.isPosEnabled.data),a.showLoader=!1),void 0!=e.cardDetails&&e.cardDetails!==t.cardDetails&&"false"==localStorage.getItem("showLoader")&&(e.cardDetails.card_number?a.cardNumber=e.cardDetails.card_number:a.showCCForm=!0,a.cardDetails=e.cardDetails,a.showLoader=!1),void 0!=e.appointmentData&&e.appointmentData!==t.appointmentData){var n={};if(function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(e.appointmentData)){var i;i={appointmentData:{},client:"",clientEmail:"",phoneNumber:"",selectedClient:"",phone:"",notes:"",selectedClinic:"",selectedClinicName:"",appointmentType:1,services:[],packages:[],serviceArr:[0],providers:"",provider:"",searchPickerDate:"",actualTime:"",providerTime:[],includeDates:[],showLoader:!1,isPosEnabled:!1},Object(se.a)(i,"actualTime",0),Object(se.a)(i,"contactClass","setting-input-box"),n=i}else{n.appointmentData=e.appointmentData,n.appointment_details=e.appointmentData.appointment_details,n.isPosEnabled=!1,n.client=Me(e.appointmentData.appointment_details.patient),n.selectedClientId=e.appointmentData.appointment_details.patient.id,n.selectedClient=e.appointmentData.appointment_details.patient,n.clientEmail=e.appointmentData.appointment_details.patient.email,n.phone=e.appointmentData.appointment_details.patient.phoneNumber,n.notes=e.appointmentData.appointment_details.appointment_booking.appointment_notes,n.selectedClinic=e.appointmentData.appointment_details.clinic.id,n.selectedClinicName=e.appointmentData.appointment_details.clinic.clinic_name,n.appointmentType=e.appointmentData.appointment_details.package?2:1,n.services=e.appointmentData.all_services_and_packages.services,n.packages=e.appointmentData.all_services_and_packages.packages,n.serviceArr=e.appointmentData.appointment_details.appointment_services,n.providers=e.appointmentData.all_providers,n.provider=e.appointmentData.appointment_details.provider.id,n.searchPickerDate=Se()(e.appointmentData.appointment_details.date).toDate(),n.actualTime=ke(e.appointmentData.appointment_details.time)+" "+Pe(e.appointmentData.appointment_details.time),e.appointmentData.appointment_details.appointment_services.length>0&&e.appointmentData.appointment_details.appointment_services.map(function(e,t){n["service-"+t]=e.service_id,n["hours-"+t]=e.service.hours,n["mins-"+t]=e.service.mins});var r=[];e.appointmentData.schedules.length>0&&e.appointmentData.available_times.map(function(e,t){r.push(ke(e)+" "+Pe(e))}),n.providerTime=r;var o=[];e.appointmentData.schedules.length>0&&e.appointmentData.schedules.map(function(e,t){o.push(Se()(e).toDate())}),n.includeDates=o,n.showLoader=!1}return n.userChanged=!1,n}if(void 0!=e.providerAvailability&&e.providerAvailability!==t.providerAvailability&&"false"==localStorage.getItem("showLoader")){var l=[];e.providerAvailability.length>0&&e.providerAvailability.map(function(e,t){l.push(Se()(e).toDate())}),a.providerAvailability=l,a.includeDates=l,a.showLoader=!1}if(void 0!=e.providerTime&&e.providerTime!==t.providerTime&&"false"==localStorage.getItem("showLoader")){var c=[];e.providerTime.length>0&&e.providerTime.map(function(e,t){c.push(ke(e)+" "+Pe(e))}),a.providerTime=c,a.showLoader=!1}return void 0!=e.providers&&e.providers!==t.providers&&"false"==localStorage.getItem("showLoader")&&(a.providers=e.providers,a.showLoader=!1),void 0!=e.servicePackageData&&e.servicePackageData!==t.servicePackageData&&"false"==localStorage.getItem("showLoader")&&(a.servicePackageData=e.servicePackageData,a.services=e.servicePackageData.services,a.packages=e.servicePackageData.packages,a.serviceArr=e.servicePackageData.services.length?[e.servicePackageData.services[0].id]:0,a.serviceArrNames=e.servicePackageData.services.length?[e.servicePackageData.services[0].name+" ("+e.servicePackageData.services[0].hours+"hrs "+e.servicePackageData.services[0].mins+" mins)"]:0),void 0!=e.clients&&e.clients!==t.clients&&"false"==localStorage.getItem("showLoader")&&(0==e.clients.length&&(a.clientEmail="",a.phone="",a.selectedClient={}),a.clients=e.clients,a.showClients=!0,a.showLoader=!1),a}}]),t}(n.Component);var md=Object(Z.b)(function(e){var t={};if(""!==e.AppointmentReducer.action){var a=JSON.parse(localStorage.getItem("languageData"));rt.toast.dismiss(),localStorage.setItem("showLoader",!1),"GET_CLINICS"===e.AppointmentReducer.action?200!=e.AppointmentReducer.data.status?(rt.toast.error(a.global[e.AppointmentReducer.data.message]),t.showLoader=!1):t.clinics=e.AppointmentReducer.data.data:"GET_PROVIDERS"===e.AppointmentReducer.action?200!=e.AppointmentReducer.data.status?(rt.toast.error(a.global[e.AppointmentReducer.data.message]),t.showLoader=!1):t.providers=e.AppointmentReducer.data.data:"GET_SERVICES"===e.AppointmentReducer.action?200!=e.AppointmentReducer.data.status?(rt.toast.error(a.global[e.AppointmentReducer.data.message]),t.showLoader=!1):t.servicePackageData=e.AppointmentReducer.data.data:"SEARCH_PATIENTS"===e.AppointmentReducer.action?200!=e.AppointmentReducer.data.status?(rt.toast.error(a.global[e.AppointmentReducer.data.message]),t.showLoader=!1):t.clients=e.AppointmentReducer.data.data:"GET_PROVIDER_AVAILABILITY"===e.AppointmentReducer.action?200!=e.AppointmentReducer.data.status?(rt.toast.error(a.global[e.AppointmentReducer.data.message]),t.showLoader=!1):t.providerAvailability=e.AppointmentReducer.data.data:"GET_PROVIDER_TIME"===e.AppointmentReducer.action?200!=e.AppointmentReducer.data.status?(rt.toast.error(a.global[e.AppointmentReducer.data.message]),t.showLoader=!1):t.providerTime=e.AppointmentReducer.data.data:"SAVE_APPOINTMENT"===e.AppointmentReducer.action?201!=e.AppointmentReducer.data.status?(rt.toast.error(a.global[e.AppointmentReducer.data.message]),t.showLoader=!1):(t.appointmentSaveMessage=a.global[e.AppointmentReducer.data.message],t.appointmentNotificationData=e.AppointmentReducer.data.data):"APPOINTMENT_EDIT_GET"===e.AppointmentReducer.action?200!=e.AppointmentReducer.data.status?(rt.toast.error(a.global[e.AppointmentReducer.data.message]),t.showLoader=!1):t.appointmentData=e.AppointmentReducer.data.data:"EMPTY_DATA"===e.AppointmentReducer.action?200!=e.AppointmentReducer.data.status?(rt.toast.error(a.global[e.AppointmentReducer.data.message]),t.showLoader=!1):t.appointmentData={}:"CHECK_POS_ENABLED"===e.AppointmentReducer.action?200!=e.AppointmentReducer.data.status?(rt.toast.error(a.global[e.AppointmentReducer.data.message]),t.showLoader=!1):t.isPosEnabled=e.AppointmentReducer.data:"GET_CARD_DETAILS"===e.AppointmentReducer.action?200!=e.AppointmentReducer.data.status?(rt.toast.error(a.global[e.AppointmentReducer.data.message]),t.showLoader=!1):t.cardDetails=e.AppointmentReducer.data.data:"SEND_NOTIFICATION"===e.AppointmentReducer.action?200!=e.AppointmentReducer.data.status?(rt.toast.error(a.global[e.AppointmentReducer.data.message]),t.showLoader=!1):(t.message=a.global[e.AppointmentReducer.data.message],t.notificationSent=!0):"APPOINTMENT_FEES"===e.AppointmentReducer.action?200!=e.AppointmentReducer.data.status?(rt.toast.error(a.global[e.AppointmentReducer.data.message]),t.showLoader=!1):t.appointmentFees=e.AppointmentReducer.data.data:"CLIENT_DATA_APPOINTMENT"===e.AppointmentReducer.action&&(200!=e.AppointmentReducer.data.status?(rt.toast.error(a.global[e.AppointmentReducer.data.message]),t.showLoader=!1,t.redirect=!0):t.selectedClientData=e.AppointmentReducer.data.data)}return t},function(e){return Object(c.bindActionCreators)({searchPatientByName:Nl,getClinics:Sl,getProviders:Dl,getServices:xl,getProviderAvailability:wl,getProviderTime:Cl,saveAppointment:Ol,getAppointment:Ll,exportEmptyData:El,checkePosEnabled:Pl,getCardDetails:kl,sendNotification:jl,getAppointmentFees:Ml,getClientData:Gl},e)})(Object(de.a)(dd)),ud="YYYY-MM-DD",pd=function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleClick=function(e){a.refDateRangePickerContainer.contains(e.target)&&!0===a.state.showCalendar||a.toggleCalendar(e.target)},a.toggleCalendar=function(e){if("calendar-input"===e.name||!1!==a.state.showCalendar){var t=!1;t=!1===a.state.showCalendar&&void 0!==e.name&&"calendar-input"===e.name,a.setState({showCalendar:t})}},a.onChangeDateRange=function(e){var t=e.selection.startDate,s=e.selection.endDate;a.setState({showCalendar:!1,startDate:t,endDate:s}),a.props.handleChildDateRange({startDate:Se()(t).format(ud),endDate:Se()(s).format(ud)})},a.handleInputChange=function(e){var t=e.target,s="checkbox"===t.type?t.checked:t.value;a.setState(Object(se.a)({},e.target.name,s))},a.state={showCalendar:!1,dateRangePicker:{selection:{startDate:a.props.startDate?Se()(a.props.startDate).toDate():new Date,endDate:a.props.endDate?Se()(a.props.endDate).toDate():new Date,key:"selection"}},startDate:a.props.startDate?Se()(a.props.startDate).toDate():null,endDate:a.props.endDate?Se()(a.props.endDate).toDate():null,containerClass:a.props.containerClass?a.props.containerClass:"search-bg new-calender",class:a.props.class?a.props.class:"CalendarPreviewArea"},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleClick,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClick,!1)}},{key:"render",value:function(){var e=this,t={startDate:this.state.startDate?this.state.startDate:new Date,endDate:this.state.endDate?this.state.endDate:new Date,key:"selection"};return i.a.createElement("div",{className:this.state.containerClass,ref:function(t){e.refDateRangePickerContainer=t}},i.a.createElement("img",{src:as.a}),this.state.showCalendar&&i.a.createElement(Ia.DateRangePicker,{className:this.state.class,ranges:[t],onChange:this.onChangeDateRange,maxDate:this.state.maxDate,ref:function(t){e.refDateRangePicker=t}}),i.a.createElement("input",{onChange:this.handleInputChange,type:"text",className:"input-cal setting-search-input",name:"calendar-input",autoComplete:"off",value:null==this.state.startDate&&null==this.state.endDate?"":(this.state.startDate?Se()(this.state.startDate).format(ud):"")+"-"+(this.state.endDate?Se()(this.state.endDate).format(ud):""),ref:function(t){e.refDateRangePickerInput=t}}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{}}}]),t}(n.Component),hd=function(e){function t(e){var a;Object(ne.a)(this,t),a=Object(re.a)(this,Object(oe.a)(t).call(this,e));var s=JSON.parse(localStorage.getItem("languageData"));return a.state={Please_Wait:s.global&&s.global.Please_Wait?s.global.Please_Wait:""},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:this.props.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.Please_Wait)))}}]),t}(i.a.Component),gd="YYYY-MM-DD",_d=function(e){function t(e){var a,s;Object(ne.a)(this,t),(s=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){e.target.name;s.setState(Object(se.a)({},e.target.name,e.target.value))},s.handleChildDateRange=function(e){s.setState({startDate:e.startDate,endDate:e.endDate},function(){s.handleSubmit()})},s.handleSubmit=function(e){var t,a="",n="";void 0!=e&&"object"==typeof e&&(e.preventDefault(),a=e.target.value,n=e.target.name),localStorage.setItem("sortOnly",!0);var i=s.state.search_key;s.setState({search_by:"search_by"===n?a:s.state.search_by,search_key:"search_key"===n?a:s.state.search_key,booking_status:"booking_status"===n?a:s.state.booking_status});var r=!1;if("search_by"===n&&(null!==i&&void 0!==i&&""!==i||(r=!0)),!r){s.setState((t={page:1,startFresh:!0,loadMore:!0},Object(se.a)(t,"startFresh",!0),Object(se.a)(t,"next_page_url",""),Object(se.a)(t,"bookingHistoryList",[]),Object(se.a)(t,"showLoader",!0),Object(se.a)(t,"next_page_url",""),t));var o={start:s.state.startDate,end:s.state.endDate,search_by:"search_by"===n?a:s.state.search_by,search_key:"search_key"===n?a:s.state.search_key,booking_status:"booking_status"===n?a:s.state.booking_status};s.setState({showLoader:!0}),s.props.fetchBookingHistory(1,s.state.pagesize,o)}},s.loadMore=function(){s.setState({loadMore:!0,startFresh:!0,showLoader:!1,showLoadingText:!0});var e={search_by:s.state.search_by,booking_status:s.state.booking_status,start:s.state.startDate,end:s.state.endDate};""!=s.state.search_key&&(e.search_key=s.state.search_key),s.props.fetchBookingHistory(s.state.page,s.state.pagesize,e)};var n=JSON.parse(localStorage.getItem("languageData"));JSON.parse(localStorage.getItem("userData"));return s.state=(a={globalLang:n.global,appointmentLang:n.appointments,page:1,pagesize:15,next_page_url:"",startFresh:!0,showLoadingText:!1,loadMore:!0,showLoader:!1,bookingHistoryList:[]},Object(se.a)(a,"next_page_url",""),Object(se.a)(a,"startDate",Se()(new Date).format(gd)),Object(se.a)(a,"endDate",Se()(new Date).format(gd)),Object(se.a)(a,"search_key",""),Object(se.a)(a,"search_by","all"),Object(se.a)(a,"booking_status","all"),a),localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),window.onscroll=function(){var e=parseInt(Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop));window.innerHeight+e===document.documentElement.offsetHeight&&null!==s.state.next_page_url&&s.loadMore()},s}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleClick,!1);var e={search_by:this.state.search_by,booking_status:this.state.booking_status,start:this.state.startDate,end:this.state.endDate};""!=this.state.search_key&&(e.search_key=this.state.search_key),this.setState({showLoader:!0}),this.props.fetchBookingHistory(1,this.state.pagesize,e)}},{key:"render",value:function(){return i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(zl,{activeMenuTag:"booking-history"}),i.a.createElement("div",{className:"juvly-section full-width"},i.a.createElement("div",{className:"setting-search-outer"},i.a.createElement("div",{className:"search-bg new-search filter-by-search"},i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("i",{className:"fas fa-search"}),i.a.createElement("input",{className:"setting-search-input search-key",name:"search_key",placeholder:this.state.globalLang.label_search,value:this.state.search_key,onChange:this.handleInputChange,autoComplete:"off"})),i.a.createElement("div",{className:"header-select"},i.a.createElement("form",{onChange:this.handleSubmit},i.a.createElement("select",{name:"search_by",value:this.state.search_by,onChange:this.handleInputChange},i.a.createElement("option",{value:"all"},this.state.appointmentLang.appointment_all),i.a.createElement("option",{value:"customer"},this.state.appointmentLang.appointment_customer),i.a.createElement("option",{value:"provider"},this.state.appointmentLang.appointment_provider),i.a.createElement("option",{value:"booked_by"},this.state.appointmentLang.appointment_booded_by))),i.a.createElement("i",{className:"fas fa-angle-down"}))),i.a.createElement(pd,{handleChildDateRange:this.handleChildDateRange,containerClass:"search-bg new-calender",class:"CalendarPreviewArea",startDate:this.state.startDate,endDate:this.state.endDate}),i.a.createElement("div",{className:"filter-type"},i.a.createElement("span",{className:"search-text"},"Filter by:"),i.a.createElement("div",{className:"header-select"},i.a.createElement("form",{onChange:this.handleSubmit},i.a.createElement("select",{name:"booking_status",value:this.state.booking_status,onChange:this.handleInputChange},i.a.createElement("option",{value:"all"},this.state.appointmentLang.appointment_all),i.a.createElement("option",{value:"booked"},this.state.appointmentLang.appointment_booked),i.a.createElement("option",{value:"checkedin"},this.state.appointmentLang.appointment_checked_in),i.a.createElement("option",{value:"cancel"},this.state.appointmentLang.appointment_canceled),i.a.createElement("option",{value:"reschedule"},this.state.appointmentLang.appointment_rescheduled),i.a.createElement("option",{value:"marknoshow"},this.state.appointmentLang.appointment_no_show))),i.a.createElement("i",{className:"fas fa-angle-down"})))),i.a.createElement("div",{className:"table-responsive"},i.a.createElement("table",{className:"table-updated juvly-table table-min-width no-hover"},i.a.createElement("thead",{className:"table-updated-thead"},i.a.createElement("tr",null,i.a.createElement("th",{className:"col-xs-2 table-updated-th"},this.state.appointmentLang.appointment_customer),i.a.createElement("th",{className:"col-xs-1 table-updated-th"},this.state.appointmentLang.appointment_service),i.a.createElement("th",{className:"col-xs-2 table-updated-th"},this.state.appointmentLang.appointment_clinic),i.a.createElement("th",{className:"col-xs-2 table-updated-th"},this.state.appointmentLang.appointment_provider),i.a.createElement("th",{className:"col-xs-1 table-updated-th no-padding-right"},this.state.appointmentLang.appointment_date_time_camelcase),i.a.createElement("th",{className:"col-xs-1 table-updated-th"},this.state.appointmentLang.appointment_booded_by),i.a.createElement("th",{className:"col-xs-1 table-updated-th"},this.state.globalLang.label_action),i.a.createElement("th",{className:"col-xs-1 table-updated-th"},this.state.appointmentLang.appointment_done_by),i.a.createElement("th",{className:"col-xs-1 table-updated-th"},this.state.appointmentLang.appointment_done_on))),i.a.createElement("tbody",null,this.state.bookingHistoryList.length>0?this.state.bookingHistoryList.map(function(e,t){var a="";switch(e.status){case"checkedin":a="Checked In";break;case"marknoshow":a="No Show";break;case"booked":a="Booked";break;case"cancel":a="Canceled";break;default:a="Rescheduled"}return i.a.createElement("tr",{key:"fragment_"+t,className:"table-updated-tr"},i.a.createElement("td",{className:"table-updated-td"},null!=e.patient?je(e.patient):null),i.a.createElement("td",{className:"table-updated-td"},null!=e.service?je(e.service):null),i.a.createElement("td",{className:"table-updated-td"},null!=e.clinic?je(e.clinic):null),i.a.createElement("td",{className:"table-updated-td"},null!=e.provider?je(e.provider):null),i.a.createElement("td",{className:"table-updated-td"},e.appointment_datetime),i.a.createElement("td",{className:"table-updated-td"},null!=e.booked_by?je(e.booked_by):null),i.a.createElement("td",{className:"table-updated-td"},null!=e.status?je(a):null),i.a.createElement("td",{className:"table-updated-td"},e.done_by),i.a.createElement("td",{className:"table-updated-td"},e.created))}):i.a.createElement("tr",{className:"table-updated-tr"},i.a.createElement("td",{className:"col-xs-12 table-updated-td text-center",colSpan:"9"},this.state.globalLang.sorry_no_record_found))))),i.a.createElement(hd,{showLoader:this.state.showLoader})),i.a.createElement("div",{className:this.state.showLoadingText?"loading-please-wait":"loading-please-wait no-display"},this.state.globalLang.loading_please_wait_text)),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};if(void 0!=e.showLoader&&0==e.showLoader)return a.showLoader=!1,a;if(void 0!=e.bookingHistoryList&&e.bookingHistoryList.next_page_url!==t.next_page_url){var s={};return null==t.next_page_url?(localStorage.setItem("sortOnly",!1),s.next_page_url=null,s):(0==t.bookingHistoryList.length&&1==t.startFresh?"false"==localStorage.getItem("sortOnly")?(s.bookingHistoryList=e.bookingHistoryList.data,null!=e.bookingHistoryList.next_page_url?s.page=t.page+1:s.next_page_url=e.bookingHistoryList.next_page_url,s.startFresh=!1,s.showLoader=!1,s.showLoadingText=!1,localStorage.setItem("showLoader",!1)):localStorage.setItem("sortOnly",!1):t.bookingHistoryList!=e.bookingHistoryList.data&&0!=t.bookingHistoryList.length&&(s.bookingHistoryList=Object(oa.a)(t.bookingHistoryList).concat(Object(oa.a)(e.bookingHistoryList.data)),s.page=t.page+1,s.next_page_url=e.bookingHistoryList.next_page_url,localStorage.setItem("showLoader",!1),s.showLoader=!1,s.showLoadingText=!1),s)}return null}}]),t}(n.Component);var vd=Object(Z.b)(function(e){var t={},a=JSON.parse(localStorage.getItem("languageData"));return"BOOKING_HISTORY_LIST"===e.AppointmentReducer.action&&(200!=e.AppointmentReducer.data.status?(rt.toast.dismiss(),rt.toast.error(a.global[e.AppointmentReducer.data.message]),t.showLoader=!1):t.bookingHistoryList=e.AppointmentReducer.data.data),t},function(e){return Object(c.bindActionCreators)({fetchBookingHistory:Yl},e)})(_d),fd=Ee.API_URL,bd=Q.a.create();function Ed(e){return function(t){bd.post(fd+"sales",e||"").then(function(e){t({type:"SALES_CATEGORY_LIST",payload:e.data})}).catch(function(e){t({type:"SALES_CATEGORY_LIST",payload:e.response.data})})}}function yd(e){return function(t){bd.post(fd+"sales/monthly_net_sales",e||"").then(function(e){t({type:"MONTHLY_NET_SALES_LIST",payload:e.data})}).catch(function(e){t({type:"MONTHLY_NET_SALES_LIST",payload:e.response.data})})}}function Nd(e){return function(t){bd.post(fd+"sales/payment_methods",e||"").then(function(e){t({type:"PAYMENT_METHOD_LIST",payload:e.data})}).catch(function(e){t({type:"PAYMENT_METHOD_LIST",payload:e.response.data})})}}function Sd(e){return function(t){bd.post(fd+"sales/employee_sales_report",e||"").then(function(e){t({type:"EMPLOYEE_SALES_REPORT_LIST",payload:e.data})}).catch(function(e){t({type:"EMPLOYEE_SALES_REPORT_LIST",payload:e.response.data})})}}function Dd(e){return function(t){bd.post(fd+"sales/item_sales",e||"").then(function(e){t({type:"ITEM_SALES_LIST",payload:e.data})}).catch(function(e){t({type:"ITEM_SALES_LIST",payload:e.response.data})})}}function wd(e){return function(t){bd.post(fd+"sales/category_sales",e||"").then(function(e){t({type:"CATEGORY_SALES_LIST",payload:e.data})}).catch(function(e){t({type:"CATEGORY_SALES_LIST",payload:e.response.data})})}}function Cd(e){return function(t){bd.post(fd+"sales/export",e||"").then(function(e){t({type:"EXPORT_FILE",payload:e.data})}).catch(function(e){t({type:"EXPORT_FILE",payload:e.response.data})})}}function xd(e){return function(t){bd.post(fd+"sales/invoices",e||"").then(function(e){t({type:"INVOICES_LIST",payload:e.data})}).catch(function(e){t({type:"INVOICES_LIST",payload:e.response.data})})}}function Ld(e){return function(t){bd.post(fd+"sales/invoice_text",e||"").then(function(e){t({type:"CREATE_EDIT_INVOICES",payload:e.data})}).catch(function(e){t({type:"CREATE_EDIT_INVOICES",payload:e.response.data})})}}function Od(e){return function(t){bd.post(fd+"sales/invoice_text",e||"").then(function(e){t({type:"FETCH_INVOICES",payload:e.data})}).catch(function(e){t({type:"FETCH_INVOICES",payload:e.response.data})})}}function Ad(e){return function(t){bd.post(fd+"sales/discounts",e||"").then(function(e){t({type:"DISCOUNTS_LIST",payload:e.data})}).catch(function(e){t({type:"DISCOUNTS_LIST",payload:e.response.data})})}}function Td(e){return function(t){bd.post(fd+"sales/staff_treatments",e||"").then(function(e){t({type:"STAF_TREATMENT_LIST",payload:e.data})}).catch(function(e){t({type:"STAF_TREATMENT_LIST",payload:e.response.data})})}}function Id(e){return function(t){bd.post(fd+"sales/memberships",e||"").then(function(e){t({type:"MEMBERSHIP_LIST",payload:e.data})}).catch(function(e){t({type:"MEMBERSHIP_LIST",payload:e.response.data})})}}function Rd(e){return function(t){bd.get(fd+"sales/short_term_liability",e||"").then(function(e){t({type:"SHORT_TERM_LIABILITY_LIST",payload:e.data})}).catch(function(e){t({type:"SHORT_TERM_LIABILITY_LIST",payload:e.response.data})})}}function kd(e){return function(t){bd.post(fd+"sales/treatment_plans",e||"").then(function(e){t({type:"TREATMENT_PLANS_LIST",payload:e.data})}).catch(function(e){t({type:"TREATMENT_PLANS_LIST",payload:e.response.data})})}}function Pd(e){return function(t){bd.post(fd+"sales/taxes",e||"").then(function(e){t({type:"TAXES_LIST",payload:e.data})}).catch(function(e){t({type:"TAXES_LIST",payload:e.response.data})})}}function jd(e){return function(t){bd.post(fd+"sales/commission_report",e||"").then(function(e){t({type:"COMMISSION_REPORTS_LIST",payload:e.data})}).catch(function(e){t({type:"COMMISSION_REPORTS_LIST",payload:e.response.data})})}}function Md(e){return function(t){bd.post(fd+"sales/cost_to_company",e||"").then(function(e){t({type:"COST_TO_COMPANY_LIST",payload:e.data})}).catch(function(e){t({type:"COST_TO_COMPANY_LIST",payload:e.response.data})})}}function Ud(e){return function(t){bd.post(fd+"sales/egift_cards",e||"").then(function(e){t({type:"EGIFT_CARDS_LIST",payload:e.data})}).catch(function(e){t({type:"EGIFT_CARDS_LIST",payload:e.response.data})})}}function Fd(){return function(e){bd.post(fd+"cash-drawer").then(function(t){e({type:"GET_CASH_DRAWER",payload:t.data})}).catch(function(t){e({type:"GET_CASH_DRAWER",payload:t.response.data})})}}function Bd(e){return function(t){bd.post(fd+"change-clinic-location/"+e).then(function(e){t({type:"CHANGE_DRAWER_LOCATION",payload:e.data})}).catch(function(e){t({type:"CHANGE_DRAWER_LOCATION",payload:e.response.data})})}}function qd(e){return function(t){bd.get(fd+"show-opened-drawer/"+e).then(function(e){t({type:"VIEW_OPENED_DRAWER",payload:e.data})}).catch(function(e){t({type:"VIEW_OPENED_DRAWER",payload:e.response.data})})}}function Yd(e){return function(t){bd.post(fd+"update-cash-drawer/"+e).then(function(e){t({type:"TAKE_DRAWER_CONTROL",payload:e.data})}).catch(function(e){t({type:"TAKE_DRAWER_CONTROL",payload:e.response.data})})}}function Hd(e){return function(t){bd.get(fd+"open-cash-drawer/"+e).then(function(e){t({type:"GET_OPEN_CASH_DRAWER",payload:e.data})}).catch(function(e){t({type:"GET_OPEN_CASH_DRAWER",payload:e.response.data})})}}function Gd(e){return function(t){bd.post(fd+"open-cash-drawer",e||"").then(function(e){t({type:"POST_OPEN_CASH_DRAWER",payload:e.data})}).catch(function(e){t({type:"POST_OPEN_CASH_DRAWER",payload:e.response.data})})}}function Vd(e){return function(t){bd.post(fd+"close-cash-drawer",e||"").then(function(e){t({type:"CLOSE_CASH_DRAWER",payload:e.data})}).catch(function(e){t({type:"CLOSE_CASH_DRAWER",payload:e.response.data})})}}function zd(e){return function(t){bd.post(fd+"cash-in-drawer",e||"").then(function(e){t({type:"CASH_IN_DRAWER",payload:e.data})}).catch(function(e){t({type:"CASH_IN_DRAWER",payload:e.response.data})})}}function Wd(e){return function(t){bd.post(fd+"cash-out-drawer",e||"").then(function(e){t({type:"CASH_OUT_DRAWER",payload:e.data})}).catch(function(e){t({type:"CASH_OUT_DRAWER",payload:e.response.data})})}}function Jd(e){return function(t){bd.post(fd+"bank-drop",e||"").then(function(e){t({type:"BANK_DROP_DRAWER",payload:e.data})}).catch(function(e){t({type:"BANK_DROP_DRAWER",payload:e.response.data})})}}function Qd(e){return function(t){bd.get(fd+"cash-register-logs",e||"").then(function(e){t({type:"CASH_REGISTER_LOGS",payload:e.data})}).catch(function(e){t({type:"CASH_REGISTER_LOGS",payload:e.response.data})})}}function Kd(e){return function(t){bd.get(fd+"drawer-filter",e||"").then(function(e){t({type:"GET_CASH_DRAWER_HISTORY",payload:e.data})}).catch(function(e){t({type:"GET_CASH_DRAWER_HISTORY",payload:e.response.data})})}}function Xd(e){return function(t){bd.post(fd+"drawer-close-edit",e||"").then(function(e){t({type:"EDIT_CLOSED_DRAWER",payload:e.data})}).catch(function(e){t({type:"EDIT_CLOSED_DRAWER",payload:e.response.data})})}}function Zd(e){return function(t){bd.post(fd+"add-receipt",e||"").then(function(e){t({type:"ADD_EDIT_POPUP_RECEIPT",payload:e.data})}).catch(function(e){t({type:"ADD_EDIT_POPUP_RECEIPT",payload:e.response.data})})}}function $d(e){return function(t){bd.get(fd+"export-cash-register-logs",e||"").then(function(e){t({type:"EXPORT_CASH_DRAWER_LOG",payload:e.data})}).catch(function(e){t({type:"EXPORT_CASH_DRAWER_LOG",payload:e.response.data})})}}bd.defaults.headers.common["access-token"]=xe(),Xe(),bd.interceptors.response.use(function(e){return void 0!=e.data&&void 0!=e.data.global_settings&&He(e.data.global_settings),Xe(),e},function(e){if(e.response){var t=e.response.data.message;return"invalid_token"!=t&&"session_timeout"!=t&&"server_error"!=t&&"token_not_found"!=t||Oe(),Promise.reject(e)}return{data:{data:"",message:"server_error",status:500}}});var em=function(e){function t(e){var a;Object(ne.a)(this,t),a=Object(re.a)(this,Object(oe.a)(t).call(this,e));JSON.parse(localStorage.getItem("userData"));var s=JSON.parse(localStorage.getItem("languageData"));return a.state={globalLang:s.global,salesLang:s.sales},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"render",value:function(){var e=window.location.href.split("/"),t=e[e.length-1];return i.a.createElement("div",null,i.a.createElement("ul",{className:"sub-menu"},Te("view-sales-report")&&i.a.createElement("li",null,i.a.createElement(me.a,{className:"sales"==t||"monthly-net-sales"==t||"employee-sales-report"==t||"payment-methods"==t||"item-sales"==t||"category-sales"==t||"discounts"==t||"taxes"==t||"cost-to-company"==t||"egift-cards"==t||"treatment-plans"==t||"short-term-liability"==t||"commission-report"==t||"memberships"==t||"staff-treatments"==t?"active":"",to:"/sales"},this.state.salesLang.sales_reports)),Te("view-sales-invoices")&&i.a.createElement("li",null,i.a.createElement(me.a,{className:"invoices"==t?"active":"",to:"/sales/invoices"},this.state.salesLang.sales_invoices)),Te("view-sales-invoice-text")&&i.a.createElement("li",null,i.a.createElement(me.a,{className:"invoice-text"==t?"active":"",to:"/sales/invoice-text"},this.state.salesLang.sales_invoice_disclaimer)),Te("view-cash-drawer")&&i.a.createElement("li",null,i.a.createElement(me.a,{className:this.props.location.pathname.indexOf("cash")>-1?"active":"",to:"/sales/cash-drawer"},this.state.salesLang.sales_cash_drawer))))}}]),t}(n.Component),tm=Object(de.a)(em),am=function(e){function t(e){var a;Object(ne.a)(this,t),a=Object(re.a)(this,Object(oe.a)(t).call(this,e));JSON.parse(localStorage.getItem("userData"));var s=JSON.parse(localStorage.getItem("languageData"));return a.state={globalLang:s.global,salesLang:s.sales},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"render",value:function(){var e=window.location.href.split("/"),t=e[e.length-1];return i.a.createElement("div",null,i.a.createElement("ul",{className:"new-setting-tabs salestab"},i.a.createElement("li",{className:"new-setting-tabs-li"},i.a.createElement(me.a,{className:t==this.state.salesLang.sales_nav?"new-setting-tabs-a active-menu":"new-setting-tabs-a ",to:"/sales"},i.a.createElement("i",{className:"fas fa-angle-right"}),this.state.salesLang.sales_summary)),i.a.createElement("li",{className:"new-setting-tabs-li"},i.a.createElement(me.a,{className:t==this.state.salesLang.sales_monthly_net_sales_nav?"new-setting-tabs-a active-menu":"new-setting-tabs-a ",to:"/sales/monthly-net-sales"},i.a.createElement("i",{className:"fas fa-angle-right"}),this.state.salesLang.sales_monthly_net_sales)),i.a.createElement("li",{className:"new-setting-tabs-li"},i.a.createElement(me.a,{className:t==this.state.salesLang.sales_employee_sales_report_nav?"new-setting-tabs-a active-menu":"new-setting-tabs-a ",to:"/sales/employee-sales-report"},i.a.createElement("i",{className:"fas fa-angle-right"}),this.state.salesLang.sales_employee_sales)),i.a.createElement("li",{className:"new-setting-tabs-li"},i.a.createElement(me.a,{className:t==this.state.salesLang.sales_payment_methods_nav?"new-setting-tabs-a active-menu":"new-setting-tabs-a ",to:"/sales/payment-methods"},i.a.createElement("i",{className:"fas fa-angle-right"}),this.state.salesLang.sales_payment_methods)),i.a.createElement("li",{className:"new-setting-tabs-li"},i.a.createElement(me.a,{className:t==this.state.salesLang.sales_item_sales_nav?"new-setting-tabs-a active-menu":"new-setting-tabs-a ",to:"/sales/item-sales"},i.a.createElement("i",{className:"fas fa-angle-right"}),this.state.salesLang.sales_Item_Sales)),i.a.createElement("li",{className:"new-setting-tabs-li"},i.a.createElement(me.a,{className:t==this.state.salesLang.sales_category_sales_nav?"new-setting-tabs-a active-menu":"new-setting-tabs-a ",to:"/sales/category-sales"},i.a.createElement("i",{className:"fas fa-angle-right"}),this.state.salesLang.sales_category_sales)),i.a.createElement("li",{className:"new-setting-tabs-li"},i.a.createElement(me.a,{className:t==this.state.salesLang.sales_discounts_nav?"new-setting-tabs-a active-menu":"new-setting-tabs-a ",to:"/sales/discounts"},i.a.createElement("i",{className:"fas fa-angle-right"}),this.state.salesLang.sales_discounts)),i.a.createElement("li",{className:"new-setting-tabs-li"},i.a.createElement(me.a,{className:t==this.state.salesLang.sales_taxes_nav?"new-setting-tabs-a active-menu":"new-setting-tabs-a ",to:"/sales/taxes"},i.a.createElement("i",{className:"fas fa-angle-right"}),this.state.salesLang.sales_taxes)),i.a.createElement("li",{className:"new-setting-tabs-li"},i.a.createElement(me.a,{className:t==this.state.salesLang.sales_cost_to_company_nav?"new-setting-tabs-a active-menu":"new-setting-tabs-a ",to:"/sales/cost-to-company"},i.a.createElement("i",{className:"fas fa-angle-right"}),this.state.salesLang.sales_cost_to_company)),i.a.createElement("li",{className:"new-setting-tabs-li"},i.a.createElement(me.a,{className:t==this.state.salesLang.sales_egift_cards_nav?"new-setting-tabs-a active-menu":"new-setting-tabs-a ",to:"/sales/egift-cards"},i.a.createElement("i",{className:"fas fa-angle-right"}),this.state.salesLang.sales_egift_cards)),i.a.createElement("li",{className:"new-setting-tabs-li"},i.a.createElement(me.a,{className:t==this.state.salesLang.sales_treatment_plans_nav?"new-setting-tabs-a active-menu":"new-setting-tabs-a ",to:"/sales/treatment-plans"},i.a.createElement("i",{className:"fas fa-angle-right"}),this.state.salesLang.sales_treatment_plans)),i.a.createElement("li",{className:"new-setting-tabs-li"},i.a.createElement(me.a,{className:t==this.state.salesLang.sales_short_term_liability_nav?"new-setting-tabs-a active-menu":"new-setting-tabs-a ",to:"/sales/short-term-liability"},i.a.createElement("i",{className:"fas fa-angle-right"}),this.state.salesLang.sales_short_term_liability)),i.a.createElement("li",{className:"new-setting-tabs-li"},i.a.createElement(me.a,{className:t==this.state.salesLang.sales_commission_report_nav?"new-setting-tabs-a active-menu":"new-setting-tabs-a ",to:"/sales/commission-report"},i.a.createElement("i",{className:"fas fa-angle-right"}),this.state.salesLang.sales_commision_report)),i.a.createElement("li",{className:"new-setting-tabs-li"},i.a.createElement(me.a,{className:t==this.state.salesLang.sales_memberships_nav?"new-setting-tabs-a active-menu":"new-setting-tabs-a ",to:"/sales/memberships"},i.a.createElement("i",{className:"fas fa-angle-right"}),this.state.salesLang.sales_membership)),i.a.createElement("li",{className:"new-setting-tabs-li"},i.a.createElement(me.a,{className:t==this.state.salesLang.sales_staff_treatments_nav?"new-setting-tabs-a active-menu":"new-setting-tabs-a ",to:"/sales/staff-treatments"},i.a.createElement("i",{className:"fas fa-angle-right"}),this.state.salesLang.sales_staff_treatment))))}}]),t}(n.Component),sm=function(e){var t=[];return e.map(function(e,a){t.push(e.id)}),t},nm=function(e){var t=[];return e.map(function(e,a){t.push(e.id)}),t},im=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleClick=function(e){var t=!1;if((!a.node.contains(e.target)||!0!==a.state.showCalendar)&&(a.toggleCalendar(e.target),!a.searchFocus.contains(e.target))){a.setState({focusSearch:!1});var s="new-dropdown-menu no-display",n="new-dropdown-menu no-display",i="new-dropdown-menu no-display";a.muli_sel_btn_nps.contains(e.target)?s="new-dropdown-menu":a.state.islocationArrayListApi&&(a.setState({islocationArrayListApi:!1}),t=!0),a.muli_sel_btn_eps.contains(e.target)?n="new-dropdown-menu":a.state.isemployeeArrayListApi&&(a.setState({isemployeeArrayListApi:!1}),t=!0),a.muli_sel_btn_ips.contains(e.target)?i="new-dropdown-menu":a.state.isinvoicesArrayListApi&&(a.setState({isinvoicesArrayListApi:!1}),t=!0);var r=[];t&&(a.state.invoicesArray&&a.state.invoicesArray.map(function(e,t){a.state[Object.keys(e)]&&r.push(Object.keys(e)[0])}),a.props.handleChildSubmit({selectedEmployeeIdList:a.state.selectedEmployeeIdList,selectedLocationIdList:a.state.selectedLocationIdList,selectedInvoicesIdList:r,fromDate:a.state.startDate,toDate:a.state.endDate})),a.setState({selctedInvoicesClass:i,selctedLocationClass:s,selctedEmployeeClass:n})}},a.handleInputChange=function(e){var t=e.target,s="checkbox"===t.type?t.checked:t.value;a.setState(Object(se.a)({},e.target.name,s))},a.handleSubmit=function(e){e.preventDefault();var t=[];a.state.invoicesArray&&a.state.invoicesArray.map(function(e,s){a.state[Object.keys(e)]&&t.push(Object.keys(e)[0])}),a.props.handleChildSubmit({selectedEmployeeIdList:a.state.selectedEmployeeIdList,selectedLocationIdList:a.state.selectedLocationIdList,selectedInvoicesIdList:t,fromDate:a.state.startDate,toDate:a.state.endDate,search_key:a.state.search_key})},a.toggleCalendar=function(e){if("calendar-input"===e.name||!1!==a.state.showCalendar){var t=!1;t=!1===a.state.showCalendar&&void 0!==e.name&&"calendar-input"===e.name,a.setState({showCalendar:t})}},a.dateRangeOnChange=function(e){if(e){var t={startDate:e.selection.startDate,endDate:e.selection.endDate,key:"selection"};localStorage.setItem("selectionRange",JSON.stringify(t))}var s=e.selection.startDate,n=e.selection.endDate;a.setState({showCalendar:!1,fromDate:s,toDate:n,startDate:s,endDate:n}),a.props.handleChildSubmit({selectedInvoicesIdList:a.state.selectedInvoicesIdList,selectedLocationIdList:a.state.selectedLocationIdList,selectedEmployeeIdList:a.state.selectedEmployeeIdList,fromDate:s,toDate:n})},a.dateRangeOnShownDateChange=function(e,t){},a.selectedInvoicesIdList=function(e){var t,s=e.target,n=e.target.name,i="checkbox"===s.type?s.checked:s.value,r=0;a.state.invoicesArray.map(function(e,t){a.state[Object.keys(e)]&&(r+=1),n==Object.keys(e)&&i?r+=1:n!=Object.keys(e)||i||(r-=1)}),a.setState((t={},Object(se.a)(t,e.target.name,i),Object(se.a)(t,"isinvoicesArrayListApi",!0),Object(se.a)(t,"userChanged",!0),Object(se.a)(t,"selectedInvoices",r),t))},a.selectedLocationIdList=function(e){var t=e.target.name.split("-"),s=parseInt(t[1]),n=e.target.value,i=a.state.selectedLocationIdList.indexOf(s),r=a.state.selectedLocationIdList;"true"==n?r.splice(i,1):r.push(s),a.setState({selectedLocationIdList:r,islocationArrayListApi:!0,userChanged:!0})},a.selectedEmployeeIdList=function(e){var t=e.target.name.split("-"),s=parseInt(t[1]),n=e.target.value,i=a.state.selectedEmployeeIdList.indexOf(s),r=a.state.selectedEmployeeIdList;"true"==n?r.splice(i,1):r.push(s),a.setState({selectedEmployeeIdList:r,isemployeeArrayListApi:!0,userChanged:!0})},a.toggleInvoicesFilter=function(e){var t=a.state.eventSelectedInvoices,s={};"unselect"==t?(t="select",a.state.invoicesArray.map(function(e,t){s[Object.keys(e)]=!1,s.selectedInvoices=0})):"select"==t&&(t="unselect",a.state.invoicesArray.map(function(e,t){s[Object.keys(e)]=!0,s.selectedInvoices=5})),s.eventSelectedInvoices=t,s.islocationArrayListApi=!0,s.userChanged=!0,a.setState(s)},a.toggleLocationFilter=function(e){var t=a.state.selectedLocationIdList,s=a.state.eventSelectedLocation;"unselect"==s?(t=[],s="select"):"select"==s&&(t=a.state.totalLocationIdList,s="unselect"),a.setState({selectedLocationIdList:t,eventSelectedLocation:s,islocationArrayListApi:!0,userChanged:!0})},a.toggleEmployeeFilter=function(e){var t=a.state.selectedEmployeeIdList,s=a.state.eventSelectedEmployee;"unselect"==s?(t=[],s="select"):"select"==s&&(t=a.state.totalEmployeeIdList,s="unselect"),a.setState({selectedEmployeeIdList:t,eventSelectedEmployee:s,isemployeeArrayListApi:!0,userChanged:!0})},a.showLoaderFunc=function(){localStorage.setItem("showLoader",!1)},a.handleExport=function(e){var t=localStorage.getItem("selectionRange"),s=t?JSON.parse(t):"",n={fromDate:s.startDate,toDate:s.endDate,export_type:e,export_name:a.props.reportType};a.props.clinicVal&&a.props.clinicVal.length>0&&(n.clinic_id=a.props.clinicVal),a.props.searchVal&&a.props.searchVal.length>0&&(n.search_key=a.props.searchVal),a.props.invoicesArray&&a.props.invoicesArray.length>0&&(n.invoicesArray=a.props.invoicesArray),a.props.locationArray&&a.props.locationArray.length>0&&(n.locationArray=a.props.locationArray),a.props.employeeArray&&a.props.employeeArray.length>0&&(n.employeeArray=a.props.employeeArray),a.showLoaderFunc(),a.props.exportFunction(n)},a.handleRangeChange=function(e,t){var s,n=t.selection.startDate,i=t.selection.endDate;n=Object(ss.b)(n,"YYYY-MM-DD"),i=Object(ss.b)(i,"YYYY-MM-DD"),a.setState((s={},Object(se.a)(s,e,Object(m.a)({},a.state[e],t)),Object(se.a)(s,"showCalendar",!1),Object(se.a)(s,"fromDate",n),Object(se.a)(s,"toDate",i),s))},a.handleSelect=function(e){a.setState({startDate:e.selection.startDate,endDate:e.selection.endDate})};JSON.parse(localStorage.getItem("userData"));var s=JSON.parse(localStorage.getItem("languageData")),n=localStorage.getItem("selectionRange"),i=n?JSON.parse(n):"",r=i.startDate,o=i.endDate;return a.state={globalLang:s.global,settingsLang:s.settings,dateRangePicker:{selection:{startDate:new Date,endDate:new Date,key:"selection"}},toDate:Object(ss.b)(new Date,"YYYY-MM-DD"),fromDate:Object(ss.b)(new Date,"YYYY-MM-DD"),showCalendar:!1,search_key:"",dateRangeValue:"",selctedLocationClass:"new-dropdown-menu no-display",selctedEmployeeClass:"new-dropdown-menu no-display",selctedInvoicesClass:"new-dropdown-menu no-display",islocationArrayListApi:!1,isemployeeArrayListApi:!1,isinvoicesArrayListApi:!1,islocationArrayListUpdated:!1,isemployeeArrayListUpdated:!1,isinvoicesArrayListUpdated:!1,totalLocationIdList:[],salesLang:s.sales,selectedLocationIdList:[],selectedEmployeeIdList:[],selectedInvoicesIdList:[],locationArray:[],employeeArray:[],invoicesArray:[],eventSelectedLocation:"unselect",eventSelectedEmployee:"unselect",eventSelectedInvoices:"unselect",expType:"csv",expoType:"xls",selectedInvoices:5,focusSearch:!1,startDate:localStorage.getItem("selectionRange")?r:new Date,endDate:localStorage.getItem("selectionRange")?o:new Date},localStorage.setItem("showLoader",!0),a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("selectionRange"),t=e?JSON.parse(e):"",a=t.startDate,s=t.endDate;this.setState({startDate:a,endDate:s}),localStorage.setItem("showLoader",!0),document.addEventListener("click",this.handleClick,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClick,!1)}},{key:"_onFocus",value:function(){this.setState({focusSearch:!0})}},{key:"render",value:function(){var e=this,t={};return t=localStorage.getItem("selectionRange")?JSON.parse(localStorage.getItem("selectionRange")):{startDate:this.state.startDate,endDate:this.state.endDate,key:"selection"},i.a.createElement("div",{className:"setting-search-outer"},i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("div",{className:this.props.searchShow?"search-bg new-search":"search-bg new-search no-display"},i.a.createElement("i",{className:"fas fa-search"}),i.a.createElement("input",{className:"setting-search-input chart_search",name:"search_key",placeholder:"Search",value:this.state.search_key,onFocus:function(){return e.setState({focusSearch:!0})},autoComplete:"off",onChange:this.handleInputChange,ref:function(t){e.searchFocus=t}}),i.a.createElement("div",{className:this.state.focusSearch&&this.props.searchFocus&&""==this.state.search_key?"giftcard-suggestion":"giftcard-suggestion no-display",style:{},ref:function(t){e.node=t}},i.a.createElement("ul",{ref:function(t){e.node=t}},i.a.createElement("li",{className:"suggestion-li"},i.a.createElement("a",{onClick:function(){e.setState({search_key:"to:",focusSearch:!1}),e.searchFocus.focus()},className:"suggestion-a"},i.a.createElement("span",null,this.state.salesLang.sales_to,":"),this.state.salesLang.sales_recipient_name)),i.a.createElement("li",{className:"suggestion-li"},i.a.createElement("a",{onClick:function(){e.setState({search_key:"from:",focusSearch:!1}),e.searchFocus.focus()},className:"suggestion-a"},i.a.createElement("span",null,this.state.salesLang.sales_from,":"),this.state.salesLang.sales_buyer_name)),i.a.createElement("li",{className:"suggestion-li"},i.a.createElement("a",{onClick:function(){e.setState({search_key:"card number:",focusSearch:!1}),e.searchFocus.focus()},className:"suggestion-a"},i.a.createElement("span",null,this.state.salesLang.sales_card_number,":"),this.state.salesLang.sales_redemption_code)))))),i.a.createElement("div",{className:this.props.dateRangePick?"search-bg new-calender pull-left":"no-display",ref:function(t){e.node=t}},i.a.createElement("img",{src:as.a}),this.state.showCalendar&&i.a.createElement(Ia.DateRangePicker,{value:t,className:"CalendarPreviewArea",ranges:[t],onChange:this.dateRangeOnChange,maxDate:new Date}),i.a.createElement("input",{onChange:this.handleInputChange,type:"text",className:"input-cal setting-search-input",name:"calendar-input",value:Se()(this.state.startDate).format("YYYY-MM-DD")+"-"+Se()(this.state.endDate).format("YYYY-MM-DD")})),i.a.createElement("div",{className:this.props.invoices?"multi-sel-btn ":"multi-sel-btn no-display",ref:function(t){e.muli_sel_btn_ips=t}},this.state.salesLang.sales_selected_invoices," (",this.state.selectedInvoices,")",i.a.createElement("ul",{className:this.state.selctedInvoicesClass},i.a.createElement("li",{id:"select_btn_li"},i.a.createElement("a",{href:"javascript:void(0);",className:"line-btn text-center",name:"ips",onClick:this.toggleInvoicesFilter},"unselect"==this.state.eventSelectedInvoices?"Unselect All":"Select All")),this.state.invoicesArray.length>0&&this.state.invoicesArray.map(function(t,a){return i.a.createElement("li",{key:"selected-invoices-"+a},i.a.createElement("label",null,i.a.createElement("input",{type:"checkbox",checked:!!e.state[Object.keys(t)]&&"checked",value:Object.keys(t),name:Object.keys(t),onChange:e.selectedInvoicesIdList})," ",Object.values(t)))}))),i.a.createElement("div",{className:this.props.location?"multi-sel-btn ":"multi-sel-btn no-display",ref:function(t){e.muli_sel_btn_nps=t}},"Selected Locations (",this.state.selectedLocationIdList?this.state.selectedLocationIdList.length:0,")",i.a.createElement("ul",{className:this.state.selctedLocationClass},i.a.createElement("li",{id:"select_btn_li"},i.a.createElement("a",{href:"javascript:void(0);",className:"line-btn text-center",name:"nps",onClick:this.toggleLocationFilter},"unselect"==this.state.eventSelectedLocation?"Unselect All":"Select All")),this.state.locationArray.length>0&&this.state.locationArray.map(function(t,a){return i.a.createElement("li",{key:"selected-location-"+t.id},i.a.createElement("label",null,i.a.createElement("input",{type:"checkbox",checked:e.state.selectedLocationIdList.indexOf(t.id)>-1&&"checked",value:e.state.selectedLocationIdList.indexOf(t.id)>-1,name:"locations-"+t.id,onChange:e.selectedLocationIdList})," ",t.clinic_name))}))),i.a.createElement("div",{className:this.props.employee?"multi-sel-btn ":"multi-sel-btn no-display",ref:function(t){e.muli_sel_btn_eps=t}},"Selected Employees (",this.state.selectedEmployeeIdList?this.state.selectedEmployeeIdList.length:0,")",i.a.createElement("ul",{className:this.state.selctedEmployeeClass},i.a.createElement("li",{id:"select_btn_li"},i.a.createElement("a",{href:"javascript:void(0);",className:"line-btn text-center",name:"eps",onClick:this.toggleEmployeeFilter},"unselect"==this.state.eventSelectedEmployee?"Unselect All":"Select All")),this.state.employeeArray.length>0&&this.state.employeeArray.map(function(t,a){return i.a.createElement("li",{key:"selected-employee-"+t.id},i.a.createElement("label",null,i.a.createElement("input",{type:"checkbox",checked:e.state.selectedEmployeeIdList.indexOf(t.id)>-1&&"checked",value:e.state.selectedEmployeeIdList.indexOf(t.id)>-1,name:"employees-"+t.id,onChange:e.selectedEmployeeIdList})," ",t.name))}))),i.a.createElement("div",{className:"export pull-right"},i.a.createElement("div",{className:"dropdown pull-left"},i.a.createElement("button",{className:"btn btn-default dropdown-toggle",type:"button",id:"dropdownMenu1","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},this.state.salesLang.sales_export,i.a.createElement("i",{className:"fas fa-angle-down"})),i.a.createElement("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenu1"},i.a.createElement("li",null,i.a.createElement("a",{href:"javascript:void(0);",name:"expType",onClick:this.handleExport.bind(this,this.state.expType)},this.state.salesLang.sales_export_csv)),i.a.createElement("li",null,i.a.createElement("a",{href:"javascript:void(0);",name:"expoType",onClick:this.handleExport.bind(this,this.state.expoType)},this.state.salesLang.sales_export_excel))))),i.a.createElement("div",{className:1==this.props.total_active_members_value?"search-text pull-right m-r-5":"no-display"},i.a.createElement("b",null,this.state.salesLang.sales_total_active_members," :  ",this.props.total_active_members)),i.a.createElement("div",{className:1==this.props.total_liability_value?"search-text pull-right m-r-5":"no-display"},i.a.createElement("b",null,this.state.salesLang.sales_total_liability," :  ",this.props.total_liability)))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};if(void 0!==e.locationArray&&t.locationArray!=e.locationArray&&(a.locationArray=e.locationArray,a.totalLocationIdList=t.userChanged?t.totalLocationIdList:sm(a.locationArray),a.selectedLocationIdList=t.userChanged?t.selectedLocationIdList:sm(a.locationArray)),void 0!==e.employeeArray&&t.employeeArray!=e.employeeArray&&(a.employeeArray=e.employeeArray,a.totalEmployeeIdList=t.userChanged?t.totalEmployeeIdList:nm(a.employeeArray),a.selectedEmployeeIdList=t.userChanged?t.selectedEmployeeIdList:nm(a.employeeArray)),void 0!==e.invoicesArray&&t.invoicesArray.length!=e.invoicesArray.length){var s=[];e.invoicesArray.map(function(e,n){a[Object.keys(e)]=!t.userChanged||t[Object.keys(e)],s.push(Object.keys(e)[0])}),a.selectedInvoicesIdList=s,a.selectedInvoices=5,a.invoicesArray=e.invoicesArray}return void 0!==e.exportFunctionCall&&t.exportFunctionCall!=e.exportFunctionCall&&"false"==localStorage.getItem("showLoader")&&(a.exportFunctionCall=e.exportFunctionCall,window.location.href=e.exportFunctionCall.data.file),a}}]),t}(n.Component);var rm=Object(Z.b)(function(e){return JSON.parse(localStorage.getItem("languageData")),localStorage.setItem("showLoader",!1),"EXPORT_FILE"!==e.SalesReducer.action?{}:200===e.SalesReducer.data.status?{exportFunctionCall:e.SalesReducer.data}:void 0},function(e){return Object(c.bindActionCreators)({exportFunction:Cd},e)})(im);Pa()(Ma.a);var om=function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).renderHighChart=function(){var e=Ma.a.chart("container",{chart:{zoomType:"x",height:200},title:{text:""},subtitle:{text:""},xAxis:{type:"datetime"},yAxis:{title:{text:""},min:0,labels:{formatter:function(){if(!(this.value<0))return this.value}}},legend:{enabled:!1},credits:{enabled:!1},exporting:{enabled:!1},plotOptions:{area:{fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,Ma.a.getOptions().colors[0]],[1,Ma.a.Color(Ma.a.getOptions().colors[0]).setOpacity(0).get("rgba")]]},marker:{radius:2},lineWidth:1,states:{hover:{lineWidth:1}},threshold:null}},series:[{type:"area",name:"USD",data:a.state.graphData}]});return a.setState({highcharts:e}),e},a.state={graphData:[[parseInt(Se()(new Date("2018-12-10")).format("x")),30],[parseInt(Se()(new Date("2018-12-11")).format("x")),40],[parseInt(Se()(new Date("2018-12-14")).format("x")),70]],highcharts:{}},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){this.renderHighChart()}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"category-graph",id:"container"}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};if(void 0!=e.graphData&&e.graphData.length>0&&t.graphData.length>0&&e.graphData!==t.graphData){var s=[];if(e.graphData.map(function(e,t){var a=[parseInt(Se()(new Date(e.p_date)).format("x")),parseFloat(Ie(e.per_day_total,"decimal",2))];s.push(a)}),a.graphData=s,s.length>0&&void 0!=t.highcharts.series&&t.highcharts.series.length>0)t.highcharts.update({series:[{type:"area",name:"USD",data:s}]})}return a}}]),t}(n.Component),lm=function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).state={storageData:{},graphData:[]},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"sale-graph",id:"MonthChartContainer","data-highcharts-chart":"0"},i.a.createElement(om,{graphData:this.state.graphData}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};return void 0!=e.graphData&&e.graphData!==t.graphData&&(a.graphData=e.graphData),a}}]),t}(i.a.Component);var cm=Object(Z.b)(function(e){return JSON.parse(localStorage.getItem("languageData")),e.DashboardReducer.action,{}},function(e){return Object(c.bindActionCreators)({},e)})(lm),dm=function(e){function t(e){var a,s;Object(ne.a)(this,t),(s=Object(re.a)(this,Object(oe.a)(t).call(this,e))).showDeleteModal=function(e){s.setState({showModal:!0,reminderId:e.currentTarget.dataset.userid})},s.showEditModal=function(e){s.setState({userId:e.currentTarget.dataset.userid})},s.dismissModal=function(){s.setState({showModal:!1})},s.deleteReminder=function(){localStorage.setItem("isDelete",!0),s.dismissModal();var e=s.state.salesCategoryList;e.length&&(e.map(function(t,a){t.id==s.state.reminderId&&delete e[a]}),s.setState({salesCategoryList:e})),s.props.deletesalesCategoryList(s.state.reminderId),s.dismissModal()},s.handleChildSubmit=function(e){s.setState(e);var t={fromDate:e.fromDate,toDate:e.toDate,clinic_id:e.selectedLocationIdList};s.setState({showLoader:!0}),s.props.fetchSalesCategory(t)};JSON.parse(localStorage.getItem("userData"));var n=JSON.parse(localStorage.getItem("languageData"));return s.state=(a={reminder_before:"",reminder_type:"",salesCategoryList:[],userChanged:!1,showLoadingText:!1,hasMoreItems:!0,startFresh:!0,showLoader:!1,showModal:!1,noRecordDisplayEnable:"no-record",noRecordDisplayDisable:"no-record no-display",globalLang:n.global,salesLang:n.sales},Object(se.a)(a,"showLoadingText",!1),Object(se.a)(a,"selectedLocationIdList",[]),Object(se.a)(a,"locationArray",[]),Object(se.a)(a,"to_date",Object(ss.b)(new Date,"YYYY-MM-DD")),Object(se.a)(a,"from_date",Object(ss.b)(new Date,"YYYY-MM-DD")),Object(se.a)(a,"graphData",[]),a),localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),window.onscroll=function(){window.innerHeight+document.documentElement.scrollTop===document.documentElement.offsetHeight&&null!=s.state.next_page_url&&s.loadMore()},s}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){JSON.parse(localStorage.getItem("languageData"));var e=localStorage.getItem("selectionRange"),t=e?JSON.parse(e):"",a={fromDate:t.startDate,toDate:t.endDate};this.setState({showLoader:!0}),this.props.fetchSalesCategory(a)}},{key:"shouldComponentUpdate",value:function(e,t){return!!this.state.startFresh||(!!this.state.loadMore||!!this.state.showLoader)}},{key:"render",value:function(){return i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(tm,null),i.a.createElement("div",{className:"setting-left-menu"},i.a.createElement(am,null)),i.a.createElement("div",{className:"juvly-section"},i.a.createElement(rm,{locationArray:this.state.locationArray,handleChildSubmit:this.handleChildSubmit,clinicVal:this.state.selectedLocationIdList,location:!0,dateRangePick:!0,reportType:"sales_summary"}),this.state.graphData.length>0&&i.a.createElement("div",{className:"data-usage"},i.a.createElement(cm,{graphData:this.state.graphData})),i.a.createElement("div",{className:"table-responsive"},i.a.createElement("table",{className:"table-updated setting-table no-hover"},i.a.createElement("thead",{className:"table-updated-thead"},i.a.createElement("tr",null,i.a.createElement("th",{className:"col-xs-9 table-updated-th"},this.state.salesLang.sales_category),i.a.createElement("th",{className:"col-xs-3 table-updated-th text-right"},this.state.salesLang.sales_Amount))),i.a.createElement("tbody",{className:"ajax_body"},i.a.createElement("tr",{className:"table-updated-tr gray-row"},i.a.createElement("td",{className:"col-xs-9 table-updated-td"},this.state.salesLang.sales_gross_sales),i.a.createElement("td",{className:"col-xs-3 table-updated-td text-right"},this.state.total_gross_Sales)),i.a.createElement("tr",{className:"table-updated-tr"},i.a.createElement("td",{className:"col-xs-9 table-updated-td sub-table"},this.state.salesLang.sales_discounts_comps),i.a.createElement("td",{className:"col-xs-3 table-updated-td text-right"},this.state.total_net_discount)),i.a.createElement("tr",{className:"table-updated-tr"},i.a.createElement("td",{className:"col-xs-9 table-updated-td sub-table"},this.state.salesLang.sales_wallet_debits),i.a.createElement("td",{className:"col-xs-3 table-updated-td text-right"},this.state.prepayment_adjustment)),i.a.createElement("tr",{className:"table-updated-tr gray-row"},i.a.createElement("td",{className:"col-xs-9 table-updated-td"},this.state.salesLang.sales_net_sales),i.a.createElement("td",{className:"col-xs-3 table-updated-td text-right"},this.state.total_net_Sales)),i.a.createElement("tr",{className:"table-updated-tr"},i.a.createElement("td",{className:"col-xs-9 table-updated-td sub-table"},this.state.salesLang.sales_refunds),i.a.createElement("td",{className:"col-xs-3 table-updated-td text-right"},this.state.refunded_payments)),i.a.createElement("tr",{className:"table-updated-tr"},i.a.createElement("td",{className:"col-xs-9 table-updated-td sub-table"},this.state.salesLang.sales_tax),i.a.createElement("td",{className:"col-xs-3 table-updated-td text-right"},this.state.total_tax)),i.a.createElement("tr",{className:"table-updated-tr"},i.a.createElement("td",{className:"col-xs-9 table-updated-td sub-table"},this.state.salesLang.sales_tip),i.a.createElement("td",{className:"col-xs-3 table-updated-td text-right"},this.state.tip_amount)),i.a.createElement("tr",{className:"table-updated-tr"},i.a.createElement("td",{className:"col-xs-9 table-updated-td sub-table"},this.state.salesLang.sales_cancelation_fee),i.a.createElement("td",{className:"col-xs-3 table-updated-td text-right"},this.state.cancellation_feecollected)),i.a.createElement("tr",{className:"table-updated-tr"},i.a.createElement("td",{className:"col-xs-9 table-updated-td sub-table"},this.state.salesLang.sales_cancelation_fee_refunded),i.a.createElement("td",{className:"col-xs-3 table-updated-td text-right"},this.state.cancellation_feerefunded)),i.a.createElement("tr",{className:"table-updated-tr"},i.a.createElement("td",{className:"col-xs-9 table-updated-td sub-table"},"Wallet Debits"),i.a.createElement("td",{className:"col-xs-3 table-updated-td text-right"},this.state.wallet_total)),i.a.createElement("tr",{className:"table-updated-tr"},i.a.createElement("td",{className:"col-xs-9 table-updated-td sub-table"},this.state.salesLang.sales_pending_partial_payments),i.a.createElement("td",{className:"col-xs-3 table-updated-td text-right"},this.state.pending_partial_amount)),i.a.createElement("tr",{className:"table-updated-tr gray-row"},i.a.createElement("td",{className:"col-xs-9 table-updated-td"},this.state.salesLang.sales_total_collected),i.a.createElement("td",{className:"col-xs-3 table-updated-td text-right"},this.state.total_collected)),i.a.createElement("tr",{className:"table-updated-tr gray-row"},i.a.createElement("td",{className:"col-xs-9 table-updated-td"},this.state.salesLang.sales_net_value_services),i.a.createElement("td",{className:"col-xs-3 table-updated-td text-right"},this.state.NetValueServicesPerformed)),i.a.createElement("tr",{className:"table-updated-tr"},i.a.createElement("td",{className:"col-xs-9 table-updated-td sub-table"},this.state.salesLang.sales_cost_to_company),i.a.createElement("td",{className:"col-xs-3 table-updated-td text-right"},this.state.inventory_expense)),i.a.createElement("tr",{className:"table-updated-tr"},i.a.createElement("td",{className:"col-xs-9 table-updated-td sub-table"},this.state.salesLang.sales_payment_processing_fee),i.a.createElement("td",{className:"col-xs-3 table-updated-td text-right"},this.state.total_processing_fees)),i.a.createElement("tr",{className:"table-updated-tr gray-row"},i.a.createElement("td",{className:"col-xs-9 table-updated-td"},this.state.salesLang.sales_gross_margin),i.a.createElement("td",{className:"col-xs-3 table-updated-td text-right"},this.state.your_profit)),i.a.createElement("tr",{className:"table-updated-tr"},i.a.createElement("td",{className:"col-xs-9 table-updated-td sub-table"},this.state.salesLang.sales_cash),i.a.createElement("td",{className:"col-xs-3 table-updated-td text-right"},this.state.cash_total)),i.a.createElement("tr",{className:"table-updated-tr"},i.a.createElement("td",{className:"col-xs-9 table-updated-td sub-table"},this.state.salesLang.sales_credit_card),i.a.createElement("td",{className:"col-xs-3 table-updated-td text-right"},this.state.cc_total)),i.a.createElement("tr",{className:"table-updated-tr"},i.a.createElement("td",{className:"col-xs-9 table-updated-td sub-table"},this.state.salesLang.sales_care_credit),i.a.createElement("td",{className:"col-xs-3 table-updated-td text-right"},this.state.care_credit_total))))),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.salesLang.sales_please_wait))))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return void 0!==e.salesCategoryList&&200===e.salesCategoryList.status&&t.salesCategoryList!=e.salesCategoryList.data?{salesCategoryList:e.salesCategoryList.data,total_gross_Sales:t.userChanged?t.total_gross_Sales:e.salesCategoryList.data.total_gross_Sales,total_net_discount:t.userChanged?t.total_net_discount:e.salesCategoryList.data.total_net_discount,prepayment_adjustment:t.userChanged?t.prepayment_adjustment:e.salesCategoryList.data.prepayment_adjustment,total_net_Sales:t.userChanged?t.total_net_Sales:e.salesCategoryList.data.total_net_Sales,refunded_payments:t.userChanged?t.refunded_payments:e.salesCategoryList.data.refunded_payments,total_tax:t.userChanged?t.total_tax:e.salesCategoryList.data.total_tax,tip_amount:t.userChanged?t.tip_amount:e.salesCategoryList.data.tip_amount,cancellation_feecollected:t.userChanged?t.cancellation_feecollected:e.salesCategoryList.data.cancellation_feecollected,wallet_total:t.userChanged?t.wallet_total:e.salesCategoryList.data.wallet_total,cancellation_feerefunded:t.userChanged?t.cancellation_feerefunded:e.salesCategoryList.data.cancellation_feerefunded,pending_partial_amount:t.userChanged?t.pending_partial_amount:e.salesCategoryList.data.pending_partial_amount,total_collected:t.userChanged?t.total_collected:e.salesCategoryList.data.total_collected,NetValueServicesPerformed:t.userChanged?t.NetValueServicesPerformed:e.salesCategoryList.data.net_value_services_performed,total_processing_fees:t.userChanged?t.total_processing_fees:e.salesCategoryList.data.total_processing_fees,inventory_expense:t.userChanged?t.inventory_expense:e.salesCategoryList.data.inventory_expense,cash_total:t.userChanged?t.cash_total:e.salesCategoryList.data.cash_total,cc_total:t.userChanged?t.cc_total:e.salesCategoryList.data.cc_total,your_profit:t.userChanged?t.your_profit:e.salesCategoryList.data.your_profit,care_credit_total:t.userChanged?t.care_credit_total:e.salesCategoryList.data.care_credit_total,locationArray:e.salesCategoryList.data.clinics,graphData:e.salesCategoryList.data.per_day_totals,showLoader:!1}:null}}]),t}(n.Component);var mm=Object(Z.b)(function(e){return JSON.parse(localStorage.getItem("languageData")),"SALES_CATEGORY_LIST"!==e.SalesReducer.action?{}:200===e.SalesReducer.data.status?{salesCategoryList:e.SalesReducer.data}:void 0},function(e){return Object(c.bindActionCreators)({fetchSalesCategory:Ed},e)})(dm),um=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault();var t={invoice_text:a.state.invoice_text};a.setState({showLoader:!0}),a.props.createEditInvoiceText(t)},a.handleInputChange=function(e){var t,s=e.target,n="checkbox"===s.type?s.checked:s.value;a.setState((t={},Object(se.a)(t,e.target.name,n),Object(se.a)(t,"userChanged",!0),t))};JSON.parse(localStorage.getItem("userData"));var s=JSON.parse(localStorage.getItem("languageData"));return a.state={report_data:"",invoice_text:"",createEditInvoicesList:[],globalLang:s.global,salesLang:s.sales,showLoader:!1},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){JSON.parse(localStorage.getItem("languageData"));this.setState({showLoader:!0}),this.props.fetchInvoiceText()}},{key:"render",value:function(){return i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(tm,null),i.a.createElement("div",{className:"juvly-section full-width"},i.a.createElement("form",{id:"invoices-text-form",name:"invoices-text",className:"nobottommargin",action:"#",method:"post",onSubmit:this.handleSubmit},i.a.createElement("div",{className:"juvly-container"},i.a.createElement("div",{className:"juvly-title m-b-40"},this.state.salesLang.sales_invoice_disclaimer),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-8 col-sm-12 invoice-discraimer"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.salesLang.sales_invoice_disclaimer),i.a.createElement("textarea",{id:"invoice_text",name:"invoice_text",rows:10,className:"setting-textarea-box invoice-textarea",value:this.state.invoice_text,onChange:this.handleInputChange}))),i.a.createElement("div",{className:"col-md-4 col-sm-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.salesLang.sales_Invoice_preview),i.a.createElement("img",{src:"/images/invoice45.png",className:"invoice-img m-t-20"}))))),i.a.createElement("div",{className:"footer-static"},i.a.createElement("input",{className:"new-blue-btn pull-right",type:"submit",id:"save-profile",autoComplete:"off",value:this.state.salesLang.sales_save}))),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.salesLang.sales_please_wait))))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return void 0!==e.fetchInvoicesList&&200===e.fetchInvoicesList.status&&t.fetchInvoicesList!=e.fetchInvoicesList.data?{fetchInvoicesList:e.fetchInvoicesList.data,invoice_text:t.userChanged?t.invoice_text:e.fetchInvoicesList.data.report_data,showLoader:!1}:void 0!==e.createEditInvoicesList&&200===e.createEditInvoicesList.status&&t.createEditInvoicesList!=e.createEditInvoicesList.data?{showLoader:!1}:null}}]),t}(n.Component);var pm=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData"));if("FETCH_INVOICES"===e.SalesReducer.action){if(200===e.SalesReducer.data.status)return{fetchInvoicesList:e.SalesReducer.data};rt.toast.error(t.global[e.SalesReducer.data.message])}if("CREATE_EDIT_INVOICES"===e.SalesReducer.action){if(200===e.SalesReducer.data.status)return{createEditInvoicesList:e.SalesReducer.data,message:rt.toast.success(t.global[e.SalesReducer.data.message])};rt.toast.error(t.global[e.SalesReducer.data.message])}},function(e){return Object(c.bindActionCreators)({createEditInvoiceText:Ld,fetchInvoiceText:Od},e)})(um),hm=function(e){function t(e){var a,s;Object(ne.a)(this,t),(s=Object(re.a)(this,Object(oe.a)(t).call(this,e))).showDeleteModal=function(e){s.setState({showModal:!0,reminderId:e.currentTarget.dataset.userid})},s.showEditModal=function(e){s.setState({userId:e.currentTarget.dataset.userid})},s.dismissModal=function(){s.setState({showModal:!1})},s.handleChildSubmit=function(e){s.setState(e);var t={fromDate:e.fromDate,toDate:e.toDate,clinic_id:e.selectedLocationIdList};s.setState({showLoader:!0}),s.props.fetchMonthlyNetSales(t)},s.toggleAnchor=function(e){var t={};t["upDown-"+e]=!s.state["upDown-"+e],s.setState(t)};JSON.parse(localStorage.getItem("userData"));var n=JSON.parse(localStorage.getItem("languageData"));return s.state=(a={sales_header:{},upDown:!1,report_header:{},monthlyNetValues:[],total_invoices:"",grouping:"",avg_gross_sales:"",avg_net_sales:"",gross_sales:"",net_sales:"",next_page_url:"",page:1,pagesize:15,hasMoreItems:!0,reminder_before:"",reminder_type:"",locationArray:[],MonthlyNetSalesList:[],userChanged:!1,showLoadingText:!1},Object(se.a)(a,"hasMoreItems",!0),Object(se.a)(a,"startFresh",!0),Object(se.a)(a,"showLoader",!1),Object(se.a)(a,"showModal",!1),Object(se.a)(a,"noRecordDisplayEnable","no-record"),Object(se.a)(a,"noRecordDisplayDisable","no-record no-display"),Object(se.a)(a,"globalLang",n.global),Object(se.a)(a,"salesLang",n.sales),Object(se.a)(a,"showLoadingText",!1),Object(se.a)(a,"selectedLocationIdList",[]),Object(se.a)(a,"clinicObjList",{}),Object(se.a)(a,"to_date",Object(ss.b)(new Date,"YYYY-MM-DD")),Object(se.a)(a,"from_date",Object(ss.b)(new Date,"YYYY-MM-DD")),Object(se.a)(a,"graphData",[]),Object(se.a)(a,"reportHeader",[]),Object(se.a)(a,"reportDataValues",[]),a),localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),s}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){JSON.parse(localStorage.getItem("languageData"));var e=localStorage.getItem("selectionRange"),t=e?JSON.parse(e):"",a={fromDate:t.startDate,toDate:t.endDate};this.setState({showLoader:!0}),this.props.fetchMonthlyNetSales(a)}},{key:"shouldComponentUpdate",value:function(e,t){return!!this.state.startFresh||(!!this.state.loadMore||!!this.state.showLoader)}},{key:"render",value:function(){var e=this,t=[];null!=this.state.total&&(t=Object.entries(this.state.total).map(function(e){var t=Object(ye.a)(e,2);return{key:t[0],value:t[1]}}));var a=[];null!=this.state.total&&(a=Object.entries(this.state.sales_header).map(function(e){var t=Object(ye.a)(e,2);return{key:t[0],value:t[1]}}));var s=[];return this.state.reportHeader.map(function(e,t){s.push()}),i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(tm,null),i.a.createElement("div",{className:"setting-left-menu"},i.a.createElement(am,null)),i.a.createElement("div",{className:"juvly-section"},i.a.createElement(rm,{locationArray:this.state.locationArray,handleChildSubmit:this.handleChildSubmit,clinicVal:this.state.selectedLocationIdList,location:!0,dateRangePick:!0,reportType:"monthly_net_sales"}),i.a.createElement("div",{className:"bg-light-blue juvly-container"},i.a.createElement("div",{className:"juvly-title"},this.state.salesLang.sales_monthly_net_sales),i.a.createElement("div",{className:"new-all-stats"},a.length>0&&a.map(function(e,t){var a=e.key.replace("total_invoices","sales").replace(/_/g," ");return i.a.createElement("div",{className:"stats-section",key:t},i.a.createElement("div",{className:"dash-box-title"},a),i.a.createElement("div",{className:"new-all-stats-content",id:"monthly_sales"},e.value))}))),i.a.createElement("div",{className:"table-responsive"},i.a.createElement("div",{className:"accordion-table sales-accordian accord-min-width monthly-net-sale-table"},i.a.createElement("div",{className:"accordion-row accordion-head"},this.state.reportHeader.length>0&&this.state.reportHeader.map(function(e,t){return i.a.createElement("div",{className:0==t?"accordian-section col-xs-2 text-left":"accordian-section col-xs-2 text-right",key:t},Object.values(e))})),this.state.reportDataValues.length>0&&this.state.reportDataValues.map(function(t,a){return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"accordion-row"},i.a.createElement("div",{className:"accordion-title profile no-border"},e.state.reportHeader.map(function(s,n){return i.a.createElement("div",{className:0==n?"accordian-section col-xs-2 text-left inner-box no-wrap":"accordian-section col-xs-2 text-right inner-box no-wrap",key:n},0===n&&t.data.length>0&&i.a.createElement(i.a.Fragment,null,i.a.createElement("a",{className:"yes"==e.state.grouping&&0==e.state["upDown-"+a]?"":"no-display",name:"upDown",value:e.state.upDown,onClick:e.toggleAnchor.bind(e,a)},i.a.createElement("i",{className:"fas fa-angle-down toggle-arrow"})),i.a.createElement("a",{className:"yes"==e.state.grouping&&1==e.state["upDown-"+a]?"":"no-display",name:"upDown",value:e.state.upDown,onClick:e.toggleAnchor.bind(e,a)},i.a.createElement("i",{className:"fas fa-angle-up toggle-arrow"})))," ",t.clinic&&t.clinic[Object.keys(s)])})),t.data.length>0&&e.state.reportHeader.length>0&&t.data.map(function(t,s){return i.a.createElement("div",{className:"yes"==e.state.grouping&&1==e.state["upDown-"+a]?"accordion-discription-row":"accordion-discription-row no-display",key:s},e.state.reportHeader.map(function(e,a){return i.a.createElement("div",{className:0!==a?"accordian-section col-xs-2 text-right":"accordian-section col-xs-2 text-left",key:a},t[Object.keys(e)])}))})))}),i.a.createElement("div",{className:"accordion-discription-row"},i.a.createElement("div",{className:"accordian-section col-xs-2 text-left"},i.a.createElement("b",null,this.state.salesLang.sales_total)),t.length>0&&t.slice(1).map(function(e,t){return i.a.createElement("div",{className:"accordian-section col-xs-2 text-right",key:t},i.a.createElement("b",null,e.value))}))),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.salesLang.sales_please_wait)))))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(void 0!==e.MonthlyNetSalesList&&200===e.MonthlyNetSalesList.status&&t.MonthlyNetSalesList!=e.MonthlyNetSalesList.data){var a={},s=e.MonthlyNetSalesList.data.report_data;return s.length&&s.map(function(e,t){a["upDown-"+t]=!1}),a.MonthlyNetSalesList=e.MonthlyNetSalesList.data,a.sales_header=e.MonthlyNetSalesList.data.sales_header,a.total=e.MonthlyNetSalesList.data.total,a.reportDataValues=e.MonthlyNetSalesList.data.report_data,a.locationArray=e.MonthlyNetSalesList.data.clinics,a.reportHeader=e.MonthlyNetSalesList.data.report_header,a.grouping=e.MonthlyNetSalesList.data.grouping,a.showLoader=!1,a}return null}}]),t}(n.Component);var gm=Object(Z.b)(function(e){return JSON.parse(localStorage.getItem("languageData")),"MONTHLY_NET_SALES_LIST"!==e.SalesReducer.action?{}:200===e.SalesReducer.data.status?{MonthlyNetSalesList:e.SalesReducer.data}:void 0},function(e){return Object(c.bindActionCreators)({fetchMonthlyNetSales:yd},e)})(hm);Pa()(Ma.a);var _m=function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).renderHighChart=function(){var e=Ma.a.chart("container",{chart:{type:"column",height:200},title:{text:""},subtitle:{text:"Top 5 Items : Gross Sales "},xAxis:{type:"category"},yAxis:{title:{text:""}},legend:{enabled:!1},plotOptions:{series:{borderWidth:0,dataLabels:{enabled:!0,format:"${point.y:.1f}"}}},tooltip:{headerFormat:'<span style="font-size:11px">{series.name}</span><br>',pointFormat:'<span style="color:{point.color}">{point.name}</span>: <b>${point.y:.2f}</b><br/>'},series:[{name:"Item Sales",colorByPoint:!0,data:a.props.graphData}]});return a.setState({highcharts:e}),e},a.state={reportDataValues:[[parseInt(Se()(new Date("2018-12-10")).format("x")),30],[parseInt(Se()(new Date("2018-12-11")).format("x")),40],[parseInt(Se()(new Date("2018-12-14")).format("x")),70]],highcharts:{},graphData:[]},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){this.renderHighChart()}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"category-graph category-graph-column",id:"container"}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};console.log(e),console.log(t.highcharts);var s=[];(e.graphData.length&&e.graphData.map(function(e,t){console.log(e.name);var a=e.name,n=a.length;e.name=n>16?a.substring(0,15)+"...":a,s.push(e)}),console.log(s),void 0!=t.highcharts.series)&&(t.highcharts.update({series:[{name:"Item Sales",colorByPoint:!0,data:s}]}),a.graphData=[{name:"Botox",y:32.3,drilldown:null}]);return a}}]),t}(n.Component),vm=function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).state={storageData:{},reportDataValues:[]},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"sale-graph",id:"MonthChartContainer","data-highcharts-chart":"0"},i.a.createElement(_m,{graphData:this.props.graphData}))}}]),t}(i.a.Component);var fm=Object(Z.b)(function(e){return JSON.parse(localStorage.getItem("languageData")),{}},function(e){return Object(c.bindActionCreators)({},e)})(vm),bm=function(e){function t(e){var a,s;Object(ne.a)(this,t),(s=Object(re.a)(this,Object(oe.a)(t).call(this,e))).showDeleteModal=function(e){s.setState({showModal:!0,reminderId:e.currentTarget.dataset.userid})},s.showEditModal=function(e){s.setState({userId:e.currentTarget.dataset.userid})},s.dismissModal=function(){s.setState({showModal:!1})},s.deleteReminder=function(){localStorage.setItem("isDelete",!0),s.dismissModal();var e=s.state.ItemSalesList;e.length&&(e.map(function(t,a){t.id==s.state.reminderId&&delete e[a]}),s.setState({ItemSalesList:e})),s.props.deleteItemSalesList(s.state.reminderId),s.dismissModal()},s.handleChildSubmit=function(e){s.setState(e);var t={fromDate:e.fromDate,toDate:e.toDate,clinic_id:e.selectedLocationIdList};s.setState({showLoader:!0}),s.props.fetchItemSales(t)};JSON.parse(localStorage.getItem("userData"));var n=JSON.parse(localStorage.getItem("languageData"));return s.state=(a={sales_header:{},upDown:!1,report_header:{},monthlyNetValues:[],total_invoices:"",grouping:"",avg_gross_sales:"",avg_net_sales:"",gross_sales:"",net_sales:"",next_page_url:"",page:1,pagesize:15,hasMoreItems:!0,reminder_before:"",reminder_type:"",locationArray:[],ItemSalesList:[],userChanged:!1,showLoadingText:!1},Object(se.a)(a,"hasMoreItems",!0),Object(se.a)(a,"startFresh",!0),Object(se.a)(a,"showLoader",!1),Object(se.a)(a,"showModal",!1),Object(se.a)(a,"noRecordDisplayEnable","no-record"),Object(se.a)(a,"noRecordDisplayDisable","no-record no-display"),Object(se.a)(a,"globalLang",n.global),Object(se.a)(a,"salesLang",n.sales),Object(se.a)(a,"showLoadingText",!1),Object(se.a)(a,"selectedLocationIdList",[]),Object(se.a)(a,"clinicObjList",{}),Object(se.a)(a,"to_date",Object(ss.b)(new Date,"YYYY-MM-DD")),Object(se.a)(a,"from_date",Object(ss.b)(new Date,"YYYY-MM-DD")),Object(se.a)(a,"graphData",[]),Object(se.a)(a,"reportHeader",[]),Object(se.a)(a,"reportDataValues",[]),a),localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),s}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){JSON.parse(localStorage.getItem("languageData"));var e=localStorage.getItem("selectionRange"),t=e?JSON.parse(e):"",a={fromDate:t.startDate,toDate:t.endDate};this.setState({showLoader:!0}),this.props.fetchItemSales(a)}},{key:"shouldComponentUpdate",value:function(e,t){return!!this.state.startFresh||(!!this.state.loadMore||!!this.state.showLoader)}},{key:"render",value:function(){var e=this,t=[];null!=this.state.total&&(t=Object.entries(this.state.total).map(function(e){var t=Object(ye.a)(e,2);return{key:t[0],value:t[1]}}));var a=[];null!=this.state.total&&(a=Object.entries(this.state.sales_header).map(function(e){var t=Object(ye.a)(e,2);return{key:t[0],value:t[1]}}));var s=[];return this.state.reportHeader.map(function(e,t){s.push()}),i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(tm,null),i.a.createElement("div",{className:"setting-left-menu"},i.a.createElement(am,null)),i.a.createElement("div",{className:"juvly-section"},i.a.createElement(rm,{locationArray:this.state.locationArray,handleChildSubmit:this.handleChildSubmit,clinicVal:this.state.selectedLocationIdList,location:!0,dateRangePick:!0,reportType:"item_sales"}),this.state.graphData.length>0&&i.a.createElement(fm,{graphData:this.state.graphData}),i.a.createElement("div",{className:"bg-light-blue juvly-container"},i.a.createElement("div",{className:"juvly-title"},"Item Sales"),i.a.createElement("div",{className:"new-all-stats"},a.length>0&&a.map(function(e,t){var a=e.key.replace("total_invoices","sales").replace(/_/g," ");return i.a.createElement("div",{className:"stats-section",key:t},i.a.createElement("div",{className:"dash-box-title"},a),i.a.createElement("div",{className:"new-all-stats-content",id:"monthly_sales"},e.value))}))),i.a.createElement("div",{className:"table-responsive"},i.a.createElement("table",{className:"table-updated setting-table no-hover"},i.a.createElement("thead",{className:"table-updated-thead"},i.a.createElement("tr",null,this.state.reportHeader.length>0&&this.state.reportHeader.map(function(e,t){return i.a.createElement("td",{className:0==t?"col-xs-2 table-updated-th text-left":"col-xs-2 table-updated-th text-right",key:t},Object.values(e))}))),i.a.createElement("tbody",{className:"ajax_body"},this.state.reportDataValues.length>0&&this.state.reportDataValues.map(function(t,a){return i.a.createElement("tr",{className:"table-updated-tr"},e.state.reportHeader.length>0&&e.state.reportHeader.map(function(e,a){return i.a.createElement("td",{className:0==a?"col-xs-2 table-updated-th text-left":"col-xs-2 table-updated-th text-right"},t[Object.keys(e)])}))}),i.a.createElement("tr",{className:"table-updated-tr"},i.a.createElement("td",{className:"col-xs-3 table-updated-td"},i.a.createElement("b",null,this.state.salesLang.sales_total)),t.length>0&&t.slice(1).map(function(e,t){return i.a.createElement("td",{className:"col-xs-2 table-updated-td text-right",key:t},i.a.createElement("b",null,e.value))})))),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.salesLang.sales_please_wait)))))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(void 0!==e.ItemSalesList&&200===e.ItemSalesList.status&&t.ItemSalesList!=e.ItemSalesList.data){var a=[];return e.ItemSalesList.data.report_data.length&&e.ItemSalesList.data.report_data.map(function(e,t){if(t<5){var s=e.gross_sales.split("$")[1];s=s.replace(/,/g,""),a.push({name:e.item,y:parseInt(s),drilldown:e.item})}}),{ItemSalesList:e.ItemSalesList.data,sales_header:e.ItemSalesList.data.sales_header,total:e.ItemSalesList.data.total,reportDataValues:e.ItemSalesList.data.report_data,locationArray:e.ItemSalesList.data.clinics,reportHeader:e.ItemSalesList.data.report_header,grouping:e.ItemSalesList.data.grouping,showLoader:!1,graphData:a}}return null}}]),t}(n.Component);var Em=Object(Z.b)(function(e){return JSON.parse(localStorage.getItem("languageData")),"ITEM_SALES_LIST"!==e.SalesReducer.action?{}:200===e.SalesReducer.data.status?{ItemSalesList:e.SalesReducer.data}:void 0},function(e){return Object(c.bindActionCreators)({fetchItemSales:Dd},e)})(bm);Pa()(Ma.a);var ym=function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).renderHighChart=function(){var e=Ma.a.chart("container",{chart:{type:"column",height:200},title:{text:""},subtitle:{text:"Top 5 Categories : Gross Sales "},xAxis:{type:"category"},yAxis:{title:{text:""}},legend:{enabled:!1},plotOptions:{series:{borderWidth:0,dataLabels:{enabled:!0,format:"${point.y:.1f}"}}},tooltip:{headerFormat:'<span style="font-size:11px">{series.name}</span><br>',pointFormat:'<span style="color:{point.color}">{point.name}</span>: <b>${point.y:.2f}</b><br/>'},series:[{name:"Category Sales",colorByPoint:!0,data:a.props.graphData}],drilldown:{series:[{name:"Botox",id:"Botox",data:[["v65.0",.1],["v64.0",1.3],["v63.0",53.02],["v62.0",1.4],["v61.0",.88],["v60.0",.56],["v59.0",.45],["v58.0",.49],["v57.0",.32],["v56.0",.29],["v55.0",.79],["v54.0",.18],["v51.0",.13],["v49.0",2.16],["v48.0",.13],["v47.0",.11],["v43.0",.17],["v29.0",.26]]}]}});return a.setState({highcharts:e}),e},a.state={reportDataValues:[[parseInt(Se()(new Date("2018-12-10")).format("x")),30],[parseInt(Se()(new Date("2018-12-11")).format("x")),40],[parseInt(Se()(new Date("2018-12-14")).format("x")),70]],highcharts:{},graphData:[]},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){this.renderHighChart()}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"category-graph",id:"container"}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};void 0!=t.highcharts.series&&(t.highcharts.update({series:[{name:"Item Sales",colorByPoint:!0,data:e.graphData}]}),a.graphData=e.graphData);return a}}]),t}(n.Component),Nm=function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).state={storageData:{},reportDataValues:[]},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"sale-graph",id:"MonthChartContainer","data-highcharts-chart":"0"},i.a.createElement(ym,{graphData:this.props.graphData}))}}]),t}(i.a.Component);var Sm=Object(Z.b)(function(e){return JSON.parse(localStorage.getItem("languageData")),{}},function(e){return Object(c.bindActionCreators)({},e)})(Nm),Dm=function(e){function t(e){var a,s;Object(ne.a)(this,t),(s=Object(re.a)(this,Object(oe.a)(t).call(this,e))).showDeleteModal=function(e){s.setState({showModal:!0,reminderId:e.currentTarget.dataset.userid})},s.showEditModal=function(e){s.setState({userId:e.currentTarget.dataset.userid})},s.dismissModal=function(){s.setState({showModal:!1})},s.deleteReminder=function(){localStorage.setItem("isDelete",!0),s.dismissModal();var e=s.state.CategorySalesList;e.length&&(e.map(function(t,a){t.id==s.state.reminderId&&delete e[a]}),s.setState({CategorySalesList:e})),s.props.deleteCategorySalesList(s.state.reminderId),s.dismissModal()},s.handleChildSubmit=function(e){s.setState(e);var t={fromDate:e.fromDate,toDate:e.toDate,clinic_id:e.selectedLocationIdList};s.setState({showLoader:!0}),s.props.fetchCategorySales(t)};JSON.parse(localStorage.getItem("userData"));var n=JSON.parse(localStorage.getItem("languageData"));return s.state=(a={sales_header:{},upDown:!1,report_header:{},monthlyNetValues:[],total_invoices:"",grouping:"",avg_gross_sales:"",avg_net_sales:"",gross_sales:"",net_sales:"",next_page_url:"",page:1,pagesize:15,hasMoreItems:!0,reminder_before:"",reminder_type:"",locationArray:[],CategorySalesList:[],userChanged:!1,showLoadingText:!1},Object(se.a)(a,"hasMoreItems",!0),Object(se.a)(a,"startFresh",!0),Object(se.a)(a,"showLoader",!1),Object(se.a)(a,"showModal",!1),Object(se.a)(a,"noRecordDisplayEnable","no-record"),Object(se.a)(a,"noRecordDisplayDisable","no-record no-display"),Object(se.a)(a,"globalLang",n.global),Object(se.a)(a,"salesLang",n.sales),Object(se.a)(a,"showLoadingText",!1),Object(se.a)(a,"selectedLocationIdList",[]),Object(se.a)(a,"clinicObjList",{}),Object(se.a)(a,"to_date",Object(ss.b)(new Date,"YYYY-MM-DD")),Object(se.a)(a,"from_date",Object(ss.b)(new Date,"YYYY-MM-DD")),Object(se.a)(a,"graphData",[]),Object(se.a)(a,"reportHeader",[]),Object(se.a)(a,"reportDataValues",[]),a),localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),s}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){JSON.parse(localStorage.getItem("languageData"));var e=localStorage.getItem("selectionRange"),t=e?JSON.parse(e):"",a={fromDate:t.startDate,toDate:t.endDate};this.setState({showLoader:!0}),this.props.fetchCategorySales(a)}},{key:"shouldComponentUpdate",value:function(e,t){return!!this.state.startFresh||(!!this.state.loadMore||!!this.state.showLoader)}},{key:"render",value:function(){var e=this,t=[];null!=this.state.total&&(t=Object.entries(this.state.total).map(function(e){var t=Object(ye.a)(e,2);return{key:t[0],value:t[1]}}));var a=[];null!=this.state.total&&(a=Object.entries(this.state.sales_header).map(function(e){var t=Object(ye.a)(e,2);return{key:t[0],value:t[1]}}));var s=[];return this.state.reportHeader.map(function(e,t){s.push()}),i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(tm,null),i.a.createElement("div",{className:"setting-left-menu"},i.a.createElement(am,null)),i.a.createElement("div",{className:"juvly-section"},i.a.createElement(rm,{locationArray:this.state.locationArray,handleChildSubmit:this.handleChildSubmit,clinicVal:this.state.selectedLocationIdList,location:!0,dateRangePick:!0,reportType:"category_sales"}),this.state.graphData.length>0&&i.a.createElement(Sm,{graphData:this.state.graphData}),i.a.createElement("div",{className:"bg-light-blue juvly-container"},i.a.createElement("div",{className:"juvly-title"},this.state.salesLang.sales_category_sales),i.a.createElement("div",{className:"new-all-stats"},a.length>0&&a.map(function(e,t){var a=e.key.replace("total_invoices","sales").replace(/_/g," ");return i.a.createElement("div",{className:"stats-section",key:t},i.a.createElement("div",{className:"dash-box-title"},a),i.a.createElement("div",{className:"new-all-stats-content",id:"monthly_sales"},e.value))}))),i.a.createElement("div",{className:"table-responsive"},i.a.createElement("table",{className:"table-updated setting-table no-hover"},i.a.createElement("thead",{className:"table-updated-thead"},i.a.createElement("tr",null,this.state.reportHeader.length>0&&this.state.reportHeader.map(function(e,t){return i.a.createElement("td",{className:0==t?"col-xs-3 table-updated-th text-left":"col-xs-3 table-updated-th text-right",key:t},Object.values(e))}))),i.a.createElement("tbody",{className:"ajax_body"},this.state.reportDataValues.length>0&&this.state.reportDataValues.map(function(t,a){return i.a.createElement("tr",{className:"table-updated-tr"},e.state.reportHeader.length>0&&e.state.reportHeader.map(function(e,a){return i.a.createElement("td",{className:0==a?"col-xs-3 table-updated-th text-left":"col-xs-3 table-updated-th text-right"},t[Object.keys(e)])}))}),i.a.createElement("tr",{className:"table-updated-tr"},i.a.createElement("td",{className:"col-xs-3 table-updated-td"},i.a.createElement("b",null,this.state.salesLang.sales_total)),t.length>0&&t.slice(1).map(function(e,t){return i.a.createElement(i.a.Fragment,null,i.a.createElement("td",{className:"col-xs-3 table-updated-td text-right"},i.a.createElement("b",null,e.value)))})))),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.salesLang.sales_please_wait)))))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(void 0!==e.CategorySalesList&&200===e.CategorySalesList.status&&t.CategorySalesList!=e.CategorySalesList.data){var a=[];return e.CategorySalesList.data.report_data.length&&e.CategorySalesList.data.report_data.map(function(e,t){if(t<5){var s=e.gross_sales.split("$")[1];s=s.replace(/,/g,""),a.push({name:e.category,y:parseInt(s),drilldown:e.category})}}),{CategorySalesList:e.CategorySalesList.data,sales_header:e.CategorySalesList.data.sales_header,total:e.CategorySalesList.data.total,reportDataValues:e.CategorySalesList.data.report_data,locationArray:e.CategorySalesList.data.clinics,reportHeader:e.CategorySalesList.data.report_header,grouping:e.CategorySalesList.data.grouping,showLoader:!1,graphData:a}}return null}}]),t}(n.Component);var wm=Object(Z.b)(function(e){return JSON.parse(localStorage.getItem("languageData")),"CATEGORY_SALES_LIST"!==e.SalesReducer.action?{}:200===e.SalesReducer.data.status?{CategorySalesList:e.SalesReducer.data}:void 0},function(e){return Object(c.bindActionCreators)({fetchCategorySales:wd},e)})(Dm),Cm=function(e){function t(e){var a,s;Object(ne.a)(this,t),(s=Object(re.a)(this,Object(oe.a)(t).call(this,e))).showDeleteModal=function(e){s.setState({showModal:!0,reminderId:e.currentTarget.dataset.userid})},s.showEditModal=function(e){s.setState({userId:e.currentTarget.dataset.userid})},s.dismissModal=function(){s.setState({showModal:!1})},s.deleteReminder=function(){localStorage.setItem("isDelete",!0),s.dismissModal();var e=s.state.EmployeeSalesList;e.length&&(e.map(function(t,a){t.id==s.state.reminderId&&delete e[a]}),s.setState({EmployeeSalesList:e})),s.props.deleteEmployeeSalesList(s.state.reminderId),s.dismissModal()},s.handleChildSubmit=function(e){s.setState(e);var t={fromDate:e.fromDate,toDate:e.toDate,clinic_id:e.selectedLocationIdList};s.setState({showLoader:!0}),s.props.fetchEmployeeSales(t)},s.toggleAnchor=function(e){var t={};t["upDown-"+e]=!s.state["upDown-"+e],s.setState(t)};JSON.parse(localStorage.getItem("userData"));var n=JSON.parse(localStorage.getItem("languageData"));return s.state=(a={sales_header:{},upDown:!1,report_header:{},monthlyNetValues:[],total_invoices:"",grouping:"",avg_gross_sales:"",avg_net_sales:"",gross_sales:"",net_sales:"",next_page_url:"",page:1,pagesize:15,hasMoreItems:!0,reminder_before:"",reminder_type:"",locationArray:[],EmployeeSalesList:[],userChanged:!1,showLoadingText:!1},Object(se.a)(a,"hasMoreItems",!0),Object(se.a)(a,"startFresh",!0),Object(se.a)(a,"showLoader",!1),Object(se.a)(a,"showModal",!1),Object(se.a)(a,"noRecordDisplayEnable","no-record"),Object(se.a)(a,"noRecordDisplayDisable","no-record no-display"),Object(se.a)(a,"globalLang",n.global),Object(se.a)(a,"salesLang",n.sales),Object(se.a)(a,"showLoadingText",!1),Object(se.a)(a,"selectedLocationIdList",[]),Object(se.a)(a,"employeeObjList",{}),Object(se.a)(a,"to_date",Object(ss.b)(new Date,"YYYY-MM-DD")),Object(se.a)(a,"from_date",Object(ss.b)(new Date,"YYYY-MM-DD")),Object(se.a)(a,"graphData",[]),Object(se.a)(a,"reportHeader",[]),Object(se.a)(a,"reportDataValues",[]),a),localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),s}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){JSON.parse(localStorage.getItem("languageData"));var e=localStorage.getItem("selectionRange"),t=e?JSON.parse(e):"",a={fromDate:t.startDate,toDate:t.endDate};this.setState({showLoader:!0}),this.props.fetchEmployeeSales(a)}},{key:"shouldComponentUpdate",value:function(e,t){return!!this.state.startFresh||(!!this.state.loadMore||!!this.state.showLoader)}},{key:"render",value:function(){var e=this,t=[];null!=this.state.total&&(t=Object.entries(this.state.total).map(function(e){var t=Object(ye.a)(e,2);return{key:t[0],value:t[1]}}));var a=[];null!=this.state.total&&(a=Object.entries(this.state.sales_header).map(function(e){var t=Object(ye.a)(e,2);return{key:t[0],value:t[1]}}));var s=[];return this.state.reportHeader.map(function(e,t){s.push()}),i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(tm,null),i.a.createElement("div",{className:"setting-left-menu"},i.a.createElement(am,null)),i.a.createElement("div",{className:"juvly-section"},i.a.createElement(rm,{locationArray:this.state.locationArray,handleChildSubmit:this.handleChildSubmit,clinicVal:this.state.selectedLocationIdList,location:!0,dateRangePick:!0,reportType:"employee_sales_report"}),i.a.createElement("div",{className:"bg-light-blue juvly-container"},i.a.createElement("div",{className:"juvly-title"},"Employee Sales"),i.a.createElement("div",{className:"new-all-stats"},a.length>0&&a.map(function(e,t){var a=e.key.replace("total_invoices","sales").replace(/_/g," ");return i.a.createElement("div",{className:"stats-section",key:t},i.a.createElement("div",{className:"dash-box-title"},a),i.a.createElement("div",{className:"new-all-stats-content",id:"monthly_sales"},e.value))}))),i.a.createElement("div",{className:"table-responsive"},i.a.createElement("div",{className:"accordion-table sales-accordian accord-min-width employee-sale-table"},i.a.createElement("div",{className:"accordion-row accordion-head"},this.state.reportHeader.length>0&&this.state.reportHeader.map(function(e,t){return i.a.createElement("div",{className:0==t?"accordian-section text-left":"accordian-section text-right",key:t},Object.values(e))})),this.state.reportDataValues.length>0&&this.state.reportDataValues.map(function(t,a){return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"accordion-row"},i.a.createElement("div",{className:"accordion-title profile"},e.state.reportHeader.length>0&&e.state.reportHeader.map(function(s,n){return i.a.createElement("div",{className:0==n?"accordian-section text-left inner-box no-wrap":"accordian-section text-right inner-box no-wrap",key:n},0===n&&t.data.length>0&&i.a.createElement(i.a.Fragment,null,i.a.createElement("a",{className:"yes"==e.state.grouping&&0==e.state["upDown-"+a]?"":"no-display",name:"upDown",value:e.state.upDown,onClick:e.toggleAnchor.bind(e,a)},i.a.createElement("i",{className:"fas fa-angle-down toggle-arrow"})),i.a.createElement("a",{className:"yes"==e.state.grouping&&1==e.state["upDown-"+a]?"":"no-display",name:"upDown",value:e.state.upDown,onClick:e.toggleAnchor.bind(e,a)},i.a.createElement("i",{className:"fas fa-angle-up toggle-arrow"})))," ",t.employee&&t.employee[Object.keys(s)])})),t.data.length>0&&e.state.reportHeader.length>0&&t.data.map(function(t,s){return i.a.createElement("div",{className:"yes"==e.state.grouping&&1==e.state["upDown-"+a]?"accordion-discription-row":"accordion-discription-row no-display",key:s},e.state.reportHeader.map(function(e,a){return i.a.createElement("div",{className:0==a?"accordian-section text-left":"accordian-section text-right",key:a},t[Object.keys(e)])}))})))}),i.a.createElement("div",{className:"accordion-discription-row"},i.a.createElement("div",{className:"accordian-section  text-left"},i.a.createElement("b",null,this.state.salesLang.sales_total)),t.length>0&&t.slice(1).map(function(e,t){return i.a.createElement("div",{className:"accordian-section text-right",key:t},i.a.createElement("b",null,e.value))}))),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.salesLang.sales_please_wait)))))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(void 0!==e.EmployeeSalesList&&200===e.EmployeeSalesList.status&&t.EmployeeSalesList!=e.EmployeeSalesList.data){var a={},s=e.EmployeeSalesList.data.report_data;return s.length&&s.map(function(e,t){a["upDown-"+t]=!1}),a.EmployeeSalesList=e.EmployeeSalesList.data,a.sales_header=e.EmployeeSalesList.data.sales_header,a.total=e.EmployeeSalesList.data.total,a.reportDataValues=e.EmployeeSalesList.data.report_data,a.locationArray=e.EmployeeSalesList.data.clinics,a.reportHeader=e.EmployeeSalesList.data.report_header,a.grouping=e.EmployeeSalesList.data.grouping,a.showLoader=!1,a}return null}}]),t}(n.Component);var xm=Object(Z.b)(function(e){return JSON.parse(localStorage.getItem("languageData")),"EMPLOYEE_SALES_REPORT_LIST"!==e.SalesReducer.action?{}:200===e.SalesReducer.data.status?{EmployeeSalesList:e.SalesReducer.data}:void 0},function(e){return Object(c.bindActionCreators)({fetchEmployeeSales:Sd},e)})(Cm),Lm=function(e){function t(e){var a,s;Object(ne.a)(this,t),(s=Object(re.a)(this,Object(oe.a)(t).call(this,e))).showDeleteModal=function(e){s.setState({showModal:!0,reminderId:e.currentTarget.dataset.userid})},s.showEditModal=function(e){s.setState({userId:e.currentTarget.dataset.userid})},s.dismissModal=function(){s.setState({showModal:!1})},s.handleChildSubmit=function(e){s.setState(e);var t={fromDate:e.fromDate,toDate:e.toDate,clinic_id:e.selectedLocationIdList};s.setState({showLoader:!0}),s.props.fetchPaymentMethods(t)};JSON.parse(localStorage.getItem("userData"));var n=JSON.parse(localStorage.getItem("languageData"));return s.state=(a={upDown:!1,report_header:{},monthlyNetValues:[],total_invoices:"",grouping:"",avg_gross_sales:"",avg_net_sales:"",gross_sales:"",net_sales:"",next_page_url:"",page:1,pagesize:15,hasMoreItems:!0,reminder_before:"",reminder_type:"",locationArray:[],paymentMethodsList:[],userChanged:!1,showLoadingText:!1},Object(se.a)(a,"hasMoreItems",!0),Object(se.a)(a,"startFresh",!0),Object(se.a)(a,"showLoader",!1),Object(se.a)(a,"showModal",!1),Object(se.a)(a,"noRecordDisplayEnable","no-record"),Object(se.a)(a,"noRecordDisplayDisable","no-record no-display"),Object(se.a)(a,"globalLang",n.global),Object(se.a)(a,"salesLang",n.sales),Object(se.a)(a,"showLoadingText",!1),Object(se.a)(a,"selectedLocationIdList",[]),Object(se.a)(a,"clinicObjList",{}),Object(se.a)(a,"to_date",Object(ss.b)(new Date,"YYYY-MM-DD")),Object(se.a)(a,"from_date",Object(ss.b)(new Date,"YYYY-MM-DD")),Object(se.a)(a,"graphData",[]),Object(se.a)(a,"reportHeader",[]),Object(se.a)(a,"reportDataValues",[]),a),localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),s}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){JSON.parse(localStorage.getItem("languageData"));var e=localStorage.getItem("selectionRange"),t=e?JSON.parse(e):"",a={fromDate:t.startDate,toDate:t.endDate};this.setState({showLoader:!0}),this.props.fetchPaymentMethods(a)}},{key:"shouldComponentUpdate",value:function(e,t){return!!this.state.startFresh||(!!this.state.loadMore||!!this.state.showLoader)}},{key:"render",value:function(){var e=this,t=[];null!=this.state.total&&(t=Object.entries(this.state.total).map(function(e){var t=Object(ye.a)(e,2);return{key:t[0],value:t[1]}}));var a=[];return this.state.reportHeader.map(function(e,t){a.push()}),i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(tm,null),i.a.createElement("div",{className:"setting-left-menu"},i.a.createElement(am,null)),i.a.createElement("div",{className:"juvly-section"},i.a.createElement(rm,{locationArray:this.state.locationArray,handleChildSubmit:this.handleChildSubmit,clinicVal:this.state.selectedLocationIdList,location:!0,dateRangePick:!0,reportType:"payment_methods"}),i.a.createElement("div",{className:"table-responsive"},i.a.createElement("table",{className:"table-updated setting-table no-hover"},i.a.createElement("thead",{className:"table-updated-thead"},i.a.createElement("tr",null,this.state.reportHeader.length>0&&this.state.reportHeader.map(function(e,t){return i.a.createElement(i.a.Fragment,null,i.a.createElement("th",{className:0==t?"col-xs-4 table-updated-th text-left":"col-xs-4 table-updated-th text-right"},Object.values(e)))}))),i.a.createElement("tbody",{className:"ajax_body"},this.state.reportDataValues.length>0&&this.state.reportDataValues.map(function(t,a){return i.a.createElement("tr",{className:"table-updated-tr"},e.state.reportHeader.length>0&&e.state.reportHeader.map(function(e,a){return i.a.createElement("td",{className:0==a?"col-xs-3 table-updated-td text-left":"col-xs-3 table-updated-td text-right"},t[Object.keys(e)])}))}),i.a.createElement("tr",{className:"table-updated-tr"},i.a.createElement("td",{className:"col-xs-3 table-updated-td"},i.a.createElement("b",null,this.state.salesLang.sales_total)),t.length>0&&t.slice(1).map(function(e,t){return i.a.createElement(i.a.Fragment,null,i.a.createElement("td",{className:"col-xs-3 table-updated-td text-right"},i.a.createElement("b",null,e.value)))})))),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.salesLang.sales_please_wait)))))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return void 0!==e.paymentMethodsList&&200===e.paymentMethodsList.status&&t.paymentMethodsList!=e.paymentMethodsList.data?{paymentMethodsList:e.paymentMethodsList.data,total:e.paymentMethodsList.data.total,reportDataValues:e.paymentMethodsList.data.report_data,locationArray:e.paymentMethodsList.data.clinics,reportHeader:e.paymentMethodsList.data.report_header,grouping:e.paymentMethodsList.data.grouping,showLoader:!1}:null}}]),t}(n.Component);var Om=Object(Z.b)(function(e){return JSON.parse(localStorage.getItem("languageData")),"PAYMENT_METHOD_LIST"!==e.SalesReducer.action?{}:200===e.SalesReducer.data.status?{paymentMethodsList:e.SalesReducer.data}:void 0},function(e){return Object(c.bindActionCreators)({fetchPaymentMethods:Nd},e)})(Lm),Am=function(e){function t(e){var a,s;Object(ne.a)(this,t),(s=Object(re.a)(this,Object(oe.a)(t).call(this,e))).showDeleteModal=function(e){s.setState({showModal:!0,reminderId:e.currentTarget.dataset.userid})},s.showEditModal=function(e){s.setState({userId:e.currentTarget.dataset.userid})},s.dismissModal=function(){s.setState({showModal:!1})},s.deleteReminder=function(){localStorage.setItem("isDelete",!0),s.dismissModal();var e=s.state.DiscountsList;e.length&&(e.map(function(t,a){t.id==s.state.reminderId&&delete e[a]}),s.setState({DiscountsList:e})),s.props.deleteDiscountsList(s.state.reminderId),s.dismissModal()},s.handleChildSubmit=function(e){s.setState(e);var t={fromDate:e.fromDate,toDate:e.toDate,clinic_id:e.selectedLocationIdList};s.setState({showLoader:!0}),s.props.fetchDiscounts(t)},s.toggleAnchor=function(e){var t={};t["upDown-"+e]=!s.state["upDown-"+e],s.setState(t)};JSON.parse(localStorage.getItem("userData"));var n=JSON.parse(localStorage.getItem("languageData"));return s.state=(a={sales_header:{},upDown:!1,report_header:{},monthlyNetValues:[],total_invoices:"",grouping:"",avg_gross_sales:"",avg_net_sales:"",gross_sales:"",net_sales:"",next_page_url:"",page:1,pagesize:15,hasMoreItems:!0,reminder_before:"",reminder_type:"",locationArray:[],DiscountsList:[],userChanged:!1,showLoadingText:!1},Object(se.a)(a,"hasMoreItems",!0),Object(se.a)(a,"startFresh",!0),Object(se.a)(a,"showLoader",!1),Object(se.a)(a,"showModal",!1),Object(se.a)(a,"noRecordDisplayEnable","no-record"),Object(se.a)(a,"noRecordDisplayDisable","no-record no-display"),Object(se.a)(a,"globalLang",n.global),Object(se.a)(a,"salesLang",n.sales),Object(se.a)(a,"showLoadingText",!1),Object(se.a)(a,"selectedLocationIdList",[]),Object(se.a)(a,"clinicObjList",{}),Object(se.a)(a,"to_date",Object(ss.b)(new Date,"YYYY-MM-DD")),Object(se.a)(a,"from_date",Object(ss.b)(new Date,"YYYY-MM-DD")),Object(se.a)(a,"graphData",[]),Object(se.a)(a,"reportHeader",[]),Object(se.a)(a,"reportDataValues",[]),a),localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),s}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){JSON.parse(localStorage.getItem("languageData"));var e=localStorage.getItem("selectionRange"),t=e?JSON.parse(e):"",a={fromDate:t.startDate,toDate:t.endDate};this.setState({showLoader:!0}),this.props.fetchDiscounts(a)}},{key:"shouldComponentUpdate",value:function(e,t){return!!this.state.startFresh||(!!this.state.loadMore||!!this.state.showLoader)}},{key:"render",value:function(){var e=this,t=[];null!=this.state.total&&(t=Object.entries(this.state.total).map(function(e){var t=Object(ye.a)(e,2);return{key:t[0],value:t[1]}}));null!=this.state.total&&Object.entries(this.state.sales_header).map(function(e){var t=Object(ye.a)(e,2);return{key:t[0],value:t[1]}});var a=[];return this.state.reportHeader.map(function(e,t){a.push()}),i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(tm,null),i.a.createElement("div",{className:"setting-left-menu"},i.a.createElement(am,null)),i.a.createElement("div",{className:"juvly-section"},i.a.createElement(rm,{locationArray:this.state.locationArray,handleChildSubmit:this.handleChildSubmit,clinicVal:this.state.selectedLocationIdList,location:!0,dateRangePick:!0,reportType:"discounts"}),i.a.createElement("div",{className:"table-responsive"},i.a.createElement("div",{className:"accordion-table sales-accordian accord-min-width"},i.a.createElement("div",{className:"accordion-row accordion-head"},this.state.reportHeader.length>0&&this.state.reportHeader.map(function(e,t){return i.a.createElement("div",{className:0==t?"accordian-section col-xs-4 text-left":"accordian-section col-xs-4 text-right",key:t},Object.values(e))})),this.state.reportDataValues.length>0&&this.state.reportDataValues.map(function(t,a){return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"accordion-row"},i.a.createElement("div",{className:"accordion-title profile no-border"},e.state.reportHeader.map(function(s,n){return i.a.createElement("div",{className:0==n?"accordian-section col-xs-4 text-left inner-box no-wrap":"accordian-section col-xs-4 text-right inner-box no-wrap",key:n},0===n&&t.data.length>0&&i.a.createElement(i.a.Fragment,null,i.a.createElement("a",{className:"yes"==e.state.grouping&&0==e.state["upDown-"+a]?"":"no-display",name:"upDown",value:e.state.upDown,onClick:e.toggleAnchor.bind(e,a)},i.a.createElement("i",{className:"fas fa-angle-down toggle-arrow"})),i.a.createElement("a",{className:"yes"==e.state.grouping&&1==e.state["upDown-"+a]?"":"no-display",name:"upDown",value:e.state.upDown,onClick:e.toggleAnchor.bind(e,a)},i.a.createElement("i",{className:"fas fa-angle-up toggle-arrow"})))," ",t.User&&t.User[Object.keys(s)])})),t.data.length>0&&e.state.reportHeader.length>0&&t.data.map(function(t,s){return i.a.createElement("div",{className:"yes"==e.state.grouping&&1==e.state["upDown-"+a]?"accordion-discription-row":"accordion-discription-row no-display",key:s},e.state.reportHeader.map(function(e,a){return i.a.createElement("div",{className:0==a?"accordian-section col-xs-4 text-left":"accordian-section col-xs-4 text-right",key:a},t[Object.keys(e)])}))})))}),i.a.createElement("div",{className:"accordion-discription-row"},i.a.createElement("div",{className:"accordian-section col-xs-4 text-left"},i.a.createElement("b",null,this.state.salesLang.sales_total)),t.length>0&&t.slice(1).map(function(e,t){return i.a.createElement("div",{className:"accordian-section col-xs-4 text-right",key:t},i.a.createElement("b",null,e.value))}))),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.salesLang.sales_please_wait)))))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(void 0!==e.DiscountsList&&200===e.DiscountsList.status&&t.DiscountsList!=e.DiscountsList.data){var a={},s=e.DiscountsList.data.report_data;return s.length&&s.map(function(e,t){a["upDown-"+t]=!1}),a.DiscountsList=e.DiscountsList.data,a.sales_header=e.DiscountsList.data.sales_header,a.total=e.DiscountsList.data.total,a.reportDataValues=e.DiscountsList.data.report_data,a.locationArray=e.DiscountsList.data.clinics,a.reportHeader=e.DiscountsList.data.report_header,a.grouping=e.DiscountsList.data.grouping,a.showLoader=!1,a}return null}}]),t}(n.Component);var Tm=Object(Z.b)(function(e){return JSON.parse(localStorage.getItem("languageData")),"DISCOUNTS_LIST"!==e.SalesReducer.action?{}:200===e.SalesReducer.data.status?{DiscountsList:e.SalesReducer.data}:void 0},function(e){return Object(c.bindActionCreators)({fetchDiscounts:Ad},e)})(Am),Im=function(e){function t(e){var a,s;Object(ne.a)(this,t),(s=Object(re.a)(this,Object(oe.a)(t).call(this,e))).showDeleteModal=function(e){s.setState({showModal:!0,reminderId:e.currentTarget.dataset.userid})},s.showEditModal=function(e){s.setState({userId:e.currentTarget.dataset.userid})},s.dismissModal=function(){s.setState({showModal:!1})},s.loadMore=function(){var e;localStorage.setItem("sortOnly",!1),s.setState({loadMore:!0,startFresh:!0,showLoader:!0,showLoadingText:!0});var t=(e={page_number:s.state.page_number,fromDate:s.state.fromDate,toDate:s.state.toDate,clinic_id:s.state.selectedLocationIdList,invoice_status:s.state.selectedInvoicesIdList,user_id:s.state.selectedEmployeeIdList},Object(se.a)(e,"toDate",s.state.toDate),Object(se.a)(e,"search_key",s.state.search_key),e);s.props.fetchInvoices(t)},s.deleteReminder=function(){localStorage.setItem("isDelete",!0),s.dismissModal();var e=s.state.InvoicesList;e.length&&(e.map(function(t,a){t.id==s.state.reminderId&&delete e[a]}),s.setState({InvoicesList:e})),s.props.deleteInvoicesList(s.state.reminderId),s.dismissModal()},s.handleChildSubmit=function(e){localStorage.setItem("sortOnly",!1),s.setState(e);var t={fromDate:e.fromDate,toDate:e.toDate,clinic_id:e.selectedLocationIdList,user_id:e.selectedEmployeeIdList,invoice_status:e.selectedInvoicesIdList,search_key:e.search_key,page_number:1};s.setState({reportDataValues:[],loadMore:!0,showLoader:!0}),s.props.fetchInvoices(t)},s.handleSearchSubmit=function(e){s.state.search_key},s.userEdit=function(e){return i.a.createElement("div",null,s.props.history.push("/sales/invoice/".concat(e,"/0/invoices")))};JSON.parse(localStorage.getItem("userData"));var n=JSON.parse(localStorage.getItem("languageData"));return s.state=(a={sales_header:{},upDown:!1,report_header:{},monthlyNetValues:[],total_invoices:"",grouping:"",avg_gross_sales:"",avg_net_sales:"",gross_sales:"",net_sales:"",next_page_url:"",page:1,loadMore:!0,pagesize:15,page_number:1,hasMoreItems:!0,reminder_before:"",reminder_type:"",locationArray:[],invoicesArray:[],employeeArray:[],InvoicesList:[],userChanged:!1},Object(se.a)(a,"hasMoreItems",!0),Object(se.a)(a,"startFresh",!0),Object(se.a)(a,"showLoader",!1),Object(se.a)(a,"showModal",!1),Object(se.a)(a,"search_key",""),Object(se.a)(a,"noRecordDisplayEnable","no-record"),Object(se.a)(a,"noRecordDisplayDisable","no-record no-display"),Object(se.a)(a,"globalLang",n.global),Object(se.a)(a,"salesLang",n.sales),Object(se.a)(a,"showLoadingText",!1),Object(se.a)(a,"selectedLocationIdList",[]),Object(se.a)(a,"selectedEmployeeIdList",[]),Object(se.a)(a,"selectedInvoicesIdList",[]),Object(se.a)(a,"clinicObjList",{}),Object(se.a)(a,"to_date",Object(ss.b)(new Date,"YYYY-MM-DD")),Object(se.a)(a,"from_date",Object(ss.b)(new Date,"YYYY-MM-DD")),Object(se.a)(a,"graphData",[]),Object(se.a)(a,"reportHeader",[]),Object(se.a)(a,"reportDataValues",[]),a),localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),window.onscroll=function(){var e=parseInt(Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop));window.innerHeight+e===document.documentElement.offsetHeight&&s.state.show_invoice&&s.loadMore()},s}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){JSON.parse(localStorage.getItem("languageData"));localStorage.setItem("sortOnly",!1);var e=localStorage.getItem("selectionRange"),t=e?JSON.parse(e):"",a={fromDate:t.startDate,toDate:t.endDate,search_key:this.state.search_key,page_number:1};this.setState({showLoader:!0}),this.props.fetchInvoices(a)}},{key:"shouldComponentUpdate",value:function(e,t){return!!this.state.startFresh||(!!this.state.loadMore||!!this.state.showLoader)}},{key:"render",value:function(){var e=this;null!=this.state.total&&Object.entries(this.state.total).map(function(e){var t=Object(ye.a)(e,2);return{key:t[0],value:t[1]}});var t=[];return this.state.reportHeader.map(function(e,a){t.push()}),i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(tm,null),i.a.createElement("div",{className:"juvly-section full-width"},i.a.createElement(rm,{locationArray:this.state.locationArray,invoicesArray:this.state.invoicesArray,employeeArray:this.state.employeeArray,handleChildSubmit:this.handleChildSubmit,searchVal:this.state.search_key,clinicVal:this.state.selectedLocationIdList,dateRangePick:!0,reportType:"invoices",search:!0,location:!0,searchShow:!0,invoices:!0,employee:!0}),i.a.createElement("div",{className:"table-responsive"},i.a.createElement("table",{className:"table-updated setting-table sale-invoice-table min-w-1000"},i.a.createElement("thead",{className:"table-updated-thead"},i.a.createElement("tr",null,this.state.reportHeader.length>0&&this.state.reportHeader.map(function(e,t){return i.a.createElement(i.a.Fragment,null,i.a.createElement("th",{className:"col-xs-1 table-updated-th","data-url":"/${actionType}/payment-history/${clientID}/${type}/${tabType}"},Object.values(e)))}))),i.a.createElement("tbody",{className:"ajax_body"},this.state.reportDataValues.length>0&&this.state.reportDataValues.map(function(t,a){return i.a.createElement(i.a.Fragment,null,i.a.createElement("tr",{className:"table-updated-tr"},e.state.reportHeader.length>0&&e.state.reportHeader.map(function(a,s){return i.a.createElement(i.a.Fragment,null,i.a.createElement("td",{className:"col-xs-1 table-updated-td",onClick:e.userEdit.bind(e,t.id)},t[Object.keys(a)]))})))})),!0!==this.state.showLoader&&void 0!==this.state.reportDataValues&&0==this.state.reportDataValues.length&&i.a.createElement("tr",{className:"table-updated-tr"},i.a.createElement("td",{className:"no-record no-float",colSpan:11},this.state.salesLang.sales_no_record_found))),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.salesLang.sales_please_wait)))))),i.a.createElement("div",{className:this.state.showLoadingText?"loading-please-wait":"loading-please-wait no-display "},this.state.globalLang.loading_please_wait_text))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};return void 0!=e.showLoader&&0==e.showLoader?{showLoader:!1}:void 0!=e.InvoicesList&&e.InvoicesList.data.invoices_data!=t.reportDataValues&&"true"==localStorage.getItem("sortOnly")?(0==t.reportDataValues.length?(a.page_number=e.InvoicesList.data?t.page_number+1:1,a.InvoicesList=e.InvoicesList.data.invoices_data,a.sales_header=e.InvoicesList.data.sales_header,a.total=e.InvoicesList.data.total,a.reportDataValues=e.InvoicesList.data.invoices_data,a.locationArray=e.InvoicesList.data.clinics,a.employeeArray=e.InvoicesList.data.employees,a.invoicesArray=e.InvoicesList.data.payment_status,a.reportHeader=e.InvoicesList.data.report_header,a.grouping=e.InvoicesList.data.grouping,a.startFresh=!1,a.showLoader=!1,a.showLoadingText=!1,a.show_invoice=e.InvoicesList.data.show_invoice):(a.reportDataValues=Object(oa.a)(t.reportDataValues).concat(Object(oa.a)(e.InvoicesList.data.invoices_data)),a.page_number=t.page_number+1,a.sales_header=e.InvoicesList.data.sales_header,a.total=e.InvoicesList.data.total,a.locationArray=e.InvoicesList.data.clinics,a.employeeArray=e.InvoicesList.data.employees,a.invoicesArray=e.InvoicesList.data.payment_status,a.reportHeader=e.InvoicesList.data.report_header,a.grouping=e.InvoicesList.data.grouping,a.startFresh=!1,a.showLoader=!1,a.showLoadingText=!1,a.show_invoice=e.InvoicesList.data.show_invoice),a):null}}]),t}(n.Component);var Rm=Object(Z.b)(function(e){return JSON.parse(localStorage.getItem("languageData")),localStorage.setItem("sortOnly",!0),"INVOICES_LIST"!==e.SalesReducer.action?{}:200===e.SalesReducer.data.status?{InvoicesList:e.SalesReducer.data}:void 0},function(e){return Object(c.bindActionCreators)({fetchInvoices:xd},e)})(Im),km=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).showDeleteModal=function(e){a.setState({showModal:!0,reminderId:e.currentTarget.dataset.userid})},a.showEditModal=function(e){a.setState({userId:e.currentTarget.dataset.userid})},a.dismissModal=function(){a.setState({showModal:!1})},a.loadMore=function(){localStorage.setItem("sortOnly",!1),a.setState({loadMore:!0,startFresh:!0,showLoader:!0,showLoadingText:!0});a.state.page,a.state.pagesize,a.state.sortby,a.state.sortorder,a.state.term,a.state.scopes},a.onSort=function(e){var t="asc"===a.state.sortorder?"desc":"asc",s={params:{page:1,pagesize:a.state.pagesize,sortby:e,sortorder:t,term:a.state.term,scopes:a.state.scopes}};a.setState({page:1,pagesize:a.state.pagesize,sortby:e,sortorder:t,loadMore:!0,startFresh:!0,showLoader:!0,next_page_url:"",appointmentReminder:[]}),localStorage.setItem("sortOnly",!0),a.props.getAppointmentReminder(s)},a.toggleCalendar=function(e){if("calendar-input"===e.name||!1!==a.state.showCalendar){var t=!1;t=!1===a.state.showCalendar&&void 0!==e.name&&"calendar-input"===e.name,a.setState({showCalendar:t})}},a.handleRangeChange=function(e,t){var s,n=t.selection.startDate,i=t.selection.endDate;n=Object(ss.b)(n,"YYYY-MM-DD"),i=Object(ss.b)(i,"YYYY-MM-DD"),a.setState((s={},Object(se.a)(s,e,Object(m.a)({},a.state[e],t)),Object(se.a)(s,"showCalendar",!1),Object(se.a)(s,"from_date",n),Object(se.a)(s,"to_date",i),s)),a.handleSubmit(e,{from_date:n,to_date:i})},a.handleClick=function(e){a.node.contains(e.target)&&!0===a.state.showCalendar||a.toggleCalendar(e.target)},a.deleteReminder=function(){localStorage.setItem("isDelete",!0),a.dismissModal();var e=a.state.appointmentReminder;e.length&&(e.map(function(t,s){t.id==a.state.reminderId&&delete e[s]}),a.setState({appointmentReminder:e})),a.props.deleteAppointmentReminder(a.state.reminderId),a.dismissModal()};var s=new Date,n=new Date(s.getFullYear(),s.getMonth(),1);return a.state={dateRangePicker:{selection:{startDate:new Date,endDate:new Date,key:"selection"}},to_date:Object(ss.b)(n,"YYYY-MM-DD"),from_date:Object(ss.b)(new Date,"YYYY-MM-DD"),reminder_before:"",reminder_type:"",appointmentReminder:[],userChanged:!1,userId:"",page:1,pagesize:15,sortby:"",sortorder:"asc",showLoadingText:!1,term:"",hasMoreItems:!0,next_page_url:"",loadMore:!0,startFresh:!0,showLoader:!1,showModal:!1,noRecordDisplayEnable:"no-record",noRecordDisplayDisable:"no-record no-display"},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),window.onscroll=function(){window.innerHeight+document.documentElement.scrollTop===document.documentElement.offsetHeight&&null!=a.state.next_page_url&&a.loadMore()},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){JSON.parse(localStorage.getItem("languageData"));this.setState({});this.state.page,this.state.pagesize,this.state.sortby,this.state.term,this.state.scopes;document.addEventListener("click",this.handleClick,!1),this.setState({showLoader:!0})}},{key:"shouldComponentUpdate",value:function(e,t){return!!this.state.startFresh||(!!this.state.loadMore||!!this.state.showLoader)}},{key:"render",value:function(){return i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement("div",{className:"wide-popup"},i.a.createElement("div",{className:"modal-blue-header provider-schedule-popup-title"},i.a.createElement("a",{href:"#",className:"popup-cross"},"\xd7"),i.a.createElement("span",{className:"popup-blue-name"},"Invoice Preview"),i.a.createElement("div",{className:"popup-btns"},i.a.createElement("div",{className:"dropdown pull-right m-l-5"},i.a.createElement("button",{className:"line-btn no-margin",type:"button",id:"dropdownMenu1","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true"},"More Info",i.a.createElement("i",{className:"fas fa-angle-down"})),i.a.createElement("ul",{className:"dropdown-menu"},i.a.createElement("li",null,i.a.createElement("a",{href:"#"},"Download Invoice")),i.a.createElement("li",null,i.a.createElement("a",{href:"#"},"Email Invoice")),i.a.createElement("li",null,i.a.createElement("a",{href:"#"},"Print Invoice")))),i.a.createElement("a",{href:"#",className:"line-btn pull-right no-width"},"Payment History"),i.a.createElement("a",{href:"#",className:"line-btn pull-right no-width"},"Void"))),i.a.createElement("div",{className:"wide-popup-wrapper time-line m-t-50"},i.a.createElement("center",null,i.a.createElement("table",{id:"print_area",border:0,cellPadding:0,cellSpacing:0,height:"100%",width:700},i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",{align:"center",valign:"top"},i.a.createElement("table",{border:0,cellPadding:0,cellSpacing:0,width:700},i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",{valign:"top"},i.a.createElement("table",{border:0,cellPadding:5,cellSpacing:0,width:700},i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",{valign:"top",width:400},i.a.createElement("div",{style:{padding:"5px 0px"}},i.a.createElement("img",{src:"/images/juvlyL.png",style:{height:"70px"}}))),i.a.createElement("td",{valign:"top",width:400,align:"right"},i.a.createElement("div",{style:{fontSize:"24px",textAlign:"right",paddingTop:"22px",padding:"10px 0px"}}))))))))),i.a.createElement("table",{border:0,cellPadding:0,cellSpacing:0,width:700},i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",{align:"center",valign:"top"},i.a.createElement("table",{border:0,cellPadding:0,cellSpacing:0,width:700},i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",{colSpan:3,valign:"top"},i.a.createElement("table",{border:0,cellPadding:10,cellSpacing:0,width:700},i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",{valign:"top"},i.a.createElement("div",{style:{fontSize:"14px",color:"#777777",lineHeight:"22px",padding:"10px 0px"}},"New York Clinic",i.a.createElement("br",null),"+918437815735                                                          "))),i.a.createElement("tr",null,i.a.createElement("td",{valign:"top"},i.a.createElement("div",{style:{fontSize:"14px",color:"#000000",padding:"10px 0px 3px"}},"Invoice to"),i.a.createElement("div",{style:{fontSize:"20px",color:"#777777",fontWeight:300}},"dinesh shimar                                                          "))),i.a.createElement("tr",null,i.a.createElement("td",{valign:"top",width:400},i.a.createElement("div",{style:{fontSize:"14px",color:"#000000",padding:"10px 0px 3px"}},"Address"),i.a.createElement("div",{style:{fontSize:"14px",color:"#777777",fontWeight:400}},"6649 Chaparal Court                                                       "))),i.a.createElement("tr",null,i.a.createElement("td",{valign:"top",width:400},i.a.createElement("div",{style:{fontSize:"14px",color:"#000000",padding:"10px 0px 3px"}},"Email"),i.a.createElement("div",{style:{fontSize:"14px",color:"#777777",fontWeight:400}},"shimardinesh@gmail.com                                                          ")),i.a.createElement("td",{valign:"top",width:400,align:"right"},i.a.createElement("table",{width:230,style:{float:"right",fontSize:"14px",padding:"10px 0px"}},i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",{align:"left"},"Invoice No:"),i.a.createElement("td",{style:{color:"#777777",textAlign:"right"}},"AR01500010207")),i.a.createElement("tr",null,i.a.createElement("td",{align:"left"},"Invoice Date:"),i.a.createElement("td",{style:{color:"#777777",textAlign:"right"}},"November 15, 2018")),i.a.createElement("tr",null,i.a.createElement("td",{align:"left"},"Payment on:"),i.a.createElement("td",{style:{color:"#777777",textAlign:"right"}},"November 15, 2018")))))))))))))),i.a.createElement("tr",null,i.a.createElement("td",{colSpan:3,valign:"top"},i.a.createElement("table",{border:0,cellPadding:10,cellSpacing:0,width:700,style:{marginTop:"25px"}},i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",{style:{borderBottom:"1px solid #dddddd"}},i.a.createElement("div",{style:{fontSize:"13px",color:"#000000",textTransform:"uppercase",padding:"10px 0px"}},"Item description")),i.a.createElement("td",{style:{borderBottom:"1px solid #dddddd"},width:100,align:"right"},i.a.createElement("div",{style:{fontSize:"13px",color:"#000000",textTransform:"uppercase",textAlign:"right",padding:"10px 0px"}},"\xa0")),i.a.createElement("td",{style:{borderBottom:"1px solid #dddddd"},width:100,align:"right"},i.a.createElement("div",{style:{fontSize:"13px",color:"#000000",textTransform:"uppercase",textAlign:"right",padding:"10px 0px"}},"Price"))),i.a.createElement("tr",null,i.a.createElement("td",{style:{borderBottom:"1px solid #dddddd"}},i.a.createElement("div",{style:{fontSize:"14px",color:"#777777",padding:"10px 0px"}},"70 bogo offer")),i.a.createElement("td",{align:"right",style:{borderBottom:"1px solid #dddddd",padding:"10px 0px"}},i.a.createElement("div",{style:{fontSize:"13px",color:"#777777",textTransform:"uppercase",textAlign:"right"}},"$20.00")),i.a.createElement("td",{align:"right",style:{borderBottom:"1px solid #dddddd",padding:"10px 0px"}},"A Provider")))),i.a.createElement("table",{border:0,cellPadding:10,cellSpacing:0,width:700,style:{marginTop:"25px"}},i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",{style:{borderBottom:"1px solid #dddddd"}},i.a.createElement("div",{style:{fontSize:"13px",color:"#000000",textTransform:"uppercase",padding:"10px 0px"}},"Redemptions")),i.a.createElement("td",{style:{borderBottom:"1px solid #dddddd"},align:"right"},i.a.createElement("div",{style:{fontSize:"13px",color:"#000000",textTransform:"uppercase",textAlign:"right",padding:"10px 0px"}},"Amount"))),i.a.createElement("tr",null,i.a.createElement("td",{style:{borderBottom:"1px solid #dddddd"}},i.a.createElement("div",{style:{fontSize:"14px",color:"#777777",padding:"10px 0px"}},"Aspire Discount")),i.a.createElement("td",{align:"right",style:{borderBottom:"1px solid #dddddd",padding:"10px 0px"}},i.a.createElement("div",{style:{fontSize:"13px",color:"#777777",textTransform:"uppercase",textAlign:"right"}},"$0.00"))),i.a.createElement("tr",null,i.a.createElement("td",{style:{borderBottom:"1px solid #dddddd"}},i.a.createElement("div",{style:{fontSize:"14px",color:"#777777",padding:"10px 0px"}},"BD Discount")),i.a.createElement("td",{align:"right",style:{borderBottom:"1px solid #dddddd",padding:"10px 0px"}},i.a.createElement("div",{style:{fontSize:"13px",color:"#777777",textTransform:"uppercase",textAlign:"right"}},"$0.00"))),i.a.createElement("tr",null,i.a.createElement("td",{style:{borderBottom:"1px solid #dddddd"}},i.a.createElement("div",{style:{fontSize:"14px",color:"#777777",padding:"10px 0px"}},"Wallet Debits")),i.a.createElement("td",{align:"right",style:{borderBottom:"1px solid #dddddd",padding:"10px 0px"}},i.a.createElement("div",{style:{fontSize:"13px",color:"#777777",textTransform:"uppercase",textAlign:"right"}},"$0.00"))),i.a.createElement("tr",null,i.a.createElement("td",{style:{borderBottom:"1px solid #dddddd"}},i.a.createElement("div",{style:{fontSize:"14px",color:"#777777",padding:"10px 0px"}},"Packages Discount")),i.a.createElement("td",{align:"right",style:{borderBottom:"1px solid #dddddd",padding:"10px 0px"}},i.a.createElement("div",{style:{fontSize:"13px",color:"#777777",textTransform:"uppercase",textAlign:"right"}},"$0.00"))),i.a.createElement("tr",null,i.a.createElement("td",{style:{borderBottom:"1px solid #dddddd"}},i.a.createElement("div",{style:{fontSize:"14px",color:"#777777",padding:"10px 0px"}},"eGiftcard Amount")),i.a.createElement("td",{align:"right",style:{borderBottom:"1px solid #dddddd",padding:"10px 0px"}},i.a.createElement("div",{style:{fontSize:"13px",color:"#777777",textTransform:"uppercase",textAlign:"right"}},"$0.00"))))),i.a.createElement("table",{border:0,cellPadding:10,cellSpacing:0,width:700,style:{marginTop:"25px",border:"1px solid #000",marginBottom:"25px"}},i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",{width:120,style:{padding:"10px"}},i.a.createElement("div",{style:{fontSize:"13px",color:"#777777"}},"TAX"),i.a.createElement("div",{style:{fontSize:"17px",color:"#000000",fontWeight:400}},"$2.00")),i.a.createElement("td",{width:160},i.a.createElement("div",{style:{fontSize:"13px",color:"#777777"}},"ITEM DISCOUNT"),i.a.createElement("div",{style:{fontSize:"17px",color:"#000000",fontWeight:400}},"$0.00")),i.a.createElement("td",{width:180},i.a.createElement("div",{style:{fontSize:"13px",color:"#777777"}},"CUSTOM DISCOUNT"),i.a.createElement("div",{style:{fontSize:"17px",color:"#000000",fontWeight:400}},"$0.00")),i.a.createElement("td",{width:120},i.a.createElement("div",{style:{fontSize:"13px",color:"#777777"}},"TIP"),i.a.createElement("div",{style:{fontSize:"17px",color:"#000000",fontWeight:400}},"$0.00")),i.a.createElement("td",{width:220,style:{background:"#000000",padding:"10px"},align:"right"},i.a.createElement("div",{style:{fontSize:"13px",color:"#ffffff",textAlign:"right"}},"TOTAL"),i.a.createElement("div",{style:{fontSize:"17px",color:"#ffffff",fontWeight:400,textAlign:"right"}},"$22.00"))))),i.a.createElement("table",{border:0,cellPadding:10,cellSpacing:0,width:700,style:{marginTop:"25px"}},i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",{style:{borderBottom:"1px solid #dddddd"}},i.a.createElement("div",{style:{fontSize:"13px",color:"#000000",textTransform:"uppercase",padding:"10px 0px"}},"Payments")),i.a.createElement("td",{style:{borderBottom:"1px solid #dddddd"},align:"right"},i.a.createElement("div",{style:{fontSize:"13px",color:"#000000",textTransform:"uppercase",textAlign:"right",padding:"10px 0px"}},"Amount"))),i.a.createElement("tr",null,i.a.createElement("td",{style:{borderBottom:"1px solid #dddddd"}},i.a.createElement("div",{style:{fontSize:"14px",color:"#777777",padding:"10px 0px"}},"Wallet")),i.a.createElement("td",{align:"right",style:{borderBottom:"1px solid #dddddd",padding:"10px 0px"}},i.a.createElement("div",{style:{fontSize:"13px",color:"#777777",textTransform:"uppercase",textAlign:"right"}},"$9.15"))),i.a.createElement("tr",null,i.a.createElement("td",{style:{borderBottom:"1px solid #dddddd"}},i.a.createElement("div",{style:{fontSize:"14px",color:"#777777",padding:"10px 0px"}},"Cash")),i.a.createElement("td",{align:"right",style:{borderBottom:"1px solid #dddddd",padding:"10px 0px"}},i.a.createElement("div",{style:{fontSize:"13px",color:"#777777",textTransform:"uppercase",textAlign:"right"}},"$12.85"))))),i.a.createElement("table",{border:0,cellPadding:10,cellSpacing:0,width:700,style:{marginTop:"0px",marginBottom:"20px",borderTop:"1px solid #dddddd",borderBottom:"1px solid #dddddd"}},i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",{style:{padding:"20px 10px"}},i.a.createElement("div",{style:{fontSize:"13px",color:"#777777"}},"Services will be invoiced in accordance with the Service Description. You must pay all undisputed invoices in full within 30 days of the invoice date, unless otherwise specified under the Special Terms and Conditions. All payments must reference the invoice number. Unless otherwise specified, all invoices shall be paid in the currency of the invoice Insight retains the right to decline to extend credit and to require that the applicable purchase price be paid prior to performance of Services based on changes in insight's credit policies or your financial condition and/or payment record. Insight reserves the right to charge interest of 1.5% per month or the maximum allowable by applicable law, whichever is less, for any undisputed past due invoices. You are responsible for all costs of collection, including reasonable attorneys' fees, for any payment default on undisputed invoices. In addition, Insight may terminate all further work if payment is not received in a timely manner."))))),i.a.createElement("table",{border:0,cellPadding:10,cellSpacing:0,width:700,style:{marginTop:"-10px"}},i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",{width:400},i.a.createElement("div",{style:{fontSize:"18px",fontWeight:600,color:"#000000"}},"New York Clinic")),i.a.createElement("td",{width:400,align:"right"},i.a.createElement("div",{style:{fontSize:"14px",fontWeight:600,color:"#777777",textAlign:"right"}},"+918437815735"))))))))),i.a.createElement("br",null))))),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.salesLang.sales_please_wait))))))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(void 0!=e.appointmentReminder&&e.appointmentReminder.next_page_url!==t.next_page_url){var a={};return null==t.next_page_url?(localStorage.setItem("sortOnly",!1),a.next_page_url=null):(0==t.appointmentReminder.length&&1==t.startFresh?"false"==localStorage.getItem("sortOnly")?(a.appointmentReminder=e.appointmentReminder.data,null!=e.appointmentReminder.next_page_url?a.page=t.page+1:a.next_page_url=e.appointmentReminder.next_page_url,a.startFresh=!1,a.showLoader=!1,a.showLoadingText=!1):localStorage.setItem("sortOnly",!1):t.appointmentReminder!=e.appointmentReminder.data&&0!=t.appointmentReminder.length&&(a.appointmentReminder=Object(oa.a)(t.appointmentReminder).concat(Object(oa.a)(e.appointmentReminder.data)),a.next_page_url=e.appointmentReminder.next_page_url,a.showLoader=!1,a.showLoadingText=!1),a)}return null}}]),t}(n.Component);var Pm=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData"));if("APPOINTMENT_REMINDER"===e.SettingReducer.action){if(200===e.SettingReducer.data.status)return{appointmentReminder:e.SettingReducer.data.data}}else{if("DELETE_APPOINTMENT_REMINDER"!==e.SettingReducer.action)return{};if(localStorage.setItem("isDelete",!1),200===e.SettingReducer.data.status)return rt.toast.success(t.global[e.SettingReducer.data.message]),{appointmentReminderDEL:!0};rt.toast.error(t.global[e.SettingReducer.data.message])}},function(e){return Object(c.bindActionCreators)({},e)})(km),jm=function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t,s=e.target,n="checkbox"===s.type?s.checked:s.value;a.setState((t={},Object(se.a)(t,e.target.name,n),Object(se.a)(t,"userChanged",!0),t))},a.handleSubmit=function(e){e.preventDefault(),a.setState({appointment_survey_email_Error:!1,appointment_survey_sms_Error:!1});var t=!1;if(a.setState({emailError:""}),void 0!==typeof a.state.appointment_survey_email&&null!==a.state.appointment_survey_email&&""!==a.state.appointment_survey_email||(a.setState({appointment_survey_email_Error:!0}),t=!0),void 0!==typeof a.state.appointment_survey_sms&&null!==a.state.appointment_survey_sms&&""!==a.state.appointment_survey_sms||(a.setState({appointment_survey_sms_Error:!0}),t=!0),!0!==t){var s={account_details:{appointment_survey_email:a.state.appointment_survey_email,appointment_survey_sms:a.state.appointment_survey_sms,account_preference:{survey_thankyou_message:a.state.survey_thankyou_message}}};a.props.postAppointmentSurveys(s)}},a.state={userChanged:!1,email:"",emailError:"",showProcess:"",survey_thankyou_message:"",appointment_survey_sms:"",appointment_survey_email:"",surveyData:{},showLoader:!1},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){JSON.parse(localStorage.getItem("languageData"));this.setState({showLoader:!0})}},{key:"render",value:function(){return i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(tm,null),i.a.createElement("div",{className:"juvly-section full-width"},i.a.createElement("div",{className:"juvly-container border-top m-h-container"},i.a.createElement("div",{className:"juvly-title m-b-50"},"Add Sales Goals - 10"),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-12 col-sm-7 col-lg-5"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Clinic Name"),i.a.createElement("input",{type:"text",className:"setting-input-box",autoComplete:"off"}))),i.a.createElement("div",{className:"col-xs-12 col-sm-4"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Year ",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("select",{className:"setting-select-box"},i.a.createElement("option",{value:!0},"Select"),i.a.createElement("option",{value:2019},"2019"),i.a.createElement("option",{value:2020},"2020"),i.a.createElement("option",{value:2021},"2021"),i.a.createElement("option",{value:2022},"2022"),i.a.createElement("option",{value:2023},"2023"),i.a.createElement("option",{value:2024},"2024"),i.a.createElement("option",{value:2025},"2025"),i.a.createElement("option",{value:2026},"2026"),i.a.createElement("option",{value:2027},"2027"),i.a.createElement("option",{value:2028},"2028"),i.a.createElement("option",{value:2029},"2029"),i.a.createElement("option",{value:2030},"2030")))),i.a.createElement("div",{className:"col-xs-12 col-sm-4"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Month ",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("select",{className:"setting-select-box"},i.a.createElement("option",{value:!0},"Select"),i.a.createElement("option",{value:"01"},"January"),i.a.createElement("option",{value:"02"},"February"),i.a.createElement("option",{value:"03"},"March"),i.a.createElement("option",{value:"04"},"April"),i.a.createElement("option",{value:"05"},"May"),i.a.createElement("option",{value:"06"},"June"),i.a.createElement("option",{value:"07"},"July"),i.a.createElement("option",{value:"08"},"August"),i.a.createElement("option",{value:"09"},"September"),i.a.createElement("option",{value:"10"},"October"),i.a.createElement("option",{value:"11"},"November"),i.a.createElement("option",{value:"12"},"December")))),i.a.createElement("div",{className:"col-xs-12 col-sm-4"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Goal ",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("input",{className:"setting-input-box",placeholder:"Goal",type:"text",autoComplete:"off"}),"         ")))))),i.a.createElement("div",{className:"footer-static"},i.a.createElement("button",{className:"new-blue-btn pull-right",type:"button"},"Save"),i.a.createElement("a",{className:"new-white-btn pull-right cancel"},"Cancel")))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return void 0!==e.surveyData&&200===e.surveyData.status?{appointment_survey_email:t.userChanged?t.appointment_survey_email:e.surveyData.data.account_details.appointment_survey_email,appointment_survey_sms:t.userChanged?t.appointment_survey_sms:e.surveyData.data.account_details.appointment_survey_sms,survey_thankyou_message:t.userChanged?t.survey_thankyou_message:e.surveyData.data.account_details.account_preference.survey_thankyou_message,showLoader:!1}:null}}]),t}(i.a.Component);var Mm=Object(Z.b)(function(e){return JSON.parse(localStorage.getItem("languageData")),{}},function(e){return Object(c.bindActionCreators)({},e)})(jm),Um=a(72),Fm=a.n(Um),Bm=a(322),qm=a.n(Bm),Ym=function(e){var t=[];return e.map(function(e,a){t.push(e.id)}),t},Hm=function(e){var t=[];return e.map(function(e,a){e&&"current"!==e&&t.push(e)}),t},Gm=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleClick=function(e){var t=!1;if(!a.node.contains(e.target)||!0!==a.state.showCalendar){a.toggleCalendar(e.target);var s="new-dropdown-menu no-display",n="new-dropdown-menu no-display",i="new-dropdown-menu no-display";a.muli_sel_btn_nps.contains(e.target)?s="new-dropdown-menu":a.state.islocationArrayListApi&&(a.setState({islocationArrayListApi:!1}),t=!0),a.muli_sel_btn_eps.contains(e.target)?n="new-dropdown-menu":a.state.isemployeeArrayListApi&&(a.setState({isemployeeArrayListApi:!1}),t=!0),a.muli_sel_btn_ips.contains(e.target)?i="new-dropdown-menu":a.state.isinvoicesArrayListApi&&(a.setState({isinvoicesArrayListApi:!1}),t=!0);var r=[];t&&(a.state.invoicesArray&&a.state.invoicesArray.map(function(e,t){a.state[Object.keys(e)]&&r.push(Object.keys(e)[0])}),a.props.handleChildSubmit({selectedEmployeeIdList:a.state.selectedEmployeeIdList,selectedLocationIdList:a.state.selectedLocationIdList,selectedInvoicesIdList:r,fromDate:a.state.startDate,toDate:a.state.endDate})),a.setState({selctedInvoicesClass:i,selctedLocationClass:s,selctedEmployeeClass:n})}},a.handleInputChange=function(e){var t=e.target,s="checkbox"===t.type?t.checked:t.value;a.setState(Object(se.a)({},e.target.name,s))},a.handleSubmit=function(e){e.preventDefault();var t=[];a.props.handleChildSubmit({selectedEmployeeIdList:a.state.selectedEmployeeIdList,selectedLocationIdList:a.state.selectedLocationIdList,selectedInvoicesIdList:t,fromDate:a.state.startDate,toDate:a.state.endDate,search_key:a.state.search_key})},a.toggleCalendar=function(e){if("calendar-input"===e.name||!1!==a.state.showCalendar){var t=!1;t=!1===a.state.showCalendar&&void 0!==e.name&&"calendar-input"===e.name,a.setState({showCalendar:t})}},a.dateRangeOnChange=function(e){var t=e.selection.startDate,s=e.selection.endDate;a.setState({showCalendar:!1,fromDate:t,toDate:s,startDate:t,endDate:s}),a.props.handleChildSubmit({selectedInvoicesIdList:a.state.selectedInvoicesIdList,selectedLocationIdList:a.state.selectedLocationIdList,selectedEmployeeIdList:a.state.selectedEmployeeIdList,fromDate:t,toDate:s})},a.dateRangeOnShownDateChange=function(e,t){},a.selectedInvoicesIdList=function(e){var t,s=e.target,n=e.target.name,i="checkbox"===s.type?s.checked:s.value,r=0;a.state.invoicesArray.map(function(e,t){a.state[Object.keys(e)]&&(r+=1),n==Object.keys(e)&&i?r+=1:n!=Object.keys(e)||i||(r-=1)}),a.setState((t={},Object(se.a)(t,e.target.name,i),Object(se.a)(t,"isinvoicesArrayListApi",!0),Object(se.a)(t,"userChanged",!0),Object(se.a)(t,"selectedInvoices",r),t))},a.selectedLocationIdList=function(e){var t=e.target.name.split("-"),s=parseInt(t[1]),n=e.target.value,i=a.state.selectedLocationIdList.indexOf(s),r=a.state.selectedLocationIdList;"true"==n?r.splice(i,1):r.push(s),a.setState({selectedLocationIdList:r,islocationArrayListApi:!0,userChanged:!0})},a.selectedEmployeeIdList=function(e){var t=e.target.name.split("-")[1],s=e.target.value,n=a.state.selectedEmployeeIdList.indexOf(t),i=a.state.selectedEmployeeIdList;"true"==s?i.splice(n,1):i.push(t),a.setState({selectedEmployeeIdList:i,isemployeeArrayListApi:!0,userChanged:!0})},a.toggleInvoicesFilter=function(e){var t=a.state.eventSelectedInvoices,s={};"unselect"==t?(t="select",a.state.invoicesArray.map(function(e,t){s[Object.keys(e)]=!1,s.selectedInvoices=0})):"select"==t&&(t="unselect",a.state.invoicesArray.map(function(e,t){s[Object.keys(e)]=!0,s.selectedInvoices=5})),s.eventSelectedInvoices=t,s.islocationArrayListApi=!0,s.userChanged=!0,a.setState(s)},a.toggleLocationFilter=function(e){var t=a.state.selectedLocationIdList,s=a.state.eventSelectedLocation;"unselect"==s?(t=[],s="select"):"select"==s&&(t=a.state.totalLocationIdList,s="unselect"),a.setState({selectedLocationIdList:t,eventSelectedLocation:s,islocationArrayListApi:!0,userChanged:!0})},a.toggleEmployeeFilter=function(e){var t=a.state.selectedEmployeeIdList,s=a.state.eventSelectedEmployee;"unselect"==s?(t=[],s="select"):"select"==s&&(t=a.state.totalEmployeeIdList,s="unselect"),a.setState({selectedEmployeeIdList:t,eventSelectedEmployee:s,isemployeeArrayListApi:!0,userChanged:!0})},a.showLoaderFunc=function(){localStorage.setItem("showLoader",!1)},a.handleExport=function(e){var t={params:{from:a.state.fromDate,to:a.state.toDate,type:e}};a.state.selectedLocationIdList&&a.state.selectedLocationIdList.length>0&&(t.params.clinic_id=a.state.selectedLocationIdList),a.showLoaderFunc(),a.setState({showLoader:!0}),a.props.exportFunction(t)},a.handleRangeChange=function(e,t){var s,n=t.selection.startDate,i=t.selection.endDate;n=Object(ss.b)(n,"YYYY-MM-DD"),i=Object(ss.b)(i,"YYYY-MM-DD"),a.setState((s={},Object(se.a)(s,e,Object(m.a)({},a.state[e],t)),Object(se.a)(s,"showCalendar",!1),Object(se.a)(s,"fromDate",n),Object(se.a)(s,"toDate",i),s))},a.handleSelect=function(e){a.setState({startDate:e.selection.startDate,endDate:e.selection.endDate})},a.showActionName=function(e){var t="";return"cash_in"===e?t="Cash In":"cash_out"===e?t="Cash Out":"bank_drop"===e?t="Bank Drop":"open"===e?t="Open":"close"===e?t="Close":"close_edit"===e&&(t="Close Edit"),t};JSON.parse(localStorage.getItem("userData"));var s=JSON.parse(localStorage.getItem("languageData"));return a.state={globalLang:s.global,settingsLang:s.settings,dateRangePicker:{selection:{startDate:new Date,endDate:new Date,key:"selection"}},toDate:Object(ss.b)(new Date,"YYYY-MM-DD"),fromDate:Object(ss.b)(new Date,"YYYY-MM-DD"),showCalendar:!1,search_key:"",selctedLocationClass:"new-dropdown-menu no-display",selctedEmployeeClass:"new-dropdown-menu no-display",selctedInvoicesClass:"new-dropdown-menu no-display",islocationArrayListApi:!1,isemployeeArrayListApi:!1,isinvoicesArrayListApi:!1,islocationArrayListUpdated:!1,isemployeeArrayListUpdated:!1,isinvoicesArrayListUpdated:!1,totalLocationIdList:[],salesLang:s.sales,selectedLocationIdList:[],selectedEmployeeIdList:[],selectedInvoicesIdList:[],locationArray:[],employeeArray:[],invoicesArray:[],eventSelectedLocation:"unselect",eventSelectedEmployee:"unselect",eventSelectedInvoices:"unselect",expType:"csv",expoType:"xls",selectedInvoices:5,focusSearch:!1,startDate:new Date,endDate:new Date,showLoader:!1},localStorage.setItem("showLoader",!0),a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){localStorage.setItem("showLoader",!0),document.addEventListener("click",this.handleClick,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClick,!1)}},{key:"_onFocus",value:function(){this.setState({focusSearch:!0})}},{key:"render",value:function(){var e=this,t={startDate:this.state.startDate,endDate:this.state.endDate,key:"selection"};return i.a.createElement("div",{className:"setting-search-outer"},i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("div",{className:this.props.searchShow?"search-bg new-search":"search-bg new-search no-display"},i.a.createElement("i",{className:"fas fa-search"}),i.a.createElement("input",{className:"setting-search-input chart_search",name:"search_key",placeholder:"Search",value:this.state.search_key,onFocus:function(){return e.setState({focusSearch:!0})},autoComplete:"off",onChange:this.handleInputChange,ref:function(t){e.searchFocus=t}}),i.a.createElement("div",{className:this.state.focusSearch&&this.props.searchFocus&&""==this.state.search_key?"giftcard-suggestion":"giftcard-suggestion  no-display",style:{}},i.a.createElement("ul",null,i.a.createElement("li",{className:"suggestion-li"},i.a.createElement("a",{onClick:function(){e.setState({search_key:"to:",focusSearch:!1}),e.searchFocus.focus()},className:"suggestion-a"},i.a.createElement("span",null,this.state.salesLang.sales_to,":"),this.state.salesLang.sales_recipient_name)),i.a.createElement("li",{className:"suggestion-li"},i.a.createElement("a",{onClick:function(){e.setState({search_key:"from:",focusSearch:!1}),e.searchFocus.focus()},className:"suggestion-a"},i.a.createElement("span",null,this.state.salesLang.sales_from,":"),this.state.salesLang.sales_buyer_name)),i.a.createElement("li",{className:"suggestion-li"},i.a.createElement("a",{onClick:function(){e.setState({search_key:"card number:",focusSearch:!1}),e.searchFocus.focus()},className:"suggestion-a"},i.a.createElement("span",null,this.state.salesLang.sales_card_number,":"),this.state.salesLang.sales_redemption_code)))))),i.a.createElement("div",{className:this.props.dateRangePick?"search-bg new-calender pull-left":"no-display",ref:function(t){e.node=t}},i.a.createElement("img",{src:as.a}),this.state.showCalendar&&i.a.createElement(Ia.DateRangePicker,{className:"CalendarPreviewArea",ranges:[t],onChange:this.dateRangeOnChange,maxDate:new Date}),i.a.createElement("input",{onChange:this.handleInputChange,type:"text",className:"input-cal setting-search-input",name:"calendar-input",value:Se()(this.state.startDate).format("YYYY-MM-DD")+"-"+Se()(this.state.endDate).format("YYYY-MM-DD")})),i.a.createElement("div",{className:this.props.invoices?"multi-sel-btn":"multi-sel-btn no-display",ref:function(t){e.muli_sel_btn_ips=t}},this.state.salesLang.sales_selected_invoices," (",this.state.selectedInvoices,")",i.a.createElement("ul",{className:this.state.selctedInvoicesClass},i.a.createElement("li",{id:"select_btn_li"},i.a.createElement("a",{href:"javascript:void(0);",className:"line-btn text-center",name:"ips",onClick:this.toggleInvoicesFilter},"unselect"==this.state.eventSelectedInvoices?"Unselect All":"Select All")),this.state.invoicesArray.length>0&&this.state.invoicesArray.map(function(t,a){return i.a.createElement("li",{key:"selected-invoices-"+a},i.a.createElement("label",null,i.a.createElement("input",{type:"checkbox",checked:!!e.state[Object.keys(t)]&&"checked",value:Object.keys(t),name:Object.keys(t),onChange:e.selectedInvoicesIdList})," ",Object.values(t)))}))),i.a.createElement("div",{className:this.props.location?"multi-sel-btn":"multi-sel-btn no-display",ref:function(t){e.muli_sel_btn_nps=t}},"Selected Locations (",this.state.selectedLocationIdList?this.state.selectedLocationIdList.length:0,")",i.a.createElement("ul",{className:this.state.selctedLocationClass},i.a.createElement("li",{id:"select_btn_li"},i.a.createElement("a",{href:"javascript:void(0);",className:"line-btn text-center",name:"nps",onClick:this.toggleLocationFilter},"unselect"==this.state.eventSelectedLocation?"Unselect All":"Select All")),this.state.locationArray.length>0&&this.state.locationArray.map(function(t,a){return i.a.createElement("li",{key:"selected-location-"+t.id},i.a.createElement("label",null,i.a.createElement("input",{type:"checkbox",checked:e.state.selectedLocationIdList.indexOf(t.id)>-1&&"checked",value:e.state.selectedLocationIdList.indexOf(t.id)>-1,name:"locations-"+t.id,onChange:e.selectedLocationIdList})," ",t.clinic_name))}))),i.a.createElement("div",{className:this.props.employee?"multi-sel-btn":"multi-sel-btn no-display",ref:function(t){e.muli_sel_btn_eps=t}},"Selected Actions (",this.state.selectedEmployeeIdList?this.state.selectedEmployeeIdList.length:0,")",i.a.createElement("ul",{className:this.state.selctedEmployeeClass},i.a.createElement("li",{id:"select_btn_li"},i.a.createElement("a",{href:"javascript:void(0);",className:"line-btn text-center",name:"eps",onClick:this.toggleEmployeeFilter},"unselect"==this.state.eventSelectedEmployee?"Unselect All":"Select All")),this.state.employeeArray.length>0&&this.state.employeeArray.map(function(t,a){return t&&"current"!==t&&i.a.createElement("li",{key:"selected-actions-"+t},i.a.createElement("label",null,i.a.createElement("input",{type:"checkbox",checked:e.state.selectedEmployeeIdList.indexOf(t)>-1&&"checked",value:e.state.selectedEmployeeIdList.indexOf(t)>-1,name:"actions-"+t,onChange:e.selectedEmployeeIdList})," ",e.showActionName(t)))}))),i.a.createElement("div",{className:"export pull-right"},i.a.createElement("div",{className:"dropdown pull-left"},i.a.createElement("button",{className:"btn btn-default dropdown-toggle",type:"button",id:"dropdownMenu1","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},this.state.salesLang.sales_export,i.a.createElement("i",{className:"fas fa-angle-down"})),i.a.createElement("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenu1"},i.a.createElement("li",null,i.a.createElement("a",{href:"javascript:void(0);",name:"expType",onClick:this.handleExport.bind(this,this.state.expType)},this.state.salesLang.sales_export_csv)),i.a.createElement("li",null,i.a.createElement("a",{href:"javascript:void(0);",name:"expoType",onClick:this.handleExport.bind(this,this.state.expoType)},this.state.salesLang.sales_export_excel))))),i.a.createElement("div",{className:1==this.props.total_active_members_value?"search-text pull-right m-r-5":"no-display"},i.a.createElement("b",null,this.state.salesLang.sales_total_active_members," :  ",this.props.total_active_members)),i.a.createElement("div",{className:1==this.props.total_liability_value?"search-text pull-right m-r-5":"no-display"},i.a.createElement("b",null,this.state.salesLang.sales_total_liability," :  ",this.props.total_liability)),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock clientLoader clientProfileLoader":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.globalLang.loading_please_wait_text))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};return void 0!==e.locationArray&&t.locationArray!=e.locationArray&&(a.locationArray=e.locationArray,a.totalLocationIdList=t.userChanged?t.totalLocationIdList:Ym(a.locationArray),a.selectedLocationIdList=t.userChanged?t.selectedLocationIdList:Ym(a.locationArray)),void 0!==e.employeeArray&&t.employeeArray!=e.employeeArray&&(a.employeeArray=e.employeeArray,a.totalEmployeeIdList=t.userChanged?t.totalEmployeeIdList:Hm(a.employeeArray),a.selectedEmployeeIdList=t.userChanged?t.selectedEmployeeIdList:Hm(a.employeeArray)),void 0!==e.invoicesArray&&t.invoicesArray.length!=e.invoicesArray.length&&(e.invoicesArray.map(function(e,s){a[Object.keys(e)]=!t.userChanged||t[Object.keys(e)]}),a.selectedInvoices=5,a.invoicesArray=e.invoicesArray),void 0!==e.exportFunctionCall&&200===e.exportFunctionCall.status&&t.exportFunctionCall!=e.exportFunctionCall?"false"==localStorage.getItem("showLoader")&&(a.exportFunctionCall=e.exportFunctionCall,a.showLoader=!1,window.location.href=e.exportFunctionCall.data.file):void 0!==e.exportFunctionCall&&200!==e.exportFunctionCall.status&&t.exportFunctionCall!=e.exportFunctionCall&&(a.exportFunctionCall=e.exportFunctionCall,a.showLoader=!1),void 0!==e.fromDate&&e.fromDate!=t.fromDate&&(a.fromDate=e.fromDate,a.toDate=e.toDate,a.startDate=Se()(e.fromDate).toDate(),a.endDate=Se()(e.toDate).toDate()),a}}]),t}(n.Component);var Vm=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData"));return localStorage.setItem("showLoader",!1),"EXPORT_CASH_DRAWER_LOG"===e.SalesReducer.action?200===e.SalesReducer.data.status?{exportFunctionCall:e.SalesReducer.data}:(rt.toast.error(t.global[e.SalesReducer.data.message]),{exportFunctionCall:e.SalesReducer.data}):{}},function(e){return Object(c.bindActionCreators)({exportFunction:$d},e)})(Gm),zm=function(e){return Se()(e).format("YYYY-MM-DD")},Wm=function(e){function t(e){var a,s;Object(ne.a)(this,t),(s=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value;if(t&&"file"===t.type){t.files&&t.files[0]&&["image/png","image/PNG","image/jpg","image/JPG","image/jpeg","image/JPEG","image/gif","image/GIF"].indexOf(t.files[0].type)>-1?s.handleFileChosen(t.files[0],t):t.files[0]&&rt.toast.error("This file type is not allowed")}else{var n;s.setState((n={},Object(se.a)(n,e.target.name,a),Object(se.a)(n,"dataChanged",!0),n))}"clinic_id"===e.target.name&&s.fetchDrawerByClinic(a),"history_filter_clinic"===e.target.name&&s.handleClinicChange(a)},s.selectAction=function(e,t){if((t=t||"")&&t.indexOf("disable-submenu")>-1)return!1;s.setState({stateAction:e,openClicked:!!(e&&"openDrawer"===e&&t.length>1),dataChanged:!1,hundredClass:"setting-input-box dollar_number",fiftyClass:"setting-input-box dollar_number",twentyClass:"setting-input-box dollar_number",tenClass:"setting-input-box dollar_number",fiveClass:"setting-input-box dollar_number",oneClass:"setting-input-box dollar_number",quarterClass:"setting-input-box dollar_number",dimeClass:"setting-input-box dollar_number",nickleClass:"setting-input-box dollar_number",pennyClass:"setting-input-box dollar_number",dollar_100:"",dollar_50:"",dollar_20:"",dollar_10:"",dollar_5:"",dollar_1:"",quarters:"",dimes:"",nickels:"",pennies:"",cash_in_amount:"",cashInAmntClass:"setting-input-box cashIN",cash_out_amount:"",cashOutAmntClass:"setting-input-box cashOut",showLoader:!!(e&&"openDrawer"===e&&t.length>1),bankdrop_amount:"",bankdropAmntClass:"setting-input-box bankDrop",bankDropNoteClass:"setting-textarea-box",reason_note:"",cashout_receipt_document:"",cashout_receipt_document_src:"",cashout_receipt_document_size:"",cashout_receipt_document_thumbnail:"",bankdrop_receipt_document:"",bankdrop_receipt_document_src:"",bankdrop_receipt_document_size:"",bankdrop_receipt_document_thumbnail:"",historyReasonClass:"setting-textarea-box reason"}),e&&"openDrawer"===e&&t.length>1&&s.props.getOpenCashDrawer(s.state.clinic_id)},s.handleDrawerClose=function(e){e.preventDefault();var t=0,a=!1,n=!1,i=!1,r=!1,o=!1,l=!1,c=!1,d=!1,m=!1,u=!1;if(qe(s.state.dollar_100)?(t++,a=!1,s.setState({hundredClass:"setting-input-box dollar_number"})):(a=!0,s.setState({hundredClass:"setting-input-box dollar_number setting-input-box-invalid"})),qe(s.state.dollar_50)?(t++,n=!1,s.setState({fiftyClass:"setting-input-box dollar_number"})):(n=!0,s.setState({fiftyClass:"setting-input-box dollar_number setting-input-box-invalid"})),qe(s.state.dollar_20)?(t++,i=!1,s.setState({twentyClass:"setting-input-box dollar_number"})):(i=!0,s.setState({twentyClass:"setting-input-box dollar_number setting-input-box-invalid"})),qe(s.state.dollar_10)?(t++,r=!1,s.setState({tenClass:"setting-input-box dollar_number"})):(r=!0,s.setState({tenClass:"setting-input-box dollar_number setting-input-box-invalid"})),qe(s.state.dollar_5)?(t++,o=!1,s.setState({fiveClass:"setting-input-box dollar_number"})):(o=!0,s.setState({fiveClass:"setting-input-box dollar_number setting-input-box-invalid"})),qe(s.state.dollar_1)?(t++,l=!1,s.setState({oneClass:"setting-input-box dollar_number"})):(l=!0,s.setState({oneClass:"setting-input-box dollar_number setting-input-box-invalid"})),qe(s.state.quarters)?(t++,c=!1,s.setState({quarterClass:"setting-input-box dollar_number"})):(c=!0,s.setState({quarterClass:"setting-input-box dollar_number setting-input-box-invalid"})),qe(s.state.dimes)?(t++,d=!1,s.setState({dimeClass:"setting-input-box dollar_number"})):(d=!0,s.setState({dimeClass:"setting-input-box dollar_number setting-input-box-invalid"})),qe(s.state.nickels)?(t++,m=!1,s.setState({nickleClass:"setting-input-box dollar_number"})):(m=!0,s.setState({nickleClass:"setting-input-box dollar_number setting-input-box-invalid"})),qe(s.state.pennies)?(t++,u=!1,s.setState({pennyClass:"setting-input-box dollar_number"})):(u=!0,s.setState({pennyClass:"setting-input-box dollar_number setting-input-box-invalid"})),rt.toast.dismiss(),0===t&&rt.toast.error("You must enter atleast one field"),t>0){var p=!0;""!==s.state.dollar_100&&a?p=!1:s.setState({hundredClass:"setting-input-box dollar_number"}),""!==s.state.dollar_50&&n?p=!1:s.setState({fiftyClass:"setting-input-box dollar_number"}),""!==s.state.dollar_20&&i?p=!1:s.setState({twentyClass:"setting-input-box dollar_number"}),""!==s.state.dollar_10&&r?p=!1:s.setState({tenClass:"setting-input-box dollar_number"}),""!==s.state.dollar_5&&o?p=!1:s.setState({fiveClass:"setting-input-box dollar_number"}),""!==s.state.dollar_1&&l?p=!1:s.setState({oneClass:"setting-input-box dollar_number"}),""!==s.state.quarters&&c?p=!1:s.setState({quarterClass:"setting-input-box dollar_number"}),""!==s.state.dimes&&d?p=!1:s.setState({dimeClass:"setting-input-box dollar_number"}),""!==s.state.nickels&&m?p=!1:s.setState({nickleClass:"setting-input-box dollar_number"}),""!==s.state.pennies&&u?p=!1:s.setState({pennyClass:"setting-input-box dollar_number"}),p&&s.setState({showClosingPopup:!0})}},s.handleCashIn=function(e){if(e.preventDefault(),qe(s.state.cash_in_amount)&&s.state.cash_in_amount?s.setState({cashInAmntClass:"setting-input-box cashIN"}):s.setState({cashInAmntClass:"setting-input-box cashIN setting-input-box-invalid"}),s.state.cash_in_amount&&qe(s.state.cash_in_amount)){var t={drawer_id:s.state.cashDrawerData.cash_drawer_data.id,total_amount:s.state.cash_in_amount};s.setState({showLoader:!0}),s.props.cashInDrawer(t)}},s.handleCashOut=function(e){e.preventDefault();var t=s.state.cashDrawerData&&s.state.cashDrawerData.cash_drawer_data&&s.state.cashDrawerData.cash_drawer_data.current_balance?s.state.cashDrawerData.cash_drawer_data.current_balance:0;if(qe(s.state.cash_out_amount)&&s.state.cash_out_amount?(rt.toast.dismiss(),parseFloat(s.state.cash_out_amount)>parseFloat(t)?(rt.toast.error("Value can not be more than max value"),s.setState({cashOutAmntClass:"setting-input-box cashOut setting-input-box-invalid"})):s.setState({cashOutAmntClass:"setting-input-box cashOut"})):s.setState({cashOutAmntClass:"setting-input-box cashOut setting-input-box-invalid"}),s.state.cash_out_amount&&qe(s.state.cash_out_amount)&&parseFloat(s.state.cash_out_amount)<=parseFloat(t)){var a={drawer_id:s.state.cashDrawerData.cash_drawer_data.id,total_amount:s.state.cash_out_amount,receipt_document:s.state.cashout_receipt_document};s.state.cashout_receipt_document||delete a.receipt_document,s.setState({showLoader:!0}),s.props.cashOutDrawer(a)}},s.handleUpload=function(e){var t=new FormData;t.append("file",s.state.file,s.state.file.name);var a=Ee.API_URL+"media/upload?upload_type=".concat("drawer_receipts");Q.a.post(a,t).then(function(e){var t,a=s.state.target.name;s.setState((t={},Object(se.a)(t,a,e.data.data.file_name),Object(se.a)(t,"showLoader",!1),t))}).catch(function(e){rt.toast.error(s.state.globalLang[e.response.data.message])})},s.handleFileRead=function(e){s.state.fileReader.result;var t,a=s.state.target.name+"_thumbnail",n=s.state.target.name+"_src",i=s.state.target.name+"_size",r=Fe(s.state.file.size,1);s.setState((t={},Object(se.a)(t,a,s.state.file.name),Object(se.a)(t,i,r),Object(se.a)(t,n,s.state.fileReader.result),Object(se.a)(t,"showLoader",!0),t)),s.handleUpload(s.state.target.name)},s.handleFileChosen=function(e,t){s.state.fileReader=new FileReader,s.state.fileReader.onloadend=s.handleFileRead,s.state.fileReader.readAsDataURL(e),s.state.file=e,s.state.target=t},s.handleBankDrop=function(e){e.preventDefault();var t=s.state.cashDrawerData&&s.state.cashDrawerData.cash_drawer_data&&s.state.cashDrawerData.cash_drawer_data.current_balance?s.state.cashDrawerData.cash_drawer_data.current_balance:0;if(qe(s.state.bankdrop_amount)&&s.state.bankdrop_amount?(rt.toast.dismiss(),parseFloat(s.state.bankdrop_amount)>parseFloat(t)?(rt.toast.error("Value can not be more than max value"),s.setState({bankdropAmntClass:"setting-input-box cashOut setting-input-box-invalid"})):s.setState({bankdropAmntClass:"setting-input-box cashOut"})):s.setState({bankdropAmntClass:"setting-input-box cashOut setting-input-box-invalid"}),s.state.bankdrop_amount&&qe(s.state.bankdrop_amount)&&parseFloat(s.state.bankdrop_amount)<=parseFloat(t)){var a={drawer_id:s.state.cashDrawerData.cash_drawer_data.id,total_amount:s.state.bankdrop_amount,receipt_document:s.state.bankdrop_receipt_document,reason_note:s.state.reason_note};s.state.bankdrop_receipt_document||delete a.receipt_document,s.state.reason_note||delete a.reason_note,s.setState({showLoader:!0}),s.props.bankDropDrawer(a)}},s.componentDidMount=function(){document.addEventListener("click",s.handleDatePickerClick,!1),s.setState({showLoader:!0}),s.props.getCashDrawer()},s.fetchDrawerByClinic=function(e){e&&e>0&&(s.setState({showLoader:!0}),s.props.changeDrawerLocation(e))},s.handleModalAction=function(){s.setState({showAlreadyOpenedPopup:!1,modalMessage:"",showLoader:!0}),s.props.updateCashDrawer(s.state.clinic_id)},s.dismissAlreadyOpenedPopup=function(){s.state.clinic_id&&s.state.clinic_id>0&&(s.setState({showLoader:!0}),s.props.viewOpenedDrawer(s.state.clinic_id)),s.setState({showAlreadyOpenedPopup:!1,modalMessage:""})},s.showAction=function(e){var t="";return"cash_in"===e?t="Cash In":"cash_out"===e?t="Cash Out":"bank_drop"===e?t="Bank Drop":"open"===e?t="Open":"close"===e?t="Close":"close_edit"===e&&(t="Close Edit"),t},s.returnAction=function(e){var t="";if("close_edit"===e.action&&(t=e.reason_note),e&&("bank_drop"===e.action||"cash_out"===e.action)){if(""!==e.receipt_document&&null!==e.receipt_document||""!==e.reason_note&&null!==e.reason_note)return i.a.createElement("a",{onClick:function(){return s.viewReceipt(e)},className:"easy-link"},"View Receipt");if(e.user_id===s.getLoggedInUserData())return i.a.createElement("a",{onClick:function(){return s.addReceipt(e)},className:"easy-link"},"Add Receipt")}return t},s.viewReceipt=function(e){var t="today",a=e.action&&"cash_out"===e.action?"cashout":"bankdrop";s.state.showRegisterLog&&(t="logs"),s.state.showDrawerHistory&&(t="history"),s.setState({showViewReceiptModal:!0,updateType:t,updateAction:a,transID:e.id,popupImgSrc:e.receipt_document,popupNote:e.reason_note,transUserID:e.user_id})},s.addReceipt=function(e){var t="today",a=e.action&&"cash_out"===e.action?"cashout":"bankdrop";s.state.showRegisterLog&&(t="logs"),s.state.showDrawerHistory&&(t="history"),s.setState({showAddReceiptModal:!0,updateType:t,updateAction:a,popupBankDropNoteClass:"setting-textarea-box",transID:e.id,popup_reason_note:""})},s.editPopupData=function(){var e,t=s.state.updateAction&&"bankdrop"===s.state.updateAction?"bankdrop_receipt_document_src":"cashout_receipt_document_src";s.setState((e={showViewReceiptModal:!1,showAddReceiptModal:!0},Object(se.a)(e,t,s.state.popupImgSrc),Object(se.a)(e,"popup_reason_note",s.state.popupNote),e))},s.closeReceiptPopup=function(){s.setState({showAddReceiptModal:!1,showViewReceiptModal:!1,showViewEditReceiptModal:!1,cashout_receipt_document:"",cashout_receipt_document_src:"",cashout_receipt_document_size:"",cashout_receipt_document_thumbnail:"",bankdrop_receipt_document:"",bankdrop_receipt_document_src:"",bankdrop_receipt_document_size:"",bankdrop_receipt_document_thumbnail:"",updateType:"",updateAction:"",popupBankDropNoteClass:"setting-textarea-box",transID:null,popup_reason_note:"",popupImgSrc:"",popupNote:"",transUserID:""})},s.componentDidUpdate=function(e,t){null!==s.state.updateDrawerData&&""!==s.state.updateDrawerData&&s.state.updateDrawerData!==t.updateDrawerData&&null!==s.state.updateDrawerStaus&&""!==s.state.updateDrawerStaus&&(s.setState({showLoader:!0}),s.props.getCashDrawer()),null!==s.state.postOpenData&&""!==s.state.postOpenData&&s.state.postOpenData!==t.postOpenData&&null!==s.state.postOpenStatus&&""!==s.state.postOpenStatus&&(s.setState({showLoader:!0}),s.props.getCashDrawer()),null!==s.state.closeDrawerData&&""!==s.state.closeDrawerData&&s.state.closeDrawerData!==t.closeDrawerData&&null!==s.state.closeStatus&&""!==s.state.closeStatus&&(s.setState({showLoader:!0}),s.props.getCashDrawer()),null!==s.state.cashInDrawerData&&""!==s.state.cashInDrawerData&&s.state.cashInDrawerData!==t.cashInDrawerData&&null!==s.state.cashInStatus&&""!==s.state.cashInStatus&&(s.setState({showLoader:!0}),s.props.getCashDrawer()),null!==s.state.cashOutDrawerData&&""!==s.state.cashOutDrawerData&&s.state.cashOutDrawerData!==t.cashOutDrawerData&&null!==s.state.cashOutStatus&&""!==s.state.cashOutStatus&&(s.setState({showLoader:!0}),s.props.getCashDrawer()),null!==s.state.bankDropDrawerData&&""!==s.state.bankDropDrawerData&&s.state.bankDropDrawerData!==t.bankDropDrawerData&&null!==s.state.bankDropStatus&&""!==s.state.bankDropStatus&&(s.setState({showLoader:!0}),s.props.getCashDrawer()),null!==s.state.editClosedData&&""!==s.state.editClosedData&&s.state.editClosedData!==t.editClosedData&&null!==s.state.editClosedStatus&&""!==s.state.editClosedStatus&&(s.setState({showLoader:!0}),s.props.getCashDrawer()),null!==s.state.popupReceiptData&&""!==s.state.popupReceiptData&&s.state.popupReceiptData!==t.popupReceiptData&&null!==s.state.popupReceiptStatus&&""!==s.state.popupReceiptStatus&&s.state.updateType&&("today"===s.state.updateType?(s.setState({showLoader:!0}),s.props.getCashDrawer()):"logs"===s.state.updateType?s.showRegisterLog():"history"===s.state.updateType&&s.showDrawerHistory())},s.handleDrawerOpen=function(e){e.preventDefault();var t={clinic_id:s.state.clinic_id};s.setState({showLoader:!0,openClicked:!1}),s.props.openCashDrawer(t)},s.hideClosingPopup=function(){s.setState({showClosingPopup:!1})},s.closeDrawer=function(){if(s.state.cashDrawerData&&s.state.cashDrawerData.cash_drawer_data){var e={drawer_id:s.state.cashDrawerData.cash_drawer_data.id,cash_drawer_transaction:{dollar_100:s.state.dollar_100,dollar_50:s.state.dollar_50,dollar_20:s.state.dollar_20,dollar_10:s.state.dollar_10,dollar_5:s.state.dollar_5,dollar_1:s.state.dollar_1,quarters:s.state.quarters,dimes:s.state.dimes,nickels:s.state.nickels,pennies:s.state.pennies}};s.state.dollar_100||delete e.cash_drawer_transaction.dollar_100,s.state.dollar_50||delete e.cash_drawer_transaction.dollar_50,s.state.dollar_20||delete e.cash_drawer_transaction.dollar_20,s.state.dollar_10||delete e.cash_drawer_transaction.dollar_10,s.state.dollar_5||delete e.cash_drawer_transaction.dollar_5,s.state.dollar_1||delete e.cash_drawer_transaction.dollar_1,s.state.quarters||delete e.cash_drawer_transaction.quarters,s.state.dimes||delete e.cash_drawer_transaction.dimes,s.state.nickels||delete e.cash_drawer_transaction.nickels,s.state.pennies||delete e.cash_drawer_transaction.pennies,s.setState({showLoader:!0,showClosingPopup:!1,stateAction:"openDrawer"}),s.props.closeCashDrawer(e)}},s.backToDrawer=function(){window.onscroll=function(){return!1},s.setState({showLoader:!0,showRegisterLog:!1,showDrawerHistory:!1,page:1,next_page_url:"",registerListData:[],startFresh:!0,history_filter_date:null}),s.hideEditSection(),s.props.getCashDrawer()},s.showRegisterLog=function(){window.onscroll=function(){window.innerHeight+document.documentElement.scrollTop===document.documentElement.offsetHeight&&null!=s.state.next_page_url&&s.loadMore()};var e=Be("",!1,"YYYY-MM-DD"),t=Be("",!1,"YYYY-MM-DD"),a={params:{page:s.state.page,pagesize:s.state.pagesize,from:e,to:t}};s.setState({showLoader:!0,overrideChildState:!0,sel_clinic_id:[],sel_action_type:[],fromDate:e,toDate:t,registerListData:[],startFresh:!0,next_page_url:"",page:1}),s.props.cashRegisterLogs(a)},s.showDrawerHistory=function(){s.setState({showLoader:!0,history_filter_date:null,selected_date:void 0,history_filter_clinic:void 0}),s.props.cashDrawerHistory()},s.showEditSection=function(){s.setState({sectionOneClass:"juvly-container border-top",sectionTwoClass:"juvly-container no-padding-top no-display",sectionThreeClass:"juvly-container border-top no-display",sectionFourClass:"table-responsive no-display",editSectionClass:"juvly-container no-padding-top",dataChanged:!1,hundredClass:"setting-input-box dollar_number",fiftyClass:"setting-input-box dollar_number",twentyClass:"setting-input-box dollar_number",tenClass:"setting-input-box dollar_number",fiveClass:"setting-input-box dollar_number",oneClass:"setting-input-box dollar_number",quarterClass:"setting-input-box dollar_number",dimeClass:"setting-input-box dollar_number",nickleClass:"setting-input-box dollar_number",pennyClass:"setting-input-box dollar_number",historyReasonNote:"",historyReasonClass:"setting-textarea-box reason"})},s.hideEditSection=function(){s.setState({sectionOneClass:"juvly-container border-top",sectionTwoClass:"juvly-container no-padding-top",sectionThreeClass:"juvly-container border-top",sectionFourClass:"table-responsive",editSectionClass:"juvly-container no-padding-top no-display"})},s.handleHistoryDrawerClose=function(e){e.preventDefault();var t=0,a=!1,n=!1,i=!1,r=!1,o=!1,l=!1,c=!1,d=!1,m=!1,u=!1,p=!1;if(qe(s.state.dollar_100)?(t++,a=!1,s.setState({hundredClass:"setting-input-box dollar_number"})):(a=!0,s.setState({hundredClass:"setting-input-box dollar_number setting-input-box-invalid"})),qe(s.state.dollar_50)?(t++,n=!1,s.setState({fiftyClass:"setting-input-box dollar_number"})):(n=!0,s.setState({fiftyClass:"setting-input-box dollar_number setting-input-box-invalid"})),qe(s.state.dollar_20)?(t++,i=!1,s.setState({twentyClass:"setting-input-box dollar_number"})):(i=!0,s.setState({twentyClass:"setting-input-box dollar_number setting-input-box-invalid"})),qe(s.state.dollar_10)?(t++,r=!1,s.setState({tenClass:"setting-input-box dollar_number"})):(r=!0,s.setState({tenClass:"setting-input-box dollar_number setting-input-box-invalid"})),qe(s.state.dollar_5)?(t++,o=!1,s.setState({fiveClass:"setting-input-box dollar_number"})):(o=!0,s.setState({fiveClass:"setting-input-box dollar_number setting-input-box-invalid"})),qe(s.state.dollar_1)?(t++,l=!1,s.setState({oneClass:"setting-input-box dollar_number"})):(l=!0,s.setState({oneClass:"setting-input-box dollar_number setting-input-box-invalid"})),qe(s.state.quarters)?(t++,c=!1,s.setState({quarterClass:"setting-input-box dollar_number"})):(c=!0,s.setState({quarterClass:"setting-input-box dollar_number setting-input-box-invalid"})),qe(s.state.dimes)?(t++,d=!1,s.setState({dimeClass:"setting-input-box dollar_number"})):(d=!0,s.setState({dimeClass:"setting-input-box dollar_number setting-input-box-invalid"})),qe(s.state.nickels)?(t++,m=!1,s.setState({nickleClass:"setting-input-box dollar_number"})):(m=!0,s.setState({nickleClass:"setting-input-box dollar_number setting-input-box-invalid"})),qe(s.state.pennies)?(t++,u=!1,s.setState({pennyClass:"setting-input-box dollar_number"})):(u=!0,s.setState({pennyClass:"setting-input-box dollar_number setting-input-box-invalid"})),s.state.historyReasonNote?(s.setState({historyReasonClass:"setting-textarea-box reason"}),p=!1):(s.setState({historyReasonClass:"setting-textarea-box reason setting-input-box-invalid"}),p=!0),rt.toast.dismiss(),0===t&&rt.toast.error("You must enter atleast one field"),t>0){var h=!0;if(""!==s.state.dollar_100&&a?h=!1:s.setState({hundredClass:"setting-input-box dollar_number"}),""!==s.state.dollar_50&&n?h=!1:s.setState({fiftyClass:"setting-input-box dollar_number"}),""!==s.state.dollar_20&&i?h=!1:s.setState({twentyClass:"setting-input-box dollar_number"}),""!==s.state.dollar_10&&r?h=!1:s.setState({tenClass:"setting-input-box dollar_number"}),""!==s.state.dollar_5&&o?h=!1:s.setState({fiveClass:"setting-input-box dollar_number"}),""!==s.state.dollar_1&&l?h=!1:s.setState({oneClass:"setting-input-box dollar_number"}),""!==s.state.quarters&&c?h=!1:s.setState({quarterClass:"setting-input-box dollar_number"}),""!==s.state.dimes&&d?h=!1:s.setState({dimeClass:"setting-input-box dollar_number"}),""!==s.state.nickels&&m?h=!1:s.setState({nickleClass:"setting-input-box dollar_number"}),""!==s.state.pennies&&u?h=!1:s.setState({pennyClass:"setting-input-box dollar_number"}),p?h=!1:s.setState({historyReasonClass:"setting-textarea-box reason"}),h){var g={drawer_id:s.state.drawerHistorysData.drawer.cash_drawer.id,drawer_clinic_id:s.state.history_filter_clinic,reason_note:s.state.historyReasonNote,cash_drawer_transaction:{dollar_100:s.state.dollar_100,dollar_50:s.state.dollar_50,dollar_20:s.state.dollar_20,dollar_10:s.state.dollar_10,dollar_5:s.state.dollar_5,dollar_1:s.state.dollar_1,quarters:s.state.quarters,dimes:s.state.dimes,nickels:s.state.nickels,pennies:s.state.pennies}};s.state.dollar_100||delete g.cash_drawer_transaction.dollar_100,s.state.dollar_50||delete g.cash_drawer_transaction.dollar_50,s.state.dollar_20||delete g.cash_drawer_transaction.dollar_20,s.state.dollar_10||delete g.cash_drawer_transaction.dollar_10,s.state.dollar_5||delete g.cash_drawer_transaction.dollar_5,s.state.dollar_1||delete g.cash_drawer_transaction.dollar_1,s.state.quarters||delete g.cash_drawer_transaction.quarters,s.state.dimes||delete g.cash_drawer_transaction.dimes,s.state.nickels||delete g.cash_drawer_transaction.nickels,s.state.pennies||delete g.cash_drawer_transaction.pennies,s.setState({showLoader:!0,stateAction:"openDrawer"}),s.props.editClosedDrawer(g)}}},s.handleDatePickerClick=function(e){s.refDatePickerContainer.contains(e.target)||(s.refDatePicker.setOpen(!1),s.setState({showDatePicker:!1}))},s.handleDatePicker=function(e){s.refDatePicker.setOpen(!1);var t=Object(ss.b)(e,"YYYY-MM-DD"),a={params:{date:t,clinic_id:s.state.history_filter_clinic}};s.state.history_filter_clinic||delete a.params.clinic_id,s.props.cashDrawerHistory(a),s.setState({history_filter_date:zm(e),selected_date:e,showDatePicker:!1,dataChanged:!0,showLoader:!0,historyDate:t})},s.blurDatePicker=function(e){s.refDatePicker.setOpen(!0),s.setState({showDatePicker:!0,dataChanged:!0})},s.toggleDatePicker=function(){s.setState({showDatePicker:!0}),s.refDatePicker.setFocus(!0),s.refDatePicker.setOpen(!0)},s.loadMore=function(){var e={params:{page:s.state.page,pagesize:s.state.pagesize,from:s.state.fromDate,to:s.state.toDate,clinic_id:s.state.sel_clinic_id,action:s.state.sel_action_type}};s.setState({showLoadingText:!0}),s.props.cashRegisterLogs(e)},s.handleChildSubmit=function(e){s.setState({fromDate:Object(ss.b)(e.fromDate,"YYYY-MM-DD"),toDate:Object(ss.b)(e.toDate,"YYYY-MM-DD"),sel_clinic_id:e.selectedLocationIdList,showLoader:!0,startFresh:!0,registerListData:[],page:1,next_page_url:"",sel_action_type:e.selectedEmployeeIdList});var t={params:{page:1,pagesize:s.state.pagesize,from:Object(ss.b)(e.fromDate,"YYYY-MM-DD"),to:Object(ss.b)(e.toDate,"YYYY-MM-DD"),clinic_id:e.selectedLocationIdList,action:e.selectedEmployeeIdList}};s.props.cashRegisterLogs(t)},s.handleClinicChange=function(e){var t={params:{date:s.state.history_filter_date,clinic_id:e}};s.props.cashDrawerHistory(t),s.setState({dataChanged:!0,showLoader:!0,history_filter_clinic:e})},s.handleSubmitReceiptPopup=function(e){e.preventDefault();var t=!0;if(s.state.updateAction&&"cashout"===s.state.updateAction)s.state.cashout_receipt_document?t=!0:(t=!1,rt.toast.dismiss(),rt.toast.error("Please upload a file"));else if("bankdrop"===s.state.updateAction){var a=!1;s.state.bankdrop_receipt_document&&(a=!0),s.state.popup_reason_note&&(a=!0),a||s.state.bankdrop_receipt_document_src?t=!0:(t=!1,rt.toast.dismiss(),rt.toast.error("You must enter at least one field"))}if(t&&s.state.transID){var n={transaction_id:s.state.transID,receipt_document:s.state.updateAction&&"cashout"===s.state.updateAction?s.state.cashout_receipt_document:s.state.bankdrop_receipt_document,reason_note:s.state.popup_reason_note};n.receipt_document||delete n.receipt_document,n.reason_note||delete n.reason_note,s.setState({showLoader:!0}),s.props.addEditPopupReceipt(n)}},s.getLoggedInUserData=function(){var e=JSON.parse(we());return e?e.user.id:0};JSON.parse(localStorage.getItem("userData"));var n=JSON.parse(localStorage.getItem("languageData"));return s.state=(a={stateAction:"openDrawer",isInViewMode:!0,dataChanged:!1,hundredClass:"setting-input-box dollar_number",fiftyClass:"setting-input-box dollar_number",twentyClass:"setting-input-box dollar_number",tenClass:"setting-input-box dollar_number",fiveClass:"setting-input-box dollar_number",oneClass:"setting-input-box dollar_number",quarterClass:"setting-input-box dollar_number",dimeClass:"setting-input-box dollar_number",nickleClass:"setting-input-box dollar_number",pennyClass:"setting-input-box dollar_number",dollar_100:"",dollar_50:"",dollar_20:"",dollar_10:"",dollar_5:"",dollar_1:"",quarters:"",dimes:"",nickels:"",pennies:"",cash_in_amount:"",cashInAmntClass:"setting-input-box cashIN",cash_out_amount:"",cashOutAmntClass:"setting-input-box cashOut",showLoader:!1,bankdrop_amount:"",bankdropAmntClass:"setting-input-box bankDrop",bankDropNoteClass:"setting-textarea-box",reason_note:"",showAlreadyOpenedPopup:!1,modalMessage:"",openClicked:!1,showClosingPopup:!1,globalLang:n.global,salesLang:n.sales,showRegisterLog:!1,showDrawerHistory:!1,sectionOneClass:"juvly-container border-top",sectionTwoClass:"juvly-container no-padding-top",sectionThreeClass:"juvly-container border-top",sectionFourClass:"table-responsive",editSectionClass:"juvly-container no-padding-top no-display",showDatePicker:!1,history_filter_date:zm(new Date),page:1,pagesize:15,next_page_url:"",startFresh:!0,locationArray:[],selectedLocationIdList:[],overrideChildState:!1,registerListData:[]},Object(se.a)(a,"startFresh",!0),Object(se.a)(a,"sel_clinic_id",[]),Object(se.a)(a,"sel_action_type",[]),Object(se.a)(a,"historyReasonClass","setting-textarea-box reason"),Object(se.a)(a,"hisNoDataClass","no-record"),Object(se.a)(a,"showAddReceiptModal",!1),Object(se.a)(a,"showViewReceiptModal",!1),Object(se.a)(a,"updateType",""),Object(se.a)(a,"updateAction",""),Object(se.a)(a,"popupBankDropNoteClass","setting-textarea-box"),Object(se.a)(a,"popupImgSrc",""),Object(se.a)(a,"popupNote",""),a),s}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleDatePickerClick,!1)}},{key:"render",value:function(){var e=this,t=this.state.stateAction&&"openDrawer"===this.state.stateAction&&!1===this.state.openClicked?"":"no-display",a=this.state.openClicked?"":"no-display",s=this.state.stateAction&&"closeDrawer"===this.state.stateAction?"":"no-display",n=this.state.stateAction&&"cashIn"===this.state.stateAction?"":"no-display",r=this.state.stateAction&&"cashOut"===this.state.stateAction?"":"no-display",o=this.state.stateAction&&"bankDrop"===this.state.stateAction?"":"no-display",l=Be(),c="cashdrawer-subtabs-a",d="cashdrawer-subtabs-a disable-submenu",m="cashdrawer-subtabs-a disable-submenu",u="cashdrawer-subtabs-a disable-submenu",p="cashdrawer-subtabs-a disable-submenu",h="Open Drawer",g="Close Drawer",_="";this.state.cashDrawerData&&this.state.cashDrawerData.cash_drawer_session&&"open"===this.state.cashDrawerData.cash_drawer_session.status&&(c="cashdrawer-subtabs-a disable-submenu",d="cashdrawer-subtabs-a",m="cashdrawer-subtabs-a",u="cashdrawer-subtabs-a",p="cashdrawer-subtabs-a",h="Opened Drawer"),this.state.cashDrawerData&&this.state.cashDrawerData.cash_drawer_data&&1===this.state.cashDrawerData.cash_drawer_data.drawer_status&&(c="cashdrawer-subtabs-a disable-submenu",d="cashdrawer-subtabs-a disable-submenu",g="Closed Drawer"),this.state.cashDrawerData&&this.state.cashDrawerData.drawer_opened&&1===this.state.cashDrawerData.drawer_opened&&(c="cashdrawer-subtabs-a disable-submenu",h="Opened Drawer"),this.state.cashDrawerData&&this.state.cashDrawerData.cash_drawer_data&&this.state.cashDrawerData.cash_drawer_data.opened_at&&(l=Be(this.state.cashDrawerData.cash_drawer_data.opened_at)),c=this.state.stateAction&&"openDrawer"===this.state.stateAction&&-1===c.indexOf("disable-submenu")&&this.state.openClicked?c+" sel-submenu":c,d=this.state.stateAction&&"closeDrawer"===this.state.stateAction&&-1===d.indexOf("disable-submenu")?d+" sel-submenu":d,m=this.state.stateAction&&"cashIn"===this.state.stateAction&&-1===m.indexOf("disable-submenu")?m+" sel-submenu":m,u=this.state.stateAction&&"cashOut"===this.state.stateAction&&-1===u.indexOf("disable-submenu")?u+" sel-submenu":u,p=this.state.stateAction&&"bankDrop"===this.state.stateAction&&-1===p.indexOf("disable-submenu")?p+" sel-submenu":p;var v="juvly-section full-width no-display",f="juvly-section full-width no-display",b="juvly-section full-width no-display",E="juvly-section full-width no-display",y="";this.state.cashDrawerData&&this.state.cashDrawerData.show_drawer&&this.state.cashDrawerData.show_drawer>0?f="juvly-section full-width":(v="juvly-section full-width",this.state.cashDrawerData&&this.state.cashDrawerData.clinics&&this.state.cashDrawerData.clinics.length>0&&(y=this.state.cashDrawerData.clinics.map(function(e,t){return i.a.createElement("option",{key:t,value:e.id},e.clinic_name)}))),this.state.showRegisterLog&&(v="juvly-section full-width no-display",f="juvly-section full-width no-display",E="juvly-section full-width no-display",b="juvly-section full-width"),this.state.showDrawerHistory&&(v="juvly-section full-width no-display",f="juvly-section full-width no-display",b="juvly-section full-width no-display",E="juvly-section full-width");var N=Ie(0,"currency",2),S=N,D=N,w=N,C=N,x=N,L="";this.state.cashDrawerData&&this.state.cashDrawerData.cash_drawer_data&&null!==this.state.cashDrawerData.cash_drawer_data&&(S=this.state.cashDrawerData.cash_drawer_data.opening_balance?Ie(this.state.cashDrawerData.cash_drawer_data.opening_balance,"currency",2):N,D=this.state.cashDrawerData.cash_drawer_data.current_balance?Ie(this.state.cashDrawerData.cash_drawer_data.current_balance,"currency",2):N,w=this.state.cashDrawerData.cash_drawer_data.cash_in?Ie(this.state.cashDrawerData.cash_drawer_data.cash_in,"currency",2):N,C=this.state.cashDrawerData.cash_drawer_data.cash_out?Ie(this.state.cashDrawerData.cash_drawer_data.cash_out,"currency",2):N,x=this.state.cashDrawerData.cash_drawer_data.bank_drop?Ie(this.state.cashDrawerData.cash_drawer_data.bank_drop,"currency",2):N),this.state.cashDrawerData&&this.state.cashDrawerData.cash_drawer_data&&this.state.cashDrawerData.cash_drawer_data.clinic&&null!==this.state.cashDrawerData.cash_drawer_data.clinic&&(L=this.state.cashDrawerData.cash_drawer_data.clinic.clinic_name);var O=this.state.cashDrawerData&&this.state.cashDrawerData.cash_drawer_data&&this.state.cashDrawerData.cash_drawer_data.current_balance?this.state.cashDrawerData.cash_drawer_data.current_balance:0;return this.state.drawerHistorysData&&this.state.drawerHistorysData.clinics&&this.state.drawerHistorysData.clinics.length>0&&(_=this.state.drawerHistorysData.clinics.map(function(e,t){return i.a.createElement("option",{key:t,value:e.id},e.clinic_name)})),i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(tm,null),i.a.createElement("div",{className:!0===this.state.showViewReceiptModal?"modalOverlay":""},i.a.createElement("div",{className:!0===this.state.showViewReceiptModal?"small-popup-outer xs-popup displayBlock":"small-popup-outer xs-popup no-display"},i.a.createElement("div",{className:"small-popup-header"},i.a.createElement("div",{className:"popup-name"},"View RECEIPT"),i.a.createElement("a",{onClick:function(){return e.closeReceiptPopup()},className:"small-cross"},"\xd7")),i.a.createElement("div",{className:"small-popup-content"},i.a.createElement("div",{className:"juvly-container no-padding-bottom"},this.state.popupImgSrc&&i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"main-profile-picture relative-pic"},i.a.createElement("div",{className:"col-xs-6 no-padding"},i.a.createElement("div",{className:"file-container"},i.a.createElement("img",{src:this.state.popupImgSrc?this.state.popupImgSrc:""}))))),this.state.updateAction&&"bankdrop"===this.state.updateAction&&i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Notes/Reason"),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("pre",{className:"Receipt-reason receipt-textarea"},this.state.popupNote?this.state.popupNote:""))))),this.state.transUserID&&this.getLoggedInUserData()===this.state.transUserID&&i.a.createElement("div",{className:"footer-static"},i.a.createElement("a",{className:"new-blue-btn pull-right",onClick:function(){return e.editPopupData()}},"Edit")))),i.a.createElement("div",{className:!0===this.state.showAddReceiptModal?"modalOverlay":""},i.a.createElement("div",{className:!0===this.state.showAddReceiptModal?"small-popup-outer xs-popup displayBlock":"small-popup-outer xs-popup no-display"},i.a.createElement("form",{onSubmit:this.handleSubmitReceiptPopup},i.a.createElement("div",{className:"small-popup-header"},i.a.createElement("div",{className:"popup-name"},"UPDATE RECEIPT"),i.a.createElement("a",{onClick:function(){return e.closeReceiptPopup()},className:"small-cross"},"\xd7")),i.a.createElement("div",{className:"small-popup-content"},i.a.createElement("div",{className:"juvly-container no-padding-bottom"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Upload receipt"),i.a.createElement("div",{className:"main-profile-picture relative-pic"},i.a.createElement("div",{className:"col-xs-6 no-padding"},i.a.createElement("div",{className:"file-container"},i.a.createElement("img",{src:this.state[this.state.updateAction+"_receipt_document_src"]?this.state[this.state.updateAction+"_receipt_document_src"]:qm.a}),i.a.createElement("span",{className:this.state[this.state.updateAction+"_receipt_document_src"]?"file-name file-info":"file-name-hide no-display"},this.state[this.state.updateAction+"_receipt_document_thumbnail"]),i.a.createElement("span",{className:this.state[this.state.updateAction+"_receipt_document_size"]?"file-size file-info":"file-size-hide no-display"},this.state[this.state.updateAction+"_receipt_document_size"]),i.a.createElement("div",{className:"upload"},"Upload",i.a.createElement("input",{type:"file",name:this.state.updateAction+"_receipt_document",autoComplete:"off",onChange:this.handleInputChange,className:"image_questionnaire"})))))),this.state.updateAction&&"bankdrop"===this.state.updateAction&&i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Notes/Reason"),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("textarea",{onChange:this.handleInputChange,name:"popup_reason_note",value:this.state.popup_reason_note,className:this.state.popupBankDropNoteClass}))))),i.a.createElement("div",{className:"footer-static"},i.a.createElement("input",{className:"new-blue-btn pull-right",type:"submit",value:"Save"}))))),i.a.createElement("div",{className:!0===this.state.showAlreadyOpenedPopup?"overlay":""}),i.a.createElement("div",{role:"dialog",className:!0===this.state.showAlreadyOpenedPopup?"modal fade in displayBlock":"modal fade no-display"},i.a.createElement("div",{className:"modal-dialog"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal",onClick:this.dismissAlreadyOpenedPopup},"\xd7"),i.a.createElement("h4",{className:"modal-title"},this.state.salesLang.sales_Confirmation_required)),i.a.createElement("div",{id:"errorwindow",className:"modal-body add-patient-form filter-patient"},void 0!==this.state.modalMessage?this.state.modalMessage:""),i.a.createElement("div",{className:"modal-footer"},i.a.createElement("div",{className:"col-md-12 text-left"},i.a.createElement("button",{type:"button",className:"btn  logout pull-right","data-dismiss":"modal",onClick:this.dismissAlreadyOpenedPopup},this.state.salesLang.sales_no),i.a.createElement("button",{type:"button",className:"btn btn-success pull-right m-r-10","data-dismiss":"modal",onClick:this.handleModalAction},this.state.salesLang.sales_yes_close_drawer)))))),i.a.createElement("div",{className:!0===this.state.showClosingPopup?"overlay":""}),i.a.createElement("div",{role:"dialog",className:!0===this.state.showClosingPopup?"modal fade in displayBlock":"modal fade no-display"},i.a.createElement("div",{className:"modal-dialog"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal",onClick:this.hideClosingPopup},"\xd7"),i.a.createElement("h4",{className:"modal-title"},this.state.salesLang.sales_Confirmation_required)),i.a.createElement("div",{className:"modal-body add-patient-form filter-patient"},this.state.salesLang.sales_are_u_sure_msg),i.a.createElement("div",{className:"modal-footer"},i.a.createElement("div",{className:"col-md-12 text-left"},i.a.createElement("button",{type:"button",className:"btn  logout pull-right","data-dismiss":"modal",onClick:this.hideClosingPopup},this.state.salesLang.sales_no),i.a.createElement("button",{type:"button",className:"btn btn-success pull-right m-r-10","data-dismiss":"modal",onClick:this.closeDrawer},this.state.salesLang.sales_yes_close_drawer)))))),i.a.createElement("div",{className:v},i.a.createElement("div",{className:"juvly-container"},i.a.createElement("div",{className:"juvly-title m-b-40"},this.state.salesLang.sales_cash_drawer),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-5 col-sm-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.salesLang.sales_please_select_location),i.a.createElement("select",{name:"clinic_id",className:"setting-select-box",onChange:this.handleInputChange,value:this.state.clinic_id},i.a.createElement("option",{value:"0"},this.state.salesLang.sales_select_clinic),y)))))),i.a.createElement("div",{className:f},i.a.createElement("div",{className:"bg-light-blue juvly-container border-radius-top"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-3 col-xs-12"},i.a.createElement("div",{className:"settings-subtitle m-b-30"},this.state.salesLang.sales_cash_drawer_actions),i.a.createElement("ul",{className:"cashdrawer-submenu"},i.a.createElement("li",{className:"cashdrawer-subtabs-li",onClick:function(){return e.selectAction("openDrawer",c)}},i.a.createElement("a",{className:c},h)),i.a.createElement("li",{className:"cashdrawer-subtabs-li",onClick:function(){return e.selectAction("closeDrawer",d)}},i.a.createElement("a",{className:d},g)),i.a.createElement("li",{className:"cashdrawer-subtabs-li",onClick:function(){return e.selectAction("cashIn",m)}},i.a.createElement("a",{className:m},this.state.salesLang.sales_cash_in)),i.a.createElement("li",{className:"cashdrawer-subtabs-li",onClick:function(){return e.selectAction("cashOut",u)}},i.a.createElement("a",{className:u},this.state.salesLang.sales_cash_out)),i.a.createElement("li",{className:"cashdrawer-subtabs-li",onClick:function(){return e.selectAction("bankDrop",p)}},i.a.createElement("a",{className:p},this.state.salesLang.sales_bank_drop)))),i.a.createElement("div",{className:"col-md-9 col-xs-12 currentDrawerStatus"},i.a.createElement("div",{className:t},i.a.createElement("div",{className:"settings-subtitle m-b-30"},i.a.createElement("span",{className:"cash-drawer-title"},L&&je(L)+" |","  ",l&&l),i.a.createElement("a",{className:"new-blue-btn pull-right cash-history-btn",onClick:function(){return e.showDrawerHistory()}},"Cash Drawer History")),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-12 col-md-6 col-lg-4"},i.a.createElement("div",{className:"cash-drawer-stats"},i.a.createElement("div",{className:"cash-drawer-stats-title"},this.state.salesLang.sales_opened_at),i.a.createElement("div",{className:"cash-drawer-content"},S))),i.a.createElement("div",{className:"col-xs-12 col-md-6 col-lg-4"},i.a.createElement("div",{className:"cash-drawer-stats"},i.a.createElement("div",{className:"cash-drawer-stats-title"},this.state.salesLang.sales_current_balance),i.a.createElement("div",{className:"cash-drawer-content"},D))),i.a.createElement("div",{className:"col-xs-12 col-md-6 col-lg-4"},i.a.createElement("div",{className:"cash-drawer-stats"},i.a.createElement("div",{className:"cash-drawer-stats-title"},this.state.salesLang.sales_cash_in),i.a.createElement("div",{className:"cash-drawer-content"},w))),i.a.createElement("div",{className:"col-xs-12 col-md-6 col-lg-4"},i.a.createElement("div",{className:"cash-drawer-stats"},i.a.createElement("div",{className:"cash-drawer-stats-title"},this.state.salesLang.sales_cash_out),i.a.createElement("div",{className:"cash-drawer-content"},C))),i.a.createElement("div",{className:"col-xs-12 col-md-6 col-lg-4"},i.a.createElement("div",{className:"cash-drawer-stats"},i.a.createElement("div",{className:"cash-drawer-stats-title"},this.state.salesLang.sales_bank_drop),i.a.createElement("div",{className:"cash-drawer-content"},x))))),i.a.createElement("div",{className:a},i.a.createElement("div",{className:"settings-subtitle m-b-30"},i.a.createElement("span",{className:"cash-drawer-title"},this.state.salesLang.sales_open_drawer),i.a.createElement("a",{onClick:function(){return e.selectAction("openDrawer")},className:"pull-right closeActioncross"},i.a.createElement("img",{src:Fm.a}))),i.a.createElement("div",{className:"row"},i.a.createElement("form",{onSubmit:this.handleDrawerOpen},i.a.createElement("div",{className:"col-xs-6 col-sm-3"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"$100.00"),i.a.createElement("label",{className:"setting-input-box dollar_number"},this.state.getOpenData&&this.state.getOpenData.close_transaction&&this.state.getOpenData.close_transaction?this.state.getOpenData.close_transaction.dollar_100:0))),i.a.createElement("div",{className:"col-xs-6 col-sm-3"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"$50.00"),i.a.createElement("label",{className:"setting-input-box dollar_number"},this.state.getOpenData&&this.state.getOpenData.close_transaction&&this.state.getOpenData.close_transaction?this.state.getOpenData.close_transaction.dollar_50:0))),i.a.createElement("div",{className:"col-xs-6 col-sm-3"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"$20.00"),i.a.createElement("label",{className:"setting-input-box dollar_number"},this.state.getOpenData&&this.state.getOpenData.close_transaction&&this.state.getOpenData.close_transaction?this.state.getOpenData.close_transaction.dollar_20:0))),i.a.createElement("div",{className:"col-xs-6 col-sm-3"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"$10.00"),i.a.createElement("label",{className:"setting-input-box dollar_number"},this.state.getOpenData&&this.state.getOpenData.close_transaction&&this.state.getOpenData.close_transaction?this.state.getOpenData.close_transaction.dollar_10:0))),i.a.createElement("div",{className:"col-xs-6 col-sm-3"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"$5.00"),i.a.createElement("label",{className:"setting-input-box dollar_number"},this.state.getOpenData&&this.state.getOpenData.close_transaction&&this.state.getOpenData.close_transaction?this.state.getOpenData.close_transaction.dollar_5:0))),i.a.createElement("div",{className:"col-xs-6 col-sm-3"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"$1.00"),i.a.createElement("label",{className:"setting-input-box dollar_number"},this.state.getOpenData&&this.state.getOpenData.close_transaction&&this.state.getOpenData.close_transaction?this.state.getOpenData.close_transaction.dollar_1:0))),i.a.createElement("div",{className:"col-xs-6 col-sm-3"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.salesLang.sales_quarters),i.a.createElement("label",{className:"setting-input-box dollar_number"},this.state.getOpenData&&this.state.getOpenData.close_transaction&&this.state.getOpenData.close_transaction?this.state.getOpenData.close_transaction.quarters:0))),i.a.createElement("div",{className:"col-xs-6 col-sm-3"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.salesLang.sales_dimes),i.a.createElement("label",{className:"setting-input-box dollar_number"},this.state.getOpenData&&this.state.getOpenData.close_transaction&&this.state.getOpenData.close_transaction?this.state.getOpenData.close_transaction.dimes:0))),i.a.createElement("div",{className:"col-xs-6 col-sm-3"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.salesLang.sales_nickels),i.a.createElement("label",{className:"setting-input-box dollar_number"},this.state.getOpenData&&this.state.getOpenData.close_transaction&&this.state.getOpenData.close_transaction?this.state.getOpenData.close_transaction.nickels:0))),i.a.createElement("div",{className:"col-xs-6 col-sm-3"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.salesLang.sales_pennies),i.a.createElement("label",{className:"setting-input-box dollar_number"},this.state.getOpenData&&this.state.getOpenData.close_transaction&&this.state.getOpenData.close_transaction?this.state.getOpenData.close_transaction.pennies:0))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("input",{type:"submit",className:"new-blue-btn no-margin",value:"Save"}))))),i.a.createElement("div",{className:s},i.a.createElement("div",{className:"settings-subtitle m-b-30"},i.a.createElement("span",{className:"cash-drawer-title"},this.state.salesLang.sales_close_drawer),i.a.createElement("a",{onClick:function(){return e.selectAction("openDrawer")},className:"pull-right closeActioncross"},i.a.createElement("img",{src:Fm.a}))),i.a.createElement("div",{className:"row"},i.a.createElement("form",{onSubmit:this.handleDrawerClose},i.a.createElement("div",{className:"col-xs-6 col-sm-3"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"$100.00"),i.a.createElement("input",{className:this.state.hundredClass,type:"text",autoComplete:"off",name:"dollar_100",onChange:this.handleInputChange,value:this.state.dollar_100}))),i.a.createElement("div",{className:"col-xs-6 col-sm-3"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"$50.00"),i.a.createElement("input",{className:this.state.fiftyClass,type:"text",autoComplete:"off",name:"dollar_50",onChange:this.handleInputChange,value:this.state.dollar_50}))),i.a.createElement("div",{className:"col-xs-6 col-sm-3"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"$20.00"),i.a.createElement("input",{className:this.state.twentyClass,type:"text",autoComplete:"off",name:"dollar_20",onChange:this.handleInputChange,value:this.state.dollar_20}))),i.a.createElement("div",{className:"col-xs-6 col-sm-3"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"$10.00"),i.a.createElement("input",{className:this.state.tenClass,type:"text",autoComplete:"off",name:"dollar_10",onChange:this.handleInputChange,value:this.state.dollar_10}))),i.a.createElement("div",{className:"col-xs-6 col-sm-3"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"$5.00"),i.a.createElement("input",{className:this.state.fiveClass,type:"text",autoComplete:"off",name:"dollar_5",onChange:this.handleInputChange,value:this.state.dollar_5}))),i.a.createElement("div",{className:"col-xs-6 col-sm-3"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"$1.00"),i.a.createElement("input",{className:this.state.oneClass,type:"text",autoComplete:"off",name:"dollar_1",onChange:this.handleInputChange,value:this.state.dollar_1}))),i.a.createElement("div",{className:"col-xs-6 col-sm-3"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.salesLang.sales_quarters),i.a.createElement("input",{className:this.state.quarterClass,type:"text",autoComplete:"off",name:"quarters",onChange:this.handleInputChange,value:this.state.quarters}))),i.a.createElement("div",{className:"col-xs-6 col-sm-3"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.salesLang.sales_dimes),i.a.createElement("input",{className:this.state.dimeClass,type:"text",autoComplete:"off",name:"dimes",onChange:this.handleInputChange,value:this.state.dimes}))),i.a.createElement("div",{className:"col-xs-6 col-sm-3"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.salesLang.sales_nickels),i.a.createElement("input",{className:this.state.nickleClass,type:"text",autoComplete:"off",name:"nickels",onChange:this.handleInputChange,value:this.state.nickels}))),i.a.createElement("div",{className:"col-xs-6 col-sm-3"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.salesLang.sales_pennies),i.a.createElement("input",{className:this.state.pennyClass,type:"text",autoComplete:"off",name:"pennies",onChange:this.handleInputChange,value:this.state.pennies}))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("input",{type:"submit",className:"new-blue-btn no-margin",value:"Save"}))))),i.a.createElement("div",{className:n},i.a.createElement("div",{className:"settings-subtitle m-b-30"},i.a.createElement("span",{className:"cash-drawer-title"},this.state.salesLang.sales_cash_in),i.a.createElement("a",{onClick:function(){return e.selectAction("openDrawer")},className:"pull-right closeActioncross","data-id":"inBtn"},i.a.createElement("img",{src:Fm.a}))),i.a.createElement("div",{className:"row"},i.a.createElement("form",{onSubmit:this.handleCashIn},i.a.createElement("div",{className:"col-xs-6 col-sm-3"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.salesLang.sales_Amount),i.a.createElement("input",{className:this.state.cashInAmntClass,type:"text",autoComplete:"off",name:"cash_in_amount",onChange:this.handleInputChange,value:this.state.cash_in_amount}))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("input",{type:"submit",className:"new-blue-btn no-margin",value:"Save"}))))),i.a.createElement("div",{className:r},i.a.createElement("div",{className:"settings-subtitle m-b-30"},i.a.createElement("span",{className:"cash-drawer-title"},this.state.salesLang.sales_cash_out),i.a.createElement("a",{onClick:function(){return e.selectAction("openDrawer")},className:"pull-right closeActioncross"},i.a.createElement("img",{src:Fm.a}))),i.a.createElement("div",{className:"row"},i.a.createElement("form",{onSubmit:this.handleCashOut},i.a.createElement("div",{className:"col-xs-12 profile-detail-left m-b-20"},i.a.createElement("div",{className:"main-profile-picture"},i.a.createElement("div",{className:"file-container"},i.a.createElement("img",{src:this.state.cashout_receipt_document_src?this.state.cashout_receipt_document_src:qm.a}),i.a.createElement("span",{className:this.state.cashout_receipt_document_src?"file-name file-info":"file-name-hide no-display"},this.state.cashout_receipt_document_thumbnail),i.a.createElement("span",{className:this.state.cashout_receipt_document_size?"file-size file-info":"file-size-hide no-display"},this.state.cashout_receipt_document_size),i.a.createElement("div",{className:"upload"},this.state.salesLang.sales_upload,i.a.createElement("input",{type:"file",name:"cashout_receipt_document",onChange:this.handleInputChange,className:"image_questionnaire"})))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-12 col-sm-6"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.salesLang.sales_Amount),i.a.createElement("input",{className:this.state.cashOutAmntClass,type:"text",autoComplete:"off",name:"cash_out_amount",onChange:this.handleInputChange,value:this.state.cash_out_amount,placeholder:O?"Max "+O:""}))))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("input",{type:"submit",className:"new-blue-btn cash-out-save",value:"Save"}))))),i.a.createElement("div",{className:o},i.a.createElement("div",{className:"settings-subtitle m-b-30"},i.a.createElement("span",{className:"cash-drawer-title"},this.state.salesLang.sales_bank_drop),i.a.createElement("a",{onClick:function(){return e.selectAction("openDrawer")},className:"pull-right closeActioncross"},i.a.createElement("img",{src:Fm.a}))),i.a.createElement("div",{className:"row"},i.a.createElement("form",{onSubmit:this.handleBankDrop},i.a.createElement("div",{className:"col-xs-12 profile-detail-left no-margin"},i.a.createElement("div",{className:"main-profile-picture"},i.a.createElement("div",{className:"file-container"},i.a.createElement("img",{src:this.state.bankdrop_receipt_document_src?this.state.bankdrop_receipt_document_src:qm.a}),i.a.createElement("span",{className:this.state.bankdrop_receipt_document_src?"file-name file-info":"file-name-hide no-display"},this.state.bankdrop_receipt_document_thumbnail),i.a.createElement("span",{className:this.state.bankdrop_receipt_document_size?"file-size file-info":"file-size-hide no-display"},this.state.bankdrop_receipt_document_size),i.a.createElement("div",{className:"upload"},this.state.salesLang.sales_upload,i.a.createElement("input",{type:"file",name:"bankdrop_receipt_document",onChange:this.handleInputChange,className:"image_questionnaire"})))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-12 col-sm-6"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.salesLang.sales_Amount),i.a.createElement("input",{className:this.state.bankdropAmntClass,type:"text",autoComplete:"off",name:"bankdrop_amount",onChange:this.handleInputChange,value:this.state.bankdrop_amount,placeholder:O?"Max "+O:""})))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-12 col-sm-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.salesLang.sales_notes_reason),i.a.createElement("textarea",{onChange:this.handleInputChange,name:"reason_note",value:this.state.reason_note,className:this.state.bankDropNoteClass}))))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("input",{type:"submit",className:"new-blue-btn bankdrop-save",value:"Save"})))))))),i.a.createElement("div",{className:"juvly-container"},i.a.createElement("div",{className:"juvly-title m-b-0"},i.a.createElement("span",{className:"juvly-title-span"},"Cash Transactions - Today"),i.a.createElement("a",{className:"new-blue-btn pull-right edit_setting",onClick:function(){return e.showRegisterLog()}},"View Register Logs"))),i.a.createElement("div",{className:"table-responsive update_transaction "},i.a.createElement("table",{className:"table-updated setting-table no-hover min-w-1000"},i.a.createElement("thead",{className:"table-updated-thead"},i.a.createElement("tr",{className:"table-updated-tr"},i.a.createElement("th",{className:"col-xs-2 table-updated-th"},this.state.salesLang.sales_date_time),i.a.createElement("th",{className:"col-xs-2 table-updated-th"},this.state.salesLang.sales_location),i.a.createElement("th",{className:"col-xs-2 table-updated-th"},this.state.salesLang.sales_type),i.a.createElement("th",{className:"col-xs-2 table-updated-th text-right"},this.state.salesLang.sales_Amount),i.a.createElement("th",{className:"col-xs-2 table-updated-th"},this.state.salesLang.sales_employee),i.a.createElement("th",{className:"col-xs-2 table-updated-th"},this.state.salesLang.sales_action_reason))),i.a.createElement("tbody",{className:"table-updated-tbody"},this.state.cashDrawerData&&this.state.cashDrawerData.today_transactions&&this.state.cashDrawerData.today_transactions.length>0&&this.state.cashDrawerData.today_transactions.map(function(t,a){return i.a.createElement("tr",{key:a,className:"table-updated-tr"},i.a.createElement("td",{className:"table-updated-td"},t.created?Be(t.created,!0):""),i.a.createElement("td",{className:"table-updated-td"},t.cash_drawer&&t.cash_drawer.clinic?je(t.cash_drawer.clinic.clinic_name):""),i.a.createElement("td",{className:"table-updated-td"},t.action?e.showAction(t.action):""),i.a.createElement("td",{className:"table-updated-td text-right"},t.total_amount?Ie(t.total_amount,"currency",2):""),i.a.createElement("td",{className:"table-updated-td"},t.user?Me(t.user):""),i.a.createElement("td",{className:"table-updated-td"},t.action?e.returnAction(t):""))}),i.a.createElement("tr",{className:this.state.cashDrawerData&&this.state.cashDrawerData.today_transactions&&this.state.cashDrawerData.today_transactions.length>0?"no-display":""},i.a.createElement("td",{className:"table-updated-td no-record no-float",colSpan:6},this.state.salesLang.sales_no_record_found)))))),i.a.createElement("div",{className:b},i.a.createElement("div",{className:"setting-search-outer"},i.a.createElement(Vm,{locationArray:this.state.registerLogData&&this.state.registerLogData.clinics&&this.state.registerLogData.clinics.length>0?this.state.registerLogData.clinics:this.state.locationArray,handleChildSubmit:this.handleChildSubmit,clinicVal:this.state.selectedLocationIdList,location:!0,dateRangePick:!0,reportType:"cash_transaction_history",overrideChildState:this.state.overrideChildState,fromDate:this.state.fromDate,toDate:this.state.toDate,employee:!0,employeeArray:this.state.registerLogData&&this.state.registerLogData.action&&this.state.registerLogData.action.length>0?this.state.registerLogData.action:[]})),i.a.createElement("div",{className:"juvly-container border-top"},i.a.createElement("div",{className:"juvly-title no-margin"},"Cash Transaction History",i.a.createElement("a",{onClick:function(){return e.backToDrawer()},className:"pull-right cancelAction"},i.a.createElement("img",{src:Fm.a})))),i.a.createElement("div",{className:"table-responsive"},i.a.createElement("table",{className:"table-updated setting-table survey-table no-hover cash-trans-outer"},i.a.createElement("thead",{className:"table-updated-thead"},i.a.createElement("tr",null,i.a.createElement("th",{className:"col-xs-3 table-updated-th"},"Date & Time"),i.a.createElement("th",{className:"col-xs-2 table-updated-th"},"Location"),i.a.createElement("th",{className:"col-xs-1 table-updated-th"},"Type"),i.a.createElement("th",{className:"col-xs-2 table-updated-th"},"Amount"),i.a.createElement("th",{className:"col-xs-2 table-updated-th"},"Employee"),i.a.createElement("th",{className:"col-xs-2 table-updated-th"},"Action/Reason"))),i.a.createElement("tbody",null,this.state.registerLogData&&this.state.registerListData&&this.state.registerListData.length>0&&this.state.registerListData.map(function(t,a){return i.a.createElement("tr",{key:a,className:"table-updated-tr"},i.a.createElement("td",{className:"table-updated-td"},t.created?Be(t.created,!0):""),i.a.createElement("td",{className:"table-updated-td"},t.cash_drawer&&t.cash_drawer.clinic?je(t.cash_drawer.clinic.clinic_name):""),i.a.createElement("td",{className:"table-updated-td"},t.action?e.showAction(t.action):""),i.a.createElement("td",{className:"table-updated-td text-right"},t.total_amount?Ie(t.total_amount,"currency",2):""),i.a.createElement("td",{className:"table-updated-td"},t.user?Me(t.user):""),i.a.createElement("td",{className:"table-updated-td"},t.action?e.returnAction(t):""))}),i.a.createElement("tr",{className:this.state.registerLogData&&this.state.registerListData&&this.state.registerListData.length>0?"no-display":""},i.a.createElement("td",{className:"table-updated-td no-record no-float",colSpan:6},"Sorry, No record found")))))),i.a.createElement("div",{className:E},i.a.createElement("div",{className:"setting-search-outer"},i.a.createElement("div",{className:"search-bg new-calender pull-left",ref:function(t){return e.refDatePickerContainer=t}},i.a.createElement("img",{src:"/images/calender.svg",onClick:this.toggleDatePicker}),i.a.createElement(xn.a,{value:this.state.history_filter_date,onChange:this.handleDatePicker,className:"cashDrawerHistory p-r-40",name:"history_filter_date",autoComplete:"off",ref:function(t){return e.refDatePicker=t},onBlur:this.blurDatePicker,dateFormat:"YYYY-MM-DD",selected:this.state.selected_date?this.state.selected_date:this.state.history_filter_date?Se()(this.state.history_filter_date).toDate():this.state.selected_date})),i.a.createElement("div",{className:"filter-type cashdrw-filter"},i.a.createElement("span",{className:"search-text"},"Filter by Clinic:"),i.a.createElement("div",{className:"header-select"},i.a.createElement("select",{className:"m-r-0 cashdrw-filter-clinic",name:"history_filter_clinic",onChange:this.handleInputChange,value:this.state.history_filter_clinic},_),i.a.createElement("i",{className:"fas fa-angle-down"})))),i.a.createElement("div",{className:this.state.sectionOneClass},i.a.createElement("div",{className:"juvly-title m-b-00"},"Cash Drawer History",i.a.createElement("a",{onClick:function(){return e.backToDrawer()},className:"pull-right cancelAction"},i.a.createElement("img",{src:Fm.a})))),i.a.createElement("div",{className:this.state.hisNoDataClass},"Sorry, No record found"),i.a.createElement("div",{className:this.state.sectionTwoClass},i.a.createElement("p",{className:"setting-text m-b-60"},this.state.drawerHistorysData&&this.state.drawerHistorysData.drawer?this.state.drawerHistorysData.drawer.location:"No Location"," \xa0|\xa0 ",i.a.createElement("b",null,this.state.drawerHistorysData&&this.state.drawerHistorysData.drawer&&this.state.drawerHistorysData.drawer.cash_drawer&&Be(this.state.drawerHistorysData.drawer.cash_drawer.opened_at)," "),"\xa0|\xa0 Opened at  ",i.a.createElement("span",{className:"easy-link no-padding"},this.state.drawerHistorysData&&this.state.drawerHistorysData.drawer&&this.state.drawerHistorysData.drawer.cash_drawer&&Ie(this.state.drawerHistorysData.drawer.cash_drawer.opening_balance,"currency",2)),"\xa0 |\xa0 Closed At  ",i.a.createElement("span",{className:"easy-link no-padding"},this.state.drawerHistorysData&&this.state.drawerHistorysData.drawer&&this.state.drawerHistorysData.drawer.cash_drawer&&Ie(this.state.drawerHistorysData.drawer.cash_drawer.closing_balance,"currency",2)),"\xa0 |\xa0 Opening Difference  ",i.a.createElement("span",{className:this.state.drawerHistorysData&&this.state.drawerHistorysData.drawer&&this.state.drawerHistorysData.drawer.cash_drawer&&this.state.drawerHistorysData.drawer.cash_drawer.opening_difference_type},this.state.drawerHistorysData&&this.state.drawerHistorysData.drawer&&this.state.drawerHistorysData.drawer.cash_drawer&&Ie(this.state.drawerHistorysData.drawer.cash_drawer.opening_difference,"currency",2)),"\xa0 |\xa0 Closing Difference ",i.a.createElement("span",{className:this.state.drawerHistorysData&&this.state.drawerHistorysData.drawer&&this.state.drawerHistorysData.drawer.cash_drawer&&this.state.drawerHistorysData.drawer.cash_drawer.closing_difference_type},this.state.drawerHistorysData&&this.state.drawerHistorysData.drawer&&this.state.drawerHistorysData.drawer.cash_drawer&&Ie(this.state.drawerHistorysData.drawer.cash_drawer.closing_difference,"currency",2))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"drawer-history-field"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"$100.00"),i.a.createElement("div",{className:"setting-input-box"},this.state.drawerHistorysData&&this.state.drawerHistorysData.drawer?this.state.drawerHistorysData.drawer.dollar_100:"0"))),i.a.createElement("div",{className:"drawer-history-field"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"$50.00"),i.a.createElement("div",{className:"setting-input-box"},this.state.drawerHistorysData&&this.state.drawerHistorysData.drawer?this.state.drawerHistorysData.drawer.dollar_50:"0"))),i.a.createElement("div",{className:"drawer-history-field"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"$20.00"),i.a.createElement("div",{className:"setting-input-box"},this.state.drawerHistorysData&&this.state.drawerHistorysData.drawer?this.state.drawerHistorysData.drawer.dollar_20:"0"))),i.a.createElement("div",{className:"drawer-history-field"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"$10.00"),i.a.createElement("div",{className:"setting-input-box"},this.state.drawerHistorysData&&this.state.drawerHistorysData.drawer?this.state.drawerHistorysData.drawer.dollar_10:"0"))),i.a.createElement("div",{className:"drawer-history-field"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"$5.00"),i.a.createElement("div",{className:"setting-input-box"},this.state.drawerHistorysData&&this.state.drawerHistorysData.drawer?this.state.drawerHistorysData.drawer.dollar_5:"0"))),i.a.createElement("div",{className:"drawer-history-field"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"$1.00"),i.a.createElement("div",{className:"setting-input-box"},this.state.drawerHistorysData&&this.state.drawerHistorysData.drawer?this.state.drawerHistorysData.drawer.dollar_1:"0"))),i.a.createElement("div",{className:"drawer-history-field"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Quarters"),i.a.createElement("div",{className:"setting-input-box"},this.state.drawerHistorysData&&this.state.drawerHistorysData.drawer?this.state.drawerHistorysData.drawer.quarters:"0"))),i.a.createElement("div",{className:"drawer-history-field"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Dimes"),i.a.createElement("div",{className:"setting-input-box"},this.state.drawerHistorysData&&this.state.drawerHistorysData.drawer?this.state.drawerHistorysData.drawer.dimes:"0"))),i.a.createElement("div",{className:"drawer-history-field"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Nickels"),i.a.createElement("div",{className:"setting-input-box"},this.state.drawerHistorysData&&this.state.drawerHistorysData.drawer?this.state.drawerHistorysData.drawer.nickels:"0"))),i.a.createElement("div",{className:"drawer-history-field"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Pennies"),i.a.createElement("div",{className:"setting-input-box"},this.state.drawerHistorysData&&this.state.drawerHistorysData.drawer?this.state.drawerHistorysData.drawer.pennies:"0"))),this.state.drawerHistorysData&&this.state.drawerHistorysData.editClose&&Te("update-drawer-after-close")&&i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("a",{onClick:function(){return e.showEditSection()},className:"new-blue-btn no-margin"},"Edit")))),i.a.createElement("div",{className:this.state.sectionThreeClass},i.a.createElement("div",{className:"juvly-title no-margin"},"Cash Transactions")),i.a.createElement("div",{className:this.state.sectionFourClass},i.a.createElement("table",{className:"table-updated setting-table survey-table no-hover min-w-1000"},i.a.createElement("thead",{className:"table-updated-thead"},i.a.createElement("tr",null,i.a.createElement("th",{className:"col-xs-3 table-updated-th"},"Date & Time"),i.a.createElement("th",{className:"col-xs-2 table-updated-th"},"Location"),i.a.createElement("th",{className:"col-xs-1 table-updated-th"},"Type"),i.a.createElement("th",{className:"col-xs-2 table-updated-th"},"Amount"),i.a.createElement("th",{className:"col-xs-2 table-updated-th"},"Employee"),i.a.createElement("th",{className:"col-xs-2 table-updated-th"},"Action/Reason"))),i.a.createElement("tbody",{className:"table-updated-tbody"},this.state.drawerHistorysData&&this.state.drawerHistorysData.today_transactions&&this.state.drawerHistorysData.today_transactions.length>0&&this.state.drawerHistorysData.today_transactions.map(function(t,a){return i.a.createElement("tr",{key:a,className:t.action&&"current"!==t.action?"table-updated-tr":"table-updated-tr no-display"},i.a.createElement("td",{className:"table-updated-td"},t.created?Be(t.created,!0):""),i.a.createElement("td",{className:"table-updated-td"},t.cash_drawer&&t.cash_drawer.clinic?je(t.cash_drawer.clinic.clinic_name):""),i.a.createElement("td",{className:"table-updated-td"},t.action?e.showAction(t.action):""),i.a.createElement("td",{className:"table-updated-td text-right"},t.total_amount?Ie(t.total_amount,"currency",2):Ie(0,"currency",2)),i.a.createElement("td",{className:"table-updated-td"},t.user?Me(t.user):""),i.a.createElement("td",{className:"table-updated-td"},t.action?e.returnAction(t):""))}),i.a.createElement("tr",{className:this.state.drawerHistorysData&&this.state.drawerHistorysData.today_transactions&&this.state.drawerHistorysData.today_transactions.length>0?"no-display":""},i.a.createElement("td",{className:"table-updated-td no-record no-float",colSpan:6},"Sorry, No record found"))))),i.a.createElement("div",{className:this.state.editSectionClass},i.a.createElement("div",{className:"row"},i.a.createElement("form",{onSubmit:this.handleHistoryDrawerClose},i.a.createElement("div",{className:"drawer-history-field"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"$100.00"),i.a.createElement("input",{className:this.state.hundredClass,type:"text",autoComplete:"off",name:"dollar_100",onChange:this.handleInputChange,value:this.state.dollar_100}))),i.a.createElement("div",{className:"drawer-history-field"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"$50.00"),i.a.createElement("input",{className:this.state.fiftyClass,type:"text",autoComplete:"off",name:"dollar_50",onChange:this.handleInputChange,value:this.state.dollar_50}))),i.a.createElement("div",{className:"drawer-history-field"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"$20.00"),i.a.createElement("input",{className:this.state.twentyClass,type:"text",autoComplete:"off",name:"dollar_20",onChange:this.handleInputChange,value:this.state.dollar_20}))),i.a.createElement("div",{className:"drawer-history-field"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"$10.00"),i.a.createElement("input",{className:this.state.tenClass,type:"text",autoComplete:"off",name:"dollar_10",onChange:this.handleInputChange,value:this.state.dollar_10}))),i.a.createElement("div",{className:"drawer-history-field"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"$5.00"),i.a.createElement("input",{className:this.state.fiveClass,type:"text",autoComplete:"off",name:"dollar_5",onChange:this.handleInputChange,value:this.state.dollar_5}))),i.a.createElement("div",{className:"drawer-history-field"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"$1.00"),i.a.createElement("input",{className:this.state.oneClass,type:"text",autoComplete:"off",name:"dollar_1",onChange:this.handleInputChange,value:this.state.dollar_1}))),i.a.createElement("div",{className:"drawer-history-field"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Quarters"),i.a.createElement("input",{className:this.state.quarterClass,type:"text",autoComplete:"off",name:"quarters",onChange:this.handleInputChange,value:this.state.quarters}))),i.a.createElement("div",{className:"drawer-history-field"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Dimes"),i.a.createElement("input",{className:this.state.dimeClass,type:"text",autoComplete:"off",name:"dimes",onChange:this.handleInputChange,value:this.state.dimes}))),i.a.createElement("div",{className:"drawer-history-field"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Nickels"),i.a.createElement("input",{className:this.state.nickleClass,type:"text",autoComplete:"off",name:"nickels",onChange:this.handleInputChange,value:this.state.nickels}))),i.a.createElement("div",{className:"drawer-history-field"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Pennies"),i.a.createElement("input",{className:this.state.pennyClass,type:"text",autoComplete:"off",name:"pennies",onChange:this.handleInputChange,value:this.state.pennies}))),i.a.createElement("div",{className:"col-xs-12 col-sm-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Reason ",i.a.createElement("span",{className:"required"}," *")),i.a.createElement("textarea",{name:"historyReasonNote",className:this.state.historyReasonClass,onChange:this.handleInputChange,value:this.state.historyReasonNote}))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("input",{type:"submit",className:"new-blue-btn no-margin",value:"Save"}),i.a.createElement("a",{onClick:function(){return e.hideEditSection()},className:"new-white-btn no-margin m-l-5"},"Cancel"))))))),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock clientLoader clientProfileLoader":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.globalLang.loading_please_wait_text))),i.a.createElement("div",{className:this.state.showLoadingText?"loading-please-wait cash-drawer-text-oader":"loading-please-wait no-display cash-drawer-text-oader"},this.state.globalLang.loading_please_wait_text),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}]),t}(n.Component);Wm.getDerivedStateFromProps=function(e,t){if(void 0!==e.cashDrawerData&&200===e.cashDrawerData.status&&e.cashDrawerData.data!==t.cashDrawerData)return{cashDrawerData:e.cashDrawerData.data,showLoader:!1};if(void 0!==e.cashDrawerData&&200!==e.cashDrawerData.status&&e.cashDrawerData.data!==t.cashDrawerData)return{cashDrawerData:e.cashDrawerData.data,showLoader:!1};if(void 0!==e.changeLocationData&&200===e.changeLocationData.status&&e.changeLocationData.data!==t.changeLocationData)return{changeLocationData:e.changeLocationData.data,showLoader:!1,cashDrawerData:e.changeLocationData.data};if(void 0!==e.changeLocationData&&200!==e.changeLocationData.status&&e.changeLocationData.data!==t.changeLocationData)return 101===e.changeLocationData.status?{changeLocationData:e.changeLocationData.data,showLoader:!1,showAlreadyOpenedPopup:!0,modalMessage:e.changeLocationData.message,cashDrawerData:e.changeLocationData.data}:{changeLocationData:e.changeLocationData.data,showLoader:!1,showAlreadyOpenedPopup:!1,modalMessage:"",cashDrawerData:e.changeLocationData.data};if(void 0!==e.viewOpenedData&&200===e.viewOpenedData.status&&e.viewOpenedData.data!==t.viewOpenedData)return{cashDrawerData:e.viewOpenedData.data,showLoader:!1};if(void 0!==e.viewOpenedData&&200!==e.viewOpenedData.status&&e.viewOpenedData.data!==t.viewOpenedData)return{cashDrawerData:e.cashDrawerData.data,showLoader:!1};if(void 0!==e.updateDrawerData&&200===e.updateDrawerData.status&&e.updateDrawerData.data!==t.updateDrawerData)return{updateDrawerData:e.updateDrawerData.data,showLoader:!1,updateDrawerStaus:e.updateDrawerData.data};if(void 0!==e.updateDrawerData&&200!==e.updateDrawerData.status&&e.updateDrawerData.data!==t.updateDrawerData)return{updateDrawerData:e.updateDrawerData.data,showLoader:!1,updateDrawerStaus:""};if(void 0!==e.getOpenCashDrawerData&&200===e.getOpenCashDrawerData.status&&e.getOpenCashDrawerData.data!==t.getOpenData)return{getOpenData:e.getOpenCashDrawerData.data,showLoader:!1};if(void 0!==e.getOpenCashDrawerData&&200!==e.getOpenCashDrawerData.status&&e.getOpenCashDrawerData.data!==t.getOpenData)return{getOpenData:e.getOpenCashDrawerData.data,showLoader:!1,openClicked:!1};if(void 0!==e.postOpenCashDrawerData&&200===e.postOpenCashDrawerData.status&&e.postOpenCashDrawerData.data!==t.postOpenData)return{postOpenData:e.postOpenCashDrawerData.data,showLoader:!1,postOpenStatus:e.postOpenCashDrawerData.data};if(void 0!==e.postOpenCashDrawerData&&200!==e.postOpenCashDrawerData.status&&e.postOpenCashDrawerData.data!==t.postOpenData)return{postOpenData:e.postOpenCashDrawerData.data,showLoader:!1,postOpenStatus:""};if(void 0!==e.closeDrawerData&&200===e.closeDrawerData.status&&e.closeDrawerData.data!==t.closeDrawerData)return{closeDrawerData:e.closeDrawerData.data,showLoader:!1,closeStatus:e.closeDrawerData.data};if(void 0!==e.closeDrawerData&&200!==e.closeDrawerData.status&&e.closeDrawerData.data!==t.closeDrawerData)return{closeDrawerData:e.closeDrawerData.data,showLoader:!1,closeStatus:""};if(void 0!==e.cashInDrawerData&&200===e.cashInDrawerData.status&&e.cashInDrawerData.data!==t.cashInDrawerData)return{cashInDrawerData:e.cashInDrawerData.data,showLoader:!1,stateAction:"openDrawer",cashInStatus:e.cashInDrawerData.data};if(void 0!==e.cashInDrawerData&&200!==e.cashInDrawerData.status&&e.cashInDrawerData.data!==t.cashInDrawerData)return{cashInDrawerData:e.cashInDrawerData.data,showLoader:!1,cashInStatus:""};if(void 0!==e.cashOutDrawerData&&200===e.cashOutDrawerData.status&&e.cashOutDrawerData.data!==t.cashOutDrawerData)return{cashOutDrawerData:e.cashOutDrawerData.data,showLoader:!1,stateAction:"openDrawer",cashOutStatus:e.cashOutDrawerData.data};if(void 0!==e.cashOutDrawerData&&200!==e.cashOutDrawerData.status&&e.cashOutDrawerData.data!==t.cashOutDrawerData)return{cashOutDrawerData:e.cashOutDrawerData.data,showLoader:!1,cashOutStatus:""};if(void 0!==e.bankDropDrawerData&&200===e.bankDropDrawerData.status&&e.bankDropDrawerData.data!==t.bankDropDrawerData)return{bankDropDrawerData:e.bankDropDrawerData.data,showLoader:!1,stateAction:"openDrawer",bankDropStatus:e.bankDropDrawerData.data};if(void 0!==e.bankDropDrawerData&&200!==e.bankDropDrawerData.status&&e.bankDropDrawerData.data!==t.bankDropDrawerData)return{bankDropDrawerData:e.bankDropDrawerData.data,showLoader:!1,bankDropStatus:""};if(void 0!==e.registerLogData&&200===e.registerLogData.status&&e.registerLogData.data!==t.registerLogData&&e.registerLogData.data.register_log.next_page_url!==t.next_page_url){var a={};return null===t.next_page_url?a.next_page_url=null:(0===t.registerListData.length&&!0===t.startFresh?(a.registerLogData=e.registerLogData.data,null!==e.registerLogData.data.register_log.next_page_url?a.page=t.page+1:a.next_page_url=e.registerLogData.data.register_log.next_page_url,a.startFresh=!1,a.showLoader=!1,a.showRegisterLog=!0,a.showLoadingText=!1,a.registerListData=e.registerLogData.data.register_log.data):t.registerLogData!==e.registerLogData.data&&0!==t.registerListData.length&&(a.registerListData=Object(oa.a)(t.registerListData).concat(Object(oa.a)(e.registerLogData.data.register_log.data)),a.registerLogData=e.registerLogData.data,a.next_page_url=e.registerLogData.data.register_log.next_page_url,a.showLoader=!1,a.page=t.page+1,a.showLoadingText=!1),a)}return void 0!==e.registerLogData&&200!==e.registerLogData.status&&e.registerLogData.data!==t.registerLogData?{registerLogData:e.registerLogData.data,showLoader:!1,next_page_url:null}:void 0!==e.drawerHistoryData&&200===e.drawerHistoryData.status&&e.drawerHistoryData.data!==t.drawerHistoryData?{drawerHistoryData:e.drawerHistoryData.data,drawerHistorysData:e.drawerHistoryData.data,showLoader:!1,showDrawerHistory:!0,sectionTwoClass:e.drawerHistoryData.data&&e.drawerHistoryData.data.drawer&&e.drawerHistoryData.data.today_transactions&&e.drawerHistoryData.data.today_transactions.length>0?"juvly-container no-padding-top":"juvly-container no-padding-top no-display",sectionThreeClass:e.drawerHistoryData.data&&e.drawerHistoryData.data.drawer&&e.drawerHistoryData.data.today_transactions&&e.drawerHistoryData.data.today_transactions.length>0?"juvly-container border-top":"juvly-container border-top no-display",sectionFourClass:e.drawerHistoryData.data&&e.drawerHistoryData.data.drawer&&e.drawerHistoryData.data.today_transactions&&e.drawerHistoryData.data.today_transactions.length>0?"table-responsive":"table-responsive no-display",editSectionClass:(e.drawerHistoryData.data&&e.drawerHistoryData.data.drawer&&e.drawerHistoryData.data.today_transactions&&e.drawerHistoryData.data.today_transactions.length,"juvly-container no-padding-top no-display"),hisNoDataClass:e.drawerHistoryData.data&&e.drawerHistoryData.data.drawer&&e.drawerHistoryData.data.today_transactions&&e.drawerHistoryData.data.today_transactions.length>0?"no-display":"no-record",history_filter_clinic:t.dataChanged&&t.history_filter_clinic?t.history_filter_clinic:e.drawerHistoryData.data&&e.drawerHistoryData.data.drawer&&e.drawerHistoryData.data.drawer.cash_drawer&&e.drawerHistoryData.data.drawer.cash_drawer.clinic_id,history_filter_date:t.dataChanged&&t.history_filter_date?t.history_filter_date:e.drawerHistoryData.data&&e.drawerHistoryData.data.drawer&&e.drawerHistoryData.data.drawer.cash_drawer&&zm(e.drawerHistoryData.data.drawer.cash_drawer.opened_at),dollar_100:e.drawerHistoryData.data&&e.drawerHistoryData.data.drawer&&e.drawerHistoryData.data.drawer.dollar_100>0?e.drawerHistoryData.data.drawer.dollar_100:0,dollar_50:e.drawerHistoryData.data&&e.drawerHistoryData.data.drawer&&e.drawerHistoryData.data.drawer.dollar_50>0?e.drawerHistoryData.data.drawer.dollar_50:0,dollar_20:e.drawerHistoryData.data&&e.drawerHistoryData.data.drawer&&e.drawerHistoryData.data.drawer.dollar_20>0?e.drawerHistoryData.data.drawer.dollar_20:0,dollar_10:e.drawerHistoryData.data&&e.drawerHistoryData.data.drawer&&e.drawerHistoryData.data.drawer.dollar_10>0?e.drawerHistoryData.data.drawer.dollar_10:0,dollar_5:e.drawerHistoryData.data&&e.drawerHistoryData.data.drawer&&e.drawerHistoryData.data.drawer.dollar_5>0?e.drawerHistoryData.data.drawer.dollar_5:0,dollar_1:e.drawerHistoryData.data&&e.drawerHistoryData.data.drawer&&e.drawerHistoryData.data.drawer.dollar_1>0?e.drawerHistoryData.data.drawer.dollar_1:0,quarters:e.drawerHistoryData.data&&e.drawerHistoryData.data.drawer&&e.drawerHistoryData.data.drawer.quarters>0?e.drawerHistoryData.data.drawer.quarters:0,dimes:e.drawerHistoryData.data&&e.drawerHistoryData.data.drawer&&e.drawerHistoryData.data.drawer.dimes>0?e.drawerHistoryData.data.drawer.dimes:0,nickels:e.drawerHistoryData.data&&e.drawerHistoryData.data.drawer&&e.drawerHistoryData.data.drawer.nickels>0?e.drawerHistoryData.data.drawer.nickels:0,pennies:e.drawerHistoryData.data&&e.drawerHistoryData.data.drawer&&e.drawerHistoryData.data.drawer.pennies>0?e.drawerHistoryData.data.drawer.pennies:0}:void 0!==e.drawerHistoryData&&200!==e.drawerHistoryData.status&&e.drawerHistoryData.data!==t.drawerHistoryData?{drawerHistoryData:e.drawerHistoryData.data,drawerHistorysData:e.drawerHistoryData.data,showLoader:!1}:void 0!==e.editClosedData&&200===e.editClosedData.status&&e.editClosedData.data!==t.editClosedData?{editClosedData:e.editClosedData.data,showLoader:!1,editClosedStatus:e.editClosedData.data,showDrawerHistory:!1}:void 0!==e.editClosedData&&200!==e.editClosedData.status&&e.editClosedData.data!==t.editClosedData?{editClosedData:e.editClosedData.data,showLoader:!1,editClosedStatus:""}:void 0!==e.popupReceiptData&&200===e.popupReceiptData.status&&e.popupReceiptData.data!==t.popupReceiptData?{popupReceiptData:e.popupReceiptData.data,popupReceiptStatus:e.popupReceiptData.data,showAddReceiptModal:!1,showViewReceiptModal:!1,showViewEditReceiptModal:!1,cashout_receipt_document:"",cashout_receipt_document_src:"",cashout_receipt_document_size:"",cashout_receipt_document_thumbnail:"",bankdrop_receipt_document:"",bankdrop_receipt_document_src:"",bankdrop_receipt_document_size:"",bankdrop_receipt_document_thumbnail:"",popupBankDropNoteClass:"setting-textarea-box",transID:null,popup_reason_note:"",page:1,popupImgSrc:"",popupNote:"",transUserID:""}:void 0!==e.popupReceiptData&&200!==e.popupReceiptData.status&&e.popupReceiptData.data!==t.popupReceiptData?{popupReceiptData:e.popupReceiptData.data,showLoader:!1,popupReceiptStatus:""}:null};var Jm=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData")),a={};return"GET_CASH_DRAWER"===e.SalesReducer.action&&(200!==e.SalesReducer.data.status?(rt.toast.error(t.global[e.SalesReducer.data.message]),a.cashDrawerData=e.SalesReducer.data):a.cashDrawerData=e.SalesReducer.data),"CHANGE_DRAWER_LOCATION"===e.SalesReducer.action&&(200!==e.SalesReducer.data.status?(101!==e.SalesReducer.data.status&&rt.toast.error(t.global[e.SalesReducer.data.message]),a.changeLocationData=e.SalesReducer.data):a.changeLocationData=e.SalesReducer.data),"VIEW_OPENED_DRAWER"===e.SalesReducer.action&&(200!==e.SalesReducer.data.status?(rt.toast.error(t.global[e.SalesReducer.data.message]),a.viewOpenedData=e.SalesReducer.data):a.viewOpenedData=e.SalesReducer.data),"TAKE_DRAWER_CONTROL"===e.SalesReducer.action&&(200!==e.SalesReducer.data.status?(rt.toast.error(t.global[e.SalesReducer.data.message]),a.updateDrawerData=e.SalesReducer.data):a.updateDrawerData=e.SalesReducer.data),"GET_OPEN_CASH_DRAWER"===e.SalesReducer.action&&(200!==e.SalesReducer.data.status?(rt.toast.error(t.global[e.SalesReducer.data.message]),a.getOpenCashDrawerData=e.SalesReducer.data):a.getOpenCashDrawerData=e.SalesReducer.data),"POST_OPEN_CASH_DRAWER"===e.SalesReducer.action&&(200!==e.SalesReducer.data.status?(rt.toast.error(t.global[e.SalesReducer.data.message]),a.postOpenCashDrawerData=e.SalesReducer.data):a.postOpenCashDrawerData=e.SalesReducer.data),"CLOSE_CASH_DRAWER"===e.SalesReducer.action&&(200!==e.SalesReducer.data.status?(rt.toast.error(t.global[e.SalesReducer.data.message]),a.closeDrawerData=e.SalesReducer.data):a.closeDrawerData=e.SalesReducer.data),"CASH_IN_DRAWER"===e.SalesReducer.action&&(200!==e.SalesReducer.data.status?(rt.toast.error(t.global[e.SalesReducer.data.message]),a.cashInDrawerData=e.SalesReducer.data):(rt.toast.success(t.global[e.SalesReducer.data.message]),a.cashInDrawerData=e.SalesReducer.data)),"CASH_OUT_DRAWER"===e.SalesReducer.action&&(200!==e.SalesReducer.data.status?(rt.toast.error(t.global[e.SalesReducer.data.message]),a.cashOutDrawerData=e.SalesReducer.data):(rt.toast.success(t.global[e.SalesReducer.data.message]),a.cashOutDrawerData=e.SalesReducer.data)),"BANK_DROP_DRAWER"===e.SalesReducer.action&&(200!==e.SalesReducer.data.status?(rt.toast.error(t.global[e.SalesReducer.data.message]),a.bankDropDrawerData=e.SalesReducer.data):(rt.toast.success(t.global[e.SalesReducer.data.message]),a.bankDropDrawerData=e.SalesReducer.data)),"CASH_REGISTER_LOGS"===e.SalesReducer.action&&(200!==e.SalesReducer.data.status?(rt.toast.error(t.global[e.SalesReducer.data.message]),a.registerLogData=e.SalesReducer.data):a.registerLogData=e.SalesReducer.data),"GET_CASH_DRAWER_HISTORY"===e.SalesReducer.action&&(200!==e.SalesReducer.data.status?(rt.toast.error(t.global[e.SalesReducer.data.message]),a.drawerHistoryData=e.SalesReducer.data):a.drawerHistoryData=e.SalesReducer.data),"EDIT_CLOSED_DRAWER"===e.SalesReducer.action&&(200!==e.SalesReducer.data.status?(rt.toast.error(t.global[e.SalesReducer.data.message]),a.editClosedData=e.SalesReducer.data):(rt.toast.success(t.global[e.SalesReducer.data.message]),a.editClosedData=e.SalesReducer.data)),"ADD_EDIT_POPUP_RECEIPT"===e.SalesReducer.action&&(200!==e.SalesReducer.data.status?(rt.toast.error(t.global[e.SalesReducer.data.message]),a.popupReceiptData=e.SalesReducer.data):(rt.toast.success(t.global[e.SalesReducer.data.message]),a.popupReceiptData=e.SalesReducer.data)),a},function(e){return Object(c.bindActionCreators)({getCashDrawer:Fd,changeDrawerLocation:Bd,viewOpenedDrawer:qd,updateCashDrawer:Yd,getOpenCashDrawer:Hd,openCashDrawer:Gd,closeCashDrawer:Vd,cashInDrawer:zd,cashOutDrawer:Wd,bankDropDrawer:Jd,cashRegisterLogs:Qd,cashDrawerHistory:Kd,editClosedDrawer:Xd,addEditPopupReceipt:Zd},e)})(Wm),Qm=a(71),Km=Q.a.create(),Xm=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).click=function(){},a.handleAnchor=function(e){var t=e.target.dataset.action;if(a.props.history.push("/".concat(a.state.roomType,"/").concat(t)),a.state.action!=t)if("pending"===t){var s={params:{page:1,pagesize:a.state.pagesize,sortorder:"asc",term:"",action:"pending"}};a.setState({tabClicked:!0,pendingProcedures:!0,signedProcedures:!1,MDRoomData:[],startFresh:!0,showLoader:!0,page:1,sortorder:"asc",term:"",next_page_url:"",action:"pending"}),a.props.fetchMDRoomData(s)}else{var n={params:{page:1,pagesize:a.state.pagesize,sortorder:"asc",term:"",action:"signed"}};a.setState({tabClicked:!0,pendingProcedures:!1,signedProcedures:!0,MDRoomData:[],startFresh:!0,showLoader:!0,page:1,sortorder:"asc",term:"",next_page_url:"",action:"signed"}),a.props.fetchMDRoomData(n)}},a.handleInputChange=function(e){var t=e.target,s="checkbox"===t.type?t.checked:t.value;if(a.setState(Object(se.a)({},e.target.name,s)),"checkbox"===t.type){var n=e.target.value,i=e.target.name.split("_")[1];if(a.state.selected.length>0&&void 0!==a.state.selected[i]){var r=a.state.selected;r[[i]][n]=!a.state.selected[[i]][n],a.setState({selected:r,selectAll:2})}else{var o=a.state.selected,l={};l[n]=!0,o[i]=l,a.setState({selected:o,selectAll:2})}}},a.handleSubmit=function(e){e.preventDefault(),localStorage.setItem("sortOnly",!0);var t={params:{page:1,pagesize:a.state.pagesize,sortorder:a.state.sortorder,term:a.state.term,action:a.state.action}};a.setState({page:1,pagesize:a.state.pagesize,sortorder:"asc"==a.state.sortorder?"desc":"asc",startFresh:!0,loadMore:!0,next_page_url:"",MDRoomData:[]}),a.setState({showLoader:!0}),a.props.fetchMDRoomData(t)},a.loadMore=function(){localStorage.setItem("sortOnly",!1),a.setState({loadMore:!0,startFresh:!0,showLoader:!1,showLoadingText:!0});var e={params:{page:a.state.page,pagesize:a.state.pagesize,sortorder:a.state.sortorder,term:a.state.term,action:a.state.action}};a.props.fetchMDRoomData(e)},a.userEdit=function(e){return i.a.createElement("div",null,a.props.history.push("/".concat(a.state.roomType,"/procedure-detail/").concat(e,"/").concat(a.state.action)))},a.procedureQuestionnaireEdit=function(e){return i.a.createElement("div",null,a.props.history.push("/".concat(a.state.roomType,"/questionnaire/").concat(e,"/").concat(a.state.action)))},a.procedureConsentsEdit=function(e){return i.a.createElement("div",null,a.props.history.push("/".concat(a.state.roomType,"/consent/").concat(e,"/").concat(a.state.action)))},a.openSignModal=function(){var e=!1;a.state.selected.length>0&&a.state.selected.map(function(t,a){for(var s in t)!0===t[s]&&(e=!0)}),!0===e&&a.setState({showSignModal:!0})},a.toggleSelectAll=function(){var e=[];0===a.state.selectAll&&void 0!==a.state.MDRoomData&&a.state.MDRoomData.map(function(t,a){var s={};s[t.id]=!0,e.push(s)}),a.setState({selected:e,selectAll:0===a.state.selectAll?1:0})},a.dismissSignModal=function(){a.setState({showSignModal:!1})},a.handleClearReset=function(){a.setState({inputOut:"input-outer",canvasClass:"signature-box sig-div  no-display",clearClass:"new-white-btn no-margin clear no-display",resetClass:"new-blue-btn reset  no-display",changeClass:"new-blue-btn no-margin Change"})},a.clear=function(){a._sketch.clear(),a._sketch.setBackgroundFromDataUrl(""),a.setState({controlledValue:null,backgroundColor:"transparent",fillWithBackgroundColor:!1,canUndo:a._sketch.canUndo(),canRedo:a._sketch.canRedo()})},a.clearCanvas=function(){a._sketch.clear(),a._sketch.setBackgroundFromDataUrl(""),a.setState({canvasClass:"signature-box sig-div",inputOut:"input-outer no-display",clearClass:"new-white-btn no-margin clear",resetClass:"new-blue-btn reset ",changeClass:"new-blue-btn no-margin Change no-display"})},a.signThis=function(){if(a._sketch&&0===a._sketch.toJSON().objects.length&&-1===a.state.canvasClass.indexOf("no-display")||a.state.canvasClass.indexOf("no-display")>0&&""===a.state.signature_url)rt.toast.error(a.state.globalLang.validation_md_signature_required_if);else{var e=[];if(a.state.selected.length>0&&a.state.selected.map(function(t,a){for(var s in t)!0===t[s]&&e.push(s)}),""!==a.state.signature_url&&a.state.canvasClass.indexOf("no-display")>0){var t={procedure_ids:e,signature_saved:a.state.save_sign?1:0,md_signature:a.state.signature},s={params:{page:1,pagesize:a.state.pagesize,sortorder:"asc",term:a.state.term,action:a.props.match.params.type}};a.props.signProcedure(t,!0,s,a.state.roomType,"list"),a.setState({signature_url:a.state.signature_url,uploadedSignature_url:a.state.signature_url,uploadedSignature:a.state.signature,signature:a.state.signature,inputOut:"input-outer",canvasClass:"signature-box sig-div  no-display",clearClass:"new-white-btn no-margin clear no-display",resetClass:"new-blue-btn reset  no-display",changeClass:"new-blue-btn no-margin Change",showSignModal:!1,tabClicked:!0,pendingProcedures:!0,signedProcedures:!1,MDRoomData:[],startFresh:!0,showLoader:!0,page:1,sortorder:"asc",term:"",next_page_url:""})}else Km.post("upload/signature",{image_data:a._sketch.toDataURL(),upload_type:"signatures"}).then(function(t){if(t.data&&200===t.data.status){var s={procedure_ids:e,signature_saved:a.state.save_sign?1:0,md_signature:t.data.data.file_name},n={params:{page:1,pagesize:a.state.pagesize,sortorder:"asc",term:a.state.term,action:a.props.match.params.type}};a.props.signProcedure(s,!0,n,a.state.roomType,"list"),a.setState({signature_url:t.data.data.signature_url,uploadedSignature_url:t.data.data.signature_url,uploadedSignature:t.data.data.file_name,signature:t.data.data.file_name,inputOut:"input-outer",canvasClass:"signature-box sig-div  no-display",clearClass:"new-white-btn no-margin clear no-display",resetClass:"new-blue-btn reset  no-display",changeClass:"new-blue-btn no-margin Change",showSignModal:!1,tabClicked:!0,pendingProcedures:!0,signedProcedures:!1,MDRoomData:[],startFresh:!0,showLoader:!0,page:1,sortorder:"asc",term:"",next_page_url:""})}}).catch(function(e){rt.toast.error(a.state.roomTextData.signature_upload_error_text)})}};var s=JSON.parse(localStorage.getItem("userData")),n=JSON.parse(localStorage.getItem("languageData"));return a.state={loadMore:!0,startFresh:!0,showLoader:!1,page:1,pagesize:15,term:"",hasMoreItems:!0,next_page_url:"",procedure_name:"",procedure_date:"",consent_ids:"",patient:[],user:[],searchFunction:"",injection_array:[],procedure_information:"",user_changed:!1,procedureData:{},MDRoomData:[],data:[],select_all_pending_procedures:!1,childCheck:!1,action:e.match.params.type,pendingProcedures:"pending"===e.match.params.type,signedProcedures:"siged"===e.match.params.type,total:"",selectVisible:"right-sign-btn",selectHide:"right-sign-btn no-display",spanHide:"search-text no-display",spanVisible:"search-text",hideCheckbox:"table-checkbox table-updated-td no-display",showCheckbox:"table-checkbox table-updated-td ",hideHeading:"table-checkbox table-updated-th no-display",showHeading:"table-checkbox table-updated-th ",roomTextData:n.rooms,clinic_name:"",contact_no:"",address:"",clinic_business_hours:[],id:s.user.id,tax:"",clinicList:[],sortorder:"asc",scopes:"business_hours",tabClicked:!1,totalChecked:0,selected:[],selectAll:0,showSignModal:!1,canvasClass:"signature-box sig-div",inputOut:"input-outer",clearClass:"new-white-btn no-margin clear no-display",resetClass:"new-blue-btn reset no-display",changeClass:"new-blue-btn no-margin Change",uploadedSignature:"",uploadedSignature_url:"",save_sign:!1,roomType:a.props.match.url.split("/")[1],globalLang:n.global,showLoadingText:!1},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),window.onscroll=function(){window.innerHeight+document.documentElement.scrollTop===document.documentElement.offsetHeight&&null!=a.state.next_page_url&&a.loadMore()},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){this.state.page,this.state.pagesize,this.state.term,this.state.action;this.setState({showLoader:!0})}},{key:"shouldComponentUpdate",value:function(e,t){return!!this.state.startFresh||(!!this.state.loadMore||!!this.state.showLoader)}},{key:"render",value:function(){var e=this;return this.state.selected.length>0?this.state.selected.map(function(t,a){for(var s in t)!0===t[s]?e.state.totalChecked=1:e.state.totalChecked=0}):this.state.totalChecked=0,i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(tm,null),i.a.createElement("div",{className:"juvly-section full-width"},i.a.createElement("div",{className:"juvly-container border-top"},i.a.createElement("div",{className:"juvly-title no-margin"},"Manage Office Sales Goals - 10",i.a.createElement("a",{className:"pull-right crossIcon"},i.a.createElement("img",{src:"/images/close.png"})),i.a.createElement("a",{href:"#",className:"new-blue-btn pull-right"},"Add Goal"))),i.a.createElement("div",{className:"table-responsive"},i.a.createElement("table",{className:"table-updated setting-table survey-table no-hover"},i.a.createElement("thead",{className:"table-updated-thead"},i.a.createElement("tr",null,i.a.createElement("th",{className:"col-xs-3 table-updated-th"},"Month"),i.a.createElement("th",{className:"col-xs-3 table-updated-th"},"Year"),i.a.createElement("th",{className:"col-xs-3 table-updated-th"},"Sale Goal"),i.a.createElement("th",{className:"col-xs-3 table-updated-th"},"Actions"))),i.a.createElement("tbody",{className:"ajax_body"},i.a.createElement("tr",{className:"table-updated-tr"},i.a.createElement("td",{className:"col-xs-3 table-updated-td"},"January"),i.a.createElement("td",{className:"col-xs-3 table-updated-td"},"2019"),i.a.createElement("td",{className:"col-xs-3 table-updated-td"}," $50,000.00"),i.a.createElement("td",{className:"col-xs-3 table-updated-td actions_parent"},i.a.createElement("a",{href:"#",className:"easy-link no-padding col-xs-6 goal_edit"},"Edit"))),i.a.createElement("tr",{className:"table-updated-tr"},i.a.createElement("td",{className:"col-xs-3 table-updated-td"},"September"),i.a.createElement("td",{className:"col-xs-3 table-updated-td"},"2018"),i.a.createElement("td",{className:"col-xs-3 table-updated-td"}," $23,000.00"),i.a.createElement("td",{className:"col-xs-3 table-updated-td actions_parent"},i.a.createElement("a",{href:"#",className:"easy-link no-padding col-xs-6 goal_edit"},"Edit")))))))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(void 0!=e.MDRoomData&&void 0!==e.MDRoomData.procedures&&(e.MDRoomData.procedures.next_page_url!==t.next_page_url||e.MDRoomData.action!=t.action)){if(!0===t.tabClicked)return{tabClicked:!1,MDRoomData:[]};var a={};return null==t.next_page_url&&e.MDRoomData.action==t.action?a.next_page_url=null:(0==t.MDRoomData.length&&1==t.startFresh?"false"==localStorage.getItem("sortOnly")?(a.showSignModal=!1,a.canvasClass=""===e.MDRoomData.login_user.signature_url?"signature-box sig-div":"signature-box sig-div no-display",a.inputOut=""===e.MDRoomData.login_user.signature_url?"input-outer no-display":"input-outer",a.clearClass=""===e.MDRoomData.login_user.signature_url?"new-white-btn no-margin clear":"new-white-btn no-margin clear no-display",a.resetClass=""===e.MDRoomData.login_user.signature_url?"new-blue-btn reset ":"new-blue-btn reset no-display",a.changeClass=""===e.MDRoomData.login_user.signature_url?"new-blue-btn no-margin Change no-display":"new-blue-btn no-margin Change ",a.uploadedSignature="",a.uploadedSignature_url="",a.signature_url=e.MDRoomData.login_user.signature_url,a.signature=e.MDRoomData.login_user.signature,a.save_sign=!1,a.MDRoomData=e.MDRoomData.procedures.data,null!=e.MDRoomData.procedures.next_page_url?a.page=t.page+1:a.next_page_url=e.MDRoomData.procedures.next_page_url,a.startFresh=!1,a.showLoader=!1,a.action=e.MDRoomData.action,a.total=e.MDRoomData.procedures.total,a.injection_array=e.MDRoomData.procedures.injection_array,a.showLoadingText=!1):localStorage.setItem("sortOnly",!1):t.MDRoomData!=e.MDRoomData.procedures.data&&0!=t.MDRoomData.length&&(!1===t.tabClicked?(a.MDRoomData=Object(oa.a)(t.MDRoomData).concat(Object(oa.a)(e.MDRoomData.procedures.data)),a.selectAll=0):a.tabClicked=!1,a.total=e.MDRoomData.procedures.total,a.injection_array=e.MDRoomData.procedures.injection_array,a.page=t.page+1,a.next_page_url=e.MDRoomData.procedures.next_page_url,a.action=e.MDRoomData.action,a.showLoader=!1,a.showSignModal=!1,a.canvasClass=""===e.MDRoomData.login_user.signature_url?"signature-box sig-div":"signature-box sig-div no-display",a.inputOut=""===e.MDRoomData.login_user.signature_url?"input-outer no-display":"input-outer",a.clearClass=""===e.MDRoomData.login_user.signature_url?"new-white-btn no-margin clear":"new-white-btn no-margin clear no-display",a.resetClass=""===e.MDRoomData.login_user.signature_url?"new-blue-btn reset ":"new-blue-btn reset no-display",a.changeClass=""===e.MDRoomData.login_user.signature_url?"new-blue-btn no-margin Change no-display":"new-blue-btn no-margin Change ",a.uploadedSignature="",a.uploadedSignature_url="",a.signature_url=e.MDRoomData.login_user.signature_url,a.signature=e.MDRoomData.login_user.signature,a.save_sign=!1,a.showLoadingText=!1),a)}return null}}]),t}(n.Component);var Zm=Object(Z.b)(function(e){JSON.parse(localStorage.getItem("languageData"))},function(e){return Object(c.bindActionCreators)({},e)})(Object(de.a)(Xm)),$m=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).showDeleteModal=function(e){a.setState({showModal:!0,reminderId:e.currentTarget.dataset.userid})},a.showEditModal=function(e){a.setState({userId:e.currentTarget.dataset.userid})},a.dismissModal=function(){a.setState({showModal:!1})},a.deleteReminder=function(){localStorage.setItem("isDelete",!0),a.dismissModal();var e=a.state.salesCategoryList;e.length&&(e.map(function(t,s){t.id==a.state.reminderId&&delete e[s]}),a.setState({salesCategoryList:e})),a.props.deletesalesCategoryList(a.state.reminderId),a.dismissModal()};JSON.parse(localStorage.getItem("userData"));var s=JSON.parse(localStorage.getItem("languageData"));return a.state=Object(se.a)({reminder_before:"",reminder_type:"",salesCategoryList:[],userChanged:!1,showLoadingText:!1,hasMoreItems:!0,startFresh:!0,showLoader:!1,showModal:!1,noRecordDisplayEnable:"no-record",noRecordDisplayDisable:"no-record no-display",globalLang:s.global,salesLang:s.sales},"showLoadingText",!1),localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),window.onscroll=function(){window.innerHeight+document.documentElement.scrollTop===document.documentElement.offsetHeight&&null!=a.state.next_page_url&&a.loadMore()},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){JSON.parse(localStorage.getItem("languageData")),this.state.page,this.state.pagesize,this.state.sortby,this.state.term,this.state.scopes;this.setState({showLoader:!0}),this.props.fetchSalesCategory()}},{key:"shouldComponentUpdate",value:function(e,t){return!!this.state.startFresh||(!!this.state.loadMore||!!this.state.showLoader)}},{key:"render",value:function(){return i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(tm,null),i.a.createElement("div",{className:"juvly-section full-width"},i.a.createElement("div",{className:"table-responsive"},i.a.createElement("table",{className:"table-updated setting-table survey-table "},i.a.createElement("thead",{className:"table-updated-thead"},i.a.createElement("tr",null,i.a.createElement("th",{className:"col-xs-3 table-updated-th"},"Clinic Name"))),i.a.createElement("tbody",{className:"ajax_body"},i.a.createElement("tr",{className:"table-updated-tr"},i.a.createElement("td",{className:"col-xs-3 table-updated-td"},"10")),i.a.createElement("tr",{className:"table-updated-tr"},i.a.createElement("td",{className:"no-record"},"There is no active clinic found"))))))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return void 0!==e.salesCategoryList&&200===e.salesCategoryList.status&&t.salesCategoryList!=e.salesCategoryList.data?{TotalGross_Sales:t.userChanged?t.TotalGross_Sales:e.salesCategoryList.data.TotalGross_Sales,total_net_discount:t.userChanged?t.total_net_discount:e.salesCategoryList.data.total_net_discount,prepayment_adjustment:t.userChanged?t.prepayment_adjustment:e.salesCategoryList.data.prepayment_adjustment,TotalNet_Sales:t.userChanged?t.TotalNet_Sales:e.salesCategoryList.data.TotalNet_Sales,refundedPayments:t.userChanged?t.refundedPayments:e.salesCategoryList.data.refundedPayments,total_tax:t.userChanged?t.total_tax:e.salesCategoryList.data.total_tax,tip_amount:t.userChanged?t.tip_amount:e.salesCategoryList.data.tip_amount,CancellationFeecollected:t.userChanged?t.CancellationFeecollected:e.salesCategoryList.data.CancellationFeecollected,wallet_total:t.userChanged?t.wallet_total:e.salesCategoryList.data.wallet_total,CancellationFeerefunded:t.userChanged?t.CancellationFeerefunded:e.salesCategoryList.data.CancellationFeerefunded,pending_partial_amount:t.userChanged?t.pending_partial_amount:e.salesCategoryList.data.pending_partial_amount,TotalCollected:t.userChanged?t.TotalCollected:e.salesCategoryList.data.TotalCollected,NetValueServicesPerformed:t.userChanged?t.NetValueServicesPerformed:e.salesCategoryList.data.total_net_discount,total_processingFees:t.userChanged?t.total_processingFees:e.salesCategoryList.data.total_processingFees,Inventory_Expense:t.userChanged?t.Inventory_Expense:e.salesCategoryList.data.Inventory_Expense,cash_total:t.userChanged?t.cash_total:e.salesCategoryList.data.cash_total,cc_total:t.userChanged?t.cc_total:e.salesCategoryList.data.cc_total,your_profit:t.userChanged?t.your_profit:e.salesCategoryList.data.your_profit,care_credit_total:t.userChanged?t.care_credit_total:e.salesCategoryList.data.care_credit_total,showLoader:!1}:null}}]),t}(n.Component);var eu=Object(Z.b)(function(e){return JSON.parse(localStorage.getItem("languageData")),"SALES_CATEGORY_LIST"!==e.SalesReducer.action?{}:200===e.SalesReducer.data.status?{salesCategoryList:e.SalesReducer.data}:void 0},function(e){return Object(c.bindActionCreators)({fetchSalesCategory:Ed},e)})($m),tu=function(e){function t(e){var a,s;Object(ne.a)(this,t),(s=Object(re.a)(this,Object(oe.a)(t).call(this,e))).showDeleteModal=function(e){s.setState({showModal:!0,reminderId:e.currentTarget.dataset.userid})},s.showEditModal=function(e){s.setState({userId:e.currentTarget.dataset.userid})},s.dismissModal=function(){s.setState({showModal:!1})},s.deleteReminder=function(){localStorage.setItem("isDelete",!0),s.dismissModal();var e=s.state.StafTratmentList;e.length&&(e.map(function(t,a){t.id==s.state.reminderId&&delete e[a]}),s.setState({StafTratmentList:e})),s.props.deleteStafTratmentList(s.state.reminderId),s.dismissModal()},s.handleChildSubmit=function(e){s.setState(e);var t={fromDate:e.fromDate,toDate:e.toDate,clinic_id:e.selectedLocationIdList};s.setState({showLoader:!0}),s.props.fetchStafTratment(t)},s.toggleAnchor=function(e){var t={};t["upDown-"+e]=!s.state["upDown-"+e],s.setState(t)};JSON.parse(localStorage.getItem("userData"));var n=JSON.parse(localStorage.getItem("languageData"));return s.state=(a={sales_header:{},upDown:!1,report_header:{},monthlyNetValues:[],total_invoices:"",grouping:"",avg_gross_sales:"",avg_net_sales:"",gross_sales:"",net_sales:"",next_page_url:"",page:1,pagesize:15,hasMoreItems:!0,reminder_before:"",reminder_type:"",locationArray:[],StafTratmentList:[],userChanged:!1,showLoadingText:!1},Object(se.a)(a,"hasMoreItems",!0),Object(se.a)(a,"startFresh",!0),Object(se.a)(a,"showLoader",!1),Object(se.a)(a,"showModal",!1),Object(se.a)(a,"noRecordDisplayEnable","no-record"),Object(se.a)(a,"noRecordDisplayDisable","no-record no-display"),Object(se.a)(a,"globalLang",n.global),Object(se.a)(a,"salesLang",n.sales),Object(se.a)(a,"showLoadingText",!1),Object(se.a)(a,"selectedLocationIdList",[]),Object(se.a)(a,"clinicObjList",{}),Object(se.a)(a,"to_date",Object(ss.b)(new Date,"YYYY-MM-DD")),Object(se.a)(a,"from_date",Object(ss.b)(new Date,"YYYY-MM-DD")),Object(se.a)(a,"graphData",[]),Object(se.a)(a,"reportHeader",[]),Object(se.a)(a,"reportDataValues",[]),a),localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),s}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){JSON.parse(localStorage.getItem("languageData"));var e=localStorage.getItem("selectionRange"),t=e?JSON.parse(e):"",a={fromDate:t.startDate,toDate:t.endDate};this.setState({showLoader:!0}),this.props.fetchStafTratment(a)}},{key:"shouldComponentUpdate",value:function(e,t){return!!this.state.startFresh||(!!this.state.loadMore||!!this.state.showLoader)}},{key:"render",value:function(){var e=this;null!=this.state.total&&Object.entries(this.state.total).map(function(e){var t=Object(ye.a)(e,2);return{key:t[0],value:t[1]}});null!=this.state.total&&Object.entries(this.state.sales_header).map(function(e){var t=Object(ye.a)(e,2);return{key:t[0],value:t[1]}});var t=[];return this.state.reportHeader.map(function(e,a){t.push()}),i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(tm,null),i.a.createElement("div",{className:"setting-left-menu"},i.a.createElement(am,null)),i.a.createElement("div",{className:"juvly-section"},i.a.createElement(rm,{locationArray:this.state.locationArray,handleChildSubmit:this.handleChildSubmit,clinicVal:this.state.selectedLocationIdList,location:!0,dateRangePick:!0,reportType:"staff_treatments"}),i.a.createElement("div",{className:"table-responsive"},i.a.createElement("div",{className:"accordion-table sales-accordian accord-min-width monthly-net-sale-table"},i.a.createElement("div",{className:"accordion-row accordion-head"},this.state.reportHeader.length>0&&this.state.reportHeader.map(function(e,t){return i.a.createElement("div",{className:"accordian-section col-xs-2 text-left",key:t},Object.values(e))})),this.state.reportDataValues.length>0&&this.state.reportDataValues.map(function(t,a){return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"accordion-row"},i.a.createElement("div",{className:"accordion-title profile"},e.state.reportHeader.map(function(s,n){return i.a.createElement("div",{className:"accordian-section col-xs-2 text-left inner-box no-wrap no-border",key:n},0===n&&t.data.length>0&&i.a.createElement(i.a.Fragment,null,i.a.createElement("a",{className:"yes"==e.state.grouping&&0==e.state["upDown-"+a]?"":"no-display",name:"upDown",value:e.state.upDown,onClick:e.toggleAnchor.bind(e,a)},i.a.createElement("i",{className:"fas fa-angle-down toggle-arrow"})),i.a.createElement("a",{className:"yes"==e.state.grouping&&1==e.state["upDown-"+a]?"":"no-display",name:"upDown",value:e.state.upDown,onClick:e.toggleAnchor.bind(e,a)},i.a.createElement("i",{className:"fas fa-angle-up toggle-arrow"})))," ",t.user_name&&t.user_name[Object.keys(s)])})),t.data.length>0&&e.state.reportHeader.length>0&&t.data.map(function(t,s){return i.a.createElement("div",{className:"yes"==e.state.grouping&&1==e.state["upDown-"+a]?"accordion-discription-row":"accordion-discription-row no-display",key:s},e.state.reportHeader.map(function(e,a){return i.a.createElement("div",{className:"accordian-section col-xs-2 text-left",key:a},t[Object.keys(e)])}))})))}),!0!==this.state.showLoader&&void 0!==this.state.reportDataValues&&0==this.state.reportDataValues.length&&i.a.createElement("tr",{className:"table-updated-tr"},i.a.createElement("td",{className:"no-record no-float",colSpan:11},this.state.salesLang.sales_no_record_found))),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.salesLang.sales_please_wait)))))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(void 0!==e.StafTratmentList&&200===e.StafTratmentList.status&&t.StafTratmentList!=e.StafTratmentList.data){var a={},s=e.StafTratmentList.data.report_data;return s.length&&s.map(function(e,t){a["upDown-"+t]=!1}),a.StafTratmentList=e.StafTratmentList.data,a.sales_header=e.StafTratmentList.data.sales_header,a.total=e.StafTratmentList.data.total,a.reportDataValues=e.StafTratmentList.data.report_data,a.locationArray=e.StafTratmentList.data.clinics,a.reportHeader=e.StafTratmentList.data.report_header,a.grouping=e.StafTratmentList.data.grouping,a.showLoader=!1,a}return null}}]),t}(n.Component);var au=Object(Z.b)(function(e){return JSON.parse(localStorage.getItem("languageData")),"STAF_TREATMENT_LIST"!==e.SalesReducer.action?{}:200===e.SalesReducer.data.status?{StafTratmentList:e.SalesReducer.data}:void 0},function(e){return Object(c.bindActionCreators)({fetchStafTratment:Td},e)})(tu),su=function(e){function t(e){var a,s;Object(ne.a)(this,t),(s=Object(re.a)(this,Object(oe.a)(t).call(this,e))).showDeleteModal=function(e){s.setState({showModal:!0,reminderId:e.currentTarget.dataset.userid})},s.showEditModal=function(e){s.setState({userId:e.currentTarget.dataset.userid})},s.dismissModal=function(){s.setState({showModal:!1})},s.deleteReminder=function(){localStorage.setItem("isDelete",!0),s.dismissModal();var e=s.state.MembershipList;e.length&&(e.map(function(t,a){t.id==s.state.reminderId&&delete e[a]}),s.setState({MembershipList:e})),s.props.deleteMembershipList(s.state.reminderId),s.dismissModal()},s.handleChildSubmit=function(e){s.setState(e);var t={fromDate:e.fromDate,toDate:e.toDate,clinic_id:e.selectedLocationIdList};s.setState({showLoader:!0}),s.props.fetchMembership(t)};JSON.parse(localStorage.getItem("userData"));var n=JSON.parse(localStorage.getItem("languageData"));return s.state=(a={sales_header:{},upDown:!1,report_header:{},monthlyNetValues:[],total_invoices:"",grouping:"",avg_gross_sales:"",avg_net_sales:"",gross_sales:"",net_sales:"",next_page_url:"",total_active_members:"",page:1,pagesize:15,hasMoreItems:!0,reminder_before:"",reminder_type:"",locationArray:[],MembershipList:[],userChanged:!1,showLoadingText:!1},Object(se.a)(a,"hasMoreItems",!0),Object(se.a)(a,"startFresh",!0),Object(se.a)(a,"showLoader",!1),Object(se.a)(a,"showModal",!1),Object(se.a)(a,"noRecordDisplayEnable","no-record"),Object(se.a)(a,"noRecordDisplayDisable","no-record no-display"),Object(se.a)(a,"globalLang",n.global),Object(se.a)(a,"salesLang",n.sales),Object(se.a)(a,"showLoadingText",!1),Object(se.a)(a,"selectedLocationIdList",[]),Object(se.a)(a,"clinicObjList",{}),Object(se.a)(a,"to_date",Object(ss.b)(new Date,"YYYY-MM-DD")),Object(se.a)(a,"from_date",Object(ss.b)(new Date,"YYYY-MM-DD")),Object(se.a)(a,"graphData",[]),Object(se.a)(a,"reportHeader",[]),Object(se.a)(a,"reportDataValues",[]),a),localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),s}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){JSON.parse(localStorage.getItem("languageData"));var e=localStorage.getItem("selectionRange"),t=e?JSON.parse(e):"",a={fromDate:t.startDate,toDate:t.endDate};this.setState({showLoader:!0}),this.props.fetchMembership(a)}},{key:"shouldComponentUpdate",value:function(e,t){return!!this.state.startFresh||(!!this.state.loadMore||!!this.state.showLoader)}},{key:"render",value:function(){var e=this,t=[];null!=this.state.total&&(t=Object.entries(this.state.total).map(function(e){var t=Object(ye.a)(e,2);return{key:t[0],value:t[1]}}));null!=this.state.total&&Object.entries(this.state.sales_header).map(function(e){var t=Object(ye.a)(e,2);return{key:t[0],value:t[1]}});var a=[];return this.state.reportHeader.map(function(e,t){a.push()}),i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(tm,null),i.a.createElement("div",{className:"setting-left-menu"},i.a.createElement(am,null)),i.a.createElement("div",{className:"juvly-section"},i.a.createElement(rm,{locationArray:this.state.locationArray,handleChildSubmit:this.handleChildSubmit,total_active_members:this.state.total_active_members,clinicVal:this.state.selectedLocationIdList,total_active_members_value:!0,dateRangePick:!0,location:!0,reportType:"memberships"}),i.a.createElement("div",{className:"table-responsive"},i.a.createElement("table",{className:"table-updated setting-table no-hover"},i.a.createElement("thead",{className:"table-updated-thead"},i.a.createElement("tr",null,this.state.reportHeader.length>0&&this.state.reportHeader.map(function(e,t){return i.a.createElement("td",{className:3==t?"col-xs-2 table-updated-th text-right":"col-xs-2 table-updated-th text-left",key:t},Object.values(e))}))),i.a.createElement("tbody",{className:"ajax_body"},this.state.reportDataValues.length>0&&this.state.reportDataValues.map(function(t,a){return i.a.createElement("tr",{className:"table-updated-tr"},e.state.reportHeader.length>0&&e.state.reportHeader.map(function(e,a){return i.a.createElement("td",{className:3==a?"col-xs-2 table-updated-th text-right":"col-xs-2 table-updated-th text-left"},t[Object.keys(e)])}))}),i.a.createElement("tr",{className:"table-updated-tr"},i.a.createElement("td",{className:"col-xs-3 table-updated-td"},i.a.createElement("b",null,this.state.salesLang.sales_total)),t.length>0&&t.slice(1).map(function(e,t){return i.a.createElement("td",{className:"col-xs-2 table-updated-td text-right",key:t},i.a.createElement("b",null,e.value))})))),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.salesLang.sales_please_wait)))))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return void 0!==e.MembershipList&&200===e.MembershipList.status&&t.MembershipList!=e.MembershipList.data?{MembershipList:e.MembershipList.data,sales_header:e.MembershipList.data.sales_header,total_active_members:e.MembershipList.data.total_active_members,total:e.MembershipList.data.total,reportDataValues:e.MembershipList.data.report_data,locationArray:e.MembershipList.data.clinics,reportHeader:e.MembershipList.data.report_header,grouping:e.MembershipList.data.grouping,showLoader:!1}:null}}]),t}(n.Component);var nu=Object(Z.b)(function(e){return JSON.parse(localStorage.getItem("languageData")),"MEMBERSHIP_LIST"!==e.SalesReducer.action?{}:200===e.SalesReducer.data.status?{MembershipList:e.SalesReducer.data}:void 0},function(e){return Object(c.bindActionCreators)({fetchMembership:Id},e)})(su),iu=function(e){function t(e){var a,s;Object(ne.a)(this,t),(s=Object(re.a)(this,Object(oe.a)(t).call(this,e))).showDeleteModal=function(e){s.setState({showModal:!0,reminderId:e.currentTarget.dataset.userid})},s.showEditModal=function(e){s.setState({userId:e.currentTarget.dataset.userid})},s.dismissModal=function(){s.setState({showModal:!1})},s.loadMore=function(){localStorage.setItem("sortOnly",!1),s.setState({loadMore:!0,startFresh:!0,showLoader:!0,showLoadingText:!0});var e={params:{page:s.state.page,pagesize:s.state.pagesize}};s.props.fetchShortTermLiability(e)},s.loadMore=function(){localStorage.setItem("sortOnly",!1),s.setState({loadMore:!0,startFresh:!0,showLoader:!0,showLoadingText:!0});var e={params:{page:s.state.page,pagesize:s.state.pagesize}};s.props.fetchShortTermLiability(e)},s.deleteReminder=function(){localStorage.setItem("isDelete",!0),s.dismissModal();var e=s.state.ShortTermLiabilityList;e.length&&(e.map(function(t,a){t.id==s.state.reminderId&&delete e[a]}),s.setState({ShortTermLiabilityList:e})),s.props.deleteShortTermLiabilityList(s.state.reminderId),s.dismissModal()},s.handleChildSubmit=function(e){s.setState(e);var t={page:1,pagesize:s.state.pagesize,fromDate:e.fromDate,toDate:e.toDate,clinic_id:e.selectedLocationIdList};s.setState({page:1,pagesize:s.state.pagesize,loadMore:!0,showLoader:!0,startFresh:!0}),s.props.fetchShortTermLiability(t)};JSON.parse(localStorage.getItem("userData"));var n=JSON.parse(localStorage.getItem("languageData"));return s.state=(a={sales_header:{},upDown:!1,report_header:{},monthlyNetValues:[],total_invoices:"",grouping:"",avg_gross_sales:"",avg_net_sales:"",gross_sales:"",net_sales:"",next_page_url:"",total_active_members:"",page:1,loadMore:!0,pagesize:15,hasMoreItems:!0,reminder_before:"",reminder_type:"",locationArray:[],ShortTermLiabilityList:[],userChanged:!1,showLoadingText:!1},Object(se.a)(a,"hasMoreItems",!0),Object(se.a)(a,"startFresh",!0),Object(se.a)(a,"showLoader",!1),Object(se.a)(a,"showModal",!1),Object(se.a)(a,"loadMore",!0),Object(se.a)(a,"noRecordDisplayEnable","no-record"),Object(se.a)(a,"noRecordDisplayDisable","no-record no-display"),Object(se.a)(a,"globalLang",n.global),Object(se.a)(a,"salesLang",n.sales),Object(se.a)(a,"selectedLocationIdList",[]),Object(se.a)(a,"clinicObjList",{}),Object(se.a)(a,"to_date",Object(ss.b)(new Date,"YYYY-MM-DD")),Object(se.a)(a,"from_date",Object(ss.b)(new Date,"YYYY-MM-DD")),Object(se.a)(a,"graphData",[]),Object(se.a)(a,"reportHeader",[]),Object(se.a)(a,"reportDataValues",[]),a),localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),window.onscroll=function(){var e=parseInt(Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop));window.innerHeight+e===document.documentElement.offsetHeight&&null!=s.state.next_page_url&&s.loadMore()},s}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){JSON.parse(localStorage.getItem("languageData"));var e={page:this.state.page,pagesize:this.state.pagesize,fromDate:this.state.fromDate,toDate:this.state.toDate};this.setState({showLoader:!0}),this.props.fetchShortTermLiability(e)}},{key:"shouldComponentUpdate",value:function(e,t){return!!this.state.startFresh||(!!this.state.loadMore||!!this.state.showLoader)}},{key:"render",value:function(){var e=this;null!=this.state.total&&Object.entries(this.state.total).map(function(e){var t=Object(ye.a)(e,2);return{key:t[0],value:t[1]}});null!=this.state.total&&Object.entries(this.state.sales_header).map(function(e){var t=Object(ye.a)(e,2);return{key:t[0],value:t[1]}});var t=[];return this.state.reportHeader.map(function(e,a){t.push()}),i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(tm,null),i.a.createElement("div",{className:"setting-left-menu"},i.a.createElement(am,null)),i.a.createElement("div",{className:"juvly-section"},i.a.createElement(rm,{locationArray:this.state.locationArray,handleChildSubmit:this.handleChildSubmit,dateRangePick:!1,total_liability:this.state.total_liability,total_liability_value:!0,location:!1,reportType:"short_term_liability"}),i.a.createElement("div",{className:"table-responsive"},i.a.createElement("table",{className:"table-updated setting-table short-term-table no-hover"},i.a.createElement("thead",{className:"table-updated-thead"},i.a.createElement("tr",null,this.state.reportHeader.length>0&&this.state.reportHeader.map(function(e,t){return i.a.createElement("td",{className:0==t?"col-xs-2 table-updated-th text-left":"col-xs-2 table-updated-th text-right",key:t},Object.values(e))}))),i.a.createElement("tbody",{className:"ajax_body"},this.state.reportDataValues.length>0&&this.state.reportDataValues.map(function(t,a){return i.a.createElement("tr",{className:"table-updated-tr"},e.state.reportHeader.length>0&&e.state.reportHeader.map(function(e,a){return i.a.createElement("td",{className:0==a?"col-xs-2 table-updated-th text-left":"col-xs-2 table-updated-th text-right"},t[Object.keys(e)])}))})),!0!==this.state.showLoader&&void 0!==this.state.reportDataValues&&0==this.state.reportDataValues.length&&i.a.createElement("tr",{className:"table-updated-tr"},i.a.createElement("td",{className:"no-record no-float",colSpan:11},this.state.salesLang.sales_no_record_found))),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.salesLang.sales_please_wait)))))),i.a.createElement("div",{className:this.state.showLoadingText?"loading-please-wait":"loading-please-wait no-display "},this.state.globalLang.loading_please_wait_text))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(void 0!=e.showLoader&&0==e.showLoader)return{showLoader:!1};if(void 0!=e.ShortTermLiabilityList&&e.ShortTermLiabilityList.data.next_page_url!==t.next_page_url){var a={};return null==t.next_page_url?(localStorage.setItem("sortOnly",!1),a.next_page_url=null):(0==t.ShortTermLiabilityList.length&&1==t.startFresh?"false"==localStorage.getItem("sortOnly")?(a.ShortTermLiabilityList=e.ShortTermLiabilityList.data,null!=e.ShortTermLiabilityList.data.next_page_url?(a.page=t.page+1,a.next_page_url=e.ShortTermLiabilityList.data.next_page_url):a.next_page_url=null,a.ShortTermLiabilityList=e.ShortTermLiabilityList.data.report_data,a.sales_header=e.ShortTermLiabilityList.data.sales_header,a.total_liability=e.ShortTermLiabilityList.data.total_liability,a.total=e.ShortTermLiabilityList.data.total,a.reportDataValues=e.ShortTermLiabilityList.data.report_data,a.locationArray=e.ShortTermLiabilityList.data.clinics,a.reportHeader=e.ShortTermLiabilityList.data.report_header,a.grouping=e.ShortTermLiabilityList.data.grouping,a.startFresh=!1,a.showLoader=!1,a.showLoadingText=!1):localStorage.setItem("sortOnly",!1):void 0!=e.ShortTermLiabilityList&&t.ShortTermLiabilityList!=e.ShortTermLiabilityList.data.report_data&&(a.ShortTermLiabilityList=Object(oa.a)(t.ShortTermLiabilityList).concat(Object(oa.a)(e.ShortTermLiabilityList.data.report_data)),a.reportDataValues=Object(oa.a)(t.reportDataValues).concat(Object(oa.a)(e.ShortTermLiabilityList.data.report_data)),a.page=t.page+1,a.next_page_url=e.ShortTermLiabilityList.data.next_page_url,a.ShortTermLiabilityList=e.ShortTermLiabilityList.data.report_data,a.sales_header=e.ShortTermLiabilityList.data.sales_header,a.total_liability=e.ShortTermLiabilityList.data.total_liability,a.total=e.ShortTermLiabilityList.data.total,a.locationArray=e.ShortTermLiabilityList.data.clinics,a.reportHeader=e.ShortTermLiabilityList.data.report_header,a.grouping=e.ShortTermLiabilityList.data.grouping,a.showLoader=!1,a.showLoadingText=!1),a)}return null}}]),t}(n.Component);var ru=Object(Z.b)(function(e){return JSON.parse(localStorage.getItem("languageData")),"SHORT_TERM_LIABILITY_LIST"!==e.SalesReducer.action?{}:200===e.SalesReducer.data.status?{ShortTermLiabilityList:e.SalesReducer.data}:void 0},function(e){return Object(c.bindActionCreators)({fetchShortTermLiability:Rd},e)})(iu),ou=function(e){function t(e){var a,s;Object(ne.a)(this,t),(s=Object(re.a)(this,Object(oe.a)(t).call(this,e))).showDeleteModal=function(e){s.setState({showModal:!0,reminderId:e.currentTarget.dataset.userid})},s.showEditModal=function(e){s.setState({userId:e.currentTarget.dataset.userid})},s.dismissModal=function(){s.setState({showModal:!1})},s.handleChildSubmit=function(e){s.setState(e);var t={fromDate:e.fromDate,toDate:e.toDate,clinic_id:e.selectedLocationIdList};s.setState({showLoader:!0}),s.props.fetchTreatmentPlans(t)};JSON.parse(localStorage.getItem("userData"));var n=JSON.parse(localStorage.getItem("languageData"));return s.state=(a={sales_header:{},upDown:!1,report_header:{},monthlyNetValues:[],total_invoices:"",grouping:"",avg_gross_sales:"",avg_net_sales:"",gross_sales:"",net_sales:"",next_page_url:"",page:1,pagesize:15,hasMoreItems:!0,reminder_before:"",reminder_type:"",locationArray:[],TreatmentPlansList:[],userChanged:!1,showLoadingText:!1},Object(se.a)(a,"hasMoreItems",!0),Object(se.a)(a,"startFresh",!0),Object(se.a)(a,"showLoader",!1),Object(se.a)(a,"showModal",!1),Object(se.a)(a,"noRecordDisplayEnable","no-record"),Object(se.a)(a,"noRecordDisplayDisable","no-record no-display"),Object(se.a)(a,"globalLang",n.global),Object(se.a)(a,"salesLang",n.sales),Object(se.a)(a,"showLoadingText",!1),Object(se.a)(a,"selectedLocationIdList",[]),Object(se.a)(a,"clinicObjList",{}),Object(se.a)(a,"to_date",Object(ss.b)(new Date,"YYYY-MM-DD")),Object(se.a)(a,"from_date",Object(ss.b)(new Date,"YYYY-MM-DD")),Object(se.a)(a,"graphData",[]),Object(se.a)(a,"reportHeader",[]),Object(se.a)(a,"reportDataValues",[]),a),localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),s}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){JSON.parse(localStorage.getItem("languageData"));var e=localStorage.getItem("selectionRange"),t=e?JSON.parse(e):"",a={fromDate:t.startDate,toDate:t.endDate};this.setState({showLoader:!0}),this.props.fetchTreatmentPlans(a)}},{key:"shouldComponentUpdate",value:function(e,t){return!!this.state.startFresh||(!!this.state.loadMore||!!this.state.showLoader)}},{key:"render",value:function(){var e=this;null!=this.state.total&&Object.entries(this.state.total).map(function(e){var t=Object(ye.a)(e,2);return{key:t[0],value:t[1]}});var t=[];null!=this.state.total&&(t=Object.entries(this.state.sales_header).map(function(e){var t=Object(ye.a)(e,2);return{key:t[0],value:t[1]}}));var a=[];return this.state.reportHeader.map(function(e,t){a.push()}),i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(tm,null),i.a.createElement("div",{className:"setting-left-menu"},i.a.createElement(am,null)),i.a.createElement("div",{className:"juvly-section"},i.a.createElement(rm,{locationArray:this.state.locationArray,handleChildSubmit:this.handleChildSubmit,clinicVal:this.state.selectedLocationIdList,location:!0,dateRangePick:!0,reportType:"treatment_plans"}),i.a.createElement("div",{className:"bg-light-blue juvly-container"},i.a.createElement("div",{className:"new-all-stats"},t.length>0&&t.map(function(e,t){var a=e.key.replace("total_invoices","sales").replace(/_/g," ");return i.a.createElement("div",{className:"stats-section",key:t},i.a.createElement("div",{className:"dash-box-title"},a),i.a.createElement("div",{className:"new-all-stats-content",id:"monthly_sales"},e.value))}))),i.a.createElement("div",{className:"table-responsive"},i.a.createElement("table",{className:"table-updated setting-table no-hover"},i.a.createElement("thead",{className:"table-updated-thead"},i.a.createElement("tr",null,this.state.reportHeader.length>0&&this.state.reportHeader.map(function(e,t){return i.a.createElement("td",{className:4==t?"col-xs-2 table-updated-th text-right":"col-xs-2 table-updated-th text-left",key:t},Object.values(e))}))),i.a.createElement("tbody",{className:"ajax_body"},this.state.reportDataValues.length>0&&this.state.reportDataValues.map(function(t,a){return i.a.createElement("tr",{className:"table-updated-tr"},e.state.reportHeader.length>0&&e.state.reportHeader.map(function(e,a){return i.a.createElement("td",{className:4==a?"col-xs-2 table-updated-th text-right":"col-xs-2 table-updated-th text-left"},t[Object.keys(e)])}))})),!0!==this.state.showLoader&&void 0!==this.state.reportDataValues&&0==this.state.reportDataValues.length&&i.a.createElement("tr",{className:"table-updated-tr"},i.a.createElement("td",{className:"no-record no-float",colSpan:11},this.state.salesLang.sales_no_record_found))),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.salesLang.sales_please_wait)))))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return void 0!==e.TreatmentPlansList&&200===e.TreatmentPlansList.status&&t.TreatmentPlansList!=e.TreatmentPlansList.data?{TreatmentPlansList:e.TreatmentPlansList.data,sales_header:e.TreatmentPlansList.data.sales_header,total:e.TreatmentPlansList.data.total,reportDataValues:e.TreatmentPlansList.data.report_data,locationArray:e.TreatmentPlansList.data.clinics,reportHeader:e.TreatmentPlansList.data.report_header,grouping:e.TreatmentPlansList.data.grouping,showLoader:!1}:null}}]),t}(n.Component);var lu=Object(Z.b)(function(e){return JSON.parse(localStorage.getItem("languageData")),"TREATMENT_PLANS_LIST"!==e.SalesReducer.action?{}:200===e.SalesReducer.data.status?{TreatmentPlansList:e.SalesReducer.data}:void 0},function(e){return Object(c.bindActionCreators)({fetchTreatmentPlans:kd},e)})(ou),cu=function(e){function t(e){var a,s;Object(ne.a)(this,t),(s=Object(re.a)(this,Object(oe.a)(t).call(this,e))).showDeleteModal=function(e){s.setState({showModal:!0,reminderId:e.currentTarget.dataset.userid})},s.showEditModal=function(e){s.setState({userId:e.currentTarget.dataset.userid})},s.dismissModal=function(){s.setState({showModal:!1})},s.deleteReminder=function(){localStorage.setItem("isDelete",!0),s.dismissModal();var e=s.state.TaxesList;e.length&&(e.map(function(t,a){t.id==s.state.reminderId&&delete e[a]}),s.setState({TaxesList:e})),s.props.deleteTaxesList(s.state.reminderId),s.dismissModal()},s.handleChildSubmit=function(e){s.setState(e);var t={fromDate:e.fromDate,toDate:e.toDate,clinic_id:e.selectedLocationIdList};s.setState({showLoader:!0}),s.props.fetchTaxes(t)};JSON.parse(localStorage.getItem("userData"));var n=JSON.parse(localStorage.getItem("languageData"));return s.state=(a={sales_header:{},upDown:!1,report_header:{},monthlyNetValues:[],total_invoices:"",grouping:"",avg_gross_sales:"",avg_net_sales:"",gross_sales:"",net_sales:"",next_page_url:"",page:1,pagesize:15,hasMoreItems:!0,reminder_before:"",reminder_type:"",locationArray:[],TaxesList:[],userChanged:!1,showLoadingText:!1},Object(se.a)(a,"hasMoreItems",!0),Object(se.a)(a,"startFresh",!0),Object(se.a)(a,"showLoader",!1),Object(se.a)(a,"showModal",!1),Object(se.a)(a,"noRecordDisplayEnable","no-record"),Object(se.a)(a,"noRecordDisplayDisable","no-record no-display"),Object(se.a)(a,"globalLang",n.global),Object(se.a)(a,"salesLang",n.sales),Object(se.a)(a,"showLoadingText",!1),Object(se.a)(a,"selectedLocationIdList",[]),Object(se.a)(a,"clinicObjList",{}),Object(se.a)(a,"to_date",Object(ss.b)(new Date,"YYYY-MM-DD")),Object(se.a)(a,"from_date",Object(ss.b)(new Date,"YYYY-MM-DD")),Object(se.a)(a,"graphData",[]),Object(se.a)(a,"reportHeader",[]),Object(se.a)(a,"reportDataValues",[]),a),localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),s}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){JSON.parse(localStorage.getItem("languageData"));var e=localStorage.getItem("selectionRange"),t=e?JSON.parse(e):"",a={fromDate:t.startDate,toDate:t.endDate};this.setState({showLoader:!0}),this.props.fetchTaxes(a)}},{key:"shouldComponentUpdate",value:function(e,t){return!!this.state.startFresh||(!!this.state.loadMore||!!this.state.showLoader)}},{key:"render",value:function(){var e=this,t=[];null!=this.state.total&&(t=Object.entries(this.state.total).map(function(e){var t=Object(ye.a)(e,2);return{key:t[0],value:t[1]}}));var a=[];null!=this.state.total&&(a=Object.entries(this.state.sales_header).map(function(e){var t=Object(ye.a)(e,2);return{key:t[0],value:t[1]}}));var s=[];return this.state.reportHeader.map(function(e,t){s.push()}),i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(tm,null),i.a.createElement("div",{className:"setting-left-menu"},i.a.createElement(am,null)),i.a.createElement("div",{className:"juvly-section"},i.a.createElement(rm,{locationArray:this.state.locationArray,handleChildSubmit:this.handleChildSubmit,dateRangePick:!0,reportType:"taxes"}),i.a.createElement("div",{className:"bg-light-blue juvly-container"},i.a.createElement("div",{className:"juvly-title"},"Taxes"),i.a.createElement("div",{className:"new-all-stats"},a.length>0&&a.map(function(e,t){var a=e.key.replace("total_invoices","sales").replace(/_/g," ");return i.a.createElement("div",{className:"stats-section",key:t},i.a.createElement("div",{className:"dash-box-title"},a),i.a.createElement("div",{className:"new-all-stats-content",id:"monthly_sales"},e.value))}))),i.a.createElement("div",{className:"table-responsive"},i.a.createElement("table",{className:"table-updated setting-table no-hover"},i.a.createElement("thead",{className:"table-updated-thead"},i.a.createElement("tr",null,this.state.reportHeader.length>0&&this.state.reportHeader.map(function(e,t){return i.a.createElement("td",{className:0==t?"col-xs-2 table-updated-th text-left":"col-xs-2 table-updated-th text-right",key:t},Object.values(e))}))),i.a.createElement("tbody",{className:"ajax_body"},this.state.reportDataValues.length>0&&this.state.reportDataValues.map(function(t,a){return i.a.createElement("tr",{className:"table-updated-tr"},e.state.reportHeader.length>0&&e.state.reportHeader.map(function(e,a){return i.a.createElement("td",{className:0==a?"col-xs-2 table-updated-th text-left":"col-xs-2 table-updated-th text-right"},t[Object.keys(e)])}))}),i.a.createElement("tr",{className:"table-updated-tr"},i.a.createElement("td",{className:"col-xs-3 table-updated-td"},i.a.createElement("b",null,this.state.salesLang.sales_total)),t.length>0&&t.slice(1).map(function(e,t){return i.a.createElement("td",{className:"col-xs-2 table-updated-td text-right",key:t},i.a.createElement("b",null,e.value))})))),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.salesLang.sales_please_wait)))))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return void 0!==e.TaxesList&&200===e.TaxesList.status&&t.TaxesList!=e.TaxesList.data?{TaxesList:e.TaxesList.data,sales_header:e.TaxesList.data.sales_header,total:e.TaxesList.data.total,reportDataValues:e.TaxesList.data.report_data,locationArray:e.TaxesList.data.clinics,reportHeader:e.TaxesList.data.report_header,grouping:e.TaxesList.data.grouping,showLoader:!1}:null}}]),t}(n.Component);var du=Object(Z.b)(function(e){return JSON.parse(localStorage.getItem("languageData")),"TAXES_LIST"!==e.SalesReducer.action?{}:200===e.SalesReducer.data.status?{TaxesList:e.SalesReducer.data}:void 0},function(e){return Object(c.bindActionCreators)({fetchTaxes:Pd},e)})(cu),mu=function(e){function t(e){var a,s;Object(ne.a)(this,t),(s=Object(re.a)(this,Object(oe.a)(t).call(this,e))).showDeleteModal=function(e){s.setState({showModal:!0,reminderId:e.currentTarget.dataset.userid})},s.showEditModal=function(e){s.setState({userId:e.currentTarget.dataset.userid})},s.dismissModal=function(){s.setState({showModal:!1})},s.handleChildSubmit=function(e){s.setState(e);var t={fromDate:"2018-03-01",toDate:"2020-05-31",clinic_id:e.selectedLocationIdList};s.setState({showLoader:!0}),s.props.fetchCommissionReports(t)};JSON.parse(localStorage.getItem("userData"));var n=JSON.parse(localStorage.getItem("languageData"));return s.state=(a={sales_header:{},upDown:!1,report_header:{},monthlyNetValues:[],total_invoices:"",grouping:"",avg_gross_sales:"",avg_net_sales:"",gross_sales:"",net_sales:"",next_page_url:"",page:1,pagesize:15,hasMoreItems:!0,reminder_before:"",reminder_type:"",locationArray:[],CommissionReportsList:[],userChanged:!1,showLoadingText:!1},Object(se.a)(a,"hasMoreItems",!0),Object(se.a)(a,"startFresh",!0),Object(se.a)(a,"showLoader",!1),Object(se.a)(a,"showModal",!1),Object(se.a)(a,"noRecordDisplayEnable","no-record"),Object(se.a)(a,"noRecordDisplayDisable","no-record no-display"),Object(se.a)(a,"globalLang",n.global),Object(se.a)(a,"salesLang",n.sales),Object(se.a)(a,"showLoadingText",!1),Object(se.a)(a,"selectedLocationIdList",[]),Object(se.a)(a,"clinicObjList",{}),Object(se.a)(a,"to_date",Object(ss.b)(new Date,"YYYY-MM-DD")),Object(se.a)(a,"from_date",Object(ss.b)(new Date,"YYYY-MM-DD")),Object(se.a)(a,"graphData",[]),Object(se.a)(a,"reportHeader",[]),Object(se.a)(a,"reportDataValues",[]),a),localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),s}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){JSON.parse(localStorage.getItem("languageData"));var e=localStorage.getItem("selectionRange"),t=e?JSON.parse(e):"",a={fromDate:t.startDate,toDate:t.endDate};this.setState({showLoader:!0}),this.props.fetchCommissionReports(a)}},{key:"shouldComponentUpdate",value:function(e,t){return!!this.state.startFresh||(!!this.state.loadMore||!!this.state.showLoader)}},{key:"render",value:function(){var e=this,t=[];null!=this.state.total&&(t=Object.entries(this.state.total).map(function(e){var t=Object(ye.a)(e,2);return{key:t[0],value:t[1]}}));var a=[];null!=this.state.total&&(a=Object.entries(this.state.sales_header).map(function(e){var t=Object(ye.a)(e,2);return{key:t[0],value:t[1]}}));var s=[];return this.state.reportHeader.map(function(e,t){s.push()}),i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(tm,null),i.a.createElement("div",{className:"setting-left-menu"},i.a.createElement(am,null)),i.a.createElement("div",{className:"juvly-section"},i.a.createElement(rm,{locationArray:this.state.locationArray,handleChildSubmit:this.handleChildSubmit,dateRangePick:!0,reportType:"commission_report"}),i.a.createElement("div",{className:"bg-light-blue juvly-container"},i.a.createElement("div",{className:"new-all-stats"},a.length>0&&a.map(function(e,t){var a=e.key.replace("total_invoices","sales").replace(/_/g," ");return i.a.createElement("div",{className:"stats-section",key:t},i.a.createElement("div",{className:"dash-box-title"},a),i.a.createElement("div",{className:"new-all-stats-content",id:"monthly_sales"},e.value))}))),i.a.createElement("div",{className:"table-responsive"},i.a.createElement("table",{className:"table-updated setting-table no-hover"},i.a.createElement("thead",{className:"table-updated-thead"},i.a.createElement("tr",null,this.state.reportHeader.length>0&&this.state.reportHeader.map(function(e,t){return i.a.createElement("td",{className:0==t?"col-xs-2 table-updated-th text-left":"col-xs-2 table-updated-th text-right",key:t},Object.values(e))}))),i.a.createElement("tbody",{className:"ajax_body"},this.state.reportDataValues.length>0&&this.state.reportDataValues.map(function(t,a){return i.a.createElement("tr",{className:"table-updated-tr"},e.state.reportHeader.length>0&&e.state.reportHeader.map(function(e,a){return i.a.createElement("td",{className:0==a?"col-xs-2 table-updated-th text-left":"col-xs-2 table-updated-th text-right"},t[Object.keys(e)])}))}),i.a.createElement("tr",{className:"table-updated-tr"},i.a.createElement("td",{className:"col-xs-3 table-updated-td"},i.a.createElement("b",null,this.state.salesLang.sales_total)),t.length>0&&t.slice(1).map(function(e,t){return i.a.createElement("td",{className:"col-xs-2 table-updated-td text-right",key:t},i.a.createElement("b",null,e.value))})))),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.salesLang.sales_please_wait)))))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return void 0!==e.CommissionReportsList&&200===e.CommissionReportsList.status&&t.CommissionReportsList!=e.CommissionReportsList.data?{CommissionReportsList:e.CommissionReportsList.data,sales_header:e.CommissionReportsList.data.sales_header,total:e.CommissionReportsList.data.total,reportDataValues:e.CommissionReportsList.data.report_data,locationArray:e.CommissionReportsList.data.clinics,reportHeader:e.CommissionReportsList.data.report_header,grouping:e.CommissionReportsList.data.grouping,showLoader:!1}:null}}]),t}(n.Component);var uu=Object(Z.b)(function(e){return JSON.parse(localStorage.getItem("languageData")),"COMMISSION_REPORTS_LIST"!==e.SalesReducer.action?{}:200===e.SalesReducer.data.status?{CommissionReportsList:e.SalesReducer.data}:void 0},function(e){return Object(c.bindActionCreators)({fetchCommissionReports:jd},e)})(mu),pu=function(e){function t(e){var a,s;Object(ne.a)(this,t),(s=Object(re.a)(this,Object(oe.a)(t).call(this,e))).showDeleteModal=function(e){s.setState({showModal:!0,reminderId:e.currentTarget.dataset.userid})},s.showEditModal=function(e){s.setState({userId:e.currentTarget.dataset.userid})},s.dismissModal=function(){s.setState({showModal:!1})},s.handleChildSubmit=function(e){s.setState(e);var t={fromDate:e.fromDate,toDate:e.toDate,clinic_id:e.selectedLocationIdList};s.setState({showLoader:!0}),s.props.fetchCostToCompany(t)};JSON.parse(localStorage.getItem("userData"));var n=JSON.parse(localStorage.getItem("languageData"));return s.state=(a={sales_header:{},upDown:!1,report_header:{},monthlyNetValues:[],total_invoices:"",grouping:"",avg_gross_sales:"",avg_net_sales:"",gross_sales:"",net_sales:"",next_page_url:"",page:1,pagesize:15,hasMoreItems:!0,reminder_before:"",reminder_type:"",locationArray:[],CostToCompanyList:[],userChanged:!1,showLoadingText:!1},Object(se.a)(a,"hasMoreItems",!0),Object(se.a)(a,"startFresh",!0),Object(se.a)(a,"showLoader",!1),Object(se.a)(a,"showModal",!1),Object(se.a)(a,"noRecordDisplayEnable","no-record"),Object(se.a)(a,"noRecordDisplayDisable","no-record no-display"),Object(se.a)(a,"globalLang",n.global),Object(se.a)(a,"salesLang",n.sales),Object(se.a)(a,"showLoadingText",!1),Object(se.a)(a,"selectedLocationIdList",[]),Object(se.a)(a,"clinicObjList",{}),Object(se.a)(a,"to_date",Object(ss.b)(new Date,"YYYY-MM-DD")),Object(se.a)(a,"from_date",Object(ss.b)(new Date,"YYYY-MM-DD")),Object(se.a)(a,"graphData",[]),Object(se.a)(a,"reportHeader",[]),Object(se.a)(a,"reportDataValues",[]),a),localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),s}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){JSON.parse(localStorage.getItem("languageData"));var e=localStorage.getItem("selectionRange"),t=e?JSON.parse(e):"",a={fromDate:t.startDate,toDate:t.endDate};this.setState({showLoader:!0}),this.props.fetchCostToCompany(a)}},{key:"shouldComponentUpdate",value:function(e,t){return!!this.state.startFresh||(!!this.state.loadMore||!!this.state.showLoader)}},{key:"render",value:function(){var e=this,t=[];null!=this.state.total&&(t=Object.entries(this.state.total).map(function(e){var t=Object(ye.a)(e,2);return{key:t[0],value:t[1]}}));var a=[];null!=this.state.total&&(a=Object.entries(this.state.sales_header).map(function(e){var t=Object(ye.a)(e,2);return{key:t[0],value:t[1]}}));var s=[];return this.state.reportHeader.map(function(e,t){s.push()}),i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(tm,null),i.a.createElement("div",{className:"setting-left-menu"},i.a.createElement(am,null)),i.a.createElement("div",{className:"juvly-section"},i.a.createElement(rm,{locationArray:this.state.locationArray,handleChildSubmit:this.handleChildSubmit,clinicVal:this.state.selectedLocationIdList,location:!0,dateRangePick:!0,reportType:"cost_to_company"}),i.a.createElement("div",{className:"bg-light-blue juvly-container"},i.a.createElement("div",{className:"juvly-title"},this.state.salesLang.sales_cost_to_company),i.a.createElement("div",{className:"new-all-stats"},a.length>0&&a.map(function(e,t){var a=e.key.replace("total_invoices","sales").replace(/_/g," ");return i.a.createElement("div",{className:"stats-section",key:t},i.a.createElement("div",{className:"dash-box-title"},a),i.a.createElement("div",{className:"new-all-stats-content",id:"monthly_sales"},e.value))}))),i.a.createElement("div",{className:"table-responsive"},i.a.createElement("table",{className:"table-updated setting-table no-hover"},i.a.createElement("thead",{className:"table-updated-thead"},i.a.createElement("tr",null,this.state.reportHeader.length>0&&this.state.reportHeader.map(function(e,t){return i.a.createElement("td",{className:0==t?"col-xs-2 table-updated-th text-left":"col-xs-2 table-updated-th text-right",key:t},Object.values(e))}))),i.a.createElement("tbody",{className:"ajax_body"},this.state.reportDataValues.length>0&&this.state.reportDataValues.map(function(t,a){return i.a.createElement("tr",{className:"table-updated-tr"},e.state.reportHeader.length>0&&e.state.reportHeader.map(function(e,a){return i.a.createElement("td",{className:0==a?"col-xs-2 table-updated-th text-left":"col-xs-2 table-updated-th text-right"},t[Object.keys(e)])}))}),i.a.createElement("tr",{className:"table-updated-tr"},i.a.createElement("td",{className:"col-xs-3 table-updated-td"},i.a.createElement("b",null,this.state.salesLang.sales_total)),t.length>0&&t.slice(1).map(function(e,t){return i.a.createElement("td",{className:"col-xs-2 table-updated-td text-right",key:t},i.a.createElement("b",null,e.value))})))),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.salesLang.sales_please_wait)))))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return void 0!==e.CostToCompanyList&&200===e.CostToCompanyList.status&&t.CostToCompanyList!=e.CostToCompanyList.data?{CostToCompanyList:e.CostToCompanyList.data,sales_header:e.CostToCompanyList.data.sales_header,total:e.CostToCompanyList.data.total,reportDataValues:e.CostToCompanyList.data.report_data,locationArray:e.CostToCompanyList.data.clinics,reportHeader:e.CostToCompanyList.data.report_header,grouping:e.CostToCompanyList.data.grouping,showLoader:!1}:null}}]),t}(n.Component);var hu=Object(Z.b)(function(e){return JSON.parse(localStorage.getItem("languageData")),"COST_TO_COMPANY_LIST"!==e.SalesReducer.action?{}:200===e.SalesReducer.data.status?{CostToCompanyList:e.SalesReducer.data}:void 0},function(e){return Object(c.bindActionCreators)({fetchCostToCompany:Md},e)})(pu),gu=function(e){function t(e){var a,s;Object(ne.a)(this,t),(s=Object(re.a)(this,Object(oe.a)(t).call(this,e))).showDeleteModal=function(e){s.setState({showModal:!0,reminderId:e.currentTarget.dataset.userid})},s.showEditModal=function(e){s.setState({userId:e.currentTarget.dataset.userid})},s.dismissModal=function(){s.setState({showModal:!1})},s.handleChildSubmit=function(e){s.setState(e);var t={fromDate:e.fromDate,toDate:e.toDate,clinic_id:e.selectedLocationIdList,search_key:e.search_key};s.setState({showLoader:!0}),s.props.fetcheGiftCards(t)};JSON.parse(localStorage.getItem("userData"));var n=JSON.parse(localStorage.getItem("languageData"));return s.state=(a={sales_header:{},upDown:!1,report_header:{},monthlyNetValues:[],total_invoices:"",grouping:"",avg_gross_sales:"",avg_net_sales:"",gross_sales:"",net_sales:"",next_page_url:"",page:1,pagesize:15,hasMoreItems:!0,reminder_before:"",reminder_type:"",locationArray:[],eGiftCardsList:[],userChanged:!1,showLoadingText:!1},Object(se.a)(a,"hasMoreItems",!0),Object(se.a)(a,"startFresh",!0),Object(se.a)(a,"showLoader",!1),Object(se.a)(a,"showModal",!1),Object(se.a)(a,"noRecordDisplayEnable","no-record"),Object(se.a)(a,"noRecordDisplayDisable","no-record no-display"),Object(se.a)(a,"globalLang",n.global),Object(se.a)(a,"salesLang",n.sales),Object(se.a)(a,"showLoadingText",!1),Object(se.a)(a,"selectedLocationIdList",[]),Object(se.a)(a,"clinicObjList",{}),Object(se.a)(a,"to_date",Object(ss.b)(new Date,"YYYY-MM-DD")),Object(se.a)(a,"from_date",Object(ss.b)(new Date,"YYYY-MM-DD")),Object(se.a)(a,"graphData",[]),Object(se.a)(a,"reportHeader",[]),Object(se.a)(a,"reportDataValues",[]),Object(se.a)(a,"search_key",""),a),localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),s}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){JSON.parse(localStorage.getItem("languageData"));var e=localStorage.getItem("selectionRange"),t=e?JSON.parse(e):"",a={fromDate:t.startDate,toDate:t.endDate};this.setState({showLoader:!0}),this.props.fetcheGiftCards(a)}},{key:"shouldComponentUpdate",value:function(e,t){return!!this.state.startFresh||(!!this.state.loadMore||!!this.state.showLoader)}},{key:"render",value:function(){var e=this,t=[];null!=this.state.total&&(t=Object.entries(this.state.total).map(function(e){var t=Object(ye.a)(e,2);return{key:t[0],value:t[1]}}));var a=[];null!=this.state.total&&(a=Object.entries(this.state.sales_header).map(function(e){var t=Object(ye.a)(e,2);return{key:t[0],value:t[1]}}));var s=[];return this.state.reportHeader.map(function(e,t){s.push()}),i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(tm,null),i.a.createElement("div",{className:"setting-left-menu"},i.a.createElement(am,null)),i.a.createElement("div",{className:"juvly-section"},i.a.createElement(rm,Object(se.a)({locationArray:this.state.locationArray,handleChildSubmit:this.handleChildSubmit,reportType:"invoices",dateRangePick:!0,searchFocus:!0,searchShow:!0,search:!0,location:!0,searchVal:this.state.search_key,clinicVal:this.state.selectedLocationIdList},"reportType","egift_cards")),i.a.createElement("div",{className:"bg-light-blue juvly-container"},i.a.createElement("div",{className:"juvly-title"},"eGift cards"),i.a.createElement("div",{className:"new-all-stats"},a.length>0&&a.map(function(e,t){var a=e.key.replace("total_invoices","sales").replace(/_/g," ");return i.a.createElement("div",{className:"stats-section",key:t},i.a.createElement("div",{className:"dash-box-title"},a),i.a.createElement("div",{className:"new-all-stats-content",id:"monthly_sales"},e.value))}))),i.a.createElement("div",{className:"table-responsive"},i.a.createElement("table",{className:"table-updated setting-table no-hover"},i.a.createElement("thead",{className:"table-updated-thead"},i.a.createElement("tr",null,this.state.reportHeader.length>0&&this.state.reportHeader.map(function(e,t){return i.a.createElement("td",{className:0==t?"col-xs-2 table-updated-th text-left":"col-xs-2 table-updated-th text-right",key:t},Object.values(e))}))),i.a.createElement("tbody",{className:"ajax_body"},this.state.reportDataValues.length>0&&this.state.reportDataValues.map(function(t,a){return i.a.createElement("tr",{className:"table-updated-tr"},e.state.reportHeader.length>0&&e.state.reportHeader.map(function(e,a){return i.a.createElement("td",{className:0==a?"col-xs-2 table-updated-th text-left":"col-xs-2 table-updated-th text-right"},t[Object.keys(e)])}))}),i.a.createElement("tr",{className:"table-updated-tr"},i.a.createElement("td",{className:"col-xs-3 table-updated-td"},i.a.createElement("b",null,this.state.salesLang.sales_total)),t.length>0&&t.slice(1).map(function(e,t){return i.a.createElement("td",{className:"col-xs-2 table-updated-td text-right",key:t},i.a.createElement("b",null,e.value))})))),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.salesLang.sales_please_wait)))))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return void 0!==e.eGiftCardsList&&200===e.eGiftCardsList.status&&t.eGiftCardsList!=e.eGiftCardsList.data?{eGiftCardsList:e.eGiftCardsList.data,sales_header:e.eGiftCardsList.data.sales_header,total:e.eGiftCardsList.data.total,reportDataValues:e.eGiftCardsList.data.report_data,locationArray:e.eGiftCardsList.data.clinics,reportHeader:e.eGiftCardsList.data.report_header,grouping:e.eGiftCardsList.data.grouping,showLoader:!1}:null}}]),t}(n.Component);var _u=Object(Z.b)(function(e){return JSON.parse(localStorage.getItem("languageData")),"EGIFT_CARDS_LIST"!==e.SalesReducer.action?{}:200===e.SalesReducer.data.status?{eGiftCardsList:e.SalesReducer.data}:void 0},function(e){return Object(c.bindActionCreators)({fetcheGiftCards:Ud},e)})(gu),vu=Ee.API_URL,fu=Q.a.create();fu.defaults.headers.common["access-token"]=xe(),Xe(),fu.interceptors.response.use(function(e){return void 0!=e.data&&void 0!=e.data.global_settings&&He(e.data.global_settings),Xe(),e},function(e){if(e.response){var t=e.response.data.message;return"invalid_token"!=t&&"session_timeout"!=t&&"server_error"!=t&&"token_not_found"!=t||Oe(),Promise.reject(e)}return{data:{data:"",message:"server_error",status:500}}});var bu,Eu=function(e,t){var a="active"==e?"INVENTORY_PRODUCT_LIST_ACTIVE":"INVENTORY_PRODUCT_LIST_INACTIVE";return function(s){fu.get(vu+"inventory/products/"+e+"?scopes=category",t).then(function(e){s({type:a,payload:e.data})}).catch(function(e){console.log(e),s({type:a,payload:e.response.data})})}},yu=function(e){return function(t){fu.get(vu+"inventory/product_categories",e).then(function(e){t({type:"CATEGORY_LIST",payload:e.data})}).catch(function(e){console.log(e),t({type:"CATEGORY_LIST",payload:e.response.data})})}},Nu=function(e){return function(t){fu.get(vu+"discount_packages",e).then(function(e){t({type:"PACKAGES_LIST",payload:e.data})}).catch(function(e){console.log(e),t({type:"PACKAGES_LIST",payload:e.response.data})})}},Su=function(e){return function(t){fu.get(vu+"discount_groups",e).then(function(e){t({type:"DISCOUNT_GROUP_LIST",payload:e.data})}).catch(function(e){console.log(e),t({type:"DISCOUNT_GROUP_LIST",payload:e.response.data})})}},Du=function(e){return function(t){fu.get(vu+"egift_cards",e).then(function(e){t({type:"EGIFT_CARD_LIST",payload:e.data})}).catch(function(e){console.log(e),t({type:"EGIFT_CARD_LIST",payload:e.response.data})})}},wu=function(e,t){return function(a){fu.put(vu+"egift_cards/"+t,e||"").then(function(e){a({type:"UPDATE_EGIFTCARD",payload:e.data})}).catch(function(e){a({type:"UPDATE_EGIFTCARD",payload:e.response.data})})}},Cu=function(e){return function(t){fu.post(vu+"egift_cards",e||"").then(function(e){t({type:"CREATE_EGIFTCARD",payload:e.data})}).catch(function(e){t({type:"CREATE_EGIFTCARD",payload:e.response.data})})}},xu=function(e){return function(t){fu.delete(vu+"egift_cards/"+e).then(function(e){t({type:"DELETE_EGIFTCARD",payload:e.data})}).catch(function(e){t({type:"DELETE_EGIFTCARD",payload:e.response.data})})}},Lu=function(e){return function(t){fu.get(vu+"egift_cards/"+e).then(function(e){t({type:"FETCH_SELECTED_EGIFTCARD",payload:e.data})}).catch(function(e){t({type:"FETCH_SELECTED_EGIFTCARD",payload:e.response.data})})}},Ou=function(e){return function(t){fu.post(vu+"discount_groups/0",e||"").then(function(e){t({type:"CREATE_DISCOUNT_GROUP",payload:e.data})}).catch(function(e){t({type:"CREATE_DISCOUNT_GROUP",payload:e.response.data})})}},Au=function(e){return function(t){fu.get(vu+"discount_groups/"+e).then(function(e){t({type:"FETCH_SELECTED_DISCOUNT_GROUP",payload:e.data})}).catch(function(e){t({type:"FETCH_SELECTED_DISCOUNT_GROUP",payload:e.response.data})})}},Tu=function(e,t){return function(a){fu.put(vu+"discount_groups/"+t,e||"").then(function(e){a({type:"UPDATE_DISCOUNT_GROUP",payload:e.data})}).catch(function(e){a({type:"UPDATE_DISCOUNT_GROUP",payload:e.response.data})})}},Iu=function(e){return function(t){fu.delete(vu+"discount_groups/"+e).then(function(e){t({type:"DELETE_DISCOUNT_GROUP",payload:e.data})}).catch(function(e){t({type:"DELETE_DISCOUNT_GROUP",payload:e.response.data})})}},Ru=function(e,t){return function(a){fu.post(vu+"discount_groups/add-product/"+t,e||"").then(function(e){a({type:"ADD_DISCOUNT_GROUP_PRODUCT",payload:e.data})}).catch(function(e){a({type:"ADD_DISCOUNT_GROUP_PRODUCT",payload:e.response.data})})}},ku=function(e,t){return function(a){fu.delete(vu+"discount_groups/delete-product/"+t,e||"").then(function(e){a({type:"DELETE_DISCOUNT_GROUP_PRODUCT",payload:e.data})}).catch(function(e){a({type:"DELETE_DISCOUNT_GROUP_PRODUCT",payload:e.response.data})})}},Pu=function(e){return function(t){fu.post(vu+"product_categories",e||"").then(function(e){t({type:"CREATE_CATEGORY",payload:e.data})}).catch(function(e){t({type:"CREATE_CATEGORY",payload:e.response.data})})}},ju=function(){return function(e){fu.get(vu+"list_clinics").then(function(t){e({type:"FETCH_CLINICS",payload:t.data})}).catch(function(t){e({type:"FETCH_CLINICS",payload:t.response.data})})}},Mu=function(e){return function(t){fu.get(vu+"product_categories/"+e).then(function(e){t({type:"FETCH_SELECTED_CATEGORY",payload:e.data})}).catch(function(e){t({type:"FETCH_SELECTED_CATEGORY",payload:e.response.data})})}},Uu=function(e,t){return function(a){fu.put(vu+"product_categories/"+t,e||"").then(function(e){a({type:"UPDATE_CATEGORIES",payload:e.data})}).catch(function(e){a({type:"UPDATE_CATEGORIES",payload:e.response.data})})}},Fu=function(e){return function(t){fu.delete(vu+"product_categories/"+e).then(function(e){t({type:"DELETE_CATEGORIES",payload:e.data})}).catch(function(e){t({type:"DELETE_CATEGORIES",payload:e.response.data})})}},Bu=function(){return function(e){fu.post(vu+"product_categories/deactivate-all",{}).then(function(t){e({type:"DEACTIVATE_ALL_CATEGORIES",payload:t.data})}).catch(function(t){e({type:"DEACTIVATE_ALL_CATEGORIES",payload:t.response.data})})}},qu=function(e){return function(t){fu.get(vu+"products/"+e).then(function(e){t({type:"PRODUCT_DEFAULT_DATA",payload:e.data})}).catch(function(e){t({type:"PRODUCT_DEFAULT_DATA",payload:e.response.data})})}},Yu=function(e){return function(t){fu.post(vu+"product/is-product-available",e).then(function(e){t({type:"IS_PRODUCT_AVAILABLE",payload:e.data})}).catch(function(e){t({type:"IS_PRODUCT_AVAILABLE",payload:e.response.data})})}},Hu=function(e){return function(t){fu.post(vu+"products/"+e.productId,e).then(function(e){t({type:"PRODUCT_ADDED",payload:e.data})}).catch(function(e){t({type:"PRODUCT_ADDED",payload:e.response.data})})}},Gu=function(e){return function(t){fu.delete(vu+"products/"+e).then(function(e){t({type:"PRODUCT_DELETED",payload:e.data})}).catch(function(e){t({type:"PRODUCT_DELETED",payload:e.response.data})})}},Vu=function(){return function(e){e({type:"RESET_ACTION"})}},zu=function(e,t){return function(a){fu.get(vu+"product_categories/export/"+t,e).then(function(e){a({type:"EXPORT_DATA",payload:e.data})}).catch(function(e){a({type:"EXPORT_DATA",payload:e.response.data})})}},Wu=function(e,t){return function(a){fu.get(vu+"inventory/export-products/"+t,e).then(function(e){a({type:"EXPORT_PRODUCT_DATA",payload:e.data})}).catch(function(e){a({type:"EXPORT_PRODUCT_DATA",payload:e.response.data})})}},Ju=function(e){return function(t){fu.get(vu+"discount_packages/"+e).then(function(e){t({type:"DEFAULT_PACKAGE_DATA",payload:e.data})}).catch(function(e){t({type:"DEFAULT_PACKAGE_DATA",payload:e.response.data})})}},Qu=function(e){return function(t){e.packageId?fu.put(vu+"discount_packages/"+e.packageId,e).then(function(e){t({type:"SAVE_PACKAGE_DATA",payload:e.data})}).catch(function(e){t({type:"SAVE_PACKAGE_DATA",payload:e.response.data})}):fu.post(vu+"discount_packages/"+e.packageId,e).then(function(e){t({type:"SAVE_PACKAGE_DATA",payload:e.data})}).catch(function(e){t({type:"SAVE_PACKAGE_DATA",payload:e.response.data})})}},Ku=function(e,t){return function(a){fu.get(vu+"discount-packages/search-product",e).then(function(e){var s="";"bogo_product"==t?s="BOGO_PRODUCT_LIST":"bogo_free_product"==t?s="BOGO_FREE_PRODUCT_LIST":"package"==t&&(s="PACKAGE_PRODUCT_LIST"),a({type:s,payload:e.data})}).catch(function(e){var s="";"bogo_product"==t?s="BOGO_PRODUCT_LIST":"bogo_free_product"==t?s="BOGO_FREE_PRODUCT_LIST":"package"==t&&(s="PACKAGE_PRODUCT_LIST"),a({type:s,payload:e.response.data})})}},Xu=function(e,t){return function(e){e({type:"EMPTY_INVENTROY"})}},Zu=function(e){return function(t){fu.delete(vu+"discount_packages/"+e).then(function(e){t({type:"DELETE_DISCOUNT_PACKAGE",payload:e.data})}).catch(function(e){t({type:"DELETE_DISCOUNT_PACKAGE",payload:e.response.data})})}},$u=function(e){return function(t){fu.post(vu+"product/activate/"+e).then(function(e){t({type:"ACTIVATE_PRODUCT",payload:e.data})}).catch(function(e){t({type:"ACTIVATE_PRODUCT",payload:e.response.data})})}};function ep(e){return function(e){e({type:"EMPTY_DATA",payload:{data:"",status:200,message:""}})}}var tp=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,s="checkbox"===t.type?t.checked:t.value;a.setState(Object(se.a)({},e.target.name,s))},a.componentDidUpdate=function(e,t){if("inactive"!=a.state.action){var s={params:{page:1,pagesize:a.state.pagesize,sortorder:"asc",term:"",action:"inactive"}};null!=a.state.filter_by_category_id&&""!=a.state.filter_by_category_id&&void 0!=a.state.filter_by_category_id&&(s.params.filter_by_category_id=a.state.filter_by_category_id),a.setState({action:a.props.match.params.statusId,InventoryData:[],showLoader:!0}),a.props.fetchInventoryData(a.props.match.params.statusId,s)}},a.handleSubmit=function(e){e.preventDefault(),localStorage.setItem("sortOnly",!0),localStorage.setItem("showLoader",!0);var t={params:{page:1,pagesize:a.state.pagesize,sortorder:"asc",sortby:"product_name",term:a.state.term,show_below_stock:0==a.state.show_below_stock?0:1,action:a.state.action}};null!=a.state.filter_by_category_id&&""!=a.state.filter_by_category_id&&void 0!=a.state.filter_by_category_id&&(t.params.filter_by_category_id=a.state.filter_by_category_id),a.setState({page:1,pagesize:a.state.pagesize,startFresh:!0,loadMore:!0,next_page_url:"",InventoryData:[],showLoader:!0,filterValue:"false"}),a.props.fetchInventoryData(a.state.action,t)},a.onSort=function(e){var t="asc"===a.state.sortorder?"desc":"asc",s={params:{page:1,pagesize:a.state.pagesize,sortby:e,sortorder:t,term:a.state.term,show_below_stock:0==a.state.show_below_stock?0:1,filter_by_category_id:a.state.filter_by_category_id}};null!=a.state.filter_by_category_id&&""!=a.state.filter_by_category_id&&void 0!=a.state.filter_by_category_id&&(s.params.filter_by_category_id=a.state.filter_by_category_id),a.setState({page:1,pagesize:a.state.pagesize,sortby:e,sortorder:t,loadMore:!0,startFresh:!0,showLoader:!0,next_page_url:"",InventoryData:[]}),localStorage.setItem("sortOnly",!0),a.props.fetchInventoryData(a.state.action,s)},a.loadMore=function(){localStorage.setItem("sortOnly",!1),a.setState({loadMore:!0,startFresh:!0,showLoader:!1,showLoadingText:!0});var e={params:{page:a.state.page,pagesize:a.state.pagesize,sortorder:"asc",sortby:"product_name",term:a.state.term,action:a.state.action}};null!=a.state.filter_by_category_id&&""!=a.state.filter_by_category_id&&void 0!=a.state.filter_by_category_id&&(e.params.filter_by_category_id=a.state.filter_by_category_id),a.setState({showLoader:!0}),a.props.fetchInventoryData(a.state.action,e)},a.inventoryEdit=function(e,t){return i.a.createElement("div",null,a.props.history.push("/inventory/product/edit/".concat(e)))},a.onFilter=function(){a.setState({filterValue:!0})},a.onReset=function(){localStorage.setItem("sortOnly",!0);var e={params:{page:1,pagesize:a.state.pagesize,sortorder:"asc",sortby:"product_name",term:"",show_below_stock:0,action:a.state.action}};a.setState({page:1,pagesize:a.state.pagesize,sortorder:"asc",sortby:"product_name",startFresh:!0,loadMore:!0,next_page_url:"",InventoryData:[],showLoader:!0,filterValue:"false",term:"",show_below_stock:0,filter_by_category_id:""}),a.props.fetchInventoryData(a.state.action,e)},a.exportProducts=function(e){var t={params:{page:1,pagesize:a.state.pagesize,sortorder:"asc",term:a.state.term,show_below_stock:0==a.state.show_below_stock?0:1,action:a.state.action}};null!=a.state.filter_by_category_id&&""!=a.state.filter_by_category_id&&void 0!=a.state.filter_by_category_id&&(t.params.filter_by_category_id=a.state.filter_by_category_id),localStorage.setItem("showLoader",!0),a.setState({showExportOptions:!1,showStatusOptions:!1}),t.params.product_status="active",a.props.exportProducts(t,e)};JSON.parse(localStorage.getItem("userData"));var s=JSON.parse(localStorage.getItem("languageData"));return a.state={loadMore:!0,startFresh:!0,showLoader:!1,page:1,pagesize:15,term:"",hasMoreItems:!0,next_page_url:"",searchFunction:"",user_changed:!1,tabClicked:!1,InventoryData:[],defaultImage:"inventory-product-img",data:[],childCheck:!1,action:"inactive",sortorder:"",sortby:"product_name",scopes:"category",selected:[],selectAll:0,filterValue:!1,categoryName:"",show_below_stock:0,filter_by_category_id:"",globalLang:s.global,inventoryLang:s.inventory,showLoadingText:!1,timeStamp:new Date},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),window.onscroll=function(){var e=parseInt(Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop));window.innerHeight+e===document.documentElement.offsetHeight&&null!=a.state.next_page_url&&a.loadMore()},0!=document.body.scrollTop||0!=document.documentElement.scrollTop?(window.scrollBy(0,-50),bu=setTimeout("scrollToTop()",10)):clearTimeout(bu),a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e={params:{page:this.state.page,pagesize:this.state.pagesize,sortorder:"asc",sortby:"product_name",term:this.state.term,action:this.state.action}};this.state.filter_by_category_id&&(e.filter_by_category_id=this.state.filter_by_category_id),this.setState({action:"inactive"}),null!=this.state.filter_by_category_id&&""!=this.state.filter_by_category_id&&void 0!=this.state.filter_by_category_id&&(e.params.filter_by_category_id=this.state.filter_by_category_id),this.setState({showLoader:!0}),0!=document.body.scrollTop||0!=document.documentElement.scrollTop?(window.scrollBy(0,-50),bu=setTimeout("scrollToTop()",10)):clearTimeout(bu),this.props.fetchInventoryData(this.state.action,e)}},{key:"shouldComponentUpdate",value:function(e,t){return!!this.state.startFresh||(!!this.state.loadMore||!!this.state.showLoader)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(np,{handleAnchor:this.handleAnchor}),i.a.createElement("div",{className:"juvly-section full-width"},i.a.createElement("div",{className:"setting-search-outer"},i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("div",{className:"search-bg new-search"},i.a.createElement("i",{className:"fas fa-search"}),i.a.createElement("input",{className:"setting-search-input search-key",placeholder:this.state.inventoryLang.inventory_search,name:"term",autoComplete:"off",value:this.state.term,onChange:this.handleInputChange}))),i.a.createElement("a",{name:"filter",className:"new-line-btn no-width",onClick:this.onFilter},this.state.inventoryLang.inventory_filter_btn_text),i.a.createElement("a",{name:"reset",className:"new-line-btn no-width",onClick:this.onReset},this.state.inventoryLang.inventory_Reset),i.a.createElement(me.a,{to:"/inventory/product/add",className:"new-blue-btn pull-right m-l-10"},this.state.inventoryLang.inventory_Add_Product)),i.a.createElement("div",{className:"table-responsive"},i.a.createElement("table",{className:"table-updated juvly-table"},i.a.createElement("thead",{className:"table-updated-thead"},i.a.createElement("tr",null,i.a.createElement("th",{className:"col-xs-6 table-updated-th cursor-pointer sorting",onClick:function(){return e.onSort("product_name")},"data-sort":"product_name","data-order":"DESC"},this.state.inventoryLang.inventory_Product_Name,i.a.createElement("i",{className:"asc"===this.state.sortorder&&"product_name"===this.state.sortby?"blue-gray":"desc"===this.state.sortorder&&"product_name"===this.state.sortby?"gray-blue":"gray-gray"})),i.a.createElement("th",{className:"col-xs-5 table-updated-th cursor-pointer sorting",onClick:function(){return e.onSort("category_name")},"data-sort":"category_name","data-order":"DESC"},this.state.inventoryLang.inventory_Category,i.a.createElement("i",{className:"asc"===this.state.sortorder&&"category_name"===this.state.sortby?"blue-gray":"desc"===this.state.sortorder&&"category_name"===this.state.sortby?"gray-blue":"gray-gray"})),i.a.createElement("th",{className:"col-xs-1 table-updated-th cursor-pointer"}))),i.a.createElement("tbody",null,void 0!==this.state.InventoryData&&this.state.InventoryData.map(function(t,a){e.state.action;return i.a.createElement("tr",{className:"table-updated-tr",key:a},i.a.createElement("td",{className:"table-updated-td text-ellipsis inentory-product-name"},i.a.createElement("img",{className:"inventory-product-img",src:t.product_image_url?t.product_image_url:"/../../images/no-photo.png"}),t.product_name?t.product_name:""),i.a.createElement("td",{className:"table-updated-td text-ellipsis"},t.category?t.category.category_name:""),i.a.createElement("td",{className:"table-updated-td"},i.a.createElement("button",{className:"line-btn table-btn pull-right",onClick:function(){return e.props.activateProduct(t.id)}},"Activate")))}))),!1===this.state.showLoader&&i.a.createElement("div",{className:void 0!=this.state.InventoryData&&0==this.state.InventoryData.length?"no-record":"no-record no-display"},i.a.createElement("div",{className:"",style:{float:"left",width:"100%",fontSize:"13px",textAlign:"center",marginTop:"0px",padding:"0px"}},this.state.inventoryLang.inventory_No_record_found)),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.globalLang.Please_Wait))))),i.a.createElement("div",{className:this.state.showLoadingText?"loading-please-wait":"loading-please-wait no-display "},this.state.globalLang.loading_please_wait_text)),i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("div",{className:!0===this.state.filterValue?"modalOverlay":"modalOverlay no-display"},i.a.createElement("div",{className:"small-popup-outer"},i.a.createElement("div",{className:"small-popup-header"},i.a.createElement("div",{className:"popup-name"},this.state.inventoryLang.inventory_Filter_Products),i.a.createElement("a",{name:"cross",className:"small-cross",onClick:function(){e.setState({filterValue:"false"})}},"\xd7")),i.a.createElement("div",{className:"small-popup-content"},i.a.createElement("div",{className:"juvly-container no-padding-bottom"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer m-b-20"},i.a.createElement("div",{className:"new-field-label"},this.state.inventoryLang.inventory_Category),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("select",{name:"filter_by_category_id",className:"setting-select-box",onChange:this.handleInputChange,value:this.state.filter_by_category_id},i.a.createElement("option",{value:"",disabled:!0,defaultValue:!0},this.state.inventoryLang.inventory_Please_Select_Option," "),void 0!==this.state.CategoryData&&this.state.CategoryData.map(function(e,t){return i.a.createElement("option",{value:e.id,key:t},e.category_name&&e.category_name?e.category_name:"")}))))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"basic-checkbox-outer m-b-30"},i.a.createElement("input",{id:"yes",className:"basic-form-checkbox no-margin-top",name:"show_below_stock",type:"checkbox",value:"0",checked:"0"==this.state.show_below_stock?0:1,onChange:this.handleInputChange}),i.a.createElement("label",{className:"basic-form-text",htmlFor:"yes"},this.state.inventoryLang.inventory_Products_below_stock_alert)))))),i.a.createElement("div",{className:"footer-static"},i.a.createElement("input",{className:"new-blue-btn pull-right",id:"apply",type:"Submit",defaultValue:this.state.inventoryLang.inventory_Apply}),i.a.createElement("a",{name:"cancel",className:"new-white-btn pull-right",onClick:function(){e.setState({filterValue:"false"})}},this.state.inventoryLang.inventory_Cancel))))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(void 0!=e.exportCsvData&&t.timeStamp!=e.timeStamp)"false"==localStorage.getItem("showLoader")&&(localStorage.setItem("showLoader",!0),window.open(e.exportCsvData.file)),e.emptyInventoryReducer();else if(void 0!=e.showLoader&&0==e.showLoader)return e.emptyInventoryReducer(),{showLoader:!1};if(void 0!=e.InventoryData&&(e.InventoryData.data.next_page_url!==t.next_page_url||e.InventoryData.action!=t.action)&&"false"==localStorage.getItem("showLoader")){if(!0===t.tabClicked)return{tabClicked:!1,InventoryData:[]};var a={};return null==t.next_page_url&&e.InventoryData.action==t.action?a.next_page_url=null:(0==t.InventoryData.length&&1==t.startFresh?"false"==localStorage.getItem("sortOnly")?(a.InventoryData=e.InventoryData.data,a.CategoryData=e.InventoryData.category_list,null!=e.InventoryData.next_page_url?a.page=t.page+1:(a.next_page_url=e.InventoryData.next_page_url,a.showLoader=!1),a.startFresh=!1,a.showLoader=!1,a.showLoadingText=!1):localStorage.setItem("sortOnly",!1):t.InventoryData!=e.InventoryData.data&&0!=t.InventoryData.length&&(!1===t.tabClicked?(a.InventoryData=Object(oa.a)(t.InventoryData).concat(Object(oa.a)(e.InventoryData.data)),a.selectAll=0,a.showLoader=!1):(a.tabClicked=!1,a.showLoader=!1),a.total=e.InventoryData.total,a.page=t.page+1,a.next_page_url=e.InventoryData.next_page_url,a.CategoryData=e.InventoryData.category_list,a.showLoader=!1,a.showLoadingText=!1),a)}return null}}]),t}(n.Component);var ap,sp=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData")),a={};return localStorage.setItem("showLoader",!1),localStorage.setItem("sortOnly",!1),"INVENTORY_PRODUCT_LIST_INACTIVE"===e.InventoryReducer.action&&(200===e.InventoryReducer.data.status?a.InventoryData=e.InventoryReducer.data.data:(rt.toast.error(t.global[e.InventoryReducer.data.message]),a.showLoader=!1,a.timeStamp=new Date)),"EXPORT_PRODUCT_DATA"===e.InventoryReducer.action&&(200===e.InventoryReducer.data.status?(a.exportCsvData=e.InventoryReducer.data.data,a.timeStamp=new Date):(rt.toast.error(t.global[e.InventoryReducer.data.message]),a.showLoader=!1,a.timeStamp=new Date)),"ACTIVATE_PRODUCT"===e.InventoryReducer.action&&(200!=e.InventoryReducer.data.status?a.showLoader=!1:a.message=t.global[e.InventoryReducer.data.message]),e.InventoryReducer.action,a},function(e){return Object(c.bindActionCreators)({fetchInventoryData:Eu,exportProducts:Wu,emptyInventoryReducer:Xu,activateProduct:$u},e)})(Object(de.a)(tp)),np=function(e){function t(e){var a;Object(ne.a)(this,t),a=Object(re.a)(this,Object(oe.a)(t).call(this,e));JSON.parse(localStorage.getItem("userData"));var s=JSON.parse(localStorage.getItem("languageData"));return a.state={globalLang:s.global,inventoryLang:s.inventory,showLoadingText:!1},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"render",value:function(){var e=window.location.href.split("/");return i.a.createElement("div",null,i.a.createElement("ul",{className:"sub-menu"},Te("view-products-inventory")&&i.a.createElement("li",null,i.a.createElement(me.a,{to:"/inventory/products/active",className:"active"==e[e.length-1]?"active":"",name:"ProductsActive"},this.state.inventoryLang.inventory_Products_Active)),Te("view-products-inventory")&&i.a.createElement("li",null,i.a.createElement(me.a,{to:"/inventory/products/inactive",className:"inactive"==e[e.length-1]?"active":"",name:"ProductsInactive"},this.state.inventoryLang.ar_products_directory)),Te("view-product-categories")&&i.a.createElement("li",null,i.a.createElement(me.a,{to:"/inventory/products-categories",className:"products-categories"==e[e.length-1]?"active":"",name:"categories"},this.state.inventoryLang.inventory_Categories)),i.a.createElement("li",null,i.a.createElement(me.a,{to:"/inventory/discount-packages",className:"discount-packages"==e[e.length-1]?"active":"",name:"DiscountPackages"},this.state.inventoryLang.inventory_Discount_Packages)),i.a.createElement("li",null,i.a.createElement(me.a,{to:"/inventory/discount-groups",className:"discount-groups"==e[e.length-1]?"active":"",name:"DiscountGroups"},this.state.inventoryLang.inventory_Discount_Groups)),i.a.createElement("li",null,i.a.createElement(me.a,{to:"/inventory/e-giftcards",className:"e-giftcards"==e[e.length-1]?"active":"",name:"eGiftCards"},this.state.inventoryLang.inventory_eGift_Cards))))}}]),t}(n.Component),ip=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,s="checkbox"===t.type?t.checked:t.value;a.setState(Object(se.a)({},e.target.name,s))},a.componentDidUpdate=function(e,t){if("active"!=a.state.action){var s={params:{page:1,pagesize:a.state.pagesize,sortorder:"asc",term:"",action:"active"}};null!=a.state.filter_by_category_id&&""!=a.state.filter_by_category_id&&void 0!=a.state.filter_by_category_id&&(s.params.filter_by_category_id=a.state.filter_by_category_id),a.setState({action:a.props.match.params.statusId,InventoryData:[],showLoader:!0}),a.props.fetchInventoryData(a.props.match.params.statusId,s)}},a.handleSubmit=function(e){e.preventDefault(),localStorage.setItem("sortOnly",!0),localStorage.setItem("showLoader",!0);var t={params:{page:1,pagesize:a.state.pagesize,sortorder:"asc",sortby:"product_name",term:a.state.term,show_below_stock:0==a.state.show_below_stock?0:1,action:a.state.action}};null!=a.state.filter_by_category_id&&""!=a.state.filter_by_category_id&&void 0!=a.state.filter_by_category_id&&(t.params.filter_by_category_id=a.state.filter_by_category_id),a.setState({page:1,pagesize:a.state.pagesize,sortorder:"asc"==a.state.sortorder?"desc":"asc",startFresh:!0,loadMore:!0,next_page_url:"",InventoryData:[],showLoader:!0,filterValue:"false"}),a.props.fetchInventoryData(a.state.action,t)},a.onSort=function(e){var t="asc"===a.state.sortorder?"desc":"asc",s={params:{page:1,pagesize:a.state.pagesize,sortby:e,sortorder:t,term:a.state.term}};null!=a.state.filter_by_category_id&&""!=a.state.filter_by_category_id&&void 0!=a.state.filter_by_category_id&&(s.params.filter_by_category_id=a.state.filter_by_category_id),a.setState({page:1,pagesize:a.state.pagesize,sortby:e,sortorder:t,loadMore:!0,startFresh:!0,showLoader:!0,next_page_url:"",InventoryData:[]}),localStorage.setItem("sortOnly",!0),a.props.fetchInventoryData(a.state.action,s)},a.loadMore=function(){localStorage.setItem("sortOnly",!1),a.setState({loadMore:!0,startFresh:!0,showLoader:!1,showLoadingText:!0});var e={params:{page:a.state.page,pagesize:a.state.pagesize,sortorder:"asc",sortby:"product_name",term:a.state.term,action:a.state.action}};null!=a.state.filter_by_category_id&&""!=a.state.filter_by_category_id&&void 0!=a.state.filter_by_category_id&&(e.params.filter_by_category_id=a.state.filter_by_category_id),a.setState({showLoader:!0}),a.props.fetchInventoryData(a.state.action,e)},a.inventoryEdit=function(e,t){return i.a.createElement("div",null,a.props.history.push("/inventory/product/edit/".concat(e)))},a.onFilter=function(e){a.setState({filterValue:!0},function(){})},a.onReset=function(e){localStorage.setItem("sortOnly",!0);var t={params:{page:1,pagesize:a.state.pagesize,sortorder:"asc",sortby:"product_name",term:"",show_below_stock:0,action:a.state.action}};a.setState({page:1,pagesize:a.state.pagesize,sortorder:"asc",sortby:"product_name",startFresh:!0,loadMore:!0,next_page_url:"",InventoryData:[],showLoader:!0,filterValue:"false",term:"",show_below_stock:0,filter_by_category_id:""}),a.props.fetchInventoryData(a.state.action,t)},a.exportProducts=function(e){var t={params:{page:1,pagesize:a.state.pagesize,sortorder:"asc",sortby:"product_name",term:a.state.term,show_below_stock:0==a.state.show_below_stock?0:1,action:a.state.action}};null!=a.state.filter_by_category_id&&""!=a.state.filter_by_category_id&&void 0!=a.state.filter_by_category_id&&(t.params.filter_by_category_id=a.state.filter_by_category_id),localStorage.setItem("showLoader",!0),a.setState({showExportOptions:!1,showStatusOptions:!1}),t.params.product_status="active",a.props.exportProducts(t,e)};JSON.parse(localStorage.getItem("userData"));var s=JSON.parse(localStorage.getItem("languageData"));return a.state={loadMore:!0,startFresh:!0,showLoader:!1,page:1,pagesize:15,term:"",hasMoreItems:!0,next_page_url:"",searchFunction:"",user_changed:!1,tabClicked:!1,InventoryData:[],defaultImage:"inventory-product-img",data:[],childCheck:!1,action:"active",sortorder:"",sortby:"product_name",scopes:"category",selected:[],selectAll:0,filterValue:!1,categoryName:"",show_below_stock:0,filter_by_category_id:"",globalLang:s.global,inventoryLang:s.inventory,showLoadingText:!1,timeStamp:new Date},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),window.onscroll=function(){var e=parseInt(Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop));window.innerHeight+e===document.documentElement.offsetHeight&&null!=a.state.next_page_url&&a.loadMore()},0!=document.body.scrollTop||0!=document.documentElement.scrollTop?(window.scrollBy(0,-50),ap=setTimeout("scrollToTop()",10)):clearTimeout(ap),a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e={params:{page:this.state.page,pagesize:this.state.pagesize,sortorder:"asc",sortby:"product_name",term:this.state.term,action:this.state.action}};this.state.filter_by_category_id&&(e.filter_by_category_id=this.state.filter_by_category_id),this.setState({action:"active"}),null!=this.state.filter_by_category_id&&""!=this.state.filter_by_category_id&&void 0!=this.state.filter_by_category_id&&(e.params.filter_by_category_id=this.state.filter_by_category_id),this.setState({showLoader:!0}),0!=document.body.scrollTop||0!=document.documentElement.scrollTop?(window.scrollBy(0,-50),ap=setTimeout("scrollToTop()",10)):clearTimeout(ap),this.props.fetchInventoryData(this.state.action,e)}},{key:"shouldComponentUpdate",value:function(e,t){return!!this.state.startFresh||(!!this.state.loadMore||!!this.state.showLoader)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(np,{handleAnchor:this.handleAnchor}),i.a.createElement("div",{className:"juvly-section full-width"},i.a.createElement("div",{className:"setting-search-outer"},i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("div",{className:"search-bg new-search"},i.a.createElement("i",{className:"fas fa-search"}),i.a.createElement("input",{className:"setting-search-input search-key",placeholder:this.state.inventoryLang.inventory_search,name:"term",autoComplete:"off",value:this.state.term,onChange:this.handleInputChange}))),i.a.createElement("a",{name:"filter",className:"new-line-btn no-width",onClick:this.onFilter},this.state.inventoryLang.inventory_filter_btn_text),i.a.createElement("a",{name:"reset",className:"new-line-btn no-width",onClick:this.onReset},this.state.inventoryLang.inventory_Reset),i.a.createElement(me.a,{to:"/inventory/product/add",className:"new-blue-btn pull-right m-l-10"},this.state.inventoryLang.inventory_Add_Product)),i.a.createElement("div",{className:"table-responsive"},i.a.createElement("table",{className:"table-updated juvly-table"},i.a.createElement("thead",{className:"table-updated-thead"},i.a.createElement("tr",null,i.a.createElement("th",{className:"col-xs-3 table-updated-th cursor-pointer sorting",onClick:function(){return e.onSort("product_name")},"data-sort":"product_name","data-order":"DESC"},this.state.inventoryLang.inventory_Product_Name,i.a.createElement("i",{className:"asc"===this.state.sortorder&&"product_name"===this.state.sortby?"blue-gray":"desc"===this.state.sortorder&&"product_name"===this.state.sortby?"gray-blue":"gray-gray"})),i.a.createElement("th",{className:"col-xs-2 table-updated-th"},this.state.inventoryLang.inventory_active),i.a.createElement("th",{className:"col-xs-2 table-updated-th cursor-pointer sorting",onClick:function(){return e.onSort("available_stock")},"data-sort":"available_stock","data-order":"DESC"},this.state.inventoryLang.Inventory,i.a.createElement("i",{className:"asc"===this.state.sortorder&&"available_stock"===this.state.sortby?"blue-gray":"desc"===this.state.sortorder&&"available_stock"===this.state.sortby?"gray-blue":"gray-gray"})),i.a.createElement("th",{className:"col-xs-2 table-updated-th cursor-pointer sorting",onClick:function(){return e.onSort("category_name")},"data-sort":"category_name","data-order":"DESC"},this.state.inventoryLang.inventory_Category,i.a.createElement("i",{className:"asc"===this.state.sortorder&&"category_name"===this.state.sortby?"blue-gray":"desc"===this.state.sortorder&&"category_name"===this.state.sortby?"gray-blue":"gray-gray"})))),i.a.createElement("tbody",null,void 0!==this.state.InventoryData&&this.state.InventoryData.map(function(t,a){var s=e.state.action;return i.a.createElement("tr",{className:"table-updated-tr",onClick:e.inventoryEdit.bind(e,t.id,s),key:a},i.a.createElement("td",{className:"table-updated-td text-ellipsis inentory-product-name"},i.a.createElement("img",{className:"inventory-product-img",src:t.product_image_url?t.product_image_url:"/../../images/no-photo.png"}),t.product_name?t.product_name:""),i.a.createElement("td",{className:"table-updated-td text-ellipsis"},t.is_product_active&&1===t.is_product_active?"Yes":"No"),i.a.createElement("td",{className:"table-updated-td text-ellipsis"},t.available_stock&&0===t.available_stock?"N/A":Ie(t.available_stock,"decimal",2)," ",e.state.inventoryLang.inventory_in_stock),i.a.createElement("td",{className:"table-updated-td text-ellipsis"},t.category?t.category.category_name:""))}))),!1===this.state.showLoader&&i.a.createElement("div",{className:void 0!=this.state.InventoryData&&0==this.state.InventoryData.length?"no-record":"no-record no-display"},i.a.createElement("div",{className:"",style:{float:"left",width:"100%",fontSize:"13px",textAlign:"center",marginTop:"0px",padding:"0px"}},this.state.inventoryLang.inventory_No_record_found)),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.globalLang.Please_Wait))))),i.a.createElement("div",{className:this.state.showLoadingText?"loading-please-wait":"loading-please-wait no-display "},this.state.globalLang.loading_please_wait_text)),i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("div",{className:!0===this.state.filterValue?"modalOverlay":"modalOverlay no-display"},i.a.createElement("div",{className:"small-popup-outer"},i.a.createElement("div",{className:"small-popup-header"},i.a.createElement("div",{className:"popup-name"},this.state.inventoryLang.inventory_Filter_Products),i.a.createElement("a",{name:"cross",className:"small-cross",onClick:function(){e.setState({filterValue:"false"})}},"\xd7")),i.a.createElement("div",{className:"small-popup-content"},i.a.createElement("div",{className:"juvly-container no-padding-bottom"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer m-b-20"},i.a.createElement("div",{className:"new-field-label"},this.state.inventoryLang.inventory_Category),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("select",{name:"filter_by_category_id",className:"setting-select-box",onChange:this.handleInputChange,value:this.state.filter_by_category_id},i.a.createElement("option",{value:"",disabled:!0,defaultValue:!0},this.state.inventoryLang.inventory_Please_Select_Option," "),void 0!==this.state.CategoryData&&this.state.CategoryData.map(function(e,t){return i.a.createElement("option",{value:e.id,key:t},e.category_name&&e.category_name?e.category_name:"")}))))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"basic-checkbox-outer m-b-30"},i.a.createElement("input",{id:"yes",className:"basic-form-checkbox no-margin-top",name:"show_below_stock",type:"checkbox",value:"0",checked:"0"==this.state.show_below_stock?0:1,onChange:this.handleInputChange}),i.a.createElement("label",{className:"basic-form-text",htmlFor:"yes"},this.state.inventoryLang.inventory_Products_below_stock_alert)))))),i.a.createElement("div",{className:"footer-static"},i.a.createElement("input",{className:"new-blue-btn pull-right",id:"apply",type:"Submit",defaultValue:this.state.inventoryLang.inventory_Apply}),i.a.createElement("a",{name:"cancel",className:"new-white-btn pull-right",onClick:function(){e.setState({filterValue:"false"})}},this.state.inventoryLang.inventory_Cancel))))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(void 0!=e.exportCsvData&&t.timeStamp!=e.timeStamp)"false"==localStorage.getItem("showLoader")&&(localStorage.setItem("showLoader",!0),window.open(e.exportCsvData.file)),e.emptyInventoryReducer();else if(void 0!=e.showLoader&&0==e.showLoader)return e.emptyInventoryReducer(),{showLoader:!1};if(void 0!=e.InventoryData&&(e.InventoryData.data.next_page_url!==t.next_page_url||e.InventoryData.action!=t.action)&&"false"==localStorage.getItem("showLoader")){if(!0===t.tabClicked)return{tabClicked:!1,InventoryData:[]};var a={};return null==t.next_page_url&&e.InventoryData.action==t.action?a.next_page_url=null:(0==t.InventoryData.length&&1==t.startFresh?"false"==localStorage.getItem("sortOnly")?(a.InventoryData=e.InventoryData.data,a.CategoryData=e.InventoryData.category_list,null!=e.InventoryData.next_page_url?a.page=t.page+1:(a.next_page_url=e.InventoryData.next_page_url,a.showLoader=!1),a.startFresh=!1,a.showLoader=!1,a.showLoadingText=!1):localStorage.setItem("sortOnly",!1):t.InventoryData!=e.InventoryData.data&&0!=t.InventoryData.length&&(!1===t.tabClicked?(a.InventoryData=Object(oa.a)(t.InventoryData).concat(Object(oa.a)(e.InventoryData.data)),a.selectAll=0,a.showLoader=!1):(a.tabClicked=!1,a.showLoader=!1),a.total=e.InventoryData.total,a.page=t.page+1,a.next_page_url=e.InventoryData.next_page_url,a.CategoryData=e.InventoryData.category_list,a.showLoader=!1,a.showLoadingText=!1),a)}return null}}]),t}(n.Component);var rp=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData")),a={};return localStorage.setItem("showLoader",!1),localStorage.setItem("sortOnly",!1),"INVENTORY_PRODUCT_LIST_ACTIVE"===e.InventoryReducer.action&&(200===e.InventoryReducer.data.status?a.InventoryData=e.InventoryReducer.data.data:(rt.toast.error(t.global[e.InventoryReducer.data.message]),a.showLoader=!1,a.timeStamp=new Date)),"EXPORT_PRODUCT_DATA"===e.InventoryReducer.action&&(200===e.InventoryReducer.data.status?(a.exportCsvData=e.InventoryReducer.data.data,a.timeStamp=new Date):(rt.toast.error(t.global[e.InventoryReducer.data.message]),a.showLoader=!1,a.timeStamp=new Date)),a},function(e){return Object(c.bindActionCreators)({fetchInventoryData:Eu,exportProducts:Wu,emptyInventoryReducer:Xu},e)})(Object(de.a)(ip)),op=a(188),lp=a.n(op),cp=(a(301),function(){return{inventoryClinic:"",inventoryDate:"",inventoryBatch:""}}),dp=function(){return{inventoryClinic:!1,inventoryDate:!1,inventoryBatch:!1,inventoryStock:!1,inventoryAlert:!1}},mp=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).showLoaderFunc=function(){a.setState({showLoader:!0}),localStorage.setItem("showLoader",!1)},a.handleClick=function(e){a.refDatePickerContainer&&!a.refDatePickerContainer.contains(e.target)&&(a.refDatePicker.setOpen(!1),a.setState({showDatePicker:!1}))},a.handleInputChange=function(e){var t=e.target,s="checkbox"===t.type?t.checked:t.value,n={},i=[],r=e.target.dataset.inventoryindex;if(r){var o=a.state.inventoryArr;o[r][t.name]=s,a.setState({inventoryArr:o})}else{if("count_units_by"==t.name)for(var l=10*s,c=l;c<=20;c+=l){var d=c/10;i.push(d)}if(t&&"file"===t.type){t.files&&["image/png","image/PNG","image/jpg","image/JPG","image/jpeg","image/JPEG","image/gif","image/GIF"].indexOf(t.files[0].type)>-1?a.handleFileChosen(t.files[0],t):rt.toast.error("This file type is not allowed")}if(t.name.startsWith("pricePerUnit")){var m=t.name.split("-")[1];if(a.state.priceRepeat&&m==a.state.clinics[0].id&&qe(s))a.state.clinics.map(function(e,t){n["pricePerUnit-"+e.id]=s});else if(m==a.state.clinics[0].id&&!qe(s)){var u={};u["pricePerUnitError-"+m]=!0,a.setState(u)}}if("priceRepeat"==t.name&&s){var p=a.state.clinics[0].id;a.state["pricePerUnit-"+p]&&a.state.clinics.map(function(e,t){n["pricePerUnit-"+e.id]=a.state["pricePerUnit-"+p]})}n.startsAtUnitArr=i,"product_category"==t.name&&"addCategory"==s?n.addCategoryPop=!0:n[e.target.name]=s,n.userChanged=!0,a.setState(n)}},a.handleNameChange=function(e){var t=e.target,s="checkbox"===t.type?t.checked:t.value;if(""!==s.trim()){a.showLoaderFunc(),a.setState({product_name:s});var n={};n.product_name=s,n.product_id=a.state.productId,a.props.isProductNameAvailable(n)}},a.addCategory=function(e){if(a.setState({catNameError:!1}),void 0==a.state.addCatCategoryName||""==a.state.addCatCategoryName.trim())return a.setState({addCatCategoryNameError:!0}),!1;if(a.state.is_custom_tax_rule_enabled_category){var t=!1,s={};for(var n in a.state)if(n.startsWith("addCatClinic-")){var i=n.split("-")[1];""==a.state[n]&&0!=a.state[n]?qe(a.state[n])||(s["addCatClinicError-"+i]=!0):t=!0}if(!t)return a.setState(s),!1}var r={};r.category_name=a.state.addCatCategoryName,r.cat_status=a.state.add_category_status?1:0,r.is_custom_rule_tax=a.state.is_custom_tax_rule_enabled_category?1:0;var o=[];for(var l in a.state)if(l.startsWith("addCatClinic-")&&""!==a.state[l]){var c=l.split("-")[1];o.push({clinic_id:c,tax_percentage:a.state[l]})}r.tax_rules=o,a.showLoaderFunc(),a.props.createCategory(r)},a.handleSubmit=function(e){if(a.setState({productNameError:!1,productTypeError:!1,productCategoryError:!1,costToCompanyError:!1,unitTypeError:!1,injectableTypeError:!1,unitsCountError:!1,startsAtError:!1,productRatioError:!1,available_stock_error:!1,stock_alert_error:!1}),0==a.state.product_type)return a.setState({productTypeError:!0}),!1;if(0==a.state.product_category)return a.setState({productCategoryError:!0}),!1;if(void 0==a.state.product_name||""==a.state.product_name.trim()||a.state.productNameAvailable)return a.setState({productNameError:!0}),!1;if((void 0==a.state.cost_to_company||""==a.state.cost_to_company||0!=a.state.cost_to_company)&&!qe(a.state.cost_to_company))return a.setState({costToCompanyError:!0}),!1;if(0==a.state.product_type||"others"==a.state.product_type);else{if(void 0==a.state.unit_type||0==a.state.unit_type)return a.setState({unitTypeError:!0}),!1;if(void 0==a.state.count_units_by||0==a.state.count_units_by)return a.setState({unitsCountError:!0}),!1;if(void 0==a.state.start_at_unit||0==a.state.start_at_unit)return a.setState({startsAtError:!0}),!1;if(("injectable"==a.state.product_type||"threads"==a.state.product_type||"microblading"==a.state.product_type||"cellfina"==a.state.product_type)&&0==a.state.injectable_type)return a.setState({injectableTypeError:!0}),!1}if(void 0==a.state.available_stock||""==a.state.available_stock)return a.setState({available_stock_error:!0}),!1;if(0==a.state.available_stock);else if(!qe(a.state.available_stock))return a.setState({available_stock_error:!0}),!1;if(void 0==a.state.stock_alert||""==a.state.stock_alert)return a.setState({stock_alert_error:!0}),!1;if(0==a.state.stock_alert);else if(!qe(a.state.stock_alert))return a.setState({stock_alert_error:!0}),!1;if(a.state.product_ratio_enabled&&!qe(a.state.product_ratio))return a.setState({productRatioError:!0}),!1;var t={},s=!1;if(a.state.clinics.map(function(e,n){qe(a.state["pricePerUnit-"+e.id])||(t["pricePerUnitError-"+e.id]=!0,s=!0)}),s)return a.setState(t),!1;if(a.state.is_inventory_enabled){var n=a.state.inventoryArr,i=a.state.inventoryArrError,r=!1;if(n.map(function(e,t){""==e.inventoryDate||e.inventoryDate<=new Date?(i[t].inventoryDate=!0,r=!0):i[t].inventoryDate=!1,""==e.inventoryBatch.trim()?(i[t].inventoryBatch=!0,r=!0):i[t].inventoryBatch=!1}),r)return a.setState({inventoryArrError:i}),!1}if(a.state.is_supplier_info_enabled){if(void 0==a.state.supplier_name||""==a.state.supplier_name.trim())return a.setState({supplier_name_error:!0}),!1;if(void 0==a.state.reference_number||""==a.state.reference_number.trim())return a.setState({reference_number_error:!0}),!1;if(void 0==a.state.supplier_email_id||""==a.state.supplier_email_id.trim())return a.setState({supplier_email_id_error:!0}),!1;if(void 0==a.state.supplier_phone_number||""==a.state.supplier_phone_number.trim())return a.setState({supplier_phone_number_error:!0}),!1}if(a.state.is_custom_tax_rule_enabled){var o=!1,l={};for(var c in a.state)if(c.startsWith("customTax-")){var d=c.split("-")[1];""==a.state[c]&&0!=a.state[c]?qe(a.state[c])||(l["customTaxError-"+d]=!0):o=!0}if(!o)return a.setState(l),!1}var m={};m.product_type=a.state.product_type,m.productId=a.state.productId,m.product_image=a.state.product_image,m.is_product_active=a.state.is_product_active?1:0,m.product_name=a.state.product_name,m.product_category=a.state.product_category,m.cost_to_company=a.state.cost_to_company,m.product_sku=a.state.product_sku,m.product_description=a.state.product_description,m.product_ratio_enabled=a.state.product_ratio_enabled?1:0,m.keywords=a.state.keywords.length?a.state.keywords.join(", "):"",a.state.product_ratio_enabled&&(m.given_product_ratio=1,m.product_ratio=a.state.product_ratio),"others"!==a.state.product_type&&(m.unit_type=a.state.unit_type,m.count_units_by=a.state.count_units_by,m.start_at_unit=a.state.start_at_unit,m.injectable_type=a.state.injectable_type),a.state.is_inventory_enabled&&(m.available_stock=a.state.available_stock,m.stock_alert=a.state.stock_alert);var u=[];if(a.state.clinics.map(function(e,t){qe(a.state["pricePerUnit-"+e.id])&&u.push({clinic_id:e.id,location_price_per_unit:a.state["pricePerUnit-"+e.id],location_price_per_member:a.state["pricePerUnitMembers-"+e.id]})}),a.state.is_inventory_enabled){var p=[];a.state.inventoryArr.map(function(e,t){p.push({clinic_id:e.inventoryClinic,expiry_date:Se()(e.inventoryDate).format("YYYY-MM-DD"),batch_id:e.inventoryBatch,available_stock:e.inventoryStock,stock_alert:e.inventoryAlert})}),m.stock_inventory=p}if(a.state.is_supplier_info_enabled&&(m.supplier_name=a.state.supplier_name,m.reference_number=a.state.reference_number,m.supplier_email_id=a.state.supplier_email_id,m.supplier_phone_number=a.state.supplier_phone_number),a.state.is_custom_tax_rule_enabled){var h=[];for(var g in a.state)if(g.startsWith("customTax-")&&""!==a.state[g]){var _=g.split("-")[1];h.push({clinic_id:_,tax:a.state[g]})}m.clinic_tax=h}a.state.is_stock_inventory_enabled&&(m.available_stock=a.state.available_stock,m.stock_alert=a.state.stock_alert),m.price_list=u,m.is_inventory_enabled=a.state.is_inventory_enabled?1:0,m.is_stock_inventory_enabled=a.state.is_stock_inventory_enabled?1:0,m.is_supplier_info_enabled=a.state.is_supplier_info_enabled?1:0,m.is_custom_tax_rule_enabled=a.state.is_custom_tax_rule_enabled?1:0,a.showLoaderFunc(),a.props.addProduct(m)},a.handleTagChange=function(e){a.setState({keywords:e,userChanged:!0})},a.handleUpload=function(e){var t=new FormData;t.append("file",a.state.file,a.state.file.name);var s=Ee.API_URL+"media/upload?upload_type=".concat("product_image");Q.a.post(s,t).then(function(e){var t,s=a.state.target.name;a.setState((t={},Object(se.a)(t,s,e.data.data.file_name),Object(se.a)(t,"showLoader",!1),t))}).catch(function(e){rt.toast.error(a.state.globalLang[e.response.data.message])})},a.handleFileRead=function(e){a.state.fileReader.result;var t,s=a.state.target.name+"_thumbnail",n=a.state.target.name+"_src",i=a.state.target.name+"_size",r=Fe(a.state.file.size,1);a.setState((t={},Object(se.a)(t,s,a.state.file.name),Object(se.a)(t,i,r),Object(se.a)(t,n,a.state.fileReader.result),Object(se.a)(t,"showLoader",!0),t)),a.handleUpload(a.state.target.name)},a.handleFileChosen=function(e,t){a.state.fileReader=new FileReader,a.state.fileReader.onloadend=a.handleFileRead,a.state.fileReader.readAsDataURL(e),a.state.file=e,a.state.target=t},a.handleSearchDatePicker=function(e,t){var s=a.state.inventoryArr;s[e].inventoryDate=t,a.setState({inventoryArr:s})},a.addMoreInventory=function(){var e=a.state.inventoryArr,t=a.state.inventoryArrError,s=cp();s.inventoryClinic=a.state.clinics[0].id,e.push(s),t.push(dp()),a.setState({inventoryArr:e,inventoryArrError:t})},a.removeCurrentInventory=function(e){var t=a.state.inventoryArr,s=a.state.inventoryArrError;if(1==t.length)return!1;var n=e;t.splice(n,1),s.splice(n,1),a.setState({inventoryArr:t,inventoryArrError:s})},a.showDeleteModal=function(){a.setState({showModal:!0})},a.dismissModal=function(){a.setState({showModal:!1})},a.deleteProduct=function(){localStorage.setItem("showLoader",!1),a.setState({showLoader:!0,showModal:!1});var e=a.state.productId;a.props.deleteProduct(e)};JSON.parse(localStorage.getItem("userData"));var s=JSON.parse(localStorage.getItem("languageData"));return a.state={backAction:"active",productId:0,is_product_active:!0,addCategoryPop:!1,is_custom_tax_rule_enabled:!1,is_supplier_info_enabled:!1,add_category_status:!1,is_inventory_enabled:!1,is_stock_inventory_enabled:!1,is_custom_tax_rule_enabled_category:!1,clinics:[],categories:[],startsAtUnitArr:[],inventoryArr:[cp()],inventoryArrError:[dp()],keywords:[],productDefaultData:{},stock_alert:"",available_stock:"",product_sku:"",supplier_name:"",supplier_name_error:!1,reference_number:"",reference_number_error:!1,supplier_email_id:"",supplier_email_id_error:!1,supplier_phone_number:"",supplier_phone_number_eror:!1,productNameAvailable:!1,product_name:"",cost_to_company:"",product_ratio:"",showLoader:!1,product_ratio_enabled:!1,productRatioError:!1,globalLang:s.global,product_type:0,product_category:0,injectable_type:0,injectableTypeArr:["Botulinum Toxin","Filler","Fat"],productTypeArr:[{id:"injectable",value:"Injectable"},{id:"coolsculpting",value:"CoolSculpting"},{id:"chemicalpeels",value:"Chemical Peels"},{id:"microneedling",value:"Microneedling"},{id:"threads",value:"Threads"},{id:"microblading",value:"Microblading"},{id:"cellfina",value:"Cellfina"},{id:"laser",value:"Laser"},{id:"others",value:"Others"}],productService:[{id:"Aesthetic Service",value:"Aesthetic Service"},{id:"Product Sale",value:"Product Sale"},{id:"Other",value:"Other"}],injectableUnitType:[{id:1,value:"Units"},{id:2,value:"Speywood"},{id:3,value:"Vial"},{id:4,value:"Syringe"},{id:10,value:"ML"}],coolsculptingUnitType:[{id:5,value:"Cycles"},{id:10,value:"ML"}],chemicalpeelsUnitType:[{id:3,value:"Vial"},{id:4,value:"Syringe"},{id:6,value:"Packets"},{id:10,value:"ML"}],microneedlingUnitType:[{id:1,value:"Units"},{id:7,value:"Tip"},{id:10,value:"ML"}],threadsUnitType:[{id:8,value:"Thread"},{id:10,value:"ML"}],microbladingUnitType:[{id:3,value:"Vial"},{id:10,value:"ML"}],cellfinaUnitType:[{id:9,value:"Kit"},{id:10,value:"ML"}],laserUnitType:[{id:11,value:"Treatment"}],unitsByArr:["0.1","0.2","0.3","0.4","0.5","0.6","0.7","0.8","0.9","1"],defaultUnitType:[]},window.onscroll=function(){return!1},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){window.onscroll=function(){return!1};var e=this.props.match.params.id?this.props.match.params.id:0;this.setState({productId:e}),this.showLoaderFunc(),this.props.getProductDefaultData(e)}},{key:"render",value:function(){var e=this,t=[];switch(this.state.product_type){case"injectable":t=this.state.injectableUnitType;break;case"coolsculpting":t=this.state.coolsculptingUnitType;break;case"chemicalpeels":t=this.state.chemicalpeelsUnitType;break;case"microneedling":t=this.state.microneedlingUnitType;break;case"threads":t=this.state.threadsUnitType;break;case"microblading":t=this.state.microbladingUnitType;break;case"cellfina":t=this.state.cellfinaUnitType;break;case"laser":t=this.state.laserUnitType;break;default:t=this.state.defaultUnitType}var a=this.state.clinics.length>0?this.state.clinics[0].clinic_name:"";return i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(np,{handleAnchor:this.handleAnchor}),i.a.createElement("div",{className:"juvly-section full-width"},i.a.createElement("div",{className:"juvly-container"},i.a.createElement("div",{className:"juvly-title"},this.state.productId>0?"Edit Product":"Create Product",i.a.createElement(me.a,{to:"/inventory/products/"+this.state.backAction,className:"pull-right crossIcon"},i.a.createElement("img",{src:"/images/close.png"})),i.a.createElement("div",{className:"setting-custom-switch product-active pull-right"},i.a.createElement("span",{id:"membership_lable"},this.state.is_product_active?"Product Active":"Product Inactive"),i.a.createElement("label",{className:"setting-switch pull-right no-margin"},i.a.createElement("input",{type:"checkbox",className:"setting-custom-switch-input",name:"is_product_active",checked:!!this.state.is_product_active&&"checked",autoComplete:"off",onChange:this.handleInputChange}),i.a.createElement("span",{className:"setting-slider"})))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-12 profile-detail-left"},i.a.createElement("div",{className:"main-profile-picture"},i.a.createElement("div",{className:"col-xs-6 no-padding"},i.a.createElement("div",{className:"file-container"},i.a.createElement("img",{src:this.state.product_image_src?this.state.product_image_src:""}),i.a.createElement("span",{className:this.state.product_image_src?"file-name file-info":"file-name-hide no-display"},this.state.product_image_thumbnail),i.a.createElement("span",{className:this.state.product_image_size?"file-size file-info":"file-size-hide no-display"},this.state.product_image_size),i.a.createElement("div",{className:"upload"},"Upload",i.a.createElement("input",{type:"file",name:"product_image",onChange:this.handleInputChange,autoComplete:"off",className:"image_questionnaire"}))))),i.a.createElement("div",{className:"juvly-subtitle"},"Product Information"),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Product Type",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("select",{className:this.state.productTypeError?"setting-select-box field-error":"setting-select-box",name:"product_type",onChange:this.handleInputChange,value:this.state.product_type},i.a.createElement("option",{value:0},"Select"),this.state.productTypeArr.length&&this.state.productTypeArr.map(function(e,t){return i.a.createElement("option",{value:e.id,key:"type-"+t},e.value)})))),i.a.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Product Category",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("select",{className:this.state.productCategoryError?"setting-select-box field-error":"setting-select-box",name:"product_category",onChange:this.handleInputChange,value:this.state.product_category},i.a.createElement("option",{value:0},"Others"),this.state.categories.length&&this.state.categories.map(function(e,t){return i.a.createElement("option",{value:e.id,key:"cat-"+t},e.category_name)}),i.a.createElement("option",{value:"addCategory"},"Create new category")))),i.a.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Product Name",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("input",{className:this.state.productNameError?"setting-input-box field-error":"setting-input-box",type:"text",name:"product_name",placeholder:"Product Name",onBlur:this.handleNameChange,onChange:this.handleInputChange,autoComplete:"off",value:this.state.product_name}))),i.a.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Product SKU"),i.a.createElement("input",{className:"setting-input-box",type:"text",name:"product_sku",placeholder:"Product SKU",onChange:this.handleInputChange,autoComplete:"off",value:this.state.product_sku}))),i.a.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Cost to company",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("input",{className:this.state.costToCompanyError?"setting-input-box field-error":"setting-input-box",type:"text",name:"cost_to_company",placeholder:"Cost to company",onChange:this.handleInputChange,autoComplete:"off",value:this.state.cost_to_company}))),i.a.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Product/Service"),i.a.createElement("select",{className:"setting-select-box",name:"product_service",onChange:this.handleInputChange,value:this.state.product_service},i.a.createElement("option",{value:0},"Others"),this.state.productService.length&&this.state.productService.map(function(e,t){return i.a.createElement("option",{value:e.id,key:"service-"+t},e.value)})))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Description"),i.a.createElement("textarea",{className:"setting-textarea-box textarea-height-50",name:"product_description",placeholder:"Product Description",value:this.state.product_description,onChange:this.handleInputChange}))),i.a.createElement("div",{className:"others"!=this.state.product_type?"col-md-4 col-sm-6 col-xs-12":"col-md-4 col-sm-6 col-xs-12 no-display"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"switch-accordian-row ",id:"book"},"Product Ratio",i.a.createElement("label",{className:"setting-switch pull-right"},i.a.createElement("input",{type:"checkbox",id:"app_booking",onChange:this.handleInputChange,name:"product_ratio_enabled",checked:!!this.state.product_ratio_enabled&&"checked",className:"setting-custom-switch-input"}),i.a.createElement("span",{className:"setting-slider"}))))),i.a.createElement("div",{className:this.state.product_ratio_enabled&&"others"!=this.state.product_type?"col-md-4 col-sm-6 col-xs-12":"col-md-4 col-sm-6 col-xs-12 no-display"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Ratio for this product"),i.a.createElement("div",{className:this.state.productRatioError?"setting-input-box field-error":"setting-input-box"},"1 :\xa0",i.a.createElement("input",{className:"",type:"text",name:"product_ratio",autoComplete:"off",value:this.state.product_ratio,onChange:this.handleInputChange})))),i.a.createElement("div",{className:0!=this.state.product_type&&"others"!=this.state.product_type?"col-md-4 col-sm-6 col-xs-12":"col-md-4 col-sm-6 col-xs-12 no-display"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Unit Type",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("select",{className:this.state.unitTypeError?"setting-select-box field-error":"setting-select-box",name:"unit_type",onChange:this.handleInputChange,value:this.state.unit_type},i.a.createElement("option",{value:0},"Others"),0!=this.state.product_type&&t.length&&t.map(function(e,t){return i.a.createElement("option",{value:e.id,key:"unit_type-"+t},e.value)})))),i.a.createElement("div",{className:0!=this.state.product_type&&"others"!=this.state.product_type?"col-md-4 col-sm-6 col-xs-12":"col-md-4 col-sm-6 col-xs-12 no-display"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Injectable Type",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("select",{className:this.state.injectableTypeError?"setting-select-box field-error":"setting-select-box",name:"injectable_type",onChange:this.handleInputChange,value:this.state.injectable_type},i.a.createElement("option",{value:0},"Others"),this.state.injectableTypeArr.length&&this.state.injectableTypeArr.map(function(e,t){return i.a.createElement("option",{value:t+1,key:"injectableType-"+t},e)})))),i.a.createElement("div",{className:0!=this.state.product_type&&"others"!=this.state.product_type?"col-md-4 col-sm-6 col-xs-12":"col-md-4 col-sm-6 col-xs-12 no-display"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Count units By",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("select",{className:this.state.unitsCountError?"setting-select-box field-error":"setting-select-box",name:"count_units_by",onChange:this.handleInputChange,value:this.state.count_units_by},i.a.createElement("option",{value:0},"Others"),this.state.unitsByArr.length&&this.state.unitsByArr.map(function(e,t){return i.a.createElement("option",{value:e,key:"unitsBy-"+t},e)})))),i.a.createElement("div",{className:0!=this.state.product_type&&"others"!=this.state.product_type?"col-md-4 col-sm-6 col-xs-12":"col-md-4 col-sm-6 col-xs-12 no-display"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Start at Unit",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("select",{className:this.state.startsAtError?"setting-select-box field-error":"setting-select-box",name:"start_at_unit",onChange:this.handleInputChange,value:this.state.start_at_unit},i.a.createElement("option",{value:0},"Others"),this.state.startsAtUnitArr.length&&this.state.startsAtUnitArr.map(function(e,t){return i.a.createElement("option",{value:e,key:"starts-"+t},e)})))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Product Keywords"),i.a.createElement("div",{className:"setting-input-box"},i.a.createElement(lp.a,{onlyUnique:!0,value:this.state.keywords?this.state.keywords:[],placeholder:"Keywords...",onChange:this.handleTagChange})))),i.a.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Available Stock",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("input",{className:this.state.available_stock_error?"setting-input-box field-error":"setting-input-box",type:"text",placeholder:"Available Stock",name:"available_stock",autoComplete:"off",onChange:this.handleInputChange,value:this.state.available_stock}))),i.a.createElement("div",{className:"col-md-4 col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Stock Alert",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("input",{className:this.state.stock_alert_error?"setting-input-box field-error":"setting-input-box",type:"text",name:"stock_alert",placeholder:"Stock Alert",autoComplete:"off",onChange:this.handleInputChange,value:this.state.stock_alert})))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"juvly-subtitle m-b-20 m-t-20"},"Product Price",i.a.createElement("div",{className:"right-sign-btn"},i.a.createElement("input",{className:"pull-left sel-all-visible",type:"checkbox",id:"save-sign",name:"priceRepeat",autoComplete:"off",onChange:this.handleInputChange,checked:!!this.state.priceRepeat&&"checked"}),i.a.createElement("label",{className:"search-text",htmlFor:"save-sign"}," Select to repeat price of ",a," to all locations"))))),this.state.clinics.length&&this.state.clinics.map(function(t,a){return i.a.createElement("div",{className:"row",key:"clinicPrice-"+a},i.a.createElement("div",{className:"col-md-4 col-sm-3 col-xs-12"},i.a.createElement("div",{className:"prod-price-clinic-name"},t.clinic_name)),i.a.createElement("div",{className:"col-sm-4 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Product Price Per Unit",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("input",{className:e.state["pricePerUnitError-"+t.id]?"setting-input-box field-error":"setting-input-box",type:"text",placeholder:"Price Per Unit",name:"pricePerUnit-"+t.id,value:e.state["pricePerUnit-"+t.id],autoComplete:"off",onChange:e.handleInputChange}))),i.a.createElement("div",{className:"col-md-4 col-sm-5 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Product Price Per Unit for members"),i.a.createElement("input",{className:"setting-input-box",type:"text",name:"pricePerUnitMembers-"+t.id,placeholder:"Price for Members",value:e.state["pricePerUnitMembers-"+t.id],autoComplete:"off",onChange:e.handleInputChange}))))})))),i.a.createElement("div",{className:"others"!=this.state.product_type?"switch-accordian-outer":"switch-accordian-outer no-display"},i.a.createElement("div",{className:"switch-accordian-row ",id:"book"},"Lot number and Expiration",i.a.createElement("label",{className:"setting-switch pull-right"},i.a.createElement("input",{type:"checkbox",id:"app_booking",onChange:this.handleInputChange,name:"is_inventory_enabled",checked:!!this.state.is_inventory_enabled&&"checked",className:"setting-custom-switch-input"}),i.a.createElement("span",{className:"setting-slider"}))),i.a.createElement("div",{className:this.state.is_inventory_enabled?"setting-container":"setting-container no-display",id:"Appointment_Booking-form-title"},this.state.inventoryArr.map(function(t,a){return i.a.createElement("div",{className:"row relative",key:"inventory-"+a},i.a.createElement("div",{className:"col-md-4 col-sm-4 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Clinic"),i.a.createElement("select",{className:e.state.inventoryArrError[a]&&e.state.inventoryArrError[a].inventoryClinic?"setting-select-box field-error":"setting-select-box",onChange:e.handleInputChange,name:"inventoryClinic",value:t.inventoryClinic,"data-inventoryindex":a},e.state.clinics.length&&e.state.clinics.map(function(e,t){return i.a.createElement("option",{value:e.id,key:"inventoryClinicArr-"+t},e.clinic_name," ")})))),i.a.createElement("div",{className:"col-md-4 col-sm-4 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Expiration Date"),i.a.createElement(xn.a,{value:t.inventoryDate?(s=t.inventoryDate,Se()(s).format("MMMM DD, YYYY")):null,onChange:e.handleSearchDatePicker.bind(e,a),className:e.state.inventoryArrError[a]&&e.state.inventoryArrError[a].inventoryDate?"setting-input-box field-error":"setting-input-box",dateFormat:"YYYY-MM-dd",name:"inventoryDate",selected:t.inventoryDate?t.inventoryDate:null,autoComplete:"off",minDate:Se()().toDate(),showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",ref:function(t){return e.refDatePicker=t}}))),i.a.createElement("div",{className:"col-sm-4 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Batch Id"),i.a.createElement("input",{className:e.state.inventoryArrError[a]&&e.state.inventoryArrError[a].inventoryBatch?"setting-input-box field-error":"setting-input-box",type:"text",name:"inventoryBatch",autoComplete:"off",value:t.inventoryBatch,onChange:e.handleInputChange,"data-inventoryindex":a}))),i.a.createElement("a",{href:"javascript:void(0);",className:a>0?"add-round-btn ":"add-round-btn no-display",onClick:e.removeCurrentInventory.bind(e,a)},i.a.createElement("span",null,"-")),i.a.createElement("a",{href:"javascript:void(0);",className:0==a?"add-round-btn":"add-round-btn  no-display",onClick:e.addMoreInventory},i.a.createElement("span",null,"+")));var s}))),i.a.createElement("div",{className:"switch-accordian-outer"},i.a.createElement("div",{className:"switch-accordian-row ",id:"book"},"Supplier Info",i.a.createElement("label",{className:"setting-switch pull-right"},i.a.createElement("input",{type:"checkbox",id:"app_booking",name:"is_supplier_info_enabled",onChange:this.handleInputChange,checked:!!this.state.is_supplier_info_enabled&&"checked",className:"setting-custom-switch-input"}),i.a.createElement("span",{className:"setting-slider"}))),i.a.createElement("div",{className:this.state.is_supplier_info_enabled?"setting-container":"setting-container no-display",id:"Appointment_Booking-form-title"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-3 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Supplier Name",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("input",{className:this.state.supplier_name_error?"setting-input-box field-error":"setting-input-box",type:"text",name:"supplier_name",placeholder:"Supplier Name",autoComplete:"off",onChange:this.handleInputChange,value:this.state.supplier_name}))),i.a.createElement("div",{className:"col-sm-3 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Reference Number",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("input",{className:this.state.reference_number_error?"setting-input-box field-error":"setting-input-box",type:"text",name:"reference_number",placeholder:"Reference Number",autoComplete:"off",onChange:this.handleInputChange,value:this.state.reference_number}))),i.a.createElement("div",{className:"col-sm-3 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Supplier Email ID",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("input",{className:this.state.supplier_email_id_error?"setting-input-box field-error":"setting-input-box",type:"text",name:"supplier_email_id",placeholder:"Supplier Email Id",autoComplete:"off",onChange:this.handleInputChange,value:this.state.supplier_email_id}))),i.a.createElement("div",{className:"col-sm-3 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Supplier Phone No.",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("input",{className:this.state.supplier_phone_number_error?"setting-input-box field-error":"setting-input-box",type:"text",name:"supplier_phone_number",placeholder:"Supplier Phone Number",autoComplete:"off",onChange:this.handleInputChange,value:this.state.supplier_phone_number})))))),i.a.createElement("div",{className:"switch-accordian-outer"},i.a.createElement("div",{className:"switch-accordian-row ",id:"book"},"Custom Tax Rule (In Percentage)",i.a.createElement("label",{className:"setting-switch pull-right"},i.a.createElement("input",{type:"checkbox",id:"app_booking",name:"is_custom_tax_rule_enabled",onChange:this.handleInputChange,checked:!!this.state.is_custom_tax_rule_enabled&&"checked",className:"setting-custom-switch-input"}),i.a.createElement("span",{className:"setting-slider"}))),i.a.createElement("div",{className:this.state.is_custom_tax_rule_enabled?"setting-container":"setting-container no-display",id:"Appointment_Booking-form-title"},i.a.createElement("div",{className:"row"},this.state.clinics.length&&this.state.clinics.map(function(t,a){return i.a.createElement("div",{className:"col-sm-3 col-xs-12",key:"clinicTax-"+a},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},t.clinic_name,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("input",{className:e.state["customTaxError-"+t.id]?"setting-input-box field-error":"setting-input-box",type:"text",name:"customTax-"+t.id,autoComplete:"off",placeholder:"0",onChange:e.handleInputChange,value:e.state["customTax-"+t.id]})))})))),i.a.createElement("div",{className:"footer-static"},i.a.createElement("button",{className:"new-blue-btn pull-right",id:"saveform",onClick:this.handleSubmit},"Save"),i.a.createElement(me.a,{to:"/inventory/products/"+this.state.backAction,className:"new-white-btn pull-right",id:"resetform"},"Cancel"),this.state.productId>0&&i.a.createElement("button",{className:"new-red-btn pull-left",id:"resetformasd",onClick:this.showDeleteModal},"Delete")))),i.a.createElement("div",{className:this.state.addCategoryPop?"modalOverlay":"modalOverlay no-display"},i.a.createElement("div",{className:"small-popup-outer appointment-detail-main"},i.a.createElement("div",{className:"small-popup-header"},i.a.createElement("div",{className:"popup-name"},"Add Category"),i.a.createElement("a",{onClick:function(){e.setState({addCategoryPop:!e.state.addCategoryPop})},className:"small-cross"},"\xd7")),i.a.createElement("div",{className:"small-popup-content"},i.a.createElement("div",{className:"juvly-container no-padding-bottom"},i.a.createElement("div",{className:"juvly-subtitle"}),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Category Name ",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("input",{className:this.state.addCatCategoryNameError?"setting-input-box field-error":"setting-input-box",type:"text",name:"addCatCategoryName",autoComplete:"off",onChange:this.handleInputChange,value:this.state.addCatCategoryName})),i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"switch-accordian-row ",id:"book"},"Status",i.a.createElement("label",{className:"setting-switch pull-right"},i.a.createElement("input",{type:"checkbox",id:"app_booking",name:"add_category_status",onChange:this.handleInputChange,checked:!!this.state.add_category_status&&"checked",className:"setting-custom-switch-input"}),i.a.createElement("span",{className:"setting-slider"})))),i.a.createElement("div",{className:"switch-accordian-outer"},i.a.createElement("div",{className:"switch-accordian-row ",id:"book"},"Custom Tax Rule (In Percentage)",i.a.createElement("label",{className:"setting-switch pull-right"},i.a.createElement("input",{type:"checkbox",id:"app_booking",name:"is_custom_tax_rule_enabled_category",onChange:this.handleInputChange,checked:!!this.state.is_custom_tax_rule_enabled_category&&"checked",className:"setting-custom-switch-input"}),i.a.createElement("span",{className:"setting-slider"}))),i.a.createElement("div",{className:this.state.is_custom_tax_rule_enabled_category?"setting-container":"setting-container no-display",id:"Appointment_Booking-form-title"},i.a.createElement("div",{className:"row"},this.state.clinics.length&&this.state.clinics.map(function(t,a){return i.a.createElement("div",{className:"col-sm-3 col-xs-12",key:"addCatClinic-"+a},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},t.clinic_name,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("input",{className:e.state["addCatClinicError-"+t.id]?"setting-input-box field-error":"setting-input-box",type:"text",name:"addCatClinic-"+t.id,autoComplete:"off",onChange:e.handleInputChange,value:e.state["addCatClinic-"+t.id]})))})))))))),i.a.createElement("div",{className:"footer-static"},i.a.createElement("a",{className:"new-blue-btn pull-right",onClick:this.addCategory},"Save")))),i.a.createElement("div",{className:this.state.showModal?"overlay":""}),i.a.createElement("div",{id:"filterModal",role:"dialog",className:this.state.showModal?"modal fade in displayBlock":"modal fade"},i.a.createElement("div",{className:"modal-dialog"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal",onClick:this.dismissModal},"\xd7"),i.a.createElement("h4",{className:"modal-title",id:"model_title"},"Delete Product")),i.a.createElement("div",{id:"errorwindow",className:"modal-body add-patient-form filter-patient"},"Are you sure want to delete this product?"),i.a.createElement("div",{className:"modal-footer"},i.a.createElement("div",{className:"col-md-12 text-left",id:"footer-btn"},i.a.createElement("button",{type:"button",className:"btn  logout pull-right","data-dismiss":"modal",onClick:this.dismissModal},"Cancel"),i.a.createElement("button",{type:"button",className:"btn btn-success pull-right m-r-10","data-dismiss":"modal",onClick:this.deleteProduct},"Yes")))))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeonClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock positionFixed":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.globalLang.loading_please_wait_text))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};if(void 0!=e.showLoader&&0==e.showLoader&&"false"==localStorage.getItem("showLoader"))return a.showLoader=!1,a;if(void 0!=e.productDefaultData&&e.productDefaultData!=t.productDefaultData&&"false"==localStorage.getItem("showLoader")){var s=e.productDefaultData.clinics,n=e.productDefaultData.product?e.productDefaultData.product:void 0;s.length&&s.map(function(e,t){a["pricePerUnit-"+e.id]="",a["pricePerUnitMembers-"+e.id]="",n&&n.is_tax_enabled&&(a["customTax-"+e.id]=e.product_clinic_tax?e.product_clinic_tax.tax_percentage:"")});var i=t.inventoryArr;if(i[0].inventoryClinic=s[0].id,a.inventoryArr=i,a.productDefaultData=e.productDefaultData,a.clinics=e.productDefaultData.clinics,a.categories=e.productDefaultData.categories,n){a.backAction=n.is_product_active?"active":"inactive",a.is_product_active=!!n.is_product_active,a.product_category=n.category_id,a.cost_to_company=n.cost_to_company,a.product_sku=n.product_sku,a.count_units_by=n.count_units_by,a.is_inventory_enabled=n.is_inventory_enabled,a.product_image=n.product_image,a.product_image_src=n.product_image_url,a.is_stock_inventory_enabled=n.is_stock_inventory_enabled,a.product_description=n.product_description,a.start_at_unit=n.start_at_unit,a.product_type=n.product_type,a.is_custom_tax_rule_enabled=n.is_tax_enabled,a.is_supplier_info_enabled=n.is_supplier_enabled,a.keywords=n.keywords?n.keywords.split("-"):[],a.product_name=n.product_name,a.unit_type=n.toxin_type,a.injectable_type=n.type?n.type:"",a.product_ratio_enabled=n.product_ratio_enabled,a.available_stock=n.available_stock,a.stock_alert=n.stock_alert,n.product_price_per_clinic.length&&n.product_price_per_clinic.map(function(e,t){a["pricePerUnit-"+e.clinic_id]=e.price_per_unit,a["pricePerUnitMembers-"+e.clinic_id]=e.price_per_unit_members}),n.product_ratio_enabled&&(a.product_ratio=n.ratio),n.product_supplier&&(a.supplier_name=n.product_supplier.supplier_name,a.supplier_email_id=n.product_supplier.supplier_email,a.supplier_phone_number=n.product_supplier.supplier_phone,a.reference_number=n.product_supplier.refrence_number),n.is_stock_inventory_enabled&&(a.available_stock=n.available_stock,a.stock_alert=n.stock_alert);var r=[],o=[];if(n.product_inventory&&(n.product_inventory.map(function(e,t){r.push({inventoryClinic:e.clinic_id,inventoryDate:Se()(e.expiry_date).toDate(),inventoryBatch:e.batch_id,id:e.id}),o.push(dp())}),a.inventoryArr=r,a.inventoryArrError=o),n.count_units_by){for(var l=[],c=10*n.count_units_by,d=c;d<=20;d+=c){var m=d/10;l.push(m)}a.startsAtUnitArr=l}}a.showLoader=!1}if(void 0==e.productNameAvailability||"product_not_found"!=e.productNameAvailability.message&&"product_found"!=e.productNameAvailability.message||"false"==localStorage.getItem("showLoader")&&(a.productNameError="true"==e.productNameAvailability.data.data,a.productNameAvailable="true"==e.productNameAvailability.data.data,a.showLoader=!1),void 0!=e.productAddedStatus&&(201==e.productAddedStatus||200==e.productAddedStatus)&&"false"==localStorage.getItem("showLoader")){var u=t.is_product_active?"active":"inactive";rt.toast.success(e.message,{onClose:function(){a.showLoader=!1,e.history.push("/inventory/products/"+u)}})}return void 0!=e.categoryData&&201==e.categoryData.status&&"false"==localStorage.getItem("showLoader")&&(a.showLoader=!1,a.addCategoryPop=!1,a.categories=e.categoryData.data,a.product_category=e.categoryData.data[0].id),a}}]),t}(n.Component);var up=Object(Z.b)(function(e){var t={},a=JSON.parse(localStorage.getItem("languageData"));return rt.toast.dismiss(),localStorage.setItem("showLoader",!1),"PRODUCT_DEFAULT_DATA"===e.InventoryReducer.action&&(200!=e.InventoryReducer.data.status?(rt.toast.error(a.global[e.InventoryReducer.data.message]),t.showLoader=!1):t.productDefaultData=e.InventoryReducer.data.data),"IS_PRODUCT_AVAILABLE"===e.InventoryReducer.action&&(200!=e.InventoryReducer.data.status?(rt.toast.error(a.global[e.InventoryReducer.data.message]),t.showLoader=!1):t.productNameAvailability=e.InventoryReducer.data),"PRODUCT_ADDED"===e.InventoryReducer.action&&(201!=e.InventoryReducer.data.status&&200!=e.InventoryReducer.data.status?(rt.toast.error(a.global[e.InventoryReducer.data.message]),t.showLoader=!1):(t.productAddedStatus=e.InventoryReducer.data.status,t.message=a.global[e.InventoryReducer.data.message])),"CREATE_CATEGORY"===e.InventoryReducer.action&&(201!=e.InventoryReducer.data.status?(rt.toast.error(a.global[e.InventoryReducer.data.message]),t.showLoader=!1):t.categoryData=e.InventoryReducer.data),"PRODUCT_DELETED"===e.InventoryReducer.action&&(200!=e.InventoryReducer.data.status?(rt.toast.error(a.global[e.InventoryReducer.data.message]),t.showLoader=!1):(t.productAddedStatus=e.InventoryReducer.data.status,t.message=a.global[e.InventoryReducer.data.message])),t},function(e){return Object(c.bindActionCreators)({fetchInventoryData:Eu,getProductDefaultData:qu,isProductNameAvailable:Yu,addProduct:Hu,createCategory:Pu,deleteProduct:Gu},e)})(Object(de.a)(mp)),pp=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,s="checkbox"===t.type?t.checked:t.value;a.setState(Object(se.a)({},e.target.name,s))},a.showLoaderFunc=function(){localStorage.setItem("showLoader",!0),a.setState({showLoader:!0})},a.onSort=function(e){var t="asc"===a.state.sortorder?"desc":"asc",s={params:{page:1,sortby:e,sortorder:t,term:a.state.term}};"all"!==a.state.category_status&&(s.params.category_status=a.state.category_status),a.setState({page:1,sortby:e,sortorder:t,loadMore:!0,startFresh:!0,showLoader:!0,next_page_url:"",CategoryData:[]}),localStorage.setItem("sortOnly",!0),a.props.fetchCategoriesData(s)},a.loadMore=function(){localStorage.setItem("sortOnly",!1),a.setState({loadMore:!0,startFresh:!0,showLoader:!1,showLoadingText:!0});var e={params:{page:a.state.page,pagesize:a.state.pagesize,sortorder:"asc",sortby:"category_name",term:a.state.term,action:a.state.action}};"all"!==a.state.category_status&&(e.params.category_status=a.state.category_status),a.setState({showLoader:!0}),a.props.fetchCategoriesData(e)},a.inventoryEdit=function(e){return i.a.createElement("div",{className:"no-display"},a.props.history.push("/inventory/products-categories/".concat(e,"/edit")))},a.submitData=function(e){localStorage.setItem("sortOnly",!0);var t={params:{page:1,pagesize:a.state.pagesize,sortorder:"asc",sortby:"category_name",term:a.state.term}};a.setState({page:1,startFresh:!0,loadMore:!0,next_page_url:"",CategoryData:[],sortorder:"asc",sortby:"category_name"}),"all"!=e&&null!=e?t.params.category_status=e:null==e&&"all"!=a.state.category_status&&(t.params.category_status=a.state.category_status),a.setState({showLoader:!0,filterValue:"false"}),a.props.fetchCategoriesData(t)},a.handleSubmit=function(e){e.preventDefault(),a.submitData(null)},a.deactivateAll=function(){a.showLoaderFunc(),a.props.deactivateAllCat()},a.changeStatus=function(e){a.setState({category_status:e,showStatusOptions:!1}),a.submitData(e)},a.export=function(e){var t={params:{}};localStorage.setItem("showLoader",!0),a.setState({showExportOptions:!1,showStatusOptions:!1}),"all"!==a.state.category_status&&(t.params.category_status=a.state.category_status),a.props.exportData(t,e)};JSON.parse(localStorage.getItem("userData"));var s=JSON.parse(localStorage.getItem("languageData"));return a.state={loadMore:!0,startFresh:!0,showLoader:!1,showStatusOptions:!1,showExportOptions:!1,page:1,pagesize:15,term:"",hasMoreItems:!0,next_page_url:"",searchFunction:"",user_changed:!1,tabClicked:!1,CategoryData:[],data:[],childCheck:!1,action:e.match.params.statusId,sortorder:"",sortby:"category_name",scopes:"category",selected:[],selectAll:0,categoryName:"",show_below_stock:0,category_status:1,globalLang:s.global,inventoryLang:s.inventory,showLoadingText:!1},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),window.onscroll=function(){var e=parseInt(Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop));window.innerHeight+e===document.documentElement.offsetHeight&&null!=a.state.next_page_url&&a.loadMore()},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e={params:{page:this.state.page,pagesize:this.state.pagesize,sortorder:"asc",sortby:"category_name",term:this.state.term,action:this.state.action}};"all"!==this.state.category_status&&(e.params.category_status=this.state.category_status),this.setState({showLoader:!0}),this.props.fetchCategoriesData(e)}},{key:"shouldComponentUpdate",value:function(e,t){return!!this.state.startFresh||(!!this.state.loadMore||!!this.state.showLoader)}},{key:"render",value:function(){var e=this,t="";return t=1==this.state.category_status?"Active":0==this.state.category_status?"Inactive":"All",i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(np,null),i.a.createElement("div",{className:"juvly-section full-width"},i.a.createElement("div",{className:"setting-search-outer"},i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("div",{className:"search-bg new-search"},i.a.createElement("i",{className:"fas fa-search"}),i.a.createElement("input",{className:"setting-search-input search-key",placeholder:"Search",name:"term",autoComplete:"off",value:this.state.term,onChange:this.handleInputChange}))),i.a.createElement("div",{className:"pull-right inventory-category-export-outer"},i.a.createElement(me.a,{to:"/inventory/products-categories/create",className:"new-blue-btn pull-right m-l-10"},this.state.inventoryLang.inventory_ADD_CATEGORY),i.a.createElement("a",{onClick:this.deactivateAll,className:"new-blue-btn pull-right m-l-10"},this.state.inventoryLang.inventory_INACTIVE_ALL),i.a.createElement("div",{className:"export pull-right"},i.a.createElement("div",{className:"dropdown pull-left"},i.a.createElement("button",{className:"btn btn-default dropdown-toggle",type:"button",onClick:function(){e.setState({showStatusOptions:!e.state.showStatusOptions,showExportOptions:!1})}},t,i.a.createElement("i",{className:"fas fa-angle-down"})),i.a.createElement("ul",{className:this.state.showStatusOptions?"dropdown-menu show":"dropdown-menu show no-display","aria-labelledby":"dropdownMenu1","x-placement":"bottom-start"},i.a.createElement("li",null,i.a.createElement("a",{onClick:this.changeStatus.bind(this,"all"),name:"expType"},this.state.inventoryLang.inventory_all)),i.a.createElement("li",null,i.a.createElement("a",{onClick:this.changeStatus.bind(this,1),name:"expType"},this.state.inventoryLang.inventory_active)),i.a.createElement("li",null,i.a.createElement("a",{onClick:this.changeStatus.bind(this,0),name:"expoType"},this.state.inventoryLang.inventory_inactive)))),i.a.createElement("div",{className:"dropdown pull-left m-l-10"},i.a.createElement("button",{className:"btn btn-default dropdown-toggle",type:"button",onClick:function(){e.setState({showExportOptions:!e.state.showExportOptions,showStatusOptions:!1})}},this.state.inventoryLang.inventory_Export,i.a.createElement("i",{className:"fas fa-angle-down"})),i.a.createElement("ul",{className:this.state.showExportOptions?"dropdown-menu show":"dropdown-menu show no-display","aria-labelledby":"dropdownMenu1","x-placement":"bottom-start"},i.a.createElement("li",null,i.a.createElement("a",{onClick:this.export.bind(this,"csv"),name:"expType"},this.state.inventoryLang.inventory_export_as_csv)),i.a.createElement("li",null,i.a.createElement("a",{onClick:this.export.bind(this,"xls"),name:"expoType"},this.state.inventoryLang.inventory_export_as_excel))))))),i.a.createElement("div",{className:"table-responsive"},i.a.createElement("table",{className:"table-updated juvly-table"},i.a.createElement("thead",{className:"table-updated-thead"},i.a.createElement("tr",null,i.a.createElement("th",{className:"col-xs-2 table-updated-th cursor-pointer sorting",onClick:function(){return e.onSort("category_name")},"data-sort":"product_name","data-order":"DESC"},this.state.inventoryLang.inventory_Categories,i.a.createElement("i",{className:"asc"===this.state.sortorder&&"category_name"===this.state.sortby?"blue-gray":"desc"===this.state.sortorder&&"category_name"===this.state.sortby?"gray-blue":"gray-gray"})),i.a.createElement("th",{className:"col-xs-2 table-updated-th"},this.state.inventoryLang.inventory_Products_Count),i.a.createElement("th",{className:"col-xs-2 table-updated-th"},this.state.inventoryLang.inventory_Products_Stock),i.a.createElement("th",{className:"col-xs-2 table-updated-th","data-sort":"active","data-order":"DESC"},this.state.inventoryLang.inventory_active))),i.a.createElement("tbody",null,void 0!==this.state.CategoryData&&this.state.CategoryData.map(function(t,a){var s=e.state.action;return i.a.createElement("tr",{className:"table-updated-tr",key:a,onClick:e.inventoryEdit.bind(e,t.id,s)},i.a.createElement("td",{className:"table-updated-td"},t.category_name&&t.category_name?t.category_name:""),i.a.createElement("td",{className:"table-updated-td"},t.products_count&&0==t.products_count?e.state.inventoryLang.inventory_N_A:t.products_count),i.a.createElement("td",{className:"table-updated-td"},t.total_products_stock&&0==t.total_products_stock?e.state.inventoryLang.inventory_N_A:t.total_products_stock," ",t.total_products_stock&&0==t.total_products_stock?"":e.state.inventoryLang.dashboard_in_stock),i.a.createElement("td",{className:"table-updated-td",onClick:e.inventoryEdit.bind(e,t.id,s)},t.cat_status&&1===t.cat_status?e.state.inventoryLang.inventory_Yes:e.state.inventoryLang.inventory_No))}))),!1===this.state.showLoader&&i.a.createElement("div",{className:void 0!=this.state.CategoryData&&0==this.state.CategoryData.length?"no-record":"no-record no-display"},i.a.createElement("div",{className:"",style:{float:"left",width:"100%",fontSize:"13px",textAlign:"center",marginTop:"0px",padding:"0px"}},this.state.inventoryLang.inventory_No_record_found)),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.globalLang.Please_Wait))))),i.a.createElement("div",{className:this.state.showLoadingText?"loading-please-wait":"loading-please-wait no-display "},this.state.globalLang.loading_please_wait_text)),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};if(void 0!=e.exportCsvData&&("false"==localStorage.getItem("showLoader")&&(localStorage.setItem("showLoader",!0),window.open(e.exportCsvData.file)),e.emptyInventoryReducer()),void 0!=e.showLoader&&0==e.showLoader)return e.emptyInventoryReducer(),{showLoader:!1};if(void 0!=e.categoriesDeactivated&&1==e.categoriesDeactivated&&"false"==localStorage.getItem("showLoader"))return a.showLoader=!1,a;if(void 0!=e.CategoryData&&e.CategoryData.next_page_url!==t.next_page_url){var s={};return null==t.next_page_url?(localStorage.setItem("sortOnly",!1),s.next_page_url=null):(0==t.CategoryData.length&&1==t.startFresh?"false"==localStorage.getItem("sortOnly")?(s.CategoryData=e.CategoryData.data,null!=e.CategoryData.next_page_url?s.page=t.page+1:s.next_page_url=e.CategoryData.next_page_url,s.startFresh=!1,s.showLoader=!1,s.showLoadingText=!1):localStorage.setItem("sortOnly",!1):t.CategoryData!=e.CategoryData.data&&0!=t.CategoryData.length&&(s.CategoryData=Object(oa.a)(t.CategoryData).concat(Object(oa.a)(e.CategoryData.data)),s.page=t.page+1,s.next_page_url=e.CategoryData.next_page_url,s.showLoader=!1,s.showLoadingText=!1),s)}return null}}]),t}(n.Component);var hp=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData")),a={};return localStorage.setItem("showLoader",!1),"CATEGORY_LIST"===e.InventoryReducer.action&&(200===e.InventoryReducer.data.status?a.CategoryData=e.InventoryReducer.data.data:(rt.toast.error(t.global[e.InventoryReducer.data.message]),a.showLoader=!1)),"DEACTIVATE_ALL_CATEGORIES"===e.InventoryReducer.action&&(200===e.InventoryReducer.data.status?a.categoriesDeactivated=!0:(rt.toast.error(t.global[e.InventoryReducer.data.message]),a.showLoader=!1,a.timeStamp=new Date)),"EXPORT_DATA"===e.InventoryReducer.action&&(200===e.InventoryReducer.data.status?a.exportCsvData=e.InventoryReducer.data.data:(rt.toast.error(t.global[e.InventoryReducer.data.message]),a.showLoader=!1,a.timeStamp=new Date)),e.InventoryReducer.action,a},function(e){return Object(c.bindActionCreators)({fetchCategoriesData:yu,deactivateAllCat:Bu,exportData:zu,emptyInventoryReducer:Xu},e)})(Object(de.a)(pp)),gp=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,s="checkbox"===t.type?t.checked:t.value;a.setState(Object(se.a)({},e.target.name,s))},a.onSort=function(e){var t="asc"===a.state.sortorder?"desc":"asc",s={params:{page:1,sortby:e,sortorder:t,term:a.state.term,filter_by:a.state.type,status:a.state.status}};a.setState({page:1,sortby:e,sortorder:t,loadMore:!0,startFresh:!0,showLoader:!0,next_page_url:"",DiscountPackageData:[]}),localStorage.setItem("sortOnly",!0),a.props.fetchDiscountPackagesData(s)},a.loadMore=function(){localStorage.setItem("sortOnly",!1),a.setState({loadMore:!0,startFresh:!0,showLoader:!1,showLoadingText:!0});var e={params:{page:a.state.page,pagesize:a.state.pagesize,sortorder:"asc",sortby:"name",term:a.state.term,action:a.state.action,filter_by:a.state.type,status:a.state.status}};a.setState({showLoader:!0}),a.props.fetchDiscountPackagesData(e)},a.inventoryEdit=function(e,t){return localStorage.setItem("userID",t),i.a.createElement("div",null,a.props.history.push("/inventory/discount-package/".concat(e,"/edit")))},a.handleSubmit=function(e){e.preventDefault();var t=e.target.value,s=e.target.name;localStorage.setItem("sortOnly",!0);var n={params:{page:1,pagesize:a.state.pagesize,sortorder:"asc",sortby:"name",term:a.state.term,status:"status"==s?t:a.state.status,filter_by:"type"==s?t:a.state.type}};a.setState({page:1,pagesize:a.state.pagesize,sortorder:"asc",sortby:"name",startFresh:!0,loadMore:!0,next_page_url:"",DiscountPackageData:[],status:"status"==s?t:a.state.status,type:"type"==s?t:a.state.type}),a.setState({showLoader:!0,filterValue:"false"}),a.props.fetchDiscountPackagesData(n)};JSON.parse(localStorage.getItem("userData"));var s=JSON.parse(localStorage.getItem("languageData"));return a.state={loadMore:!0,startFresh:!0,showLoader:!1,page:1,pagesize:15,term:"",hasMoreItems:!0,next_page_url:"",searchFunction:"",user_changed:!1,tabClicked:!1,DiscountPackageData:[],data:[],childCheck:!1,action:e.match.params.statusId,sortorder:"",sortby:"name",scopes:"category",selected:[],selectAll:0,categoryName:"",show_below_stock:0,package_types:{},value:"",status:"all",type:"all",globalLang:s.global,inventoryLang:s.inventory,showLoadingText:!1},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),window.onscroll=function(){var e=parseInt(Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop));window.innerHeight+e===document.documentElement.offsetHeight&&null!=a.state.next_page_url&&a.loadMore()},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e={params:{page:this.state.page,pagesize:this.state.pagesize,sortorder:"asc",sortby:"name",term:this.state.term,action:this.state.action,filter_by:this.state.type,status:this.state.status}};this.setState({showLoader:!0}),this.props.fetchDiscountPackagesData(e)}},{key:"shouldComponentUpdate",value:function(e,t){return!!this.state.startFresh||(!!this.state.loadMore||!!this.state.showLoader)}},{key:"render",value:function(){var e=this,t=[];return null!=this.state.package_types&&(t=Object.entries(this.state.package_types).map(function(e){var t=Object(ye.a)(e,2);return{key:t[0],value:t[1]}})),i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(np,null),i.a.createElement("div",{className:"juvly-section full-width"},i.a.createElement("div",{className:"setting-search-outer"},i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("div",{className:"search-bg new-search"},i.a.createElement("i",{className:"fas fa-search"}),i.a.createElement("input",{className:"setting-search-input search-key",placeholder:"Search",name:"term",value:this.state.term,autoComplete:"off",onChange:this.handleInputChange}))),i.a.createElement("div",{className:"dropdown pull-right page-export"},i.a.createElement("div",{className:"dropdown pull-right page-export"},i.a.createElement(me.a,{to:"/inventory/discount-package/create",className:"new-blue-btn pull-right m-l-10"},this.state.inventoryLang.inventory_Add_Package)),i.a.createElement("div",{className:"filter-type pull-right"},i.a.createElement("span",{className:"search-text"},this.state.inventoryLang.inventory_Type,":"),i.a.createElement("div",{className:"header-select"},i.a.createElement("form",{onChange:this.handleSubmit},i.a.createElement("select",{name:"type",value:this.state.type,onChange:this.handleInputChange},t.length>0&&t.map(function(e,t){return i.a.createElement("option",{value:e.key,key:t},e.value&&e.value?e.value:"")}))),i.a.createElement("i",{className:"fas fa-angle-down"}))),i.a.createElement("div",{className:"filter-type pull-right"},i.a.createElement("span",{className:"search-text"},i.a.createElement("b",null,this.state.inventoryLang.inventory_Filter_by,": "),this.state.inventoryLang.inventory_Status,":"),i.a.createElement("div",{className:"header-select"},i.a.createElement("form",{onChange:this.handleSubmit},i.a.createElement("select",Object(se.a)({name:"status",value:this.state.status,onChange:this.handleInputChange},"value",this.state.status),i.a.createElement("option",{value:"all"},this.state.inventoryLang.inventory_all),i.a.createElement("option",{value:"active"},this.state.inventoryLang.inventory_active),i.a.createElement("option",{value:"inactive"},this.state.inventoryLang.inventory_Deleted))),i.a.createElement("i",{className:"fas fa-angle-down"}))))),i.a.createElement("div",{className:"table-responsive"},i.a.createElement("table",{className:"table-updated juvly-table"},i.a.createElement("thead",{className:"table-updated-thead"},i.a.createElement("tr",null,i.a.createElement("th",{className:"col-xs-2 table-updated-th cursor-pointer sorting",onClick:function(){return e.onSort("name")},"data-sort":"name","data-order":"DESC"},this.state.inventoryLang.inventory_Discount_Name,i.a.createElement("i",{className:"asc"===this.state.sortorder&&"name"===this.state.sortby?"blue-gray":"desc"===this.state.sortorder&&"name"===this.state.sortby?"gray-blue":"gray-gray"})),i.a.createElement("th",{className:"col-xs-2 table-updated-th"},this.state.inventoryLang.inventory_Type),i.a.createElement("th",{className:"col-xs-2 table-updated-th"},this.state.inventoryLang.inventory_Price),i.a.createElement("th",{className:"col-xs-2 table-updated-th"},this.state.inventoryLang.inventory_Discount))),i.a.createElement("tbody",null,void 0!==this.state.DiscountPackageData&&this.state.DiscountPackageData.map(function(t,a){var s=e.state.action,n=0,r=0;switch(t.type){case"percentage":n="",r=t.discount_percentage>0?Ie(t.discount_percentage,"decimal",2)+"%":"";break;case"dollars":n="",r=t.discount_dollars>0?Ie(t.discount_dollars,"currency",2):"";break;case"package":n=t.package_bogo_price>0?Ie(t.package_bogo_price,"currency",2):"",r="";break;case"bogo":"group"!==t.bogo_buy_type?(n=t.package_bogo_price>0?Ie(t.package_bogo_price,"currency",2):"",r=""):t.bogo_discount_percentage?(n="",r="Free"):(n="",r=t.bogo_discount_percentage>0?Ie(t.bogo_discount_percentage,"decimal",2)+"% OFF":"");break;default:n="",r=""}return i.a.createElement("tr",{className:"table-updated-tr",onClick:e.inventoryEdit.bind(e,t.id,s),key:a},i.a.createElement("td",{className:"table-updated-td"},t.name&&t.name?t.name:""),i.a.createElement("td",{className:"table-updated-td"},t.type&&"bogo"!=t.type?t.type:"group"==t.bogo_buy_type?"Bogo Disc Group":t.type),i.a.createElement("td",{className:"table-updated-td"},n),i.a.createElement("td",{className:"table-updated-td"},r))}))),!1===this.state.showLoader&&i.a.createElement("div",{className:void 0!=this.state.DiscountPackageData&&0==this.state.DiscountPackageData.length?"no-record":"no-record no-display"},i.a.createElement("div",{className:"",style:{float:"left",width:"100%",fontSize:"13px",textAlign:"center",marginTop:"0px",padding:"0px"}},this.state.inventoryLang.inventory_No_record_found)),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.inventoryLang.inventory_please_wait))))),i.a.createElement("div",{className:this.state.showLoadingText?"loading-please-wait":"loading-please-wait no-display "},this.state.inventoryLang.inventory_loading_please_wait)),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(void 0!=e.showLoader&&0==e.showLoader)return e.emptyInventoryReducer(),{showLoader:!1};if(void 0!=e.DiscountPackageData&&e.DiscountPackageData.next_page_url!==t.next_page_url){var a={};return null==t.next_page_url?(localStorage.setItem("sortOnly",!1),a.next_page_url=null):(0==t.DiscountPackageData.length&&1==t.startFresh?"false"==localStorage.getItem("sortOnly")?(a.DiscountPackageData=e.DiscountPackageData.data.data,null!=e.DiscountPackageData.next_page_url?a.page=t.page+1:a.next_page_url=e.DiscountPackageData.data.next_page_url,a.startFresh=!1,a.showLoader=!1,a.showLoadingText=!1,a.package_types=e.DiscountPackageData.data.package_types):localStorage.setItem("sortOnly",!1):t.DiscountPackageData!=e.DiscountPackageData.data.data&&0!=t.DiscountPackageData.length&&(a.DiscountPackageData=Object(oa.a)(t.DiscountPackageData).concat(Object(oa.a)(e.DiscountPackageData.data.data)),a.page=t.page+1,a.next_page_url=e.DiscountPackageData.data.next_page_url,a.package_types=e.DiscountPackageData.data.package_types,a.showLoader=!1,a.showLoadingText=!1),a)}return null}}]),t}(n.Component);var _p=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData")),a={};return"PACKAGES_LIST"===e.InventoryReducer.action?200===e.InventoryReducer.data.status?a.DiscountPackageData=e.InventoryReducer.data:(rt.toast.error(t.global[e.InventoryReducer.data.message]),a.showLoader=!1):e.InventoryReducer.action,a},function(e){return Object(c.bindActionCreators)({fetchDiscountPackagesData:Nu,emptyInventoryReducer:Xu},e)})(Object(de.a)(gp)),vp=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,s="checkbox"===t.type?t.checked:t.value;a.setState(Object(se.a)({},e.target.name,s))},a.onSort=function(e){var t="asc"===a.state.sortorder?"desc":"asc",s={params:{page:1,pagesize:a.state.pagesize,sortby:e,sortorder:t,term:a.state.term}};a.setState({page:1,pagesize:a.state.pagesize,sortby:e,sortorder:t,loadMore:!0,startFresh:!0,showLoader:!0,next_page_url:"",DiscountGroupData:[]}),localStorage.setItem("sortOnly",!0),a.props.fetchDiscountGroupData(s)},a.loadMore=function(){localStorage.setItem("sortOnly",!1),a.setState({loadMore:!0,startFresh:!0,showLoader:!1,showLoadingText:!0});var e={params:{page:a.state.page,pagesize:a.state.pagesize,sortorder:"asc",sortby:"name",term:a.state.term,action:a.state.action}};a.setState({showLoader:!0}),a.props.fetchDiscountGroupData(e)},a.componentWillUnmount=function(){a.props.exportEmptyData({}),a.setState({showLoader:!1})},a.handleSubmit=function(e){e.preventDefault(),localStorage.setItem("sortOnly",!0);var t={params:{page:1,sortorder:"asc",sortby:null,term:a.state.term}};a.setState({page:1,pagesize:a.state.pagesize,sortorder:"asc",sortby:null,startFresh:!0,loadMore:!0,next_page_url:"",DiscountGroupData:[]}),a.setState({showLoader:!0,filterValue:"false"}),a.props.fetchDiscountGroupData(t)},a.InventoryEdit=function(e){return i.a.createElement("div",{className:"no-display"},a.props.history.push("/inventory/discount-groups/".concat(e,"/edit")))};JSON.parse(localStorage.getItem("userData"));var s=JSON.parse(localStorage.getItem("languageData"));return a.state={loadMore:!0,startFresh:!0,showLoader:!1,page:1,pagesize:15,term:"",hasMoreItems:!0,next_page_url:"",searchFunction:"",user_changed:!1,tabClicked:!1,DiscountGroupData:[],data:[],childCheck:!1,action:e.match.params.statusId,sortorder:"",sortby:"name",scopes:"category",selected:[],selectAll:0,categoryName:"",show_below_stock:0,globalLang:s.global,inventoryLang:s.inventory,showLoadingText:!1},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),window.onscroll=function(){var e=parseInt(Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop));window.innerHeight+e===document.documentElement.offsetHeight&&null!=a.state.next_page_url&&a.loadMore()},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e={params:{page:this.state.page,pagesize:this.state.pagesize,sortorder:"asc",sortby:"name",term:this.state.term,action:this.state.action}};this.setState({showLoader:!0}),this.props.fetchDiscountGroupData(e)}},{key:"shouldComponentUpdate",value:function(e,t){return!!this.state.startFresh||(!!this.state.loadMore||!!this.state.showLoader)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(np,null),i.a.createElement("div",{className:"juvly-section full-width"},i.a.createElement("div",{className:"setting-search-outer"},i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("div",{className:"search-bg new-search"},i.a.createElement("i",{className:"fas fa-search"}),i.a.createElement("input",{className:"setting-search-input search-key",placeholder:"Search",name:"term",value:this.state.term,autoComplete:"off",onChange:this.handleInputChange}))),i.a.createElement("div",{className:"dropdown pull-right page-export"},i.a.createElement("div",{className:"dropdown pull-right page-export"},i.a.createElement(me.a,{to:"/inventory/discount-groups/add",className:"new-blue-btn pull-right m-l-10"},this.state.inventoryLang.inventory_Add_Discount_Groups)))),i.a.createElement("div",{className:"table-responsive"},i.a.createElement("table",{className:"table-updated juvly-table"},i.a.createElement("thead",{className:"table-updated-thead"},i.a.createElement("tr",null,i.a.createElement("th",{className:"col-xs-2 table-updated-th cursor-pointer sorting",onClick:function(){return e.onSort("name")},"data-sort":"name","data-order":"DESC"},this.state.inventoryLang.inventory_name,i.a.createElement("i",{className:"asc"===this.state.sortorder&&"name"===this.state.sortby?"blue-gray":"desc"===this.state.sortorder&&"name"===this.state.sortby?"gray-blue":"gray-gray"})),i.a.createElement("th",{className:"col-xs-2 table-updated-th"},this.state.inventoryLang.inventory_Product),i.a.createElement("th",{className:"col-xs-2 table-updated-th"},this.state.inventoryLang.inventory_Status))),i.a.createElement("tbody",null,void 0!==this.state.DiscountGroupData&&this.state.DiscountGroupData.map(function(t,a){return i.a.createElement("tr",{className:"table-updated-tr",onClick:e.InventoryEdit.bind(e,t.id),key:a},i.a.createElement("td",{className:"table-updated-td"},t.name?t.name:""),i.a.createElement("td",{className:"table-updated-td"},t.product_names?t.product_names:""),i.a.createElement("td",{className:"table-updated-td"},0==t.status?e.state.inventoryLang.inventory_active:e.state.inventoryLang.inventory_inactive))}))),!1===this.state.showLoader&&i.a.createElement("div",{className:void 0!=this.state.DiscountGroupData&&0==this.state.DiscountGroupData.length?"no-record":"no-record no-display"},i.a.createElement("div",{className:"",style:{float:"left",width:"100%",fontSize:"13px",textAlign:"center",marginTop:"0px",padding:"0px"}},this.state.inventoryLang.inventory_No_record_found)),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.globalLang.Please_Wait))))),i.a.createElement("div",{className:this.state.showLoadingText?"loading-please-wait":"loading-please-wait no-display "},this.state.globalLang.loading_please_wait_text)),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(void 0!=e.showLoader&&0==e.showLoader)return e.emptyInventoryReducer(),{showLoader:!1};if(void 0!=e.DiscountGroupData&&e.DiscountGroupData.next_page_url!==t.next_page_url){var a={};return null==t.next_page_url?(localStorage.setItem("sortOnly",!1),a.next_page_url=null):(0==t.DiscountGroupData.length&&1==t.startFresh?"false"==localStorage.getItem("sortOnly")?(a.DiscountGroupData=e.DiscountGroupData.data,null!=e.DiscountGroupData.next_page_url?a.page=t.page+1:a.next_page_url=e.DiscountGroupData.next_page_url,a.startFresh=!1,a.showLoader=!1,a.showLoadingText=!1):localStorage.setItem("sortOnly",!1):t.DiscountGroupData!=e.DiscountGroupData.data&&0!=t.DiscountGroupData.length&&(a.DiscountGroupData=Object(oa.a)(t.DiscountGroupData).concat(Object(oa.a)(e.DiscountGroupData.data)),a.page=t.page+1,a.next_page_url=e.DiscountGroupData.next_page_url,a.showLoader=!1,a.showLoadingText=!1),a)}return null}}]),t}(n.Component);var fp=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData")),a={};return"DISCOUNT_GROUP_LIST"===e.InventoryReducer.action?200===e.InventoryReducer.data.status?a.DiscountGroupData=e.InventoryReducer.data.data:(rt.toast.error(t.global[e.InventoryReducer.data.message]),a.showLoader=!1):e.InventoryReducer.action,a},function(e){return Object(c.bindActionCreators)({fetchDiscountGroupData:Su,emptyInventoryReducer:Xu,exportEmptyData:ep},e)})(Object(de.a)(vp)),bp=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,s="checkbox"===t.type?t.checked:t.value;a.setState(Object(se.a)({},e.target.name,s))},a.onSort=function(e){var t="asc"===a.state.sortorder?"desc":"asc",s={params:{page:1,pagesize:a.state.pagesize,sortby:e,sortorder:t,term:a.state.term}};a.setState({page:1,pagesize:a.state.pagesize,sortby:e,sortorder:t,loadMore:!0,startFresh:!0,showLoader:!0,next_page_url:"",EGiftCard:[]}),localStorage.setItem("sortOnly",!0),a.props.fetchEGiftCardData(s)},a.loadMore=function(){localStorage.setItem("sortOnly",!1),a.setState({loadMore:!0,startFresh:!0,showLoader:!1,showLoadingText:!0});var e={params:{page:a.state.page,pagesize:a.state.pagesize,sortorder:"asc",sortby:"name",term:a.state.term,action:a.state.action}};a.setState({showLoader:!0}),a.props.fetchEGiftCardData(e)},a.inventoryEdit=function(e){return i.a.createElement("div",{className:"no-display"},a.props.history.push("/inventory/e-giftcards/".concat(e,"/edit")))},a.handleSubmit=function(e){e.preventDefault(),localStorage.setItem("sortOnly",!0);var t={params:{page:1,pagesize:a.state.pagesize,sortorder:"asc",sortby:"name",term:a.state.term}};a.setState({page:1,pagesize:a.state.pagesize,sortorder:"asc",sortby:"name",startFresh:!0,loadMore:!0,next_page_url:"",EGiftCard:[]}),a.setState({showLoader:!0,filterValue:"false"}),a.props.fetchEGiftCardData(t)};var s=JSON.parse(localStorage.getItem("userData")),n=JSON.parse(localStorage.getItem("languageData"));return a.state={loadMore:!0,startFresh:!0,showLoader:!1,id:s.user.id,page:1,pagesize:15,term:"",hasMoreItems:!0,next_page_url:"",searchFunction:"",user_changed:!1,tabClicked:!1,EGiftCard:[],data:[],childCheck:!1,action:e.match.params.statusId,sortorder:"",sortby:"name",scopes:"category",selected:[],selectAll:0,categoryName:"",show_below_stock:0,globalLang:n.global,settingsLang:n.settings,inventoryLang:n.inventory,showLoadingText:!1},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),window.onscroll=function(){var e=parseInt(Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop));window.innerHeight+e===document.documentElement.offsetHeight&&null!=a.state.next_page_url&&a.loadMore()},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e={params:{page:this.state.page,pagesize:this.state.pagesize,sortorder:"asc",sortby:"name",term:this.state.term,action:this.state.action}};this.setState({showLoader:!0}),this.props.fetchEGiftCardData(e)}},{key:"shouldComponentUpdate",value:function(e,t){return!!this.state.startFresh||(!!this.state.loadMore||!!this.state.showLoader)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(np,null),i.a.createElement("div",{className:"juvly-section full-width"},i.a.createElement("div",{className:"setting-search-outer"},i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("div",{className:"search-bg new-search"},i.a.createElement("i",{className:"fas fa-search"}),i.a.createElement("input",{className:"setting-search-input search-key",placeholder:"Search",name:"term",autoComplete:"off",value:this.state.term,onChange:this.handleInputChange}))),i.a.createElement("div",{className:"dropdown pull-right page-export"},i.a.createElement("div",{className:"dropdown pull-right page-export"},i.a.createElement(me.a,{to:"/inventory/e-giftcards/create",className:"new-blue-btn pull-right m-l-10"},this.state.inventoryLang.dashboard_Add_EGift_Cards)))),i.a.createElement("div",{className:"table-responsive"},i.a.createElement("table",{className:"table-updated juvly-table"},i.a.createElement("thead",{className:"table-updated-thead"},i.a.createElement("tr",null,i.a.createElement("th",{className:"col-xs-2 table-updated-th sorting",onClick:function(){return e.onSort("name")},"data-sort":"name","data-order":"DESC"},this.state.inventoryLang.survey_nps_name,i.a.createElement("i",{className:"asc"===this.state.sortorder&&"name"===this.state.sortby?"blue-gray":"desc"===this.state.sortorder&&"name"===this.state.sortby?"gray-blue":"gray-gray"})),i.a.createElement("th",{className:"col-xs-2 table-updated-th"},this.state.inventoryLang.dashboard_Amount),i.a.createElement("th",{className:"col-xs-2 table-updated-th"},this.state.inventoryLang.dashboard_Available_for_Purchase_on),i.a.createElement("th",{className:"col-xs-2 table-updated-th"},this.state.inventoryLang.dashboard_Valid_Until))),i.a.createElement("tbody",null,void 0!==this.state.EGiftCard&&this.state.EGiftCard.map(function(t,a){e.state.action;return i.a.createElement("tr",{className:"table-updated-tr",onClick:e.inventoryEdit.bind(e,t.id),key:a},i.a.createElement("td",{className:"table-updated-td"},t.name?t.name:""),i.a.createElement("td",{className:"table-updated-td"},t.amount?t.amount:""),i.a.createElement("td",{className:"table-updated-td"},Be(t.active_from)),i.a.createElement("td",{className:"table-updated-td"},Be(t.active_till)))}))),!1===this.state.showLoader&&i.a.createElement("div",{className:void 0!=this.state.EGiftCard&&0==this.state.EGiftCard.length?"no-record":"no-record no-display"},i.a.createElement("div",{className:"",style:{float:"left",width:"100%",fontSize:"13px",textAlign:"center",marginTop:"0px",padding:"0px"}},this.state.inventoryLang.dashboard_No_record_found)),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.globalLang.Please_Wait))))),i.a.createElement("div",{className:this.state.showLoadingText?"loading-please-wait":"loading-please-wait no-display "},this.state.globalLang.loading_please_wait_text)),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(void 0!=e.showLoader&&0==e.showLoader)return e.emptyInventoryReducer(),{showLoader:!1};if(void 0!=e.EGiftCard&&e.EGiftCard.next_page_url!==t.next_page_url){var a={};return null==t.next_page_url?(localStorage.setItem("sortOnly",!1),a.next_page_url=null):(0==t.EGiftCard.length&&1==t.startFresh?"false"==localStorage.getItem("sortOnly")?(a.EGiftCard=e.EGiftCard.data,null!=e.EGiftCard.next_page_url?a.page=t.page+1:a.next_page_url=e.EGiftCard.next_page_url,a.startFresh=!1,a.showLoader=!1,a.showLoadingText=!1):localStorage.setItem("sortOnly",!1):t.EGiftCard!=e.EGiftCard.data&&0!=t.EGiftCard.length&&(a.EGiftCard=Object(oa.a)(t.EGiftCard).concat(Object(oa.a)(e.EGiftCard.data)),a.page=t.page+1,a.next_page_url=e.EGiftCard.next_page_url,a.showLoader=!1,a.showLoadingText=!1),a)}return null}}]),t}(n.Component);var Ep=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData")),a={};return"EGIFT_CARD_LIST"===e.InventoryReducer.action?200===e.InventoryReducer.data.status?a.EGiftCard=e.InventoryReducer.data.data:(rt.toast.error(t.global[e.InventoryReducer.data.message]),a.showLoader=!1):e.InventoryReducer.action,a},function(e){return Object(c.bindActionCreators)({fetchEGiftCardData:Du,emptyInventoryReducer:Xu},e)})(Object(de.a)(bp)),yp=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleChange=function(e){a.setState({active_from:e})},a.handleChangeTill=function(e){a.setState({active_till:e})},a.toggleDatePicker=function(){a.refDatePicker.setFocus(!0),a.refDatePicker.setOpen(!0)},a.blurDatePicker=function(e){a.refDatePicker.setOpen(!0),a.setState({showDatePicker:!0})},a.focusDatePicker=function(e){a.setState({showDatePicker:!0})},a.blurRepeatDatePicker=function(e){a.refRepeatDatePicker.setOpen(!0)},a.focusRepeatDatePicker=function(e){a.setState({showDatePicker:!0})},a.toggleRepeatDatePicker=function(){a.refRepeatDatePicker.setFocus(!0),a.refRepeatDatePicker.setOpen(!0)},a.handleInputChange=function(e){var t=e.target,s="checkbox"===t.type?t.checked:t.value;a.setState(Object(se.a)({},e.target.name,s))},a.handleClick=function(e){a.refDatePickerContainer.contains(e.target)||a.refDatePicker.setOpen(!1),a.refRepeatDatePickerContainer.contains(e.target)||a.refRepeatDatePicker.setOpen(!1)},a.inventoryEdit=function(e,t){return i.a.createElement("div",{className:"no-display"},a.props.history.push("/inventory/e-giftcards/".concat(t,"/edit")))},a.handleSubmit=function(e,t){var s=a.props.match.params.id,n=!1;if(e.preventDefault(),localStorage.setItem("sortOnly",!0),a.setState({name_Error:!1,amount_Error:!1,active_from_Error:!1,active_till_Error:!1,validity_period_Error:!1,policy_Error:!1}),void 0!==typeof a.state.name&&null!==a.state.name&&""!==a.state.name||(a.setState({name_Error:!0}),n=!0),void 0!==typeof a.state.amount&&null!==a.state.amount&&""!==a.state.amount||(a.setState({amount_Error:!0}),n=!0),void 0!==typeof a.state.active_from&&null!==a.state.active_from&&""!==a.state.active_from||(a.setState({active_from_Error:!0}),n=!0),void 0!==typeof a.state.active_till&&null!==a.state.active_till&&""!==a.state.active_till||(a.setState({active_till_Error:!0}),n=!0),void 0!==typeof a.state.validity_period&&null!==a.state.validity_period&&""!==a.state.validity_period||(a.setState({validity_period_Error:!0}),n=!0),void 0!==typeof a.state.policy&&null!==a.state.policy&&""!==a.state.policy||(a.setState({policy_Error:!0}),n=!0),!0!==n){var i={name:a.state.name,amount:"custom"===a.state.amount?a.state.custom_amount:a.state.amount,active_from:Se()(a.state.active_from).format("YYYY-MM-DD"),active_till:Se()(a.state.active_till).format("YYYY-MM-DD"),validity_period:a.state.validity_period,policy:a.state.policy};"custom"==a.state.amount&&(i.type="custom"),a.setState({showLoader:!0}),s?a.props.updateEGiftCard(i,s):a.props.createEGiftCard(i)}},a.showDeleteModal=function(){a.setState({showModal:!0})},a.dismissModal=function(){a.setState({showModal:!1})},a.deleteEGiftCard=function(){a.dismissModal(),a.setState({showLoader:!0});var e=a.props.match.params.id;a.props.deleteEGiftCard(e)};JSON.parse(localStorage.getItem("userData"));var s=JSON.parse(localStorage.getItem("languageData"));return a.state={id:a.props.match.params.id,showCalendar:!1,name:"",custom_amount:0,amount:"",active_from:new Date,active_till:new Date,validity_period:"12",policy:"",startFresh:!0,showLoader:!1,showModal:!1,user_changed:!1,tabClicked:!1,EGiftCard:[],data:[],childCheck:!1,selected:[],selectAll:0,categoryName:"",show_below_stock:0,globalLang:s.global,inventoryLang:s.inventory,dashboardLang:s.dashboard},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),window.onscroll=function(){return!1},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){window.onscroll=function(){return!1},document.addEventListener("click",this.handleClick,!1);var e=this.props.match.params.id;e&&this.setState({eGiftCardId:e}),e&&(this.setState({showLoader:!0}),this.props.fetchEGiftCardDataID(e))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClick,!1)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(np,null),i.a.createElement("div",{className:"juvly-section full-width"},i.a.createElement("div",{className:"juvly-container m-h-container"},i.a.createElement("div",{className:"juvly-title m-b-40\t"},this.state.id?"Edit eGift Card":"Create eGift Card",i.a.createElement("a",{href:"/inventory/e-giftcards",className:"pull-right"},i.a.createElement("img",{src:"/images/close.png"}))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"juvly-subtitle"},this.state.inventoryLang.inventory_eGift_Card_Information),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.inventoryLang.inventory_eGift_Card_Name," ",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("input",{className:!0===this.state.name_Error?"setting-input-box field_error":"setting-input-box",type:"text",name:"name",value:this.state.name,placeholder:"eGift Card Name",autoComplete:"off",onChange:this.handleInputChange}))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.inventoryLang.inventory_Enter_Amount," ",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-6"},i.a.createElement("select",{className:!0===this.state.amount_Error?"setting-select-box field_error":"setting-select-box",name:"amount",value:this.state.amount,onChange:this.handleInputChange},i.a.createElement("option",{value:""},this.state.inventoryLang.inventory_Select_Value),i.a.createElement("option",{value:"5"},this.state.inventoryLang.inventory_dollar_five),i.a.createElement("option",{value:"25"},this.state.inventoryLang.inventory_dollar_tweenty_five),i.a.createElement("option",{value:"50"},this.state.inventoryLang.inventory_dollaer_fifty),i.a.createElement("option",{value:"100"},this.state.inventoryLang.inventory_dollar_hundread),i.a.createElement("option",{value:"custom"},this.state.inventoryLang.inventory_custom))),i.a.createElement("div",{className:"custom"===this.state.amount?"col-xs-6":"col-xs-6 no-display"},i.a.createElement("input",{className:"setting-input-box",type:"text",name:"custom_amount",value:this.state.custom_amount,autoComplete:"off",onChange:this.handleInputChange}))))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.inventoryLang.inventory_Available_for_purchase_on," ",i.a.createElement("span",{className:"setting-require"},"*"),i.a.createElement("a",{href:"javascript:void(0);",className:"help-icon-form",title:this.state.inventoryLang.inventory_Available_for_purchase_on_tootip},"?")),i.a.createElement("div",{className:"setting-input-outer",ref:function(t){return e.refDatePickerContainer=t}},i.a.createElement("a",{href:"javascript:void(0);",className:"client-treat-cal",onClick:this.toggleDatePicker},i.a.createElement("i",{className:"fas fa-calendar-alt"})),i.a.createElement(xn.a,{className:!0===this.state.active_from_Error?"setting-input-box field_error":"setting-input-box",selected:this.state.active_from?this.state.active_from:null,dateFormat:"yyyy-MM-dd",onChange:this.handleChange,onBlur:this.blurDatePicker,onFocus:this.focusDatePicker,minDate:new Date,maxDate:new Date(Se()().add(3,"years")),showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",ref:function(t){return e.refDatePicker=t}})))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.inventoryLang.inventory_Available_for_purchase_until," ",i.a.createElement("span",{className:"setting-require"},"*"),i.a.createElement("a",{href:"javascript:void(0)",className:"help-icon-form",title:this.state.inventoryLang.inventory_Available_for_purchase_until_tootip},"?")),i.a.createElement("div",{className:"setting-input-outer",ref:function(t){return e.refRepeatDatePickerContainer=t}},i.a.createElement("a",{href:"javascript:void(0);",className:"client-treat-cal",onClick:this.toggleRepeatDatePicker},i.a.createElement("i",{className:"fas fa-calendar-alt"})),i.a.createElement(xn.a,{className:!0===this.state.active_till_Error?"setting-input-box field_error":"setting-input-box",selected:this.state.active_till?this.state.active_till:null,dateFormat:"yyyy-MM-dd",onChange:this.handleChangeTill,onBlur:this.blurRepeatDatePicker,onFocus:this.focusRepeatDatePicker,minDate:new Date,maxDate:new Date(Se()().add(3,"years")),showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",ref:function(t){return e.refRepeatDatePicker=t}})))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.inventoryLang.inventory_Validity_of_eGift_after," ",i.a.createElement("span",{className:"setting-require"},"*"),i.a.createElement("a",{href:"javascript:void(0)",className:"help-icon-form",title:this.state.inventoryLang.inventory_Validity_of_eGift_after_tootip},"?")),i.a.createElement("select",{className:!0===this.state.validity_period_Error?"setting-input-box field_error":"setting-select-box",name:"validity_period",value:this.state.validity_period,onChange:this.handleInputChange},i.a.createElement("option",{value:"1"},this.state.inventoryLang.inventory_one_month),i.a.createElement("option",{value:"2"},this.state.inventoryLang.inventory_two_months),i.a.createElement("option",{value:"3"},this.state.inventoryLang.inventory_three_months),i.a.createElement("option",{value:"4"},this.state.inventoryLang.inventory_four_months),i.a.createElement("option",{value:"5"},this.state.inventoryLang.inventory_five_months),i.a.createElement("option",{value:"6"},this.state.inventoryLang.inventory_six_months),i.a.createElement("option",{value:"7"},this.state.inventoryLang.inventory_seven_months),i.a.createElement("option",{value:"8"},this.state.inventoryLang.inventory_eight_months),i.a.createElement("option",{value:"9"},this.state.inventoryLang.inventory_nine_months),i.a.createElement("option",{value:"10"},this.state.inventoryLang.inventory_ten_months),i.a.createElement("option",{value:"11"},this.state.inventoryLang.inventory_eleven_months),i.a.createElement("option",{value:"12"},this.state.inventoryLang.inventory_one_year)))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.inventoryLang.inventory_eGift_Card_Policy,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("textarea",{className:!0===this.state.policy_Error?"setting-textarea-box field_error":"setting-textarea-box",name:"policy",placeholder:"eGift Card Policy ",value:this.state.policy,onChange:this.handleInputChange}))))))),i.a.createElement("div",{className:"col-lg-4 col-sm-6 col-xs-12 col-lg-offset-2"},i.a.createElement("div",{className:"juvly-subtitle"},this.state.inventoryLang.inventory_eGift_Card_Information),i.a.createElement("div",{className:"new-gift-card"},i.a.createElement("img",{src:"/images/card.png",className:"gift-card"}),i.a.createElement("div",{className:"gift-amount"},i.a.createElement("span",{className:"gift-amount-span"},"$"),i.a.createElement("label",{className:"gift-amount-label"},void 0!=this.state.amount&&null!=this.state.amount&&""!=this.state.amount?"custom"==this.state.amount?Ie(this.state.custom_amount):Ie(this.state.amount):Ie(0))),i.a.createElement("div",{className:"gift-card-logo"},i.a.createElement("img",{src:"/images/logo.png"})))))),i.a.createElement("div",{className:"footer-static"},i.a.createElement("button",{className:"new-blue-btn pull-right",id:"saveform",onClick:this.handleSubmit},this.state.inventoryLang.inventory_save),i.a.createElement(me.a,{to:"/inventory/e-giftcards",className:"new-white-btn pull-right",id:"resetform"},this.state.inventoryLang.inventory_Cancel),this.state.id?i.a.createElement("button",{className:this.state.id?"new-red-btn pull-left":"new-red-btn pull-left no-display",id:"resetform",onClick:this.showDeleteModal,"data-message":this.state.inventoryLang.inventory_are_you_sure_del_PTI},this.state.inventoryLang.inventory_delete):"",i.a.createElement("div",{className:this.state.showModal?"overlay":""}),i.a.createElement("div",{id:"filterModal",role:"dialog",className:this.state.showModal?"modal fade in displayBlock":"modal fade"},i.a.createElement("div",{className:"modal-dialog"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal",onClick:this.dismissModal},"\xd7"),i.a.createElement("h4",{className:"modal-title",id:"model_title"},this.state.inventoryLang.inventory_Confirmation_required,this.state.showModal)),i.a.createElement("div",{id:"errorwindow",className:"modal-body add-patient-form filter-patient"},this.state.inventoryLang.inventory_del_PTI),i.a.createElement("div",{className:"modal-footer"},i.a.createElement("div",{className:"col-md-12 text-left",id:"footer-btn"},i.a.createElement("button",{type:"button",className:"btn  logout pull-right","data-dismiss":"modal",onClick:this.dismissModal},this.state.inventoryLang.inventory_No),i.a.createElement("button",{type:"button",className:"btn btn-success pull-right m-r-10","data-dismiss":"modal",onClick:this.deleteEGiftCard},this.state.inventoryLang.inventory_Yes))))))),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.globalLang.Please_Wait))))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(void 0!==e.fetchInventoryEGiftData&&200===e.fetchInventoryEGiftData.status&&e.fetchInventoryEGiftData.data!=t.fetchInventoryEGiftData){var a={};return a.name=t.userChanged?t.name:e.fetchInventoryEGiftData.data.name,a.amount=t.userChanged?t.amount:"custom"==e.fetchInventoryEGiftData.data.type?"custom":e.fetchInventoryEGiftData.data.amount,a.custom_amount=t.userChanged?t.amount:"custom"==e.fetchInventoryEGiftData.data.type?e.fetchInventoryEGiftData.data.amount:0,a.active_from=t.userChanged?t.active_from:Se()(e.fetchInventoryEGiftData.data.active_from).toDate(),a.active_till=t.userChanged?t.active_till:Se()(e.fetchInventoryEGiftData.data.active_till).toDate(),a.validity_period=t.userChanged?t.validity_period:e.fetchInventoryEGiftData.data.validity_period,a.policy=t.userChanged?t.policy:e.fetchInventoryEGiftData.data.policy,a.fetchInventoryEGiftData=e.fetchInventoryEGiftData.data,a.showLoader=!1,a}if(void 0==e.redirect||1!=e.redirect)return void 0!=e.showLoader&&0==e.showLoader?{showLoader:!1}:null;rt.toast.success(e.message,{onClose:function(){e.history.push("/inventory/e-giftcards")}})}}]),t}(n.Component);var Np=Object(Z.b)(function(e){var t={},a=JSON.parse(localStorage.getItem("languageData"));return"CREATE_EGIFTCARD"===e.InventoryReducer.action?200===e.InventoryReducer.data.status?(t.redirect=!0,t.message=a.global[e.InventoryReducer.data.message]):(rt.toast.dismiss(),rt.toast.error(a.global[e.InventoryReducer.data.message]),t.showLoader=!1):"FETCH_SELECTED_EGIFTCARD"===e.InventoryReducer.action?200===e.InventoryReducer.data.status?t.fetchInventoryEGiftData=e.InventoryReducer.data:(rt.toast.dismiss(),rt.toast.error(a.global[e.InventoryReducer.data.message]),t.showLoader=!1):"UPDATE_EGIFTCARD"===e.InventoryReducer.action?200===e.InventoryReducer.data.status?(t.redirect=!0,t.message=a.global[e.InventoryReducer.data.message]):(rt.toast.dismiss(),rt.toast.error(a.global[e.InventoryReducer.data.message]),t.showLoader=!1):"DELETE_EGIFTCARD"===e.InventoryReducer.action&&(200===e.InventoryReducer.data.status?(t.redirect=!0,t.message=a.global[e.InventoryReducer.data.message]):(rt.toast.dismiss(),rt.toast.error(a.global[e.InventoryReducer.data.message]),t.showLoader=!1)),t},function(e){return Object(c.bindActionCreators)({updateEGiftCard:wu,createEGiftCard:Cu,deleteEGiftCard:xu,fetchEGiftCardDataID:Lu},e)})(Object(de.a)(yp)),Sp=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,s="checkbox"===t.type?t.checked:t.value;a.setState(Object(se.a)({},e.target.name,s))},a.onSort=function(e){var t="asc"===a.state.sortorder?"desc":"asc",s={params:{page:1,pagesize:a.state.pagesize,sortby:e,sortorder:t,term:a.state.term}};a.setState({page:1,pagesize:a.state.pagesize,sortby:e,sortorder:t,loadMore:!0,startFresh:!0,showLoader:!0,next_page_url:"",DiscountGroupData:[]}),localStorage.setItem("sortOnly",!0),a.props.fetchDiscountGroupData(s)},a.loadMore=function(){localStorage.setItem("sortOnly",!1),a.setState({loadMore:!0,startFresh:!0,showLoader:!1,showLoadingText:!0});var e={params:{page:a.state.page,pagesize:a.state.pagesize,sortorder:a.state.sortorder,term:a.state.term,action:a.state.action}};a.setState({showLoader:!0}),a.props.fetchDiscountGroupData(e)},a.inventoryEdit=function(e,t){return i.a.createElement("div",{className:"no-display"},"//",a.props.history.push("/inventory/products/categories/".concat(t,"/edit")))},a.handleSubmit=function(e){e.preventDefault(),localStorage.setItem("sortOnly",!0);var t={params:{page:1,pagesize:a.state.pagesize,sortorder:a.state.sortorder,term:a.state.term}};a.setState({page:1,pagesize:a.state.pagesize,sortorder:"asc"==a.state.sortorder?"desc":"asc",startFresh:!0,loadMore:!0,next_page_url:"",DiscountGroupData:[]}),a.setState({showLoader:!0,filterValue:"false"}),a.props.fetchDiscountGroupData(t)};JSON.parse(localStorage.getItem("userData"));var s=JSON.parse(localStorage.getItem("languageData"));return a.state={loadMore:!0,startFresh:!0,showLoader:!1,page:1,pagesize:15,term:"",hasMoreItems:!0,next_page_url:"",searchFunction:"",user_changed:!1,tabClicked:!1,DiscountGroupData:[],data:[],childCheck:!1,action:e.match.params.statusId,sortorder:"asc",scopes:"category",selected:[],selectAll:0,categoryName:"",show_below_stock:0,globalLang:s.global,inventoryLang:s.inventory,showLoadingText:!1},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),window.onscroll=function(){var e=parseInt(Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop));window.innerHeight+e===document.documentElement.offsetHeight&&null!=a.state.next_page_url&&a.loadMore()},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e={params:{page:this.state.page,pagesize:this.state.pagesize,sortorder:"asc",term:this.state.term,action:this.state.action}};this.setState({showLoader:!0}),this.props.fetchDiscountGroupData(e)}},{key:"shouldComponentUpdate",value:function(e,t){return!!this.state.startFresh||(!!this.state.loadMore||!!this.state.showLoader)}},{key:"render",value:function(){return i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(np,null),i.a.createElement("div",{className:"juvly-section full-width"},i.a.createElement("div",{className:"setting-search-outer"},i.a.createElement("a",{href:"/inventory/treatmentPlanTemplates/create",className:"new-blue-btn pull-right m-l-10"},"Create Template")),i.a.createElement("div",{className:"table-responsive"},i.a.createElement("table",{className:"table-updated juvly-table"},i.a.createElement("thead",{className:"table-updated-thead"},i.a.createElement("tr",null,i.a.createElement("th",{className:"col-xs-2 table-updated-th"},"Template Name"),i.a.createElement("th",{className:"col-xs-2 table-updated-th"},"Plan Type"),i.a.createElement("th",{className:"col-xs-2 table-updated-th"},"Plan Duration"))),i.a.createElement("tbody",null,i.a.createElement("tr",{className:"table-updated-tr"},i.a.createElement("td",{className:"table-updated-td"},"Clenziderm system"),i.a.createElement("td",{className:"table-updated-td"},"Yes"),i.a.createElement("td",{className:"table-updated-td"},"N/A")),i.a.createElement("tr",{className:"table-updated-tr"},i.a.createElement("td",{className:"table-updated-td"},"Clenziderm system"),i.a.createElement("td",{className:"table-updated-td"},"Yes"),i.a.createElement("td",{className:"table-updated-td"},"N/A")),i.a.createElement("tr",{className:"table-updated-tr"},i.a.createElement("td",{className:"no-record no-float",colSpan:6},"No record found")))),i.a.createElement("div",{className:void 0!=this.state.DiscountGroupData&&0==this.state.DiscountGroupData.length?"no-record":"no-record no-display"},i.a.createElement("div",{className:"",style:{float:"left",width:"100%",fontSize:"13px",textAlign:"center",marginTop:"0px",padding:"0px"}},this.state.inventoryLang.dashboard_No_record_found)),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.globalLang.Please_Wait)))))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(void 0!=e.DiscountGroupData&&e.DiscountGroupData.next_page_url!==t.next_page_url){var a={};return null==t.next_page_url?(localStorage.setItem("sortOnly",!1),a.next_page_url=null):(0==t.DiscountGroupData.length&&1==t.startFresh?"false"==localStorage.getItem("sortOnly")?(a.DiscountGroupData=e.DiscountGroupData.data,null!=e.DiscountGroupData.next_page_url?a.page=t.page+1:a.next_page_url=e.DiscountGroupData.next_page_url,a.startFresh=!1,a.showLoader=!1,a.showLoadingText=!1):localStorage.setItem("sortOnly",!1):t.DiscountGroupData!=e.DiscountGroupData.data&&0!=t.DiscountGroupData.length&&(a.DiscountGroupData=Object(oa.a)(t.DiscountGroupData).concat(Object(oa.a)(e.DiscountGroupData.data)),a.page=t.page+1,a.next_page_url=e.DiscountGroupData.next_page_url,a.showLoader=!1,a.showLoadingText=!1),a)}return null}}]),t}(n.Component);var Dp=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData")),a={};return"DISCOUNT_GROUP_LIST1"===e.InventoryReducer.action?200===e.InventoryReducer.data.status?a.DiscountGroupData=e.InventoryReducer.data.data:(rt.toast.error(t.global[e.InventoryReducer.data.message]),a.showLoader=!1):e.InventoryReducer.action,a},function(e){return Object(c.bindActionCreators)({fetchDiscountGroupData:Su,emptyInventoryReducer:Xu},e)})(Object(de.a)(Sp)),wp=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,s="checkbox"===t.type?t.checked:t.value;a.setState(Object(se.a)({},e.target.name,s))},a.onSort=function(e){var t="asc"===a.state.sortorder?"desc":"asc";a.state.pagesize,a.state.term;a.setState({page:1,pagesize:a.state.pagesize,sortby:e,sortorder:t,loadMore:!0,startFresh:!0,showLoader:!0,next_page_url:"",DiscountPackageData:[]}),localStorage.setItem("sortOnly",!0)},a.loadMore=function(){localStorage.setItem("sortOnly",!1),a.setState({loadMore:!0,startFresh:!0,showLoader:!1,showLoadingText:!0});a.state.page,a.state.pagesize,a.state.sortorder,a.state.term,a.state.action;a.setState({showLoader:!0})},a.inventoryEdit=function(e,t){return i.a.createElement("div",null,"//",a.props.history.push("/inventory/products/categories/".concat(t,"/edit")))},a.handleSubmit=function(e){e.preventDefault();var t="",s=e.target.value;t="0"==s?"active":"1"==s?"inactive":"all",localStorage.setItem("sortOnly",!0);a.state.pagesize,a.state.sortorder,a.state.term;a.setState({page:1,pagesize:a.state.pagesize,sortorder:"asc"==a.state.sortorder?"desc":"asc",startFresh:!0,loadMore:!0,next_page_url:"",DiscountPackageData:[],status:s}),a.setState({showLoader:!0,filterValue:"false"})};JSON.parse(localStorage.getItem("userData"));var s=JSON.parse(localStorage.getItem("languageData"));return a.state={loadMore:!0,startFresh:!0,showLoader:!1,page:1,pagesize:15,term:"",hasMoreItems:!0,next_page_url:"",searchFunction:"",user_changed:!1,tabClicked:!1,DiscountPackageData:[],data:[],childCheck:!1,action:e.match.params.statusId,sortorder:"asc",scopes:"category",selected:[],selectAll:0,categoryName:"",show_below_stock:0,package_types:{},value:"",status:"0",type:"all",globalLang:s.global,inventoryLang:s.inventory,showLoadingText:!1},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),window.onscroll=function(){var e=parseInt(Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop));window.innerHeight+e===document.documentElement.offsetHeight&&null!=a.state.next_page_url&&a.loadMore()},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){window.onscroll=function(){return!1};this.state.page,this.state.pagesize,this.state.term,this.state.action;this.setState({showLoader:!0})}},{key:"shouldComponentUpdate",value:function(e,t){return!!this.state.startFresh||(!!this.state.loadMore||!!this.state.showLoader)}},{key:"render",value:function(){return null!=this.state.package_types&&Object.entries(this.state.package_types).map(function(e){var t=Object(ye.a)(e,2);return{key:t[0],value:t[1]}}),i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement("div",{className:"juvly-section full-width"},i.a.createElement("div",{className:"juvly-container"},i.a.createElement("div",{className:"juvly-title m-b-40"},this.state.inventoryLang.inventory_edit_discounts,i.a.createElement("a",{className:"pull-right crossIcon"},i.a.createElement("img",{src:"images/close.png"}))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-3 col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.inventoryLang.inventory_Discount_Name,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("input",{className:"setting-input-box",type:"text",autoComplete:"off"}))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Discount Type",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"pull-left m-t-5"},i.a.createElement("input",{type:"radio",defaultChecked:"checked",name:"discounttype",id:"Percentage",className:"basic-form-checkbox"}),i.a.createElement("label",{htmlFor:"Percentage",className:"basic-form-text"},"% Percentage")),i.a.createElement("div",{className:"pull-left m-t-5"},i.a.createElement("input",{type:"radio",id:"Figure",name:"discounttype",className:"basic-form-checkbox"}),i.a.createElement("label",{htmlFor:"Figure",className:"basic-form-text"},"$ Figure")),i.a.createElement("div",{className:"pull-left m-t-5"},i.a.createElement("input",{type:"radio",id:"Package",name:"discounttype",className:"basic-form-checkbox"}),i.a.createElement("label",{htmlFor:"Package",className:"basic-form-text"},"Package")),i.a.createElement("div",{className:"pull-left m-t-5"},i.a.createElement("input",{type:"radio",id:"BOGOoffer",name:"discounttype",className:"basic-form-checkbox"}),i.a.createElement("label",{htmlFor:"BOGOoffer",className:"basic-form-text"},"BOGO offers")),i.a.createElement("div",{className:"pull-left m-t-5"},i.a.createElement("input",{type:"radio",id:"BOGOdiscount",name:"discounttype",className:"basic-form-checkbox"}),i.a.createElement("label",{htmlFor:"BOGOdiscount",className:"basic-form-text"},"BOGO Discount Group"))))),i.a.createElement("div",{className:"row m-t-20"},i.a.createElement("div",{className:"col-md-3 col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Select Package Type",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("select",{className:"setting-select-box"},i.a.createElement("option",null,"Product"),i.a.createElement("option",null,"Group"))))),i.a.createElement("div",{className:"row relative"},i.a.createElement("div",{className:"col-md-6 col-sm-4 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Type initials of product to select",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("input",{className:"setting-input-box",type:"text",autoComplete:"off"}))),i.a.createElement("div",{className:"col-md-3 col-sm-4 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Select Quantity",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("input",{className:"setting-input-box",type:"text",placeholder:"Unit",autoComplete:"off"}))),i.a.createElement("div",{className:"col-md-3 col-sm-4 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Dollar value",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("input",{className:"setting-input-box",type:"text",placeholder:"Value",autoComplete:"off"}))),i.a.createElement("a",{href:"#",className:"add-round-btn"},i.a.createElement("span",null,"+"))),i.a.createElement("div",{className:"row relative"},i.a.createElement("div",{className:"col-md-6 col-sm-4 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Type initials of product to select",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("input",{className:"setting-input-box",type:"text",autoComplete:"off"}))),i.a.createElement("div",{className:"col-md-3 col-sm-4 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Select Quantity",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("input",{className:"setting-input-box",type:"text",placeholder:"Unit",autoComplete:"off"}))),i.a.createElement("div",{className:"col-md-3 col-sm-4 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Dollar value",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("input",{className:"setting-input-box",type:"text",placeholder:"Value",autoComplete:"off"}))),i.a.createElement("a",{href:"#",className:"add-round-btn"},i.a.createElement("span",null,"-"))),i.a.createElement("div",{className:"row m-t-30"},i.a.createElement("div",{className:"col-md-3 col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Package Price",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("input",{className:"setting-input-box",type:"text",autoComplete:"off"}))),i.a.createElement("div",{className:"col-md-3 col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Package Price For Members",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("input",{className:"setting-input-box",type:"text",autoComplete:"off"})))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-3 col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Available for purchase on",i.a.createElement("span",{className:"setting-require"},"*"),i.a.createElement("a",{href:"#",className:"help-icon-form"},"?")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{className:"setting-input-box",type:"text",autoComplete:"off"}),i.a.createElement("i",{className:"fas fa-calendar-alt client-treat-cal"})))),i.a.createElement("div",{className:"col-md-3 col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Available for purchase until ",i.a.createElement("span",{className:"setting-require"},"*"),i.a.createElement("a",{href:"#",className:"help-icon-form"},"?")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{className:"setting-input-box",type:"text",autoComplete:"off"}),i.a.createElement("i",{className:"fas fa-calendar-alt client-treat-cal"})))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Keywords"),i.a.createElement("input",{className:"setting-input-box",type:"text",placeholder:"Keywords...",autoComplete:"off"})))),i.a.createElement("div",{className:"row m-t-30"},i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Available to Customers",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"pull-left m-t-5"},i.a.createElement("input",{type:"radio",defaultChecked:"checked",name:"product-ratio",id:"UserIsDashboardEnabled0",className:"basic-form-checkbox"}),i.a.createElement("label",{htmlFor:"UserIsDashboardEnabled0",className:"basic-form-text"},"All"),i.a.createElement("input",{type:"radio",id:"UserIsDashboardEnabled1",defaultChecked:"checked",name:"product-ratio",className:"basic-form-checkbox"}),i.a.createElement("label",{htmlFor:"UserIsDashboardEnabled1",className:"basic-form-text"},"Members Only"))))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-3 col-sm-6 col-xs-12 m-t-30"},i.a.createElement("p",{className:"m-b-20"},i.a.createElement("input",{type:"checkbox",value:this.state.curntOffer,id:"curnt-offer",className:"new-check"}),i.a.createElement("label",{htmlFor:"curnt-offer"},"Mark as Current Offer:")),i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Offer Expire After (Max 100 days)",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("input",{className:"setting-input-box",type:"text",placeholder:"Days",autoComplete:"off"}))),i.a.createElement("div",{className:"col-xs-12 m-t-30"},i.a.createElement("p",{className:"m-b-20"},i.a.createElement("input",{type:"checkbox",value:this.state.newCheck,className:"new-check",id:"Available-location"}),i.a.createElement("label",{htmlFor:"Available-location"},"Available at Selected locations:")),i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Select Locations : ",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("input",{className:"setting-input-box",type:"text",placeholder:"Choose Clinic",autoComplete:"off"}))),i.a.createElement("div",{className:"col-xs-12 m-t-30"},i.a.createElement("p",{className:"m-b-20"},i.a.createElement("input",{type:"checkbox",value:this.state.newCheck,className:"new-check",id:"Available-provider"}),i.a.createElement("label",{htmlFor:"Available-provider"},"Available only with these providers:")),i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Select Providers",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("input",{className:"setting-input-box",type:"text",placeholder:"Choose Provider",autoComplete:"off"}))))))),i.a.createElement("div",{className:"footer-static"},i.a.createElement("button",{className:"new-blue-btn pull-right",id:"saveform"},"Save"),i.a.createElement("button",{className:"new-white-btn pull-right",id:"resetform"},"Cancel"),i.a.createElement("button",{className:"new-red-btn pull-left",id:"resetform"},"Delete")))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(void 0!=e.DiscountPackageData&&e.DiscountPackageData.next_page_url!==t.next_page_url){var a={};return null==t.next_page_url?(localStorage.setItem("sortOnly",!1),a.next_page_url=null):(0==t.DiscountPackageData.length&&1==t.startFresh?"false"==localStorage.getItem("sortOnly")?(a.DiscountPackageData=e.DiscountPackageData.data.data,null!=e.DiscountPackageData.next_page_url?a.page=t.page+1:a.next_page_url=e.DiscountPackageData.data.next_page_url,a.startFresh=!1,a.showLoader=!1,a.showLoadingText=!1,a.package_types=e.DiscountPackageData.data.package_types):localStorage.setItem("sortOnly",!1):t.DiscountPackageData!=e.DiscountPackageData.data.data&&0!=t.DiscountPackageData.length&&(a.DiscountPackageData=Object(oa.a)(t.DiscountPackageData).concat(Object(oa.a)(e.DiscountPackageData.data.data)),a.page=t.page+1,a.next_page_url=e.DiscountPackageData.data.next_page_url,a.package_types=e.DiscountPackageData.data.package_types,a.showLoader=!1,a.showLoadingText=!1),a)}return null}}]),t}(n.Component);var Cp=Object(Z.b)(function(e){return JSON.parse(localStorage.getItem("languageData")),"PACKAGES_LIST"!==e.InventoryReducer.action?{}:200===e.InventoryReducer.data.status?{DiscountPackageData:e.InventoryReducer.data}:void 0},function(e){return Object(c.bindActionCreators)({fetchDiscountPackagesData:Nu},e)})(Object(de.a)(wp)),xp=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleClick=function(e){a.refAutoSuggestionProducts&&!a.refAutoSuggestionProducts.contains(e.target)&&a.setState({showAutoSuggestion:!1})},a.handleInputChange=function(e){var t=e.target,s="checkbox"===t.type?t.checked:t.value;a.setState(Object(se.a)({},e.target.name,s))},a.handleSubmit=function(e){"object"==typeof e&&e.preventDefault();var t=!1;if(void 0===typeof a.state.name||null===a.state.name||""===a.state.name?(a.setState({nameClass:"setting-input-box field_error"}),t=!0):a.state.name&&a.setState({nameClass:"setting-input-box"}),!t){var s={name:a.state.name,status:a.state.status?1:0};a.setState({showLoader:!0}),a.state.discountGroupId>0?a.props.updateDiscountGroup(s,a.state.discountGroupId):a.props.createDiscountGroup(s)}},a.handleSubmitProduct=function(e){if("object"==typeof e&&e.preventDefault(),void 0===typeof a.state.product_name||""===a.state.product_name&&void 0===a.state.selectedItem.id)a.setState({productNameClass:"setting-input-box field_error"});else{if(""!==a.state.product_name&&void 0===a.state.selectedItem.id)return a.setState({productNameClass:"setting-input-box field_error"}),rt.toast.dismiss(),void rt.toast.error(a.state.inventoryLang.inventory_error_please_selectvalid_product_name);a.setState({productNameClass:"setting-input-box"});var t=a.state.selectedItem;if("object"==typeof t&&void 0!=t.id){a.setState({showLoader:!0});var s={product_id:t.id};a.props.addDiscountGroupProduct(s,a.state.discountGroupId)}}},a.handleSelectedProduct=function(e){"object"==typeof e&&void 0!=e.id&&a.setState({selectedItem:e,showAutoSuggestion:!1,product_name:e.product_name})},a.handleAutoSuggestion=function(e){var t={},s=e.target.value;e.target.name;t[e.target.name]=s;var n=[],i=a.state.selectedIds,r=!1;s.length>2&&(r=!0,a.state.productList.map(function(e,t){if(!i.includes(e.id)&&"string"==typeof e.product_name){var a=new RegExp(s.toLowerCase(),"g");e.product_name.toLowerCase().match(a)&&n.push(e)}})),t.autoSuggestionProducts=n,t.selectedItem={},t.userChanged=!0,t.showAutoSuggestion=r,a.setState(t)},a.toggleAddProduct=function(){a.setState({showAddProduct:!a.state.showAddProduct,product_name:"",autoSuggestionProducts:[]})},a.toggleDeleteModal=function(){a.setState({showModal:!a.state.showModal})},a.deleteDiscountGroup=function(){a.state.discountGroupId>0&&(a.setState({showLoader:!0}),a.props.deleteDiscountGroup(a.state.discountGroupId)),a.toggleDeleteModal()},a.deleteDiscountGroupProduct=function(){if(a.setState({userChanged:!0}),a.state.discountGroupId>0&&a.state.deleteProductId>0){a.setState({showLoader:!0});var e={params:{product_id:a.state.deleteProductId}};a.props.deleteDiscountGroupProduct(e,a.state.discountGroupId)}a.toggleDeleteModal()};var s=JSON.parse(localStorage.getItem("languageData"));return a.state={globalLang:s.global,inventoryLang:s.inventory,backAction:"/inventory/discount-groups",discountGroupId:a.props.match.params.id,showLoader:!1,name:"",status:!0,userChanged:!1,discountGroupData:{},discountGroupProducts:[],productList:[],autoSuggestionProducts:[],selectedIds:[],selectedItem:{},nameClass:"setting-input-box",product_name:"",productNameClass:"setting-input-box",showModal:!1,deleteType:"",deleteMsg:"",deleteProductId:0,showAddProduct:!1,showAutoSuggestion:!1},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){window.onscroll=function(){return!1},this.state.discountGroupId>0&&(this.setState({showLoader:!0}),this.props.fetchDiscountGroupDataId(this.state.discountGroupId)),document.addEventListener("click",this.handleClick,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClick,!1)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(np,null),i.a.createElement("div",{className:"juvly-section full-width"},i.a.createElement("div",{className:"juvly-container m-h-container"},i.a.createElement("div",{className:"juvly-title m-b-40\t"},this.state.discountGroupId?this.state.inventoryLang.inventory_edit_discount_group:this.state.inventoryLang.inventory_create_discount_group,i.a.createElement(me.a,{to:this.state.backAction,className:"pull-right crossIcon"},i.a.createElement("img",{src:"/images/close.png"})),i.a.createElement("div",{className:"setting-custom-switch product-active pull-right"},i.a.createElement("span",{id:"membership_lable",htmlFor:"discountGroupStatus"},this.state.status?this.state.inventoryLang.inventory_active:this.state.inventoryLang.inventory_inactive),i.a.createElement("label",{className:"setting-switch pull-right no-margin"},i.a.createElement("input",{type:"checkbox",className:"setting-custom-switch-input",id:"discountGroupStatus",name:"status",checked:!!this.state.status&&"checked",onChange:this.handleInputChange}),i.a.createElement("span",{className:"setting-slider"})))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.inventoryLang.inventory_discount_group_name," ",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("input",{autoComplete:"off",className:this.state.nameClass,type:"text",name:"name",value:this.state.name,onChange:this.handleInputChange})))))),this.state.discountGroupId>0&&i.a.createElement("div",{className:"edit-block"},this.state.showAddProduct?i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"juvly-subtitle m-b-20 m-l-15"},this.state.inventoryLang.inventory_add_new_product),i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer relative"},i.a.createElement("div",{className:"new-field-label"},this.state.inventoryLang.inventory_select_product," ",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("input",{autoComplete:"off",className:this.state.productNameClass,name:"product_name",value:this.state.product_name,onChange:this.handleAutoSuggestion,type:"text",placeholder:this.state.inventoryLang.inventory_type_to_search_products}),i.a.createElement("ul",{className:this.state.autoSuggestionProducts.length&&this.state.showAutoSuggestion?" search-dropdown":"cal-dropdown clinicname-dropdown no-display",ref:function(t){return e.refAutoSuggestionProducts=t}},this.state.autoSuggestionProducts.length&&this.state.autoSuggestionProducts.map(function(t,a){return i.a.createElement("li",{key:"products-"+a,"data-id":t.id,onClick:e.handleSelectedProduct.bind(e,t)},i.a.createElement("a",null,t&&je(t.product_name)))})))),i.a.createElement("div",{className:"col-xs-12 m-b-40"},i.a.createElement("a",{href:"javascript:void(0);",className:"new-white-btn",onClick:this.toggleAddProduct},this.state.globalLang.label_cancel),i.a.createElement("a",{href:"javascript:void(0);",className:"new-blue-btn",onClick:this.handleSubmitProduct},this.state.globalLang.label_save))):i.a.createElement("div",{className:"juvly-subtitle m-b-10"},i.a.createElement("span",{className:"m-t-5 pull-left"},this.state.discountGroupId>0&&this.state.discountGroupProducts.length>0?"Products":""),i.a.createElement("a",{href:"javascript:void(0);",className:"new-blue-btn pull-right",onClick:this.toggleAddProduct},this.state.inventoryLang.inventory_Add_Product)),this.state.discountGroupProducts.length>0&&i.a.createElement("div",{className:"table-responsive"},i.a.createElement("table",{className:"table-updated juvly-table no-hover product-list-outer"},i.a.createElement("tbody",{className:"ajax_body"},this.state.discountGroupProducts.map(function(t,a){return i.a.createElement("tr",{key:"discount-product"+a,className:"table-updated-tr"},i.a.createElement("td",{className:"col-xs-10 table-updated-td sub-table"},t.product_name),i.a.createElement("td",{className:"col-xs-2 table-updated-td text-center"},i.a.createElement("a",{href:"javascript:void(0);",className:"easy-link",onClick:function(){e.setState({deleteType:"discountGroupProduct",showModal:!0,deleteMsg:e.state.inventoryLang.inventory_delete_discount_group_product_msg,deleteProductId:t.id})}},e.state.globalLang.label_delete)))})))))),i.a.createElement("div",{className:"footer-static"},i.a.createElement("button",{className:"new-blue-btn pull-right",onClick:this.handleSubmit},this.state.inventoryLang.inventory_save),i.a.createElement(me.a,{to:this.state.backAction,className:"new-white-btn pull-right",id:"resetform"},this.state.inventoryLang.inventory_Cancel),this.state.discountGroupId>0&&i.a.createElement("button",{className:"new-red-btn pull-left",onClick:function(){e.setState({deleteType:"discountGroup",showModal:!0,deleteMsg:e.state.inventoryLang.inventory_delete_discount_group_msg})}},this.state.inventoryLang.inventory_delete),i.a.createElement("div",{className:this.state.showModal?"overlay":""}),i.a.createElement("div",{id:"filterModal",role:"dialog",className:this.state.showModal?"modal fade in displayBlock":"modal fade"},i.a.createElement("div",{className:"modal-dialog"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal",onClick:this.toggleDeleteModal},"\xd7"),i.a.createElement("h4",{className:"modal-title",id:"model_title"},this.state.inventoryLang.inventory_Confirmation_required,this.state.showModal)),i.a.createElement("div",{id:"errorwindow",className:"modal-body add-patient-form filter-patient"},this.state.deleteMsg),i.a.createElement("div",{className:"modal-footer"},i.a.createElement("div",{className:"col-md-12 text-left",id:"footer-btn"},i.a.createElement("button",{type:"button",className:"btn  logout pull-right","data-dismiss":"modal",onClick:this.toggleDeleteModal},this.state.inventoryLang.inventory_No),i.a.createElement("button",{type:"button",className:"btn btn-success pull-right m-r-10","data-dismiss":"modal",onClick:"discountGroup"==this.state.deleteType?this.deleteDiscountGroup:this.deleteDiscountGroupProduct},this.state.inventoryLang.inventory_Yes))))))),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.globalLang.Please_Wait))))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};if(void 0!=e.discountGroupData&&void 0!=e.discountGroupData.discount_group&&e.discountGroupData!==t.discountGroupData){if(a.discountGroupData=e.discountGroupData,a.showLoader=!1,a.name=t.userChanged?t.name:a.discountGroupData.discount_group.name,a.status=t.userChanged?t.status:1==a.discountGroupData.discount_group.status,a.discountGroupProducts=t.userChanged?t.discountGroupProducts:a.discountGroupData.discount_group_products,a.productList=a.discountGroupData.products,a.autoSuggestionProducts=[],!t.userChanged){var s=[];a.discountGroupProducts.map(function(e,t){s.push(e.id)}),a.selectedIds=s}}else if(void 0!=e.redirect&&1==e.redirect)rt.toast.success(e.message,{onClose:function(){e.history.push(t.backAction)}});else if(void 0!=e.showLoader&&0==e.showLoader)a.showLoader=!1;else if(void 0!=e.isProductAdded&&1==e.isProductAdded){rt.toast.success(e.message),a.showLoader=!1;var n=t.discountGroupProducts;n.push(t.selectedItem),a.discountGroupProducts=n;var i=t.selectedIds;i.push(t.selectedItem.id),a.selectedIds=i,a.selectedItem={},a.product_name="",a.autoSuggestionProducts=[],e.resetAction()}else if(void 0!=e.isProductDeleted&&1==e.isProductDeleted){if(rt.toast.success(e.message),a.showLoader=!1,t.deleteProductId>0){var r=t.deleteProductId,o=[];t.discountGroupProducts.map(function(e,t){e.id!==r&&o.push(e)}),a.discountGroupProducts=o;var l=t.selectedIds,c=l.indexOf(r);c>-1&&l.splice(c,1),a.selectedIds=l,a.deleteProductId=0}e.resetAction()}return a}}]),t}(n.Component);var Lp=Object(Z.b)(function(e){var t={},a=JSON.parse(localStorage.getItem("languageData"));return"CREATE_DISCOUNT_GROUP"===e.InventoryReducer.action?201==e.InventoryReducer.data.status?(t.redirect=!0,t.message=a.global[e.InventoryReducer.data.message]):(rt.toast.error(a.global[e.InventoryReducer.data.message]),t.showLoader=!1):"FETCH_SELECTED_DISCOUNT_GROUP"===e.InventoryReducer.action?200!=e.InventoryReducer.data.status?(rt.toast.error(a.global[e.InventoryReducer.data.message]),t.showLoader=!1):(t.discountGroupData=e.InventoryReducer.data.data,t.status=200):"UPDATE_DISCOUNT_GROUP"===e.InventoryReducer.action?200==e.InventoryReducer.data.status?(t.redirect=!0,t.message=a.global[e.InventoryReducer.data.message]):(rt.toast.error(a.global[e.InventoryReducer.data.message]),t.showLoader=!1):"DELETE_DISCOUNT_GROUP"===e.InventoryReducer.action?200==e.InventoryReducer.data.status?(t.redirect=!0,t.message=a.global[e.InventoryReducer.data.message]):(rt.toast.error(a.global[e.InventoryReducer.data.message]),t.showLoader=!1):"ADD_DISCOUNT_GROUP_PRODUCT"===e.InventoryReducer.action?201==e.InventoryReducer.data.status?(t.isProductAdded=!0,t.message=a.global[e.InventoryReducer.data.message]):(rt.toast.error(a.global[e.InventoryReducer.data.message]),t.showLoader=!1):"DELETE_DISCOUNT_GROUP_PRODUCT"===e.InventoryReducer.action&&(200==e.InventoryReducer.data.status?(t.isProductDeleted=!0,t.message=a.global[e.InventoryReducer.data.message]):(rt.toast.error(a.global[e.InventoryReducer.data.message]),t.showLoader=!1)),t},function(e){return Object(c.bindActionCreators)({createDiscountGroup:Ou,fetchDiscountGroupDataId:Au,updateDiscountGroup:Tu,deleteDiscountGroup:Iu,addDiscountGroupProduct:Ru,deleteDiscountGroupProduct:ku,resetAction:Vu},e)})(Object(de.a)(xp)),Op=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,s="checkbox"===t.type?t.checked:t.value;a.setState(Object(se.a)({},e.target.name,s))},a.onSort=function(e){var t="asc"===a.state.sortorder?"desc":"asc";a.state.pagesize,a.state.term;a.setState({page:1,pagesize:a.state.pagesize,sortby:e,sortorder:t,loadMore:!0,startFresh:!0,showLoader:!0,next_page_url:"",DiscountPackageData:[]}),localStorage.setItem("sortOnly",!0)},a.loadMore=function(){localStorage.setItem("sortOnly",!1),a.setState({loadMore:!0,startFresh:!0,showLoader:!1,showLoadingText:!0});a.state.page,a.state.pagesize,a.state.sortorder,a.state.term,a.state.action;a.setState({showLoader:!0})},a.inventoryEdit=function(e,t){return i.a.createElement("div",null,"//",a.props.history.push("/inventory/products/categories/".concat(t,"/edit")))},a.handleSubmit=function(e){e.preventDefault();var t="",s=e.target.value;t="0"==s?"active":"1"==s?"inactive":"all",localStorage.setItem("sortOnly",!0);a.state.pagesize,a.state.sortorder,a.state.term;a.setState({page:1,pagesize:a.state.pagesize,sortorder:"asc"==a.state.sortorder?"desc":"asc",startFresh:!0,loadMore:!0,next_page_url:"",DiscountPackageData:[],status:s}),a.setState({showLoader:!0,filterValue:"false"})},a.buildOptions=function(){for(var e=[],t=1;t<=22;t++)e.push(i.a.createElement("option",{value:t},t,"months"));return e},a.openDiv=function(){for(var e=[],t=1;t<=10;t++)e.push(i.a.createElement("div",null,i.a.createElement("div",{className:"row relative"},i.a.createElement("div",{className:"col-sm-6 col-xs-8"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Products"),i.a.createElement("input",{className:"setting-input-box",type:"text",placeholder:"Type to search Products",autoComplete:"off"}))),i.a.createElement("div",{className:"col-sm-2 col-xs-4"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Units"),i.a.createElement("input",{className:"setting-input-box",type:"text",placeholder:"Enter Units",autoComplete:"off"}),i.a.createElement("a",{href:"#",className:"add-round-btn"},i.a.createElement("button",null,"+")))))));return e},a.Testing=function(){return i.a.createElement("div",null,i.a.createElement("button",{onClick:function(){}},"testing"))},a.handleChangeMonth=function(){a.setState({monthly:!0,pay_as_you_go:!1})},a.handleChangePay=function(){a.setState({monthly:!1,pay_as_you_go:!0})};JSON.parse(localStorage.getItem("userData"));var s=JSON.parse(localStorage.getItem("languageData"));return a.state={loadMore:!0,startFresh:!0,showLoader:!1,page:1,pagesize:15,term:"",hasMoreItems:!0,next_page_url:"",searchFunction:"",user_changed:!1,tabClicked:!1,DiscountPackageData:[],data:[],childCheck:!1,action:e.match.params.statusId,sortorder:"asc",scopes:"category",selected:[],selectAll:0,categoryName:"",show_below_stock:0,package_types:{},value:"",status:"0",type:"all",pay_as_you_go:!1,monthly:!0,globalLang:s.global,inventoryLang:s.inventory,showLoadingText:!1,divClicked:!1},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),window.onscroll=function(){var e=parseInt(Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop));window.innerHeight+e===document.documentElement.offsetHeight&&null!=a.state.next_page_url&&a.loadMore()},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){window.onscroll=function(){return!1};this.state.page,this.state.pagesize,this.state.term,this.state.action;this.setState({showLoader:!0})}},{key:"shouldComponentUpdate",value:function(e,t){return!!this.state.startFresh||(!!this.state.loadMore||!!this.state.showLoader)}},{key:"render",value:function(){return null!=this.state.package_types&&Object.entries(this.state.package_types).map(function(e){var t=Object(ye.a)(e,2);return{key:t[0],value:t[1]}}),i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement("div",{className:"juvly-section full-width"},i.a.createElement("div",{className:"juvly-container m-h-container"},i.a.createElement("div",{className:"juvly-title m-b-40"},"Create Treatment Plan Template",i.a.createElement("a",{href:"/inventory/products/active",className:"pull-right"},i.a.createElement("img",{src:"/images/close.png"}))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-3 col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Plan Type ",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"pull-left m-t-5"},i.a.createElement("input",Object(se.a)({type:"radio",defaultChecked:"",name:"product-ratio",id:"UserIsDashboardEnabled0",className:"basic-form-checkbox",value:this.state.monthly,onChange:this.handleInputChange,onClick:this.handleChangeMonth},"defaultChecked",this.state.monthly)),i.a.createElement("label",{htmlFor:"UserIsDashboardEnabled0",className:"basic-form-text"},"Monthly")),i.a.createElement("div",{className:"pull-left m-t-5"},i.a.createElement("input",{type:"radio",id:"UserIsDashboardEnabled1",defaultChecked:"",name:"product-ratio",className:"basic-form-checkbox",value:this.state.pay_as_you_go,onChange:this.handleInputChange,onClick:this.handleChangePay}),i.a.createElement("label",{htmlFor:"UserIsDashboardEnabled1",className:"basic-form-text"},"Pay As You Go"))))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-3 col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Template Name ",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("input",{className:"setting-input-box",type:"text",autoComplete:"off"}))),i.a.createElement("div",{className:"col-md-3 col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Duration of Plan"," ",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("select",{className:"setting-select-box"},this.buildOptions()))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Your Skincare Goal"),i.a.createElement("textarea",{className:"setting-textarea-box",defaultValue:""})))),this.state.monthly?i.a.createElement("div",null,i.a.createElement("div",{className:"juvly-subtitle"},"Treatment in Month 1"),i.a.createElement("div",{className:"row relative"},i.a.createElement("div",{className:"col-sm-6 col-xs-8"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Products"),i.a.createElement("input",{className:"setting-input-box",type:"text",placeholder:"Type to search Products",autoComplete:"off"}))),i.a.createElement("div",{className:"col-sm-2 col-xs-4"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Units"),i.a.createElement("input",{className:"setting-input-box",type:"text",placeholder:"Enter Units",autoComplete:"off"}),i.a.createElement("a",{href:"#",className:"add-round-btn"},i.a.createElement("span",{onClick:this.openDiv()},"+"))))),i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement("div",{className:"row relative"},i.a.createElement("div",{className:"col-sm-6 col-xs-8"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Products"),i.a.createElement("input",{className:"setting-input-box",type:"text",placeholder:"Type to search Products",autoComplete:"off"}))),i.a.createElement("div",{className:"col-sm-2 col-xs-4"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Units"),i.a.createElement("input",{className:"setting-input-box",type:"text",placeholder:"Enter Units",autoComplete:"off"}),i.a.createElement("a",{href:"#",className:"add-round-btn"},i.a.createElement("span",null,"+"))))))),i.a.createElement("div",null,i.a.createElement("div",{className:"juvly-subtitle"},"Treatment in Month 2"),i.a.createElement("div",{className:"row relative"},i.a.createElement("div",{className:"col-sm-6 col-xs-8"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Products"),i.a.createElement("input",{className:"setting-input-box",type:"text",placeholder:"Type to search Products",autoComplete:"off"}))),i.a.createElement("div",{className:"col-sm-2 col-xs-4"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Units"),i.a.createElement("input",{className:"setting-input-box",type:"text",placeholder:"Enter Units",autoComplete:"off"}),i.a.createElement("a",{href:"#",className:"add-round-btn"},i.a.createElement("span",null,"+"))))))):"",this.state.pay_as_you_go?i.a.createElement("div",{className:"row relative"},i.a.createElement("div",{className:"col-sm-6 col-xs-8"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Products"),i.a.createElement("input",{className:"setting-input-box",type:"text",placeholder:"Type to search Products",autoComplete:"off"}))),i.a.createElement("div",{className:"col-sm-2 col-xs-4"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Units"),i.a.createElement("input",{className:"setting-input-box",type:"text",placeholder:"Enter Units",autoComplete:"off"}),i.a.createElement("a",{href:"#",className:"add-round-btn"},i.a.createElement("span",{onClick:this.openDiv()},"+"))))):""),i.a.createElement("div",{className:"footer-static"},i.a.createElement("button",{className:"new-blue-btn pull-right",id:"saveform"},"Save"),i.a.createElement("button",{className:"new-white-btn pull-right",id:"resetform"},"Cancel"),i.a.createElement("button",{className:"new-red-btn pull-left",id:"resetform"},"Delete")))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(void 0!=e.DiscountPackageData&&e.DiscountPackageData.next_page_url!==t.next_page_url){var a={};return null==t.next_page_url?(localStorage.setItem("sortOnly",!1),a.next_page_url=null):(0==t.DiscountPackageData.length&&1==t.startFresh?"false"==localStorage.getItem("sortOnly")?(a.DiscountPackageData=e.DiscountPackageData.data.data,null!=e.DiscountPackageData.next_page_url?a.page=t.page+1:a.next_page_url=e.DiscountPackageData.data.next_page_url,a.startFresh=!1,a.showLoader=!1,a.showLoadingText=!1,a.package_types=e.DiscountPackageData.data.package_types):localStorage.setItem("sortOnly",!1):t.DiscountPackageData!=e.DiscountPackageData.data.data&&0!=t.DiscountPackageData.length&&(a.DiscountPackageData=Object(oa.a)(t.DiscountPackageData).concat(Object(oa.a)(e.DiscountPackageData.data.data)),a.page=t.page+1,a.next_page_url=e.DiscountPackageData.data.next_page_url,a.package_types=e.DiscountPackageData.data.package_types,a.showLoader=!1,a.showLoadingText=!1),a)}return null}}]),t}(n.Component);var Ap=Object(Z.b)(function(e){return JSON.parse(localStorage.getItem("languageData")),"PACKAGES_LIST"!==e.InventoryReducer.action?{}:200===e.InventoryReducer.data.status?{DiscountPackageData:e.InventoryReducer.data}:void 0},function(e){return Object(c.bindActionCreators)({fetchDiscountPackagesData:Nu},e)})(Object(de.a)(Op)),Tp=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).showLoaderFunc=function(){localStorage.setItem("showLoader",!1),a.setState({showLoader:!0})},a.handleInputChange=function(e){var t=e.target,s="checkbox"===t.type?t.checked:t.value;a.setState(Object(se.a)({},e.target.name,s))},a.categoriesEdit=function(e,t){return i.a.createElement("div",{className:"no-display"},a.props.history.push("/inventory/e-giftcards/".concat(t,"/edit")))},a.handleSubmit=function(e,t){var s=a.props.match.params.id,n=!1,i=!1,r=!1,o={};e.preventDefault(),localStorage.setItem("sortOnly",!0);var l=[];if(a.setState({category_name_Error:!1}),a.state.is_custom_rule_tax)for(var c in a.state){var d=c.split("tax_percentage-")[1];c.startsWith("tax_percentage-")&&a.state[c]&&(a.state[c].match(/^-?\d*(\.\d+)?$/)?(l.push({clinic_id:d,tax_percentage:a.state[c]}),o["q-class-"+d]=!0,r=!0):""!=["tax_percentage-"+d]&&(o["q-class-"+d]=!1,i=!0,r=!0)),""==a.state[c]&&(o["q-class-"+d]=!0)}if(a.setState(o),a.state.is_custom_rule_tax&&!r)return rt.toast.error(a.state.globalLang.tax_rules_is_required),!1;if(i)return!1;if(void 0!==typeof a.state.category_name&&null!==a.state.category_name&&""!==a.state.category_name||(a.setState({category_name_Error:!0}),n=!0),!0!==n){a.showLoaderFunc();var m={category_name:a.state.category_name,is_custom_rule_tax:1==a.state.is_custom_rule_tax?1:0,tax:1==a.state.is_custom_rule_tax?1:0,cat_status:1==a.state.cat_status?1:0,tax_percentage:a.state.tax_percentage,tax_rules:l};s?a.props.updateCategories(m,s):a.props.createCategory(m)}},a.showDeleteModal=function(){a.setState({showModal:!0})},a.dismissModal=function(){a.setState({showModal:!1})},a.deleteCategories=function(){a.dismissModal();var e=a.props.match.params.id;a.setState({showLoader:!0}),a.props.deleteCategories(e)};JSON.parse(localStorage.getItem("userData"));var s=JSON.parse(localStorage.getItem("languageData"));return a.state={id:a.props.match.params.id,category_name:"",cat_status:!0,is_custom_rule_tax_yes:"row",is_custom_rule_tax_no:"row no-display",is_custom_rule_tax:!1,tax_rules:[],clinic_id:"",tax_percentage:"",clinicsList:[],startFresh:!0,showLoader:!1,showModal:!1,user_changed:!1,tabClicked:!1,Categories:[],data:[],childCheck:!1,selected:[],globalLang:s.global,inventoryLang:s.inventory,dashboardLang:s.dashboard},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),window.onscroll=function(){return!1},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){window.onscroll=function(){return!1},this.props.fetchClinics();var e=this.props.match.params.id;e&&(this.showLoaderFunc(),this.props.fetchCategoriesDataID(e))}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(np,null),i.a.createElement("div",{className:"juvly-section full-width"},i.a.createElement("div",{className:"juvly-container"},i.a.createElement("div",{className:"juvly-title"},this.state.inventoryLang.inventory_product_category,i.a.createElement("a",{className:"pull-right crossIcon",href:"/inventory/products-categories"},i.a.createElement("img",{src:"/images/close.png"})),i.a.createElement("div",{className:"setting-custom-switch product-active pull-right"},i.a.createElement("span",{id:"membership_lable"},this.state.inventoryLang.inventory_product_category_active),i.a.createElement("label",{className:"setting-switch pull-right no-margin"},i.a.createElement("input",{type:"checkbox",name:"cat_status",className:"setting-custom-switch-input",checked:!!this.state.cat_status&&"checked",value:this.state.cat_status,autoComplete:"off",onChange:this.handleInputChange}),i.a.createElement("span",{className:"setting-slider"})))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"juvly-subtitle"},this.state.id?this.state.inventoryLang.inventory_edit_category:this.state.inventoryLang.inventory_create_category),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.inventoryLang.inventory_category_name,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("input",{className:!0===this.state.category_name_Error?"setting-input-box field_error":"setting-input-box",type:"text",name:"category_name",value:this.state.category_name,autoComplete:"off",onChange:this.handleInputChange}))))))),i.a.createElement("div",{className:"switch-accordian-outer"},i.a.createElement("div",{className:"switch-accordian-row custom-txt-rule-left-padding",id:"book"},this.state.inventoryLang.inventory_custom_tax_rule,i.a.createElement("label",{className:"setting-switch pull-right"},i.a.createElement("input",{type:"checkbox",name:"is_custom_rule_tax",className:"setting-custom-switch-input",checked:!!this.state.is_custom_rule_tax&&"checked",value:this.state.is_custom_rule_tax,autoComplete:"off",onChange:this.handleInputChange}),i.a.createElement("span",{className:"setting-slider"}))),i.a.createElement("div",{className:"setting-container",id:"Appointment_Booking-form-title"},i.a.createElement("div",{className:1==this.state.is_custom_rule_tax||1==this.state.is_custom_rule_tax?this.state.is_custom_rule_tax_yes:this.state.is_custom_rule_tax_no},void 0!==this.state.clinicsList&&this.state.clinicsList.map(function(t,a){return i.a.createElement("div",{className:"col-sm-3 col-xs-12",key:a},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},t.clinic_name?t.clinic_name:""),i.a.createElement("input",{className:e.state["q-class-"+t.id]||void 0==e.state["q-class-"+t.id]?"setting-input-box":"setting-input-box  field-error",name:"tax_percentage-"+t.id,type:"text",value:e.state["tax_percentage-"+t.id],placeholder:"0",autoComplete:"off",onChange:e.handleInputChange})))})))),i.a.createElement("div",{className:"footer-static"},i.a.createElement("button",{className:"new-blue-btn pull-right",id:"saveform",onClick:this.handleSubmit},this.state.inventoryLang.inventory_save),i.a.createElement(me.a,{to:"/inventory/products-categories",className:"new-white-btn pull-right",id:"resetform"},this.state.inventoryLang.inventory_Cancel),this.state.id?i.a.createElement("button",{className:this.state.id?"new-red-btn pull-left":"new-red-btn pull-left no-display",id:"resetform",onClick:this.showDeleteModal,"data-message":this.state.inventoryLang.inventory_are_you_sure_del_PTI},this.state.inventoryLang.inventory_delete):"",i.a.createElement("div",{className:this.state.showModal?"overlay":""}),i.a.createElement("div",{id:"filterModal",role:"dialog",className:this.state.showModal?"modal fade in displayBlock":"modal fade"},i.a.createElement("div",{className:"modal-dialog"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal",onClick:this.dismissModal},"\xd7"),i.a.createElement("h4",{className:"modal-title",id:"model_title"},this.state.inventoryLang.inventory_Confirmation_required,this.state.showModal)),i.a.createElement("div",{id:"errorwindow",className:"modal-body add-patient-form filter-patient"},this.state.inventoryLang.inventory_del_PTI),i.a.createElement("div",{className:"modal-footer"},i.a.createElement("div",{className:"col-md-12 text-left",id:"footer-btn"},i.a.createElement("button",{type:"button",className:"btn  logout pull-right","data-dismiss":"modal",onClick:this.dismissModal},this.state.inventoryLang.inventory_No),i.a.createElement("button",{type:"button",className:"btn btn-success pull-right m-r-10","data-dismiss":"modal",onClick:this.deleteCategories},this.state.inventoryLang.inventory_Yes))))))),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.globalLang.Please_Wait))))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(void 0===e.fetchInventoryCategoriesData||200!==e.fetchInventoryCategoriesData.status||e.fetchInventoryCategoriesData.data==t.fetchInventoryCategoriesData){if(void 0!=e.clinicsList&&e.clinicsList!=t.clinicsList&&200==e.clinicsList.status){var a={};e.clinicsList.data;return a.clinicsList=t.clinicsList.length?t.clinicsList:e.clinicsList.data,a.userChanged=!1,a.showLoader=!1,a}return void 0!=e.redirect&&1==e.redirect?(rt.toast.success(e.message,{onClose:function(){e.history.push("/inventory/products-categories")}}),null):void 0!=e.showLoader&&0==e.showLoader?{showLoader:!1}:null}if("true"==localStorage.getItem("showLoader")){var s={},n=e.fetchInventoryCategoriesData.data.product_category;s.category_name=t.userChanged?t.category_name:n.category_name,s.cat_status=t.userChanged?t.cat_status:!!n.cat_status,s.is_custom_rule_tax=t.userChanged?t.is_custom_rule_tax:!!n.tax;var i=n.category_clinic_tax;return void 0!=i.length&&i.map(function(e,t){s["tax_percentage-"+e.clinic_id]=String(e.tax_percentage)}),s.category_clinic_tax={clinic_id:t.userChanged?t.fetchInventoryCategoriesData.clinic_id:n.id,tax_percentage:t.userChanged?t.fetchInventoryCategoriesData.tax_percentage:n.tax},s.fetchInventoryCategoriesData=e.fetchInventoryCategoriesData.data,s.showLoader=!1,s}}}]),t}(n.Component);var Ip=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData"));localStorage.setItem("showLoader",!0);var a={};return"CREATE_CATEGORY"===e.InventoryReducer.action?201===e.InventoryReducer.data.status?(a.message=t.global[e.InventoryReducer.data.message],a.redirect=!0):(rt.toast.error(t.global[e.InventoryReducer.data.message]),a.showLoader=!1):"FETCH_CLINICS"===e.InventoryReducer.action?200===e.InventoryReducer.data.status?a.clinicsList=e.InventoryReducer.data:(rt.toast.error(t.global[e.InventoryReducer.data.message]),a.showLoader=!1):"FETCH_SELECTED_CATEGORY"===e.InventoryReducer.action?200===e.InventoryReducer.data.status?a.fetchInventoryCategoriesData=e.InventoryReducer.data:(rt.toast.error(t.global[e.InventoryReducer.data.message]),a.showLoader=!1):"UPDATE_CATEGORIES"===e.InventoryReducer.action?200===e.InventoryReducer.data.status?(a.message=t.global[e.InventoryReducer.data.message],a.redirect=!0):(rt.toast.error(t.global[e.InventoryReducer.data.message]),a.showLoader=!1):"DELETE_CATEGORIES"===e.InventoryReducer.action&&(200===e.InventoryReducer.data.status?(a.message=t.global[e.InventoryReducer.data.message],a.redirect=!0):(rt.toast.error(t.global[e.InventoryReducer.data.message]),a.showLoader=!1)),a},function(e){return Object(c.bindActionCreators)({createCategory:Pu,fetchClinics:ju,fetchCategoriesDataID:Mu,updateCategories:Uu,deleteCategories:Fu},e)})(Object(de.a)(Tp)),Rp=function(e){return Se()(e).format("YYYY-MM-DD")},kp=function(e){return Se()(e).format("MMMM DD, YYYY")},Pp=function(){return{product_id:"",units:"",dollar_value:"",product_name:""}},jp=function(){return{product_id:!1,units:!1,dollar_value:!1,product_name:!1}},Mp=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).showLoaderFunc=function(){a.setState({showLoader:!0}),localStorage.setItem("showLoader",!1)},a.handleInputChange=function(e){var t=e.target,s="checkbox"===t.type?t.checked:t.value,n=e.target.dataset.packageindex;if(n){var i=a.state.productPackageArr;i[n][t.name]=s,a.setState({productPackageArr:i})}else{var r;a.setState((r={},Object(se.a)(r,e.target.name,s),Object(se.a)(r,"userChanged",!0),r))}},a.handleSearchDatePicker=function(e,t){var s={};s[e]=t,a.setState(s)},a.handleTagChange=function(e){a.setState({keywords:e,userChanged:!0})},a.handleChange=function(e){a.setState({discount_package_location:e,userChanged:!0})},a.handleProviderChange=function(e){a.setState({discount_package_provider:e,userChanged:!0})},a.handleProductChange=function(e,t){var s=t.target.value,n=(t.target.name,{});if("package"==e){var i=t.currentTarget.dataset.packageindex,r=a.state.productPackageArr;if(r[i].product_name==s)return!1;r[i].product_name=s,a.setState({productPackageArr:r,packageindex:i})}else n[t.target.name]=s;a.setState(n);var o={params:{}};if(o.params.term=s,"bogo_product"==e&&a.state.bogo_free_product_id)o.params.selected_product_ids=a.state.bogo_free_product_id;else if("bogo_free_product"==e&&a.state.bogo_product_id)o.params.selected_product_ids=a.state.bogo_product_id;else if("package"==e){var l=[];if(a.state.productPackageArr.map(function(e,t){e.product_id&&l.push(e.product_id)}),l.length){var c=l.join(",");o.params.selected_product_ids=c}}s.length>2&&a.props.searchProductByName(o,e)},a.selectProduct=function(e){e.target.value,e.target.name;var t=e.currentTarget.dataset.mode,s=e.currentTarget.dataset.id,n=e.currentTarget.dataset.pname;"bogo_product"==t?a.setState({bogo_product_id:s,bogo_product:n,showBogoProducts:!1}):"bogo_free_product"==t&&a.setState({bogo_free_product_id:s,bogo_free_product:n,showBogoFreeProducts:!1})},a.selectProductPackage=function(e){e.target.value,e.target.name,e.currentTarget.dataset.mode;var t=e.currentTarget.dataset.id,s=e.currentTarget.dataset.index,n=e.currentTarget.dataset.pname,i={},r=a.state.productPackageArr;r[s].product_id=t,r[s].product_name=n,i.productPackageArr=r,i["showPackageProducts-"+s]=!1,a.setState(i)},a.addMoreProduct=function(){var e=a.state.productPackageArr,t=a.state.productPackageErrorArr,s=Pp();e.push(s),t.push(jp()),a.setState({productPackageArr:e,productPackageErrorArr:t})},a.removeCurrentProduct=function(e){var t=a.state.productPackageArr,s=a.state.productPackageErrorArr;if(1==t.length)return!1;var n=e;t.splice(n,1),s.splice(n,1),a.setState({productPackageArr:t,productPackageErrorArr:s})},a.handleSubmit=function(){var e;if(a.setState((e={nameError:!1,typeError:!1,discount_percentageError:!1,discount_dollarsError:!1,active_untillError:!1,active_fromError:!1,discount_group_idError:!1,package_product_priceError:!1,package_price_for_membersError:!1,current_offer_daysError:!1},Object(se.a)(e,"discount_group_idError",!1),Object(se.a)(e,"package_product_quantityError",!1),Object(se.a)(e,"bogo_productError",!1),Object(se.a)(e,"bogo_product_quantityError",!1),Object(se.a)(e,"bogo_buy_product_valueError",!1),Object(se.a)(e,"bogo_free_product_quantityError",!1),Object(se.a)(e,"bogo_free_product_valueError",!1),Object(se.a)(e,"package_bogo_priceError",!1),Object(se.a)(e,"discount_package_locationError",!1),Object(se.a)(e,"discount_package_providerError",!1),Object(se.a)(e,"bogo_product_idError",!1),Object(se.a)(e,"discount_group_idError",!1),Object(se.a)(e,"bogo_discount_percentageError",!1),e)),""==a.state.name.trim())return a.setState({nameError:!0}),!1;if("percentage"==a.state.type){if(""==a.state.discount_percentage||!qe(a.state.discount_percentage))return a.setState({discount_percentageError:!0}),!1}else if("dollars"==a.state.type){if(""==a.state.discount_dollars&&!qe(a.state.discount_dollars))return a.setState({discount_dollarsError:!0}),!1}else if("package"==a.state.type){var t=0;if("product"==a.state.package_buy_type){var s=a.state.productPackageErrorArr;a.state.productPackageArr.map(function(e,t){s[t].product_name=!1,s[t].units=!1,s[t].dollar_value=!1});var n=!1;if(a.state.productPackageArr.map(function(e,a){""==e.product_id&&(s[a].product_name=!0,n=!0),""!=e.units&&qe(e.units)||(s[a].units=!0,n=!0),""!=e.dollar_value&&qe(e.dollar_value)?t+=parseFloat(e.dollar_value):(s[a].dollar_value=!0,n=!0)}),n)return a.setState({productPackageErrorArr:s}),!1}else{if(0==a.state.discount_group_id)return a.setState({discount_group_idError:!0}),!1;if(""==a.state.package_product_quantity||!qe(a.state.package_product_quantity))return a.setState({package_product_quantityError:!0}),!1}if(""==a.state.package_product_price||!qe(a.state.package_product_price))return a.setState({package_product_priceError:!0}),!1;if(parseFloat(t)!==parseFloat(a.state.package_product_price))return rt.toast.error(a.state.inventoryLang.inventory_msg),a.setState({package_product_priceError:!0}),!1}else if("bogo"==a.state.type){var i=0;if(""==a.state.bogo_product_id)return a.setState({bogo_productError:!0}),!1;if(""==a.state.bogo_product_quantity||!qe(a.state.bogo_product_quantity))return a.setState({bogo_product_quantityError:!0}),!1;if(""==a.state.bogo_buy_product_value||!qe(a.state.bogo_buy_product_value))return a.setState({bogo_buy_product_valueError:!0}),!1;if(i+=parseFloat(a.state.bogo_buy_product_value),""==a.state.bogo_free_product_id)return a.setState({bogo_free_productError:!0}),!1;if(""==a.state.bogo_free_product_quantity||!qe(a.state.bogo_free_product_quantity))return a.setState({bogo_free_product_quantityError:!0}),!1;if(""==a.state.bogo_free_product_value||!qe(a.state.bogo_free_product_value))return a.setState({bogo_free_product_valueError:!0}),!1;if(i+=parseFloat(a.state.bogo_buy_product_value),""==a.state.package_bogo_price||!qe(a.state.package_bogo_price))return a.setState({package_bogo_priceError:!0}),!1;if(parseFloat(i)!==parseFloat(a.state.package_bogo_price))return rt.toast.error(a.state.inventoryLang.inventory_bogo_msg),a.setState({package_bogo_priceError:!0}),!1}else if("group"==a.state.type){if(0==a.state.bogo_product_id)return a.setState({bogo_product_idError:!0}),!1;if(""==a.state.bogo_product_quantity||!qe(a.state.bogo_product_quantity))return a.setState({bogo_product_quantityError:!0}),!1;if(0==a.state.bogo_free_product_id)return a.setState({bogo_free_product_idError:!0}),!1;if("percentage"==a.state.discount_type&&(""==a.state.bogo_discount_percentage||!qe(a.state.bogo_discount_percentage)))return a.setState({bogo_discount_percentageError:!0}),!1;if(""==a.state.bogo_free_product_quantity||!qe(a.state.bogo_free_product_quantity))return a.setState({bogo_free_product_quantityError:!0}),!1}if(!Se()(a.state.active_from).isBefore(a.state.active_untill))return a.setState({active_fromError:!0,active_untillError:!0}),!1;if(a.state.is_in_current_offers){if(""==a.state.current_offer_days||!qe(a.state.current_offer_days))return a.setState({current_offer_daysError:!0}),!1;if(parseInt(a.state.current_offer_days)>100)return a.setState({current_offer_daysError:!0}),!1}if(a.state.all_locations&&0==a.state.discount_package_location.length)return a.setState({discount_package_locationError:!0}),!1;if(a.state.all_providers&&0==a.state.discount_package_provider.length)return a.setState({discount_package_providerError:!0}),!1;if(a.state.is_tax_enabled){var r={},o=!1;for(var l in a.state)if(l.startsWith("clinicTax-")){var c=l.split("-")[1];isNaN(a.state[l])?(r["clinicTaxError-"+c]=!0,o=!0):""===a.state[l]&&(r["clinicTaxError-"+c]=!0,o=!0)}if(o)return a.setState(r),!1}var d={};if(d.packageId=a.state.packageId,d.status=a.state.packageId?a.state.status:0,d.name=a.state.name,d.type=a.state.type,d.customer_type=a.state.customer_type,d.active_from=Rp(a.state.active_from),d.active_untill=Rp(a.state.active_untill),d.keywords=a.state.keywords.length?a.state.keywords.join(","):"",a.state.is_in_current_offers&&(d.current_offer_days=a.state.current_offer_days,d.is_in_current_offers=a.state.is_in_current_offers,d.current_offer_valid_till=Rp(Se()().add("days",parseInt(a.state.current_offer_days)))),"percentage"==a.state.type?d.discount_percentage=a.state.discount_percentage:"dollars"==a.state.type?d.discount_dollars=a.state.discount_dollars:"package"==a.state.type?(d.package_buy_type=a.state.package_buy_type,d.package_product_price=a.state.package_product_price,a.state.package_price_for_members&&(d.package_price_for_members=a.state.package_price_for_members),"product"==a.state.package_buy_type?a.state.productPackageArr.length&&(d.products=a.state.productPackageArr):(d.discount_group_id=a.state.discount_group_id,d.package_product_quantity=a.state.package_product_quantity)):"bogo"==a.state.type?(d.bogo_offer_product_id=a.state.bogo_product_id,d.bogo_offer_product_quantity=a.state.bogo_product_quantity,d.bogo_buy_product_value=a.state.bogo_buy_product_value,d.bogo_offer_free_product_id=a.state.bogo_free_product_id,d.bogo_offer_free_product_quantity=a.state.bogo_free_product_quantity,d.bogo_free_product_value=a.state.bogo_free_product_value,d.package_bogo_price=a.state.package_bogo_price):"group"==a.state.type&&(d.bogo_product_id=a.state.bogo_product_id,d.bogo_product_quantity=a.state.bogo_product_quantity,d.bogo_free_product_id=a.state.bogo_free_product_id,d.bogo_free_product_quantity=a.state.bogo_free_product_quantity,d.package_bogo_price=a.state.package_bogo_price,a.state.bogo_discount_percentage&&(d.bogo_discount_percentage=a.state.bogo_discount_percentage?a.state.bogo_discount_percentage:"")),a.state.all_locations){var m=[];a.state.discount_package_location.map(function(e,t){m.push(e.value)}),d.clinics=m}if(a.state.all_providers){var u=[];a.state.discount_package_provider.map(function(e,t){u.push(e.value)}),d.providers=u}if(a.state.is_tax_enabled){var p=[];a.state.clinics.map(function(e,t){p.push({clinic_id:e.id,tax:a.state["clinicTax-"+e.id]})}),d.clinic_tax=p}d.all_providers=a.state.all_providers?1:0,d.all_locations=a.state.all_locations?1:0,d.is_tax_enabled=a.state.is_tax_enabled?1:0,a.showLoaderFunc(),a.props.saveDiscountPackage(d)},a.deleteDiscountPackage=function(){a.setState({showModal:!1}),a.state.packageId>0&&(a.setState({showLoader:!0}),a.props.deleteDiscountPackage(a.state.packageId))};JSON.parse(localStorage.getItem("userData"));var s=JSON.parse(localStorage.getItem("languageData"));return a.state={packageId:0,discount_types:["percentage","dollars","package","bogo","group"],type:"percentage",package_buy_type:"product",name:"",customer_type:"all",keywords:[],clinics:[],providers:[],groups:[],discount_package_provider:[],discount_package_location:[],productPackageArr:[Pp()],productPackageErrorArr:[jp()],showLoader:!1,is_in_current_offers:!1,is_tax_enabled:!1,all_locations:!1,all_providers:!1,active_from:Se()().toDate(),active_untill:Se()().add("years",1).toDate(),current_offer_days:"",packageDefaultData:{},globalLang:s.global,bogo_product_id:0,bogo_product_quantity:0,bogo_buy_product_value:0,bogo_free_product_id:0,bogo_free_product_quantity:0,bogo_discount_percentage:"",bogo_free_product_value:0,bogo_product:"",bogo_product_error:!1,bogoProductList:[],bogoFreeProductList:[],packageProductList:[],showBogoProducts:!1,showBogoFreeProducts:!1,showPackageProducts:!1,package_product_price:"",package_price_for_members:"",nameError:!1,typeError:!1,discount_dollarsError:!1,discount_percentageError:!1,active_fromError:!1,active_untillError:!1,current_offer_daysError:!1,all_locationsError:!1,all_providersError:!1,discount_type:"free",discount_percentage:"",inventoryLang:s.inventory},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){window.onscroll=function(){return!1};var e=this.props.match.params.id?this.props.match.params.id:0;this.setState({packageId:e}),this.showLoaderFunc(),this.props.getDefaultPackageData(e)}},{key:"render",value:function(){var e,t=this,a=[];void 0!=this.state.clinics&&this.state.clinics.length>0&&(a=this.state.clinics.map(function(e,t){return{value:e.id,label:e.clinic_name}}));var s=[];return void 0!=this.state.providers&&this.state.providers.length>0&&(s=this.state.providers.map(function(e,t){return{value:e.id,label:Me(e)}})),i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(np,null),i.a.createElement("div",{className:"juvly-section full-width"},i.a.createElement("div",{className:"juvly-container"},i.a.createElement("div",{className:"juvly-title m-b-40"},this.state.packageId>0?"Edit Discounts":this.state.inventoryLang.inventory_add_discounts,i.a.createElement("a",{className:"pull-right crossIcon",href:"/inventory/discount-packages"},i.a.createElement("img",{src:"/images/close.png"}))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.inventoryLang.inventory_Discount_Name,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("input",{className:this.state.nameError?"field-error setting-input-box":"setting-input-box",type:"text",name:"name",onChange:this.handleInputChange,autoComplete:"off",value:this.state.name}))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.inventoryLang.inventory_discount_type,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"pull-left m-t-5"},i.a.createElement("input",{type:"radio",checked:"percentage"==this.state.type&&"checked",name:"type",value:"percentage",className:"basic-form-checkbox",onChange:this.handleInputChange}),i.a.createElement("label",{htmlFor:"Percentage",className:"basic-form-text"},"% ",this.state.inventoryLang.inventory_percentageLBL)),i.a.createElement("div",{className:"pull-left m-t-5"},i.a.createElement("input",{type:"radio",checked:"dollars"==this.state.type&&"checked",name:"type",value:"dollars",className:"basic-form-checkbox",onChange:this.handleInputChange}),i.a.createElement("label",{htmlFor:"Figure",className:"basic-form-text"},"$ ",this.state.inventoryLang.inventory_figure)),i.a.createElement("div",{className:"pull-left m-t-5"},i.a.createElement("input",{type:"radio",checked:"package"==this.state.type&&"checked",name:"type",value:"package",className:"basic-form-checkbox",onChange:this.handleInputChange}),i.a.createElement("label",{htmlFor:"Package",className:"basic-form-text"},"Package")),i.a.createElement("div",{className:"pull-left m-t-5"},i.a.createElement("input",{type:"radio",checked:"bogo"==this.state.type&&"checked",name:"type",value:"bogo",className:"basic-form-checkbox",onChange:this.handleInputChange}),i.a.createElement("label",{htmlFor:"BOGOoffer",className:"basic-form-text"},this.state.inventoryLang.inventory_bogo_offers)),i.a.createElement("div",{className:"pull-left m-t-5"},i.a.createElement("input",{type:"radio",checked:"group"==this.state.type&&"checked",name:"type",value:"group",className:"basic-form-checkbox",onChange:this.handleInputChange}),i.a.createElement("label",{htmlFor:"BOGOdiscount",className:"basic-form-text"},this.state.inventoryLang.inventory_bogo_discount_group))))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"percentage"==this.state.type?"col-xs-12":"col-xs-12 no-display"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.inventoryLang.inventory_discount_percantage,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("input",{className:this.state.discount_percentageError?"setting-input-box field-error":"setting-input-box",type:"text",name:"discount_percentage",onChange:this.handleInputChange,autoComplete:"off",value:this.state.discount_percentage}))),i.a.createElement("div",{className:"dollars"==this.state.type?"col-xs-12":"col-xs-12 no-display"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.inventoryLang.inventory_discount_amounts,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("input",{className:this.state.discount_dollarsError?"setting-input-box field-error":"setting-input-box",type:"text",name:"discount_dollars",onChange:this.handleInputChange,autoComplete:"off",value:this.state.discount_dollars})))),i.a.createElement("div",{className:"package"==this.state.type?"row m-t-20":"row m-t-20 no-display"},i.a.createElement("div",{className:"col-md-3 col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.inventoryLang.inventory_select_package_type,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("select",{className:"setting-select-box",name:"package_buy_type",onChange:this.handleInputChange,value:this.state.package_buy_type},i.a.createElement("option",{value:"product"},this.state.inventoryLang.inventory_productLBL),i.a.createElement("option",{value:"group"},this.state.inventoryLang.inventory_groupLBL))))),i.a.createElement("div",{className:"bogo"==this.state.type?"row relative":"row relative no-display"},i.a.createElement("div",{className:"col-md-6 col-sm-4 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.inventoryLang.inventory_select_buy_product,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("input",{className:this.state.bogo_productError?"setting-input-box field-error":"setting-input-box",name:"bogo_product",value:this.state.bogo_product,autoComplete:"off",onChange:this.handleProductChange.bind(this,"bogo_product"),type:"text"}),i.a.createElement("ul",{className:this.state.bogoProductList.length&&this.state.showBogoProducts?" search-dropdown":"cal-dropdown clinicname-dropdown no-display"},this.state.bogoProductList.length&&this.state.bogoProductList.map(function(e,a){return i.a.createElement("li",{key:"client-"+a,"data-id":e.id,"data-mode":"bogo_product","data-pname":e.product_name,onClick:t.selectProduct},i.a.createElement("a",null,e&&e.product_name))})))),i.a.createElement("div",{className:"col-md-3 col-sm-4 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.inventoryLang.inventory_select_quality,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("input",{className:this.state.bogo_product_quantityError?"setting-input-box field-error":"setting-input-box",type:"text",name:"bogo_product_quantity",onChange:this.handleInputChange,autoComplete:"off",value:this.state.bogo_product_quantity,placeholder:"Unit"}))),i.a.createElement("div",{className:"col-md-3 col-sm-4 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.inventoryLang.inventory_dollar_value,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("input",{className:this.state.bogo_buy_product_valueError?"setting-input-box field-error":"setting-input-box",type:"text",placeholder:"Value",name:"bogo_buy_product_value",onChange:this.handleInputChange,autoComplete:"off",value:this.state.bogo_buy_product_value})))),i.a.createElement("div",{className:"bogo"==this.state.type?"row relative":"row relative no-display"},i.a.createElement("div",{className:"col-md-6 col-sm-4 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.inventoryLang.inventory_select_free_product,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("input",{className:this.state.bogo_free_productError?"setting-input-box field-error":"setting-input-box",name:"bogo_free_product",value:this.state.bogo_free_product,autoComplete:"off",onChange:this.handleProductChange.bind(this,"bogo_free_product"),type:"text"}),i.a.createElement("ul",{className:this.state.bogoFreeProductList.length&&this.state.showBogoFreeProducts?" search-dropdown":"cal-dropdown clinicname-dropdown no-display"},this.state.bogoFreeProductList.length&&this.state.bogoFreeProductList.map(function(e,a){return i.a.createElement("li",{key:"client-"+a,"data-id":e.id,"data-mode":"bogo_free_product","data-pname":e.product_name,onClick:t.selectProduct},i.a.createElement("a",null,e&&e.product_name))})))),i.a.createElement("div",{className:"col-md-3 col-sm-4 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.inventoryLang.inventory_select_quality,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("input",{className:this.state.bogo_free_product_quantityError?"setting-input-box field-error":"setting-input-box",type:"text",placeholder:"Unit",name:"bogo_free_product_quantity",onChange:this.handleInputChange,autoComplete:"off",value:this.state.bogo_free_product_quantity}))),i.a.createElement("div",{className:"col-md-3 col-sm-4 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.inventoryLang.inventory_dollar_value,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("input",{className:this.state.bogo_free_product_valueError?"setting-input-box field-error":"setting-input-box",type:"text",placeholder:"Value",name:"bogo_free_product_value",onChange:this.handleInputChange,autoComplete:"off",value:this.state.bogo_free_product_value}))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.inventoryLang.inventory_bogo_price,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("input",{className:this.state.package_bogo_priceError?"setting-input-box field-error":"setting-input-box",type:"text",name:"package_bogo_price",onChange:this.handleInputChange,autoComplete:"off",value:this.state.package_bogo_price})))),"product"==this.state.package_buy_type&&this.state.productPackageArr.map(function(e,a){return i.a.createElement("div",{key:"productPackageArr-"+a,className:"package"==t.state.type?"row relative":"row relative no-display"},i.a.createElement("div",{className:"col-md-6 col-sm-4 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},t.state.inventoryLang.inventory_type_initials_of_product,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("input",{className:t.state.productPackageErrorArr[a]&&t.state.productPackageErrorArr[a].product_name?"setting-input-box field-error":"setting-input-box",name:"product_name",value:e.product_name,onChange:t.handleProductChange.bind(t,"package"),type:"text",autoComplete:"off","data-packageindex":a}),i.a.createElement("ul",{className:t.state.packageProductList.length&&t.state["showPackageProducts-"+a]?" search-dropdown":"cal-dropdown clinicname-dropdown no-display"},t.state.packageProductList.length&&t.state.packageProductList.map(function(e,s){return i.a.createElement("li",{key:"packageProduct-"+a,"data-id":e.id,"data-mode":"package","data-pname":e.product_name,"data-index":a,onClick:t.selectProductPackage},i.a.createElement("a",null,e&&e.product_name))})))),i.a.createElement("div",{className:"col-md-3 col-sm-4 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},t.state.inventoryLang.inventory_select_quality,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("input",{className:t.state.productPackageErrorArr[a]&&t.state.productPackageErrorArr[a].units?"setting-input-box field-error":"setting-input-box",type:"text",placeholder:"Unit","data-packageindex":a,name:"units",onChange:t.handleInputChange,autoComplete:"off",value:e.units}))),i.a.createElement("div",{className:"col-md-3 col-sm-4 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},t.state.inventoryLang.inventory_dollar_value,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("input",{className:t.state.productPackageErrorArr[a]&&t.state.productPackageErrorArr[a].dollar_value?"setting-input-box field-error":"setting-input-box",type:"text",placeholder:"Value","data-packageindex":a,name:"dollar_value",onChange:t.handleInputChange,autoComplete:"off",value:e.dollar_value}))),i.a.createElement("a",{className:0==a?"add-round-btn ":"add-round-btn no-display",onClick:t.addMoreProduct},i.a.createElement("span",null,"+")),i.a.createElement("a",{className:a>0?"add-round-btn ":"add-round-btn no-display",onClick:t.removeCurrentProduct.bind(t,a)},i.a.createElement("span",null,"-")))}),"group"==this.state.package_buy_type&&i.a.createElement("div",{className:"package"==this.state.type?"row relative":"row relative no-display"},i.a.createElement("div",{className:"col-md-6 col-sm-4 col-xs-12"},i.a.createElement("div",{className:"new-field-label"},this.state.inventoryLang.inventory_select_group,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("select",{className:this.state.discount_group_idError?"setting-select-box field-error":"setting-select-box",name:"discount_group_id",onChange:this.handleInputChange,value:this.state.discount_group_id},i.a.createElement("option",{value:0},this.state.inventoryLang.inventory_select),this.state.groups.length&&this.state.groups.map(function(e,t){return i.a.createElement("option",{value:e.id,key:"discount_group_id-"+t},e.name)}))),i.a.createElement("div",{className:"col-md-6 col-sm-4 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.inventoryLang.inventory_select_quality,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("input",{className:this.state.package_product_quantityError?"setting-input-box field-error":"setting-input-box",type:"text",placeholder:"Unit",name:"package_product_quantity",onChange:this.handleInputChange,autoComplete:"off",value:this.state.package_product_quantity})))),i.a.createElement("div",{className:"group"==this.state.type?"row relative":"row relative no-display"},i.a.createElement("div",{className:"col-md-6 col-sm-4 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.inventoryLang.inventory_select_group_t,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("select",{className:this.state.bogo_product_idError?"setting-select-box field-error":"setting-select-box",name:"bogo_product_id",onChange:this.handleInputChange,value:this.state.bogo_product_id},i.a.createElement("option",{value:0},this.state.inventoryLang.inventory_select),this.state.groups.length&&this.state.groups.map(function(e,t){return i.a.createElement("option",{value:e.id,key:"group_id-"+t},e.name)})))),i.a.createElement("div",{className:"col-md-6 col-sm-4 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.inventoryLang.inventory_units,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("input",{className:this.state.bogo_product_quantityError?"setting-input-box field-error":"setting-input-box",type:"text",placeholder:"Unit",name:"bogo_product_quantity",onChange:this.handleInputChange,autoComplete:"off",value:this.state.bogo_product_quantity})))),i.a.createElement("div",{className:"group"==this.state.type?"row relative":"row relative no-display"},i.a.createElement("div",{className:"col-md-6 col-sm-4 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.inventoryLang.inventory_select_group_for,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("select",{className:this.state.bogo_free_product_idError?"setting-select-box field-error":"setting-select-box",name:"bogo_free_product_id",onChange:this.handleInputChange,value:this.state.bogo_free_product_id},i.a.createElement("option",{value:0},this.state.inventoryLang.inventory_select),this.state.groups.length&&this.state.groups.map(function(e,t){return i.a.createElement("option",{value:e.id,key:"discount_group_id-"+t},e.name)})))),i.a.createElement("div",{className:"col-md-2 col-sm-4 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.inventoryLang.inventory_discount_type,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("select",{className:"setting-select-box",name:"discount_type",onChange:this.handleInputChange,value:this.state.discount_type},i.a.createElement("option",{value:"free"},this.state.inventoryLang.inventory_Free),i.a.createElement("option",{value:"percentage"},"% ",this.state.inventoryLang.inventory_off_lbl)))),i.a.createElement("div",{className:"percentage"==this.state.discount_type?"col-md-2 col-sm-4 col-xs-12":"no-display col-md-2 col-sm-4 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.inventoryLang.inventory_percentageLBL,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("input",{className:this.state.bogo_discount_percentageError?"setting-input-box field-error":"setting-input-box",type:"text",name:"bogo_discount_percentage",onChange:this.handleInputChange,value:this.state.bogo_discount_percentage,autoComplete:"off",placeholder:"Value"}))),i.a.createElement("div",{className:"col-md-2 col-sm-4 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.inventoryLang.inventory_units,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("input",{className:this.state.bogo_free_product_quantityError?"setting-input-box field-error":"setting-input-box",type:"text",name:"bogo_free_product_quantity",onChange:this.handleInputChange,value:this.state.bogo_free_product_quantity,autoComplete:"off",placeholder:"Value"})))),i.a.createElement("div",{className:"package"==this.state.type?"row m-t-30":"row m-t-30 no-display"},i.a.createElement("div",{className:"col-md-3 col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.inventoryLang.inventory_package_price,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("input",{className:this.state.package_product_priceError?"setting-input-box field-error":"setting-input-box",type:"text",name:"package_product_price",onChange:this.handleInputChange,value:this.state.package_product_price,autoComplete:"off"}))),i.a.createElement("div",{className:"member"==this.state.customer_type?"col-md-3 col-sm-6 col-xs-12 no-display":"col-md-3 col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.inventoryLang.package_price_for_members_required,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("input",{className:this.state.package_price_for_membersError?"setting-input-box field-error":"setting-input-box",type:"text",name:"package_price_for_members",onChange:this.handleInputChange,value:this.state.package_price_for_members,autoComplete:"off"})))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-3 col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.inventoryLang.inventory_Available_for_purchase_on,i.a.createElement("span",{className:"setting-require"},"*"),i.a.createElement("a",{href:"#",className:"help-icon-form"},"?")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement(xn.a,{value:this.state.active_from?kp(this.state.active_from):null,onChange:this.handleSearchDatePicker.bind(this,"active_from"),className:this.state.active_fromError||"setting-input-box"?"setting-input-box":"setting-field-outer no-display",dateFormat:"YYYY-MM-dd",name:"active_from",selected:this.state.active_from?this.state.active_from:null,autoComplete:"off",minDate:Se()().toDate(),ref:function(e){return t.refDatePicker=e}})))),i.a.createElement("div",{className:"col-md-3 col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.inventoryLang.inventory_Available_for_purchase_until," ",i.a.createElement("span",{className:"setting-require"},"*"),i.a.createElement("a",{href:"#",className:"help-icon-form"},"?")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement(xn.a,{value:this.state.active_untill?kp(this.state.active_untill):null,onChange:this.handleSearchDatePicker.bind(this,"active_untill"),className:this.state.active_untillError||"setting-input-box"?"setting-input-box":"setting-field-outer no-display",dateFormat:"YYYY-MM-dd",name:"active_untill",selected:this.state.active_untill?this.state.active_untill:null,autoComplete:"off",minDate:Se()().toDate(),ref:function(e){return t.refDatePicker=e}})))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.inventoryLang.inventory_keywords),i.a.createElement("div",{className:"setting-input-box"},i.a.createElement(lp.a,{value:this.state.keywords?this.state.keywords:[],onChange:this.handleTagChange}))))),i.a.createElement("div",{className:"row m-t-30"},i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.inventoryLang.inventory_available_to_customers,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"pull-left m-t-5"},i.a.createElement("input",{type:"radio",checked:"all"==this.state.customer_type&&"checked",name:"customer_type",onChange:this.handleInputChange,id:"UserIsDashboardEnabled0",className:"basic-form-checkbox",value:"all"}),i.a.createElement("label",{htmlFor:"UserIsDashboardEnabled0",className:"basic-form-text"},"All"),i.a.createElement("input",(e={type:"radio",id:"UserIsDashboardEnabled1",checked:"member"==this.state.customer_type&&"checked",name:"customer_type",onChange:this.handleInputChange},Object(se.a)(e,"name","customer_type"),Object(se.a)(e,"value","member"),Object(se.a)(e,"className","basic-form-checkbox"),e)),i.a.createElement("label",{htmlFor:"UserIsDashboardEnabled1",className:"basic-form-text"},this.state.inventoryLang.inventory_members_only))))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-3 col-sm-6 col-xs-12"},i.a.createElement("p",{className:"m-b-20"},i.a.createElement("input",{type:"checkbox",id:"curnt-offer",className:"new-check",name:"is_in_current_offers",onChange:this.handleInputChange,checked:!!this.state.is_in_current_offers&&"checked"}),i.a.createElement("label",{htmlFor:"curnt-offer"},this.state.inventoryLang.inventory_mark_as_cureent,":")),i.a.createElement("div",{className:this.state.is_in_current_offers?"setting-field-outer":"setting-field-outer no-display"},i.a.createElement("div",{className:"new-field-label"},this.state.inventoryLang.inventory_offer_expire,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("input",{className:this.state.current_offer_daysError?"setting-input-box field-error":"setting-input-box",type:"text",placeholder:"Days",name:"current_offer_days",onChange:this.handleInputChange,value:this.state.current_offer_days,autoComplete:"off"}))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("p",{className:"m-b-20"},i.a.createElement("input",{type:"checkbox",className:"new-check",name:"all_locations",onChange:this.handleInputChange,checked:!!this.state.all_locations&&"checked"}),i.a.createElement("label",{htmlFor:"Available-location"},this.state.inventoryLang.inventory_available_at_selected,":")),i.a.createElement("div",{className:this.state.all_locations?this.state.discount_package_locationError?"setting-field-outer field-error":"setting-field-outer":"setting-field-outer no-display"},i.a.createElement("div",{className:"new-field-label"},this.state.inventoryLang.inventory_select_locations," : ",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("div",{className:"tag-auto-select"},a&&i.a.createElement(un.a,{onChange:this.handleChange,value:this.state.discount_package_location,isClearable:!0,isSearchable:!0,options:a,isMulti:!0}))))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("p",{className:"m-b-20"},i.a.createElement("input",{type:"checkbox",className:"new-check",name:"all_providers",onChange:this.handleInputChange,checked:!!this.state.all_providers&&"checked"}),i.a.createElement("label",{htmlFor:"Available-provider"},this.state.inventoryLang.inventory_available_only_with,":")),i.a.createElement("div",{className:this.state.all_providers?this.state.discount_package_providerError?"setting-field-outer field-error":"setting-field-outer":"setting-field-outer no-display"},i.a.createElement("div",{className:"new-field-label"},this.state.inventoryLang.inventory_selected_providers,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("div",{className:"tag-auto-select"},s&&i.a.createElement(un.a,{onChange:this.handleProviderChange,value:this.state.discount_package_provider,isClearable:!0,isSearchable:!0,options:s,isMulti:!0}))))))))),i.a.createElement("div",{className:"package"==this.state.type||"group"==this.state.type||"bogo"==this.state.type?"switch-accordian-outer":"switch-accordian-outer no-display"},i.a.createElement("div",{className:"switch-accordian-row ",id:"book"},"Custom Tax Rule (In Percentage)",i.a.createElement("label",{className:"setting-switch pull-right"},i.a.createElement("input",{type:"checkbox",id:"app_booking",name:"is_tax_enabled",onChange:this.handleInputChange,checked:!!this.state.is_tax_enabled&&"checked",className:"setting-custom-switch-input"}),i.a.createElement("span",{className:"setting-slider"}))),i.a.createElement("div",{className:this.state.is_tax_enabled?"setting-container":"setting-container  no-display",id:"Appointment_Booking-form-title"},i.a.createElement("div",{className:"row"},this.state.clinics.length&&this.state.clinics.map(function(e,a){return i.a.createElement("div",{className:"col-sm-3 col-xs-12",key:"clinicTax-"+a},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},e.clinic_name,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("input",{className:t.state["clinicTaxError-"+e.id]?"setting-input-box field-error":"setting-input-box",type:"text",name:"clinicTax-"+e.id,onChange:t.handleInputChange,value:t.state["clinicTax-"+e.id]})))})))),i.a.createElement("div",{className:"footer-static"},i.a.createElement("button",{className:"new-blue-btn pull-right",id:"saveform",onClick:this.handleSubmit},this.state.inventoryLang.inventory_save),i.a.createElement("button",{className:"new-white-btn pull-right",id:"resetform"},this.state.inventoryLang.inventory_Cancel),this.state.packageId>0&&i.a.createElement("button",{className:"new-red-btn pull-left",onClick:function(){t.setState({showModal:!0})}},this.state.inventoryLang.inventory_delete),i.a.createElement("div",{className:this.state.showModal?"overlay":""}),i.a.createElement("div",{id:"filterModal",role:"dialog",className:this.state.showModal?"modal fade in displayBlock":"modal fade"},i.a.createElement("div",{className:"modal-dialog"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal",onClick:this.toggleDeleteModal},"\xd7"),i.a.createElement("h4",{className:"modal-title",id:"model_title"},this.state.inventoryLang.inventory_Confirmation_required,this.state.showModal)),i.a.createElement("div",{id:"errorwindow",className:"modal-body add-patient-form filter-patient"},this.state.inventoryLang.inventory_delete_discount_package_msg),i.a.createElement("div",{className:"modal-footer"},i.a.createElement("div",{className:"col-md-12 text-left",id:"footer-btn"},i.a.createElement("button",{type:"button",className:"btn  logout pull-right","data-dismiss":"modal",onClick:this.toggleDeleteModal},this.state.inventoryLang.inventory_No),i.a.createElement("button",{type:"button",className:"btn btn-success pull-right m-r-10","data-dismiss":"modal",onClick:this.deleteDiscountPackage},this.state.inventoryLang.inventory_Yes))))))),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.globalLang.loading_please_wait_text))))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeonClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};if(void 0!=e.showLoader&&0==e.showLoader&&"false"==localStorage.getItem("showLoader"))return a.showLoader=!1,a;if(void 0!=e.savedData&&1==e.savedData&&"false"==localStorage.getItem("showLoader")&&rt.toast.success(e.message,{onClose:function(){e.history.push("/inventory/discount-packages")}}),void 0!=e.redirect&&1==e.redirect&&rt.toast.success(e.message,{onClose:function(){e.history.push("/inventory/discount-packages")}}),void 0!=e.packageDefaultData&&e.packageDefaultData!=t.packageDefaultData&&"false"==localStorage.getItem("showLoader")&&(a.showLoader=!1,a.packageDefaultData=e.packageDefaultData,a.clinics=e.packageDefaultData.clinics,a.providers=e.packageDefaultData.providers,a.groups=e.packageDefaultData.discount_group,t.packageId)){e.packageDefaultData.clinics&&!t.userChanged&&e.packageDefaultData.clinics.map(function(e,t){a["clinicTax-"+e.id]=e.tax,a["clinicTaxError-"+e.id]=!1});var s=e.packageDefaultData.discount_package;if(a.active_from=t.userChanged?Se()(t.active_from).toDate():Se()(s.active_from).toDate(),a.active_untill=t.userChanged?Se()(t.active_untill).toDate():Se()(s.active_untill).toDate(),a.all_locations=t.userChanged?t.all_locations:s.all_locations,a.all_providers=t.userChanged?t.all_providers:s.all_providers,a.bogo_buy_product_value=t.userChanged?t.bogo_buy_product_value:s.bogo_buy_product_value,a.bogo_buy_type=t.userChanged?t.bogo_buy_type:s.bogo_buy_type,a.bogo_discount_percentage=t.userChanged?t.bogo_discount_percentage:s.bogo_discount_percentage,a.bogo_free_product_id=t.userChanged?t.bogo_free_product_id:s.bogo_free_product_id,a.bogo_free_product_quantity=t.userChanged?t.bogo_free_product_quantity:s.bogo_free_product_quantity,a.bogo_free_product_value=t.userChanged?t.bogo_free_product_value:s.bogo_free_product_value,a.bogo_free_type=t.userChanged?t.bogo_free_type:s.bogo_free_type,a.bogo_product_id=t.userChanged?t.bogo_product_id:s.bogo_product_id,a.bogo_product_quantity=t.userChanged?t.bogo_product_quantity:s.bogo_product_quantity,a.current_offer_days=t.userChanged?t.current_offer_days:s.current_offer_days,a.customer_type=t.userChanged?t.customer_type:s.customer_type,a.discount_dollars=t.userChanged?t.discount_dollars:s.discount_dollars,a.discount_percentage=t.userChanged?t.discount_percentage:s.discount_percentage,a.package_product_price=t.userChanged?t.package_product_price:s.package_bogo_price,a.is_in_current_offers=t.userChanged?t.is_in_current_offers:s.is_in_current_offers,a.is_tax_enabled=t.userChanged?t.is_tax_enabled:s.is_tax_enabled,a.keywords=t.userChanged?t.keywords:s.keywords?s.keywords.split(","):[],a.name=t.userChanged?t.name:s.name,a.package_buy_type=t.userChanged?t.package_buy_type:s.package_buy_type,a.package_price_for_members=t.userChanged?t.package_price_for_members:s.package_price_for_members,a.package_product_id=t.userChanged?t.package_product_id:s.package_product_id,a.package_product_quantity=t.userChanged?t.package_product_quantity:s.package_product_quantity,a.status=t.userChanged?t.status:s.status,a.type=t.userChanged?t.type:s.type,a.package_bogo_price=t.userChanged?t.package_bogo_price:s.package_bogo_price,a.package_price_for_members=t.userChanged?t.package_price_for_members:s.package_price_for_members?s.package_price_for_members:"","bogo"==s.type&&!t.userChanged&&"group"!=s.bogo_buy_type){a.bogo_free_product_id=s.bogo_offer_free_product_id,a.bogo_product_id=s.bogo_offer_product_id,a.bogo_free_product_quantity=s.bogo_offer_free_product_quantity,a.bogo_product_quantity=s.bogo_offer_product_quantity;var n=s.product_names.find(function(e){return e.id===s.bogo_offer_product_id}),i=s.product_names.find(function(e){return e.id===s.bogo_offer_free_product_id});a.bogo_product=n.product_name,a.bogo_free_product=i.product_name}if("group"!=s.bogo_buy_type||t.userChanged||(a.type=s.bogo_buy_type),e.packageDefaultData.discount_package_products.length&&!t.userChanged){var r=[],o=[];e.packageDefaultData.discount_package_products.map(function(e,t){r.push({product_id:e.product_id,product_name:e.product.product_name,dollar_value:e.dollar_value,units:e.units,id:e.id}),o.push(jp())}),a.productPackageArr=r,a.productPackageErrorArr=o}if(s.discount_package_location.length&&!t.userChanged){var l=[];s.discount_package_location.map(function(t,a){var s=e.packageDefaultData.clinics.find(function(e){return e.id===t.clinic_id});l.push({value:t.clinic_id,label:s.clinic_name})}),a.discount_package_location=l}if(s.discount_package_provider.length&&!t.userChanged){var c=[];s.discount_package_provider.map(function(t,a){var s=e.packageDefaultData.providers.find(function(e){return e.id===t.provider_id});c.push({value:t.provider_id,label:Me(s)})}),a.discount_package_provider=c}}return void 0!=e.bogoProductList&&e.bogoProductList.products!=t.bogoProductList&&"false"==localStorage.getItem("showLoader")&&(a.showLoader=!1,a.bogoProductList=e.bogoProductList.products,a.showBogoProducts=!0),void 0!=e.bogoFreeProductList&&e.bogoFreeProductList.products!=t.bogoFreeProductList&&"false"==localStorage.getItem("showLoader")&&(a.showLoader=!1,a.bogoFreeProductList=e.bogoFreeProductList.products,a.showBogoFreeProducts=!0),void 0!=e.packageProductList&&e.packageProductList.products!=t.packageProductList&&"false"==localStorage.getItem("showLoader")&&(a.showLoader=!1,a.packageProductList=e.packageProductList.products,a["showPackageProducts-"+t.packageindex]=!0),a}}]),t}(n.Component);var Up=Object(Z.b)(function(e){var t={},a=JSON.parse(localStorage.getItem("languageData"));return rt.toast.dismiss(),localStorage.setItem("showLoader",!1),"DEFAULT_PACKAGE_DATA"===e.InventoryReducer.action&&(200!=e.InventoryReducer.data.status?(rt.toast.error(a.global[e.InventoryReducer.data.message]),t.showLoader=!1):t.packageDefaultData=e.InventoryReducer.data.data),"BOGO_FREE_PRODUCT_LIST"===e.InventoryReducer.action&&(200!=e.InventoryReducer.data.status?(rt.toast.error(a.global[e.InventoryReducer.data.message]),t.showLoader=!1):t.bogoFreeProductList=e.InventoryReducer.data.data),"BOGO_PRODUCT_LIST"===e.InventoryReducer.action&&(200!=e.InventoryReducer.data.status?(rt.toast.error(a.global[e.InventoryReducer.data.message]),t.showLoader=!1):t.bogoProductList=e.InventoryReducer.data.data),"PACKAGE_PRODUCT_LIST"===e.InventoryReducer.action&&(200!=e.InventoryReducer.data.status?(rt.toast.error(a.global[e.InventoryReducer.data.message]),t.showLoader=!1):t.packageProductList=e.InventoryReducer.data.data),"SAVE_PACKAGE_DATA"===e.InventoryReducer.action?201==e.InventoryReducer.data.status?(t.savedPackageData=e.InventoryReducer.data.data,t.message=a.global[e.InventoryReducer.data.message],t.savedData=!0):200==e.InventoryReducer.data.status?(t.message=a.global[e.InventoryReducer.data.message],t.savedData=!0):(rt.toast.error(a.global[e.InventoryReducer.data.message]),t.showLoader=!1):"DELETE_DISCOUNT_PACKAGE"===e.InventoryReducer.action&&(200==e.InventoryReducer.data.status?(t.redirect=!0,t.message=a.global[e.InventoryReducer.data.message]):(rt.toast.error(a.global[e.InventoryReducer.data.message]),t.showLoader=!1)),t},function(e){return Object(c.bindActionCreators)({getDefaultPackageData:Ju,searchProductByName:Ku,saveDiscountPackage:Qu,deleteDiscountPackage:Zu},e)})(Object(de.a)(Mp)),Fp=Ee.API_URL,Bp=Q.a.create();Bp.defaults.headers.common["access-token"]=xe(),Xe(),Bp.interceptors.response.use(function(e){return void 0!=e.data&&void 0!=e.data.global_settings&&He(e.data.global_settings),Xe(),e},function(e){if(e.response){var t=e.response.data.message;return"invalid_token"!=t&&"session_timeout"!=t&&"server_error"!=t&&"token_not_found"!=t||Oe(),Promise.reject(e)}return{data:{data:"",message:"server_error",status:500}}});var qp=function(e,t){return function(a){Bp.get(Fp+"reports/"+t,e||"").then(function(e){a({type:"REPORTS_LIST",payload:e.data})}).catch(function(e){a({type:"REPORTS_LIST",payload:e.response.data})})}},Yp=function(e,t){return function(a){Bp.get(Fp+"reports/edit/"+t,e||"").then(function(e){a({type:"GET_REPORT_TYPES",payload:e.data})}).catch(function(e){a({type:"GET_REPORT_TYPES",payload:e.response.data})})}},Hp=function(e,t){return function(t){Bp.post(Fp+"reports/0",e||"").then(function(e){t({type:"CREATE_REPORTS",payload:e.data})}).catch(function(e){t({type:"CREATE_REPORTS",payload:e.response.data})})}},Gp=function(e,t){return function(a){Bp.put(Fp+"reports/"+t,e||"").then(function(e){a({type:"UPDATE_REPORTS",payload:e.data})}).catch(function(e){a({type:"UPDATE_REPORTS",payload:e.response.data})})}},Vp=function(e,t){return function(a){Bp.delete(Fp+"reports/"+t,e||"").then(function(e){a({type:"DELETE_REPORTS",payload:e.data})}).catch(function(e){a({type:"DELETE_REPORTS",payload:e.response.data})})}},zp=function(e,t,a){return function(s){Bp.get(Fp+"reports/export/"+t+"/"+a,e||"").then(function(e){s({type:"EXPORT_REPORTS",payload:e.data})}).catch(function(e){s({type:"EXPORT_REPORTS",payload:e.response.data})})}},Wp=(Q.a.create(),function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,s="checkbox"===t.type?t.checked:t.value;a.setState(Object(se.a)({},e.target.name,s))},a.onSort=function(e){var t="asc"===a.state.sortorder?"desc":"asc";a.state.pagesize,a.state.term;a.setState({page:1,pagesize:a.state.pagesize,sortby:e,sortorder:t,loadMore:!0,startFresh:!0,showLoader:!0,next_page_url:"",ReportsData:[]}),localStorage.setItem("sortOnly",!0)},a.loadMore=function(){localStorage.setItem("sortOnly",!1),a.setState({loadMore:!0,startFresh:!0,showLoader:!1,showLoadingText:!0});a.state.page,a.state.pagesize,a.state.sortorder,a.state.term,a.state.action;a.setState({showLoader:!0})},a.handleSubmit=function(e){e.preventDefault(),localStorage.setItem("sortOnly",!0);a.state.pagesize,a.state.sortorder,a.state.term;a.setState({page:1,pagesize:a.state.pagesize,sortorder:"asc"==a.state.sortorder?"desc":"asc",startFresh:!0,loadMore:!0,next_page_url:"",ReportsData:[]}),a.setState({showLoader:!0,filterValue:"false"})},a.showDeleteModal=function(e){var t=e.currentTarget.dataset.href;a.setState({deleteId:t,showModal:!0})},a.dismissModal=function(){a.setState({showModal:!1})},a.deleteClinic=function(){a.setState({showLoader:!0,hideBtns:!0}),a.props.deleteReports({},a.state.deleteId),a.setState({showModal:!1,showLoader:!1}),a.dismissModal()},a.reportDataOne=function(e){localStorage.setItem("sortOnly",!0);var t=e.currentTarget.dataset.href,s={params:{page:1,pagesize:a.state.pagesize}};a.props.fetchReports(s,t),a.setState({reportIdData:t,showLoader:!0,page:1,pagesize:a.state.pagesize,loadMore:!0,startFresh:!0,next_page_url:"",ReportsData:[]})},a.reportData=function(e){var t=e.currentTarget.dataset.reportid;a.props.getReportTypes({},t),a.setState({editId:t});e.currentTarget.dataset.type;return i.a.createElement("div",null,a.props.history.push("/reports/".concat(t,"/edit")))},a.reportDataEditUp=function(e){var t=e.currentTarget.dataset.reportid;a.props.getReportTypes({},t),a.setState({editId:t});e.currentTarget.dataset.type;return i.a.createElement("div",null,a.props.history.push("/reports/".concat(t,"/edit")))},a.exportReportType=function(e){var t=e.currentTarget.dataset.id,s=e.currentTarget.dataset.type;a.props.exportReports({},t,s)};JSON.parse(localStorage.getItem("userData"));var s=JSON.parse(localStorage.getItem("languageData"));return a.state={loadMore:!0,startFresh:!0,showLoader:!1,page:1,pagesize:15,term:"",hasMoreItems:!0,next_page_url:"",searchFunction:"",user_changed:!1,tabClicked:!1,action:e.match.params.statusId,sortorder:"asc",scopes:"category",ReportsData:[],patientsData:[],globalLang:s.global,reportsLang:s.reports,showLoadingText:!1,ReportsDataList:[],reportIdData:null,deleteId:null,ExportReportsData:[],ReportsDataAll:[],report_type:null,editId:null},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),window.onscroll=function(){var e=parseInt(Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop));window.innerHeight+e===document.documentElement.offsetHeight&&null!=a.state.next_page_url&&a.loadMore()},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e={params:{page:1,pagesize:this.state.pagesize}};this.setState({showLoader:!0,page:1,pagesize:this.state.pagesize,loadMore:!0,startFresh:!0,next_page_url:"",ReportsData:[],ReportsDataList:[]});this.state.reportIdData;this.props.fetchReports(e,0)}},{key:"render",value:function(){var e=this,t="col-sm-8",a="col-sm-8 no-display";return this.state.reportIdData&&this.state.reportIdData>0?(t="col-sm-8",a="col-sm-8 no-display"):(t="col-sm-8 no-display",a="col-sm-8"),i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement("div",{className:"juvly-title"},i.a.createElement("span",{className:"no-margin"},this.state.reportsLang.reports_heading),this.state.showLoader?"":i.a.createElement(me.a,{to:"/reports/create",className:"new-blue-btn pull-right"},this.state.reportsLang.create_report_button)),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-4 col-xs-12"},i.a.createElement("div",{className:"merge-setion report-menu-section"},i.a.createElement("div",{className:"section-title header-blue"},i.a.createElement("span",{className:"section-title-name"},this.state.reportsLang.reports_sub_heading)),i.a.createElement("div",{className:"report-content"},i.a.createElement("ul",{className:"reports-menus"},void 0!=this.state.ReportsDataList&&void 0!=this.state.ReportsData&&this.state.ReportsDataList.map(function(t,a){return i.a.createElement("li",{className:"reports-li deleteable",key:a},i.a.createElement("a",{"data-href":t.id,onClick:e.reportDataOne,className:"reports-li-a"},t.report_name),i.a.createElement("a",{"data-href":t.id,title:"Delete",onClick:e.showDeleteModal,className:"sale-trash delete-custom-segment-link confirm-model"},i.a.createElement("i",{className:"fas fa-trash-alt"})),i.a.createElement("a",{href:"javascript:void(0)",onClick:e.reportData,"data-reportid":t.id,title:"Edit",className:"sale-trash edit-custom-segment-link modal-link"},i.a.createElement("i",{className:"fas fa-pencil-alt"})))}))))),i.a.createElement("div",{className:t},i.a.createElement("div",{className:"merge-setion"},i.a.createElement("div",{className:"section-title no-border"},i.a.createElement("div",{className:"section-title-name"},this.state.ReportsData.report_name,this.state.showLoader?"":void 0!=this.state.ReportsDataList?i.a.createElement("a",{onClick:this.reportDataEditUp,title:"Edit Here","data-reportid":this.state.reportIdData,className:"sale-trash edit-custom-segment-link modal-link edit-report-icon"},i.a.createElement("i",{className:"fas fa-pencil-alt"})):""),i.a.createElement("div",{className:"report-title-discription"},void 0!=this.state.ReportsData&&void 0!=this.state.ReportsData.report_detail?i.a.createElement("div",{dangerouslySetInnerHTML:{__html:this.state.ReportsData.report_detail.description}}):""),this.state.showLoader?"":i.a.createElement("div",{className:"dropdown pull-right report-export"},i.a.createElement("button",{className:"line-btn no-margin",type:"button",id:"dropdownMenu1","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Export",i.a.createElement("i",{className:"fas fa-angle-down"})),void 0!=this.state.ReportsDataList&&this.state.ReportsDataList.map(function(t,a){return i.a.createElement("ul",{key:a,className:"dropdown-menu","aria-labelledby":"dropdownMenu1"},i.a.createElement("li",null,i.a.createElement("a",{href:"javascript:void(0);","data-id":t.id,"data-type":"csv",onClick:e.exportReportType},"Export as CSV")),i.a.createElement("li",null,i.a.createElement("a",{href:"javascript:void(0);","data-id":t.id,"data-type":"xls",onClick:e.exportReportType},"Export as Excel")))}))),i.a.createElement("div",{className:"table-responsive"},i.a.createElement("table",{className:"table-updated juvly-table no-hover"},i.a.createElement("thead",{className:"table-updated-thead"},i.a.createElement("tr",null,void 0!==this.state.ReportsData&&void 0!==this.state.ReportsData.report_detail&&void 0!==this.state.ReportsData.report_detail.headers&&this.state.ReportsData.report_detail.headers.length>0&&this.state.ReportsData.report_detail.headers.map(function(t,a){return 1==e.state.ReportsData.report_type?i.a.createElement("th",{key:a,className:"col-xs-2 table-updated-th"},t):2==e.state.ReportsData.report_type?i.a.createElement("th",{key:a,className:"col-xs-2 table-updated-th"},t):3==e.state.ReportsData.report_type?i.a.createElement("th",{key:a,className:"col-xs-2 table-updated-th"},t):4==e.state.ReportsData.report_type?i.a.createElement("th",{key:a,className:"col-xs-2 table-updated-th"},t):5==e.state.ReportsData.report_type?i.a.createElement("th",{key:a,className:"col-xs-2 table-updated-th"},t):6==e.state.ReportsData.report_type?i.a.createElement("th",{key:a,className:"col-xs-2 table-updated-th"},t):7==e.state.ReportsData.report_type?i.a.createElement("th",{key:a,className:"col-xs-2 table-updated-th"},t):8==e.state.ReportsData.report_type?i.a.createElement("th",{key:a,className:"col-xs-2 table-updated-th"},t):9==e.state.ReportsData.report_type?i.a.createElement("th",{key:a,className:"col-xs-2 table-updated-th"},t):10==e.state.ReportsData.report_type?i.a.createElement("th",{key:a,className:"col-xs-2 table-updated-th"},t):12==e.state.ReportsData.report_type?i.a.createElement("th",{key:a,className:"col-xs-2 table-updated-th"},t):13==e.state.ReportsData.report_type?i.a.createElement("th",{key:a,className:"col-xs-2 table-updated-th"},t):14==e.state.ReportsData.report_type?i.a.createElement("th",{key:a,className:"col-xs-2 table-updated-th"},t):16==e.state.ReportsData.report_type?i.a.createElement("th",{key:a,className:"col-xs-2 table-updated-th"},t):15==e.state.ReportsData.report_type?i.a.createElement("th",{key:a,className:"col-xs-2 table-updated-th"},t):17==e.state.ReportsData.report_type?i.a.createElement("th",{key:a,className:"col-xs-2 table-updated-th"},t):18==e.state.ReportsData.report_type?i.a.createElement("th",{key:a,className:"col-xs-2 table-updated-th"},t):19==e.state.ReportsData.report_type?i.a.createElement("th",{key:a,className:"col-xs-2 table-updated-th"},t):""}))),i.a.createElement("tbody",null,11==this.state.ReportsData.report_type?i.a.createElement("tr",{className:"table-updated-tr"},i.a.createElement("td",{className:"table-updated-td"},this.state.ReportsData.report_detail.patients.days?this.state.ReportsData.report_detail.patients.days:"&nbsp;")):"",void 0!==this.state.patientsData&&this.state.patientsData.length>0&&this.state.patientsData.map(function(t,a){return 1==e.state.ReportsData.report_type?i.a.createElement("tr",{className:"table-updated-tr",key:a+"-1-report"},i.a.createElement("td",{className:"table-updated-td"},t.firstname+t.lastname),i.a.createElement("td",{className:"table-updated-td"},t.email),i.a.createElement("td",{className:"table-updated-td"},"Invalid date"==Be(t.dob)?"N/A":Be(t.dob)),i.a.createElement("td",{className:"table-updated-td"},t.gender_text),i.a.createElement("td",{className:"table-updated-td"},Ie(t.total_units))):2==e.state.ReportsData.report_type?i.a.createElement("tr",{className:"table-updated-tr",key:a+"-2-report"},i.a.createElement("td",{className:"table-updated-td"},t.firstname+t.lastname),i.a.createElement("td",{className:"table-updated-td"},t.email),i.a.createElement("td",{className:"table-updated-td"},"Invalid date"==Be(t.dob)?"N/A":Be(t.dob)),i.a.createElement("td",{className:"table-updated-td"},t.gender_text),i.a.createElement("td",{className:"table-updated-td"},Ie(t.total_units))):3==e.state.ReportsData.report_type?i.a.createElement("tr",{className:"table-updated-tr",key:a+"-3-report"},i.a.createElement("td",{className:"table-updated-td"},t.firstname+t.lastname),i.a.createElement("td",{className:"table-updated-td"},t.email),i.a.createElement("td",{className:"table-updated-td"},"Invalid date"==Be(t.dob)?"N/A":Be(t.dob)),i.a.createElement("td",{className:"table-updated-td"},t.gender_text),void 0!==t.appointment?i.a.createElement("td",{className:"table-updated-td"},t.appointment.appointment_datetime):i.a.createElement("td",{className:"table-updated-td"},"never")):4==e.state.ReportsData.report_type?i.a.createElement("tr",{className:"table-updated-tr",key:a+"-4-report"},i.a.createElement("td",{className:"table-updated-td"},t.product_name),i.a.createElement("td",{className:"table-updated-td"},t.total_sale),i.a.createElement("td",{className:"table-updated-td"},t.clinic_name)):5==e.state.ReportsData.report_type?i.a.createElement("tr",{className:"table-updated-tr",key:a+"-5-report"},i.a.createElement("td",{className:"table-updated-td"},t.firstname+t.lastname),i.a.createElement("td",{className:"table-updated-td"},t.email),i.a.createElement("td",{className:"table-updated-td"},"Invalid date"==Be(t.dob)?"N/A":Be(t.dob)),i.a.createElement("td",{className:"table-updated-td"},t.gender_text),i.a.createElement("td",{className:"table-updated-td"},t.phoneNumber)):6==e.state.ReportsData.report_type?i.a.createElement("tr",{className:"table-updated-tr",key:a+"-6-report"},i.a.createElement("td",{className:"table-updated-td"},t.firstname+t.lastname),i.a.createElement("td",{className:"table-updated-td"},t.email),i.a.createElement("td",{className:"table-updated-td"},"Invalid date"==Be(t.dob)?"N/A":Be(t.dob)),i.a.createElement("td",{className:"table-updated-td"},t.gender_text),null==t.appointment?i.a.createElement("td",{className:"table-updated-td"},"never"):i.a.createElement("td",{className:"table-updated-td"},void 0!=t.appointment.appointment_datetime?t.appointment.appointment_datetime:null)):7==e.state.ReportsData.report_type?i.a.createElement("tr",{className:"table-updated-tr",key:a+"-7-report"},i.a.createElement("td",{className:"table-updated-td"},t.firstname+t.lastname),i.a.createElement("td",{className:"table-updated-td"},t.email),i.a.createElement("td",{className:"table-updated-td"},"Invalid date"==Be(t.dob)?"N/A":Be(t.dob)),i.a.createElement("td",{className:"table-updated-td"},t.gender_text),i.a.createElement("td",{className:"table-updated-td"},t.total_visit)):8==e.state.ReportsData.report_type?i.a.createElement("tr",{className:"table-updated-tr",key:a+"-8-report"},i.a.createElement("td",{className:"table-updated-td"},t.patient.firstname+t.patient.lastname),i.a.createElement("td",{className:"table-updated-td"},t.patient.email),i.a.createElement("td",{className:"table-updated-td"},"Invalid date"==Be(t.patient.dob)?"N/A":Be(t.patient.dob)),i.a.createElement("td",{className:"table-updated-td"},t.patient.gender_text),i.a.createElement("td",{className:"table-updated-td"},t.app_count)):9==e.state.ReportsData.report_type?i.a.createElement("tr",{className:"table-updated-tr",key:a+"-9-report"},i.a.createElement("td",{className:"table-updated-td"},t.patient.firstname+t.patient.lastname),i.a.createElement("td",{className:"table-updated-td"},t.patient.email),i.a.createElement("td",{className:"table-updated-td"},"Invalid date"==Be(t.patient.dob)?"N/A":Be(t.patient.dob)),i.a.createElement("td",{className:"table-updated-td"},t.patient.gender_text),i.a.createElement("td",{className:"table-updated-td"},t.app_count)):10==e.state.ReportsData.report_type?i.a.createElement("tr",{className:"table-updated-tr",key:a+"-10-report"},i.a.createElement("td",{className:"table-updated-td"},t.firstname+t.lastname),i.a.createElement("td",{className:"table-updated-td"},t.email),i.a.createElement("td",{className:"table-updated-td"},"Invalid date"==Be(t.dob)?"N/A":Be(t.dob)),i.a.createElement("td",{className:"table-updated-td"},t.gender_text),i.a.createElement("td",{className:"table-updated-td"},t.appointment.appointment_datetime)):12==e.state.ReportsData.report_type?i.a.createElement("tr",{className:"table-updated-tr",key:a+"-12-report"},i.a.createElement("td",{className:"table-updated-td"},t.day_name),i.a.createElement("td",{className:"table-updated-td"},t.app_count)):13==e.state.ReportsData.report_type?i.a.createElement("tr",{className:"table-updated-tr",key:a+"-13-report"},i.a.createElement("td",{className:"table-updated-td"},t.data.firstname+t.data.lastname),i.a.createElement("td",{className:"table-updated-td"},t.email),i.a.createElement("td",{className:"table-updated-td"},"Invalid date"==Be(t.dob)?"N/A":Be(t.dob)),i.a.createElement("td",{className:"table-updated-td"},t.gender_text),i.a.createElement("td",{className:"table-updated-td"},Ie(t.amount_sum,"currency"))):14==e.state.ReportsData.report_type?i.a.createElement("tr",{className:"table-updated-tr",key:a+"-14-report"},i.a.createElement("td",{className:"table-updated-td"},t.patient.firstname+t.patient.lastname),i.a.createElement("td",{className:"table-updated-td"},t.patient.email),i.a.createElement("td",{className:"table-updated-td"},"Invalid date"==Be(t.patient.dob)?"N/A":Be(t.patient.dob)),i.a.createElement("td",{className:"table-updated-td"},t.patient.gender_text),i.a.createElement("td",{className:"table-updated-td"},t.total_count)):15==e.state.ReportsData.report_type?i.a.createElement("tr",{className:"table-updated-tr",key:a+"-15-report"},i.a.createElement("td",{className:"table-updated-td"},t.firstname+t.lastname),i.a.createElement("td",{className:"table-updated-td"},t.email),i.a.createElement("td",{className:"table-updated-td"},"Invalid date"==Be(t.dob)?"N/A":Be(t.dob)),i.a.createElement("td",{className:"table-updated-td"},t.gender_text),i.a.createElement("td",{className:"table-updated-td"},t.phoneNumber)):16==e.state.ReportsData.report_type?i.a.createElement("tr",{className:"table-updated-tr",key:a+"-16-report"},i.a.createElement("td",{className:"table-updated-td"},t.firstname+t.lastname),i.a.createElement("td",{className:"table-updated-td"},t.email),i.a.createElement("td",{className:"table-updated-td"},"Invalid date"==Be(t.dob)?"N/A":Be(t.dob)),i.a.createElement("td",{className:"table-updated-td"},t.gender_text),i.a.createElement("td",{className:"table-updated-td"},t.phoneNumber)):17==e.state.ReportsData.report_type?i.a.createElement("tr",{className:"table-updated-tr",key:a+"-17-report"},i.a.createElement("td",{className:"table-updated-td"},t.firstname+t.lastname),i.a.createElement("td",{className:"table-updated-td"},t.email),i.a.createElement("td",{className:"table-updated-td"},"Invalid date"==Be(t.dob)?"N/A":Be(t.dob)),i.a.createElement("td",{className:"table-updated-td"},t.gender_text),i.a.createElement("td",{className:"table-updated-td"},t.referral_source)):18==e.state.ReportsData.report_type?i.a.createElement("tr",{className:"table-updated-tr",key:a+"-18-report"},i.a.createElement("td",{className:"table-updated-td"},t.provider),i.a.createElement("td",{className:"table-updated-td"},t.month),i.a.createElement("td",{className:"table-updated-td"},t.total)):19==e.state.ReportsData.report_type?i.a.createElement("tr",{className:"table-updated-tr",key:a+"-19-report"},i.a.createElement("td",{className:"table-updated-td"},t.provider),i.a.createElement("td",{className:"table-updated-td"},t.month_name+","+t.year),i.a.createElement("td",{className:"table-updated-td"},t.total_time+" minutes")):""})))))),i.a.createElement("div",{className:a},i.a.createElement("div",{className:"merge-setion"},i.a.createElement("div",{className:"section-title"},i.a.createElement("span",{className:"section-title-name"}),i.a.createElement("div",{className:"dropdown pull-right"})),i.a.createElement("div",{className:"ajax-view merge-content"},i.a.createElement("div",{className:"form-group pull-right right-dropdown"}),i.a.createElement("div",{className:"table-responsive"},i.a.createElement("div",{className:"no-record"},"No Report selected"))))))),i.a.createElement("div",{className:this.state.showModal?"overlay":""}),i.a.createElement("div",{id:"filterModal",role:"dialog",className:this.state.showModal?"modal fade in displayBlock":"modal fade"},i.a.createElement("div",{className:"modal-dialog"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal",onClick:this.dismissModal},"\xd7"),i.a.createElement("h4",{className:"modal-title",id:"model_title"},this.state.reportsLang.reports_confim_required,this.state.showModal)),i.a.createElement("div",{id:"errorwindow",className:"modal-body add-patient-form filter-patient"},this.state.reportsLang.reports_delete_text),i.a.createElement("div",{className:"modal-footer"},i.a.createElement("div",{className:"col-md-12 text-left",id:"footer-btn"},i.a.createElement("button",{type:"button",className:"btn  logout pull-right","data-dismiss":"modal",onClick:this.dismissModal},this.state.reportsLang.report_delete_no),i.a.createElement("button",{type:"button",className:"btn btn-success pull-right m-r-10","data-dismiss":"modal",onClick:this.deleteClinic},this.state.reportsLang.report_delete_yes)))))),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock fixLoader":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.globalLang.loading_please_wait_text))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){e.ExportReportsData&&window.open(e.ExportReportsData.data.file);var a={};if(void 0!=e.ReportsData&&e.ReportsData.data!=t.ReportsData){var s=e.ReportsData.data.report_data.report_detail.patients;if(console.log(s),s.next_page_url!==t.next_page_url){if(null==t.next_page_url)return localStorage.setItem("sortOnly",!1),a.next_page_url=null;0==t.patientsData.length&&1==t.startFresh||t.reportId!=e.ReportsData.data.report_data.id?"false"==localStorage.getItem("sortOnly")?(a.ReportsData=e.ReportsData.report_data,null!=s.next_page_url?a.page=t.page+1:a.next_page_url=s.next_page_url,a.startFresh=!1,a.showLoader=!1,a.showLoadingText=!1,a.patientsData=s.data,a.ReportsDataAll=e.ReportsData.data,a.ReportsData=e.ReportsData.data.report_data,a.reportId=e.ReportsData.data.report_data.id,a.report_type=e.ReportsData.data.report_data.report_type,a.ReportsDataList=e.ReportsData.data.reports,e.ReportsData.data&&e.ReportsData.data.reports&&(a.reportIdData=e.ReportsData.data.reports&&e.ReportsData&&e.ReportsData.data&&e.ReportsData.data.reports&&e.ReportsData.data.reports[0]?e.ReportsData.data.reports[0].id:0)):localStorage.setItem("sortOnly",!1):t.patientsData!=s.data&&0!=t.patientsData.length&&(a.patientsData=Object(oa.a)(t.patientsData).concat(Object(oa.a)(s.data)),a.page=t.page+1,a.next_page_url=s.next_page_url,a.showLoader=!1,a.showLoadingText=!1),a.showLoader=!1}return a}return null}}]),t}(n.Component));var Jp=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData"));return"REPORTS_LIST"===e.ReportsReducer.action&&200===e.ReportsReducer.data.status?{ReportsData:e.ReportsReducer.data}:"EXPORT_REPORTS"===e.ReportsReducer.action&&200===e.ReportsReducer.data.status?{ExportReportsData:e.ReportsReducer.data}:"DELETE_REPORTS"===e.ReportsReducer.action?(200==e.ReportsReducer.data.status?rt.toast.success(t.global[e.ReportsReducer.data.message]):rt.toast.error(t.global[e.ReportsReducer.data.message]),{}):{}},function(e){return Object(c.bindActionCreators)({fetchReports:qp,getReportTypes:Yp,deleteReports:Vp,exportReports:zp},e)})(Object(de.a)(Wp)),Qp=(Q.a.create(),function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,s="checkbox"===t.type?t.checked:t.value;a.setState(Object(se.a)({},e.target.name,s))},a.handleSelectChange=function(e){a.setState({selectedUnitsOptions:e,userChanged:!0})},a.handleSubmit=function(e){e.preventDefault(),localStorage.setItem("sortOnly",!0);var t=[];void 0!=a.state.selectedOption&&a.state.selectedOption.length>0&&(t=a.state.selectedOption.map(function(e,t){return e.id})),t.length||a.state.report_array.length&&void 0!=a.state.selectedOption&&a.state.selectedOption.length&&a.state.selectedOption.map(function(e,s){a.state.selectedOption.indexOf(e.id)>-1&&t.push(e.id)});var s=0;void 0!=a.state.selectedUnitsOptions&&a.state.selectedUnitsOptions.length&&(s=a.state.selectedUnitsOptions[0].value);var n={report_type:a.props.type,report_name:a.props.name,report_category:a.props.category,product_id:t.join(","),days:s};a.setState({page:1,pagesize:a.state.pagesize,sortorder:"asc"==a.state.sortorder?"desc":"asc",startFresh:!0,loadMore:!0,next_page_url:"",ReportsData:[]}),a.setState({showLoader:!0,filterValue:"false"}),null!=a.state.id?(a.props.updateReports(n,a.state.id),a.setState({showLoader:!1})):(a.props.createReports(n),a.setState({showLoader:!1}))},a.handleChange1=function(e,t){if("select-option"==t.action){var s=a.state.selectedOption;a.state.AllReportTypes.products;a.state.AllReportTypes.products.map(function(e,n){if(e.id==t.option.value)return s.push(e),void a.setState({selectedOption:s})})}else if("remove-value"==t.action){var n=a.state.selectedOption,i=n.findIndex(function(e){return e.id===t.removedValue.value});n.splice(i,1),a.setState({selectedOption:n})}},a.handleChange2=function(e,t){if("select-option"==t.action){var s=a.state.selectedOption;a.state.AllReportTypes.report_details;a.state.AllReportTypes.report_details.map(function(e,n){if(e.id==t.option.value)return s.push(e),void a.setState({selectedOption:s})})}else if("remove-value"==t.action){var n=a.state.selectedOption,i=n.findIndex(function(e){return e.id===t.removedValue.value});n.splice(i,1),a.setState({selectedOption:n})}};JSON.parse(localStorage.getItem("userData"));var s=JSON.parse(localStorage.getItem("languageData"));return a.state={loadMore:!0,startFresh:!0,showLoader:!1,page:1,pagesize:15,term:"",hasMoreItems:!0,next_page_url:"",ReportsTypes:[],globalLang:s.global,reportsLang:s.reports,showLoadingText:!1,ReportsDataList:[],reportIdData:null,firstAccordionClass:"juvly-accordion 1",secondAccordionClass:"juvly-accordion 2",thirdAccordionClass:"juvly-accordion 3",fourthAccordionClass:"juvly-accordion 4",accordion:{},type:null,report_name:"",defaultOptions1:[],options1:null,ReportProducts:[],selectedOption:[],select_Default_Report:[],ReportsDataChild:[],clinics_array:[],AllReportTypes:[],report_array:[],product_id:null,product_id_not:null,defaultOptions11:[],defaultOptions12:[],options11:null,options12:null,defaultEditOptions11:[],defaultEditOptions12:[],optionsEdit11:null,optionsEdit12:null,userChanged:!1,days:null,reportTypesAll:[],editType:e.type,id:e.match.params.id,unitsOption:[],selectedUnitsOptions:[]},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),window.onscroll=function(){var e=parseInt(Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop));window.innerHeight+e===document.documentElement.offsetHeight&&null!=a.props.next_page_url&&a.loadMore()},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){this.props.to_date,this.props.from_date,this.props.pagesize;this.setState({page:1,pagesize:this.props.pagesize,loadMore:!0,startFresh:!0,next_page_url:"",ReportsData:[],ReportsTypes:[],ReportsDataList:[]}),null!=this.state.id?(this.setState({showLoader:!0}),this.props.getReportTypes({},this.state.id)):(this.setState({showLoader:!0}),this.props.getReportTypes({},0))}},{key:"render",value:function(){var e=[];if(void 0!=this.state.AllReportTypes&&void 0!=this.state.AllReportTypes.global_days)for(var t in this.state.AllReportTypes.global_days){var a={};a.key=t,a.value=this.state.AllReportTypes.global_days[t],e.push(a)}var s=[],n=[];s=[],this.state.selectedOption.map(function(e,t){s.push({value:e.id,label:e.product_name})}),void 0!=this.state.AllReportTypes&&void 0!=this.state.AllReportTypes.products&&this.state.AllReportTypes.products.length>0&&(n=this.state.AllReportTypes.products.map(function(e,t){return{value:e.id,label:e.product_name}}));var r=[],o=[];r=[],this.state.selectedOption.map(function(e,t){r.push({value:e.id,label:e.product_name}),o.push(e.product_name)}),void 0!=this.props.ReportTypes&&void 0!=this.props.ReportTypes.report_details&&this.props.ReportTypes.report_details.length>0&&this.props.ReportTypes.report_details.map(function(e,t){return{value:e.variable1,label:e.variable1}});var l=[];return void 0!=e&&e.length>0&&e.map(function(e,t){l.push({value:e.key,label:e.value})}),i.a.createElement("div",{style:{opacity:"1"},className:"report-question-outer report-filling fill-report no-padding","data-id":2},i.a.createElement("div",{className:"report-question"},"Received"," ",i.a.createElement("span",{className:"empty-place fill1"}," ",o.join(","))," ","treatment in ",i.a.createElement("span",{className:"empty-place fill2"},this.state.days)," days"),i.a.createElement("div",{className:"report-instruction"},this.state.reportsLang.report_type_select),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-12"},i.a.createElement("div",{className:"choice report-choice"},n&&i.a.createElement(un.a,{placeholder:"Type to search",onChange:this.handleChange1,value:s,isClearable:!0,isSearchable:!0,options:n,isMulti:!0}))),i.a.createElement("div",{className:"col-sm-12"},i.a.createElement("div",{className:"choice report-choice"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"custom-select col-sm-3 select2"},i.a.createElement("input",{type:"text",className:"search-selectbox firstText",autoComplete:"off"}),this.state.unitsOption&&i.a.createElement(un.a,{placeholder:"Type to Search",name:"days",onChange:this.handleSelectChange,style:{display:"block"},value:this.state.selectedUnitsOptions,isClearable:!0,isSearchable:!0,options:l,isMulti:!0})))))),i.a.createElement("input",{type:"hidden",name:"report_category",defaultValue:""}),i.a.createElement("input",{type:"hidden",id:"hidden_productsIn",name:"product_id",defaultValue:"",className:"sel_in"}),i.a.createElement("input",{type:"hidden",id:"hidden_productsNot",name:"product_id_not",defaultValue:"",className:"sel_in"}),i.a.createElement(me.a,{to:"/reports/create",className:"report-btn common-btn",id:"back_report"},this.state.reportsLang.report_back_button," ",i.a.createElement("i",{className:"fa fa-arrow-left"})),i.a.createElement("button",{className:"report-btn common-btn pull-right",onClick:this.handleSubmit,id:"saveReport"}," ",this.state.id?this.state.reportsLang.report_update_report_button:this.state.reportsLang.report_create_report_button,i.a.createElement("i",{className:"fa fa-check"})),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock full-width":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.globalLang.loading_please_wait_text))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};if(void 0!=e.ReportTypes&&e.ReportTypes!=t.ReportsDataChild){if(a.ReportsDataChild=e.ReportTypes,a.showLoader=!1,t.id?a.AllReportTypes=e.ReportTypes:(a.AllReportTypes=e.ReportTypes.data,a.showLoader=!1),a.report_array=t.userChanged?t.report_array:e.ReportTypes.data,a.showLoader=!1,t.id){var s=[];void 0!=a.AllReportTypes.report_details&&a.AllReportTypes.products.map(function(e,t){a.AllReportTypes.report_details.variable1.indexOf(",")>-1?a.AllReportTypes.report_details.variable1.split(",").map(function(t,a){t==e.id&&s.push(e)}):a.AllReportTypes.report_details.variable1==e.id&&s.push(e)}),a.selectedOption=s}if(t.id){var n="";void 0!==a.AllReportTypes.report_details&&(n=a.AllReportTypes.report_details.report_type),a.report_type=n}if(t.id){var i=[],r=0;for(var o in void 0!=t.selectedUnitsOptions&&t.selectedUnitsOptions.length&&(r=t.selectedUnitsOptions[0].value),a.days=t.userChanged?r:a.AllReportTypes.report_details.variable2,a.AllReportTypes.report_details&&0===t.selectedUnitsOptions.length&&t.selectedUnitsOptions.push({value:a.AllReportTypes.report_details.variable2,label:a.AllReportTypes.report_details.variable2}),a.AllReportTypes.global_days)(o=a.AllReportTypes.report_details.variable2)&&i.push(a.AllReportTypes.global_days[o]);a.reportTypesAll=i}else{void 0!=a.reportTypesAll&&a.reportTypesAll.length>0&&a.reportTypesAll.map(function(e,t){a.reportTypesAll.push({value:e.key,label:e.value})})}return a}return null}}]),t}(n.Component));var Kp=Object(Z.b)(function(e){return JSON.parse(localStorage.getItem("languageData")),"GET_REPORT_TYPES"!==e.ReportsReducer.action?{}:200===e.ReportsReducer.data.status?{ReportsTypes:e.ReportsReducer.data}:void 0},function(e){return Object(c.bindActionCreators)({createReports:Hp,getReportTypes:Yp,updateReports:Gp},e)})(Object(de.a)(Qp)),Xp=(Q.a.create(),function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,s="checkbox"===t.type?t.checked:t.value;a.setState(Object(se.a)({},e.target.name,s))},a.onSort=function(e){var t="asc"===a.props.sortorder?"desc":"asc",s={params:{page:1,pagesize:a.props.pagesize,sortby:e,sortorder:t,term:a.props.term}};a.setState({page:1,pagesize:a.props.pagesize,sortby:e,sortorder:t,loadMore:!0,startFresh:!0,showLoader:!0,next_page_url:"",ReportsData:[]}),localStorage.setItem("sortOnly",!0),a.props.createReports(s)},a.loadMore=function(){localStorage.setItem("sortOnly",!1),a.setState({loadMore:!0,startFresh:!0,showLoader:!1,showLoadingText:!0});a.props.page,a.props.pagesize,a.props.sortorder,a.props.term,a.props.action;a.setState({showLoader:!0})},a.inventoryEdit=function(e,t){return i.a.createElement("div",{className:"no-display"},"//",a.props.history.push("/inventory/products/categories/".concat(t,"/edit")))},a.handleSubmit=function(e){e.preventDefault(),localStorage.setItem("sortOnly",!0);var t=[];void 0!=a.state.selectedOption&&a.state.selectedOption.length>0&&(t=a.state.selectedOption.map(function(e,t){return e.id})),t.length||a.state.report_array.length&&void 0!=a.state.selectedOption&&a.state.selectedOption.length&&a.state.selectedOption.map(function(e,s){a.state.report_array.indexOf(e.id)>-1&&t.push(e.id)});var s=[];void 0!=a.state.selectedOption1&&a.state.selectedOption1.length>0&&(s=a.state.selectedOption1.map(function(e,t){return e.id})),s.length||a.state.report_array.length&&void 0!=a.state.selectedOption1&&a.state.selectedOption.length&&a.state.selectedOption1.map(function(e,t){a.state.report_array.indexOf(e.id)>-1&&s.push(e.id)});var n={report_type:a.props.type,report_name:a.props.name,product_id:t.join(","),report_category:a.props.category,product_id_not:s.join(",")};a.setState({page:1,pagesize:a.state.pagesize,sortorder:"asc"==a.state.sortorder?"desc":"asc",startFresh:!0,loadMore:!0,next_page_url:"",ReportsData:[]}),a.setState({showLoader:!0,filterValue:"false"}),null!=a.state.id?(a.props.updateReports(n,a.state.id),a.setState({showLoader:!1})):(a.props.createReports(n),a.setState({showLoader:!1}))},a.showDeleteModal=function(){a.setState({showModal:!0})},a.dismissModal=function(){a.setState({showModal:!1})},a.deleteClinic=function(){a.setState({showLoader:!0,hideBtns:!0}),a.dismissModal()},a.reportData=function(e){e.currentTarget.dataset.href;a.setState({reportIdData:e.currentTarget.dataset.href})},a.accordion=function(e){var t=e.currentTarget.dataset.href;if(t){var s=a.props.accordion;s[t]?s[t]=!s[t]:s[t]=!0,a.setState({accordionList:s})}a.setState({titleClass:"juvly-accordion-title active",contentClass:"juvly-accordion-content open"})},a.handleHideShow=function(e){var t=e.currentTarget.dataset.report_category,s=e.currentTarget.dataset.id;a.setState({firstAccordionClass:"juvly-accordion 1 no-display",secondAccordionClass:"juvly-accordi;on 2 no-display",thirdAccordionClass:"juvly-accordion 3 no-display",fourthAccordionClass:"juvly-accordion 4 no-display",report_category:t,type:s})},a.handleChange1=function(e,t){if("select-option"==t.action){var s=a.state.selectedOption;a.state.AllReportTypes.products;a.state.AllReportTypes.products.map(function(e,n){if(e.id==t.option.value)return s.push(e),void a.setState({selectedOption:s})})}else if("remove-value"==t.action){var n=a.state.selectedOption,i=n.findIndex(function(e){return e.id===t.removedValue.value});n.splice(i,1),a.setState({selectedOption:n})}},a.handleChange2=function(e,t){if("select-option"==t.action){var s=a.state.selectedOption1;a.state.AllReportTypes.products;a.state.AllReportTypes.products.map(function(e,n){if(e.id==t.option.value)return s.push(e),void a.setState({selectedOption1:s})})}else if("remove-value"==t.action){var n=a.state.selectedOption1,i=n.findIndex(function(e){return e.id===t.removedValue.value});n.splice(i,1),a.setState({selectedOption1:n})}};JSON.parse(localStorage.getItem("userData"));var s=JSON.parse(localStorage.getItem("languageData"));return a.state={loadMore:!0,startFresh:!0,showLoader:!1,page:1,pagesize:15,term:"",hasMoreItems:!0,next_page_url:"",ReportsTypes:[],globalLang:s.global,reportsLang:s.reports,showLoadingText:!1,ReportsDataList:[],reportIdData:null,firstAccordionClass:"juvly-accordion 1",secondAccordionClass:"juvly-accordion 2",thirdAccordionClass:"juvly-accordion 3",fourthAccordionClass:"juvly-accordion 4",accordion:{},type:null,report_name:"",defaultOptions1:[],defaultOptions2:[],options1:null,options2:null,ReportProducts:[],selectedOption:[],selectedOption1:[],select_Default_Report:[],ReportsDataChild:[],AllReportTypes:[],report_array:[],editType:e.type,id:e.match.params.id},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),window.onscroll=function(){var e=parseInt(Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop));window.innerHeight+e===document.documentElement.offsetHeight&&null!=a.props.next_page_url&&a.loadMore()},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){this.props.to_date,this.props.from_date,this.props.pagesize;this.setState({showLoader:!0,page:1,pagesize:this.props.pagesize,loadMore:!0,startFresh:!0,next_page_url:"",ReportsData:[],ReportsTypes:[],ReportsDataList:[]});this.props.reportIdData;null!=this.state.id?(this.setState({showLoader:!0}),this.props.getReportTypes({},this.state.id)):(this.setState({showLoader:!0}),this.props.getReportTypes({},0))}},{key:"render",value:function(){var e=[],t=[],a=[],s=[],n=[],r=[];return e=[],this.state.selectedOption.map(function(t,a){e.push({value:t.id,label:t.product_name}),n.push(t.product_name)}),void 0!=this.state.AllReportTypes&&void 0!=this.state.AllReportTypes.products&&this.state.AllReportTypes.products.length>0&&(a=this.state.AllReportTypes.products.map(function(e,t){return{value:e.id,label:e.product_name}})),t=[],this.state.selectedOption1.map(function(e,a){t.push({value:e.id,label:e.product_name}),r.push(e.product_name)}),void 0!=this.state.AllReportTypes&&void 0!=this.state.AllReportTypes.products&&this.state.AllReportTypes.products.length>0&&(s=this.state.AllReportTypes.products.map(function(e,t){return{value:e.id,label:e.product_name}})),i.a.createElement("div",{className:"report-question-outer report-filling fill-report no-padding","data-id":2,style:{opacity:"1"}},i.a.createElement("div",{className:"report-question"},"People who received"," ",i.a.createElement("span",{className:"empty-place fill1"},n.join(",")," ")," ","treatment but not"," ",i.a.createElement("span",{className:"empty-place fill2"},r.join(","))," ","treatment"),i.a.createElement("div",{className:"report-instruction"},this.state.reportsLang.report_type_select),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-12"},i.a.createElement("div",{className:"choice report-choice"},a&&i.a.createElement(un.a,{placeholder:"Type to search",onChange:this.handleChange1,value:e,isClearable:!0,isSearchable:!0,options:a,isMulti:!0}))),i.a.createElement("div",{className:"col-sm-12"},i.a.createElement("div",{className:"choice report-choice"},s&&i.a.createElement(un.a,{placeholder:"Type to search",onChange:this.handleChange2,value:t,isClearable:!0,isSearchable:!0,options:s,isMulti:!0})))),i.a.createElement("input",{type:"hidden",name:"report_category",defaultValue:"service",autoComplete:"off"}),i.a.createElement("input",{type:"hidden",id:"hidden_productsIn",name:"product_id",defaultValue:"",className:"sel_in",autoComplete:"off"}),i.a.createElement("input",{type:"hidden",id:"hidden_productsNot",name:"product_id_not",defaultValue:"",className:"sel_in",autoComplete:"off"}),i.a.createElement(me.a,{to:"/reports",className:"report-btn common-btn",id:"back_report"},this.state.reportsLang.report_back_button," ",i.a.createElement("i",{className:"fa fa-arrow-left"})),i.a.createElement("button",{className:"report-btn common-btn pull-right",onClick:this.handleSubmit,id:"saveReport"},this.state.id?this.state.reportsLang.report_update_report_button:this.state.reportsLang.report_create_report_button,i.a.createElement("i",{className:"fa fa-check"})),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock full-width":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.globalLang.loading_please_wait_text))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};if(void 0!=e.ReportTypes&&e.ReportTypes!=t.ReportsDataChild){if(a.ReportsDataChild=e.ReportTypes,a.showLoader=!1,t.id,a.AllReportTypes=e.ReportTypes.data,a.showLoader=!1,a.report_array=e.ReportTypes.data,t.id){var s=[];void 0!=a.AllReportTypes.report_details&&a.AllReportTypes.products.map(function(e,t){a.AllReportTypes.report_details.variable1.indexOf(",")>-1?a.AllReportTypes.report_details.variable1.split(",").map(function(t,a){t==e.id&&s.push(e)}):a.AllReportTypes.report_details.variable1==e.id&&s.push(e)}),a.selectedOption=s}if(t.id){var n=[];void 0!=a.AllReportTypes.report_details&&a.AllReportTypes.products.map(function(e,t){a.AllReportTypes.report_details.variable2.indexOf(",")>-1?a.AllReportTypes.report_details.variable2.split(",").map(function(t,a){t==e.id&&n.push(e)}):a.AllReportTypes.report_details.variable2==e.id&&n.push(e)}),a.selectedOption1=n}return a}return null}}]),t}(n.Component));var Zp=Object(Z.b)(function(e){return JSON.parse(localStorage.getItem("languageData")),"GET_type S"!==e.ReportsReducer.action?{}:200===e.ReportsReducer.data.status?{ReportsTypes:e.ReportsReducer.data}:void 0},function(e){return Object(c.bindActionCreators)({createReports:Hp,getReportTypes:Yp,updateReports:Gp},e)})(Object(de.a)(Xp)),$p=(Q.a.create(),function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,s="checkbox"===t.type?t.checked:t.value;a.setState(Object(se.a)({},e.target.name,s))},a.handleSubmit=function(e){e.preventDefault(),localStorage.setItem("sortOnly",!0);var t=[];void 0!=a.state.selectedOption&&a.state.selectedOption.length>0&&(t=a.state.selectedOption.map(function(e,t){return e.id})),t.length||a.state.report_array.length&&void 0!=a.state.selectedOption&&a.state.selectedOption.length&&a.state.selectedOption.map(function(e,s){a.state.report_array.indexOf(e.id)>-1&&t.push(e.id)});var s={report_type:a.props.type,report_name:a.props.name,report_category:a.props.category,free_service:t.join(",")};a.setState({page:1,pagesize:a.state.pagesize,sortorder:"asc"==a.state.sortorder?"desc":"asc",startFresh:!0,loadMore:!0,next_page_url:"",ReportsData:[]}),a.setState({showLoader:!0,filterValue:"false"}),null!=a.state.id?(a.props.updateReports(s,a.state.id),a.setState({showLoader:!1})):(a.props.createReports(s),a.setState({showLoader:!1}))},a.showDeleteModal=function(){a.setState({showModal:!0})},a.dismissModal=function(){a.setState({showModal:!1})},a.deleteClinic=function(){a.setState({showLoader:!0,hideBtns:!0}),a.dismissModal()},a.reportData=function(e){e.currentTarget.dataset.href;a.setState({reportIdData:e.currentTarget.dataset.href})},a.handleChange1=function(e,t){if("select-option"==t.action){var s=a.state.selectedOption;a.state.AllReportTypes.free_services;a.state.AllReportTypes.free_services.map(function(e,n){if(e.id==t.option.value)return s.push(e),void a.setState({selectedOption:s})})}else if("remove-value"==t.action){var n=a.state.selectedOption,i=n.findIndex(function(e){return e.id===t.removedValue.value});n.splice(i,1),a.setState({selectedOption:n})}};JSON.parse(localStorage.getItem("userData"));var s=JSON.parse(localStorage.getItem("languageData"));return a.state={loadMore:!0,startFresh:!0,showLoader:!1,page:1,pagesize:15,term:"",hasMoreItems:!0,next_page_url:"",ReportsTypes:[],globalLang:s.global,reportsLang:s.reports,showLoadingText:!1,ReportsDataList:[],reportIdData:null,firstAccordionClass:"juvly-accordion 1",secondAccordionClass:"juvly-accordion 2",thirdAccordionClass:"juvly-accordion 3",fourthAccordionClass:"juvly-accordion 4",accordion:{},report_category:e.category,type:null,report_name:"",defaultOptions1:[],options1:null,ReportProducts:[],selectedOption:[],select_Default_Report:[],ReportsDataChild:[],clinics_array:[],AllReportTypes:[],report_array:[],editType:e.type,id:e.match.params.id},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),window.onscroll=function(){var e=parseInt(Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop));window.innerHeight+e===document.documentElement.offsetHeight&&null!=a.props.next_page_url&&a.loadMore()},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){this.props.to_date,this.props.from_date,this.props.pagesize;this.setState({showLoader:!0,page:1,pagesize:this.props.pagesize,loadMore:!0,startFresh:!0,next_page_url:"",ReportsData:[],ReportsTypes:[],ReportsDataList:[]}),this.state.id?(this.setState({showLoader:!0}),this.props.getReportTypes({},this.state.id)):(this.setState({showLoader:!0}),this.props.getReportTypes({},0))}},{key:"render",value:function(){var e=[],t=[],a=[];return e=[],this.state.selectedOption.map(function(t,s){e.push({value:t.id,label:t.name}),a.push(t.name)}),void 0!=this.state.AllReportTypes&&this.state.AllReportTypes.products.length>0&&(t=this.state.AllReportTypes.free_services.map(function(e,t){return{value:e.id,label:e.name}})),i.a.createElement("div",{style:{opacity:"1"},className:"report-question-outer report-filling fill-report no-padding","data-id":3},i.a.createElement("div",{className:"report-question"},"People who booked free consultation but never purchased anything"," ",i.a.createElement("span",{className:"empty-place fill1"},a.join(","))),i.a.createElement("div",{className:"report-instruction"},this.state.reportsLang.report_type_select,"                  "),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"custom-select col-sm-12 select1"},i.a.createElement("input",{type:"text",className:"search-selectbox firstText",autoComplete:"off"}),t&&i.a.createElement(un.a,{placeholder:"Type to search",onChange:this.handleChange1,value:e,isClearable:!0,isSearchable:!0,options:t,isMulti:!0}))),i.a.createElement("input",{type:"hidden",name:"report_category",defaultValue:"service",autoComplete:"off"}),i.a.createElement("input",{type:"hidden",name:"free_service",defaultValue:"",className:"sel_in",autoComplete:"off"}),i.a.createElement(me.a,{to:"/reports",className:"report-btn common-btn",id:"back_report"},this.state.reportsLang.report_back_button," ",i.a.createElement("i",{className:"fa fa-arrow-left"})),i.a.createElement("button",{className:"report-btn common-btn pull-right",onClick:this.handleSubmit,id:"saveReport"},this.state.id?this.state.reportsLang.report_update_report_button:this.state.reportsLang.report_create_report_button,i.a.createElement("i",{className:"fa fa-check"})),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock full-width":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.globalLang.loading_please_wait_text))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};if(void 0!=e.ReportTypes&&e.ReportTypes!=t.ReportsDataChild){if(a.ReportsDataChild=e.ReportTypes,a.AllReportTypes=e.ReportTypes.data,a.showLoader=!1,a.report_array=e.ReportTypes.data,t.id){var s=[];void 0!=a.AllReportTypes.report_details&&a.AllReportTypes.free_services.map(function(e,t){a.AllReportTypes.report_details.variable1.indexOf(",")>-1?a.AllReportTypes.report_details.variable1.split(",").map(function(t,a){t==e.id&&s.push(e)}):a.AllReportTypes.report_details.variable1==e.id&&s.push(e)}),a.selectedOption=s}if(t.id){var n="";void 0!==a.AllReportTypes.report_details&&(n=a.AllReportTypes.report_details.report_name),a.report_name=n}return a}return null}}]),t}(n.Component));var eh=Object(Z.b)(function(e){return JSON.parse(localStorage.getItem("languageData")),"GET_type S"!==e.ReportsReducer.action?{}:200===e.ReportsReducer.data.status?{ReportsTypes:e.ReportsReducer.data}:void 0},function(e){return Object(c.bindActionCreators)({createReports:Hp,getReportTypes:Yp,updateReports:Gp},e)})(Object(de.a)($p)),th=(Q.a.create(),function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,s="checkbox"===t.type?t.checked:t.value;a.setState(Object(se.a)({},e.target.name,s))},a.handleSubmit=function(e){e.preventDefault(),localStorage.setItem("sortOnly",!0);var t=[];void 0!=a.state.selectedOption&&a.state.selectedOption.length>0&&(t=a.state.selectedOption.map(function(e,t){return e.id})),t.length||a.state.report_array.length&&void 0!=a.state.selectedOption&&a.state.selectedOption.length&&a.state.selectedOption.map(function(e,s){a.state.report_array.indexOf(e.id)>-1&&t.push(e.id)});var s={report_type:a.props.type,report_name:a.props.name,report_category:a.props.category,product_category:t.join(",")};a.setState({page:1,pagesize:a.state.pagesize,sortorder:"asc"==a.state.sortorder?"desc":"asc",startFresh:!0,loadMore:!0,next_page_url:"",ReportsData:[]}),a.setState({showLoader:!0,filterValue:"false"}),null!=a.state.id?(a.props.updateReports(s,a.state.id),a.setState({showLoader:!1})):(a.props.createReports(s),a.setState({showLoader:!1}))},a.showDeleteModal=function(){a.setState({showModal:!0})},a.dismissModal=function(){a.setState({showModal:!1})},a.deleteClinic=function(){a.setState({showLoader:!0,hideBtns:!0}),a.dismissModal()},a.handleChange1=function(e,t){if("select-option"==t.action){var s=a.state.selectedOption;a.state.AllReportTypes.categories;a.state.AllReportTypes.categories.map(function(e,n){if(e.id==t.option.value)return s.push(e),void a.setState({selectedOption:s})})}else if("remove-value"==t.action){var n=a.state.selectedOption,i=n.findIndex(function(e){return e.id===t.removedValue.value});n.splice(i,1),a.setState({selectedOption:n})}};JSON.parse(localStorage.getItem("userData"));var s=JSON.parse(localStorage.getItem("languageData"));return a.state={loadMore:!0,startFresh:!0,showLoader:!1,page:1,pagesize:15,term:"",hasMoreItems:!0,next_page_url:"",ReportsTypes:[],globalLang:s.global,reportsLang:s.reports,showLoadingText:!1,ReportsDataList:[],reportIdData:null,firstAccordionClass:"juvly-accordion 1",secondAccordionClass:"juvly-accordion 2",thirdAccordionClass:"juvly-accordion 3",fourthAccordionClass:"juvly-accordion 4",accordion:{},type:null,report_name:"",defaultOptions:[],options:null,ReportProducts:[],selectedOption:[],select_Default_Report:[],ReportsDataChild:[],clinics_array:[],AllReportTypes:[],report_array:[],editType:e.type,id:e.match.params.id},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),window.onscroll=function(){var e=parseInt(Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop));window.innerHeight+e===document.documentElement.offsetHeight&&null!=a.props.next_page_url&&a.loadMore()},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){this.props.to_date,this.props.from_date,this.props.pagesize;this.setState({showLoader:!0,page:1,pagesize:this.props.pagesize,loadMore:!0,startFresh:!0,next_page_url:"",ReportsData:[],ReportsTypes:[],ReportsDataList:[]}),this.state.id?(this.setState({showLoader:!0}),this.props.getReportTypes({},this.state.id)):(this.setState({showLoader:!0}),this.props.getReportTypes({},0))}},{key:"render",value:function(){var e=[],t=[],a=[];return e=[],this.state.selectedOption.map(function(t,s){e.push({value:t.id,label:t.category_name}),a.push(t.category_name)}),void 0!=this.state.AllReportTypes&&this.state.AllReportTypes.categories.length>0&&(t=this.state.AllReportTypes.categories.map(function(e,t){return{value:e.id,label:e.category_name}})),i.a.createElement("div",{style:{opacity:"1"},className:"report-question-outer report-filling fill-report no-padding","data-id":4},i.a.createElement("div",{className:"report-question"},"Top 10 products of  ",i.a.createElement("span",{className:"empty-place fill1"},a.join(",")),"  category Clinic wise"),i.a.createElement("div",{className:"report-instruction"},this.state.reportsLang.report_type_select),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"custom-select col-sm-12 select1"},i.a.createElement("input",{type:"text",className:"search-selectbox firstText",autoComplete:"off"}),t&&i.a.createElement(un.a,{placeholder:"Type to search",onChange:this.handleChange1,value:e,isClearable:!0,isSearchable:!0,options:t,isMulti:!0}))),i.a.createElement("input",{type:"hiupdateReportsdden",name:"report_category",defaultValue:"",autoComplete:"off"}),i.a.createElement("input",{type:"hidden",name:"product_category",defaultValue:"",className:"sel_in"}),i.a.createElement(me.a,{to:"/reports",className:"report-btn common-btn",id:"back_report"},this.state.reportsLang.report_back_button," ",i.a.createElement("i",{className:"fa fa-arrow-left"})),i.a.createElement("button",{className:"report-btn common-btn pull-right",onClick:this.handleSubmit,id:"saveReport"},"  ",this.state.id?this.state.reportsLang.report_update_report_button:this.state.reportsLang.report_create_report_button,i.a.createElement("i",{className:"fa fa-check"})),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock full-width":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.globalLang.loading_please_wait_text))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};if(void 0!=e.ReportTypes&&e.ReportTypes!=t.ReportsDataChild){if(a.ReportsDataChild=e.ReportTypes,a.showLoader=!1,t.id,a.AllReportTypes=e.ReportTypes.data,a.report_array=e.ReportTypes.data,t.id){var s=[];void 0!=a.AllReportTypes.report_details&&a.AllReportTypes.categories.map(function(e,t){a.AllReportTypes.report_details.variable1.indexOf(",")>-1?a.AllReportTypes.report_details.variable1.split(",").map(function(t,a){t==e.id&&s.push(e)}):a.AllReportTypes.report_details.variable1==e.id&&s.push(e)}),a.selectedOption=s}return a}return null}}]),t}(n.Component));var ah=Object(Z.b)(function(e){return JSON.parse(localStorage.getItem("languageData")),"GET_type S"!==e.ReportsReducer.action?{}:200===e.ReportsReducer.data.status?{ReportsTypes:e.ReportsReducer.data}:void 0},function(e){return Object(c.bindActionCreators)({createReports:Hp,getReportTypes:Yp,updateReports:Gp},e)})(Object(de.a)(th)),sh=(Q.a.create(),function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){if(e){var t=e.target,s="checkbox"===t.type?t.checked:t.value;a.setState(Object(se.a)({},e.target.name,s))}},a.handleSelectChange=function(e){a.setState({selectedUnitsOptions:e,userChanged:!0})},a.onSort=function(e){var t="asc"===a.props.sortorder?"desc":"asc",s={params:{page:1,pagesize:a.props.pagesize,sortby:e,sortorder:t,term:a.props.term}};a.setState({page:1,pagesize:a.props.pagesize,sortby:e,sortorder:t,loadMore:!0,startFresh:!0,showLoader:!0,next_page_url:"",ReportsData:[]}),localStorage.setItem("sortOnly",!0),a.props.createReports(s)},a.loadMore=function(){localStorage.setItem("sortOnly",!1),a.setState({loadMore:!0,startFresh:!0,showLoader:!1,showLoadingText:!0});a.props.page,a.props.pagesize,a.props.sortorder,a.props.term,a.props.action;a.setState({showLoader:!0})},a.buildOptions=function(){for(var e=[],t=1;t<=100;t++)e.push(i.a.createElement("option",{key:t,value:t},t));return e},a.handleSubmit=function(e){e.preventDefault(),localStorage.setItem("sortOnly",!0);var t=[];void 0!=a.state.selectedOption&&a.state.selectedOption.length>0&&(t=a.state.selectedOption.map(function(e,t){return e.id})),t.length||a.state.report_statearray.length&&void 0!=a.state.selectedOption&&a.state.selectedOption.length&&a.state.selectedOption.map(function(e,s){a.state.report_array.indexOf(e.id)>-1&&t.push(e.id)});var s=0;void 0!=a.state.selectedUnitsOptions&&a.state.selectedUnitsOptions.length&&(s=a.state.selectedUnitsOptions[0].value);var n={report_type:a.props.type,report_name:a.props.name,report_category:a.props.category,product_id:t.join(","),units:s};a.setState({page:1,pagesize:a.state.pagesize,sortorder:"asc"==a.state.sortorder?"desc":"asc",startFresh:!0,loadMore:!0,next_page_url:"",ReportsData:[]}),a.setState({showLoader:!0,filterValue:"false"}),null!=a.state.id?(a.props.updateReports(n,a.state.id),a.setState({showLoader:!1})):(a.props.createReports(n),a.setState({showLoader:!1}))},a.showDeleteModal=function(){a.setState({showModal:!0})},a.dismissModal=function(){a.setState({showModal:!1})},a.deleteClinic=function(){a.setState({showLoader:!0,hideBtns:!0}),a.dismissModal()},a.reportData=function(e){e.currentTarget.dataset.href;a.setState({reportIdData:e.currentTarget.dataset.href})},a.accordion=function(e){var t=e.currentTarget.dataset.href;if(t){var s=a.props.accordion;s[t]?s[t]=!s[t]:s[t]=!0,a.setState({accordionList:s})}a.setState({titleClass:"juvly-accordion-title active",contentClass:"juvly-accordion-content open"})},a.handleHideShow=function(e){var t=e.currentTarget.dataset.report_category,s=e.currentTarget.dataset.id;a.setState({firstAccordionClass:"juvly-accordion 1 no-display",secondAccordionClass:"juvly-accordi;on 2 no-display",thirdAccordionClass:"juvly-accordion 3 no-display",fourthAccordionClass:"juvly-accordion 4 no-display",report_category:t,type:s})},a.handleChange1=function(e,t){if("select-option"==t.action){var s=a.state.selectedOption;a.state.AllReportTypes.products;a.state.AllReportTypes.products.map(function(e,n){if(e.id==t.option.value)return s.push(e),void a.setState({selectedOption:s})})}else if("remove-value"==t.action){var n=a.state.selectedOption,i=n.findIndex(function(e){return e.id===t.removedValue.value});n.splice(i,1),a.setState({selectedOption:n})}};JSON.parse(localStorage.getItem("userData"));var s=JSON.parse(localStorage.getItem("languageData"));return a.state={loadMore:!0,startFresh:!0,showLoader:!1,page:1,pagesize:15,term:"",hasMoreItems:!0,next_page_url:"",ReportsTypes:[],globalLang:s.global,reportsLang:s.reports,showLoadingText:!1,ReportsDataList:[],reportIdData:null,firstAccordionClass:"juvly-accordion 1",secondAccordionClass:"juvly-accordion 2",thirdAccordionClass:"juvly-accordion 3",fourthAccordionClass:"juvly-accordion 4",accordion:{},type:null,report_name:"",defaultOptions1:[],options1:null,ReportProducts:[],selectedOption:[],select_Default_Report:[],ReportsDataChild:[],clinics_array:[],AllReportTypes:[],report_array:[],units:null,editType:e.type,id:e.match.params.id,unitsOption:[],selectedUnitsOptions:[]},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),window.onscroll=function(){var e=parseInt(Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop));window.innerHeight+e===document.documentElement.offsetHeight&&null!=a.props.next_page_url&&a.loadMore()},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){for(var e=[],t=1;t<=100;t++)e.push({value:t,label:t});this.props.to_date,this.props.from_date,this.props.pagesize;this.setState({showLoader:!0,page:1,pagesize:this.props.pagesize,loadMore:!0,startFresh:!0,next_page_url:"",ReportsData:[],ReportsTypes:[],ReportsDataList:[],unitsOption:e});this.props.reportIdData;this.state.id?(this.setState({showLoader:!0}),this.props.getReportTypes({},this.state.id)):(this.setState({showLoader:!0}),this.props.getReportTypes({},0))}},{key:"render",value:function(){var e=[],t=[],a=[];e=[],this.state.selectedOption.map(function(t,s){e.push({value:t.id,label:t.product_name}),a.push(t.product_name)}),void 0!=this.state.AllReportTypes&&this.state.AllReportTypes.products.length>0&&(t=this.state.AllReportTypes.products.map(function(e,t){return{value:e.id,label:e.product_name}}));for(var s=[],n=1;n<=100;n++)s.push(i.a.createElement("option",{key:n,value:n},n));return i.a.createElement("div",{style:{opacity:"1"},className:"report-question-outer report-filling  fill-report no-padding","data-id":5},i.a.createElement("div",{className:"report-question"},"People who used at least ",i.a.createElement("span",{className:"empty-place fill1"},this.state.units),"  units of ",i.a.createElement("span",{className:"empty-place fill2"},a.join(","))," product in any procedure"),i.a.createElement("div",{className:"report-instruction"},this.state.reportsLang.report_type_select),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"custom-select col-sm-6 select1"},this.state.unitsOption&&i.a.createElement(un.a,{placeholder:"Type to Search",name:"units",onChange:this.handleSelectChange,style:{display:"block"},value:this.state.selectedUnitsOptions,isClearable:!0,isSearchable:!0,options:this.state.unitsOption,isMulti:!0})),i.a.createElement("div",{className:"custom-select col-sm-6 select2"},t&&i.a.createElement(un.a,{placeholder:"Type to Search",onChange:this.handleChange1,value:e,isClearable:!0,isSearchable:!0,options:t,isMulti:!0}))),i.a.createElement("input",{type:"hidden",name:"report_category",defaultValue:"service"}),i.a.createElement("input",{type:"hidden",name:"units",defaultValue:"",className:"sel_in"}),i.a.createElement("input",{type:"hidden",name:"product_id",defaultValue:"",className:"sel_in"}),i.a.createElement(me.a,{to:"/reports",className:"report-btn common-btn",id:"back_report"},this.state.reportsLang.report_back_button," ",i.a.createElement("i",{className:"fa fa-arrow-left"})),i.a.createElement("button",{className:"report-btn common-btn pull-right",onClick:this.handleSubmit,id:"saveReport"},"  ",this.state.id?this.state.reportsLang.report_update_report_button:this.state.reportsLang.report_create_report_button,i.a.createElement("i",{className:"fa fa-check"})),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock full-width":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.globalLang.loading_please_wait_text))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};if(void 0!=e.ReportTypes&&e.ReportTypes!=t.ReportsDataChild){if(a.ReportsDataChild=e.ReportTypes,a.showLoader=!1,t.id,a.AllReportTypes=e.ReportTypes.data,a.report_array=e.ReportTypes.data,t.id){var s=[];void 0!=a.AllReportTypes.report_details&&a.AllReportTypes.products.map(function(e,t){a.AllReportTypes.report_details.variable1.indexOf(",")>-1?a.AllReportTypes.report_details.variable1.split(",").map(function(t,a){t==e.id&&s.push(e)}):a.AllReportTypes.report_details.variable1==e.id&&s.push(e)}),a.selectedOption=s}return t.id&&(a.units=a.AllReportTypes.report_details.variable2,a.AllReportTypes.report_details&&0===t.selectedUnitsOptions.length&&t.selectedUnitsOptions.push({value:a.AllReportTypes.report_details.variable2,label:a.AllReportTypes.report_details.variable2})),a}return null}}]),t}(n.Component));var nh=Object(Z.b)(function(e){return JSON.parse(localStorage.getItem("languageData")),"GET_type S"!==e.ReportsReducer.action?{}:200===e.ReportsReducer.data.status?{ReportsTypes:e.ReportsReducer.data}:void 0},function(e){return Object(c.bindActionCreators)({createReports:Hp,getReportTypes:Yp,updateReports:Gp},e)})(Object(de.a)(sh)),ih=(Q.a.create(),function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,s="checkbox"===t.type?t.checked:t.value;a.setState(Object(se.a)({},e.target.name,s))},a.handleSelectChange=function(e){a.setState({selectedUnitsOptions:e,userChanged:!0})},a.handleSubmit=function(e){e.preventDefault(),localStorage.setItem("sortOnly",!0);var t=0;void 0!=a.state.selectedUnitsOptions&&a.state.selectedUnitsOptions.length&&(t=a.state.selectedUnitsOptions[0].value);var s={report_type:a.props.type,report_name:a.props.name,report_category:a.props.category,days:t};a.setState({page:1,pagesize:a.state.pagesize,sortorder:"asc"==a.state.sortorder?"desc":"asc",startFresh:!0,loadMore:!0,next_page_url:"",ReportsData:[]}),a.setState({showLoader:!0,filterValue:"false"}),null!=a.state.id?(a.props.updateReports(s,a.state.id),a.setState({showLoader:!1})):(a.props.createReports(s),a.setState({showLoader:!1}))},a.showDeleteModal=function(){a.setState({showModal:!0})},a.dismissModal=function(){a.setState({showModal:!1})},a.deleteClinic=function(){a.setState({showLoader:!0,hideBtns:!0}),a.dismissModal()},a.handleChange1=function(e,t){if("select-option"==t.action){var s=a.state.selectedOption;a.state.AllReportTypes.global_days;a.state.AllReportTypes.global_days.map(function(e,n){if(e.id==t.option.value)return s.push(e),void a.setState({selectedOption:s})})}else if("remove-value"==t.action){var n=a.state.selectedOption,i=n.findIndex(function(e){return e.id===t.removedValue.value});n.splice(i,1),a.setState({selectedOption:n})}};JSON.parse(localStorage.getItem("userData"));var s=JSON.parse(localStorage.getItem("languageData"));return a.state={loadMore:!0,startFresh:!0,showLoader:!1,page:1,pagesize:15,term:"",hasMoreItems:!0,next_page_url:"",ReportsTypes:[],globalLang:s.global,reportsLang:s.reports,showLoadingText:!1,ReportsDataList:[],reportIdData:null,firstAccordionClass:"juvly-accordion 1",secondAccordionClass:"juvly-accordion 2",thirdAccordionClass:"juvly-accordion 3",fourthAccordionClass:"juvly-accordion 4",accordion:{},report_category:"",type:null,report_name:"",defaultOptions1:[],options1:null,ReportProducts:[],selectedOption:[],select_Default_Report:[],ReportsDataChild:[],clinics_array:[],AllReportTypes:[],report_array:[],AllReportTypesAll:[],days:null,editType:e.type,id:e.match.params.id,unitsOption:[],selectedUnitsOptions:[]},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),window.onscroll=function(){var e=parseInt(Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop));window.innerHeight+e===document.documentElement.offsetHeight&&null!=a.props.next_page_url&&a.loadMore()},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){this.props.to_date,this.props.from_date,this.props.pagesize;this.setState({showLoader:!0,page:1,pagesize:this.props.pagesize,loadMore:!0,startFresh:!0,next_page_url:"",ReportsData:[],ReportsTypes:[],ReportsDataList:[]}),this.state.id?(this.setState({showLoader:!0}),this.props.getReportTypes({},this.state.id)):(this.setState({showLoader:!0}),this.props.getReportTypes({},0))}},{key:"render",value:function(){var e=[],t=[];if(void 0!=this.state.AllReportTypes&&void 0!=this.state.AllReportTypes.global_days)for(var a in this.state.AllReportTypes.global_days){var s={};s.key=a,s.value=this.state.AllReportTypes.global_days[a],t.push(s),e.push(s.value)}var n=[];void 0!=this.state.AllReportTypes&&void 0!=this.state.AllReportTypes.global_days&&this.state.AllReportTypes.global_days.length>0&&this.state.AllReportTypes.global_days.map(function(e,t){n.push({value:e.id,label:"1"})}),void 0!=this.props.AllReportTypes&&this.props.AllReportTypes.global_days.length>0&&this.props.AllReportTypes.map(function(e,t){return{value:e.id,label:e.clinic_name}});var r=[];return void 0!=t&&t.length>0&&t.map(function(e,t){r.push({value:e.key,label:e.value})}),i.a.createElement("div",{style:{opacity:"1"},className:"report-question-outer report-filling  fill-report no-padding","data-id":6},i.a.createElement("div",{className:"report-question"},"Clients who have not visited in"," ",i.a.createElement("span",{className:"empty-place fill1"},this.state.days)," ","days"),i.a.createElement("div",{className:"report-instruction"},this.state.reportsLang.report_type_select,"                  "),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"custom-select col-sm-12 select1"},i.a.createElement("input",{type:"text",className:"search-selectbox firstText",autoComplete:"off"}),this.state.unitsOption&&i.a.createElement(un.a,{placeholder:"Type to Search",name:"days",onChange:this.handleSelectChange,style:{display:"block"},value:this.state.selectedUnitsOptions,isClearable:!0,isSearchable:!0,options:r,isMulti:!0}))),i.a.createElement("input",{type:"hidden",name:"report_category",defaultValue:"appointment"}),i.a.createElement("input",{type:"hidden",name:"days",defaultValue:"",className:"sel_in"}),i.a.createElement(me.a,{to:"/reports",className:"report-btn common-btn",id:"back_report"},this.state.reportsLang.report_back_button," ",i.a.createElement("i",{className:"fa fa-arrow-left"})),i.a.createElement("button",{className:"report-btn common-btn pull-right",onClick:this.handleSubmit,id:"saveReport"},this.state.id?this.state.reportsLang.report_update_report_button:this.state.reportsLang.report_create_report_button,i.a.createElement("i",{className:"fa fa-check"})),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock full-width":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.globalLang.loading_please_wait_text))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};if(void 0!=e.ReportTypes&&e.ReportTypes!=t.ReportsDataChild){if(a.ReportsDataChild=e.ReportTypes,a.showLoader=!1,t.id,a.AllReportTypes=e.ReportTypes.data,t.id){a.days=a.AllReportTypes.report_details.variable1,a.AllReportTypes.report_details&&0===t.selectedUnitsOptions.length&&t.selectedUnitsOptions.push({value:a.AllReportTypes.report_details.variable1,label:a.AllReportTypes.report_details.variable1})}return a}return null}}]),t}(n.Component));var rh=Object(Z.b)(function(e){return JSON.parse(localStorage.getItem("languageData")),"GET_type S"!==e.ReportsReducer.action?{}:200===e.ReportsReducer.data.status?{ReportsTypes:e.ReportsReducer.data}:void 0},function(e){return Object(c.bindActionCreators)({createReports:Hp,getReportTypes:Yp,updateReports:Gp},e)})(Object(de.a)(ih)),oh=(Q.a.create(),function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,s="checkbox"===t.type?t.checked:t.value;a.setState(Object(se.a)({},e.target.name,s))},a.handleSelectChange=function(e){console.log(e),a.setState({selectedUnitsOptions:e,userChanged:!0})},a.handleSelectChange1=function(e){console.log(e),a.setState({selectedUnitsOptions1:e,userChanged:!0})},a.onSort=function(e){var t="asc"===a.props.sortorder?"desc":"asc",s={params:{page:1,pagesize:a.props.pagesize,sortby:e,sortorder:t,term:a.props.term}};a.setState({page:1,pagesize:a.props.pagesize,sortby:e,sortorder:t,loadMore:!0,startFresh:!0,showLoader:!0,next_page_url:"",ReportsData:[]}),localStorage.setItem("sortOnly",!0),a.props.createReports(s)},a.loadMore=function(){localStorage.setItem("sortOnly",!1),a.setState({loadMore:!0,startFresh:!0,showLoader:!1,showLoadingText:!0});a.props.page,a.props.pagesize,a.props.sortorder,a.props.term,a.props.action;a.setState({showLoader:!0})},a.inventoryEdit=function(e,t){return i.a.createElement("div",{className:"no-display"},"//",a.props.history.push("/inventory/products/categories/".concat(t,"/edit")))},a.handleSubmit=function(e){e.preventDefault(),localStorage.setItem("sortOnly",!0);var t=0;void 0!=a.state.selectedUnitsOptions&&a.state.selectedUnitsOptions.length&&(console.log("hi",a.state.selectedUnitsOptions),t=a.state.selectedUnitsOptions[0].value);var s=0;void 0!=a.state.selectedUnitsOptions1&&(console.log("hi",a.state.selectedUnitsOptions1),s=a.state.selectedUnitsOptions1.value);var n={report_type:a.props.type,report_name:a.props.name,report_category:a.props.category,visited:s,days:t};a.setState({page:1,pagesize:a.state.pagesize,sortorder:"asc"==a.state.sortorder?"desc":"asc",startFresh:!0,loadMore:!0,next_page_url:"",ReportsData:[]}),a.setState({showLoader:!0,filterValue:"false"}),null!=a.state.id?(a.props.updateReports(n,a.state.id),a.setState({showLoader:!1})):(a.props.createReports(n),a.setState({showLoader:!1}))},a.showDeleteModal=function(){a.setState({showModal:!0})},a.dismissModal=function(){a.setState({showModal:!1})},a.deleteClinic=function(){a.setState({showLoader:!0,hideBtns:!0}),a.dismissModal()},a.reportData=function(e){e.currentTarget.dataset.href;a.setState({reportIdData:e.currentTarget.dataset.href})},a.accordion=function(e){var t=e.currentTarget.dataset.href;if(t){var s=a.props.accordion;s[t]?s[t]=!s[t]:s[t]=!0,a.setState({accordionList:s})}a.setState({titleClass:"juvly-accordion-title active",contentClass:"juvly-accordion-content open"})},a.handleHideShow=function(e){var t=e.currentTarget.dataset.report_category,s=e.currentTarget.dataset.id;a.setState({firstAccordionClass:"juvly-accordion 1 no-display",secondAccordionClass:"juvly-accordi;on 2 no-display",thirdAccordionClass:"juvly-accordion 3 no-display",fourthAccordionClass:"juvly-accordion 4 no-display",report_category:t,type:s})},a.handleChange1=function(e){a.setState({select_Default_Report:e,selectedOption:e})};JSON.parse(localStorage.getItem("userData"));var s=JSON.parse(localStorage.getItem("languageData"));return a.state={loadMore:!0,startFresh:!0,showLoader:!1,page:1,pagesize:15,term:"",hasMoreItems:!0,next_page_url:"",ReportsTypes:[],globalLang:s.global,reportsLang:s.reports,showLoadingText:!1,ReportsDataList:[],reportIdData:null,firstAccordionClass:"juvly-accordion 1",secondAccordionClass:"juvly-accordion 2",thirdAccordionClass:"juvly-accordion 3",fourthAccordionClass:"juvly-accordion 4",accordion:{},report_category:"",type:null,report_name:"",defaultOptions1:[],options1:null,ReportProducts:[],selectedOption:null,select_Default_Report:[],ReportsDataChild:[],clinics_array:[],AllReportTypes:[],report_array:[],editType:e.type,id:e.match.params.id,days:null,visited:null,unitsOption:[],selectedUnitsOptions:[],selectedUnitsOptions1:[],unitsOption1:[]},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),window.onscroll=function(){var e=parseInt(Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop));window.innerHeight+e===document.documentElement.offsetHeight&&null!=a.props.next_page_url&&a.loadMore()},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){for(var e=[],t=1;t<=10;t++)e.push({value:t,label:t});this.props.to_date,this.props.from_date,this.props.pagesize;this.setState({showLoader:!0,page:1,pagesize:this.props.pagesize,loadMore:!0,startFresh:!0,next_page_url:"",ReportsData:[],ReportsTypes:[],ReportsDataList:[],unitsOption1:e}),this.state.id?(this.setState({showLoader:!0}),this.props.getReportTypes({},this.state.id)):(this.setState({showLoader:!0}),this.props.getReportTypes({},0))}},{key:"render",value:function(){console.log(this.state.unitsOption1);var e=[],t=[];if(void 0!=this.state.AllReportTypes&&void 0!=this.state.AllReportTypes.global_days)for(var a in this.state.AllReportTypes.global_days){var s={};s.key=a,s.value=this.state.AllReportTypes.global_days[a],e.push(s),t.push(s.value)}for(var n=[],r=1;r<=10;r++)n.push({value:r,label:r});var o=[];void 0!=this.state.AllReportTypes&&this.state.AllReportTypes.clinics.map(function(e,t){o.push({value:1,label:1})}),void 0!=this.props.AllReportTypes&&this.props.AllReportTypes.clinics.length>0&&this.props.AllReportTypes.clinics.map(function(e,t){return{value:1,label:1}});var l=[];return void 0!=e&&e.length>0&&e.map(function(e,t){l.push({value:e.key,label:e.value})}),i.a.createElement("div",{style:{opacity:"1"},className:"report-question-outer report-filling  fill-report no-padding","data-id":7},i.a.createElement("div",{className:"report-question"},"Most loyal : Clients who have visited  ",i.a.createElement("span",{className:"empty-place fill1"},this.state.visited)," times or more in the last ",i.a.createElement("span",{className:"empty-place fill2"},this.state.days)),i.a.createElement("div",{className:"report-instruction"},this.state.reportsLang.report_type_select),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"custom-select col-sm-6 select1"},i.a.createElement("input",{type:"text",className:"search-selectbox firstText",autoComplete:"off"}),this.state.unitsOption1&&i.a.createElement(un.a,{name:"visited",placeholder:"Type to search",value:this.state.selectedUnitsOptions1,onChange:this.handleSelectChange1,style:{display:"block"},options:this.state.unitsOption1})),i.a.createElement("div",{className:"custom-select col-sm-6 select2"},i.a.createElement("input",{type:"text",className:"search-selectbox secondText",autoComplete:"off"}),this.state.unitsOption&&i.a.createElement(un.a,{placeholder:"Type to Search",name:"days",onChange:this.handleSelectChange,style:{display:"block"},value:this.state.selectedUnitsOptions,isClearable:!0,isSearchable:!0,options:l,isMulti:!0}))),i.a.createElement("input",{type:"hidden",name:"report_category",defaultValue:"appointment"}),i.a.createElement("input",{type:"hidden",name:"visited",defaultValue:"",className:"sel_in"}),i.a.createElement("input",{type:"hidden",name:"days",defaultValue:"",className:"sel_in"}),i.a.createElement(me.a,{to:"/reports",className:"report-btn common-btn",id:"back_report"},this.state.reportsLang.report_back_button," ",i.a.createElement("i",{className:"fa fa-arrow-left"})),i.a.createElement("button",{className:"report-btn common-btn pull-right",onClick:this.handleSubmit,id:"saveReport"},this.state.id?this.state.reportsLang.report_update_report_button:this.state.reportsLang.report_create_report_button,i.a.createElement("i",{className:"fa fa-check"})),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock full-width":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.globalLang.loading_please_wait_text))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};return void 0!=e.ReportTypes&&e.ReportTypes!=t.ReportsDataChild?(a.ReportsDataChild=e.ReportTypes,a.AllReportTypes=e.ReportTypes.data,a.showLoader=!1,a.report_array=e.ReportTypes.data,t.id&&(a.days=a.AllReportTypes.report_details.variable2,a.AllReportTypes.report_details&&0===t.selectedUnitsOptions.length&&t.selectedUnitsOptions.push({value:a.AllReportTypes.report_details.variable2,label:a.AllReportTypes.report_details.variable2}),a.visited=a.AllReportTypes.report_details.variable1,a.AllReportTypes.report_details&&0===t.selectedUnitsOptions1.length&&t.selectedUnitsOptions1.push({value:a.AllReportTypes.report_details.variable1,label:a.AllReportTypes.report_details.variable1})),a):null}}]),t}(n.Component));var lh=Object(Z.b)(function(e){return JSON.parse(localStorage.getItem("languageData")),"GET_type S"!==e.ReportsReducer.action?{}:200===e.ReportsReducer.data.status?{ReportsTypes:e.ReportsReducer.data}:void 0},function(e){return Object(c.bindActionCreators)({createReports:Hp,getReportTypes:Yp,updateReports:Gp},e)})(Object(de.a)(oh)),ch=(Q.a.create(),function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleSelectChange=function(e){a.setState({selectedUnitsOptions:e})},a.onSort=function(e){var t="asc"===a.props.sortorder?"desc":"asc",s={params:{page:1,pagesize:a.props.pagesize,sortby:e,sortorder:t,term:a.props.term}};a.setState({page:1,pagesize:a.props.pagesize,sortby:e,sortorder:t,loadMore:!0,startFresh:!0,showLoader:!0,next_page_url:"",ReportsData:[]}),localStorage.setItem("sortOnly",!0),a.props.createReports(s)},a.loadMore=function(){localStorage.setItem("sortOnly",!1),a.setState({loadMore:!0,startFresh:!0,showLoader:!1,showLoadingText:!0});a.props.page,a.props.pagesize,a.props.sortorder,a.props.term,a.props.action;a.setState({showLoader:!0})},a.inventoryEdit=function(e,t){return i.a.createElement("div",{className:"no-display"},"//",a.props.history.push("/inventory/products/categories/".concat(t,"/edit")))},a.handleSubmit=function(e){e.preventDefault(),localStorage.setItem("sortOnly",!0);var t=0;void 0!=a.state.selectedUnitsOptions&&a.state.selectedUnitsOptions.length&&(console.log(a.state.selectedUnitsOptions),t=a.state.selectedUnitsOptions[0].value);var s={report_type:a.props.type,report_name:a.props.name,report_category:a.props.category,canceled:t};a.setState({page:1,pagesize:a.state.pagesize,sortorder:"asc"==a.state.sortorder?"desc":"asc",startFresh:!0,loadMore:!0,next_page_url:"",ReportsData:[]}),a.setState({showLoader:!0,filterValue:"false"}),null!=a.state.id?(a.props.updateReports(s,a.state.id),a.setState({showLoader:!1})):(a.props.createReports(s),a.setState({showLoader:!1}))},a.showDeleteModal=function(){a.setState({showModal:!0})},a.dismissModal=function(){a.setState({showModal:!1})},a.deleteClinic=function(){a.setState({showLoader:!0,hideBtns:!0}),a.dismissModal()};JSON.parse(localStorage.getItem("userData"));var s=JSON.parse(localStorage.getItem("languageData"));return a.state={loadMore:!0,startFresh:!0,showLoader:!1,page:1,pagesize:15,term:"",hasMoreItems:!0,next_page_url:"",ReportsTypes:[],globalLang:s.global,reportsLang:s.reports,showLoadingText:!1,ReportsDataList:[],reportIdData:null,firstAccordionClass:"juvly-accordion 1",secondAccordionClass:"juvly-accordion 2",thirdAccordionClass:"juvly-accordion 3",fourthAccordionClass:"juvly-accordion 4",accordion:{},report_category:"",type:null,report_name:"",defaultOptions1:[],options1:null,ReportProducts:[],selectedOption:null,select_Default_Report:[],ReportsDataChild:[],clinics_array:[],AllReportTypes:[],report_array:[],canceled:null,editType:e.type,id:e.match.params.id,unitsOption:[],selectedUnitsOptions:[]},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),window.onscroll=function(){var e=parseInt(Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop));window.innerHeight+e===document.documentElement.offsetHeight&&null!=a.props.next_page_url&&a.loadMore()},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){for(var e=[],t=1;t<=10;t++)e.push({value:t,label:t});e.push({value:"above10",label:"Above 10"});this.props.to_date,this.props.from_date,this.props.pagesize;this.setState({showLoader:!0,page:1,pagesize:this.props.pagesize,loadMore:!0,startFresh:!0,next_page_url:"",ReportsData:[],ReportsTypes:[],ReportsDataList:[],unitsOption:e});this.props.reportIdData;this.state.id?(this.setState({showLoader:!0}),this.props.getReportTypes({},this.state.id)):(this.setState({showLoader:!0}),this.props.getReportTypes({},0))}},{key:"render",value:function(){return i.a.createElement("div",{style:{opacity:"1"},className:"report-question-outer report-filling  fill-report no-padding","data-id":8},i.a.createElement("div",{className:"report-question"},"Top cancelers : Clients who have canceled booked appointments more than  ",i.a.createElement("span",{className:"empty-place fill1"},this.state.canceled),"times"),i.a.createElement("div",{className:"report-instruction"},this.state.reportsLang.report_type_select),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"custom-select col-sm-12 select1"},i.a.createElement("input",{type:"text",className:"search-selectbox firstText",autoComplete:"off"}),this.state.unitsOption&&i.a.createElement(un.a,{name:"canceled",placeholder:"Type to search",onChange:this.handleSelectChange,style:{display:"block"},value:this.state.selectedUnitsOptions,isClearable:!0,isSearchable:!0,options:this.state.unitsOption,isMulti:!0}))),i.a.createElement("input",{type:"hidden",name:"report_category",defaultValue:"appointment"}),i.a.createElement("input",{type:"hidden",name:"canceled",defaultValue:"",className:"sel_in"}),i.a.createElement(me.a,{to:"/reports",className:"report-btn common-btn",id:"back_report"},this.state.reportsLang.report_back_button," ",i.a.createElement("i",{className:"fa fa-arrow-left"})),i.a.createElement("button",{className:"report-btn common-btn pull-right",onClick:this.handleSubmit,id:"saveReport"},"  ",this.state.id?this.state.reportsLang.report_update_report_button:this.state.reportsLang.report_create_report_button,i.a.createElement("i",{className:"fa fa-check"})),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock full-width":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.globalLang.loading_please_wait_text))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};return void 0!=e.ReportTypes&&e.ReportTypes!=t.ReportsDataChild?(a.ReportsDataChild=e.ReportTypes,a.AllReportTypes=e.ReportTypes.data,a.showLoader=!1,a.report_array=e.ReportTypes.data,t.id&&(a.canceled=a.AllReportTypes.report_details.variable1,a.AllReportTypes.report_details&&0===t.selectedUnitsOptions.length&&t.selectedUnitsOptions.push({value:a.AllReportTypes.report_details.variable1,label:a.AllReportTypes.report_details.variable1})),a):null}}]),t}(n.Component));var dh=Object(Z.b)(function(e){return JSON.parse(localStorage.getItem("languageData")),"GET_type S"!==e.ReportsReducer.action?{}:200===e.ReportsReducer.data.status?{ReportsTypes:e.ReportsReducer.data}:void 0},function(e){return Object(c.bindActionCreators)({createReports:Hp,getReportTypes:Yp,updateReports:Gp},e)})(Object(de.a)(ch)),mh=(Q.a.create(),function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,s="checkbox"===t.type?t.checked:t.value;a.setState(Object(se.a)({},e.target.name,s))},a.handleSelectChange=function(e){a.setState({selectedUnitsOptions:e})},a.handleSubmit=function(e){e.preventDefault(),localStorage.setItem("sortOnly",!0);var t=0;void 0!=a.state.selectedUnitsOptions&&a.state.selectedUnitsOptions.length&&(console.log(a.state.selectedUnitsOptions),t=a.state.selectedUnitsOptions[0].value);var s={report_type:a.props.type,report_name:a.props.name,report_category:a.props.category,noshow:t};a.setState({page:1,pagesize:a.state.pagesize,sortorder:"asc"==a.state.sortorder?"desc":"asc",startFresh:!0,loadMore:!0,next_page_url:"",ReportsData:[]}),a.setState({showLoader:!0,filterValue:"false"}),null!=a.state.id?(a.props.updateReports(s,a.state.id),a.setState({showLoader:!1})):(a.props.createReports(s),a.setState({showLoader:!1}))},a.showDeleteModal=function(){a.setState({showModal:!0})},a.dismissModal=function(){a.setState({showModal:!1})},a.deleteClinic=function(){a.setState({showLoader:!0,hideBtns:!0}),a.dismissModal()};JSON.parse(localStorage.getItem("userData"));var s=JSON.parse(localStorage.getItem("languageData"));return a.state={loadMore:!0,startFresh:!0,showLoader:!1,page:1,pagesize:15,term:"",hasMoreItems:!0,next_page_url:"",ReportsTypes:[],globalLang:s.global,reportsLang:s.reports,showLoadingText:!1,ReportsDataList:[],reportIdData:null,firstAccordionClass:"juvly-accordion 1",secondAccordionClass:"juvly-accordion 2",thirdAccordionClass:"juvly-accordion 3",fourthAccordionClass:"juvly-accordion 4",accordion:{},report_category:"",type:null,report_name:"",defaultOptions1:[],options1:null,ReportProducts:[],selectedOption:null,select_Default_Report:[],ReportsDataChild:[],clinics_array:[],AllReportTypes:[],report_array:[],noshow:null,editType:e.type,id:e.match.params.id,unitsOption:[],selectedUnitsOptions:[]},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),window.onscroll=function(){var e=parseInt(Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop));window.innerHeight+e===document.documentElement.offsetHeight&&null!=a.props.next_page_url&&a.loadMore()},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){for(var e=[],t=1;t<=10;t++)e.push({value:t,label:t});e.push({value:"above10",label:"Above 10"});this.props.to_date,this.props.from_date,this.props.pagesize;this.setState({showLoader:!0,page:1,pagesize:this.props.pagesize,loadMore:!0,startFresh:!0,next_page_url:"",ReportsData:[],ReportsTypes:[],ReportsDataList:[],unitsOption:e}),this.state.id?(this.setState({showLoader:!0}),this.props.getReportTypes({},this.state.id)):(this.setState({showLoader:!0}),this.props.getReportTypes({},0))}},{key:"render",value:function(){return console.log(this.state.unitsOption),i.a.createElement("div",{style:{opacity:"1"},className:"report-question-outer report-filling  fill-report no-padding","data-id":9},i.a.createElement("div",{className:"report-question"},"Top no showers : Clients who have no showed more than ",i.a.createElement("span",{className:"empty-place fill1"},this.state.noshow)," times"),i.a.createElement("div",{className:"report-instruction"},this.state.reportsLang.report_type_select),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"custom-select col-sm-12 select1"},i.a.createElement("input",{type:"text",className:"search-selectbox firstText",autoComplete:"off"}),this.state.unitsOption&&i.a.createElement(un.a,{placeholder:"Type to search",name:"noshow",onChange:this.handleSelectChange,style:{display:"block"},value:this.state.selectedUnitsOptions,isClearable:!0,isSearchable:!0,options:this.state.unitsOption,isMulti:!0}))),i.a.createElement("input",{type:"hidden",name:"report_category",defaultValue:"appointment"}),i.a.createElement("input",{type:"hidden",name:"noshow",defaultValue:"",className:"sel_in"}),i.a.createElement(me.a,{to:"/reports",className:"report-btn common-btn",id:"back_report"},this.state.reportsLang.report_back_button," ",i.a.createElement("i",{className:"fa fa-arrow-left"})),i.a.createElement("button",{className:"report-btn common-btn pull-right",onClick:this.handleSubmit,id:"saveReport"},"  ",this.state.id?this.state.reportsLang.report_update_report_button:this.state.reportsLang.report_create_report_button,i.a.createElement("i",{className:"fa fa-check"})),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock full-width":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.globalLang.loading_please_wait_text))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};return void 0!=e.ReportTypes&&e.ReportTypes!=t.ReportsDataChild?(a.ReportsDataChild=e.ReportTypes,a.AllReportTypes=e.ReportTypes.data,a.showLoader=!1,a.report_array=e.ReportTypes.data,t.id&&(a.noshow=a.AllReportTypes.report_details.variable1,a.AllReportTypes.report_details&&0===t.selectedUnitsOptions.length&&t.selectedUnitsOptions.push({value:a.AllReportTypes.report_details.variable1,label:a.AllReportTypes.report_details.variable1})),a):null}}]),t}(n.Component));var uh=Object(Z.b)(function(e){return JSON.parse(localStorage.getItem("languageData")),"GET_type S"!==e.ReportsReducer.action?{}:200===e.ReportsReducer.data.status?{ReportsTypes:e.ReportsReducer.data}:void 0},function(e){return Object(c.bindActionCreators)({createReports:Hp,getReportTypes:Yp,updateReports:Gp},e)})(Object(de.a)(mh)),ph=(Q.a.create(),function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,s="checkbox"===t.type?t.checked:t.value;a.setState(Object(se.a)({},e.target.name,s))},a.handleSelectChange=function(e){a.setState({selectedUnitsOptions:e,userChanged:!0})},a.handleSubmit=function(e){e.preventDefault(),localStorage.setItem("sortOnly",!0);var t=[];void 0!=a.state.selectedOption&&a.state.selectedOption.length>0&&(t=a.state.selectedOption.map(function(e,t){return e.id})),t.length||a.state.report_array.length&&void 0!=a.state.selectedOption&&a.state.selectedOption.length&&a.state.selectedOption.map(function(e,s){a.state.report_array.indexOf(e.id)>-1&&t.push(e.id)});var s=0;void 0!=a.state.selectedUnitsOptions&&a.state.selectedUnitsOptions.length&&(console.log("hi",a.state.selectedUnitsOptions),s=a.state.selectedUnitsOptions[0].value);var n={report_type:a.props.type,report_name:a.props.name,report_category:a.props.category,service_id:t.join(","),days:s};a.setState({page:1,pagesize:a.state.pagesize,sortorder:"asc"==a.state.sortorder?"desc":"asc",startFresh:!0,loadMore:!0,next_page_url:"",ReportsData:[]}),a.setState({showLoader:!0,filterValue:"false"}),null!=a.state.id?(a.props.updateReports(n,a.state.id),a.setState({showLoader:!1})):(a.props.createReports(n),a.setState({showLoader:!1}))},a.showDeleteModal=function(){a.setState({showModal:!0})},a.dismissModal=function(){a.setState({showModal:!1})},a.deleteClinic=function(){a.setState({showLoader:!0,hideBtns:!0}),a.dismissModal()},a.handleChange1=function(e,t){if("select-option"==t.action){var s=a.state.selectedOption;a.state.AllReportTypes.services;a.state.AllReportTypes.services.map(function(e,n){if(e.id==t.option.value)return s.push(e),void a.setState({selectedOption:s})})}else if("remove-value"==t.action){var n=a.state.selectedOption,i=n.findIndex(function(e){return e.id===t.removedValue.value});n.splice(i,1),a.setState({selectedOption:n})}};JSON.parse(localStorage.getItem("userData"));var s=JSON.parse(localStorage.getItem("languageData"));return a.state={loadMore:!0,startFresh:!0,showLoader:!1,page:1,pagesize:15,term:"",hasMoreItems:!0,next_page_url:"",ReportsTypes:[],globalLang:s.global,reportsLang:s.reports,showLoadingText:!1,ReportsDataList:[],reportIdData:null,firstAccordionClass:"juvly-accordion 1",secondAccordionClass:"juvly-accordion 2",thirdAccordionClass:"juvly-accordion 3",fourthAccordionClass:"juvly-accordion 4",accordion:{},report_category:"",type:null,report_name:"",defaultOptions1:[],options1:null,ReportProducts:[],selectedOption:[],select_Default_Report:[],ReportsDataChild:[],clinics_array:[],AllReportTypes:[],report_array:[],editType:e.type,id:e.match.params.id,days:null,unitsOption:[],selectedUnitsOptions:[]},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),window.onscroll=function(){var e=parseInt(Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop));window.innerHeight+e===document.documentElement.offsetHeight&&null!=a.props.next_page_url&&a.loadMore()},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){this.props.to_date,this.props.from_date,this.props.pagesize;this.setState({showLoader:!0,page:1,pagesize:this.props.pagesize,loadMore:!0,startFresh:!0,next_page_url:"",ReportsData:[],ReportsTypes:[],ReportsDataList:[]}),this.state.id?(this.setState({showLoader:!0}),this.props.getReportTypes({},this.state.id)):(this.setState({showLoader:!0}),this.props.getReportTypes({},0))}},{key:"render",value:function(){var e=[],t=[];if(void 0!=this.state.AllReportTypes&&void 0!=this.state.AllReportTypes.global_days)for(var a in this.state.AllReportTypes.global_days){var s={};s.key=a,s.value=this.state.AllReportTypes.global_days[a],e.push(s),t.push(s.value)}var n=[],r=[],o=[];n=[],this.state.selectedOption.map(function(e,t){n.push({value:e.id,label:e.name}),console.log(n),o.push(e.name)}),void 0!=this.state.AllReportTypes&&this.state.AllReportTypes.services.length>0&&(console.log("hi34567890-"),r=this.state.AllReportTypes.services.map(function(e,t){return{value:e.id,label:e.name}}));var l=[];return void 0!=e&&e.length>0&&e.map(function(e,t){l.push({value:e.key,label:e.value})}),i.a.createElement("div",{style:{opacity:"1"},className:"report-question-outer report-filling  fill-report no-padding","data-id":10},i.a.createElement("div",{className:"report-question"},"Clients have booked"," ",i.a.createElement("span",{className:"empty-place fill1"},o.join(","))," ","service in the last ",i.a.createElement("span",{className:"empty-place fill2"},this.state.days)),i.a.createElement("div",{className:"report-instruction"},this.state.reportsLang.report_type_select),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"custom-select col-sm-12 select1"},i.a.createElement("input",{type:"text",className:"search-selectbox firstText",autoComplete:"off"}),r&&i.a.createElement(un.a,{placeholder:"Type to search",onChange:this.handleChange1,value:n,isClearable:!0,isSearchable:!0,options:r,isMulti:!0})),i.a.createElement("div",{className:"custom-select col-sm-3 select2"},i.a.createElement("input",{type:"text",className:"search-selectbox secondText",autoComplete:"off"}),this.state.unitsOption&&i.a.createElement(un.a,{placeholder:"Type to Search",name:"days",onChange:this.handleSelectChange,style:{display:"block"},value:this.state.selectedUnitsOptions,isClearable:!0,isSearchable:!0,options:l,isMulti:!0}))),i.a.createElement("input",{type:"hidden",name:"report_category",defaultValue:"appointment",autoComplete:"off"}),i.a.createElement("input",{type:"hidden",name:"service_id",defaultValue:"",className:"sel_in",autoComplete:"off"}),i.a.createElement("input",{type:"hidden",name:"days",defaultValue:"",className:"sel_in",autoComplete:"off"}),i.a.createElement(me.a,{to:"/reports",className:"report-btn common-btn",id:"back_report"},this.state.reportsLang.report_back_button," ",i.a.createElement("i",{className:"fa fa-arrow-left"})),i.a.createElement("button",{className:"report-btn common-btn pull-right",onClick:this.handleSubmit,id:"saveReport"},this.state.id?this.state.reportsLang.report_update_report_button:this.state.reportsLang.report_create_report_button,i.a.createElement("i",{className:"fa fa-check"})),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock full-width":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.globalLang.loading_please_wait_text))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};if(void 0!=e.ReportTypes&&e.ReportTypes!=t.ReportsDataChild){if(a.ReportsDataChild=e.ReportTypes,a.showLoader=!1,t.id,a.AllReportTypes=e.ReportTypes.data,t.id){var s=[];void 0!=a.AllReportTypes.report_details&&a.AllReportTypes.services.map(function(e,t){a.AllReportTypes.report_details.variable1.indexOf(",")>-1?a.AllReportTypes.report_details.variable1.split(",").map(function(t,a){t==e.id&&s.push(e)}):a.AllReportTypes.report_details.variable1==e.id&&s.push(e)}),a.selectedOption=s}return t.id&&(a.days=a.AllReportTypes.report_details.variable2,a.AllReportTypes.report_details&&0===t.selectedUnitsOptions.length&&t.selectedUnitsOptions.push({value:a.AllReportTypes.report_details.variable2,label:a.AllReportTypes.report_details.variable2})),a}return null}}]),t}(n.Component));var hh=Object(Z.b)(function(e){return JSON.parse(localStorage.getItem("languageData")),"GET_type S"!==e.ReportsReducer.action?{}:200===e.ReportsReducer.data.status?{ReportsTypes:e.ReportsReducer.data}:void 0},function(e){return Object(c.bindActionCreators)({createReports:Hp,getReportTypes:Yp,updateReports:Gp},e)})(Object(de.a)(ph)),gh=(Q.a.create(),function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,s="checkbox"===t.type?t.checked:t.value;a.setState(Object(se.a)({},e.target.name,s))},a.onSort=function(e){var t="asc"===a.props.sortorder?"desc":"asc",s={params:{page:1,pagesize:a.props.pagesize,sortby:e,sortorder:t,term:a.props.term}};a.setState({page:1,pagesize:a.props.pagesize,sortby:e,sortorder:t,loadMore:!0,startFresh:!0,showLoader:!0,next_page_url:"",ReportsData:[]}),localStorage.setItem("sortOnly",!0),a.props.createReports(s),a.setState({showLoader:!1})},a.loadMore=function(){localStorage.setItem("sortOnly",!1),a.setState({loadMore:!0,startFresh:!0,showLoader:!1,showLoadingText:!0});a.props.page,a.props.pagesize,a.props.sortorder,a.props.term,a.props.action;a.setState({showLoader:!0})},a.inventoryEdit=function(e,t){return i.a.createElement("div",{className:"no-display"},"//",a.props.history.push("/inventory/products/categories/".concat(t,"/edit")))},a.handleSubmit=function(e){e.preventDefault(),localStorage.setItem("sortOnly",!0);var t=[];void 0!=a.state.selectedOption&&a.state.selectedOption.length>0&&(t=a.state.selectedOption.map(function(e,t){return e.id})),t.length||a.state.report_array.length&&void 0!=a.state.selectedOption&&a.state.selectedOption.length&&a.state.selectedOption.map(function(e,s){a.state.report_array.indexOf(e.id)>-1&&t.push(e.id)});var s={report_type:a.props.type,report_name:a.props.name,report_category:a.props.category,service_id:t.join(",")};a.setState({page:1,pagesize:a.state.pagesize,sortorder:"asc"==a.state.sortorder?"desc":"asc",startFresh:!0,loadMore:!0,next_page_url:"",ReportsData:[]}),a.setState({showLoader:!0,filterValue:"false"}),null!=a.state.id?(a.props.updateReports(s,a.state.id),a.setState({showLoader:!1})):(a.props.createReports(s),a.setState({showLoader:!1}))},a.showDeleteModal=function(){a.setState({showModal:!0})},a.dismissModal=function(){a.setState({showModal:!1})},a.deleteClinic=function(){a.setState({showLoader:!0,hideBtns:!0}),a.dismissModal()},a.reportData=function(e){e.currentTarget.dataset.href;a.setState({reportIdData:e.currentTarget.dataset.href})},a.accordion=function(e){var t=e.currentTarget.dataset.href;if(t){var s=a.props.accordion;s[t]?s[t]=!s[t]:s[t]=!0,a.setState({accordionList:s})}a.setState({titleClass:"juvly-accordion-title active",contentClass:"juvly-accordion-content open"})},a.handleHideShow=function(e){var t=e.currentTarget.dataset.report_category,s=e.currentTarget.dataset.id;a.setState({firstAccordionClass:"juvly-accordion 1 no-display",secondAccordionClass:"juvly-accordi;on 2 no-display",thirdAccordionClass:"juvly-accordion 3 no-display",fourthAccordionClass:"juvly-accordion 4 no-display",report_category:t,type:s})},a.handleChange1=function(e,t){if("select-option"==t.action){var s=a.state.selectedOption;a.state.AllReportTypes.services;a.state.AllReportTypes.services.map(function(e,n){if(e.id==t.option.value)return s.push(e),void a.setState({selectedOption:s})})}else if("remove-value"==t.action){var n=a.state.selectedOption,i=n.findIndex(function(e){return e.id===t.removedValue.value});n.splice(i,1),a.setState({selectedOption:n})}};JSON.parse(localStorage.getItem("userData"));var s=JSON.parse(localStorage.getItem("languageData"));return a.state={loadMore:!0,startFresh:!0,showLoader:!1,page:1,pagesize:15,term:"",hasMoreItems:!0,next_page_url:"",ReportsTypes:[],globalLang:s.global,reportsLang:s.reports,showLoadingText:!1,ReportsDataList:[],reportIdData:null,firstAccordionClass:"juvly-accordion 1",secondAccordionClass:"juvly-accordion 2",thirdAccordionClass:"juvly-accordion 3",fourthAccordionClass:"juvly-accordion 4",accordion:{},report_category:"",type:null,service_id:null,report_name:"",defaultOptions:[],options:null,ReportProducts:[],selectedOption:[],select_Default_Report:[],ReportsDataChild:[],clinics_array:[],AllReportTypes:[],report_array:[],editType:e.type,id:e.match.params.id},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),window.onscroll=function(){var e=parseInt(Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop));window.innerHeight+e===document.documentElement.offsetHeight&&null!=a.props.next_page_url&&a.loadMore()},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){this.props.to_date,this.props.from_date,this.props.pagesize;this.setState({showLoader:!0,page:1,pagesize:this.props.pagesize,loadMore:!0,startFresh:!0,next_page_url:"",ReportsData:[],ReportsTypes:[],ReportsDataList:[]}),this.state.id?(this.setState({showLoader:!0}),this.props.getReportTypes({},this.state.id)):(this.setState({showLoader:!0}),this.props.getReportTypes({},0))}},{key:"render",value:function(){var e=[],t=[],a=[];return this.state.selectedOption.map(function(t,s){e.push({value:t.id,label:t.name}),a.push(t.name)}),void 0!=this.state.AllReportTypes&&this.state.AllReportTypes.services.length>0&&(t=this.state.AllReportTypes.services.map(function(e,t){return{value:e.id,label:e.name}})),i.a.createElement("div",{style:{opacity:"1"},className:"report-question-outer report-filling  fill-report no-padding","data-id":11},i.a.createElement("div",{className:"report-question"},"Average days between booking  ",i.a.createElement("span",{className:"empty-place fill1"}," ",a.join(",")," ")," service and the actual appointment date"),i.a.createElement("div",{className:"report-instruction"},this.state.reportsLang.report_type_select),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"custom-select col-sm-12 select1"},t&&i.a.createElement(un.a,{placeholder:"Type to search",name:"service_id",onChange:this.handleChange1,value:e,isClearable:!0,isSearchable:!0,options:t,isMulti:!0}))),i.a.createElement("input",{type:"hidden",name:"report_category",defaultValue:"appointment"}),i.a.createElement("input",{type:"hidden",name:"service_id",defaultValue:"",className:"sel_in"}),i.a.createElement(me.a,{to:"/reports",className:"report-btn common-btn",id:"back_report"},this.state.reportsLang.report_back_button," ",i.a.createElement("i",{className:"fa fa-arrow-left"})),i.a.createElement("button",{className:"report-btn common-btn pull-right",onClick:this.handleSubmit,id:"saveReport"},"  ",this.state.id?this.state.reportsLang.report_update_report_button:this.state.reportsLang.report_create_report_button,i.a.createElement("i",{className:"fa fa-check"})),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock full-width":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.globalLang.loading_please_wait_text))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};if(void 0!=e.ReportTypes&&e.ReportTypes!=t.ReportsDataChild){if(a.ReportsDataChild=e.ReportTypes,a.AllReportTypes=e.ReportTypes.data,a.showLoader=!1,a.report_array=e.ReportTypes.data,t.id){var s=[];void 0!=a.AllReportTypes.report_details&&a.AllReportTypes.services.map(function(e,t){a.AllReportTypes.report_details.variable1.indexOf(",")>-1?a.AllReportTypes.report_details.variable1.split(",").map(function(t,a){t==e.id&&s.push(e)}):a.AllReportTypes.report_details.variable1==e.id&&s.push(e)}),a.selectedOption=s}return a}return null}}]),t}(n.Component));var _h=Object(Z.b)(function(e){return JSON.parse(localStorage.getItem("languageData")),"GET_type S"!==e.ReportsReducer.action?{}:200===e.ReportsReducer.data.status?{ReportsTypes:e.ReportsReducer.data}:void 0},function(e){return Object(c.bindActionCreators)({createReports:Hp,getReportTypes:Yp,updateReports:Gp},e)})(Object(de.a)(gh)),vh=(Q.a.create(),function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,s="checkbox"===t.type?t.checked:t.value;a.setState(Object(se.a)({},e.target.name,s))},a.onSort=function(e){var t="asc"===a.props.sortorder?"desc":"asc",s={params:{page:1,pagesize:a.props.pagesize,sortby:e,sortorder:t,term:a.props.term}};a.setState({page:1,pagesize:a.props.pagesize,sortby:e,sortorder:t,loadMore:!0,startFresh:!0,showLoader:!0,next_page_url:"",ReportsData:[]}),localStorage.setItem("sortOnly",!0),a.props.createReports(s)},a.loadMore=function(){localStorage.setItem("sortOnly",!1),a.setState({loadMore:!0,startFresh:!0,showLoader:!1,showLoadingText:!0});a.props.page,a.props.pagesize,a.props.sortorder,a.props.term,a.props.action;a.setState({showLoader:!0})},a.inventoryEdit=function(e,t){return i.a.createElement("div",{className:"no-display"},"//",a.props.history.push("/inventory/products/categories/".concat(t,"/edit")))},a.handleSubmit=function(e){e.preventDefault(),localStorage.setItem("sortOnly",!0);var t=[];void 0!=a.state.selectedOption&&a.state.selectedOption.length>0&&(t=a.state.selectedOption.map(function(e,t){return e.id})),t.length||a.state.report_array.length&&void 0!=a.state.selectedOption&&a.state.selectedOption.length&&a.state.selectedOption.map(function(e,s){a.state.report_array.indexOf(e.id)>-1&&t.push(e.id)});var s={report_type:a.props.type,report_name:a.props.name,report_category:a.props.category,service_id:t.join(",")};a.setState({page:1,pagesize:a.state.pagesize,sortorder:"asc"==a.state.sortorder?"desc":"asc",startFresh:!0,loadMore:!0,next_page_url:"",ReportsData:[]}),a.setState({showLoader:!0,filterValue:"false"}),null!=a.state.id?(a.props.updateReports(s,a.state.id),a.setState({showLoader:!1})):(a.props.createReports(s),a.setState({showLoader:!1}))},a.showDeleteModal=function(){a.setState({showModal:!0})},a.dismissModal=function(){a.setState({showModal:!1})},a.deleteClinic=function(){a.setState({showLoader:!0,hideBtns:!0}),a.dismissModal()},a.reportData=function(e){e.currentTarget.dataset.href;a.setState({reportIdData:e.currentTarget.dataset.href})},a.accordion=function(e){var t=e.currentTarget.dataset.href;if(t){var s=a.props.accordion;s[t]?s[t]=!s[t]:s[t]=!0,a.setState({accordionList:s})}a.setState({titleClass:"juvly-accordion-title active",contentClass:"juvly-accordion-content open"})},a.handleHideShow=function(e){var t=e.currentTarget.dataset.report_category,s=e.currentTarget.dataset.id;a.setState({firstAccordionClass:"juvly-accordion 1 no-display",secondAccordionClass:"juvly-accordi;on 2 no-display",thirdAccordionClass:"juvly-accordion 3 no-display",fourthAccordionClass:"juvly-accordion 4 no-display",report_category:t,type:s})},a.handleChange1=function(e,t){if("select-option"==t.action){var s=a.state.selectedOption;a.state.AllReportTypes.services;a.state.AllReportTypes.services.map(function(e,n){if(e.id==t.option.value)return s.push(e),void a.setState({selectedOption:s})})}else if("remove-value"==t.action){var n=a.state.selectedOption,i=n.findIndex(function(e){return e.id===t.removedValue.value});n.splice(i,1),a.setState({selectedOption:n})}};JSON.parse(localStorage.getItem("userData"));var s=JSON.parse(localStorage.getItem("languageData"));return a.state={loadMore:!0,startFresh:!0,showLoader:!1,page:1,pagesize:15,term:"",hasMoreItems:!0,next_page_url:"",ReportsTypes:[],globalLang:s.global,reportsLang:s.reports,showLoadingText:!1,ReportsDataList:[],reportIdData:null,firstAccordionClass:"juvly-accordion 1",secondAccordionClass:"juvly-accordion 2",thirdAccordionClass:"juvly-accordion 3",fourthAccordionClass:"juvly-accordion 4",accordion:{},report_category:"",type:null,report_name:"",defaultOptions:[],options:null,ReportProducts:[],selectedOption:[],select_Default_Report:[],ReportsDataChild:[],clinics_array:[],AllReportTypes:[],report_array:[],editType:e.type,id:e.match.params.id},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),window.onscroll=function(){var e=parseInt(Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop));window.innerHeight+e===document.documentElement.offsetHeight&&null!=a.props.next_page_url&&a.loadMore()},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){this.props.to_date,this.props.from_date,this.props.pagesize;this.setState({showLoader:!0,page:1,pagesize:this.props.pagesize,loadMore:!0,startFresh:!0,next_page_url:"",ReportsData:[],ReportsTypes:[],ReportsDataList:[]}),this.state.id?(this.setState({showLoader:!0}),this.props.getReportTypes({},this.state.id)):(this.setState({showLoader:!0}),this.props.getReportTypes({},0))}},{key:"render",value:function(){var e=[],t=[],a=[];return this.state.selectedOption.map(function(t,s){e.push({value:t.id,label:t.name}),a.push(t.name)}),void 0!=this.state.AllReportTypes&&this.state.AllReportTypes.services.length>0&&(t=this.state.AllReportTypes.services.map(function(e,t){return{value:e.id,label:e.name}})),i.a.createElement("div",{style:{opacity:"1"},className:"report-question-outer report-filling  fill-report no-padding","data-id":12},i.a.createElement("div",{className:"report-question"},"What days of the week is the following  ",i.a.createElement("span",{className:"empty-place fill1"}," ",a.join(",")),"service booked more times (Mon - Sunday scale) "),i.a.createElement("div",{className:"report-instruction"},this.state.reportsLang.report_type_select),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"custom-select col-sm-12 select1"},i.a.createElement("input",{type:"text",className:"search-selectbox firstText",autoComplete:"off"}),t&&i.a.createElement(un.a,{placeholder:"Type to search",onChange:this.handleChange1,value:e,isClearable:!0,isSearchable:!0,options:t,isMulti:!0}))),i.a.createElement("input",{type:"hidden",name:"report_category",defaultValue:"appointment"}),i.a.createElement("input",{type:"hidden",name:"service_id",defaultValue:"",className:"sel_in"}),i.a.createElement(me.a,{to:"/reports",className:"report-btn common-btn",id:"back_report"},this.state.reportsLang.report_back_button," ",i.a.createElement("i",{className:"fa fa-arrow-left"})),i.a.createElement("button",{className:"report-btn common-btn pull-right",onClick:this.handleSubmit,id:"saveReport"},"  ",this.state.id?this.state.reportsLang.report_update_report_button:this.state.reportsLang.report_create_report_button,i.a.createElement("i",{className:"fa fa-check"})),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock full-width":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.globalLang.loading_please_wait_text))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};if(void 0!=e.ReportTypes&&e.ReportTypes!=t.ReportsDataChild){if(a.ReportsDataChild=e.ReportTypes,a.AllReportTypes=e.ReportTypes.data,a.showLoader=!1,a.report_array=e.ReportTypes.data,t.id){var s=[];void 0!=a.AllReportTypes.report_details&&a.AllReportTypes.services.map(function(e,t){a.AllReportTypes.report_details.variable1.indexOf(",")>-1?a.AllReportTypes.report_details.variable1.split(",").map(function(t,a){t==e.id&&s.push(e)}):a.AllReportTypes.report_details.variable1==e.id&&s.push(e)}),a.selectedOption=s}return a}return null}}]),t}(n.Component));var fh=Object(Z.b)(function(e){return JSON.parse(localStorage.getItem("languageData")),"GET_type S"!==e.ReportsReducer.action?{}:200===e.ReportsReducer.data.status?{ReportsTypes:e.ReportsReducer.data}:void 0},function(e){return Object(c.bindActionCreators)({createReports:Hp,getReportTypes:Yp,updateReports:Gp},e)})(Object(de.a)(vh)),bh=(Q.a.create(),function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,s="checkbox"===t.type?t.checked:t.value;"days"==s?a.setState({daysClass:"custom-select col-sm-6 select2 Days",monthsClass:"custom-select col-sm-6 select2 Months no-display",yearsClass:"custom-select col-sm-6 select2 Years no-display"}):"months"==s?a.setState({monthsClass:"custom-select col-sm-6 select2 Months",daysClass:"custom-select col-sm-6 select2 Days no-display",yearsClass:"custom-select col-sm-6 select2 Years no-display"}):"years"==s&&a.setState({yearsClass:"custom-select col-sm-6 select2 Years",monthsClass:"custom-select col-sm-6 select2 Months no-display",daysClass:"custom-select col-sm-6 select2 Days no-display"}),a.setState(Object(se.a)({},e.target.name,s))},a.handleSelectChange=function(e){a.setState({selectedAllOptions:e}),console.log(e),"days"==e.value?a.setState({daysClass:"custom-select col-sm-6 select2 Days",monthsClass:"custom-select col-sm-6 select2 Months no-display",yearsClass:"custom-select col-sm-6 select2 Years no-display"}):"months"==e.value?a.setState({monthsClass:"custom-select col-sm-6 select2 Months",daysClass:"custom-select col-sm-6 select2 Days no-display",yearsClass:"custom-select col-sm-6 select2 Years no-display"}):"years"==e.value&&a.setState({yearsClass:"custom-select col-sm-6 select2 Years",monthsClass:"custom-select col-sm-6 select2 Months no-display",daysClass:"custom-select col-sm-6 select2 Days no-display"})},a.handleDaysChange=function(e){a.setState({selectedDaysOptions:e})},a.handleMonthsChange=function(e){a.setState({selectedMonthsOptions:e})},a.handleYearsChange=function(e){a.setState({selectedYearsOptions:e})},a.onSort=function(e){var t="asc"===a.props.sortorder?"desc":"asc",s={params:{page:1,pagesize:a.props.pagesize,sortby:e,sortorder:t,term:a.props.term}};a.setState({page:1,pagesize:a.props.pagesize,sortby:e,sortorder:t,loadMore:!0,startFresh:!0,showLoader:!0,next_page_url:"",ReportsData:[]}),localStorage.setItem("sortOnly",!0),a.props.createReports(s)},a.loadMore=function(){localStorage.setItem("sortOnly",!1),a.setState({loadMore:!0,startFresh:!0,showLoader:!1,showLoadingText:!0});a.props.page,a.props.pagesize,a.props.sortorder,a.props.term,a.props.action;a.setState({showLoader:!0})},a.inventoryEdit=function(e,t){return i.a.createElement("div",{className:"no-display"},"//",a.props.history.push("/inventory/products/categories/".concat(t,"/edit")))},a.handleSubmit=function(e){e.preventDefault(),localStorage.setItem("sortOnly",!0);var t=0;void 0!=a.state.selectedDaysOptions&&(t=a.state.selectedDaysOptions.value);var s=0;void 0!=a.state.selectedMonthsOptions&&(s=a.state.selectedMonthsOptions.value);var n=0;void 0!=a.state.selectedYearsOptions&&(n=a.state.selectedYearsOptions.value);var i={report_type:a.props.type,report_name:a.props.name,report_category:a.props.category,dollar:a.state.dollar};"days"==a.state.selectedAllOptions.value?i.days=t:"months"==a.state.selectedAllOptions.value?i.months=s:"years"==a.state.selectedAllOptions.value&&(i.years=n),a.setState({page:1,pagesize:a.state.pagesize,sortorder:"asc"==a.state.sortorder?"desc":"asc",startFresh:!0,loadMore:!0,next_page_url:"",ReportsData:[]}),a.setState({showLoader:!0,filterValue:"false"}),null!=a.state.id?(a.props.updateReports(i,a.state.id),a.setState({showLoader:!1})):(a.props.createReports(i),a.setState({showLoader:!1}))},a.showDeleteModal=function(){a.setState({showModal:!0})},a.dismissModal=function(){a.setState({showModal:!1})},a.deleteClinic=function(){a.setState({showLoader:!0,hideBtns:!0}),a.dismissModal()},a.reportData=function(e){e.currentTarget.dataset.href;a.setState({reportIdData:e.currentTarget.dataset.href})},a.accordion=function(e){var t=e.currentTarget.dataset.href;if(t){var s=a.props.accordion;s[t]?s[t]=!s[t]:s[t]=!0,a.setState({accordionList:s})}a.setState({titleClass:"juvly-accordion-title active",contentClass:"juvly-accordion-content open"})},a.handleHideShow=function(e){var t=e.currentTarget.dataset.report_category,s=e.currentTarget.dataset.id;a.setState({firstAccordionClass:"juvly-accordion 1 no-display",secondAccordionClass:"juvly-accordi;on 2 no-display",thirdAccordionClass:"juvly-accordion 3 no-display",fourthAccordionClass:"juvly-accordion 4 no-display",report_category:t,type:s})},a.handleChange1=function(e){a.setState({select_Default_Report:e,selectedOption:e})},a.DaysClassDisplay=function(){a.setState({monthsClass:"custom-select col-sm-6 select2 Months no-display",yearsClass:"custom-select col-sm-6 select2 Days no-display"})},a.buildOptionsDays=function(){for(var e=[],t=1;t<=30;t++)e.push(i.a.createElement("option",{key:t,value:t},t));return e},a.buildOptionsMonths=function(){for(var e=[],t=1;t<=12;t++)e.push(i.a.createElement("option",{key:t,value:t},t));return e},a.buildOptionsYears=function(){for(var e=[],t=1;t<=5;t++)e.push(i.a.createElement("option",{key:t,value:t},t));return e};JSON.parse(localStorage.getItem("userData"));var s=JSON.parse(localStorage.getItem("languageData"));return a.state={loadMore:!0,startFresh:!0,showLoader:!1,page:1,pagesize:15,term:"",hasMoreItems:!0,next_page_url:"",ReportsTypes:[],globalLang:s.global,reportsLang:s.reports,showLoadingText:!1,ReportsDataList:[],reportIdData:null,firstAccordionClass:"juvly-accordion 1",secondAccordionClass:"juvly-accordion 2",thirdAccordionClass:"juvly-accordion 3",fourthAccordionClass:"juvly-accordion 4",accordion:{},report_category:"",type:null,report_name:"",defaultOptions1:[],options1:null,ReportProducts:[],selectedOption:null,select_Default_Report:[],ReportsDataChild:[],clinics_array:[],AllReportTypes:[],report_array:[],dollar:null,daysClass:"custom-select col-sm-6 select2 Days",monthsClass:"custom-select col-sm-6 select2 Months no-display",yearsClass:"custom-select col-sm-6 select2 Years no-display",editType:e.type,id:e.match.params.id,months:null,years:null,days:null,date_selecter:"",wholeOptions:[],selectedAllOptions:[],selectedDaysOptions:[],selectedMonthsOptions:[],selectedYearsOptions:[],daysOptions:[],monthsOptions:[],yearsOptions:[]},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),window.onscroll=function(){var e=parseInt(Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop));window.innerHeight+e===document.documentElement.offsetHeight&&null!=a.props.next_page_url&&a.loadMore()},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e=[];e.push({value:"days",label:"Days"}),e.push({value:"months",label:"Months"}),e.push({value:"years",label:"Years"});for(var t=[],a=1;a<=30;a++)t.push({value:a,label:a});for(var s=[],n=1;n<=12;n++)s.push({value:n,label:n});for(var i=[],r=1;r<=5;r++)i.push({value:r,label:r});this.props.to_date,this.props.from_date,this.props.pagesize;this.setState({showLoader:!0,page:1,pagesize:this.props.pagesize,loadMore:!0,startFresh:!0,next_page_url:"",ReportsData:[],ReportsTypes:[],ReportsDataList:[],wholeOptions:e,daysOptions:t,monthsOptions:s,yearsOptions:i}),this.state.id?(this.setState({showLoader:!0}),this.props.getReportTypes({},this.state.id)):(this.setState({showLoader:!0}),this.props.getReportTypes({},0))}},{key:"render",value:function(){var e=[];void 0!=this.state.AllReportTypes&&void 0!=this.state.AllReportTypes.services&&this.state.AllReportTypes.services.length>0&&this.state.AllReportTypes.services.map(function(t,a){e.push({value:t.id,label:t.name})}),void 0!=this.props.AllReportTypes&&this.props.AllReportTypes.services.length>0&&this.props.AllReportTypes.map(function(e,t){return{value:e.id,label:e.name}});var t=[];t.push({value:"days",label:"Days"}),t.push({value:"months",label:"Months"}),t.push({value:"years",label:"Years"});for(var a=[],s=1;s<=30;s++)a.push({value:s,label:s});for(var n=[],r=1;r<=1;r++)n.push({value:r,label:r});for(var o=[],l=1;l<=5;l++)o.push({value:l,label:l});return i.a.createElement("div",{style:{opacity:"1"},className:"report-question-outer report-filling  fill-report no-padding","data-id":13},i.a.createElement("div",{className:"report-question"},"High spenders : Clients who have spent more than  ",i.a.createElement("span",{className:"empty-place number_class"},this.state.dollar)," Dollars in  the last ",i.a.createElement("span",{className:"empty-place fill2"},this.state.date_selecter),i.a.createElement("span",{className:"p_date"}," days")),i.a.createElement("div",{className:"report-instruction"},this.state.reportsLang.report_type_select),i.a.createElement("div",{className:"row"},i.a.createElement("input",{type:"text",name:"dollar",className:"report-input input_number",value:this.state.dollar,onChange:this.handleInputChange,autoComplete:"off",defaultValue:"",placeholder:"Dollar"}),i.a.createElement("div",{className:"custom-select col-sm-6 select1"},i.a.createElement("input",{type:"text",className:"search-selectbox firstText",autoComplete:"off"}),this.state.wholeOptions&&i.a.createElement(un.a,{placeholder:"Type to search",name:"date_selecter",onChange:this.handleSelectChange,value:this.state.selectedAllOptions,style:{display:"block"},options:this.state.wholeOptions})),i.a.createElement("div",{className:this.state.daysClass},i.a.createElement("input",{type:"text",className:"search-selectbox secondText Days",autoComplete:"off"}),this.state.daysOptions&&i.a.createElement(un.a,{name:"days",placeholder:"Type to search",onChange:this.handleDaysChange,value:this.state.selectedDaysOptions,style:{display:"block"},options:this.state.daysOptions})),i.a.createElement("div",{className:this.state.monthsClass},i.a.createElement("input",{type:"text",className:"search-selectbox secondText Months",autoComplete:"off",placeholder:"Type to search"}),this.state.monthsOptions&&i.a.createElement(un.a,{name:"months",onChange:this.handleMonthsChange,value:this.state.selectedMonthsOptions,className:"report-fill-box",style:{display:"block"},options:this.state.monthsOptions})),i.a.createElement("div",{className:this.state.yearsClass},i.a.createElement("input",{type:"text",className:"search-selectbox secondText Years",autoComplete:"off",placeholder:"Type to search"}),this.state.yearsOptions&&i.a.createElement(un.a,{name:"years",onChange:this.handleYearsChange,value:this.state.selectedYearsOptions,className:"report-fill-box",style:{display:"block"},options:this.state.yearsOptions}))),i.a.createElement("input",{type:"hidden",name:"report_category",defaultValue:"client"}),i.a.createElement("input",{type:"hidden",name:"days",defaultValue:"",className:"sel_in"}),i.a.createElement("input",{type:"hidden",name:"months",defaultValue:"",className:"sel_in"}),i.a.createElement("input",{type:"hidden",name:"years",defaultValue:"",className:"sel_in"}),i.a.createElement(me.a,{to:"/reports",className:"report-btn common-btn",id:"back_report"},this.state.reportsLang.report_back_button," ",i.a.createElement("i",{className:"fa fa-arrow-left"})),i.a.createElement("button",{className:"report-btn common-btn pull-right",onClick:this.handleSubmit,id:"saveReport"},"  ",this.state.id?this.state.reportsLang.report_update_report_button:this.state.reportsLang.report_create_report_button,i.a.createElement("i",{className:"fa fa-check"})),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock full-width":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.globalLang.loading_please_wait_text))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};return void 0!=e.ReportTypes&&e.ReportTypes!=t.ReportsDataChild?(console.log(e.ReportTypes),a.ReportsDataChild=e.ReportTypes,a.AllReportTypes=e.ReportTypes.data,console.log(e.AllReportTypes),a.report_array=e.ReportTypes.data,a.showLoader=!1,a):null}}]),t}(n.Component));var Eh=Object(Z.b)(function(e){return JSON.parse(localStorage.getItem("languageData")),"GET_type S"!==e.ReportsReducer.action?{}:200===e.ReportsReducer.data.status?{ReportsTypes:e.ReportsReducer.data}:void 0},function(e){return Object(c.bindActionCreators)({createReports:Hp,getReportTypes:Yp,updateReports:Gp},e)})(Object(de.a)(bh)),yh=(Q.a.create(),function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,s="checkbox"===t.type?t.checked:t.value;"days"==s?a.setState({daysClass:"custom-select col-sm-6 select2 Days",monthsClass:"custom-select col-sm-6 select2 Months no-display",yearsClass:"custom-select col-sm-6 select2 Years no-display"}):"months"==s?a.setState({monthsClass:"custom-select col-sm-6 select2 Months",daysClass:"custom-select col-sm-6 select2 Days no-display",yearsClass:"custom-select col-sm-6 select2 Years no-display"}):"years"==s&&a.setState({yearsClass:"custom-select col-sm-6 select2 Years",monthsClass:"custom-select col-sm-6 select2 Months no-display",daysClass:"custom-select col-sm-6 select2 Days no-display"}),a.setState(Object(se.a)({},e.target.name,s))},a.handleSelectChange=function(e){a.setState({selectedAllOptions:e,userChanged:!0}),console.log(e),"days"==e.value?a.setState({daysClass:"custom-select col-sm-6 select2 Days",monthsClass:"custom-select col-sm-6 select2 Months no-display",yearsClass:"custom-select col-sm-6 select2 Years no-display"}):"months"==e.value?a.setState({monthsClass:"custom-select col-sm-6 select2 Months",daysClass:"custom-select col-sm-6 select2 Days no-display",yearsClass:"custom-select col-sm-6 select2 Years no-display"}):"years"==e.value&&a.setState({yearsClass:"custom-select col-sm-6 select2 Years",monthsClass:"custom-select col-sm-6 select2 Months no-display",daysClass:"custom-select col-sm-6 select2 Days no-display"})},a.handleDaysChange=function(e){a.setState({selectedDaysOptions:e,userChanged:!0})},a.handleMonthsChange=function(e){a.setState({selectedMonthsOptions:e,userChanged:!0})},a.handleYearsChange=function(e){a.setState({selectedYearsOptions:e,userChanged:!0})},a.onSort=function(e){var t="asc"===a.props.sortorder?"desc":"asc",s={params:{page:1,pagesize:a.props.pagesize,sortby:e,sortorder:t,term:a.props.term}};a.setState({page:1,pagesize:a.props.pagesize,sortby:e,sortorder:t,loadMore:!0,startFresh:!0,showLoader:!0,next_page_url:"",ReportsData:[]}),localStorage.setItem("sortOnly",!0),a.props.createReports(s)},a.loadMore=function(){localStorage.setItem("sortOnly",!1),a.setState({loadMore:!0,startFresh:!0,showLoader:!1,showLoadingText:!0});a.props.page,a.props.pagesize,a.props.sortorder,a.props.term,a.props.action;a.setState({showLoader:!0})},a.inventoryEdit=function(e,t){return i.a.createElement("div",{className:"no-display"},"//",a.props.history.push("/inventory/products/categories/".concat(t,"/edit")))},a.handleSubmit=function(e){e.preventDefault(),localStorage.setItem("sortOnly",!0);var t=0;void 0!=a.state.selectedDaysOptions&&(t=a.state.selectedDaysOptions.value);var s=0;void 0!=a.state.selectedMonthsOptions&&(s=a.state.selectedMonthsOptions.value);var n=0;void 0!=a.state.selectedYearsOptions&&(n=a.state.selectedYearsOptions.value);var i={report_type:a.props.type,report_name:a.props.name,report_category:a.props.category,refund:a.state.refund};"days"==a.state.selectedAllOptions.value?i.days=t:"months"==a.state.selectedAllOptions.value?i.months=s:"years"==a.state.selectedAllOptions.value&&(i.years=n),a.setState({page:1,pagesize:a.state.pagesize,sortorder:"asc"==a.state.sortorder?"desc":"asc",startFresh:!0,loadMore:!0,next_page_url:"",ReportsData:[]}),a.setState({showLoader:!0,filterValue:"false"}),null!=a.state.id?(a.props.updateReports(i,a.state.id),a.setState({showLoader:!1})):(a.props.createReports(i),a.setState({showLoader:!1}))},a.showDeleteModal=function(){a.setState({showModal:!0})},a.dismissModal=function(){a.setState({showModal:!1})},a.deleteClinic=function(){a.setState({showLoader:!0,hideBtns:!0}),a.dismissModal()},a.reportData=function(e){e.currentTarget.dataset.href;a.setState({reportIdData:e.currentTarget.dataset.href})},a.accordion=function(e){var t=e.currentTarget.dataset.href;if(t){var s=a.props.accordion;s[t]?s[t]=!s[t]:s[t]=!0,a.setState({accordionList:s})}a.setState({titleClass:"juvly-accordion-title active",contentClass:"juvly-accordion-content open"})},a.handleHideShow=function(e){var t=e.currentTarget.dataset.report_category,s=e.currentTarget.dataset.id;a.setState({firstAccordionClass:"juvly-accordion 1 no-display",secondAccordionClass:"juvly-accordi;on 2 no-display",thirdAccordionClass:"juvly-accordion 3 no-display",fourthAccordionClass:"juvly-accordion 4 no-display",report_category:t,type:s})},a.handleChange1=function(e){a.setState({select_Default_Report:e,selectedOption:e})},a.DaysClassDisplay=function(){a.setState({monthsClass:"custom-select col-sm-6 select2 Months no-display",yearsClass:"custom-select col-sm-6 select2 Days no-display"})},a.buildOptionsDays=function(){for(var e=[],t=1;t<=30;t++)e.push(i.a.createElement("option",{key:t,value:t},t));return e},a.buildOptionsMonths=function(){for(var e=[],t=1;t<=12;t++)e.push(i.a.createElement("option",{key:t,value:t},t));return e},a.buildOptionsYears=function(){for(var e=[],t=1;t<=5;t++)e.push(i.a.createElement("option",{key:t,value:t},t));return e};JSON.parse(localStorage.getItem("userData"));var s=JSON.parse(localStorage.getItem("languageData"));return a.state={loadMore:!0,startFresh:!0,showLoader:!1,page:1,pagesize:15,term:"",hasMoreItems:!0,next_page_url:"",ReportsTypes:[],globalLang:s.global,reportsLang:s.reports,showLoadingText:!1,ReportsDataList:[],reportIdData:null,firstAccordionClass:"juvly-accordion 1",secondAccordionClass:"juvly-accordion 2",thirdAccordionClass:"juvly-accordion 3",fourthAccordionClass:"juvly-accordion 4",accordion:{},report_category:"",type:null,report_name:"",defaultOptions1:[],options1:null,ReportProducts:[],selectedOption:null,select_Default_Report:[],ReportsDataChild:[],clinics_array:[],AllReportTypes:[],report_array:[],refund:null,daysClass:"custom-select col-sm-6 select2 Days",monthsClass:"custom-select col-sm-6 select2 Months no-display",yearsClass:"custom-select col-sm-6 select2 Years no-display",editType:e.type,id:e.match.params.id,months:null,years:null,days:null,date_selecter:"",wholeOptions:[],selectedAllOptions:[],selectedDaysOptions:[],selectedMonthsOptions:[],selectedYearsOptions:[],daysOptions:[],monthsOptions:[],yearsOptions:[],userChanged:!1},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),window.onscroll=function(){var e=parseInt(Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop));window.innerHeight+e===document.documentElement.offsetHeight&&null!=a.props.next_page_url&&a.loadMore()},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e=[];e.push({value:"days",label:"Days"}),e.push({value:"months",label:"Months"}),e.push({value:"years",label:"Years"});for(var t=[],a=1;a<=30;a++)t.push({value:a,label:a});for(var s=[],n=1;n<=12;n++)s.push({value:n,label:n});for(var i=[],r=1;r<=5;r++)i.push({value:r,label:r});this.props.to_date,this.props.from_date,this.props.pagesize;this.setState({showLoader:!0,page:1,pagesize:this.props.pagesize,loadMore:!0,startFresh:!0,next_page_url:"",ReportsData:[],ReportsTypes:[],ReportsDataList:[],wholeOptions:e,daysOptions:t,monthsOptions:s,yearsOptions:i}),this.state.id?(this.setState({showLoader:!0}),this.props.getReportTypes({},this.state.id)):(this.setState({showLoader:!0}),this.props.getReportTypes({},0))}},{key:"render",value:function(){var e=[];e.push({value:"days",label:"Days"}),e.push({value:"months",label:"Months"}),e.push({value:"years",label:"Years"});for(var t=[],a=1;a<=30;a++)t.push({value:a,label:a});for(var s=[],n=1;n<=1;n++)s.push({value:n,label:n});for(var r=[],o=1;o<=5;o++)r.push({value:o,label:o});var l=[];return void 0!=this.state.AllReportTypes&&void 0!=this.state.AllReportTypes.services&&this.state.AllReportTypes.services.length>0&&this.state.AllReportTypes.services.map(function(e,t){l.push({value:e.id,label:e.name})}),void 0!=this.props.AllReportTypes&&this.props.AllReportTypes.services.length>0&&this.props.AllReportTypes.map(function(e,t){return{value:e.id,label:e.name}}),i.a.createElement("div",{style:{opacity:"1"},className:"report-question-outer report-filling  fill-report no-padding","data-id":13},i.a.createElement("div",{className:"report-question"},"Top complainers : Clients who have received more than  ",i.a.createElement("span",{className:"empty-place number_class"}),"  no of refunds in ",i.a.createElement("span",{className:"empty-place fill2"})," ",i.a.createElement("span",{className:"p_date"},"days")),i.a.createElement("div",{className:"report-instruction"},this.state.reportsLang.report_type_select),i.a.createElement("input",{type:"text",name:"refund",className:"report-input input_number",onChange:this.handleInputChange,defaultValue:this.state.refund,autoComplete:"off",placeholder:"Refund count"}),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"custom-select col-sm-6 select1"},i.a.createElement("input",{type:"text",className:"search-selectbox firstText",autoComplete:"off"}),this.state.wholeOptions&&i.a.createElement(un.a,{placeholder:"Type to search",name:"date_selecter",onChange:this.handleSelectChange,value:this.state.selectedAllOptions,style:{display:"block"},options:this.state.wholeOptions})),i.a.createElement("div",{className:this.state.daysClass},i.a.createElement("input",{type:"text",className:"search-selectbox secondText Days",autoComplete:"off"}),this.state.daysOptions&&i.a.createElement(un.a,{name:"days",placeholder:"Type to search",onChange:this.handleDaysChange,value:this.state.selectedDaysOptions,style:{display:"block"},options:this.state.daysOptions})),i.a.createElement("div",{className:this.state.monthsClass},i.a.createElement("input",{type:"text",className:"search-selectbox secondText Months",autoComplete:"off"}),this.state.monthsOptions&&i.a.createElement(un.a,{name:"months",onChange:this.handleMonthsChange,value:this.state.selectedMonthsOptions,style:{display:"block"},options:this.state.monthsOptions})),i.a.createElement("div",{className:this.state.yearsClass},i.a.createElement("input",{type:"text",className:"search-selectbox secondText Years",autoComplete:"off"}),this.state.yearsOptions&&i.a.createElement(un.a,{name:"years",onChange:this.handleYearsChange,value:this.state.selectedYearsOptions,style:{display:"block"},options:this.state.yearsOptions}))),i.a.createElement("input",{type:"hidden",name:"report_category",defaultValue:"client"}),i.a.createElement("input",{type:"hidden",name:"days",defaultValue:"",className:"sel_in"}),i.a.createElement("input",{type:"hidden",name:"months",defaultValue:"",className:"sel_in"}),i.a.createElement("input",{type:"hidden",name:"years",defaultValue:"",className:"sel_in"}),i.a.createElement(me.a,{to:"/reports",className:"report-btn common-btn",id:"back_report"},this.state.reportsLang.report_back_button," ",i.a.createElement("i",{className:"fa fa-arrow-left"})),i.a.createElement("button",{className:"report-btn common-btn pull-right",onClick:this.handleSubmit,id:"saveReport"},"  ",this.state.id?this.state.reportsLang.report_update_report_button:this.state.reportsLang.report_create_report_button,i.a.createElement("i",{className:"fa fa-check"})),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock full-width":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.globalLang.loading_please_wait_text))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};return void 0!=e.ReportTypes&&e.ReportTypes!=t.ReportsDataChild?(a.ReportsDataChild=e.ReportTypes,a.AllReportTypes=e.ReportTypes.data,a.report_array=e.ReportTypes.data,a.showLoader=!1,a):null}}]),t}(n.Component));var Nh=Object(Z.b)(function(e){return JSON.parse(localStorage.getItem("languageData")),"GET_type S"!==e.ReportsReducer.action?{}:200===e.ReportsReducer.data.status?{ReportsTypes:e.ReportsReducer.data}:void 0},function(e){return Object(c.bindActionCreators)({createReports:Hp,getReportTypes:Yp,updateReports:Gp},e)})(Object(de.a)(yh)),Sh=(Q.a.create(),function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,s="checkbox"===t.type?t.checked:t.value;a.setState(Object(se.a)({},e.target.name,s))},a.onSort=function(e){var t="asc"===a.props.sortorder?"desc":"asc",s={params:{page:1,pagesize:a.props.pagesize,sortby:e,sortorder:t,term:a.props.term}};a.setState({page:1,pagesize:a.props.pagesize,sortby:e,sortorder:t,loadMore:!0,startFresh:!0,showLoader:!0,next_page_url:"",ReportsData:[]}),localStorage.setItem("sortOnly",!0),a.props.createReports(s)},a.loadMore=function(){localStorage.setItem("sortOnly",!1),a.setState({loadMore:!0,startFresh:!0,showLoader:!1,showLoadingText:!0});a.props.page,a.props.pagesize,a.props.sortorder,a.props.term,a.props.action;a.setState({showLoader:!0})},a.inventoryEdit=function(e,t){return i.a.createElement("div",{className:"no-display"},"//",a.props.history.push("/inventory/products/categories/".concat(t,"/edit")))},a.handleSubmit=function(e){e.preventDefault(),localStorage.setItem("sortOnly",!0);var t={report_type:a.props.type,report_name:a.props.name,report_category:a.props.category,age:a.state.age};a.setState({page:1,pagesize:a.state.pagesize,sortorder:"asc"==a.state.sortorder?"desc":"asc",startFresh:!0,loadMore:!0,next_page_url:"",ReportsData:[]}),a.setState({showLoader:!0,filterValue:"false"}),null!=a.state.id?(a.props.updateReports(t,a.state.id),a.setState({showLoader:!1})):(a.props.createReports(t),a.setState({showLoader:!1}))},a.showDeleteModal=function(){a.setState({showModal:!0})},a.dismissModal=function(){a.setState({showModal:!1})},a.deleteClinic=function(){a.setState({showLoader:!0,hideBtns:!0}),a.dismissModal()},a.reportData=function(e){e.currentTarget.dataset.href;a.setState({reportIdData:e.currentTarget.dataset.href})},a.accordion=function(e){var t=e.currentTarget.dataset.href;if(t){var s=a.props.accordion;s[t]?s[t]=!s[t]:s[t]=!0,a.setState({accordionList:s})}a.setState({titleClass:"juvly-accordion-title active",contentClass:"juvly-accordion-content open"})},a.handleHideShow=function(e){var t=e.currentTarget.dataset.report_category,s=e.currentTarget.dataset.id;a.setState({firstAccordionClass:"juvly-accordion 1 no-display",secondAccordionClass:"juvly-accordi;on 2 no-display",thirdAccordionClass:"juvly-accordion 3 no-display",fourthAccordionClass:"juvly-accordion 4 no-display",report_category:t,type:s})},a.handleChange1=function(e){a.setState({select_Default_Report:e,selectedOption:e})};JSON.parse(localStorage.getItem("userData"));var s=JSON.parse(localStorage.getItem("languageData"));return a.state={loadMore:!0,startFresh:!0,showLoader:!1,page:1,pagesize:15,term:"",hasMoreItems:!0,next_page_url:"",ReportsTypes:[],globalLang:s.global,reportsLang:s.reports,showLoadingText:!1,ReportsDataList:[],reportIdData:null,firstAccordionClass:"juvly-accordion 1",secondAccordionClass:"juvly-accordion 2",thirdAccordionClass:"juvly-accordion 3",fourthAccordionClass:"juvly-accordion 4",accordion:{},report_category:"",type:null,report_name:"",defaultOptions1:[],options1:null,ReportProducts:[],selectedOption:null,select_Default_Report:[],ReportsDataChild:[],clinics_array:[],AllReportTypes:[],report_array:[],age:null,editType:e.type,id:e.match.params.id},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),window.onscroll=function(){var e=parseInt(Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop));window.innerHeight+e===document.documentElement.offsetHeight&&null!=a.props.next_page_url&&a.loadMore()},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){this.props.to_date,this.props.from_date,this.props.pagesize;this.setState({showLoader:!0,page:1,pagesize:this.props.pagesize,loadMore:!0,startFresh:!0,next_page_url:"",ReportsData:[],ReportsTypes:[],ReportsDataList:[]}),this.state.id?(this.setState({showLoader:!0}),this.props.getReportTypes({},this.state.id)):(this.setState({showLoader:!0}),this.props.getReportTypes({},0))}},{key:"render",value:function(){var e=[];return void 0!=this.state.AllReportTypes&&void 0!=this.state.AllReportTypes.services&&this.state.AllReportTypes.services.length>0&&this.state.AllReportTypes.services.map(function(t,a){e.push({value:t.id,label:t.name})}),void 0!=this.props.AllReportTypes&&this.props.AllReportTypes.services.length>0&&this.props.AllReportTypes.map(function(e,t){return{value:e.id,label:e.name}}),i.a.createElement("div",{style:{opacity:"1"},className:"report-question-outer report-filling  fill-report no-padding","data-id":15},i.a.createElement("input",{type:"hidden",name:"report_category",defaultValue:"client"}),i.a.createElement("div",{className:"report-question"},"All men over  ",i.a.createElement("span",{className:"empty-place number_class"},this.state.age)," years of age"),i.a.createElement("div",{className:"report-instruction"},this.state.reportsLang.report_type_select),i.a.createElement("div",{className:"row"},i.a.createElement("input",{type:"text",name:"age",value:this.state.age,className:"report-input input_number",autoComplete:"off",onChange:this.handleInputChange,placeholder:"age",defaultValue:""})),i.a.createElement(me.a,{to:"/reports",className:"report-btn common-btn",id:"back_report"},this.state.reportsLang.report_back_button," ",i.a.createElement("i",{className:"fa fa-arrow-left"})),"                      ",i.a.createElement("button",{className:"report-btn common-btn pull-right",onClick:this.handleSubmit,id:"saveReport"},"  ",this.state.id?this.state.reportsLang.report_update_report_button:this.state.reportsLang.report_create_report_button,i.a.createElement("i",{className:"fa fa-check"})),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock full-width":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.globalLang.loading_please_wait_text))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};return void 0!=e.ReportTypes&&e.ReportTypes!=t.ReportsDataChild?(a.ReportsDataChild=e.ReportTypes,a.AllReportTypes=e.ReportTypes.data,a.showLoader=!1,a.report_array=e.ReportTypes.data,t.id&&(a.age=a.AllReportTypes.report_details.variable1),a):null}}]),t}(n.Component));var Dh=Object(Z.b)(function(e){return JSON.parse(localStorage.getItem("languageData")),"GET_type S"!==e.ReportsReducer.action?{}:200===e.ReportsReducer.data.status?{ReportsTypes:e.ReportsReducer.data}:void 0},function(e){return Object(c.bindActionCreators)({createReports:Hp,getReportTypes:Yp,updateReports:Gp},e)})(Object(de.a)(Sh)),wh=(Q.a.create(),function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,s="checkbox"===t.type?t.checked:t.value;a.setState(Object(se.a)({},e.target.name,s))},a.onSort=function(e){var t="asc"===a.props.sortorder?"desc":"asc",s={params:{page:1,pagesize:a.props.pagesize,sortby:e,sortorder:t,term:a.props.term}};a.setState({page:1,pagesize:a.props.pagesize,sortby:e,sortorder:t,loadMore:!0,startFresh:!0,showLoader:!0,next_page_url:"",ReportsData:[]}),localStorage.setItem("sortOnly",!0),a.props.createReports(s)},a.loadMore=function(){localStorage.setItem("sortOnly",!1),a.setState({loadMore:!0,startFresh:!0,showLoader:!1,showLoadingText:!0});a.props.page,a.props.pagesize,a.props.sortorder,a.props.term,a.props.action;a.setState({showLoader:!0})},a.inventoryEdit=function(e,t){return i.a.createElement("div",{className:"no-display"},"//",a.props.history.push("/inventory/products/categories/".concat(t,"/edit")))},a.handleSubmit=function(e){e.preventDefault(),localStorage.setItem("sortOnly",!0);var t={report_type:a.props.type,report_name:a.props.name,report_category:a.props.category,age:a.state.age};a.setState({page:1,pagesize:a.state.pagesize,sortorder:"asc"==a.state.sortorder?"desc":"asc",startFresh:!0,loadMore:!0,next_page_url:"",ReportsData:[]}),a.setState({showLoader:!0,filterValue:"false"}),null!=a.state.id?(a.props.updateReports(t,a.state.id),a.setState({showLoader:!1})):(a.props.createReports(t),a.setState({showLoader:!1}))},a.showDeleteModal=function(){a.setState({showModal:!0})},a.dismissModal=function(){a.setState({showModal:!1})},a.deleteClinic=function(){a.setState({showLoader:!0,hideBtns:!0}),a.dismissModal()},a.reportData=function(e){e.currentTarget.dataset.href;a.setState({reportIdData:e.currentTarget.dataset.href})},a.accordion=function(e){var t=e.currentTarget.dataset.href;if(t){var s=a.props.accordion;s[t]?s[t]=!s[t]:s[t]=!0,a.setState({accordionList:s})}a.setState({titleClass:"juvly-accordion-title active",contentClass:"juvly-accordion-content open"})},a.handleHideShow=function(e){var t=e.currentTarget.dataset.report_category,s=e.currentTarget.dataset.id;a.setState({firstAccordionClass:"juvly-accordion 1 no-display",secondAccordionClass:"juvly-accordion 2 no-display",thirdAccordionClass:"juvly-accordion 3 no-display",fourthAccordionClass:"juvly-accordion 4 no-display",report_category:t,type:s})},a.handleChange1=function(e){a.setState({select_Default_Report:e,selectedOption:e})};JSON.parse(localStorage.getItem("userData"));var s=JSON.parse(localStorage.getItem("languageData"));return a.state={loadMore:!0,startFresh:!0,showLoader:!1,page:1,pagesize:15,term:"",hasMoreItems:!0,next_page_url:"",ReportsTypes:[],globalLang:s.global,reportsLang:s.reports,showLoadingText:!1,ReportsDataList:[],reportIdData:null,firstAccordionClass:"juvly-accordion 1",secondAccordionClass:"juvly-accordion 2",thirdAccordionClass:"juvly-accordion 3",fourthAccordionClass:"juvly-accordion 4",accordion:{},report_category:"",type:null,report_name:"",defaultOptions1:[],options1:null,ReportProducts:[],selectedOption:null,select_Default_Report:[],ReportsDataChild:[],clinics_array:[],AllReportTypes:[],report_array:[],age:null,editType:e.type,id:e.match.params.id},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),window.onscroll=function(){var e=parseInt(Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop));window.innerHeight+e===document.documentElement.offsetHeight&&null!=a.props.next_page_url&&a.loadMore()},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){this.props.to_date,this.props.from_date,this.props.pagesize;this.setState({showLoader:!0,page:1,pagesize:this.props.pagesize,loadMore:!0,startFresh:!0,next_page_url:"",ReportsData:[],ReportsTypes:[],ReportsDataList:[]}),this.state.id?(this.setState({showLoader:!0}),this.props.getReportTypes({},this.state.id)):(this.setState({showLoader:!0}),this.props.getReportTypes({},0))}},{key:"render",value:function(){var e=[];return void 0!=this.state.AllReportTypes&&void 0!=this.state.AllReportTypes.services&&this.state.AllReportTypes.services.length>0&&this.state.AllReportTypes.services.map(function(t,a){e.push({value:t.id,label:t.name})}),void 0!=this.props.AllReportTypes&&this.props.AllReportTypes.services.length>0&&this.props.AllReportTypes.map(function(e,t){return{value:e.id,label:e.name}}),i.a.createElement("div",{style:{opacity:"1"},className:"report-question-outer report-filling  fill-report no-padding","data-id":16},i.a.createElement("input",{type:"hidden",name:"report_category",defaultValue:"client"}),i.a.createElement("div",{className:"report-question"},"All women over  ",i.a.createElement("span",{className:"empty-place number_class"},this.state.age)," years of age"),i.a.createElement("div",{className:"report-instruction"},this.state.reportsLang.report_type_select),i.a.createElement("div",{className:"row"},i.a.createElement("input",{type:"text",name:"age",value:this.state.age,className:"report-input input_number",autoComplete:"off",onChange:this.handleInputChange,placeholder:"age",defaultValue:""})),i.a.createElement(me.a,{to:"/reports",className:"report-btn common-btn",id:"back_report"},this.state.reportsLang.report_back_button," ",i.a.createElement("i",{className:"fa fa-arrow-left"})),"                      ",i.a.createElement("button",{className:"report-btn common-btn pull-right",onClick:this.handleSubmit,id:"saveReport"},"  ",this.state.id?this.state.reportsLang.report_update_report_button:this.state.reportsLang.report_create_report_button,i.a.createElement("i",{className:"fa fa-check"})),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock full-width":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.globalLang.loading_please_wait_text))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};return void 0!=e.ReportTypes&&e.ReportTypes!=t.ReportsDataChild?(a.ReportsDataChild=e.ReportTypes,a.AllReportTypes=e.ReportTypes.data,a.showLoader=!1,a.report_array=e.ReportTypes.data,t.id&&(a.age=a.AllReportTypes.report_details.variable1),a):null}}]),t}(n.Component));var Ch=Object(Z.b)(function(e){return JSON.parse(localStorage.getItem("languageData")),"GET_type S"!==e.ReportsReducer.action?{}:200===e.ReportsReducer.data.status?{ReportsTypes:e.ReportsReducer.data}:void 0},function(e){return Object(c.bindActionCreators)({createReports:Hp,getReportTypes:Yp,updateReports:Gp},e)})(Object(de.a)(wh)),xh=(Q.a.create(),function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,s="checkbox"===t.type?t.checked:t.value;a.setState(Object(se.a)({},e.target.name,s))},a.onSort=function(e){var t="asc"===a.props.sortorder?"desc":"asc",s={params:{page:1,pagesize:a.props.pagesize,sortby:e,sortorder:t,term:a.props.term}};a.setState({page:1,pagesize:a.props.pagesize,sortby:e,sortorder:t,loadMore:!0,startFresh:!0,showLoader:!0,next_page_url:"",ReportsData:[]}),localStorage.setItem("sortOnly",!0),a.props.createReports(s)},a.handleSelectChange=function(e){a.setState({selectedReferralOptions:e})},a.loadMore=function(){localStorage.setItem("sortOnly",!1),a.setState({loadMore:!0,startFresh:!0,showLoader:!1,showLoadingText:!0});a.props.page,a.props.pagesize,a.props.sortorder,a.props.term,a.props.action;a.setState({showLoader:!0})},a.inventoryEdit=function(e,t){return i.a.createElement("div",{className:"no-display"},"//",a.props.history.push("/inventory/products/categories/".concat(t,"/edit")))},a.handleSubmit=function(e){e.preventDefault(),localStorage.setItem("sortOnly",!0);var t=0;void 0!=a.state.selectedReferralOptions&&(t=a.state.selectedReferralOptions.value);var s={report_type:a.props.type,report_name:a.props.name,report_category:a.props.category,referral_source:t};a.setState({page:1,pagesize:a.state.pagesize,sortorder:"asc"==a.state.sortorder?"desc":"asc",startFresh:!0,loadMore:!0,next_page_url:"",ReportsData:[]}),a.setState({showLoader:!0,filterValue:"false"}),null!=a.state.id?(a.props.updateReports(s,a.state.id),a.setState({showLoader:!1})):(a.props.createReports(s),a.setState({showLoader:!1}))},a.showDeleteModal=function(){a.setState({showModal:!0})},a.dismissModal=function(){a.setState({showModal:!1})},a.deleteClinic=function(){a.setState({showLoader:!0,hideBtns:!0}),a.dismissModal()},a.reportData=function(e){e.currentTarget.dataset.href;a.setState({reportIdData:e.currentTarget.dataset.href})},a.accordion=function(e){var t=e.currentTarget.dataset.href;if(t){var s=a.props.accordion;s[t]?s[t]=!s[t]:s[t]=!0,a.setState({accordionList:s})}a.setState({titleClass:"juvly-accordion-title active",contentClass:"juvly-accordion-content open"})},a.handleHideShow=function(e){var t=e.currentTarget.dataset.report_category,s=e.currentTarget.dataset.id;a.setState({firstAccordionClass:"juvly-accordion 1 no-display",secondAccordionClass:"juvly-accordion 2 no-display",thirdAccordionClass:"juvly-accordion 3 no-display",fourthAccordionClass:"juvly-accordion 4 no-display",report_category:t,type:s})},a.handleChange1=function(e){a.setState({select_Default_Report:e,selectedOption:e})};JSON.parse(localStorage.getItem("userData"));var s=JSON.parse(localStorage.getItem("languageData"));return a.state={loadMore:!0,startFresh:!0,showLoader:!1,page:1,pagesize:15,term:"",hasMoreItems:!0,next_page_url:"",ReportsTypes:[],globalLang:s.global,reportsLang:s.reports,showLoadingText:!1,ReportsDataList:[],reportIdData:null,firstAccordionClass:"juvly-accordion 1",secondAccordionClass:"juvly-accordion 2",thirdAccordionClass:"juvly-accordion 3",fourthAccordionClass:"juvly-accordion 4",accordion:{},report_category:"",type:null,report_name:"",defaultOptions1:[],options1:null,ReportProducts:[],selectedOption:null,select_Default_Report:[],ReportsDataChild:[],clinics_array:[],AllReportTypes:[],report_array:[],referral_source:"",editType:e.type,id:e.match.params.id,referralOptions:[],selectedReferralOptions:[]},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),window.onscroll=function(){var e=parseInt(Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop));window.innerHeight+e===document.documentElement.offsetHeight&&null!=a.props.next_page_url&&a.loadMore()},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e=[];e.push({value:"",label:"Select"}),e.push({value:"fb",label:"FB"}),e.push({value:"google",label:"Google"}),e.push({value:"instagram",label:"Instagram"}),e.push({value:"yelp",label:"Yelp"});this.props.to_date,this.props.from_date,this.props.pagesize;this.setState({showLoader:!0,page:1,pagesize:this.props.pagesize,loadMore:!0,startFresh:!0,next_page_url:"",ReportsData:[],ReportsTypes:[],ReportsDataList:[],referralOptions:e}),this.state.id?(this.setState({showLoader:!0}),this.props.getReportTypes({},this.state.id)):(this.setState({showLoader:!0}),this.props.getReportTypes({},0))}},{key:"render",value:function(){var e=[];void 0!=this.state.AllReportTypes&&void 0!=this.state.AllReportTypes.services&&this.state.AllReportTypes.services.length>0&&this.state.AllReportTypes.services.map(function(t,a){e.push({value:t.id,label:t.name})}),void 0!=this.props.AllReportTypes&&this.props.AllReportTypes.services.length>0&&this.props.AllReportTypes.map(function(e,t){return{value:e.id,label:e.name}});var t=[];return t.push({value:"",label:"Select"}),t.push({value:"fb",label:"FB"}),t.push({value:"google",label:"Google"}),t.push({value:"instagram",label:"Instagram"}),t.push({value:"yelp",label:"Yelp"}),i.a.createElement("div",{style:{opacity:"1"},className:"report-question-outer report-filling  fill-report no-padding","data-id":17},i.a.createElement("div",{className:"report-question"},"Clients who have referral source ",i.a.createElement("span",{className:"empty-place fill1"},this.state.referral_source)),i.a.createElement("div",{className:"report-instruction"},this.state.reportsLang.report_type_select),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"custom-select col-sm-12 select1"},i.a.createElement("input",{type:"text",className:"search-selectbox firstText",autoComplete:"off"}),this.state.referralOptions&&i.a.createElement(un.a,{placeholder:"Type to search",name:"referral_source",value:this.state.referral_source,onChange:this.handleSelectChange,style:{display:"block"},options:this.state.referralOptions}))),i.a.createElement("input",{type:"hidden",name:"report_category",defaultValue:"client"}),i.a.createElement("input",{type:"hidden",name:"referral_source",defaultValue:"",className:"sel_in"}),i.a.createElement(me.a,{to:"/reports",className:"report-btn common-btn",id:"back_report"},this.state.reportsLang.report_back_button," ",i.a.createElement("i",{className:"fa fa-arrow-left"})),"                      ",i.a.createElement("button",{className:"report-btn common-btn pull-right",onClick:this.handleSubmit,id:"saveReport"},"  ",this.state.id?this.state.reportsLang.report_update_report_button:this.state.reportsLang.report_create_report_button,i.a.createElement("i",{className:"fa fa-check"})),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock full-width":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.globalLang.loading_please_wait_text))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};return void 0!=e.ReportTypes&&e.ReportTypes!=t.ReportsDataChild?(a.ReportsDataChild=e.ReportTypes,a.AllReportTypes=e.ReportTypes.data,a.showLoader=!1,a.report_array=e.ReportTypes.data,t.id&&(a.referral_source=a.AllReportTypes.report_details.variable1),a):null}}]),t}(n.Component));var Lh=Object(Z.b)(function(e){return JSON.parse(localStorage.getItem("languageData")),"GET_type S"!==e.ReportsReducer.action?{}:200===e.ReportsReducer.data.status?{ReportsTypes:e.ReportsReducer.data}:void 0},function(e){return Object(c.bindActionCreators)({createReports:Hp,getReportTypes:Yp,updateReports:Gp},e)})(Object(de.a)(xh)),Oh=(Q.a.create(),function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,s="checkbox"===t.type?t.checked:t.value;a.setState(Object(se.a)({},e.target.name,s))},a.onSort=function(e){var t="asc"===a.props.sortorder?"desc":"asc",s={params:{page:1,pagesize:a.props.pagesize,sortby:e,sortorder:t,term:a.props.term}};a.setState({page:1,pagesize:a.props.pagesize,sortby:e,sortorder:t,loadMore:!0,startFresh:!0,showLoader:!0,next_page_url:"",ReportsData:[]}),localStorage.setItem("sortOnly",!0),a.props.createReports(s)},a.loadMore=function(){localStorage.setItem("sortOnly",!1),a.setState({loadMore:!0,startFresh:!0,showLoader:!1,showLoadingText:!0});a.props.page,a.props.pagesize,a.props.sortorder,a.props.term,a.props.action;a.setState({showLoader:!0})},a.inventoryEdit=function(e,t){return i.a.createElement("div",{className:"no-display"},"//",a.props.history.push("/inventory/products/categories/".concat(t,"/edit")))},a.handleSubmit=function(e){e.preventDefault(),localStorage.setItem("sortOnly",!0);var t=[];void 0!=a.state.selectedOption&&a.state.selectedOption.length>0&&(t=a.state.selectedOption.map(function(e,t){return e.id})),t.length||a.state.report_array.length&&void 0!=a.state.selectedOption&&a.state.selectedOption.length&&a.state.selectedOption.map(function(e,s){a.state.report_array.indexOf(e.id)>-1&&t.push(e.id)});var s={report_type:a.props.type,report_name:a.props.name,report_category:a.props.category,provider_id:t.join(",")};a.setState({page:1,pagesize:a.state.pagesize,sortorder:"asc"==a.state.sortorder?"desc":"asc",startFresh:!0,loadMore:!0,next_page_url:"",ReportsData:[]}),a.setState({showLoader:!0,filterValue:"false"}),null!=a.state.id?(a.props.updateReports(s,a.state.id),a.setState({showLoader:!1})):(a.props.createReports(s),a.setState({showLoader:!1}))},a.showDeleteModal=function(){a.setState({showModal:!0})},a.dismissModal=function(){a.setState({showModal:!1})},a.deleteClinic=function(){a.setState({showLoader:!0,hideBtns:!0}),a.dismissModal()},a.reportData=function(e){e.currentTarget.dataset.href;a.setState({reportIdData:e.currentTarget.dataset.href})},a.accordion=function(e){var t=e.currentTarget.dataset.href;if(t){var s=a.props.accordion;s[t]?s[t]=!s[t]:s[t]=!0,a.setState({accordionList:s})}a.setState({titleClass:"juvly-accordion-title active",contentClass:"juvly-accordion-content open"})},a.handleHideShow=function(e){var t=e.currentTarget.dataset.report_category,s=e.currentTarget.dataset.id;a.setState({firstAccordionClass:"juvly-accordion 1 no-display",secondAccordionClass:"juvly-accordion 2 no-display",thirdAccordionClass:"juvly-accordion 3 no-display",fourthAccordionClass:"juvly-accordion 4 no-display",report_category:t,type:s})},a.handleChange1=function(e,t){if("select-option"==t.action){var s=a.state.selectedOption;a.state.AllReportTypes.providers;a.state.AllReportTypes.providers.map(function(e,n){if(e.id==t.option.value)return s.push(e),void a.setState({selectedOption:s})})}else if("remove-value"==t.action){var n=a.state.selectedOption,i=n.findIndex(function(e){return e.id===t.removedValue.value});n.splice(i,1),a.setState({selectedOption:n})}};JSON.parse(localStorage.getItem("userData"));var s=JSON.parse(localStorage.getItem("languageData"));return a.state={loadMore:!0,startFresh:!0,showLoader:!1,page:1,pagesize:15,term:"",hasMoreItems:!0,next_page_url:"",ReportsTypes:[],globalLang:s.global,reportsLang:s.reports,showLoadingText:!1,ReportsDataList:[],reportIdData:null,firstAccordionClass:"juvly-accordion 1",secondAccordionClass:"juvly-accordion 2",thirdAccordionClass:"juvly-accordion 3",fourthAccordionClass:"juvly-accordion 4",accordion:{},report_category:"",type:null,report_name:"",defaultOptions:[],options:null,ReportProducts:[],selectedOption:[],select_Default_Report:[],ReportsDataChild:[],clinics_array:[],AllReportTypes:[],report_array:[],editType:e.type,id:e.match.params.id},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),window.onscroll=function(){var e=parseInt(Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop));window.innerHeight+e===document.documentElement.offsetHeight&&null!=a.props.next_page_url&&a.loadMore()},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){this.props.to_date,this.props.from_date,this.props.pagesize;this.setState({showLoader:!0,page:1,pagesize:this.props.pagesize,loadMore:!0,startFresh:!0,next_page_url:"",ReportsData:[],ReportsTypes:[],ReportsDataList:[]}),this.state.id?(this.setState({showLoader:!0}),this.props.getReportTypes({},this.state.id)):(this.setState({showLoader:!0}),this.props.getReportTypes({},0))}},{key:"render",value:function(){var e=[],t=[],a=[];return e=[],this.state.selectedOption.map(function(t,s){e.push({value:t.id,label:t.firstname}),a.push(t.firstname)}),void 0!=this.state.AllReportTypes&&this.state.AllReportTypes.providers.length>0&&(t=this.state.AllReportTypes.providers.map(function(e,t){return{value:e.id,label:e.firstname+" "+e.lastname}})),i.a.createElement("div",{style:{opacity:"1"},className:"report-question-outer report-filling  fill-report no-padding","data-id":18},i.a.createElement("div",{className:"report-question"},"Average sale per ",i.a.createElement("span",{className:"empty-place fill1"},a.join(",")," "),"provider"),i.a.createElement("div",{className:"report-instruction"},this.state.reportsLang.report_type_select),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"custom-select col-sm-12 select1"},i.a.createElement("input",{type:"text",className:"search-selectbox firstText",style:{display:"block"},autoComplete:"off"}),t&&i.a.createElement(un.a,{placeholder:"Type to search",onChange:this.handleChange1,value:e,isClearable:!0,isSearchable:!0,options:t,isMulti:!0}))),i.a.createElement("input",{type:"hidden",name:"report_category",defaultValue:"provider"}),i.a.createElement("input",{type:"hidden",name:"provider_id",defaultValue:"",className:"sel_in"}),i.a.createElement(me.a,{to:"/reports",className:"report-btn common-btn",id:"back_report"},this.state.reportsLang.report_back_button," ",i.a.createElement("i",{className:"fa fa-arrow-left"})),i.a.createElement("button",{className:"report-btn common-btn pull-right",onClick:this.handleSubmit,id:"saveReport"},"  ",this.state.id?this.state.reportsLang.report_update_report_button:this.state.reportsLang.report_create_report_button,i.a.createElement("i",{className:"fa fa-check"})),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock full-width":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.globalLang.loading_please_wait_text))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};if(void 0!=e.ReportTypes&&e.ReportTypes!=t.ReportsDataChild){if(a.ReportsDataChild=e.ReportTypes,a.AllReportTypes=e.ReportTypes.data,a.showLoader=!1,a.report_array=e.ReportTypes.data,t.id){var s=[];void 0!=a.AllReportTypes.report_details&&a.AllReportTypes.providers.map(function(e,t){a.AllReportTypes.report_details.variable1.indexOf(",")>-1?a.AllReportTypes.report_details.variable1.split(",").map(function(t,a){t==e.id&&s.push(e)}):a.AllReportTypes.report_details.variable1==e.id&&s.push(e)}),a.selectedOption=s}return a}return null}}]),t}(n.Component));var Ah=Object(Z.b)(function(e){return JSON.parse(localStorage.getItem("languageData")),"GET_type S"!==e.ReportsReducer.action?{}:200===e.ReportsReducer.data.status?{ReportsTypes:e.ReportsReducer.data}:void 0},function(e){return Object(c.bindActionCreators)({createReports:Hp,getReportTypes:Yp,updateReports:Gp},e)})(Object(de.a)(Oh)),Th=(Q.a.create(),function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,s="checkbox"===t.type?t.checked:t.value;a.setState(Object(se.a)({},e.target.name,s))},a.onSort=function(e){var t="asc"===a.props.sortorder?"desc":"asc",s={params:{page:1,pagesize:a.props.pagesize,sortby:e,sortorder:t,term:a.props.term}};a.setState({page:1,pagesize:a.props.pagesize,sortby:e,sortorder:t,loadMore:!0,startFresh:!0,showLoader:!0,next_page_url:"",ReportsData:[]}),localStorage.setItem("sortOnly",!0),a.props.createReports(s)},a.loadMore=function(){localStorage.setItem("sortOnly",!1),a.setState({loadMore:!0,startFresh:!0,showLoader:!1,showLoadingText:!0});a.props.page,a.props.pagesize,a.props.sortorder,a.props.term,a.props.action;a.setState({showLoader:!0})},a.handleSubmit=function(e){e.preventDefault(),localStorage.setItem("sortOnly",!0);var t=[];void 0!=a.state.selectedOption&&a.state.selectedOption.length>0&&(t=a.state.selectedOption.map(function(e,t){return e.id})),t.length||a.state.report_array.length&&void 0!=a.state.selectedOption&&a.state.selectedOption.length&&a.state.selectedOption.map(function(e,s){a.state.report_array.indexOf(e.id)>-1&&t.push(e.id)});var s={report_type:a.props.type,report_name:a.props.name,report_category:a.props.category,provider_id:t.join(",")};a.setState({page:1,pagesize:a.state.pagesize,sortorder:"asc"==a.state.sortorder?"desc":"asc",startFresh:!0,loadMore:!0,next_page_url:"",ReportsData:[]}),a.setState({showLoader:!0,filterValue:"false"}),null!=a.state.id?(a.props.updateReports(s,a.state.id),a.setState({showLoader:!1})):(a.props.createReports(s),a.setState({showLoader:!1}))},a.showDeleteModal=function(){a.setState({showModal:!0})},a.dismissModal=function(){a.setState({showModal:!1})},a.deleteClinic=function(){a.setState({showLoader:!0,hideBtns:!0}),a.dismissModal()},a.reportData=function(e){e.currentTarget.dataset.href;a.setState({reportIdData:e.currentTarget.dataset.href})},a.accordion=function(e){var t=e.currentTarget.dataset.href;if(t){var s=a.props.accordion;s[t]?s[t]=!s[t]:s[t]=!0,a.setState({accordionList:s})}a.setState({titleClass:"juvly-accordion-title active",contentClass:"juvly-accordion-content open"})},a.handleHideShow=function(e){var t=e.currentTarget.dataset.report_category,s=e.currentTarget.dataset.id;a.setState({firstAccordionClass:"juvly-accordion 1 no-display",secondAccordionClass:"juvly-accordi;on 2 no-display",thirdAccordionClass:"juvly-accordion 3 no-display",fourthAccordionClass:"juvly-accordion 4 no-display",report_category:t,type:s})},a.handleChange1=function(e,t){if("select-option"==t.action){var s=a.state.selectedOption;a.state.AllReportTypes.providers;a.state.AllReportTypes.providers.map(function(e,n){if(e.id==t.option.value)return s.push(e),void a.setState({selectedOption:s})})}else if("remove-value"==t.action){var n=a.state.selectedOption,i=n.findIndex(function(e){return e.id===t.removedValue.value});n.splice(i,1),a.setState({selectedOption:n})}};JSON.parse(localStorage.getItem("userData"));var s=JSON.parse(localStorage.getItem("languageData"));return a.state={loadMore:!0,startFresh:!0,showLoader:!1,page:1,pagesize:15,term:"",hasMoreItems:!0,next_page_url:"",ReportsTypes:[],globalLang:s.global,reportsLang:s.reports,showLoadingText:!1,ReportsDataList:[],reportIdData:null,firstAccordionClass:"juvly-accordion 1",secondAccordionClass:"juvly-accordion 2",thirdAccordionClass:"juvly-accordion 3",fourthAccordionClass:"juvly-accordion 4",accordion:{},report_category:"",type:null,report_name:"",defaultOptions:[],options:null,ReportProducts:[],selectedOption:[],select_Default_Report:[],ReportsDataChild:[],clinics_array:[],AllReportTypes:[],report_array:[],editType:e.type,id:e.match.params.id},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),window.onscroll=function(){var e=parseInt(Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop));window.innerHeight+e===document.documentElement.offsetHeight&&null!=a.props.next_page_url&&a.loadMore()},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){this.props.to_date,this.props.from_date,this.props.pagesize;this.setState({showLoader:!0,page:1,pagesize:this.props.pagesize,loadMore:!0,startFresh:!0,next_page_url:"",ReportsData:[],ReportsTypes:[],ReportsDataList:[]}),this.state.id?(this.setState({showLoader:!0}),this.props.getReportTypes({},this.state.id)):(this.setState({showLoader:!0}),this.props.getReportTypes({},0))}},{key:"render",value:function(){var e=[],t=[],a=[];return e=[],this.state.selectedOption.map(function(t,s){e.push({value:t.id,label:t.firstname}),a.push(t.firstname)}),void 0!=this.state.AllReportTypes&&this.state.AllReportTypes.providers.length>0&&(t=this.state.AllReportTypes.providers.map(function(e,t){return{value:e.id,label:e.firstname+" "+e.lastname}})),i.a.createElement("div",{style:{opacity:"1"},className:"report-question-outer report-filling  fill-report no-padding","data-id":19},i.a.createElement("div",{className:"report-question"},"Total no of appointment hours worked"," ",i.a.createElement("span",{className:"empty-place fill1"},a.join(",")," ")," ","provider per month"),i.a.createElement("div",{className:"report-instruction"},this.state.reportsLang.report_type_select),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"custom-select col-sm-12 select1"},i.a.createElement("input",{type:"text",className:"search-selectbox firstText",autoComplete:"off",style:{display:"block"}}),t&&i.a.createElement(un.a,{placeholder:"Type to search",onChange:this.handleChange1,value:e,isClearable:!0,isSearchable:!0,options:t,isMulti:!0}))),i.a.createElement("input",{type:"hidden",name:"report_category",defaultValue:"provider",autoComplete:"off"}),i.a.createElement("input",{type:"hidden",name:"provider_id",defaultValue:"",className:"sel_in",autoComplete:"off"}),i.a.createElement(me.a,{to:"/reports",className:"report-btn common-btn",id:"back_report"},this.state.reportsLang.report_back_button," ",i.a.createElement("i",{className:"fa fa-arrow-left"})),i.a.createElement("button",{className:"report-btn common-btn pull-right",onClick:this.handleSubmit,id:"saveReport"},this.state.id?this.state.reportsLang.report_update_report_button:this.state.reportsLang.report_create_report_button,i.a.createElement("i",{className:"fa fa-check"})),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock full-width":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.globalLang.loading_please_wait_text))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};if(void 0!=e.ReportTypes&&e.ReportTypes!=t.ReportsDataChild){if(a.ReportsDataChild=e.ReportTypes,a.AllReportTypes=e.ReportTypes.data,a.showLoader=!1,a.report_array=t.userChanged?t.report_array:e.ReportTypes.data,t.id){var s=[];void 0!=a.AllReportTypes.report_details&&a.AllReportTypes.providers.map(function(e,t){a.AllReportTypes.report_details.variable1.indexOf(",")>-1?a.AllReportTypes.report_details.variable1.split(",").map(function(t,a){t==e.id&&s.push(e)}):a.AllReportTypes.report_details.variable1==e.id&&s.push(e)}),a.selectedOption=s}return a}return null}}]),t}(n.Component));var Ih=Object(Z.b)(function(e){return JSON.parse(localStorage.getItem("languageData")),"GET_type S"!==e.ReportsReducer.action?{}:200===e.ReportsReducer.data.status?{ReportsTypes:e.ReportsReducer.data}:void 0},function(e){return Object(c.bindActionCreators)({createReports:Hp,getReportTypes:Yp,updateReports:Gp},e)})(Object(de.a)(Th)),Rh=(Q.a.create(),function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,s="checkbox"===t.type?t.checked:t.value;a.setState(Object(se.a)({},e.target.name,s))},a.onSort=function(e){var t="asc"===a.state.sortorder?"desc":"asc",s={params:{page:1,pagesize:a.state.pagesize,sortby:e,sortorder:t,term:a.state.term}};a.setState({page:1,pagesize:a.state.pagesize,sortby:e,sortorder:t,loadMore:!0,startFresh:!0,showLoader:!0,next_page_url:"",ReportsData:[]}),localStorage.setItem("sortOnly",!0),a.props.createReports(s)},a.loadMore=function(){localStorage.setItem("sortOnly",!1),a.setState({loadMore:!0,startFresh:!0,showLoader:!1,showLoadingText:!0});a.state.page,a.state.pagesize,a.state.sortorder,a.state.term,a.state.action;a.setState({showLoader:!0})},a.showDeleteModal=function(){a.setState({showModal:!0})},a.dismissModal=function(){a.setState({showModal:!1})},a.deleteClinic=function(){a.setState({showLoader:!0,hideBtns:!0}),a.dismissModal()},a.reportData=function(e){e.currentTarget.dataset.href;a.setState({reportIdData:e.currentTarget.dataset.href})},a.accordion=function(e){var t=e.currentTarget.dataset.href;if(console.log("id",t),t){var s=a.state.accordion;console.log("list",s),s[t]?(console.log("both",s[t]),s[t]=!s[t]):s[t]=!0,a.setState({accordionList:s}),console.log(a.state.accordionList)}a.setState({titleClass:"juvly-accordion-title active",contentClass:"juvly-accordion-content open"})},a.handleHideShow=function(e){var t=e.currentTarget.dataset.report_category,s=e.currentTarget.dataset.id;a.setState({firstAccordionClass:"juvly-accordion  1 no-display",secondAccordionClass:"juvly-accordion 2 no-display",thirdAccordionClass:"juvly-accordion  3 no-display",fourthAccordionClass:"juvly-accordion 4 no-display",report_category:t,report_type:s,report_name_class:"report-question-outer report-name no-padding"})},a.handleCheck=function(){a.setState({report_click:!0})},a.handleChange=function(e){a.setState({select_Default_Clinic:e,selectedOption:e})},a.handleSubmit=function(){a.setState({report_name_error:!1}),void 0!==typeof a.state.report_name&&null!==a.state.report_name&&""!==a.state.report_name.trim()||a.setState({report_name_error:!0})};JSON.parse(localStorage.getItem("userData"));var s=JSON.parse(localStorage.getItem("languageData"));return a.state={loadMore:!0,startFresh:!0,showLoader:!1,page:1,pagesize:15,term:"",hasMoreItems:!0,next_page_url:"",searchFunction:"",user_changed:!1,tabClicked:!1,action:e.match.params.statusId,sortorder:"asc",scopes:"category",ReportsData:[],ReportsTypes:[],globalLang:s.global,reportsLang:s.reports,showLoadingText:!1,ReportsDataList:[],reportIdData:null,firstAccordionClass:"juvly-accordion 1",secondAccordionClass:"juvly-accordion 2",thirdAccordionClass:"juvly-accordion 3",fourthAccordionClass:"juvly-accordion 4",accordion:{},report_category:"",report_type:null,report_name:"",defaultOptions:[],options:null,ReportProducts:[],selectedOption:null,select_Default_Clinic:[],report_click:!1,report_name_class:"report-question-outer report-name no-padding no-display "},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){this.state.to_date,this.state.from_date,this.state.pagesize;this.setState({page:1,pagesize:this.state.pagesize,loadMore:!0,startFresh:!0,next_page_url:"",ReportsData:[],ReportsTypes:[],ReportsDataList:[]});this.state.reportIdData;this.props.getReportTypes({},0)}},{key:"render",value:function(){var e,t,a,s,n,r,o,l,c,d,m,u,p,h,g,_,v,f=[];return void 0!=this.state.ReportProducts&&this.state.ReportProducts.length>0&&this.state.ReportProducts.map(function(e,t){f.push({value:e.id,label:e.product_name})}),void 0!=this.state.ReportProducts&&this.state.ReportProducts.length>0&&this.state.ReportProducts.map(function(e,t){return{value:e.id,label:e.product_name}}),i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-12"},i.a.createElement("div",{className:"merge-setion"},i.a.createElement("div",{className:"juvly-container bg-white-scetion"},i.a.createElement("div",{className:"juvly-title m-b-40"},"Select your Report",i.a.createElement(me.a,{to:"/reports",className:"pull-right cancelAction"},i.a.createElement("img",{src:"/images/close.png"}))),i.a.createElement("div",{className:"juvly-acco-main"},i.a.createElement("div",{className:this.state.firstAccordionClass},i.a.createElement("a",{className:this.state.accordion.accordion_1?"juvly-accordion-title active":"juvly-accordion-title","data-href":"accordion_1",onClick:this.accordion.bind(this)},this.state.reportsLang.report_type_products_header),i.a.createElement("div",{className:this.state.accordion.accordion_1?"juvly-accordion-content open":"juvly-accordion-content","data-id":"accordion_1",style:this.state.accordion.accordion_1?{display:"block"}:{display:"none"}},i.a.createElement("div",{className:"juvly-accordion-option",onClick:this.handleHideShow,"data-report_category":"service","data-id":1},i.a.createElement("div",{onClick:this.handleCheck,className:1==this.state.report_click?"juvly-accordion-select":"juvly-accordion-unselect"}),"Received _____________ treatment in ______________ days"),i.a.createElement("div",{className:"juvly-accordion-option",onClick:this.handleHideShow,"data-report_category":"service","data-id":2},i.a.createElement("div",{onClick:this.handleCheck,className:1==this.state.report_click?"juvly-accordion-select":"juvly-accordion-unselect"}),"People who received _____________ treatment but not _________________ treatment"),i.a.createElement("div",{className:"juvly-accordion-option",onClick:this.handleHideShow,"data-report_category":"service","data-id":3},i.a.createElement("div",{onClick:this.handleCheck,className:1==this.state.report_click?"juvly-accordion-select":"juvly-accordion-unselect"}),"People who booked free consultation but never purchased anything"),i.a.createElement("div",{className:"juvly-accordion-option",onClick:this.handleHideShow,"data-report_category":"service","data-id":4},i.a.createElement("div",{onClick:this.handleCheck,className:1==this.state.report_click?"juvly-accordion-select":"juvly-accordion-unselect"}),"Top 10 products of ____________ category Clinic wise"),i.a.createElement("div",{className:"juvly-accordion-option",onClick:this.handleHideShow,"data-report_category":"service","data-id":5},i.a.createElement("div",{onClick:this.handleCheck,className:1==this.state.report_click?"juvly-accordion-select":"juvly-accordion-unselect"}),"People who used at least ________ units of ______ product in any procedure"))),i.a.createElement("div",{className:this.state.secondAccordionClass},i.a.createElement("a",{className:this.state.accordion.accordion_2?"juvly-accordion-title active":"juvly-accordion-title","data-href":"accordion_2",onClick:this.accordion},this.state.reportsLang.report_type_appointments_header),i.a.createElement("div",{className:this.state.accordion.accordion_2?"juvly-accordion-content open":"juvly-accordion-content",id:"accordion_2",style:this.state.accordion.accordion_2?{display:"block"}:{display:"none"}},i.a.createElement("div",{className:"juvly-accordion-option",onClick:this.handleHideShow,"data-report_category":"appointment","data-id":6},i.a.createElement("div",{onClick:this.handleCheck,className:1==this.state.report_click?"juvly-accordion-select":"juvly-accordion-unselect"}),"Clients who have not visited in _______ days"),i.a.createElement("div",{className:"juvly-accordion-option",onClick:this.handleHideShow,"data-report_category":"appointment","data-id":7},i.a.createElement("div",{onClick:this.handleCheck,className:1==this.state.report_click?"juvly-accordion-select":"juvly-accordion-unselect"}),"Most loyal : Clients who have visited _______ times or more in the last ________ days"),i.a.createElement("div",{className:"juvly-accordion-option",onClick:this.handleHideShow,"data-report_category":"appointment","data-id":8},i.a.createElement("div",{onClick:this.handleCheck,className:1==this.state.report_click?"juvly-accordion-select":"juvly-accordion-unselect"}),"Top cancelers : Clients who have canceled booked appointments more than ______ times"),i.a.createElement("div",{className:"juvly-accordion-option",onClick:this.handleHideShow,"data-report_category":"appointment","data-id":9},i.a.createElement("div",{onClick:this.handleCheck,className:1==this.state.report_click?"juvly-accordion-select":"juvly-accordion-unselect"}),"Top no showers : Clients who have no showed more than _______ times"),i.a.createElement("div",{className:"juvly-accordion-option",onClick:this.handleHideShow,"data-report_category":"appointment","data-id":10},i.a.createElement("div",{onClick:this.handleCheck,className:1==this.state.report_click?"juvly-accordion-select":"juvly-accordion-unselect"}),"Clients have booked ____________ service in the last _____ days"),i.a.createElement("div",{className:"juvly-accordion-option",onClick:this.handleHideShow,"data-report_category":"appointment","data-id":11},i.a.createElement("div",{onClick:this.handleCheck,className:1==this.state.report_click?"juvly-accordion-select":"juvly-accordion-unselect"}),"Average days between booking __________ service and the actual appointment date"),i.a.createElement("div",{className:"juvly-accordion-option",onClick:this.handleHideShow,"data-report_category":"appointment","data-id":12},i.a.createElement("div",{onClick:this.handleCheck,className:1==this.state.report_click?"juvly-accordion-select":"juvly-accordion-unselect"}),"What days of the week is the following ___________ service booked more times (Mon - Sunday scale)"))),i.a.createElement("div",{className:this.state.thirdAccordionClass},i.a.createElement("a",{className:this.state.accordion.accordion_3?"juvly-accordion-title active":"juvly-accordion-title","data-href":"accordion_3",onClick:this.accordion},this.state.reportsLang.report_type_clients_header),i.a.createElement("div",{className:this.state.accordion.accordion_3?"juvly-accordion-content open":"juvly-accordion-content",id:"accordion_3",style:this.state.accordion.accordion_3?{display:"block"}:{display:"none"}},i.a.createElement("div",{className:"juvly-accordion-option",onClick:this.handleHideShow,"data-report_category":"client","data-id":13},i.a.createElement("div",{onClick:this.handleCheck,className:1==this.state.report_click?"juvly-accordion-select":"juvly-accordion-unselect"}),"High spenders : Clients who have spent more than _______ Dollars in the last _________ days / months / years"),i.a.createElement("div",{className:"juvly-accordion-option",onClick:this.handleHideShow,"data-report_category":"client","data-id":14},i.a.createElement("div",{onClick:this.handleCheck,className:1==this.state.report_click?"juvly-accordion-select":"juvly-accordion-unselect"}),"Top complainers : Clients who have received more than ________ no of refunds in __________ days / months / years"),i.a.createElement("div",{className:"juvly-accordion-option",onClick:this.handleHideShow,"data-report_category":"client","data-id":15},i.a.createElement("div",{onClick:this.handleCheck,className:1==this.state.report_click?"juvly-accordion-select":"juvly-accordion-unselect"}),"All men over _______ years of age"),i.a.createElement("div",{className:"juvly-accordion-option",onClick:this.handleHideShow,"data-report_category":"client","data-id":16},i.a.createElement("div",{onClick:this.handleCheck,className:1==this.state.report_click?"juvly-accordion-select":"juvly-accordion-unselect"}),"All women over ________ years of age"),i.a.createElement("div",{className:"juvly-accordion-option",onClick:this.handleHideShow,"data-report_category":"provider","data-id":17},i.a.createElement("div",{onClick:this.handleCheck,className:1==this.state.report_click?"juvly-accordion-select":"juvly-accordion-unselect"}),"Clients who have referral source __________"))),i.a.createElement("div",{className:this.state.fourthAccordionClass},i.a.createElement("a",{className:this.state.accordion.accordion_4?"juvly-accordion-title active":"juvly-accordion-title","data-href":"accordion_4",onClick:this.accordion},this.state.reportsLang.report_type_ProviderEmployee_header),i.a.createElement("div",{className:this.state.accordion.accordion_4?"juvly-accordion-content open":"juvly-accordion-content",id:"accordion_4",style:this.state.accordion.accordion_4?{display:"block"}:{display:"none"}},i.a.createElement("div",{className:"juvly-accordion-option",onClick:this.handleHideShow,"data-report_category":"provider","data-id":18},i.a.createElement("div",{onClick:this.handleCheck,className:1==this.state.report_click?"juvly-accordion-select":"juvly-accordion-unselect"}),"Average sale per __________ provider"),i.a.createElement("div",{className:"juvly-accordion-option",onClick:this.handleHideShow,"data-report_category":"provider","data-id":19},i.a.createElement("div",{onClick:this.handleCheck,className:1==this.state.report_click?"juvly-accordion-select":"juvly-accordion-unselect"}),"Total no of appointment hours worked ___________ provider per month"))),i.a.createElement("div",{className:this.state.report_name_class,style:{opacity:"1"}},i.a.createElement("div",{className:"report-question"},this.state.reportsLang.report_name_report),i.a.createElement("input",{type:"text",id:"report_name",name:"report_name",className:!0===this.state.report_name_error?"report-input field-error":"report-input",onChange:this.handleInputChange,autoComplete:"off",placeholder:"Type a report name...",value:this.state.report_name}),i.a.createElement("button",{onClick:this.handleSubmit,className:"report-btn ok-btn","data-report_btn":"1"},"OK ",i.a.createElement("i",{className:"fa fa-check"})),i.a.createElement("span",{className:"please-fill"},this.state.reportsLang.report_fill_report)),1==this.state.report_type?i.a.createElement(Kp,{ReportTypes:this.state.ReportsTypes,type:this.state.report_type,name:this.state.report_name,category:this.state.report_category}):"",2==this.state.report_type?i.a.createElement(Zp,(e={ReportTypes:this.state.ReportsTypes,type:this.state.report_type},Object(se.a)(e,"type",this.state.report_type),Object(se.a)(e,"name",this.state.report_name),Object(se.a)(e,"category",this.state.report_category),e)):"",3==this.state.report_type?i.a.createElement(eh,(t={ReportTypes:this.state.ReportsTypes,type:this.state.report_type},Object(se.a)(t,"type",this.state.report_type),Object(se.a)(t,"name",this.state.report_name),Object(se.a)(t,"category",this.state.report_category),t)):"",4==this.state.report_type?i.a.createElement(ah,(a={ReportTypes:this.state.ReportsTypes,type:this.state.report_type},Object(se.a)(a,"type",this.state.report_type),Object(se.a)(a,"name",this.state.report_name),Object(se.a)(a,"category",this.state.report_category),a)):"",5==this.state.report_type?i.a.createElement(nh,(s={ReportTypes:this.state.ReportsTypes,type:this.state.report_type},Object(se.a)(s,"type",this.state.report_type),Object(se.a)(s,"name",this.state.report_name),Object(se.a)(s,"category",this.state.report_category),s)):"",6==this.state.report_type?i.a.createElement(rh,(n={ReportTypes:this.state.ReportsTypes,type:this.state.report_type},Object(se.a)(n,"type",this.state.report_type),Object(se.a)(n,"name",this.state.report_name),Object(se.a)(n,"category",this.state.report_category),n)):"",7==this.state.report_type?i.a.createElement(lh,(r={ReportTypes:this.state.ReportsTypes,type:this.state.report_type},Object(se.a)(r,"type",this.state.report_type),Object(se.a)(r,"name",this.state.report_name),Object(se.a)(r,"category",this.state.report_category),r)):"",8==this.state.report_type?i.a.createElement(dh,(o={ReportTypes:this.state.ReportsTypes,type:this.state.report_type},Object(se.a)(o,"type",this.state.report_type),Object(se.a)(o,"name",this.state.report_name),Object(se.a)(o,"category",this.state.report_category),o)):"",9==this.state.report_type?i.a.createElement(uh,(l={ReportTypes:this.state.ReportsTypes,type:this.state.report_type},Object(se.a)(l,"type",this.state.report_type),Object(se.a)(l,"name",this.state.report_name),Object(se.a)(l,"category",this.state.report_category),l)):"",10==this.state.report_type?i.a.createElement(hh,(c={ReportTypes:this.state.ReportsTypes,type:this.state.report_type},Object(se.a)(c,"type",this.state.report_type),Object(se.a)(c,"name",this.state.report_name),Object(se.a)(c,"category",this.state.report_category),c)):"",11==this.state.report_type?i.a.createElement(_h,(d={ReportTypes:this.state.ReportsTypes,type:this.state.report_type},Object(se.a)(d,"type",this.state.report_type),Object(se.a)(d,"name",this.state.report_name),Object(se.a)(d,"category",this.state.report_category),d)):"",12==this.state.report_type?i.a.createElement(fh,(m={ReportTypes:this.state.ReportsTypes,type:this.state.report_type},Object(se.a)(m,"type",this.state.report_type),Object(se.a)(m,"name",this.state.report_name),Object(se.a)(m,"category",this.state.report_category),m)):"",13==this.state.report_type?i.a.createElement(Eh,(u={ReportTypes:this.state.ReportsTypes,type:this.state.report_type},Object(se.a)(u,"type",this.state.report_type),Object(se.a)(u,"name",this.state.report_name),Object(se.a)(u,"category",this.state.report_category),u)):"",14==this.state.report_type?i.a.createElement(Nh,(p={ReportTypes:this.state.ReportsTypes,type:this.state.report_type},Object(se.a)(p,"type",this.state.report_type),Object(se.a)(p,"name",this.state.report_name),Object(se.a)(p,"category",this.state.report_category),p)):"",15==this.state.report_type?i.a.createElement(Dh,(h={ReportTypes:this.state.ReportsTypes,type:this.state.report_type},Object(se.a)(h,"type",this.state.report_type),Object(se.a)(h,"name",this.state.report_name),Object(se.a)(h,"category",this.state.report_category),h)):"",16==this.state.report_type?i.a.createElement(Ch,(g={ReportTypes:this.state.ReportsTypes,type:this.state.report_type},Object(se.a)(g,"type",this.state.report_type),Object(se.a)(g,"name",this.state.report_name),Object(se.a)(g,"category",this.state.report_category),g)):"",17==this.state.report_type?i.a.createElement(Lh,(_={ReportTypes:this.state.ReportsTypes,type:this.state.report_type},Object(se.a)(_,"type",this.state.report_type),Object(se.a)(_,"name",this.state.report_name),Object(se.a)(_,"category",this.state.report_category),_)):"",18==this.state.report_type?i.a.createElement(Ah,(v={ReportTypes:this.state.ReportsTypes,type:this.state.report_type},Object(se.a)(v,"type",this.state.report_type),Object(se.a)(v,"name",this.state.report_name),Object(se.a)(v,"category",this.state.report_category),v)):"",19==this.state.report_type?i.a.createElement(Ih,{ReportTypes:this.state.ReportsTypes,type:this.state.report_type,name:this.state.report_name,category:this.state.report_category}):"",i.a.createElement("input",{type:"hidden",name:"report_category",value:"service",autoComplete:"off"}),i.a.createElement("input",{type:"hidden",id:"hidden_singleProducts",name:"product_id",value:"",className:"sel_in",autoComplete:"off"}),i.a.createElement("input",{type:"hidden",name:"days",value:"",className:"sel_in",autoComplete:"off"}))))))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock full-width":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.globalLang.loading_please_wait_text))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};return void 0!=e.ReportsTypes?(a.ReportsTypes=e.ReportsTypes,a.ReportProducts=e.ReportsTypes.data.products,a):null}}]),t}(n.Component));var kh=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData"));return"GET_REPORT_TYPES"===e.ReportsReducer.action&&200===e.ReportsReducer.data.status?{ReportsTypes:e.ReportsReducer.data}:("CREATE_REPORTS"===e.ReportsReducer.action&&(200===e.ReportsReducer.data.status?rt.toast.success(t.global[e.ReportsReducer.data.message]):rt.toast.error(t.global[e.ReportsReducer.data.message])),"DELETE_REPORTS"===e.ReportsReducer.action?(200==e.ReportsReducer.data.status?rt.toast.success(t.global[e.ReportsReducer.data.message]):rt.toast.error(t.global[e.ReportsReducer.data.message]),{}):{})},function(e){return Object(c.bindActionCreators)({createReports:Hp,getReportTypes:Yp},e)})(Object(de.a)(Rh)),Ph=(Q.a.create(),function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t,s=e.target,n="checkbox"===s.type?s.checked:s.value;a.setState((t={},Object(se.a)(t,e.target.name,n),Object(se.a)(t,"userChanged",!0),t))},a.onSort=function(e){var t="asc"===a.state.sortorder?"desc":"asc",s={params:{page:1,pagesize:a.state.pagesize,sortby:e,sortorder:t,term:a.state.term}};a.setState({page:1,pagesize:a.state.pagesize,sortby:e,sortorder:t,loadMore:!0,startFresh:!0,showLoader:!0,next_page_url:"",ReportsData:[]}),localStorage.setItem("sortOnly",!0),a.props.createReports(s)},a.loadMore=function(){localStorage.setItem("sortOnly",!1),a.setState({loadMore:!0,startFresh:!0,showLoader:!1,showLoadingText:!0});a.state.page,a.state.pagesize,a.state.sortorder,a.state.term,a.state.action},a.showDeleteModal=function(){a.setState({showModal:!0})},a.dismissModal=function(){a.setState({showModal:!1})},a.deleteClinic=function(){a.setState({showLoader:!0,hideBtns:!0}),a.dismissModal()},a.reportData=function(e){e.currentTarget.dataset.href;a.setState({reportIdData:e.currentTarget.dataset.href})},a.accordion=function(e){var t=e.currentTarget.dataset.href;if(t){var s=a.state.accordion;s[t]?s[t]=!s[t]:s[t]=!0,a.setState({accordionList:s})}a.setState({titleClass:"juvly-accordion-title active",contentClass:"juvly-accordion-content open"})},a.handleHideShow=function(e){var t=e.currentTarget.dataset.report_category,s=e.currentTarget.dataset.id;a.setState({firstAccordionClass:"juvly-accordion 1 no-display",secondAccordionClass:"juvly-accordion 2 no-display",thirdAccordionClass:"juvly-accordion 3 no-display",fourthAccordionClass:"juvly-accordion 4 no-display",report_category:t,report_type:s})},a.handleChange=function(e){a.setState({select_Default_Clinic:e,selectedOption:e})};JSON.parse(localStorage.getItem("userData"));var s=JSON.parse(localStorage.getItem("languageData"));return a.state={loadMore:!0,startFresh:!0,showLoader:!1,page:1,pagesize:15,term:"",hasMoreItems:!0,next_page_url:"",searchFunction:"",user_changed:!1,tabClicked:!1,action:e.match.params.statusId,sortorder:"asc",scopes:"category",ReportsData:[],ReportTypes:[],globalLang:s.global,reportsLang:s.reports,showLoadingText:!1,ReportsDataList:[],reportIdData:null,firstAccordionClass:"juvly-accordion 1",secondAccordionClass:"juvly-accordion 2",thirdAccordionClass:"juvly-accordion 3",fourthAccordionClass:"juvly-accordion 4",accordion:{},report_category:"",report_name:"",defaultOptions:[],options:null,ReportProducts:[],selectedOption:null,select_Default_Clinic:[],report_type:null,id:e.match.params.id,ReportName:[],ReportNameFetch:"",userChanged:!1},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),window.onscroll=function(){var e=parseInt(Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop));window.innerHeight+e===document.documentElement.offsetHeight&&null!=a.state.next_page_url&&a.loadMore()},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){this.state.to_date,this.state.from_date,this.state.pagesize;this.setState({page:1,pagesize:this.state.pagesize,startFresh:!0,next_page_url:"",ReportsData:[],ReportTypes:[],ReportsDataList:[]}),null!=this.state.id?this.props.getReportTypes({},this.state.id):this.props.getReportTypes({},0)}},{key:"render",value:function(){var e,t,a,s,n,r,o,l,c,d,m,u,p,h,g,_,v=[];return void 0!=this.state.ReportProducts&&this.state.ReportProducts.length>0&&this.state.ReportProducts.map(function(e,t){v.push({value:e.id,label:e.product_name})}),void 0!=this.state.ReportProducts&&this.state.ReportProducts.length>0&&this.state.ReportProducts.map(function(e,t){return{value:e.id,label:e.product_name}}),i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-12"},i.a.createElement("div",{className:"merge-setion"},i.a.createElement("div",{className:"juvly-container bg-white-scetion"},i.a.createElement(me.a,{to:"/reports",className:"pull-right cancelAction"},i.a.createElement("img",{src:"/images/close.png"})),i.a.createElement("div",{className:"juvly-acco-main"},i.a.createElement("div",{className:"report-question-outer report-name no-padding",style:{opacity:"1"}},i.a.createElement("div",{className:"report-question"},this.state.reportsLang.report_name_report),i.a.createElement("input",{type:"text",id:"report_name",name:"report_name",className:"report-input",onChange:this.handleInputChange,autoComplete:"off",placeholder:"Type a report name...",value:this.state.report_name}),i.a.createElement("button",{className:"report-btn ok-btn","data-report_btn":"1"},"OK ",i.a.createElement("i",{className:"fa fa-check"})),i.a.createElement("span",{className:"please-fill"},this.state.reportsLang.report_fill_report)),1==this.state.report_type?i.a.createElement(Kp,{ReportTypes:this.state.ReportTypes.data,type:this.state.report_type,name:this.state.report_name,category:this.state.report_category,id:this.state.id}):"",2==this.state.report_type?i.a.createElement(Zp,(e={ReportTypes:this.state.ReportTypes,type:this.state.report_type},Object(se.a)(e,"type",this.state.report_type),Object(se.a)(e,"name",this.state.report_name),Object(se.a)(e,"category",this.state.report_category),e)):"",3==this.state.report_type?i.a.createElement(eh,{ReportTypes:this.state.ReportTypes,type:this.state.report_type,name:this.state.report_name,category:this.state.report_category}):"",4==this.state.report_type?i.a.createElement(ah,(t={ReportTypes:this.state.ReportTypes,type:this.state.report_type},Object(se.a)(t,"type",this.state.report_type),Object(se.a)(t,"name",this.state.report_name),Object(se.a)(t,"category",this.state.report_category),t)):"",5==this.state.report_type?i.a.createElement(nh,(a={ReportTypes:this.state.ReportTypes,type:this.state.report_type},Object(se.a)(a,"type",this.state.report_type),Object(se.a)(a,"name",this.state.report_name),Object(se.a)(a,"category",this.state.report_category),a)):"",6==this.state.report_type?i.a.createElement(rh,(s={ReportTypes:this.state.ReportTypes,type:this.state.report_type},Object(se.a)(s,"type",this.state.report_type),Object(se.a)(s,"name",this.state.report_name),Object(se.a)(s,"category",this.state.report_category),s)):"",7==this.state.report_type?i.a.createElement(lh,(n={ReportTypes:this.state.ReportTypes,type:this.state.report_type},Object(se.a)(n,"type",this.state.report_type),Object(se.a)(n,"name",this.state.report_name),Object(se.a)(n,"category",this.state.report_category),n)):"",8==this.state.report_type?i.a.createElement(dh,(r={ReportTypes:this.state.ReportTypes,type:this.state.report_type},Object(se.a)(r,"type",this.state.report_type),Object(se.a)(r,"name",this.state.report_name),Object(se.a)(r,"category",this.state.report_category),r)):"",9==this.state.report_type?i.a.createElement(uh,(o={ReportTypes:this.state.ReportTypes,type:this.state.report_type},Object(se.a)(o,"type",this.state.report_type),Object(se.a)(o,"name",this.state.report_name),Object(se.a)(o,"category",this.state.report_category),o)):"",10==this.state.report_type?i.a.createElement(hh,(l={ReportTypes:this.state.ReportTypes,type:this.state.report_type},Object(se.a)(l,"type",this.state.report_type),Object(se.a)(l,"name",this.state.report_name),Object(se.a)(l,"category",this.state.report_category),l)):"",11==this.state.report_type?i.a.createElement(_h,(c={ReportTypes:this.state.ReportTypes,type:this.state.report_type},Object(se.a)(c,"type",this.state.report_type),Object(se.a)(c,"name",this.state.report_name),Object(se.a)(c,"category",this.state.report_category),c)):"",12==this.state.report_type?i.a.createElement(fh,(d={ReportTypes:this.state.ReportTypes,type:this.state.report_type},Object(se.a)(d,"type",this.state.report_type),Object(se.a)(d,"name",this.state.report_name),Object(se.a)(d,"category",this.state.report_category),d)):"",13==this.state.report_type?i.a.createElement(Eh,(m={ReportTypes:this.state.ReportTypes,type:this.state.report_type},Object(se.a)(m,"type",this.state.report_type),Object(se.a)(m,"name",this.state.report_name),Object(se.a)(m,"category",this.state.report_category),m)):"",14==this.state.report_type?i.a.createElement(Nh,(u={ReportTypes:this.state.ReportTypes,type:this.state.report_type},Object(se.a)(u,"type",this.state.report_type),Object(se.a)(u,"name",this.state.report_name),Object(se.a)(u,"category",this.state.report_category),u)):"",15==this.state.report_type?i.a.createElement(Dh,(p={ReportTypes:this.state.ReportTypes,type:this.state.report_type},Object(se.a)(p,"type",this.state.report_type),Object(se.a)(p,"name",this.state.report_name),Object(se.a)(p,"category",this.state.report_category),p)):"",16==this.state.report_type?i.a.createElement(Ch,(h={ReportTypes:this.state.ReportTypes,type:this.state.report_type},Object(se.a)(h,"type",this.state.report_type),Object(se.a)(h,"name",this.state.report_name),Object(se.a)(h,"category",this.state.report_category),h)):"",17==this.state.report_type?i.a.createElement(Lh,(g={ReportTypes:this.state.ReportTypes,type:this.state.report_type},Object(se.a)(g,"type",this.state.report_type),Object(se.a)(g,"name",this.state.report_name),Object(se.a)(g,"category",this.state.report_category),g)):"",18==this.state.report_type?i.a.createElement(Ah,(_={ReportTypes:this.state.ReportTypes,type:this.state.report_type},Object(se.a)(_,"type",this.state.report_type),Object(se.a)(_,"name",this.state.report_name),Object(se.a)(_,"category",this.state.report_category),_)):"",19==this.state.report_type?i.a.createElement(Ih,{ReportTypes:this.state.ReportTypes,type:this.state.report_type,name:this.state.report_name,category:this.state.report_category}):"",i.a.createElement("input",{type:"hidden",name:"report_category",value:""}),i.a.createElement("input",{type:"hidden",id:"hidden_singleProducts",name:"product_id",value:"",className:"sel_in"}),i.a.createElement("input",{type:"hidden",name:"days",value:"",className:"sel_in"}))))))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.globalLang.loading_please_wait_text))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};return void 0!=e.ReportTypes?(a.ReportTypes=e.ReportTypes,a.ReportName=e.ReportTypes.data,a.ReportProducts=e.ReportTypes.data.products,a.report_type=e.ReportTypes.data.report_details.report_type,a.report_category=e.ReportTypes.data.report_details.report_category,a.report_name=t.userChanged?t.report_name:e.ReportTypes.data.report_details.report_name,a):null}}]),t}(n.Component));var jh=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData"));return"GET_REPORT_TYPES"===e.ReportsReducer.action&&200===e.ReportsReducer.data.status?{ReportTypes:e.ReportsReducer.data}:"UPDATE_REPORTS"!==e.ReportsReducer.action?{}:void(200===e.ReportsReducer.data.status?rt.toast.success(t.global[e.ReportsReducer.data.message]):rt.toast.error(t.global[e.ReportsReducer.data.message]))},function(e){return Object(c.bindActionCreators)({updateReports:Gp,getReportTypes:Yp,fetchReports:qp},e)})(Object(de.a)(Ph)),Mh=Ee.API_URL,Uh=Q.a.create();function Fh(e){return function(t){Uh.get(Mh+"marketing/dashboard",e||"").then(function(e){t({type:"All_SURVEYS",payload:e.data})}).catch(function(e){console.log(e),t({type:"All_SURVEYS",payload:e.response.data})})}}function Bh(e){return function(t){Uh.get(Mh+"marketing/survey_list",e||"").then(function(e){t({type:"SURVEYS_LIST",payload:e.data})}).catch(function(e){console.log(e),t({type:"SURVEYS_LIST",payload:e.response.data})})}}function qh(e,t){return function(a){Uh.get(Mh+"marketing/survey_details/"+e,t||"").then(function(e){a({type:"SURVEYS_LIST_QUESTIONS",payload:e.data})}).catch(function(e){console.log(e),a({type:"SURVEYS_LIST_QUESTIONS",payload:e.response.data})})}}function Yh(e){return function(t){Uh.get(Mh+"survey",e||"").then(function(e){t({type:"SURVEYS_LISTING",payload:e.data})}).catch(function(e){console.log(e),t({type:"SURVEYS_LISTING",payload:e.response.data})})}}Uh.defaults.headers.common["access-token"]=xe(),Xe(),Uh.interceptors.response.use(function(e){return void 0!=e.data&&void 0!=e.data.global_settings&&He(e.data.global_settings),Xe(),e},function(e){if(e.response){var t=e.response.data.message;return"invalid_token"!=t&&"session_timeout"!=t&&"server_error"!=t&&"token_not_found"!=t||Oe(),Promise.reject(e)}return console.log(">>>>>>>>>"),{data:{data:"",message:"server_error",status:500}}});var Hh=function(e){return function(t){Uh.get(Mh+"get-survey-by-id/"+e).then(function(e){t({type:"SURVEY_TEMPLATE_DATA",payload:e.data})}).catch(function(e){t({type:"SURVEY_TEMPLATE_DATA",payload:e.response.data})})}},Gh=function(e){return function(t){Uh.post(Mh+"add-edit-survey/",e).then(function(e){t({type:"SAVE_SURVEY_TEMPLATE_DATA",payload:e.data})}).catch(function(e){t({type:"SAVE_SURVEY_TEMPLATE_DATA",payload:e.response.data})})}},Vh=function(e){return function(t){Uh.delete(Mh+"survey/"+e).then(function(e){t({type:"DELETE_SURVEY_TEMPLATE",payload:e.data})}).catch(function(e){t({type:"DELETE_SURVEY_TEMPLATE",payload:e.response.data})})}},zh=function(e){return function(t){Uh.get(Mh+"survey-published/"+e).then(function(e){t({type:"SURVEY_PUBLISH_STATUS",payload:e.data})}).catch(function(e){t({type:"SURVEY_PUBLISH_STATUS",payload:e.response.data})})}},Wh=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).toggleCalendar=function(e){if("calendar-input"===e.name||!1!==a.state.showCalendar){var t=!1;t=!1===a.state.showCalendar&&void 0!==e.name&&"calendar-input"===e.name,a.setState({showCalendar:t})}},a._handleFocusChange=function(e){a.setState({focusedInput:e})},a.handleRangeChange=function(e,t){var s,n=t.selection.startDate,i=t.selection.endDate;n=Object(ss.b)(n,"YYYY-MM-DD"),i=Object(ss.b)(i,"YYYY-MM-DD"),console.log(t),a.setState((s={},Object(se.a)(s,e,Object(m.a)({},a.state[e],t)),Object(se.a)(s,"showCalendar",!1),Object(se.a)(s,"from_date",n),Object(se.a)(s,"to_date",i),s)),console.log(n,i),a.handleSubmit(e,{from:n,to:i})},a.handleClick=function(e){a.node.contains(e.target)&&!0===a.state.showCalendar||a.toggleCalendar(e.target)},a.handleInputChange=function(e){var t=e.target,s="checkbox"===t.type?t.checked:t.value;a.setState(Object(se.a)({},e.target.name,s)),"object_name"===e.target.name&&a.handleSubmit(e,s)},a.handleSubmit=function(e,t){var s="",n="";console.log(typeof e),"object"===typeof e?e.preventDefault():(s=t.from,n=t.to);var i={params:{to:n||a.state.to_date,from:s||a.state.from_date}};a.setState({page:1,pagesize:a.state.pagesize,loadMore:!0,startFresh:!0,next_page_url:"",showLoader:!0,objectNames:[],userLogList:[],dataFiltered:!0}),a.props.fetchSurveys(i)};JSON.parse(localStorage.getItem("userData"));var s=JSON.parse(localStorage.getItem("languageData"));console.log(s.global);var n=new Date,i=new Date(n.getFullYear(),n.getMonth(),1),r=new Date(n.getFullYear(),n.getMonth()+1,0);return a.state={dateRangePicker:{selection:{startDate:i,endDate:r,key:"selection"}},to_date:Se()().endOf("month").format("YYYY-MM-DD"),from_date:Se()().startOf("month").format("YYYY-MM-DD"),showCalendar:!1,object_name:"",surveysList:[],satisfactionList:{},clinicScore:[],providerScore:[],serviceScore:[],focusedInput:null,showLoader:!1,globalLang:s.global},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("languageData"));this.setState({surveys_insights:e.surveys.surveys_insights,surveys_survey:e.surveys.surveys_survey,survey_stats:e.surveys.survey_stats,survey_sent:e.surveys.survey_sent,survey_submitted:e.surveys.survey_submitted,survey_high_satisfaction:e.surveys.survey_high_satisfaction,survey_average_satisfaction:e.surveys.survey_average_satisfaction,survey_score:e.surveys.survey_score,survey_nps_provider:e.surveys.survey_nps_provider,survey_nps_clinic:e.surveys.survey_nps_clinic,survey_nps_no:e.surveys.survey_nps_no,survey_nps_name:e.surveys.survey_nps_name,survey_view_all_survey_button:e.surveys.survey_view_all_survey_button,survey_nps_service:e.surveys.survey_nps_service,survey_low_satisfaction:e.surveys.survey_low_satisfaction,showLoader:!0}),document.addEventListener("click",this.handleClick,!1);var t={params:{to:this.state.to_date,from:this.state.from_date}};this.props.fetchSurveys(t)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClick,!1),this.props.exportEmptyData({})}},{key:"render",value:function(){var e=this,t=[];if(console.log(this.state.globalLang.survey_sorry_no_record_found),void 0!==this.state.clinicScore)for(var a in this.state.clinicScore){var s={};s.key=a,s.value=this.state.clinicScore[a],t.push(s)}var n=[];if(void 0!==this.state.providerScore)for(var r in this.state.providerScore){var o={};o.key=r,o.value=this.state.providerScore[r],n.push(o)}var l=[];if(void 0!==this.state.serviceScore)for(var c in this.state.serviceScore){var d={};d.key=c,d.value=this.state.serviceScore[c],l.push(d)}return i.a.createElement("div",{className:"main protected"},i.a.createElement("div",{id:"content"},i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement("ul",{className:"sub-menu"},i.a.createElement("li",null,i.a.createElement(me.a,{to:"/surveys/dashboard",className:"active"},this.state.surveys_insights)),i.a.createElement("li",null,i.a.createElement(me.a,{to:"/surveys/manage"},this.state.surveys_survey))),i.a.createElement("div",{className:"juvly-section full-width"},i.a.createElement("div",{className:"setting-search-outer"},i.a.createElement("div",{className:"search-bg new-calender pull-left",ref:function(t){e.node=t}},i.a.createElement("img",{src:as.a}),this.state.showCalendar&&i.a.createElement(Ia.DateRangePicker,{ranges:[this.state.dateRangePicker.selection],onChange:this.handleRangeChange.bind(this,"dateRangePicker"),className:"CalendarPreviewArea",maxDate:new Date}),i.a.createElement("input",{type:"text",className:"input-cal setting-search-input",name:"calendar-input",value:this.state.from_date?this.state.from_date+"-"+this.state.to_date:"",onChange:this.handleInputChange,autoComplete:"off"})),i.a.createElement("div",null),i.a.createElement(me.a,{to:"/surveys/dashboard/view-all",className:"new-blue-btn pull-right"},this.state.survey_view_all_survey_button)),i.a.createElement("div",{className:"bg-light-blue stats-outer"},i.a.createElement("div",{className:"juvly-title"},this.state.survey_stats),i.a.createElement("div",{className:"new-all-stats"},i.a.createElement("div",{className:"stats-section"},i.a.createElement("div",{className:"dash-box-title"},this.state.survey_sent),i.a.createElement("div",{className:"new-all-stats-content"},parseInt(this.state.surveysList.total_survey_count)>0?Ie(this.state.surveysList.total_survey_count):0)),i.a.createElement("div",{className:"stats-section"},i.a.createElement("div",{className:"dash-box-title"},this.state.survey_submitted),i.a.createElement("div",{className:"new-all-stats-content"},this.state.surveysList.submitted_percentage,i.a.createElement("span",{className:"stats-sub"},"(",this.state.surveysList.submitted_survey_count,")"))),i.a.createElement("div",{className:"stats-section"},i.a.createElement("div",{className:"dash-box-title"},this.state.survey_high_satisfaction),i.a.createElement("div",{className:"new-all-stats-content"},this.state.satisfactionList.high_satisfaction,i.a.createElement("span",{className:"stats-sub"},"(",this.state.satisfactionList.high_satisfaction_count,")"))),i.a.createElement("div",{className:"stats-section"},i.a.createElement("div",{className:"dash-box-title"},this.state.survey_average_satisfaction," "),i.a.createElement("div",{className:"new-all-stats-content"},this.state.satisfactionList.average_satisfaction,i.a.createElement("span",{className:"stats-sub"},"(",this.state.satisfactionList.average_satisfaction_count,")"))),i.a.createElement("div",{className:"stats-section"},i.a.createElement("div",{className:"dash-box-title"},this.state.survey_low_satisfaction),i.a.createElement("div",{className:"new-all-stats-content"},this.state.satisfactionList.low_satisfaction,i.a.createElement("span",{className:"stats-sub"},"(",this.state.satisfactionList.low_satisfaction_count,")"))))),i.a.createElement("div",{class:"setting-container no-padding-top"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-lg-4 col-xs-12"},i.a.createElement("div",{className:"NPS-title"},this.state.survey_nps_service),i.a.createElement("div",{className:"table-responsive fixed-header-table"},i.a.createElement("table",{className:"table-updated setting-table survey-table no-hover table-min-width table-fixed"},i.a.createElement("thead",{className:"table-updated-thead"},i.a.createElement("tr",null,i.a.createElement("th",{className:"col-xs-2 table-updated-th"},this.state.survey_nps_no),i.a.createElement("th",{className:"table-updated-th col-xs-7"},this.state.survey_nps_name),i.a.createElement("th",{className:"col-xs-3 table-updated-th"},this.state.survey_score))),i.a.createElement(vt.Scrollbars,{style:{height:217},className:"custome-scroll"},i.a.createElement("tbody",null,void 0!=this.state.serviceScore&&this.state.serviceScore.length>0&&this.state.serviceScore.map(function(e,t){return i.a.createElement("tr",{key:t,className:"table-updated-tr"},i.a.createElement("td",{className:"col-xs-2 table-updated-td"},++t),i.a.createElement("td",{className:"table-updated-td text-ellipsis col-xs-7"},e.name),i.a.createElement("td",{className:"col-xs-3 table-updated-td"},e.score))}),void 0!=this.state.serviceScore&&0==this.state.serviceScore.length&&i.a.createElement("tr",{className:"table-updated-tr"},i.a.createElement("td",{className:"no-record no-float",colSpan:3},this.state.globalLang.sorry_no_record_found))))))),i.a.createElement("div",{className:"col-lg-4 col-xs-12"},i.a.createElement("div",{className:"NPS-title"},this.state.survey_nps_provider),i.a.createElement("div",{className:"table-responsive fixed-header-table"},i.a.createElement("table",{className:"table-updated setting-table survey-table no-hover table-min-width table-fixed"},i.a.createElement("thead",{className:"table-updated-thead"},i.a.createElement("tr",null,i.a.createElement("th",{className:"col-xs-2 table-updated-th"},this.state.survey_nps_no),i.a.createElement("th",{className:"table-updated-th col-xs-7"},this.state.survey_nps_name),i.a.createElement("th",{className:"col-xs-3 table-updated-th"},this.state.survey_score))),i.a.createElement(vt.Scrollbars,{style:{height:217},className:"custome-scroll"},i.a.createElement("tbody",null,void 0!=this.state.providerScore&&this.state.providerScore.length>0&&this.state.providerScore.map(function(e,t){return i.a.createElement("tr",{key:t,className:"table-updated-tr"},i.a.createElement("td",{className:"col-xs-2 table-updated-td"},++t),i.a.createElement("td",{className:"table-updated-td text-ellipsis col-xs-7"},e.name),i.a.createElement("td",{className:"col-xs-3 table-updated-td"},e.score))}),void 0!=this.state.serviceScore&&0==this.state.serviceScore.length&&i.a.createElement("tr",{className:"table-updated-tr"},i.a.createElement("td",{className:"no-record no-float",colSpan:3},this.state.globalLang.sorry_no_record_found))))))),i.a.createElement("div",{className:"col-lg-4 col-xs-12"},i.a.createElement("div",{className:"NPS-title"},this.state.survey_nps_clinic),i.a.createElement("div",{className:"table-responsive fixed-header-table"},i.a.createElement("table",{className:"table-updated setting-table survey-table no-hover table-min-width table-fixed"},i.a.createElement("thead",{className:"table-updated-thead"},i.a.createElement("tr",null,i.a.createElement("th",{className:"col-xs-2 table-updated-th"},this.state.survey_nps_no),i.a.createElement("th",{className:"table-updated-th col-xs-7"},this.state.survey_nps_name),i.a.createElement("th",{className:"col-xs-3 table-updated-th"},this.state.survey_score))),i.a.createElement(vt.Scrollbars,{style:{height:217},className:"custome-scroll"},i.a.createElement("tbody",null,void 0!=this.state.clinicScore&&this.state.clinicScore.length>0&&this.state.clinicScore.map(function(e,t){return i.a.createElement("tr",{key:t,className:"table-updated-tr"},i.a.createElement("td",{className:"col-xs-2 table-updated-td"},++t),i.a.createElement("td",{className:"table-updated-td text-ellipsis nps-name col-xs-7"},e.name),i.a.createElement("td",{className:"col-xs-3 table-updated-td"},e.score))}),0==this.state.clinicScore.length&&i.a.createElement("tr",null,i.a.createElement("td",{className:"no-record no-float",colSpan:3},this.state.globalLang.sorry_no_record_found))))))),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.globalLang.Please_Wait))))))))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return void 0!=e.showLoader&&0==e.showLoader?{showLoader:!1}:void 0!=e.surveysList&&e.surveysList.data!=t.surveysList&&200==e.surveysList.status&&"false"==localStorage.getItem("loadAgain")?(localStorage.setItem("loadAgain",!1),{surveysList:e.surveysList.data,satisfactionList:e.surveysList.data.satisfaction,clinicScore:e.surveysList.data.clinic_score,providerScore:e.surveysList.data.provider_score,serviceScore:e.surveysList.data.service_score,showLoader:!1}):null}}]),t}(i.a.Component);var Jh=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData")),a={};return localStorage.setItem("loadAgain",!1),"All_SURVEYS"===e.surveyReducer.action&&(200!=e.surveyReducer.data.status?a.showLoader=!1:a.surveysList=e.surveyReducer.data),"EMPTY_DATA"===e.SettingReducer.action&&200!=e.SettingReducer.data.status&&(rt.toast.error(t.global[e.SettingReducer.data.message]),a.showLoader=!1),a},function(e){return Object(c.bindActionCreators)({fetchSurveys:Fh,exportEmptyData:br},e)})(Wh),Qh=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).mouseEnter=function(){a.setState({isMouseInside:!0})},a.mouseLeave=function(){a.setState({isMouseInside:!1})},a.submissionEdit=function(e){return i.a.createElement("div",null,a.props.history.push("/surveys/dashboard/".concat(e,"/view-all")))},a.reorder=function(e,t,a){var s=Array.from(e),n=s.splice(t,1),i=Object(ye.a)(n,1)[0];return s.splice(a,0,i),s},a.getItemStyle=function(e,t){return Object(m.a)({userSelect:"none",background:e?"#f7fbfd":"ffffff"},t)},a.reOrderList=function(e){var t={object_ids:e};a.setState({showLoader:!1}),a.props.updateSortOrder(t,"Survey")},a.loadMore=function(){localStorage.setItem("sortOnly",!1),a.setState({loadMore:!0,startFresh:!0,showLoader:!0,showLoadingText:!0});var e={params:{page:a.state.page,pagesize:a.state.pagesize,term:a.state.term}};a.props.surveysListing(e)},a.handleSubmit=function(e){var t;e.preventDefault(),localStorage.setItem("sortOnly",!0);var s={params:{page:a.state.page,pagesize:a.state.pagesize,term:a.state.term}};a.setState((t={page:1,pagesize:a.state.pagesize,startFresh:!0,loadMore:!0},Object(se.a)(t,"startFresh",!0),Object(se.a)(t,"next_page_url",""),Object(se.a)(t,"surveysListingData",[]),t)),a.setState({showLoader:!0}),a.props.surveysListing(s)},a.handleInputChange=function(e){var t=e.target,s="checkbox"===t.type?t.checked:t.value;a.setState(Object(se.a)({},e.target.name,s))},a.surveyEdit=function(e){return i.a.createElement("div",null,a.props.history.push("/surveys/template/".concat(e,"/edit")))};JSON.parse(localStorage.getItem("userData"));var s=JSON.parse(localStorage.getItem("languageData"));return a.state={dateRangePicker:{selection:{startDate:new Date,endDate:new Date,key:"selection"}},to_date:Object(ss.b)(new Date,"YYYY-MM-DD"),from_date:Object(ss.b)(new Date,"YYYY-MM-DD"),showCalendar:!1,surveysListingData:[],page:1,pagesize:20,term:"",hover:!1,showLoader:!1,viewSubmissionButton:"header-select-btn line-btn view-submission survey_view no-display",isMouseInside:!1,next_page_url:"",startFresh:!0,loadMore:!0,showLoadingText:!1,globalLang:s.global,surveyLang:s.surveys},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),window.onscroll=function(){var e=parseInt(Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop));window.innerHeight+e===document.documentElement.offsetHeight&&null!=a.state.next_page_url&&a.loadMore()},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("languageData"));this.setState({surveyList_survey_name:e.surveys.surveyList_survey_name,surveyList_questions:e.surveys.surveyList_questions,survey_status:e.surveys.survey_status,survey_create_survey:e.surveys.survey_create_survey,surveys_survey:e.surveys.surveys_survey});var t={params:{page:this.state.page,pagesize:this.state.pagesize,term:this.state.term}};this.setState({showLoader:!0}),this.props.surveysListing(t)}},{key:"shouldComponentUpdate",value:function(e,t){return!!this.state.startFresh||(!!this.state.loadMore||!!this.state.showLoader)}},{key:"render",value:function(){var e=this,t=[];void 0!==this.state.surveysListingData&&(t=this.state.surveysListingData.map(function(t,a){return{content:i.a.createElement(i.a.Fragment,{key:"fragment_"+a},i.a.createElement("td",{className:"col-xs-8 table-updated-td Questionnaire-name"},i.a.createElement("a",{href:"#",className:"drag-dots"}),t.title),i.a.createElement("td",{className:"col-xs-4 table-updated-td text-center"},t.survey_questions_count),i.a.createElement("td",{className:"col-xs-4 table-updated-td text-center"},t.is_published),i.a.createElement("td",{className:"ccol-xs-4 table-updated-td text-center"},i.a.createElement("button",{onClick:e.submissionEdit.bind(e,t.id),className:"header-select-btn line-btn view-submission survey_view show-hide-btn"},e.state.surveyLang.survey_view_submission))),id:t.id}}));return i.a.createElement("div",{className:"main protected"},i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement("ul",{className:"sub-menu"},i.a.createElement("li",null,i.a.createElement(me.a,{to:"/surveys/dashboard"},this.state.surveyLang.survey_insights)),i.a.createElement("li",null,i.a.createElement(me.a,{to:"/surveys/manage",className:"active"},this.state.surveys_survey))),i.a.createElement("div",{className:"juvly-section full-width"},i.a.createElement("div",{className:"setting-search-outer"},i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("div",{className:"search-bg new-search pull-left"},i.a.createElement("i",{className:"fas fa-search"}),i.a.createElement("input",{className:"setting-search-input search-key",name:"term",placeholder:"Search",onChange:this.handleInputChange,value:this.state.term}))),i.a.createElement(me.a,{to:"/surveys/template/create",className:"new-blue-btn pull-right modal-link"},this.state.survey_create_survey)),i.a.createElement("div",{className:"table-responsive min-h-200"},i.a.createElement("table",{className:"table-updated setting-table min-w-1000"},i.a.createElement("thead",{className:"table-updated-thead"},i.a.createElement("tr",null,i.a.createElement("th",{className:"col-xs-3 table-updated-th"},this.state.surveyList_survey_name),i.a.createElement("th",{className:"col-xs-3 table-updated-th"},this.state.surveyList_questions),i.a.createElement("th",{className:"col-xs-3 table-updated-th"},this.state.survey_status),i.a.createElement("th",{className:"col-xs-3 table-updated-th"},"\xa0"))),i.a.createElement(Vl.a,{onDragEnd:function(a){var s;if(a.destination){var n=e.reorder(t,a.source.index,a.destination.index);t=n,s=n.map(function(e,t){return e.id}),e.reOrderList(s)}}},i.a.createElement(Vl.c,{droppableId:"droppable"},function(a,s){return i.a.createElement("tbody",{className:"ajax_body ui-sortable",ref:a.innerRef},t.map(function(t,a){return i.a.createElement(Vl.b,{key:"asd-"+t.id,draggableId:t.id,index:a},function(a,s){return i.a.createElement("tr",Object.assign({className:"table-updated-tr edit_setting",id:"liConsltDivId_2",onClick:e.surveyEdit.bind(e,t.id),ref:a.innerRef},a.draggableProps,a.dragHandleProps,{style:e.getItemStyle(s.isDragging,a.draggableProps.style)}),t.content)})}),null,a.placeholder)}))),!1===this.state.showLoader&&i.a.createElement("div",{className:t.length?"no-record no-display":"no-record"},this.state.surveyLang.survey_sorry_no_record_found)),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.globalLang.Please_Wait)))),i.a.createElement("div",{className:this.state.showLoadingText?"loading-please-wait":"loading-please-wait no-display "},this.state.globalLang.loading_please_wait_text))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(void 0!=e.showLoader&&0==e.showLoader)return{showLoader:!1};if(void 0!=e.surveysListingData&&e.surveysListingData.data.data!=t.surveysListingData&&e.surveysListingData.data.next_page_url!==t.next_page_url&&200==e.surveysListingData.status){var a={};return null==t.next_page_url?(localStorage.setItem("sortOnly",!1),a.next_page_url=null,a):(0==t.surveysListingData.length&&1==t.startFresh?"false"==localStorage.getItem("sortOnly")?(a.surveysListingData=e.surveysListingData.data.data,null!=e.surveysListingData.data.next_page_url?a.page=t.page+1:a.next_page_url=e.surveysListingData.data.next_page_url,a.startFresh=!1,a.showLoader=!1,a.showLoadingText=!1,localStorage.setItem("showLoader",!1)):localStorage.setItem("sortOnly",!1):t.surveysListingData!=e.surveysListingData.data&&0!=t.surveysListingData.length&&(a.surveysListingData=Object(oa.a)(t.surveysListingData).concat(Object(oa.a)(e.surveysListingData.data.data)),a.page=t.page+1,a.next_page_url=e.surveysListingData.data.next_page_url,localStorage.setItem("showLoader",!1),a.showLoader=!1,a.showLoadingText=!1),a)}return null}}]),t}(i.a.Component);var Kh=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData")),a={};return"SURVEYS_LISTING"===e.surveyReducer.action&&(200!=e.surveyReducer.data.status?a.showLoader=!1:a.surveysListingData=e.surveyReducer.data),"SORT_ORDER_UPDATE"===e.surveyReducer.action&&(200!=e.surveyReducer.data.status?rt.toast.error(t.global[e.surveyReducer.data.message]):rt.toast.success(t.global[e.surveyReducer.data.message])),a},function(e){return Object(c.bindActionCreators)({surveysListing:Yh,updateSortOrder:mi},e)})(Qh),Xh=JSON.parse(localStorage.getItem("languageData")),Zh=function(e){var t={},a=[];for(var s in e.forEach(function(e){t[e]||(t[e]=0),t[e]+=1}),t)t[s]>=2&&a.push(s);return a},$h={id:1,displayOrder:1,boxtype:"Textbox",name:"",placeholder:Xh&&void 0!=Xh.global&&void 0!=Xh.global.global_type_question_here?Xh.global.global_type_question_here:"",required:0,description:0,descriptionText:"",why_choose:0,logicJumpsAns:[],logicJumpsQue:[],logicJumpsElse:[],options:[],currentlyActive:!0},eg={Textbox:"Textbox",yesno:"Yes/No",single:"Single Choice",multiple:"Multiple Choice",scale:"Opinion Scale",file:"File Upload"},tg=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).componentDidMount=function(){var e=a.props.match.params.id?a.props.match.params.id:0;e&&(a.showLoaderFunc(),a.setState({templateId:e}),a.props.getTemplateData(e))},a.reorder=function(e,t,a){var s=Array.from(e),n=s.splice(t,1),i=Object(ye.a)(n,1)[0];return s.splice(a,0,i),s},a.getItemStyle=function(e,t){return Object(m.a)({userSelect:"none",background:e?"#f7fbfd":"ffffff"},t)},a.reOrderList=function(e){var t=JSON.parse(JSON.stringify(a.state.questionsList));e.map(function(e,s){var n=a.state.questionsList.find(function(t){return t.id==e});n.displayOrder=s+1,t[s]=n}),a.setState({questionsList:t,userChanged:!0})},a.showLoaderFunc=function(){localStorage.setItem("showLoader",!1),a.setState({showLoader:!0})},a.handleChildChange=function(e,t){var s=e.split("-"),n=s[0],i=s[1],r={},o=a.getActiveBox();if(t){if("questions"==n||"answers"==n){var l=a.state[n+"-"+i];l[s[2]]=t,r[n+"-"+i]=l,"answers"==n?a.state.questionsList[o.index].logicJumpsQue=l:a.state.questionsList[o.index].logicJumpsAns=l}else{var c=a.state["else-"+i];c=t,r["else-"+i]=c,a.state.questionsList[o.index].logicJumpsElse=c}r.questionsList=a.state.questionsList}a.setState(r)},a.openBoxTypeDropDown=function(e){a.setState({displaySelection:!a.state.displaySelection})},a.toggleFullScreen=function(e){a.setState({fullScreen:!a.state.fullScreen})},a.toggleSideMenu=function(e){a.setState({sideMenu:!a.state.sideMenu})},a.getActiveBox=function(){return{obj:a.state.questionsList.find(function(e){return e.currentlyActive}),index:a.state.questionsList.findIndex(function(e){return e.currentlyActive})}},a.getAllQuestionsNameWithId=function(){var e=[];return a.state.questionsList.map(function(t,a){""!==t.name.trim()&&e.push({id:t.id,name:t.name})}),e},a.changeBoxType=function(e){var t=e.target.dataset.type,s=a.getActiveBox(),n={},i=a.state.boxTypeArr;s.obj.logicJumpsQue=[""],s.obj.logicJumpsAns=[""],s.obj.logicJumpsElse="",s.obj.boxtype=t,"single"!=t&&"multiple"!=t||(s.obj.options=[""]),"single"!=t&&"scale"!=t&&"yesno"!=t||(n["questions-"+s.obj.id]=[""],n["answers-"+s.obj.id]=[""],n["else-"+s.obj.id]="","yesno"==t&&(s.obj.options=["Yes","No"])),a.state.questionsList[s.index]=s.obj,n.questionsList=a.state.questionsList,n.activeBoxType=t,n.activeBoxTypeLabel=i[t],a.setState(n),a.openBoxTypeDropDown()},a.toggleLogicJump=function(e){e.preventDefault(),e.stopPropagation();var t=e.currentTarget.dataset.qid,s={};s["showLogicJump-"+t]=!!!a.state["showLogicJump-"+t],a.setState(s)},a.toggleLogicJump1=function(e){e.preventDefault(),e.stopPropagation();var t=e.currentTarget.dataset.qid,s={};s["showLogicJump-"+t]=!!!a.state["showLogicJump-"+t],a.setState({upDown:!a.state.upDown}),a.setState(s)},a.copyBox=function(e){var t=a.getActiveBox(),s={},n=JSON.parse(JSON.stringify(t.obj)),i=a.state.questionsList.length+1;n.displayOrder=a.state.questionsList.length+1,n.id=i,n.edit_id&&delete n.edit_id,"single"!=n.boxtype&&"multiple"!=n.boxtype||!n.options.length||n.options.map(function(e,t){s["choice-"+i+"-"+t]=e}),a.state.questionsList.push(n),a.state.questionsList[t.index].currentlyActive=!1,s.questionsList=a.state.questionsList,s["name-"+i]=t.obj.name,s["description-"+i]=t.obj.description,s["descriptionText-"+i]=t.obj.descriptionText,s["required-"+i]=t.obj.required,s["questions-"+i]=[],s["answers-"+i]=[],s["else-"+i]="",s.questionsError=a.state.questionsError,s.answersError=a.state.answersError,s.questionsError[i]=[!1],s.answersError[i]=[!1],s["logicElse-"+i]=!1,a.setState(s);var r=a.getAllQuestionsNameWithId();a.setState({mainOptions:r})},a.deleteBox=function(e){if(a.state.questionsList.length>1){var t=a.state.questionsList,s=a.getActiveBox(),n=(parseInt(s.index),a.state.deletedQue);a.state.templateId&&n.push(parseInt(s.obj.id)),t.splice(s.index,1);var i=parseInt(t.length-1);t[i].currentlyActive=!0;var r=t[i];a.setState({questionsList:t,deletedQue:n,viewActiveBox:r});var o=a.getAllQuestionsNameWithId();a.setState({mainOptions:o})}},a.addQuestion=function(e){var t=JSON.parse(JSON.stringify($h));t.displayOrder=a.state.questionsList.length+1,t.id=a.state.questionsList.length+1,t.currentlyActive=!0,a.state.questionsList.push(t);var s=a.getActiveBox();a.state.questionsList[s.index].currentlyActive=!1,a.setState({questionsList:a.state.questionsList});var n=a.getAllQuestionsNameWithId();a.setState({mainOptions:n})},a.addLogicQuestion=function(e){e.preventDefault();var t=a.getActiveBox().obj.id,s=a.state["questions-"+t];s.push(0);var n={};n["questions-"+t]=s,n.appendHTML=!0,a.setState(n),a.forceUpdate()},a.deleteLogicJump=function(e,t){var s=a.getActiveBox().obj.id,n=a.state["questions-"+s];if(1==n.length)return!1;n.splice(e,1);var i={};i["questions-"+s]=n,a.setState(i)},a.makeActiveBox=function(e,t){t.preventDefault(),t.stopPropagation();var s=e,n=a.getActiveBox();return a.state.questionsList[n.index].currentlyActive=!1,a.state.questionsList[s].currentlyActive=!0,a.setState({questionsList:a.state.questionsList,activeBox:a.state.questionsList[s],viewActiveBox:a.state.questionsList[s],activeBoxRequired:a.state.questionsList[s].required,activeBoxDesc:a.state.questionsList[s].description,userChanged:!0}),a.state.sideMenu&&a.toggleSideMenu(),!1},a.setScaleVal=function(e){var t=e.target.dataset.id,s={};s["selectedAnswers-"+a.state.viewActiveBox.id]=t,a.setState(s)},a.goToNext=function(e){var t=a.getActiveBox(),s=(t.index,a.state.questionsList[t.index],a.state.questionsList.length),n=a.state.viewActiveBox,i=a.state["selectedAnswers-"+n.id],r={};if(("single"==n.boxtype||"scale"==n.boxtype||"yesno"==n.boxtype)&&void 0==i)return!1;if("yesno"==n.boxtype||"single"==n.boxtype||"scale"==n.boxtype){if(n.logicJumpsQue.length){var o=n.logicJumpsAns.indexOf(parseInt(i));if(o>-1){var l=parseInt(n.logicJumpsQue[o]),c=a.state.questionsList.findIndex(function(e){return e.id==l});r.viewActiveBox=a.state.questionsList[c]}else{console.log(a.state.questionsList);var d=n.logicJumpsElse,m=a.state.questionsList.findIndex(function(e){return e.id==d});r.viewActiveBox=a.state.questionsList[m]}}}else if(s==n.id)r.showSubmitBtn=!0;else{console.log(n.id,a.state.questionsList);var u=a.state.questionsList.findIndex(function(e){return e.id==parseInt(n.id)});r.viewActiveBox=a.state.questionsList[u+1]}a.setState(r)},a.submitView=function(e){for(var t in a.state)t.startsWith("selectedAnswers-")&&delete a.state[t];a.state.viewActiveBox=a.state.questionsList[0];var s=a.state;a.setState(s)},a.handleKeyUp=function(e){var t=e.target,s="checkbox"===t.type?t.checked:t.value,n=e.target.name,i=n.split("-"),r=e.currentTarget.dataset.choiceid,o={},l=a.getActiveBox(),c=l.obj.options;""!=s&&(c[r]=s),c=c.filter(function(e){return""!=e}),13!=e.keyCode&&13!=e||c.push(""),8!=e.keyCode&&8!=e||""==s&&c.length>0&&(c.splice(r,1),document.getElementById("choice-"+i[1]+"-"+l.obj.options.pop()),document.getElementById("choice-"+i[1]+"-"+(l.obj.options.length-1)).focus(),o["choice-"+i[1]+"-"+l.obj.id]=l.obj.options[r]),c.map(function(e,t){""!=e&&(o["choice-"+i[1]+"-"+t]=e,o["choiceError-"+i[1]+"-"+t]=!1)}),a.state.questionsList[l.index].options=c,o.questionsList=a.state.questionsList,""!=s.trim()&&(o[n]=s),a.setState(o)},a.handleFileChange=function(e){var t=e.target,s=("checkbox"===t.type?t.checked:t.value,e.target.name,a.state.viewActiveBox.id,document.getElementById("input-file").files[0]),n=new FileReader;n.onload=function(e){document.getElementById("theImage").setAttribute("src",e.target.result)},a.setState({}),n.readAsDataURL(s)},a.handleInputChange=function(e){var t=e.target,s="checkbox"===t.type?t.checked:t.value,n=e.target.name,i=a.getActiveBox(),r={},o=!0;if("activeBoxDesc"==n&&(a.state.questionsList[i.index].description=s,r.questionsList=a.state.questionsList),"activeBoxRequired"==n&&(a.state.questionsList[i.index].required=s,r.questionsList=a.state.questionsList),"activeBoxComments"==n&&(a.state.questionsList[i.index].why_choose=s,r.questionsList=a.state.questionsList),n.startsWith("description-")&&(a.state.questionsList[i.index].descriptionText=s,r.questionsList=a.state.questionsList),n.startsWith("name-")){a.state.questionsList[i.index].name=s,r.questionsList=a.state.questionsList;var l=a.state.mainOptions,c=n.split("-"),d=parseInt(c[1]),m=l.findIndex(function(e){return e.id==d});m>-1?l[m].name=s:l.push({id:d,name:s}),r.mainOptions=l}if(n.startsWith("choice-")){n.split("-");1==i.obj.options.length&&""==s.trim()&&(o=!1)}r.activeBox=a.state.questionsList[i.index],n.startsWith("selectedAnswers")||(r.viewActiveBox=a.state.questionsList[i.index]),o&&(r[n]=s),r.userChanged=!0,a.setState(r)},a.showLoaderFunc=function(){a.setState({showLoader:!0}),localStorage.setItem("showLoader",!1)},a.saveTemplate=function(){if(a.setState({titleError:!1,userChanged:!0}),void 0==a.state.title||""==a.state.title)return a.setState({titleError:!0}),!1;var e={},t=!1,s={};a.state.templateId&&(e.sid=a.state.templateId,e.deletedQue=[]);var n=JSON.parse(JSON.stringify(a.state.questionsList));n.map(function(e,a){(e.boxtype&&(e.boxtype=eg[e.boxtype],n[a]=e),e.options.length)&&(0!=Zh(e.options).length&&(s.hasDuplicates=!0,t=!0))}),t&&s.hasDuplicates&&rt.toast.error(a.state.globalLang.global_cannot_add_same_opt),e.title=a.state.title,e.data=n,e.deletedQue=a.state.deletedQue,a.showLoaderFunc(),a.props.saveTemplateData(e)},a.showDeleteModal=function(){a.setState({showModal:!0,userChanged:!0})},a.dismissModal=function(){a.setState({showModal:!1,userChanged:!0})},a.deleteTemplate=function(){a.setState({showLoader:!0,userChanged:!0}),a.dismissModal();var e=a.state.templateId;a.props.deleteTemplate(e)},a.togglePublish=function(){a.showLoaderFunc();var e=a.state.templateId;a.props.togglePublish(e)};JSON.parse(localStorage.getItem("userData"));var s=JSON.parse(localStorage.getItem("languageData")),n={},i=[],r=[];return i[1]=[!1],r[1]=[!1],n.alpha=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","AA","BB","CC","DD","EE","FF","GG","HH","II","JJ","KK","LL","MM","NN","OO","PP","QQ","RR","SS","TT","UU","VV","WW","XX","YY","ZZ"],n.upDown=!1,n.questionsList=[$h],n.title="Untitled Procedure Template",n.activeBoxType="Textbox",n.activeBoxTypeLabel="Textbox",n.displaySelection=!1,n.activeBox=$h,n.viewActiveBox=$h,n.activeBoxDesc=!1,n.activeBoxRequired=!1,n.mainOptions=[{id:1,name:""}],n["questions-1"]=[],n["answers-1"]=[],n["logicElse-1"]=!1,n.showModal=!1,n.fullScreen=!1,n.sideMenu=!1,n.appendHTML=!1,n.boxTypeArr=eg,n.templateData=[],n.deletedQue=[],n.questionsError=i,n.answersError=r,n.userChanged=!1,n.titleError=!1,n.is_published=1,n.globalLang=s.global,a.state=n,a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"render",value:function(){var e=this,t=[];this.state.questionsList.length&&(t=this.state.questionsList.map(function(t,a){var s=t.currentlyActive?"edit-question-outer route selected-question":"edit-question-outer route";return{content:i.a.createElement(i.a.Fragment,{key:"boxtypeOuter-"+t.id},"Textbox"==t.boxtype&&i.a.createElement(i.a.Fragment,{key:"boxtypeText-"+t.id},i.a.createElement("input",{className:"type-question",name:"name-"+t.id,onChange:e.handleInputChange,type:"text",placeholder:e.state.globalLang.global_type_question_here,value:e.state["name-"+t.id]?e.state["name-"+t.id]:""}),i.a.createElement("input",{id:"descriptioBox1",className:t.description?"type-subtitle":"type-subtitle no-display",placeholder:e.state.globalLang.global_write_ur_description,name:"description-"+t.id,value:e.state["description-"+t.id],onChange:e.handleInputChange,type:"text"}),i.a.createElement("span",{className:t.required?"survey-required":"survey-required no-display",id:"requiredBox1"},"*"),i.a.createElement("a",{className:"survey-drag-icon"},i.a.createElement("i",{className:"far fa-file",id:"icon_effect1"})," ",i.a.createElement("span",{className:"quest-number"},t.displayOrder))),"yesno"==t.boxtype&&i.a.createElement(i.a.Fragment,{key:"boxtypeYesNo-"+t.id},i.a.createElement("input",{className:"type-question",name:"name-"+t.id,onChange:e.handleInputChange,type:"Yes/No",placeholder:e.state.globalLang.global_type_question_here,value:e.state["name-"+t.id],id:"box2"}),i.a.createElement("input",{id:"descriptioBox2",className:t.description?"type-subtitle":"type-subtitle no-display",placeholder:e.state.globalLang.global_write_ur_description,name:"description-"+t.id,value:e.state["description-"+t.id],onChange:e.handleInputChange,type:"text"}),i.a.createElement("span",{className:t.required?"survey-required":"survey-required no-display",style:{},id:"requiredBox2"},"*"),i.a.createElement("a",{className:"survey-drag-icon"},i.a.createElement("i",{className:"fas fa-toggle-off",id:"icon_effect2"}),i.a.createElement("span",{className:"quest-number"},t.displayOrder)),i.a.createElement("div",{className:"login-jump-outer"},i.a.createElement("div",{className:"logic-jump-header"},i.a.createElement("i",{className:"fas fa-share-alt share-header-icon"}),i.a.createElement("span",{className:"logic-jump-title"},e.state.globalLang.global_logic_jump),i.a.createElement("i",{className:"pull-right fas no-margin loginjumponoff fa-angle-up"})))),"single"==t.boxtype&&i.a.createElement(i.a.Fragment,{key:"boxtypeSingle-"+t.id},i.a.createElement("input",{className:"type-question",name:"name-"+t.id,value:e.state["name-"+t.id],onChange:e.handleInputChange,type:"Single Choice",placeholder:e.state.globalLang.global_type_question_here,id:"box3"}),i.a.createElement("input",{id:"descriptioBox3",className:t.description?"type-subtitle":"type-subtitle no-display",placeholder:e.state.globalLang.global_write_ur_description,name:"description-"+t.id,value:e.state["description-"+t.id],onChange:e.handleInputChange,type:"text"}),i.a.createElement("span",{className:t.required?"survey-required":"survey-required no-display",style:{},id:"requiredBox2"},"*"),i.a.createElement("div",{id:"singlechoiceboxouter3"},t.options.map(function(a,s){return i.a.createElement("input",{key:"choice-"+t.id+"-"+s,id:"choice-"+t.id+"-"+s,className:(e.state["choiceError-"+t.id+"-"+s],"type-choice"),placeholder:"- Choice",type:"text","data-qid":t.id,"data-choiceid":s,onKeyUp:e.handleKeyUp,onChange:e.handleInputChange,value:e.state["choice-"+t.id+"-"+s]||"",name:"choice-"+t.id+"-"+s,autoFocus:t.options.length==s+1})})),i.a.createElement("a",{className:"survey-drag-icon"},i.a.createElement("i",{className:"far fa-dot-circle",id:"icon_effect3"}),i.a.createElement("span",{className:"quest-number"},t.displayOrder))),"multiple"==t.boxtype&&i.a.createElement(i.a.Fragment,{key:"boxtypeMultiple-"+t.id},i.a.createElement("input",{className:"type-question",name:"name-"+t.id,value:e.state["name-"+t.id],onChange:e.handleInputChange,type:"Single Choice",placeholder:e.state.globalLang.global_type_question_here,id:"box3"}),i.a.createElement("input",{id:"descriptioBox3",className:t.description?"type-subtitle":"type-subtitle no-display",placeholder:e.state.globalLang.global_write_ur_description,name:"description-"+t.id,value:e.state["description-"+t.id],onChange:e.handleInputChange,type:"text"}),i.a.createElement("a",{className:"share-default-icon"},i.a.createElement("i",{className:"fas fa-share-alt"})),i.a.createElement("span",{className:t.required?"survey-required":"survey-required no-display",style:{},id:"requiredBox2"},"*"),i.a.createElement("div",{id:"singlechoiceboxouter3"},t.options.map(function(a,s){return i.a.createElement("input",{id:"choice-"+t.id+"-"+s,key:"choice-"+t.id+"-"+s,className:"type-choice",placeholder:"- Choice",type:"text","data-qid":t.id,"data-choiceid":s,onKeyUp:e.handleKeyUp,name:"choice-"+t.id+"-"+s,defaultValue:e.state["choice-"+t.id+"-"+s],autoFocus:t.options.length==s+1})})),i.a.createElement("a",{className:"survey-drag-icon"},i.a.createElement("i",{className:"far fa-check-square",id:"icon_effect3"}),i.a.createElement("span",{className:"quest-number"},t.displayOrder)),i.a.createElement("div",{className:"login-jump-outer"},i.a.createElement("div",{className:"logic-jump-header"},i.a.createElement("i",{className:"fas fa-share-alt"}),i.a.createElement("span",{className:"logic-jump-title"},e.state.globalLang.global_logic_jump)," ",i.a.createElement("i",{"data-id":3,className:"pull-right fa fa-angle-down no-margin loginjumponoff"})))),"file"==t.boxtype&&i.a.createElement(i.a.Fragment,{key:"boxtypeFile-"+t.id},i.a.createElement("input",{className:"type-question",name:"name-"+t.id,onChange:e.handleInputChange,type:"Single Choice",placeholder:e.state.globalLang.global_type_question_here,value:e.state["name-"+t.id]}),i.a.createElement("input",{id:"descriptioBox3",className:t.description?"type-subtitle":"type-subtitle no-display",placeholder:e.state.globalLang.global_write_ur_description,name:"description-"+t.id,value:e.state["description-"+t.id],onChange:e.handleInputChange,type:"text"}),i.a.createElement("a",{className:"share-default-icon"},i.a.createElement("i",{className:"fas fa-share-alt"})),i.a.createElement("span",{className:t.required?"survey-required":"survey-required no-display",style:{},id:"requiredBox2"},"*"),i.a.createElement("a",{className:"survey-drag-icon"},i.a.createElement("i",{className:"fas fa-file-upload",id:"icon_effect3"}),i.a.createElement("span",{className:"quest-number"},t.displayOrder))),"scale"==t.boxtype&&i.a.createElement(i.a.Fragment,{key:"boxtypeScale-"+t.id},i.a.createElement("input",{className:"type-question",name:"name-"+t.id,onChange:e.handleInputChange,type:"Single Choice",placeholder:e.state.globalLang.global_type_question_here,value:e.state["name-"+t.id],id:"box3"}),i.a.createElement("input",{id:"descriptioBox3",className:t.description?"type-subtitle":"type-subtitle no-display",placeholder:e.state.globalLang.global_write_ur_description,name:"description-"+t.id,value:e.state["description-"+t.id],onChange:e.handleInputChange,type:"text"}),i.a.createElement("span",{className:t.required?"survey-required":"survey-required no-display",style:{},id:"requiredBox2"},"*"),i.a.createElement("a",{className:"survey-drag-icon"},i.a.createElement("i",{className:"fas fa-ruler-horizontal",id:"icon_effect3"}),i.a.createElement("span",{className:"quest-number"},t.displayOrder)))),id:t.id,class:s}}));var a="";return this.state.templateId&&(a=this.state.is_published?"Unpublish":"Publish"),i.a.createElement("div",{className:"wide-popup"},i.a.createElement("div",{className:"modal-blue-header front-end-popup-title"},i.a.createElement(me.a,{to:"/surveys/manage",className:"popup-cross"},"\xd7"),i.a.createElement("span",{className:"popup-blue-name"},this.state.globalLang.global_survey),i.a.createElement("div",{className:"popup-btns"},i.a.createElement("a",{onClick:this.saveTemplate,className:"line-btn popup-header-btn"},this.state.globalLang.label_save),i.a.createElement("a",{onClick:this.addQuestion,className:"line-btn popup-header-btn"},this.state.globalLang.global_add_question),i.a.createElement("a",{onClick:this.showDeleteModal,className:this.state.templateId?"line-btn popup-header-btn":"line-btn popup-header-btn  no-display"},this.state.globalLang.label_delete),i.a.createElement("a",{onClick:this.togglePublish,className:this.state.templateId?"line-btn popup-header-btn":"line-btn popup-header-btn  no-display"},a))),i.a.createElement("div",{className:"survey-outer"},i.a.createElement("a",{onClick:this.toggleSideMenu,className:this.state.sideMenu?"arrow-slide-right":"arrow-slide-right no-display"},i.a.createElement("i",{className:"fas fa-chevron-right"})),i.a.createElement("div",{className:this.state.fullScreen?"survey-left col-md-2 no-display":this.state.sideMenu?"survey-left col-md-2 no-display":"survey-left col-md-2"},i.a.createElement("div",{className:"property-title"},i.a.createElement("span",{className:"properties-span"},this.state.globalLang.global_properties),i.a.createElement("a",{onClick:this.toggleSideMenu,className:this.state.sideMenu?"arrow-slide-left  no-display":"arrow-slide-left"},i.a.createElement("i",{className:"fas fa-chevron-left"}))),i.a.createElement("div",{className:"survey-actions"},i.a.createElement("a",{className:"survey-actions-a",onClick:this.deleteBox},i.a.createElement("i",{className:"far fa-trash-alt"})),i.a.createElement("a",{className:"survey-actions-a",onClick:this.copyBox},i.a.createElement("i",{className:"far fa-copy"}))),i.a.createElement("div",{className:"property-select-outer"},i.a.createElement("div",{className:"custom-select"},i.a.createElement("div",{className:"select-selected select-arrow-active",onClick:this.openBoxTypeDropDown},this.state.activeBoxTypeLabel," "),i.a.createElement("div",{className:this.state.displaySelection?"select-items":"select-items no-display"},i.a.createElement("div",{onClick:this.changeBoxType,"data-type":"Textbox"},this.state.globalLang.global_textbox),i.a.createElement("div",{onClick:this.changeBoxType,"data-type":"yesno"},this.state.globalLang.global_yes_no),i.a.createElement("div",{onClick:this.changeBoxType,"data-type":"single"},this.state.globalLang.global_single_choice),i.a.createElement("div",{onClick:this.changeBoxType,"data-type":"multiple"},this.state.globalLang.global_multiple_choice),i.a.createElement("div",{onClick:this.changeBoxType,"data-type":"scale"},this.state.globalLang.global_opinion_scale),i.a.createElement("div",{onClick:this.changeBoxType,"data-type":"file"},this.state.globalLang.global_file_upload)))),i.a.createElement("div",{className:"new-custom-switch property-option"},this.state.globalLang.global_required,i.a.createElement("label",{className:"setting-switch pull-right"},i.a.createElement("input",{type:"checkbox",name:"activeBoxRequired",checked:!!this.state.activeBoxRequired&&"checked",onChange:this.handleInputChange,className:"setting-custom-switch-input"}),i.a.createElement("span",{className:"setting-slider"}))),i.a.createElement("div",{className:"new-custom-switch property-option"},this.state.globalLang.label_description,i.a.createElement("label",{className:"setting-switch pull-right"},i.a.createElement("input",{type:"checkbox",name:"activeBoxDesc",checked:!!this.state.activeBoxDesc&&"checked",onChange:this.handleInputChange,className:"setting-custom-switch-input"}),i.a.createElement("span",{className:"setting-slider "}))),i.a.createElement("div",{className:"scale"==this.state.activeBoxType?"new-custom-switch property-option":"new-custom-switch property-option no-display"},this.state.globalLang.global_comments_on_scale,i.a.createElement("label",{className:"setting-switch pull-right"},i.a.createElement("input",{type:"checkbox",name:"activeBoxComments",checked:!!this.state.activeBoxComments&&"checked",onChange:this.handleInputChange,className:"setting-custom-switch-input"}),i.a.createElement("span",{className:"setting-slider "})))),i.a.createElement("div",{className:this.state.fullScreen?"survey-middle col-md-6 no-display":this.state.sideMenu?"survey-middle col-md-6 width-50":"survey-middle col-md-6 width-40"},i.a.createElement("div",{className:this.state.titleError?"edit-question-title-outer field-error":"edit-question-title-outer"},i.a.createElement("input",{className:"title-type-question",id:"survey_title",type:"Textbox",name:"title",value:this.state.title,placeholder:this.state.globalLang.global_type_title,onChange:this.handleInputChange}),i.a.createElement("span",{className:"survey-required",style:{display:"block"}},"*"),i.a.createElement("a",{className:"survey-title-drag-icon"},i.a.createElement("i",{id:"icon_effect1"}),i.a.createElement("span",{className:"quest-title-number"},this.state.globalLang.global_title))),i.a.createElement("div",null,i.a.createElement(Vl.a,{onDragEnd:function(a){console.log(a);var s;if(a.destination){var n=e.reorder(t,a.source.index,a.destination.index);t=n,s=n.map(function(e,t){return e.id}),e.reOrderList(s)}}},i.a.createElement(Vl.c,{droppableId:"mydrop"},function(a,s){return i.a.createElement("div",{className:"space first-space table no-bg",ref:a.innerRef},t.map(function(t,a){return i.a.createElement(Vl.b,{key:t.id,draggableId:t.id,index:a},function(s,n){return i.a.createElement("div",Object.assign({className:t.class,"data-id":t.id,"data-order_by":t.id,onClick:e.makeActiveBox.bind(e,a),ref:s.innerRef},s.draggableProps,s.dragHandleProps,{style:e.getItemStyle(n.isDragging,s.draggableProps.style)}),t.content)})}))})))),i.a.createElement("div",{className:this.state.fullScreen?"survey-right col-md-6 width-100":this.state.sideMenu?"survey-right col-md-6 width-50":"survey-right col-md-6 width-40"},i.a.createElement("div",{className:"property-title text-right"},i.a.createElement("a",{className:this.state.fullScreen?"properties-span full-view no-display":"properties-span full-view",onClick:this.toggleFullScreen},i.a.createElement("i",{className:"far fa-window-restore"})," ",this.state.globalLang.global_full_screen_view),i.a.createElement("a",{className:this.state.fullScreen?"properties-span editeble-view":"properties-span editeble-view no-display",onClick:this.toggleFullScreen},i.a.createElement("i",{className:"far fa-edit"})," ",this.state.globalLang.global_edit_view)),i.a.createElement("div",{className:this.state.fullScreen?"title-half-preview servy-title-preview":"title-half-preview"},i.a.createElement("div",{className:"report-title-question-outer break-word-content"},i.a.createElement("div",{className:"survey-title no-margin",id:"preview_survey_title"},this.state.title),i.a.createElement("div",{className:"view-title-number"},this.state.globalLang.global_title," ",i.a.createElement("i",{className:"fa fa-arrow-right"})))),i.a.createElement("div",{className:this.state.fullScreen?"servy-preview relative":"half-preview relative",id:"half-preview"},i.a.createElement("div",{className:"Textbox"==this.state.viewActiveBox.boxtype?"report-question-outer":"report-question-outer no-display"},i.a.createElement("div",{className:"survey-title no-margin",id:"preview1"},this.state.viewActiveBox.name),i.a.createElement("div",{className:this.state.viewActiveBox.description?"quest-discription":"quest-discription no-display"},this.state.viewActiveBox.descriptionText),i.a.createElement("input",{name:"selectedAnswers-"+this.state.viewActiveBox.id,className:"Textbox"==this.state.viewActiveBox.boxtype?"report-input":"report-input no-display",placeholder:this.state.globalLang.global_write_your_answer,type:"text",onChange:this.handleInputChange,value:this.state["selectedAnswers-"+this.state.viewActiveBox.id]?this.state["selectedAnswers-"+this.state.viewActiveBox.id]:""})),i.a.createElement("div",{className:"yesno"==this.state.viewActiveBox.boxtype?"report-question-outer":"report-question-outer no-display"},i.a.createElement("div",{className:"survey-title no-margin",id:"preview1"},this.state.viewActiveBox.name),i.a.createElement("div",{className:this.state.viewActiveBox.description?"quest-discription":"quest-discription no-display"},this.state.viewActiveBox.descriptionText),i.a.createElement("div",{className:" multisel-outer-yesno2"},i.a.createElement("div",{className:"Yes"==this.state["selectedAnswers-"+this.state.viewActiveBox.id]?"multisel ynomultisel yescheckouter2 activated":"multisel ynomultisel yescheckouter2"},i.a.createElement("input",{id:"Yes-"+this.state.viewActiveBox.id,className:"servy-checkbox servy-radio preboxval",onChange:this.handleInputChange,name:"selectedAnswers-"+this.state.viewActiveBox.id,checked:this.state["Yes"==this.state["selectedAnswers-"+this.state.viewActiveBox.id]&&"checked"],type:"radio",value:"Yes"}),i.a.createElement("span",{className:"multi-sel-alpha"},this.state.globalLang.global_a),i.a.createElement("label",{className:"multisel-label",htmlFor:"Yes-"+this.state.viewActiveBox.id},this.state.globalLang.global_yes),i.a.createElement("i",{className:"fa fa-check"})),i.a.createElement("div",{className:"No"==this.state["selectedAnswers-"+this.state.viewActiveBox.id]?"multisel ynomultisel yescheckouter2 activated":"multisel ynomultisel yescheckouter2"},i.a.createElement("input",{id:"No-"+this.state.viewActiveBox.id,className:"servy-checkbox servy-radio preboxval",onChange:this.handleInputChange,checked:"No"==this.state["selectedAnswers-"+this.state.viewActiveBox.id]&&"checked",value:"No",name:"selectedAnswers-"+this.state.viewActiveBox.id,type:"radio"}),i.a.createElement("span",{className:"multi-sel-alpha"},this.state.globalLang.global_b),i.a.createElement("label",{className:"multisel-label",htmlFor:"No-"+this.state.viewActiveBox.id},this.state.globalLang.global_no),i.a.createElement("i",{className:"fa fa-check"})))),i.a.createElement("div",{className:"single"==this.state.viewActiveBox.boxtype?"report-question-outer":"report-question-outer no-display"},i.a.createElement("div",{className:"survey-title no-margin",id:"preview1"},this.state.viewActiveBox.name),i.a.createElement("div",{className:this.state.viewActiveBox.description?"quest-discription":"quest-discription no-display"},this.state.viewActiveBox.descriptionText),i.a.createElement("div",{className:"col-sm-12 multisel-outer preview-single-selectouter3"},this.state.viewActiveBox.options.map(function(t,a){return i.a.createElement("div",{key:"selectedAnswers-"+a,className:e.state["selectedAnswers-"+e.state.viewActiveBox.id]==a?"multisel activated":"multisel"},i.a.createElement("input",{id:e.state.viewActiveBox.id+"-"+a,className:"servy-checkbox servy-radio preboxval",onChange:e.handleInputChange,name:"selectedAnswers-"+e.state.viewActiveBox.id,checked:e.state["selectedAnswers-"+e.state.viewActiveBox.id]==a&&"checked",value:a,type:"radio"}),i.a.createElement("span",{className:"multi-sel-alpha"},String.fromCharCode(65+a)),i.a.createElement("label",{className:"multisel-label",htmlFor:e.state.viewActiveBox.id+"-"+a},t),i.a.createElement("i",{className:"fa fa-check"}))}))),i.a.createElement("div",{className:"multiple"==this.state.viewActiveBox.boxtype?"report-question-outer":"report-question-outer no-display"},i.a.createElement("div",{className:"survey-title no-margin",id:"preview1"},this.state.viewActiveBox.name),i.a.createElement("div",{className:this.state.viewActiveBox.description?"quest-discription":"quest-discription no-display"},this.state.viewActiveBox.descriptionText),i.a.createElement("div",{className:"col-sm-12 multisel-outer preview-multi-selectouter4"},this.state.viewActiveBox.options.map(function(e,t){return i.a.createElement("div",{key:"viewActiveBox-"+t,className:"multisel"},i.a.createElement("input",{className:"servy-checkbox servy-radio preboxval",name:"satisfied",type:"radio"}),i.a.createElement("span",{className:"multi-sel-alpha"},String.fromCharCode(65+t)),i.a.createElement("label",{className:"multisel-label",htmlFor:"previewMultiRadio42"},e),i.a.createElement("i",{className:"fa fa-check"}))}))),i.a.createElement("div",{className:"scale"==this.state.viewActiveBox.boxtype?"report-question-outer":"report-question-outer no-display"},i.a.createElement("div",{className:"survey-title no-margin",id:"preview1"},this.state.viewActiveBox.name),i.a.createElement("div",{className:this.state.viewActiveBox.description?"quest-discription":"quest-discription no-display"},this.state.viewActiveBox.descriptionText),i.a.createElement("ul",{className:"survey-rate-outer",id:"survey-rateouter5"},i.a.createElement("li",{onClick:this.setScaleVal,"data-id":1,className:1==this.state["selectedAnswers-"+this.state.viewActiveBox.id]?"survey-li preboxval survey-li-active":"survey-li preboxval"},"1"),i.a.createElement("li",{onClick:this.setScaleVal,"data-id":2,className:2==this.state["selectedAnswers-"+this.state.viewActiveBox.id]?"survey-li preboxval survey-li-active":"survey-li preboxval"},"2"),i.a.createElement("li",{onClick:this.setScaleVal,"data-id":3,className:3==this.state["selectedAnswers-"+this.state.viewActiveBox.id]?"survey-li preboxval survey-li-active":"survey-li preboxval"},"3"),i.a.createElement("li",{onClick:this.setScaleVal,"data-id":4,className:4==this.state["selectedAnswers-"+this.state.viewActiveBox.id]?"survey-li preboxval survey-li-active":"survey-li preboxval"},"4"),i.a.createElement("li",{onClick:this.setScaleVal,"data-id":5,className:5==this.state["selectedAnswers-"+this.state.viewActiveBox.id]?"survey-li preboxval survey-li-active":"survey-li preboxval"},"5"),i.a.createElement("li",{onClick:this.setScaleVal,"data-id":6,className:6==this.state["selectedAnswers-"+this.state.viewActiveBox.id]?"survey-li preboxval survey-li-active":"survey-li preboxval"},"6"),i.a.createElement("li",{onClick:this.setScaleVal,"data-id":7,className:7==this.state["selectedAnswers-"+this.state.viewActiveBox.id]?"survey-li preboxval survey-li-active":"survey-li preboxval"},"7"),i.a.createElement("li",{onClick:this.setScaleVal,"data-id":8,className:8==this.state["selectedAnswers-"+this.state.viewActiveBox.id]?"survey-li preboxval survey-li-active":"survey-li preboxval"},"8"),i.a.createElement("li",{onClick:this.setScaleVal,"data-id":9,className:9==this.state["selectedAnswers-"+this.state.viewActiveBox.id]?"survey-li preboxval survey-li-active":"survey-li preboxval"},"9"),i.a.createElement("li",{onClick:this.setScaleVal,"data-id":10,className:10==this.state["selectedAnswers-"+this.state.viewActiveBox.id]?"survey-li preboxval survey-li-active":"survey-li preboxval"},"10")),i.a.createElement("div",{className:"likeornot"},i.a.createElement("span",null,this.state.globalLang.global_not_at_all_likely)," ",i.a.createElement("span",{className:"pull-right"},this.state.globalLang.global_extremely_likely)),i.a.createElement("div",{className:this.state.viewActiveBox.why_choose?"":"no-display",id:"why_choose_open_box5"},i.a.createElement("input",{className:"report-input",placeholder:this.state.globalLang.global_write_your_answer,type:"text",name:"selectedAnswers-whyChoose-"+this.state.viewActiveBox.id,onChange:this.handleInputChange,value:this.state["selectedAnswers-whyChoose-"+this.state.viewActiveBox.id]?this.state["selectedAnswers-whyChoose-"+this.state.viewActiveBox.id]:""}))),i.a.createElement("div",{className:"file"==this.state.viewActiveBox.boxtype?"report-question-outer":"report-question-outer no-display"},i.a.createElement("div",{className:"survey-title no-margin",id:"preview1"},this.state.viewActiveBox.name),i.a.createElement("div",{className:this.state.viewActiveBox.description?"quest-discription":"quest-discription no-display"},this.state.viewActiveBox.descriptionText),i.a.createElement("div",{className:"profile_image_div",id:"profile_image_div6"},i.a.createElement("div",{className:"dropzone add_margin survey-dropzone dz-clickable"},i.a.createElement("input",{className:"input-file",type:"file",id:"input-file",name:"file-"+this.state.viewActiveBox.id,onChange:this.handleFileChange}),i.a.createElement("div",{className:"dz-default dz-message upload"},this.state.globalLang.global_upload),i.a.createElement("img",{src:"",id:"theImage"})))),i.a.createElement("button",{id:"rating-ok",className:this.state.questionsList&&this.state.questionsList[this.state.questionsList.length-1].id!=this.state.viewActiveBox.id&&this.state.questionsList.length>1?"report-btn":"report-btn no-display",onClick:this.goToNext},this.state.globalLang.global_ok," ",i.a.createElement("i",{className:"fa fa-check"})),i.a.createElement("button",{id:"rating-ok",className:this.state.questionsList&&this.state.questionsList[this.state.questionsList.length-1].id==this.state.viewActiveBox.id||1==this.state.questionsList.length?"report-btn":"report-btn no-display",onClick:this.submitView},this.state.globalLang.global_ok," ",i.a.createElement("i",{className:"fa fa-check"})),i.a.createElement("div",{className:"view-number"},this.state.viewActiveBox.displayOrder," ",i.a.createElement("i",{className:"fa fa-arrow-right"}))))),i.a.createElement("div",{className:this.state.showModal?"overlay":""}),i.a.createElement("div",{id:"filterModal",role:"dialog",className:this.state.showModal?"modal fade in displayBlock":"modal fade"},i.a.createElement("div",{className:"modal-dialog"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal",onClick:this.dismissModal},"\xd7"),i.a.createElement("h4",{className:"modal-title",id:"model_title"},this.state.globalLang.global_delete_survey)),i.a.createElement("div",{id:"errorwindow",className:"modal-body add-patient-form filter-patient"},this.state.globalLang.global_r_u_sure),i.a.createElement("div",{className:"modal-footer"},i.a.createElement("div",{className:"col-md-12 text-left",id:"footer-btn"},i.a.createElement("button",{type:"button",className:"btn  logout pull-right","data-dismiss":"modal",onClick:this.dismissModal},this.state.globalLang.global_no),i.a.createElement("button",{type:"button",className:"btn btn-success pull-right m-r-10","data-dismiss":"modal",onClick:this.deleteTemplate},this.state.globalLang.global_yes)))))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeonClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock positionFixed":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.globalLang.loading_please_wait_text))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};if(void 0!=e.showLoader&&0==e.showLoader)return{showLoader:!1};if(void 0!=e.savedTemplateData&&1==e.savedTemplateData&&"false"==localStorage.getItem("showLoader")&&rt.toast.success(e.message,{onClose:function(){e.history.push("/surveys/manage")}}),void 0!=e.statusChanged&&1==e.statusChanged&&"false"==localStorage.getItem("showLoader"))return rt.toast.success(e.message),a.is_published=!t.is_published,a.showLoader=!1,a;if(void 0!=e.deleteTemplateData&&1==e.deleteTemplateData&&"false"==localStorage.getItem("showLoader")&&rt.toast.success(e.message,{onClose:function(){e.history.push("/surveys/manage")}}),void 0!=e.templateData&&e.templateData!=t.templateData&&!t.userChanged&&"false"==localStorage.getItem("showLoader")){var s=e.templateData.data;if(s.length){a.mainOptions=[];s.map(function(e,t){var n,i=(n=e.boxtype,Object.keys(eg).find(function(e){return eg[e]===n}));e.boxtype=i,e.currentlyActive=!1,e.required=!!e.required,e.description=!!e.description,s[t]=e,a["name-"+e.id]=e.name,a["description-"+e.id]=e.descriptionText,a.mainOptions.push({id:e.id,name:e.name}),e.options&&e.options.length&&e.options.map(function(t,s){a["choice-"+e.id+"-"+s]=t})}),s[0].currentlyActive=!0,a.activeBox=s[0],a.viewActiveBox=s[0],a.activeBoxRequired=!!s[0].required,a.activeBoxDesc=!!s[0].description}a.templateData=e.templateData,a.showLoader=!1,a.questionsList=s,a.title=e.templateData.title,a.templateId=e.templateData.sid,a.is_published=e.templateData.is_published}return void 0!=e.showLoader&&0==e.showLoader&&"false"==localStorage.getItem("showLoader")?(a.showLoader=!1,a):(console.log(a),a)}}]),t}(n.Component);var ag=Object(Z.b)(function(e){var t={},a=JSON.parse(localStorage.getItem("languageData"));return localStorage.setItem("showLoader",!1),"SURVEY_TEMPLATE_DATA"===e.surveyReducer.action&&(200!=e.surveyReducer.data.status?(rt.toast.error(a.global[e.surveyReducer.data.message]),t.showLoader=!1):t.templateData=e.surveyReducer.data.data),"SAVE_SURVEY_TEMPLATE_DATA"===e.surveyReducer.action&&(201!=e.surveyReducer.data.status||200!=e.surveyReducer.data.status?(rt.toast.error(a.global[e.surveyReducer.data.message]),t.showLoader=!1):(t.savedTemplateData=!0,t.message=a.global[e.surveyReducer.data.message])),"DELETE_SURVEY_TEMPLATE"===e.surveyReducer.action&&(200==e.surveyReducer.data.status?(rt.toast.error(a.global[e.surveyReducer.data.message]),t.showLoader=!1):(t.deleteTemplateData=!0,t.message=a.global[e.surveyReducer.data.message])),"SURVEY_PUBLISH_STATUS"===e.surveyReducer.action&&(200!=e.surveyReducer.data.status?(rt.toast.error(a.global[e.surveyReducer.data.message]),t.showLoader=!1):(t.statusChanged=!0,t.message=a.global[e.surveyReducer.data.message],t.timeStamp=new Date)),t},function(e){return Object(c.bindActionCreators)({getTemplateData:Hh,saveTemplateData:Gh,deleteTemplate:Vh,togglePublish:zh},e)})(tg),sg=(Q.a.create(),function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).toggleCalendar=function(e){if("calendar-input"===e.name||!1!==a.state.showCalendar){var t=!1;t=!1===a.state.showCalendar&&void 0!==e.name&&"calendar-input"===e.name,a.setState({showCalendar:t})}},a.handleRangeChange=function(e,t){var s,n=t.selection.startDate,i=t.selection.endDate;n=Object(ss.b)(n,"YYYY-MM-DD"),i=Object(ss.b)(i,"YYYY-MM-DD"),a.setState((s={},Object(se.a)(s,e,Object(m.a)({},a.state[e],t)),Object(se.a)(s,"showCalendar",!1),Object(se.a)(s,"from_date",n),Object(se.a)(s,"to_date",i),s)),a.handleSubmit(e,{from_date:n,to_date:i})},a.handleSubmit=function(e,t){var s="",n="";"object"===typeof e?e.preventDefault():(s=t.from_date,n=t.to_date);var i={params:{page:1,pagesize:a.state.pagesize,to_date:n||a.state.to_date,from_date:s||a.state.from_date,user_id:a.state.selectedSureyIdList.provider?a.state.selectedSureyIdList.provider.join():0,clinic_id:a.state.selectedSureyIdList.clinics?a.state.selectedSureyIdList.clinics.join():0,service_id:a.state.selectedSureyIdList.services?a.state.selectedSureyIdList.services.join():0,nps_id:a.state.selectedSureyIdList.nps?a.state.selectedSureyIdList.nps.join():0}};a.setState({page:1,pagesize:a.state.pagesize,loadMore:!0,startFresh:!0,next_page_url:"",showLoader:!0,objectNames:[],userLogList:[],dataFiltered:!0,to_date:n||a.state.to_date,from_date:s||a.state.from_date,viewSurveyData:[]}),a.props.surveysList(i)},a.handleClick=function(e){a.node.contains(e.target)&&!0===a.state.showCalendar||a.toggleCalendar(e.target)},a.handleClickSurvey=function(e){var t={ProviderClass:"new-dropdown-menu Providers no-display",ClinicsClass:"new-dropdown-menu Clinics no-display",ServicesClass:"new-dropdown-menu Services no-display",NPSClass:"new-dropdown-menu NPS no-display"};if(a.muli_sel_btn_provider.contains(e.target)||a.muli_sel_btn_clinics.contains(e.target)||a.muli_sel_btn_services.contains(e.target)||a.muli_sel_btn_nps.contains(e.target)){a.muli_sel_btn_provider.contains(e.target)?(t.ProviderClass="new-dropdown-menu Providers","provider"):a.muli_sel_btn_clinics.contains(e.target)?(t.ClinicsClass="new-dropdown-menu muli_sel_btn_clinics","clinics"):a.muli_sel_btn_services.contains(e.target)?(t.ServicesClass="new-dropdown-menu Services","services"):a.muli_sel_btn_nps.contains(e.target)&&(t.NPSClass="new-dropdown-menu NPS","nps"),e.target.type}else if(a.state.isSurveyListApi){var s={params:{page:1,pagesize:a.state.pagesize,to_date:a.state.to_date,from_date:a.state.from_date,user_id:a.state.selectedSureyIdList.provider?a.state.selectedSureyIdList.provider.join():0,clinic_id:a.state.selectedSureyIdList.clinics?a.state.selectedSureyIdList.clinics.join():0,service_id:a.state.selectedSureyIdList.services?a.state.selectedSureyIdList.services.join():0,nps_id:a.state.selectedSureyIdList.nps?a.state.selectedSureyIdList.nps.join():0}};a.setState({isSurveyListApi:!1,showLoader:!0,page:1,pagesize:a.state.pagesize,loadMore:!0,startFresh:!0,next_page_url:"",viewSurveyData:[]}),a.props.surveysList(s)}a.setState(t)},a.selectedSureyIdList=function(e){var t=e.target.name.split("-"),s=parseInt(t[1]),n=t[0],i=e.target.value,r=a.state.selectedSureyIdList[n].indexOf(s),o=a.state.selectedSureyIdList;"true"==i?o[n].splice(r,1):o[n].push(s),a.setState({selectedSureyIdList:o,isSurveyListApi:!0,isSurveyListUpdated:!0})},a.toggleSurveyFilter=function(e){var t=e.target.name,s=a.state.selectedSureyIdList,n=a.state.eventSureveyTab;"unselect"==n[t]?(s[t]=[],n[t]="select"):"select"==n[t]&&(s[t]=a.state.totalSureyIdList[t],n[t]="unselect"),a.setState({selectedSureyIdList:s,eventSureveyTab:n,isSurveyListApi:!0,isSurveyListUpdated:!0})},a.loadMore=function(){a.setState({loadMore:!0,startFresh:!0,showLoader:!0,showLoadingText:!0});var e={params:{page:a.state.page,pagesize:a.state.pagesize,to_date:a.state.to_date,from_date:a.state.from_date,user_id:a.state.selectedSureyIdList.provider?a.state.selectedSureyIdList.provider.join():0,clinic_id:a.state.selectedSureyIdList.clinics?a.state.selectedSureyIdList.clinics.join():0,service_id:a.state.selectedSureyIdList.services?a.state.selectedSureyIdList.services.join():0,nps_id:a.state.selectedSureyIdList.nps?a.state.selectedSureyIdList.nps.join():0}};a.props.surveysList(e)},a.surveyEdit=function(e){return i.a.createElement("div",null,a.props.history.push("/surveys/view-all/".concat(e,"/survey-data")))};var s=JSON.parse(localStorage.getItem("languageData"));JSON.parse(localStorage.getItem("userData"));return a.state={dateRangePicker:{selection:{startDate:new Date,endDate:new Date,key:"selection"}},to_date:Object(ss.b)(new Date,"YYYY-MM-DD"),from_date:Object(ss.b)(new Date,"YYYY-MM-DD"),viewAllSurveysList:[],viewSurveyData:[],ProviderClass:"new-dropdown-menu Providers no-display",ClinicsClass:"new-dropdown-menu Clinics no-display",ServicesClass:"new-dropdown-menu Services no-display",NPSClass:"new-dropdown-menu NPS no-display",selectedSureyIdList:{provider:[],services:[],clinics:[],nps:[1,2,3]},isSurveyListApi:!1,isSurveyListUpdated:!1,totalSureyIdList:{provider:0,services:0,clinics:0,nps:3},eventSureveyTab:{provider:"unselect",services:"unselect",clinics:"unselect",nps:"unselect"},page:1,pagesize:15,next_page_url:"",startFresh:!0,showLoadingText:!1,showLoader:!1,showCalendar:!1,globalLang:s.global},window.onscroll=function(){var e=parseInt(Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop));window.innerHeight+e===document.documentElement.offsetHeight&&null!=a.state.next_page_url&&a.loadMore()},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleClick,!1),document.addEventListener("click",this.handleClickSurvey,!1);var e=JSON.parse(localStorage.getItem("languageData"));this.setState({surveys_survey:e.surveys.surveys_survey,surveys_insights:e.surveys.surveys_insights,survey_selected_clinics:e.surveys.survey_selected_clinics,survey_selected_nps_score:e.surveys.survey_selected_nps_score,survey_selected_providers:e.surveys.survey_selected_providers,survey_selected_services:e.surveys.survey_selected_services,survey_export:e.surveys.survey_export,survey_export_csv:e.surveys.survey_export_csv,survey_export_excel:e.surveys.survey_export_excel,survey_select_all:e.surveys.survey_select_all,survey_unselect_all:e.surveys.survey_unselect_all,survey_all_surveys:e.surveys.survey_all_surveys,survey_client:e.surveys.survey_client,survey_appointment:e.surveys.survey_appointment,survey_provider:e.surveys.survey_provider,survey_service:e.surveys.survey_service,survey_survey_title:e.surveys.survey_survey_title,survey_submitted_on:e.surveys.survey_submitted_on,survey_satisfaction_score:e.surveys.survey_satisfaction_score,survey_sorry_no_record_found:e.surveys.survey_sorry_no_record_found,survey_processing_please_wait:e.surveys.survey_processing_please_wait});var t={params:{to_date:this.state.to_date,from_date:this.state.from_date,page:1,pagesize:this.state.pagesize}};this.setState({showLoader:!0,page:1,pagesize:this.state.pagesize,loadMore:!0,startFresh:!0,next_page_url:"",viewSurveyData:[]}),this.props.surveysList(t)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClick,!1),document.removeEventListener("click",this.handleClickSurvey,!1)}},{key:"shouldComponentUpdate",value:function(e,t){return!!this.state.startFresh||(!!this.state.loadMore||!!this.state.showLoader)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"main protected"},i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement("ul",{className:"sub-menu"},i.a.createElement("li",null,i.a.createElement(me.a,{to:"/surveys/dashboard"},this.state.surveys_insights)),i.a.createElement("li",null,i.a.createElement(me.a,{to:"/surveys/manage",className:"active"},this.state.surveys_survey))),i.a.createElement("div",{className:"juvly-section full-width"},i.a.createElement("div",{className:"setting-search-outer"},i.a.createElement("div",{className:"search-bg new-calender pull-left",ref:function(t){e.node=t}},i.a.createElement("img",{src:as.a}),this.state.showCalendar&&i.a.createElement(Ia.DateRangePicker,{ranges:[this.state.dateRangePicker.selection],onChange:this.handleRangeChange.bind(this,"dateRangePicker"),showSelectionPreview:!1,moveRangeOnFirstSelection:!0,className:"CalendarPreviewArea",months:1,scroll:{enabled:!0},maxDate:Object(ss.a)(new Date,900),minDate:Object(ss.a)(new Date,-365)}),i.a.createElement("input",Object(se.a)({readOnly:!0,type:"text",autoComplete:"off",className:"input-cal setting-search-input",name:"calendar-input",value:this.state.from_date?this.state.from_date+"-"+this.state.to_date:"",onChange:this.handleInputChange},"autoComplete","off"))),i.a.createElement("div",{className:"multi-sel-btn",ref:function(t){e.muli_sel_btn_provider=t}},this.state.survey_selected_providers," (",this.state.selectedSureyIdList.provider?this.state.selectedSureyIdList.provider.length:0,")",i.a.createElement("ul",{className:this.state.ProviderClass},i.a.createElement("li",{id:"select_btn_li"},i.a.createElement("a",{href:"javascript:void(0);",className:"line-btn text-center",name:"provider",onClick:this.toggleSurveyFilter},"unselect"==this.state.eventSureveyTab.provider?this.state.survey_unselect_all:this.state.survey_select_all)),this.state.viewAllSurveysList.users&&this.state.viewAllSurveysList.users.map(function(t,a){return i.a.createElement("li",{key:"provider-"+t.id},i.a.createElement("label",null,i.a.createElement("input",{type:"checkbox",checked:e.state.selectedSureyIdList.provider.indexOf(t.id)>-1&&"checked",value:e.state.selectedSureyIdList.provider.indexOf(t.id)>-1,name:"provider-"+t.id,onChange:e.selectedSureyIdList})," ",t.firstname+" "+t.lastname))}))),i.a.createElement("div",{className:"multi-sel-btn",ref:function(t){e.muli_sel_btn_clinics=t}},this.state.survey_selected_clinics," (",this.state.selectedSureyIdList.clinics?this.state.selectedSureyIdList.clinics.length:0,")",i.a.createElement("ul",{className:this.state.ClinicsClass},i.a.createElement("li",{id:"select_btn_li"},i.a.createElement("a",{href:"javascript:void(0);",className:"line-btn text-center",name:"clinics",onClick:this.toggleSurveyFilter},"unselect"==this.state.eventSureveyTab.clinics?this.state.survey_unselect_all:this.state.survey_select_all)),this.state.viewAllSurveysList.clinic_list&&this.state.viewAllSurveysList.clinic_list.map(function(t,a){return i.a.createElement("li",{key:"clinics-"+t.name.id},i.a.createElement("label",null,i.a.createElement("input",{type:"checkbox",checked:e.state.selectedSureyIdList.clinics.indexOf(t.name.id)>-1&&"checked",value:e.state.selectedSureyIdList.clinics.indexOf(t.name.id)>-1,name:"clinics-"+t.name.id,onChange:e.selectedSureyIdList})," ",t.name.clinic_name))}))),i.a.createElement("div",{className:"multi-sel-btn",ref:function(t){e.muli_sel_btn_services=t}},this.state.survey_selected_services," (",this.state.selectedSureyIdList.services?this.state.selectedSureyIdList.services.length:0,")",i.a.createElement("ul",{className:this.state.ServicesClass},i.a.createElement("li",{id:"select_btn_li"},i.a.createElement("a",{href:"javascript:void(0);",className:"line-btn text-center",name:"services",onClick:this.toggleSurveyFilter},"unselect"==this.state.eventSureveyTab.services?this.state.survey_unselect_all:this.state.survey_select_all)),this.state.viewAllSurveysList.service_list&&this.state.viewAllSurveysList.service_list.map(function(t,a){return i.a.createElement("li",{key:"services-"+t.name.id},i.a.createElement("label",null,i.a.createElement("input",{type:"checkbox",checked:e.state.selectedSureyIdList.services.indexOf(t.name.id)>-1&&"checked",value:e.state.selectedSureyIdList.services.indexOf(t.name.id)>-1,name:"services-"+t.name.id,onChange:e.selectedSureyIdList})," ",t.name.name))}))),i.a.createElement("div",{className:"multi-sel-btn",ref:function(t){e.muli_sel_btn_nps=t}},this.state.survey_selected_nps_score," (",this.state.selectedSureyIdList.nps?this.state.selectedSureyIdList.nps.length:0,")",i.a.createElement("ul",{className:this.state.NPSClass},i.a.createElement("li",{id:"select_btn_li"},i.a.createElement("a",{href:"javascript:void(0);",className:"line-btn text-center",name:"nps",onClick:this.toggleSurveyFilter},"unselect"==this.state.eventSureveyTab.nps?this.state.survey_unselect_all:this.state.survey_select_all)),i.a.createElement("li",{key:"np-1"},i.a.createElement("label",null,i.a.createElement("input",{type:"checkbox",checked:this.state.selectedSureyIdList.nps.indexOf(1)>-1&&"checked",value:!!this.state.selectedSureyIdList.nps[1],name:"nps-1",onChange:this.selectedSureyIdList})," 0-3 NPS Score")),i.a.createElement("li",{key:"np-2"},i.a.createElement("label",null,i.a.createElement("input",{type:"checkbox",checked:this.state.selectedSureyIdList.nps.indexOf(2)>-1&&"checked",value:!!this.state.selectedSureyIdList.nps[2],name:"nps-2",onChange:this.selectedSureyIdList})," 4-6 NPS Score")),i.a.createElement("li",{key:"np-3"},i.a.createElement("label",null,i.a.createElement("input",{type:"checkbox",checked:this.state.selectedSureyIdList.nps.indexOf(3)>-1&&"checked",value:!!this.state.selectedSureyIdList.nps[3],name:"nps-3",onChange:this.selectedSureyIdList})," 7-10 NPS Score")))),i.a.createElement("div",{className:"export pull-right"},i.a.createElement("div",{className:"dropdown pull-left"},i.a.createElement("button",{className:"btn btn-default dropdown-toggle",type:"button",id:"dropdownMenu1","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},this.state.survey_export,i.a.createElement("i",{className:"fas fa-angle-down"})),i.a.createElement("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenu1"},i.a.createElement("li",null,i.a.createElement("a",{href:"javascript:void(0);"},this.state.survey_export_csv)),i.a.createElement("li",null,i.a.createElement("a",{href:"javascript:void(0);"},this.state.survey_export_excel)))))),i.a.createElement("div",{className:"small-popup-title border-top"},i.a.createElement("div",{className:"juvly-title m-b-0"},this.state.survey_all_surveys,i.a.createElement(me.a,{to:"/surveys/dashboard",className:"pull-right"},i.a.createElement("img",{src:"/images/close.png"})))),i.a.createElement("div",{className:"table-responsive"},i.a.createElement("table",{className:"table-updated setting-table min-w-1000"},i.a.createElement("thead",{className:"table-updated-thead"},i.a.createElement("tr",null,i.a.createElement("th",{className:"col-xs-2 table-updated-th"},this.state.survey_client),i.a.createElement("th",{className:"col-xs-2 table-updated-th min-w-160"},this.state.survey_appointment),i.a.createElement("th",{className:"col-xs-2 table-updated-th"},this.state.survey_provider),i.a.createElement("th",{className:"col-xs-2 table-updated-th"},this.state.survey_service),i.a.createElement("th",{className:"col-xs-2 table-updated-th"},this.state.survey_survey_title),i.a.createElement("th",{className:"col-xs-2 table-updated-th min-w-160"},this.state.survey_submitted_on),i.a.createElement("th",{className:"col-xs-2 table-updated-th text-right min-w-120"},this.state.survey_satisfaction_score))),i.a.createElement("tbody",null,void 0!==this.state.viewSurveyData&&this.state.viewSurveyData.length>0?this.state.viewSurveyData.map(function(t,a){return i.a.createElement("tr",{key:"tr-survey-"+a,className:"table-updated-tr",id:"liConsltDivId_"+a,"data-order_by":t.order_by,onClick:e.surveyEdit.bind(e,t.surveys_id)},i.a.createElement("td",{className:"col-xs-2 table-updated-td"},t.client),i.a.createElement("td",{className:"col-xs-2 table-updated-td min-w-160"},t.appointment),i.a.createElement("td",{className:"col-xs-2 table-updated-td"},t.provider),i.a.createElement("td",{className:"col-xs-2 table-updated-td nps-name text-ellipsis"},t.service_name),i.a.createElement("td",{className:"col-xs-2 table-updated-td"},t.surveys),i.a.createElement("td",{className:"col-xs-2 table-updated-td min-w-160"},t.submitted),i.a.createElement("td",{className:"col-xs-2 table-updated-td text-right min-w-120"},t.survey_score_sum))}):!1===this.state.showLoader&&i.a.createElement("tr",{className:"table-updated-tr"},i.a.createElement("td",{className:"no-record no-float",colSpan:7},this.state.survey_sorry_no_record_found))))),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.survey_processing_please_wait))))))),i.a.createElement("div",{className:this.state.showLoadingText?"loading-please-wait":"loading-please-wait no-display "},this.state.globalLang.loading_please_wait_text))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};if(void 0!=e.showLoader&&0==e.showLoader)return{showLoader:!1};if(void 0!=e.viewAllSurveysList&&e.viewAllSurveysList.data!=t.viewAllSurveysList&&200==e.viewAllSurveysList.status){if(e.viewAllSurveysList.next_page_url!==t.next_page_url){if(null==t.next_page_url)return localStorage.setItem("sortOnly",!1),a.next_page_url=null;0==t.viewSurveyData.length&&1==t.startFresh?"false"==localStorage.getItem("sortOnly")?(null!=e.viewAllSurveysList.data.next_page_url?a.page=t.page+1:a.next_page_url=e.viewAllSurveysList.data.next_page_url,a.viewAllSurveysList=e.viewAllSurveysList.data,a.viewSurveyData=e.viewAllSurveysList.data.data,a.startFresh=!1,a.showLoader=!1,a.showLoadingText=!1,a.selectedSureyIdList={provider:t.isSurveyListUpdated?t.selectedSureyIdList.provider:e.viewAllSurveysList.data.user_ids,services:t.isSurveyListUpdated?t.selectedSureyIdList.services:e.viewAllSurveysList.data.service_ids,clinics:t.isSurveyListUpdated?t.selectedSureyIdList.clinics:e.viewAllSurveysList.data.clinic_ids,nps:t.isSurveyListUpdated?t.selectedSureyIdList.nps:[1,2,3]},a.totalSureyIdList={provider:e.viewAllSurveysList.data.user_ids,services:e.viewAllSurveysList.data.service_ids,clinics:e.viewAllSurveysList.data.clinic_ids,nps:[1,2,3]}):localStorage.setItem("sortOnly",!1):t.viewSurveyData!==e.viewAllSurveysList.data.data&&0!=t.viewSurveyData.length&&(a.viewSurveyData=Object(oa.a)(t.viewSurveyData).concat(Object(oa.a)(e.viewAllSurveysList.data.data)),a.page=t.page+1,a.next_page_url=e.viewAllSurveysList.data.next_page_url,a.showLoader=!1,a.showLoadingText=!1)}return a}return null}}]),t}(i.a.Component));var ng=Object(Z.b)(function(e){JSON.parse(localStorage.getItem("languageData"));var t={};return"SURVEYS_LIST"===e.surveyReducer.action&&(200!=e.surveyReducer.data.status?t.showLoader=!1:t.viewAllSurveysList=e.surveyReducer.data),t},function(e){return Object(c.bindActionCreators)({surveysList:Bh},e)})(sg),ig=(Q.a.create(),function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).toggleCalendar=function(e){if("calendar-input"===e.name||!1!==a.state.showCalendar){var t=!1;t=!1===a.state.showCalendar&&void 0!==e.name&&"calendar-input"===e.name,a.setState({showCalendar:t})}},a.handleRangeChange=function(e,t){var s,n=t.selection.startDate,i=t.selection.endDate;n=Object(ss.b)(n,"YYYY-MM-DD"),i=Object(ss.b)(i,"YYYY-MM-DD"),a.setState((s={},Object(se.a)(s,e,Object(m.a)({},a.state[e],t)),Object(se.a)(s,"showCalendar",!1),Object(se.a)(s,"from_date",n),Object(se.a)(s,"to_date",i),s)),a.handleSubmit(e,{from_date:n,to_date:i})},a.handleSubmit=function(e,t){var s="",n="";"object"===typeof e?e.preventDefault():(s=t.from_date,n=t.to_date);var i={params:{to_date:n||a.state.to_date,from_date:s||a.state.from_date}};a.setState({page:1,pagesize:a.state.pagesize,loadMore:!0,startFresh:!0,next_page_url:"",showLoader:!0,objectNames:[],userLogList:[],dataFiltered:!0}),a.props.surveysListQuestions(i)},a.handleClick=function(e){a.node.contains(e.target)&&!0===a.state.showCalendar||a.toggleCalendar(e.target)},a.state={dateRangePicker:{selection:{startDate:new Date,endDate:new Date,key:"selection"}},to_date:Object(ss.b)(new Date,"YYYY-MM-DD"),from_date:Object(ss.b)(new Date,"YYYY-MM-DD"),viewAllsurveysListQuestions:[],viewSurveyData:[],id:a.props.match.params.id},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e=this.state.id,t=JSON.parse(localStorage.getItem("languageData"));this.setState({survey_coolsculpting:t.dashboard.survey_coolsculpting,surveys_insights:t.surveys.surveys_insights,surveys_survey:t.surveys.surveys_survey,survey_que:t.dashboard.survey_que,survey_ans:t.dashboard.survey_ans});this.props.surveysListQuestions(e)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"main protected"},i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement("ul",{className:"sub-menu"},i.a.createElement("li",null,i.a.createElement(me.a,{to:"/surveys/dashboard"},this.state.surveys_insights)),i.a.createElement("li",null,i.a.createElement(me.a,{to:"/surveys/manage",className:"active"},this.state.surveys_survey))),i.a.createElement("div",{className:"juvly-section full-width"},i.a.createElement("div",{className:"juvly-container"},i.a.createElement("div",{className:"juvly-title"},this.state.survey_coolsculpting,i.a.createElement("a",{href:"javascript:void(0);",className:"pull-right close_survey"},i.a.createElement("img",{src:"/images/close.png"}))),void 0!==this.state.viewSurveyData&&this.state.viewSurveyData.map(function(t,a){return i.a.createElement("div",{className:"survey-qus-ans",key:"survey-qus-ans"+a},i.a.createElement("div",{className:"survey-ques"},i.a.createElement("span",{className:"que-label"},e.state.survey_que)," ",t.question),i.a.createElement("div",{className:"survey-ans"},i.a.createElement("span",{className:"ans-label"},e.state.survey_ans),t.score))})))))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return void 0!=e.showLoader&&0==e.showLoader?{showLoader:!1}:void 0!=e.viewAllsurveysListQuestions&&e.viewAllsurveysListQuestions.data!=t.viewAllsurveysListQuestions&&200==e.viewAllsurveysListQuestions.status&&"false"==localStorage.getItem("loadAgain")?(localStorage.setItem("loadAgain",!1),{viewAllsurveysListQuestions:e.viewAllsurveysListQuestions.data,viewSurveyData:e.viewAllsurveysListQuestions.data.questions_data,showLoader:!1}):null}}]),t}(i.a.Component));var rg=Object(Z.b)(function(e){JSON.parse(localStorage.getItem("languageData"));var t={};return"SURVEYS_LIST_QUESTIONS"===e.surveyReducer.action&&(200!=e.surveyReducer.data.status?t.showLoader=!1:t.viewAllsurveysListQuestions=e.surveyReducer.data),t},function(e){return Object(c.bindActionCreators)({surveysListQuestions:qh},e)})(ig),og=function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,s="checkbox"===t.type?t.checked:t.value;a.setState(Object(se.a)({},e.target.name,s)),"object_name"===e.target.name&&a.handleSubmit(e,s)},a.handleSubmit=function(e,t){var s="",n="",i="undefined";"object"===typeof e?(e.preventDefault(),i=t):(s=t.from_date,n=t.to_date);var r={params:{to_date:n||a.state.to_date,from_date:s||a.state.from_date,term:a.state.term,object_name:"undefined"!==i?i:a.state.object_name,page:1,pagesize:a.state.pagesize}};a.setState({page:1,pagesize:a.state.pagesize,loadMore:!0,startFresh:!0,next_page_url:"",showLoader:!0,objectNames:[],userLogList:[],dataFiltered:!0}),a.props.getUserLogs(r)},a.loadMore=function(){a.setState({loadMore:!0,startFresh:!0,showLoader:!1,showLoadingText:!0});var e={params:{to_date:a.state.to_date,from_date:a.state.from_date,term:a.state.term,object_name:a.state.object_name,page:a.state.page,pagesize:a.state.pagesize}};a.props.getUserLogs(e)},a.renderColorClass=function(e){switch(e){case"patient":return"user-status status-color-a";case"procedure":return"user-status status-color-b";case"user":return"user-status status-color-c";case"inventory":return"user-status status-color-k";case"appointment":return"user-status status-color-l";case"service":return"user-status status-color-f";case"clinic":return"user-status status-color-g";case"invoice":return"user-status status-color-h";case"sale":return"user-status status-color-i";default:return"user-status status-color-z"}},a.toggleCalendar=function(e){if("calendar-input"===e.name||!1!==a.state.showCalendar){var t=!1;t=!1===a.state.showCalendar&&void 0!==e.name&&"calendar-input"===e.name,a.setState({showCalendar:t})}},a.handleRangeChange=function(e,t){var s,n=t.selection.startDate,i=t.selection.endDate;n=Object(ss.b)(n,"YYYY-MM-DD"),i=Object(ss.b)(i,"YYYY-MM-DD"),a.setState((s={},Object(se.a)(s,e,Object(m.a)({},a.state[e],t)),Object(se.a)(s,"showCalendar",!1),Object(se.a)(s,"from_date",n),Object(se.a)(s,"to_date",i),s)),a.handleSubmit(e,{from_date:n,to_date:i})},a.handleClick=function(e){a.node.contains(e.target)&&!0===a.state.showCalendar||a.toggleCalendar(e.target)},a.handleCsv=function(e){var t={to_date:a.state.to_date,from_date:a.state.from_date,term:a.state.term,object_name:a.state.object_name,page:a.state.page,file_type:e};console.log(t),a.props.exportCsv(t)},a.state={dateRangePicker:{selection:{startDate:new Date,endDate:new Date,key:"selection"}},to_date:Object(ss.b)(new Date,"YYYY-MM-DD"),from_date:Object(ss.b)(new Date,"YYYY-MM-DD"),term:"",object_name:"",page:1,pagesize:20,startFresh:!0,showLoader:!1,showLoadingText:!1,next_page_url:"",loadMore:!0,objectNames:[],userLogList:[],dataFiltered:!1,showCalendar:!1,file_type1:"csv",file_type2:"xls",exportCsvData:{},file:""},localStorage.setItem("loadFresh",!1),a.props.exportEmptyData({}),window.onscroll=function(){var e=parseInt(Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop));window.innerHeight+e===document.documentElement.offsetHeight&&null!==a.state.next_page_url&&a.loadMore()},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e={params:{to_date:this.state.to_date,from_date:this.state.from_date,term:this.state.term,object_name:this.state.object_name,page:this.state.page,pagesize:this.state.pagesize}};document.addEventListener("click",this.handleClick,!1);var t=JSON.parse(localStorage.getItem("languageData"));this.setState({dash_userlog_search_text:t.dashboard.dash_userlog_search_text,dash_userlog_obj_menu_text:t.dashboard.dash_userlog_obj_menu_text,dash_userlog_opt_menu_all_text:t.dashboard.dash_userlog_opt_menu_all_text,dash_userlog_opt_menu_appointment_text:t.dashboard.dash_userlog_opt_menu_appointment_text,dash_userlog_opt_menu_egiftcard_text:t.dashboard.dash_userlog_opt_menu_egiftcard_text,dash_userlog_opt_menu_clinic_text:t.dashboard.dash_userlog_opt_menu_clinic_text,dash_userlog_opt_menu_inventory_text:t.dashboard.dash_userlog_opt_menu_inventory_text,dash_userlog_opt_menu_survey_text:t.dashboard.dash_userlog_opt_menu_survey_text,dash_userlog_opt_menu_invoice_text:t.dashboard.dash_userlog_opt_menu_invoice_text,dash_userlog_opt_menu_patient_text:t.dashboard.dash_userlog_opt_menu_patient_text,dash_userlog_opt_menu_client_text:t.dashboard.dash_userlog_opt_menu_client_text,dash_userlog_opt_menu_procedure_text:t.dashboard.dash_userlog_opt_menu_procedure_text,dash_userlog_opt_menu_sale_text:t.dashboard.dash_userlog_opt_menu_sale_text,dash_userlog_opt_menu_service_text:t.dashboard.dash_userlog_opt_menu_service_text,dash_userlog_opt_menu_user_text:t.dashboard.dash_userlog_opt_menu_user_text,dash_userlog_export_text:t.dashboard.dash_userlog_export_text,dash_userlog_export_as_csv_text:t.dashboard.dash_userlog_export_as_csv_text,dash_userlog_export_as_excel_text:t.dashboard.dash_userlog_export_as_excel_text,loading_please_wait_text:t.global.loading_please_wait_text,sorry_no_user_activities_found:t.dashboard.sorry_no_user_activities_found,dashboard_patient:t.dashboard.dashboard_patient,dashboard_client:t.dashboard.dashboard_client}),this.setState({showLoader:!0}),this.props.getUserLogs(e)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClick,!1),this.props.exportEmptyData({})}},{key:"render",value:function(){var e=this,t="";function a(e){var t="";return"update"===e.action&&"service"===e.type||("update"===e.action||"edit"===e.action)&&"appointment"===e.type&&0!==e.child_id?(t="/dashboard/user-logs/view-changes/"+e.type+"/"+e.child_id+"/"+e.object_id,i.a.createElement(me.a,{to:t},"View Changes")):null}return void 0!==this.state.objectNames&&(t=this.state.objectNames.map(function(t,a){var s="patient"==t?"dash_userlog_opt_menu_client_text":"dash_userlog_opt_menu_"+t+"_text";return i.a.createElement("option",{key:a,value:t},e.state[s])})),i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement("div",{className:"juvly-section full-width"},i.a.createElement("div",{className:"setting-search-outer"},i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("div",{className:"search-bg new-search"},i.a.createElement("i",{className:"fas fa-search"}),i.a.createElement("input",{className:"setting-search-input chart_search",placeholder:this.state.dash_userlog_search_text,name:"term",value:this.state.term,onChange:this.handleInputChange,autoComplete:"false"}))),i.a.createElement("div",{className:"search-bg new-calender pull-left",ref:function(t){e.node=t}},i.a.createElement("img",{src:as.a}),this.state.showCalendar&&i.a.createElement(Ia.DateRangePicker,{ranges:[this.state.dateRangePicker.selection],onChange:this.handleRangeChange.bind(this,"dateRangePicker"),className:"CalendarPreviewArea",maxDate:new Date}),i.a.createElement("input",{type:"text",className:"input-cal setting-search-input",name:"calendar-input",value:this.state.from_date?this.state.from_date+"-"+this.state.to_date:"",onChange:this.handleInputChange})),i.a.createElement("div",{className:"export pull-right"},i.a.createElement("div",{className:"dropdown pull-left"},i.a.createElement("button",{className:"btn btn-default dropdown-toggle",type:"",id:"dropdownMenu1","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},this.state.dash_userlog_export_text,i.a.createElement("i",{className:"fas fa-angle-down"})),i.a.createElement("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenu1"},i.a.createElement("li",null,i.a.createElement("a",{href:"javascript:void(0);",name:"csv",onClick:this.handleCsv.bind(this,this.state.file_type1)},this.state.dash_userlog_export_as_csv_text)),i.a.createElement("li",null,i.a.createElement("a",{href:"javascript:void(0);",name:"xls",onClick:this.handleCsv.bind(this,this.state.file_type2)},this.state.dash_userlog_export_as_excel_text))))),i.a.createElement("div",{className:"filter-type"},i.a.createElement("span",{className:"search-text"},this.state.dash_userlog_obj_menu_text,":"),i.a.createElement("div",{className:"header-select"},i.a.createElement("select",{value:this.state.object_name?this.state.object_name:"",onChange:this.handleInputChange,name:"object_name"},i.a.createElement("option",{value:""},"All"),t),i.a.createElement("i",{className:"fas fa-angle-down"})))),i.a.createElement("div",{className:"activity-outer"},this.state.userLogList?void 0!==this.state.userLogList&&this.state.userLogList.map(function(t,s){return i.a.createElement("div",{className:"activity-row",key:s},i.a.createElement("div",{className:e.renderColorClass(t.type)},t.type==e.state.dashboard_patient?e.state.dashboard_client.toUpperCase():t.type.toUpperCase()),i.a.createElement("div",{className:"activity-detail"},t.description,i.a.createElement(a,{action:t.action,type:t.type,child_id:t.child_id,object_id:t.object_id})),i.a.createElement("div",{className:"activity-time"},t.date))}):i.a.createElement("div",{className:"activity-row text-center"},i.a.createElement("div",{className:"activity-detail p-r-5"},this.state.sorry_no_user_activities_found)),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},"Processing. Please wait..."))))),i.a.createElement("div",{className:this.state.showLoadingText?"loading-please-wait":"loading-please-wait no-display "},this.state.loading_please_wait_text)))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(void 0!=e.showLoader&&0==e.showLoader)return{showLoader:!1};if(void 0!==e.xportCsvData&&t.xportCsvData!=e.xportCsvData){"false"==localStorage.getItem("showLoader")&&(e.xportCsvData,window.location.href=e.xportCsvData.file)}if(e.userLogList&&e.userLogList.user_logs.next_page_url!==t.next_page_url){if(null==t.next_page_url)return{next_page_url:null,objectNames:e.userLogList.objects};if(void 0!==t.userLogList&&0!==t.userLogList.length||1!=t.startFresh)return t.userLogList!==e.userLogList.user_logs.data&&0!=t.userLogList.length&&e.userLogList.user_logs.data?{userLogList:Object(oa.a)(t.userLogList).concat(Object(oa.a)(e.userLogList.user_logs.data)),page:t.page+1,showLoader:!1,next_page_url:e.userLogList.user_logs.next_page_url,objectNames:e.userLogList.objects,showLoadingText:!1}:{showLoader:!1,next_page_url:""};if(!1===t.dataFiltered){var a=1,s="";return null!==e.userLogList.user_logs.next_page_url?a=t.page+1:s=e.userLogList.user_logs.next_page_url,{page:a,userLogList:e.userLogList.user_logs.data,startFresh:!1,showLoader:!1,next_page_url:s,objectNames:e.userLogList.objects,showLoadingText:!1}}return{dataFiltered:!1}}return null}}]),t}(n.Component);var lg=Object(Z.b)(function(e){JSON.parse(localStorage.getItem("languageData"));var t={};return"USER_LOGS_LIST"===e.DashboardReducer.action?200!=e.DashboardReducer.data.status?t.showLoader=!1:t.userLogList=e.DashboardReducer.data.data:"EXPORT_CSV"===e.DashboardReducer.action&&(200!=e.DashboardReducer.data.status?t.showLoader=!1:t.xportCsvData=e.DashboardReducer.data.data),t},function(e){return Object(c.bindActionCreators)({getUserLogs:ma,exportCsv:ga,exportEmptyData:br},e)})(og),cg=function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t,s=e.target,n="checkbox"===s.type?s.checked:s.value;a.setState((t={},Object(se.a)(t,e.target.name,n),Object(se.a)(t,"userChanged",!0),t)),"object_name"===e.target.name&&a.handleSubmit(e,n)},a.handleSubmit=function(e,t){var s="",n="",i="undefined";"object"===typeof e?(e.preventDefault(),i=t):(s=t.from_date,n=t.to_date);n||a.state.to_date,s||a.state.from_date,a.state.term,"undefined"!==i||a.state.object_name,a.state.pagesize;a.setState({page:1,pagesize:a.state.pagesize,loadMore:!0,startFresh:!0,next_page_url:"",showLoader:!0,objectNames:[],userLogList:[],dataFiltered:!0})},a.handleLoader=function(e){a.setState({showLoader:!1})},a.state={showLoader:!1,userChanged:!1,viewChangesData:{},exportCsvData:{}},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.object_type,t=this.props.match.params.child_id,a=this.props.match.params.object_id;this.state.to_date,this.state.from_date,this.state.term,this.state.object_name,this.state.page,this.state.pagesize;document.addEventListener("click",this.handleClick,!1);var s=JSON.parse(localStorage.getItem("languageData"));this.setState({view_before_update:s.dashboard.view_before_update,view_after_update:s.dashboard.view_after_update,view_service_name:s.dashboard.view_service_name,view_service_category:s.dashboard.view_service_category,view_available_clinics:s.dashboard.view_available_clinics,view_is_service_dependent:s.dashboard.view_is_service_dependent,view_book_appointment:s.dashboard.view_book_appointment,view_card_capture:s.dashboard.view_card_capture,view_is_free_service:s.dashboard.view_is_free_service,view_questionnaires:s.dashboard.view_questionnaires,view_providers:s.dashboard.view_providers,view_resources:s.dashboard.view_resources,view_survey:s.dashboard.view_survey,view_cant_book:s.dashboard.view_cant_book,view_pre_treatment:s.dashboard.view_pre_treatment,view_post_treatment:s.dashboard.view_post_treatment,view_description:s.dashboard.view_description,view_done_by:s.dashboard.view_done_by,view_action_perform:s.dashboard.view_action_perform,view_done_on:s.dashboard.view_done_on,view_comparison_header:s.dashboard.view_comparison_header,view_duration:s.dashboard.view_duration}),this.setState({showLoader:!0}),this.props.viewChanges(e,t,a)}},{key:"render",value:function(){return i.a.createElement("div",{id:"content"},i.a.createElement("div",{class:"wide-popup"},i.a.createElement("div",{class:"modal-blue-header"},i.a.createElement(me.a,{to:"/dashboard/user-logs",onClick:this.handleLoader,class:"popup-cross"},"\xd7"),i.a.createElement("span",{class:"popup-blue-name"},"View Comparison"),i.a.createElement("div",{class:"popup-new-btns"})),i.a.createElement("div",{className:"wide-popup-wrapper"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement("div",{className:"wide-popup"},i.a.createElement("div",{className:"modal-blue-header"},i.a.createElement("a",{href:"#",className:"popup-cross"},"\xd7"),i.a.createElement("span",{className:"popup-blue-name"},this.state.view_comparison_header)),i.a.createElement("div",{className:"wide-popup-wrapper time-line"},i.a.createElement("div",{className:"table-responsive"},i.a.createElement("div",{className:"table com-noti-outer"},i.a.createElement("div",{className:"table-row com-notification"},i.a.createElement("div",{className:"table-cell",style:{width:"266px"}}),i.a.createElement("div",{className:"table-cell",style:{width:"266px"}},i.a.createElement("span",{className:"priv-text-color"},this.state.view_before_update)),i.a.createElement("div",{className:"table-cell",style:{width:"266px"}},i.a.createElement("span",{className:"priv-text-color"},this.state.view_after_update))),i.a.createElement("div",{className:"table-row com-notification"},i.a.createElement("label",{className:"table-cell com-noti-label"},this.state.view_service_name),i.a.createElement("div",{className:"table-cell"},i.a.createElement("span",{className:"priv-text-color"},this.state.service_name1)),i.a.createElement("div",{className:"table-cell"},i.a.createElement("span",{className:"priv-text-color"},this.state.service_name2))),i.a.createElement("div",{className:"table-row com-notification"},i.a.createElement("label",{className:"table-cell com-noti-label"},this.state.view_service_category),i.a.createElement("div",{className:"table-cell"},i.a.createElement("span",{className:"priv-text-color"},this.state.category_names1)),i.a.createElement("div",{className:"table-cell"},i.a.createElement("span",{className:"priv-text-color"},this.state.category_names2))),i.a.createElement("div",{className:"table-row com-notification"},i.a.createElement("label",{className:"table-cell com-noti-label"},this.state.view_available_clinics),i.a.createElement("div",{className:"table-cell"},"1",i.a.createElement("span",{className:"priv-text-color"},this.state.clinic_names1)),i.a.createElement("div",{className:"table-cell"},i.a.createElement("span",{className:"priv-text-color"},this.state.clinic_names2))),i.a.createElement("div",{className:"table-row com-notification"},i.a.createElement("label",{className:"table-cell com-noti-label"},this.state.view_is_service_dependent),i.a.createElement("div",{className:"table-cell"},i.a.createElement("span",{className:"priv-text-color"},0==this.state.devices1?"":this.state.devices1)),i.a.createElement("div",{className:"table-cell"},i.a.createElement("span",{className:"priv-text-color"},0==this.state.devices2?"":this.state.devices2))),i.a.createElement("div",{className:"table-row com-notification"},i.a.createElement("label",{className:"table-cell com-noti-label"},this.state.view_book_appointment),i.a.createElement("div",{className:"table-cell"},i.a.createElement("span",{className:"priv-text-color"},0==this.state.is_available_online1?"No":"Yes")),i.a.createElement("div",{className:"table-cell"},i.a.createElement("span",{className:"priv-text-color"},0==this.state.is_available_online2?"No":"Yes"))),i.a.createElement("div",{className:"table-row com-notification"},i.a.createElement("label",{className:"table-cell com-noti-label"},this.state.view_card_capture),i.a.createElement("div",{className:"table-cell"},i.a.createElement("span",{className:"priv-text-color"},0==this.state.is_service_free1?"No":"Yes")),i.a.createElement("div",{className:"table-cell"},i.a.createElement("span",{className:"priv-text-color"},0==this.state.is_service_free2?"No":"Yes"))),i.a.createElement("div",{className:"table-row com-notification"},i.a.createElement("label",{className:"table-cell com-noti-label"},this.state.view_is_free_service),i.a.createElement("div",{className:"table-cell"},i.a.createElement("span",{className:"priv-text-color"},0==this.state.free_consultation1?"No":"Yes")),i.a.createElement("div",{className:"table-cell"},i.a.createElement("span",{className:"priv-text-color"},0==this.state.free_consultation2?"No":"Yes"))),i.a.createElement("div",{className:"table-row com-notification"},i.a.createElement("label",{className:"table-cell com-noti-label"},this.state.view_questionnaires),i.a.createElement("div",{className:"table-cell"},i.a.createElement("span",{className:"priv-text-color"},this.state.questionnaires1)),i.a.createElement("div",{className:"table-cell"},i.a.createElement("span",{className:"priv-text-color"},this.state.questionnaires2))),i.a.createElement("div",{className:"table-row com-notification"},i.a.createElement("label",{className:"table-cell com-noti-label"},this.state.view_providers),i.a.createElement("div",{className:"table-cell"},i.a.createElement("span",{className:"priv-text-color"},this.state.provider_names1)),i.a.createElement("div",{className:"table-cell"},i.a.createElement("span",{className:"priv-text-color"},this.state.provider_names2))),i.a.createElement("div",{className:"table-row com-notification"},i.a.createElement("label",{className:"table-cell com-noti-label"},this.state.view_resources),i.a.createElement("div",{className:"table-cell"},i.a.createElement("span",{className:"priv-text-color"},this.state.resources1)),i.a.createElement("div",{className:"table-cell"},i.a.createElement("span",{className:"priv-text-color"},this.state.resources2))),i.a.createElement("div",{className:"table-row com-notification"},i.a.createElement("label",{className:"table-cell com-noti-label"},this.state.view_survey),i.a.createElement("div",{className:"table-cell"},i.a.createElement("span",{className:"priv-text-color"},0==this.state.serveys1?"":this.state.serveys1)),i.a.createElement("div",{className:"table-cell"},i.a.createElement("span",{className:"priv-text-color"},0==this.state.serveys2?"":this.state.serveys2))),i.a.createElement("div",{className:"table-row com-notification"},i.a.createElement("label",{className:"table-cell com-noti-label"},this.state.view_cant_book),i.a.createElement("div",{className:"table-cell"},i.a.createElement("span",{className:"priv-text-color"},this.state.not_clubbed_services1)),i.a.createElement("div",{className:"table-cell"},i.a.createElement("span",{className:"priv-text-color"},this.state.not_clubbed_services2))),i.a.createElement("div",{className:"table-row com-notification"},i.a.createElement("label",{className:"table-cell com-noti-label"},this.state.view_pre_treatment),i.a.createElement("div",{className:"table-cell"},i.a.createElement("span",{className:"priv-text-color"},this.state.pre_treatment_names1)),i.a.createElement("div",{className:"table-cell"},i.a.createElement("span",{className:"priv-text-color"},this.state.pre_treatment_names2))),i.a.createElement("div",{className:"table-row com-notification"},i.a.createElement("label",{className:"table-cell com-noti-label"},this.state.view_post_treatment),i.a.createElement("div",{className:"table-cell"},i.a.createElement("span",{className:"priv-text-color"},this.state.post_treatment_names1)),i.a.createElement("div",{className:"table-cell"},i.a.createElement("span",{className:"priv-text-color"},this.state.post_treatment_names2))),i.a.createElement("div",{className:"table-row com-notification"},i.a.createElement("label",{className:"table-cell com-noti-label"},this.state.view_duration),i.a.createElement("div",{className:"table-cell"},i.a.createElement("span",{className:"priv-text-color"},this.state.duration1)),i.a.createElement("div",{className:"table-cell"},i.a.createElement("span",{className:"priv-text-color"},this.state.duration2))),i.a.createElement("div",{className:"table-row com-notification"},i.a.createElement("label",{className:"table-cell com-noti-label"},this.state.view_description),i.a.createElement("div",{className:"table-cell"},i.a.createElement("span",{className:"priv-text-color"},this.state.description1)),i.a.createElement("div",{className:"table-cell"},i.a.createElement("span",{className:"priv-text-color"},this.state.description2))),i.a.createElement("div",{className:"table-row com-notification"},i.a.createElement("label",{className:"table-cell com-noti-label"},this.state.view_done_by),i.a.createElement("div",{className:"table-cell"},i.a.createElement("span",{className:"priv-text-color"},this.state.name1)),i.a.createElement("div",{className:"table-cell"},i.a.createElement("span",{className:"priv-text-color"},this.state.name2))),i.a.createElement("div",{className:"table-row com-notification"},i.a.createElement("label",{className:"table-cell com-noti-label"},this.state.view_action_perform),i.a.createElement("div",{className:"table-cell"},i.a.createElement("span",{className:"priv-text-color"},this.state.action1)),i.a.createElement("div",{className:"table-cell"},i.a.createElement("span",{className:"priv-text-color"},this.state.action2))),i.a.createElement("div",{className:"table-row com-notification"},i.a.createElement("label",{className:"table-cell com-noti-label"},this.state.view_done_on),i.a.createElement("div",{className:"table-cell"},i.a.createElement("span",{className:"priv-text-color"},this.state.created1)),i.a.createElement("div",{className:"table-cell"},i.a.createElement("span",{className:"priv-text-color"},this.state.created2)))))))))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return void 0!=e.showLoader&&0==e.showLoader?{showLoader:!1}:void 0!==e.viewChangesData&&200===e.viewChangesData.status?{service_name1:e.viewChangesData.data[1].service_name,service_name2:e.viewChangesData.data[0].service_name,category_names1:e.viewChangesData.data[1].category_names,clinic_names1:e.viewChangesData.data[1].clinic_names,devices1:"1"===e.viewChangesData.data[1].is_device_dependent?e.viewChangesData.data[1].device_names:e.viewChangesData.data[1].is_device_dependent,is_available_online1:e.viewChangesData.data[1].is_available_online,is_service_free1:e.viewChangesData.data[1].is_service_free,questionnaires1:e.viewChangesData.data[1].questionnaire_names,provider_names1:e.viewChangesData.data[1].provider_names,resources1:e.viewChangesData.data[1].resource_names,serveys1:e.viewChangesData.data[1].serveys?e.viewChangesData.data[1].survey_names:0,not_clubbed_services1:e.viewChangesData.data[1].not_clubbed_service_names,pre_treatment_names1:e.viewChangesData.data[1].pre_treatment_names,post_treatment_names1:e.viewChangesData.data[1].post_treatment_names,duration1:e.viewChangesData.data[1].duration,description1:e.viewChangesData.data[1].description,action1:e.viewChangesData.data[1].action,created1:e.viewChangesData.data[1].created,name1:e.viewChangesData.data[1].done_by_user?e.viewChangesData.data[1].done_by_user.firstname+" "+e.viewChangesData.data[1].done_by_user.lastname:"",free_consultation1:e.viewChangesData.data[1].free_consultation,free_consultation2:e.viewChangesData.data[0].free_consultation,category_names2:e.viewChangesData.data[0].category_names,clinic_names2:e.viewChangesData.data[0].clinic_names,devices2:"1"===e.viewChangesData.data[0].is_device_dependent?e.viewChangesData.data[0].device_names:e.viewChangesData.data[0].is_device_dependent,is_available_online2:e.viewChangesData.data[0].is_available_online,is_service_free2:e.viewChangesData.data[0].is_service_free,questionnaires2:e.viewChangesData.data[0].questionnaire_names,provider_names2:e.viewChangesData.data[0].provider_names,resources2:e.viewChangesData.data[0].resource_names,serveys2:e.viewChangesData.data[0].serveys?e.viewChangesData.data[0].survey_names:0,not_clubbed_services2:e.viewChangesData.data[0].not_clubbed_service_names,pre_treatment_names2:e.viewChangesData.data[0].pre_treatment_names,post_treatment_names2:e.viewChangesData.data[0].post_treatment_names,duration2:e.viewChangesData.data[0].duration,description2:e.viewChangesData.data[0].description,action2:e.viewChangesData.data[0].action,created2:e.viewChangesData.data[0].created,name2:e.viewChangesData.data[0].done_by_user?e.viewChangesData.data[0].done_by_user.firstname+" "+e.viewChangesData.data[0].done_by_user.lastname:""}:null}}]),t}(n.Component);var dg=Object(Z.b)(function(e){JSON.parse(localStorage.getItem("languageData"));var t={};return"VIEW_CHANGES"===e.DashboardReducer.action&&(200!=e.DashboardReducer.data.status?t.showLoader=!1:t.viewChangesData=e.DashboardReducer.data),t},function(e){return Object(c.bindActionCreators)({viewChanges:_a},e)})(cg),mg=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t,s=e.target,n="checkbox"===s.type?s.checked:s.value;a.setState((t={},Object(se.a)(t,e.target.name,n),Object(se.a)(t,"dataChanged",!0),t))},a.handleSelectChange=function(e){a.setState({selectedUserEmailOptions:e,userChanged:!0})},a.handleSubmit=function(e){if(e.preventDefault(),a.setState({nameError:!1}),void 0===typeof a.state.name||null===a.state.name||""===a.state.name)a.setState({nameError:!0,nameErrorClass:"setting-input-box setting-input-box-invalid"});else if(a.state.name){a.setState({nameError:!1,nameErrorClass:"setting-input-box"}),a.state.commission_enabled&&void 0===typeof a.state.commission_type||null===a.state.commission_type||""===a.state.commission_type?a.setState({commissionTypeError:!0}):a.state.commission_type&&a.setState({commissionTypeError:!1});var t=[];a.state.selectedUserEmailOptions.map(function(e,a){t.push(e.label)});var s={name:a.state.name,address:a.state.address,default_template:a.state.default_template,website:a.state.website,date_format:a.state.date_format,time_format:a.state.time_format,logo:a.state.logo,monthly_sales_email_receivers:t.join(","),commission_enabled:a.state.commission_enabled?1:0,commission_type:a.state.commission_enabled?a.state.commission_type:""};a.setState({showLoader:!0}),a.props.updateAccountDetails(s,a.state.accountID)}},a.handleChildChange=function(e){a.setState(e)};var s=JSON.parse(localStorage.getItem("userData"));return a.state={pictures:[],userId:s.user.id,accountID:s.user.account_id,pos_enabled:s.pos_enabled,user_type:s.user_type,accDetails:{},dateFormats:[{val:"mm/dd/yyyy",show:"mm/dd/yyyy"},{val:"dd/mm/yyyy",show:"dd/mm/yyyy"},{val:"yyyy/mm/dd",show:"yyyy/mm/dd"}],logo:"",defLogo:En.a,name:"",address:"",default_template:"",website:"",date_format:"",time_format:"",selectedUserEmailOptions:[],userEmailOptions:[],activeUsersList:[],is_bba_signed:!1,bba_signed_date:"",commission_enabled:!1,commission_type:"",commissionTypeError:!1,nameErrorClass:"setting-input-box",dataChanged:!1,defImageCls:"no-display",cameraInPreviewCls:"camra-icon dz-clickable no-image",uploadedFile:"",dzImgObj:{},logo_url:"",dzCSS:"",dbBusinessName:"",showLoader:!1,accountsScopes:"accountPreference,activeUsers"},window.onscroll=function(){return!1},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("languageData"));this.setState({arAccount_header:e.settings.arAccount_header,ar_business_name:e.settings.ar_business_name,ar_address:e.settings.ar_address,ar_default_timeline:e.settings.ar_default_timeline,ar_cosmetic:e.settings.ar_cosmetic,ar_health:e.settings.ar_health,ar_website_url:e.settings.ar_website_url,ar_default_date:e.settings.ar_default_date,clinic_Please_Wait:e.settings.clinic_Please_Wait,user_save_btn_text:e.settings.user_save_btn_text,showLoader:!0}),this.props.getAccountDetails(this.state.accountID)}},{key:"componentDidUpdate",value:function(e){if(void 0!==e.accountData&&200===e.accountData.status&&void 0!==this.props.accountData&&e.accountData.data.logo_url!==this.props.accountData.data.logo_url){""!==this.props.accountData.data.logo?this.setState({defImageCls:"no-display",cameraInPreviewCls:"camra-icon dz-clickable camera-in-preview",dzCSS:"",uploadedFile:this.props.accountData.data.logo,logo:this.props.accountData.data.logo,logo_url:this.props.accountData.data.logo_url}):this.setState({uploadedFile:this.props.accountData.data.logo,logo:this.props.accountData.data.logo});var t={};t.dzImgObj=this.state.dzImgObj,t.mockFile={name:this.props.accountData.data.logo_url,accepted:!0,size:7627},t.logo_url=this.props.accountData.data.logo_url,t.logo=this.props.accountData.data.logo,this.refs.child.reInit(t)}}},{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("languageData"));this.setState({arAccount_header:e.settings.arAccount_header,ar_business_name:e.settings.ar_business_name,ar_address:e.settings.ar_address,ar_default_timeline:e.settings.ar_default_timeline,ar_cosmetic:e.settings.ar_cosmetic,ar_health:e.settings.ar_health,ar_website_url:e.settings.ar_website_url,ar_default_date:e.settings.ar_default_date,clinic_Please_Wait:e.settings.clinic_Please_Wait,ar_default_time:e.settings.ar_default_time,ar_send_monthly_sales_report_to:e.settings.ar_send_monthly_sales_report_to,ar_aesthetic_record_terms_of_service:e.settings.ar_aesthetic_record_terms_of_service,ar_accepted_on:e.settings.ar_accepted_on,ar_not_accepted_yet:e.settings.ar_not_accepted_yet,ar_view_terms_of_service:e.settings.ar_view_terms_of_service,ar_hipaa_business_associate_addendum:e.settings.ar_hipaa_business_associate_addendum,ar_view_hipaa_terms_of_service:e.settings.ar_view_hipaa_terms_of_service,ar_payroll_commission_report:e.settings.ar_payroll_commission_report,ar_net_value_services_performed:e.settings.ar_net_value_services_performed,ar_net_value_services_performed_formula:e.settings.ar_net_value_services_performed_formula,ar_net_sales:e.settings.ar_net_sales,ar_net_sales_formula:e.settings.ar_net_sales_formula,settings_net_sales:e.settings.settings_net_sales,ar_gross_sales:e.settings.ar_gross_sales,ar_net_profit:e.settings.ar_net_profit,settings_twenty_four_hours:e.settings.settings_twenty_four_hours,Edit_Appointment_Twelve_Hours:e.settings.Edit_Appointment_Twelve_Hours,ar_net_profit_formula:e.settings.ar_please_select_payroll_commission_report,ar_please_select_payroll_commission_report:e.settings.clinic_Please_Wait,showLoader:!0}),this.props.getAccountDetails(this.state.accountID,this.state.accountsScopes)}},{key:"componentDidUpdate",value:function(e){if(void 0!==e.accountData&&200===e.accountData.status&&void 0!==this.props.accountData&&e.accountData.data.logo_url!==this.props.accountData.data.logo_url){""!==this.props.accountData.data.logo?this.setState({defImageCls:"no-display",cameraInPreviewCls:"camra-icon dz-clickable camera-in-preview",dzCSS:"",uploadedFile:this.props.accountData.data.logo,logo:this.props.accountData.data.logo,logo_url:this.props.accountData.data.logo_url}):this.setState({uploadedFile:this.props.accountData.data.logo,logo:this.props.accountData.data.logo});var t={};t.dzImgObj=this.state.dzImgObj,t.mockFile={name:this.props.accountData.data.logo_url,accepted:!0,size:7627},t.logo_url=this.props.accountData.data.logo_url,t.logo=this.props.accountData.data.logo,this.refs.child.reInit(t)}}},{key:"render",value:function(){var e,t="";return void 0!==this.state.accDetails.account_preference&&(t=this.state.dateFormats.map(function(e){return i.a.createElement("option",{key:e.val,value:e.val},e.show)})),i.a.createElement("div",{className:"main protected"},i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(ps,null),i.a.createElement("div",{className:"setting-setion"},i.a.createElement("form",{id:"ar-account-form",name:"ar-account-form",className:"nobottommargin",action:"#",method:"post",onSubmit:this.handleSubmit},i.a.createElement("div",{className:"setting-container"},i.a.createElement("div",{className:"setting-title m-b-40"},this.state.arAccount_header),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-12 profile-detail-left m-b-0"},i.a.createElement("div",{className:"main-profile-picture"},""!=this.state.dbBusinessName&&i.a.createElement(Ln,(e={type:"logo",uploadedFileName:"logo",fileUrl:"logo_url",logo:this.state.logo,logo_url:this.state.logo_url,defLogo:En.a},Object(se.a)(e,"logo_url",this.state.logo_url),Object(se.a)(e,"handleChildChange",this.handleChildChange),Object(se.a)(e,"ref","child"),Object(se.a)(e,"containerClass","dropzone-holder"),e))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.ar_business_name,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:"name",id:"name",className:(this.state.nameError,this.state.nameErrorClass),value:this.state.name,autoComplete:"off",type:"text",onChange:this.handleInputChange})))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.ar_address," ",i.a.createElement("span",{className:"setting-require"})),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:"address",id:"address",className:"setting-input-box",value:this.state.address,autoComplete:"off",type:"text",onChange:this.handleInputChange})))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("label",{className:"new-field-label m-b-10"},this.state.ar_default_timeline),i.a.createElement("div",{className:"radio-outer"},i.a.createElement("input",{type:"radio",name:"default_template",value:"cosmetic",id:"cosmetic",checked:"cosmetic"===this.state.default_template,onChange:this.handleInputChange}),i.a.createElement("label",{htmlFor:"cosmetic"},this.state.ar_cosmetic),i.a.createElement("input",{type:"radio",name:"default_template",value:"health",id:"health",checked:"health"===this.state.default_template,onChange:this.handleInputChange}),i.a.createElement("label",{htmlFor:"health"},this.state.ar_health))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.ar_website_url,i.a.createElement("span",{className:"setting-require"})),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:"website",id:"website",className:"setting-input-box",value:this.state.website,maxLength:"500",autoComplete:"off",type:"text",onChange:this.handleInputChange})))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.ar_default_time),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("select",{value:this.state.time_format,name:"time_format",id:"time_format",className:"setting-select-box",onChange:this.handleInputChange},i.a.createElement("option",{value:"12 hours"},this.state.Edit_Appointment_Twelve_Hours),i.a.createElement("option",{value:"24 hours"},this.state.settings_twenty_four_hours))))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.ar_default_date),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("select",{value:this.state.date_format,name:"date_format",id:"date_format",className:"setting-select-box",onChange:this.handleInputChange},t)))),this.state.pos_enabled&&i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.ar_send_monthly_sales_report_to),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("div",{className:"tag-auto-select"},this.state.userEmailOptions&&i.a.createElement(un.a,{onChange:this.handleSelectChange,value:this.state.selectedUserEmailOptions,isClearable:!0,isSearchable:!0,options:this.state.userEmailOptions,isMulti:!0}))))),i.a.createElement("div",{className:"col-sm-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.ar_aesthetic_record_terms_of_service),this.state.is_bba_signed?this.state.ar_accepted_on+" :  "+this.state.bba_signed_date:this.state.ar_not_accepted_yet,this.state.is_bba_signed&&i.a.createElement("a",{className:"easy-link no-padding pull-right",href:"/settings/ar-terms-of-use",target:"_blank"},this.state.ar_view_terms_of_service))),i.a.createElement("div",{className:"col-sm-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.ar_hipaa_business_associate_addendum),this.state.is_bba_signed?this.state.ar_accepted_on+" :  "+this.state.bba_signed_date:this.state.ar_not_accepted_yet,this.state.is_bba_signed&&i.a.createElement("a",{className:"easy-link no-padding pull-right",href:"/settings/hipaa-terms-of-use",target:"_blank"},this.state.ar_view_hipaa_terms_of_service))))))),"superadmin"==this.state.user_type&&this.state.pos_enabled&&i.a.createElement("div",{className:"switch-accordian-outer"},i.a.createElement("div",{className:"switch-accordian-row closed",id:"reminder"},this.state.ar_payroll_commission_report,i.a.createElement("label",{className:"setting-switch pull-right"},i.a.createElement("input",{type:"checkbox",name:"commission_enabled",className:"setting-custom-switch-input",value:this.state.commission_enabled,checked:!!this.state.commission_enabled&&"checked",onChange:this.handleInputChange}),i.a.createElement("span",{className:"setting-slider colored-slider"}))),i.a.createElement("div",{className:this.state.commission_enabled?"setting-container p-t-15":"no-display"},i.a.createElement("div",{id:"payroll_selection_div",className:"radio-outer"},i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{type:"radio",name:"commission_type",value:"Net Value Services Performed",checked:"Net Value Services Performed"==this.state.commission_type&&"checked",onChange:this.handleInputChange}),i.a.createElement("label",{htmlFor:"payroll1",className:"payroll-label"},this.state.ar_net_value_services_performed),i.a.createElement("div",{className:"payroll-formula"},this.state.ar_net_value_services_performed_formula)),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{type:"radio",name:"commission_type",value:"Net Sales",checked:"Net Sales"==this.state.commission_type&&"checked",onChange:this.handleInputChange}),i.a.createElement("label",{htmlFor:"payroll2",className:"payroll-label"},this.state.ar_net_sales),i.a.createElement("div",{className:"payroll-formula"},this.state.settings_net_sales)),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{type:"radio",name:"commission_type",value:"Gross Sales",checked:"Gross Sales"==this.state.commission_type&&"checked",onChange:this.handleInputChange}),i.a.createElement("label",{htmlFor:"payroll3",className:"payroll-label"},this.state.ar_gross_sales)),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{type:"radio",name:"commission_type",value:"Net Profit",checked:"Net Profit"==this.state.commission_type&&"checked",onChange:this.handleInputChange}),i.a.createElement("label",{htmlFor:"payroll4",className:"payroll-label"},this.state.ar_net_profit),i.a.createElement("div",{className:"payroll-formula"},this.state.ar_net_sales_formula))))),i.a.createElement("div",{className:"footer-static"},i.a.createElement("input",{className:"new-blue-btn pull-right",type:"submit",value:"Save",id:"save-profile"}))),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.clinic_Please_Wait)))))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};if(void 0!==e.accountData&&200===e.accountData.status&&e.accountData.data!=t.accDetails){a.accDetails=e.accountData.data,a.logo=e.accountData.data.logo,a.logo_url=e.accountData.data.logo_url,a.name=t.dataChanged?t.name:e.accountData.data.name,a.address=t.dataChanged?t.address:e.accountData.data.address,a.default_template=t.dataChanged?t.default_template:e.accountData.data.account_preference.default_template,a.website=t.dataChanged?t.website:e.accountData.data.website,a.date_format=t.dataChanged?t.date_format:e.accountData.data.account_preference.date_format,a.time_format=t.dataChanged?t.time_format:e.accountData.data.account_preference.time_format,a.is_bba_signed=t.dataChanged?t.is_bba_signed:1==e.accountData.data.account_preference.is_bba_signed,a.bba_signed_date=t.dataChanged?t.bba_signed_date:e.accountData.data.account_preference.bba_signed_date,a.commission_enabled=t.dataChanged?t.commission_enabled:e.accountData.data.account_preference.commission_enabled,a.commission_type=t.dataChanged?t.commission_type:e.accountData.data.account_preference.commission_type,a.dbBusinessName=e.accountData.data.name,a.activeUsersList=void 0!=e.accountData.data.active_users?e.accountData.data.active_users:[];var s=[];if(void 0!=a.activeUsersList&&a.activeUsersList.length&&(s=a.activeUsersList.map(function(e,t){return{value:e.id,label:e.email_id}})),a.userEmailOptions=s,!t.dataChanged){var n=[];if(void 0!=e.accountData.data.account_preference&&void 0!=e.accountData.data.account_preference.monthly_sales_email_receivers&&""!=e.accountData.data.account_preference.monthly_sales_email_receivers&&null!=e.accountData.data.account_preference.monthly_sales_email_receivers&&a.activeUsersList.length){var i=e.accountData.data.account_preference.monthly_sales_email_receivers.split(",");a.activeUsersList.map(function(e,t){i.indexOf(e.email_id)>-1&&n.push({value:e.id,label:e.email_id})})}a.selectedUserEmailOptions=n}a.showLoader=!1}return a}}]),t}(n.Component);var ug=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData")),a={};return"ACCOUNT_GET"===e.SettingReducer.action?200!=e.SettingReducer.data.status?a.showLoader=!1:a.accountData=e.SettingReducer.data:"ACCOUNT_PUT"===e.SettingReducer.action&&(rt.toast.dismiss(),200!=e.SettingReducer.data.status?(rt.toast.error(t.global[e.SettingReducer.data.message]),a.showLoader=!1):(rt.toast.success(t.global[e.SettingReducer.data.message]),a.accountData=e.SettingReducer.data)),a},function(e){return Object(c.bindActionCreators)({getAccountDetails:_i,updateAccountDetails:vi},e)})(mg),pg=function(e){function t(e){var a;Object(ne.a)(this,t),a=Object(re.a)(this,Object(oe.a)(t).call(this,e));var s=JSON.parse(localStorage.getItem("userData"));return a.state={userId:s.user.id,accountID:s.user.account_id,showLoader:!1},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("languageData"));this.setState({label_download:e.global.label_download})}},{key:"render",value:function(){return i.a.createElement("div",{id:"content",className:"content-terms"},i.a.createElement("div",{className:"wide-popup"},i.a.createElement("div",{className:"wide-popup-wrapper"},i.a.createElement("div",{className:"popup-btns popup-three-btns"},i.a.createElement("a",{href:"javascript:void(0);",type:"button",className:"header-select-btn line-btn",id:"download_agreement",value:""},this.state.label_download)),i.a.createElement("div",{className:"content-ar-terms-of-use"}))))}}]),t}(n.Component);var hg=Object(Z.b)(function(e){return"ACCOUNT_GET"===e.SettingReducer.action?{accountData:e.SettingReducer.data}:{}},function(e){return Object(c.bindActionCreators)({getAccountDetails:_i},e)})(pg),gg=function(e){function t(e){var a;Object(ne.a)(this,t),a=Object(re.a)(this,Object(oe.a)(t).call(this,e));var s=JSON.parse(localStorage.getItem("userData"));return a.state={userId:s.user.id,accountID:s.user.account_id,showLoader:!1},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("languageData"));this.setState({label_download:e.global.label_download})}},{key:"render",value:function(){return i.a.createElement("div",{id:"content",className:"content-terms"},i.a.createElement("div",{className:"wide-popup"},i.a.createElement("div",{className:"wide-popup-wrapper"},i.a.createElement("div",{className:"popup-btns popup-three-btns"},i.a.createElement("a",{href:"javascript:void(0);",type:"button",className:"header-select-btn line-btn",id:"download_agreement",value:""},this.state.label_download)),i.a.createElement("div",{className:"content-hipaa-terms-of-use"}))))}}]),t}(n.Component);var _g=Object(Z.b)(function(e){return"ACCOUNT_GET"===e.SettingReducer.action?{accountData:e.SettingReducer.data}:{}},function(e){return Object(c.bindActionCreators)({getAccountDetails:_i},e)})(gg),vg=function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).showLoaderFunc=function(){a.setState({showLoader:!0}),localStorage.setItem("showLoader",!1)},a.handleInputChange=function(e){var t=e.target,s="checkbox"===t.type?t.checked:t.value,n={};"two_factor_auth_status"==t.name&&(s||(n.addNewPhone=!1,n.addNewDevice=!1,n.verification_type="",n.two_factor_auth_status=0,a.showLoaderFunc(),a.props.disable2FA({two_factor_auth_status:0}))),"verification_type"==t.name&&("google"==s&&""==a.state.google_auth_code_display?(n.addNewDevice=!0,n.addNewPhone=!1,a.showLoaderFunc(),a.props.getGoogle2FA({})):(n.addNewPhone=!0,n.addNewDevice=!1)),n[e.target.name]=s,n.dataChanged=!0,a.setState(n)},a.addNewDevice=function(){a.setState({addNewDevice:!0,addNewPhone:!1}),a.showLoaderFunc(),a.props.getGoogle2FA({})},a.addNewPhone=function(){a.setState({addNewPhone:!0,addNewDevice:!1})},a.phoneNumberChanged=function(e,t,s,n){e?a.setState({phone_number:n,contactClass:"setting-input-box",contactError:!1,userChanged:!0}):a.setState({contactClass:"setting-input-box field_error",contactError:!0,phone_number:n})},a.handleSubmit=function(){a.state.auth_token?(a.setState({authTokenClass:"setting-input-box w-150"}),a.showLoaderFunc(),a.props.verifyGoogleToken({google_auth_code:a.state.google_auth_code,auth_token:a.state.auth_token})):a.setState({authTokenClass:"setting-input-box w-150 field-error"})},a.sendOtpToNumber=function(){a.state.phone_number.trim()?a.state.contactError?a.setState({contactClass:"setting-input-box field-error"}):(a.showLoaderFunc(),a.props.sendOTP({phone_number:a.state.phone_number})):a.setState({contactClass:"setting-input-box field-error"})},a.reloadBarcode=function(){a.showLoaderFunc(),a.props.getGoogle2FA({params:{is_refresh:1}})},a.verifyOTP=function(){a.state.otp?(a.setState({otpClass:"setting-input-box"}),a.showLoaderFunc(),a.props.verifyMobileOTP({phone_number:a.state.phone_number,otp:a.state.otp})):a.setState({otpClass:"setting-input-box field-error"})},a.state={pictures:[],sms_class:"row factor-step setting-container",google_class:"setting-container factor-step",enabledDisabledText:"",isDisabled:"Disabled",value:1,two_factor_auth_status:0,verification_type:!1,googleImage:"",addNewDevice:!1,addNewPhone:!1,contactClass:"setting-input-box",otp_sent:!1,circleText:!1,phone_number_display:"",authTokenClass:"setting-input-box w-150",otpClass:"setting-input-box m-b-20",google_auth_code_display:"",showLoader:!1,user2FaData:{}},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e,t=JSON.parse(localStorage.getItem("languageData"));this.setState((e={twoFA_enabled:t.settings.twoFA_enabled,twoFA_disabled:t.settings.twoFA_disabled,twoFA_header:t.settings.twoFA_header,twoFA_subheader:t.settings.twoFA_subheader,twoFA_google_auth:t.settings.twoFA_google_auth,twoFA_googleAuth_key:t.settings.twoFA_googleAuth_key,twoFA_device:t.settings.twoFA_device},Object(se.a)(e,"twoFA_google_auth",t.settings.twoFA_google_auth),Object(se.a)(e,"twoFA_sms_verify",t.settings.twoFA_sms_verify),Object(se.a)(e,"twoFA_sms_phoneNo",t.settings.twoFA_sms_phoneNo),Object(se.a)(e,"twoFA_step1",t.settings.twoFA_step1),Object(se.a)(e,"twoFa_Scan_bar",t.settings.twoFa_Scan_bar),Object(se.a)(e,"twoFA_download_link",t.settings.twoFA_download_link),Object(se.a)(e,"twoFA_step2",t.settings.twoFA_step2),Object(se.a)(e,"twoFA_Enter_key",t.settings.twoFA_Enter_key),Object(se.a)(e,"twoFA_otp",t.settings.twoFA_otp),Object(se.a)(e,"twoFA_sms_no",t.settings.twoFA_sms_no),Object(se.a)(e,"showLoader",!0),Object(se.a)(e,"clinic_Please_Wait",t.settings.clinic_Please_Wait),Object(se.a)(e,"Two_Factor_Authentication_Change_Add_New_Device",t.settings.Two_Factor_Authentication_Change_Add_New_Device),Object(se.a)(e,"twoFA_sms_phoneNo",t.settings.twoFA_sms_phoneNo),Object(se.a)(e,"Two_Factor_Authentication_Change",t.settings.Two_Factor_Authentication_Change),Object(se.a)(e,"Two_Factor_Authentication_Click_on_reload_button",t.settings.Two_Factor_Authentication_Click_on_reload_button),Object(se.a)(e,"Two_Factor_Authentication_Send_OTP",t.settings.Two_Factor_Authentication_Send_OTP),Object(se.a)(e,"Two_Factor_Authentication_OTP_sent_successfully",t.settings.Two_Factor_Authentication_OTP_sent_successfully),Object(se.a)(e,"Two_Factor_Authentication_Enter_OTP_to_verify",t.settings.Two_Factor_Authentication_Enter_OTP_to_verify),Object(se.a)(e,"Two_Factor_Authentication_Verify",t.settings.Two_Factor_Authentication_Verify),e)),this.showLoaderFunc(),this.props.get2FA({})}},{key:"render",value:function(){var e,t=this,a="";return a=this.state.two_factor_auth_status?this.state.twoFA_enabled:this.state.twoFA_disabled,i.a.createElement("div",{className:"main protected"},i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(ps,null),i.a.createElement("div",{className:"setting-setion"},i.a.createElement("div",{className:"setting-container"},i.a.createElement("div",{className:"setting-title m-b-40"},this.state.twoFA_header,i.a.createElement("label",{className:"setting-switch pull-right enable-disable-switch"},i.a.createElement("span",{className:"factor_status"},a),i.a.createElement("input",{type:"checkbox",id:"two_step",onChange:this.handleInputChange,name:"two_factor_auth_status",checked:!!this.state.two_factor_auth_status&&"checked",className:"setting-custom-switch-input"}),i.a.createElement("span",{className:"setting-slider "}))),i.a.createElement("div",{id:"two_factors",className:this.state.two_factor_auth_status?"ques-radio-right m-b-0":"ques-radio-right m-b-0 no-display"},i.a.createElement("div",{className:"p-text"},this.state.twoFA_subheader),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-lg-3 col-md-5 col-sm-6"},i.a.createElement("div",{className:"pos-stripe-outer m-b-0"},i.a.createElement("input",{type:"radio",className:"factor-type pos-stripe-input pos-stripe-option",id:"type-google",name:"verification_type",onChange:this.handleInputChange,value:"google",checked:"google"==this.state.verification_type&&"checked"}),i.a.createElement("label",{className:"pos-stripe-discrip",htmlFor:"type-google"},i.a.createElement("span",{className:"pos-stripe-title authenti-radio-label"},this.state.twoFA_google_auth)))),i.a.createElement("div",{className:"col-lg-3 col-md-7 col-sm-6"},i.a.createElement("div",{className:"pos-stripe-outer m-b-0"},i.a.createElement("input",{type:"radio",className:"factor-type pos-stripe-input pos-stripe-option",id:"type-sms",name:"verification_type",onChange:this.handleInputChange,value:"sms",checked:"sms"==this.state.verification_type&&"checked"}),i.a.createElement("label",{className:"pos-stripe-discrip",htmlFor:"type-sms"},i.a.createElement("span",{className:"pos-stripe-title authenti-radio-label"},this.state.twoFA_sms_verify))))))),i.a.createElement("div",{className:this.state.two_factor_auth_status?"":"no-display"},i.a.createElement("div",{id:"google_edit",className:this.state.two_factor_auth_status&&"google"==this.state.verification_type&&""!=this.state.google_auth_code_display?"row factor-step setting-container":"row factor-step setting-container no-display"},i.a.createElement("div",{className:"col-sm-12 m-b-20"},i.a.createElement("div",{className:"new-field-label"},this.state.twoFA_googleAuth_key),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("div",{className:" setting-input-box w-200",placeholder:"Enter Token"},this.state.google_auth_code_display))),i.a.createElement("div",{className:"col-sm-12"},i.a.createElement("a",{className:"google new-blue-btn m-l-0 m-t-10",onClick:this.addNewDevice},this.state.Two_Factor_Authentication_Change_Add_New_Device))),i.a.createElement("div",{id:"sms_edit",className:this.state.two_factor_auth_status&&"sms"==this.state.verification_type&&""!=this.state.phone_number_display?"row factor-step setting-container":"row factor-step setting-container no-display"},i.a.createElement("div",{className:"col-sm-12 m-b-20"},i.a.createElement("div",{className:"new-field-label"},this.state.twoFA_sms_phoneNo),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("div",{className:" setting-input-box w-200",placeholder:"Enter Token"},this.state.phone_number_display))),i.a.createElement("div",{className:"col-sm-12"},i.a.createElement("a",{className:"sms new-blue-btn m-l-0 m-t-10",onClick:this.addNewPhone},this.state.Two_Factor_Authentication_Change))),i.a.createElement("div",{className:"google"==this.state.verification_type&&this.state.addNewDevice?"setting-container factor-step":"setting-container factor-step no-display",id:"google"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"settings-subtitle col-xs-12"},this.state.twoFA_step1),i.a.createElement("div",{className:"col-lg-6 col-xs-12 m-b-40"},i.a.createElement("p",{className:"setting-text"},this.state.twoFa_Scan_bar),i.a.createElement("div",{className:"barcode-img"},i.a.createElement("img",{src:this.state.qr_code_url})),i.a.createElement("p",{className:"authe-icons"},i.a.createElement("a",{className:"confirm-model",onClick:this.reloadBarcode},i.a.createElement("i",{className:"fas fa-redo-alt"})),i.a.createElement("a",{className:"barcode-help m-l-10",onClick:function(){return t.setState({circleText:!t.state.circleText})}},i.a.createElement("i",{className:"fas fa-info-circle"}))),i.a.createElement("p",{className:this.state.circleText?"barcode-title":"no-display"},this.state.Two_Factor_Authentication_Click_on_reload_button)),i.a.createElement("div",{className:"col-lg-6 col-xs-12 m-b-40"},i.a.createElement("p",{className:"authe-discription"},this.state.twoFA_download_link),i.a.createElement("span",{className:"twofas-light-icons"},i.a.createElement("a",{href:"https://play.google.com/store/apps/details?id=com.google.android.apps.authenticatortwo",target:"_blank",rel:"noopener"},i.a.createElement("img",{src:"/images/google-play.png",alt:"Google Authenticator - Google Play"})),i.a.createElement("a",{className:"m-l-10",href:"https://itunes.apple.com/us/app/google-authenticator/id388497605?mt=8",target:"_blank",rel:"noopener"},i.a.createElement("img",{src:"/images/app-store.png",alt:"Google Authenticator - App Store"})))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"settings-subtitle"},this.state.twoFA_step2),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-12 m-b-20"},i.a.createElement("div",{className:"new-field-label"},this.state.twoFA_Enter_key),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",(e={id:"auth_token",className:this.state.authTokenClass,autoComplete:"off",placeholder:"Enter Token"},Object(se.a)(e,"autoComplete","off"),Object(se.a)(e,"name","auth_token"),Object(se.a)(e,"type","text"),Object(se.a)(e,"onChange",this.handleInputChange),e)))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("a",{id:"verify_google_token",onClick:this.handleSubmit,className:"new-blue-btn m-l-0 m-t-10"},this.state.Two_Factor_Authentication_Verify)))))),i.a.createElement("div",{className:"sms"==this.state.verification_type&&this.state.addNewPhone?"factor-step setting-container":"row factor-step setting-container no-display",id:"sms"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("span",{className:"authe-discription"},this.state.twoFA_otp),i.a.createElement("div",{className:"new-field-label"},this.state.twoFA_sms_no),i.a.createElement("div",{className:"setting-input-outer m-b-20"},i.a.createElement("div",{className:"intl-tel-input allow-dropdown"},i.a.createElement(zt.a,{className:"form-control",utilsScript:"libphonenumber.js",css:["intl-tel-input",this.state.contactClass],value:this.state.phone_number?this.state.phone_number:"",defaultCountry:this.state.defaultCountry,fieldName:"phone_number",onPhoneNumberChange:this.phoneNumberChanged,onPhoneNumberBlur:this.phoneNumberChanged,fieldId:"phone_number",placeholder:"Phone Number",autoPlaceholder:!0,format:!0}))),i.a.createElement("a",{id:"validate_phone",className:"new-blue-btn m-l-0 m-t-10",onClick:this.sendOtpToNumber},this.state.Two_Factor_Authentication_Send_OTP))),i.a.createElement("div",{className:this.state.otp_sent?"col-md-6 col-xs-12":"col-md-6 col-xs-12 no-display"},i.a.createElement("div",{id:"smstwostep"},i.a.createElement("span",{className:"authe-discription"},this.state.Two_Factor_Authentication_OTP_sent_successfully),i.a.createElement("div",{className:"new-field-label"},this.state.Two_Factor_Authentication_Enter_OTP_to_verify),i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("input",{name:"otp",id:"sms_otp",className:this.state.otpClass,placeholder:"Enter OTP",type:"text",autoComplete:"off",onChange:this.handleInputChange,value:this.state.otp}),i.a.createElement("div",null,i.a.createElement("a",{id:"verify_sms_otp",type:"button",className:"new-blue-btn m-l-0 m-t-10",onClick:this.verifyOTP},this.state.Two_Factor_Authentication_Verify)))))))),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.clinic_Please_Wait)))))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return void 0!==e.user2FaData&&200===e.user2FaData.status&&e.user2FaData.data!=t.user2FaData&&"false"==localStorage.getItem("showLoader")?{user2FaData:e.user2FaData.data,two_factor_auth_status:!!e.user2FaData.data&&!!e.user2FaData.data.two_factor_auth_status,verification_type:!(!e.user2FaData.data||!e.user2FaData.data.two_factor_auth_status)&&e.user2FaData.data.verification_type,google_auth_code:e.user2FaData.data&&"google"==e.user2FaData.data.verification_type&&e.user2FaData.data.two_factor_auth_status?e.user2FaData.data.google_auth_code:"",google_auth_code_display:e.user2FaData.data&&"google"==e.user2FaData.data.verification_type&&e.user2FaData.data.two_factor_auth_status?e.user2FaData.data.google_auth_code:"",otp_sent:!1,phone_number_display:e.user2FaData.data&&"sms"==e.user2FaData.data.verification_type&&e.user2FaData.data.two_factor_auth_status?e.user2FaData.data.phone_number:"",phone_number:e.user2FaData.data&&"sms"==e.user2FaData.data.verification_type&&e.user2FaData.data.two_factor_auth_status?e.user2FaData.data.phone_number:"",addNewPhone:!e.user2FaData.data||!e.user2FaData.data.phone_number,addNewDevice:!e.user2FaData.data||!e.user2FaData.data.google_auth_code,showLoader:!1}:void 0!==e.google2FaData&&200===e.google2FaData.status&&e.google2FaData.data!=t.google2FaData&&"false"==localStorage.getItem("showLoader")?{google2FaData:e.google2FaData.data,qr_code_url:e.google2FaData.data.qr_code_url,google_auth_code:e.google2FaData.data.google_auth_code,otp_sent:!1,showLoader:!1}:void 0!==e.otp_sent&&e.otp_sent&&"false"==localStorage.getItem("showLoader")?{otp_sent:e.otp_sent,showLoader:!1}:void 0!==e.showLoader&&0==e.showLoader&&"false"==localStorage.getItem("showLoader")?{showLoader:!1,otp_sent:!!e.otp_sent&&e.otp_sent}:null}}]),t}(n.Component);var fg=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData"));if(rt.toast.dismiss(),localStorage.setItem("showLoader",!1),"USER_2FA_GET"===e.SettingReducer.action)return{user2FaData:e.SettingReducer.data,timestamp:new Date};if("USER_2FA_DISABLED"===e.SettingReducer.action){if(200==e.SettingReducer.data.status)return rt.toast.success(t.global[e.SettingReducer.data.message]),{showLoader:!1,otp_sent:!1};rt.toast.error(t.global[e.SettingReducer.data.message])}if("GOOGLE_2FA_GET"===e.SettingReducer.action){if(200==e.SettingReducer.data.status)return{google2FaData:e.SettingReducer.data};rt.toast.error(t.global[e.SettingReducer.data.message])}if("GOOGLE_2FA_VERIFY"===e.SettingReducer.action)return 200==e.SettingReducer.data.status?(rt.toast.success(t.global[e.SettingReducer.data.message]),{user2FaData:e.SettingReducer.data,timestamp:new Date}):(rt.toast.error(t.global[e.SettingReducer.data.message]),{showLoader:!1});if("SEND_OTP"===e.SettingReducer.action){if(200==e.SettingReducer.data.status)return rt.toast.success(t.global[e.SettingReducer.data.message]),{otp_sent:!0};rt.toast.error(t.global[e.SettingReducer.data.message])}if("VERIFY_OTP"===e.SettingReducer.action){if(200==e.SettingReducer.data.status)return rt.toast.success(t.global[e.SettingReducer.data.message]),{user2FaData:e.SettingReducer.data,timestamp:new Date};rt.toast.error(t.global[e.SettingReducer.data.message])}return{}},function(e){return Object(c.bindActionCreators)({get2FA:pr,disable2FA:hr,getGoogle2FA:gr,verifyGoogleToken:_r,sendOTP:vr,verifyMobileOTP:fr},e)})(vg),bg=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).interval=null,a.handleInputChange=function(e){var t,s=e.target,n=s.value;switch(s.type){case"checkbox":n=s.checked;break;case"file":n=s.files[0]}a.setState((t={},Object(se.a)(t,e.target.name,n),Object(se.a)(t,"userChanged",!0),t))},a.phoneNumberChanged=function(e,t,s,n){e?a.setState({contact_number_1:n.replace(/\s/g,""),contactClass:"setting-input-box",contactError:!1}):a.setState({contactClass:"setting-input-box setting-input-box-invalid",contactError:!0})},a.handleSubmit=function(e){e.preventDefault();var t=!1,s=!1;if(a.setState({firstnameError:!1,lastnameError:!1,email_idError:!1,oldPassError:!1,passwordError:!1,repeatpasswordError:!1,old_passwordError:"",repeat_passwordError:""}),void 0===typeof a.state.firstname||null===a.state.firstname||""===a.state.firstname||""==a.state.firstname.trim()?(a.setState({firstnameError:!0,firstnameClassError:"setting-input-box setting-input-box-invalid"}),t=!0):a.state.firstname&&a.setState({firstnameError:!1,firstnameClass:"setting-input-box"}),void 0===typeof a.state.lastname||null===a.state.lastname||""===a.state.lastname||""==a.state.lastname.trim()?(a.setState({lastnameError:!0,lastnameClassError:"setting-input-box setting-input-box-invalid"}),t=!0):a.state.lastname&&a.setState({lastnameError:!1,lastnameClass:"setting-input-box"}),a.state.contactError&&(t=!0),void 0===typeof a.state.email_id||null===a.state.email_id||""===a.state.email_id||""==a.state.email_id.trim()?(a.setState({email_idError:!0,email_idClassError:"setting-input-box setting-input-box-invalid"}),t=!0):nt.a.isEmail(a.state.email_id)?a.state.email_id&&a.setState({email_idError:!1,email_idErrorClass:"setting-input-box"}):(rt.toast.error("Incorrect email address"),t=!0),""===a.state.repeat_password&&""===a.state.password&&""===a.state.old_password)s=!0;else{if(void 0===a.state.old_password||null===a.state.old_password||""===a.state.old_password?(a.setState({oldPassError:!0,oldPasswordClassError:"setting-input-box setting-input-box-invalid"}),t=!0):a.state.old_password&&a.setState({oldPassError:!1,oldPassword:"setting-input-box"}),void 0===a.state.password||null===a.state.password||""===a.state.password)a.setState({passwordError:!0,passwordClassError:"setting-input-box setting-input-box-invalid"}),t=!0;else if(a.state.password){if(a.setState({passwordError:!1,passwordClassError:"setting-input-box"}),a.state.password.length<8)return a.setState({passwordError:!0,passwordClassError:"setting-input-box setting-input-box-invalid"}),t=!0,rt.toast.error(a.state.globalLang.signup_error_password_length),!1;if(!/^(?=.{8,})(?=.*[A-Z])(?=.*[`~*-\/\[\]\\|{}().:;,''""!_<>-@#$%^&+=]).*$/.test(a.state.password))return a.setState({passwordError:!0,passwordClassError:"setting-input-box setting-input-box-invalid"}),t=!0,rt.toast.error(a.state.globalLang.signup_error_password_combination),!1;a.setState({passwordError:!1,passwordClassError:"setting-input-box"})}if(void 0===a.state.repeat_password||null===a.state.repeat_password||""===a.state.repeat_password?(a.setState({repeatpasswordError:!0,repeatpasswordClassError:"setting-input-box setting-input-box-invalid"}),t=!0):a.state.repeat_password&&a.setState({repeatpasswordError:!1,repeatpassword:"setting-input-box"}),a.state.password!==a.state.repeat_password)return a.setState({passwordError:!0,passwordClassError:"setting-input-box setting-input-box-invalid"}),t=!0,rt.toast.error(a.state.globalLang.signup_confirm_password_same),!1;a.state.password&&a.setState({passwordError:!1,passwordClassError:"setting-input-box"})}if(!0!==t){var n={firstname:a.state.firstname,lastname:a.state.lastname,email_id:a.state.email_id,contact_number_1:a.state.contact_number_1,show_signature_popup:a.state.show_signature_popup?1:0,user_image:a.state.user_image};s||(n.password=a.state.password,n.old_password=a.state.old_password),a.setState({showLoader:!0}),a.props.userProfile(n,a.state.userId,"profile")}},a.handleClick=function(){a.setState({clicked:!a.state.clicked})},a.clearCanvas=function(){a._sketch.clear(),a._sketch.setBackgroundFromDataUrl(""),a.setState({canvasClass:"signature-box sig-div",inputOut:"input-outer no-display",clearClass:"new-white-btn no-margin clear",resetClass:"new-blue-btn reset ",changeClass:"new-blue-btn no-margin Change no-display"})},a.saveSignature=function(){var e=a._sketch.toDataURL();Q.a.post(Ee.API_URL+"upload-and-save/signature",{image_data:e,upload_type:"signatures"}).then(function(e){e.data&&200===e.data.status&&a.setState({signature_url:e.data.data.signature_url,uploadedSignature_url:e.data.data.signature_url,uploadedSignature:e.data.data.file_name,signature:e.data.data.file_name,inputOut:"input-outer",canvasClass:"signature-box sig-div  no-display",clearClass:"new-white-btn no-margin clear no-display",resetClass:"new-blue-btn reset  no-display",changeClass:"new-blue-btn no-margin Change"})}).catch(function(e){})},a.handleChildChange=function(e){a.setState(e)},a.handleClearReset=function(){a.setState({inputOut:"input-outer",canvasClass:"signature-box sig-div  no-display",clearClass:"new-white-btn no-margin clear no-display",resetClass:"new-blue-btn reset  no-display",changeClass:"new-blue-btn no-margin Change"})},a.handleReset=function(){a.setState({inputOut:"input-outer no-display",canvasClass:"signature-box sig-div  ",clearClass:"new-white-btn no-margin clear no-display",resetClass:"new-blue-btn reset no-display",changeClass:"new-blue-btn no-margin Change"})},a.newCanvas=function(){a.canvas.clearRect(0,0,0,0)},a.clear=function(){a._sketch.clear(),a._sketch.setBackgroundFromDataUrl(""),a.setState({controlledValue:null,backgroundColor:"transparent",fillWithBackgroundColor:!1,canUndo:a._sketch.canUndo(),canRedo:a._sketch.canRedo()})},a.enableCalenderSync=function(){a.setState({google_calender_sync:!0});var e=a.state.google_oauth_url+"&redirect_uri="+window.location.origin+"/settings/profile/calendar/sync";window.location=e},a.disableCalenderSync=function(){a.setState({showLoader:!1,google_calender_sync:!1}),a.props.disableGoogleCalendarSync()},a.state={icon:"faAngleDown",clicked:!1};var s=JSON.parse(localStorage.getItem("userData"));return a.state={pictures:[],userId:s.user.id,firstname:"",lastname:"",email_id:"",password:"",old_password:"",repeat_password:"",contact_number_1:"",file:"",file_name:"",defaultCountry:"us",contactClass:"setting-input-box",firstnameClass:"setting-input-box",lastnameClass:"setting-input-box",email_idClass:"setting-input-box",passwordClass:"passwordclassName setting-input-box",oldPasswordClass:"passwordclassName setting-input-box",repeatpasswordClass:"passwordclassName setting-input-box",userChanged:!1,contactError:!1,user_image:"",signature:"",canvasClass:"signature-box sig-div ",inputOut:"input-outer",clearClass:"new-white-btn no-margin clear no-display",resetClass:"new-blue-btn reset no-display m-l-10",changeClass:"new-blue-btn no-margin Change m-l-10",defImageCls:"no-display",cameraInPreviewCls:"camra-icon dz-clickable no-image",uploadedFile:"",dzImgObj:{},user_image_url:"",dzCSS:"",show_signature_popup:!1,google_calender_sync:!1,dbfirstname:"",uploadedSignature:"",uploadedSignature_url:"",userDetails:{},showLoader:!1,google_oauth_url:""},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidUpdate",value:function(e){if(void 0!==e.user&&200===e.user.status&&void 0!==this.props.user&&e.user.data.user_image_url!==this.props.user.data.user_image_url){""!==this.props.user.data.user_image?this.setState({defImageCls:"no-display",cameraInPreviewCls:"camra-icon dz-clickable camera-in-preview",dzCSS:"",user_image:this.props.user.data.user_image,user_image_url:this.props.user.data.user_image_url}):this.setState({uploadedFile:this.props.user.data.user_image,user_image:this.props.user.data.user_image});var t={};t.dzImgObj=this.state.dzImgObj,t.mockFile={name:this.props.user.data.user_image_url,accepted:!0,size:7627},t.user_image_url=this.props.user.data.user_image_url,t.user_image=this.props.user.data.user_image,this.refs.child.reInit(t)}}},{key:"componentDidMount",value:function(){var e,t=JSON.parse(localStorage.getItem("languageData"));this.setState((e={profileHeader:t.settings.profileHeader,profile_subheader:t.settings.profile_subheader,profile_first_name:t.settings.profile_first_name,profile_last_name:t.settings.profile_last_name,profile_phone:t.settings.profile_phone,profile_email:t.settings.profile_email,profile_password_subheader:t.settings.profile_password_subheader,profile_current_password:t.settings.profile_current_password,profile_new_password:t.settings.profile_new_password,profile_repeat_password:t.settings.profile_repeat_password,profile_personal_signature:t.settings.profile_personal_signature,profile_signature_popup:t.settings.profile_signature_popup,profile_sync_google_calendar:t.settings.profile_sync_google_calendar,sidebar_account_menu:t.settings.sidebar_account_menu,sidebar_userRole_menu:t.settings.sidebar_userRole_menu,sidebar_users_menu:t.settings.sidebar_users_menu,sidebar_teammates_menu:t.settings.sidebar_teammates_menu,sidebar_appointmentReminder_menu:t.settings.sidebar_appointmentReminder_menu,sidebar_patient_menu:t.settings.sidebar_patient_menu,sidebar_cancellation_menu:t.sidebar_cancellation_menu,sidebar_url_menu:t.settings.sidebar_url_menu,sidebar_survey_menu:t.settings.sidebar_survey_menu,sidebar_appointment_menu:t.settings.sidebar_appointment_menu,sidebar_Appointments_menu:t.settings.sidebar_Appointments_menu,sidebar_procedure_menu:t.settings.sidebar_procedure_menu,sidebar_consents_menu:t.settings.sidebar_consents_menu,sidebar_questionnaires_menu:t.settings.sidebar_questionnaires_menu,sidebar_menu_clinics:t.settings.sidebar_menu_clinics,sidebar_manageClinics_menu:t.settings.sidebar_manageClinics_menu,sidebar_AR_menu:t.settings.sidebar_AR_menu,sidebar_2FA_menu:t.settings.sidebar_2FA_menu,sidebar_profile_menu:t.settings.sidebar_profile_menu},Object(se.a)(e,"sidebar_account_menu",t.settings.sidebar_account_menu),Object(se.a)(e,"clinic_Please_Wait",t.settings.clinic_Please_Wait),Object(se.a)(e,"user_save_btn_text",t.settings.user_save_btn_text),Object(se.a)(e,"showLoader",!0),Object(se.a)(e,"globalLang",t.global),e)),this.props.getUser(this.state.userId,"profile")}},{key:"onDrop",value:function(e){this.setState({pictures:this.state.pictures.concat(e)})}},{key:"removeItems",value:function(){this.setState({icon:"faAngleRight"})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"main protected"},i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(ps,null),i.a.createElement("div",{className:"setting-setion"},i.a.createElement("form",{id:"login-form",name:"login-form",className:"nobottommargin",action:"#",method:"post",autoComplete:"new-password"},i.a.createElement("div",{className:"setting-container"},i.a.createElement("div",{className:"setting-title"},this.state.profileHeader),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-lg-8 col-xs-12 profile-detail-left"},i.a.createElement("div",{className:"main-profile-picture"},""!=this.state.dbfirstname&&i.a.createElement(Ln,{type:"profile",uploadedFileName:"user_image",fileUrl:"user_image_url",user_image:this.state.user_image,user_image_url:this.state.user_image_url,defLogo:An.a,logo_url:this.state.user_image_url,handleChildChange:this.handleChildChange,ref:"child",containerClass:"dropzone-holder"})),i.a.createElement("div",{className:"settings-subtitle"},this.state.profile_subheader),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-6"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.profile_first_name,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:"firstname",id:"first_name",className:!0===this.state.firstnameError?this.state.firstnameClassError:this.state.firstnameClass,placeholder:"firstname",maxLength:"255",type:"text",value:this.state.firstname,onChange:this.handleInputChange,autoComplete:"new-password"})))),i.a.createElement("div",{className:"col-sm-6"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.profile_last_name,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:"lastname",placeholder:"lastname",className:!0===this.state.lastnameError?this.state.lastnameClassError:this.state.lastnameClass,maxLength:"255",type:"text",value:this.state.lastname,onChange:this.handleInputChange,autoComplete:"new-password"})))),i.a.createElement("div",{className:"col-sm-6"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.profile_phone," ",i.a.createElement("span",{className:"setting-require"})),i.a.createElement("div",{className:"setting-input-outer"},""!=this.state.dbfirstname&&i.a.createElement(zt.a,{preferredCountries:["tw"],css:["intl-tel-input",this.state.contactClass],utilsScript:"libphonenumber.js",defaultValue:this.state.contact_number_1?this.state.contact_number_1:"",defaultCountry:this.state.defaultCountry,fieldName:"contact_number_1",onPhoneNumberChange:this.phoneNumberChanged,onPhoneNumberBlur:this.phoneNumberChanged,placeholder:"Phone Number"})))),i.a.createElement("div",{className:"col-sm-6"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.profile_email," ",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:"email_id",className:!0===this.state.email_idError?this.state.email_idClassError:this.state.email_idClass,placeholder:"email",maxLength:"500",type:"text",value:this.state.email_id,onChange:this.handleInputChange,autoComplete:"off",autoCorrect:"off",autoCapitalize:"none",spellCheck:"false"})))))),i.a.createElement("div",{className:"col-lg-4 col-xs-12 change-pwd-outer"},i.a.createElement("div",{className:"settings-subtitle"},this.state.profile_password_subheader),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.profile_current_password," ",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:"old_password",type:"password",className:!0===this.state.oldPassError?this.state.oldPasswordClassError:this.state.oldPasswordClass,value:this.state.old_password,onChange:this.handleInputChange,autoComplete:"new-password"})))),i.a.createElement("div",{className:"col-sm-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.profile_new_password,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:"password",type:"password",className:1==this.state.passwordError?this.state.passwordClassError:this.state.passwordClass,value:this.state.password,onChange:this.handleInputChange,autoComplete:"new-password"})))),i.a.createElement("div",{className:"col-sm-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.profile_repeat_password," ",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:"repeat_password",type:"password",className:!0===this.state.repeatpasswordError?this.state.repeatpasswordClassError:this.state.repeatpasswordClass,value:this.state.repeat_password,onChange:this.handleInputChange,autoComplete:"new-password"})))))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"settings-subtitle signature-subtitle"},this.state.profile_personal_signature),i.a.createElement("div",{className:this.state.canvasClass,id:"sig-div"},i.a.createElement(Qm.SketchField,{width:"400px",ref:function(t){return e._sketch=t},height:"200px",tool:Qm.Tools.Pencil,lineColor:"black",lineWidth:6})),i.a.createElement("div",{className:"img-src",id:"img-src"},i.a.createElement("div",{className:this.state.inputOut,style:{background:"#fff none repeat scroll 0 0"}},i.a.createElement("img",{className:"",id:"signature_image",src:this.state.uploadedSignature_url?this.state.uploadedSignature_url:this.state.signature_url}))),i.a.createElement("span",{className:"setting-custom-switch pull-right"},i.a.createElement("span",{className:"switch-text"},this.state.profile_signature_popup),i.a.createElement("label",{className:"setting-switch pull-right",htmlFor:"show_signature_popup"},i.a.createElement("input",{type:"checkbox",name:"show_signature_popup",id:"show_signature_popup",checked:this.state.show_signature_popup?"checked":0,onChange:this.handleInputChange}),i.a.createElement("span",{className:"setting-slider"}))),i.a.createElement("div",{className:"sig-div no-display"},i.a.createElement("div",{className:"pull-left"})),i.a.createElement("div",{className:"img-src change-sig"},i.a.createElement("div",{className:"pull-left"},i.a.createElement("button",{type:"button",id:"change",onClick:this.clearCanvas,className:this.state.changeClass},"Change")),i.a.createElement("div",{className:"pull-left"},i.a.createElement("button",{type:"button",id:"change1",onClick:this.clear,className:this.state.clearClass},"Clear")),i.a.createElement("div",{className:"pull-left"},i.a.createElement("button",{type:"button",id:"change2",onClick:this.handleClearReset,className:this.state.resetClass},"Reset")),i.a.createElement("div",{className:"pull-left"},i.a.createElement("button",{type:"button",id:"change3",onClick:this.saveSignature,className:this.state.resetClass},"Save Signature"))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("span",{className:"setting-custom-switch pull-right syn-wid-google"},i.a.createElement("span",{className:"switch-text"},this.state.profile_sync_google_calendar),i.a.createElement("label",{className:"setting-switch pull-right"},i.a.createElement("input",{type:"checkbox",name:"google_calender_sync",id:"google_calender_sync",checked:this.state.google_calender_sync?"checked":0,onChange:this.state.google_calender_sync?this.disableCalenderSync:this.enableCalenderSync}),i.a.createElement("span",{className:"setting-slider"})))))))),i.a.createElement("div",{className:"footer-static"},i.a.createElement("button",{className:"new-blue-btn pull-right",type:"submit",id:"save-profile",onClick:this.handleSubmit},this.state.user_save_btn_text))),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.clinic_Please_Wait))))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(void 0!=e.showLoader&&0==e.showLoader)return{showLoader:!1};var a={};return void 0!==e.user&&200===e.user.status&&e.user.data!==t.userDetails?(""==e.user.data.signature_url?(a.canvasClass="signature-box sig-div",a.inputOut="input-outer no-display",a.clearClass="new-white-btn no-margin clear",a.resetClass="new-blue-btn reset ",a.changeClass="new-blue-btn no-margin Change no-display"):(a.canvasClass="signature-box sig-div no-display",a.inputOut="input-outer",a.clearClass="new-white-btn no-margin clear no-display",a.resetClass="new-blue-btn reset no-display",a.changeClass="new-blue-btn no-margin Change "),a.userDetails=e.user.data,a.showLoader=!1,a.firstname=t.userChanged?t.firstname:e.user.data.firstname,a.lastname=t.userChanged?t.lastname:e.user.data.lastname,a.email_id=t.userChanged?t.email_id:e.user.data.email_id,a.contact_number_1=t.userChanged?t.contact_number_1:e.user.data.contact_number_1,a.user_image=null==e.user.data.user_image?"":e.user.data.user_image,a.user_image_url=e.user.data.user_image_url,a.signature=e.user.data.signature,a.signature_url=e.user.data.signature_url,a.show_signature_popup=t.userChanged?t.show_signature_popup:e.user.data.show_signature_popup?1:0,a.google_calender_sync=t.google_calender_sync?t.google_calender_sync:e.user.data.google_calender_sync?1:0,a.dbfirstname=e.user.data.firstname,a.google_oauth_url=e.user.data.google_oauth_url,a):void 0!=e.signature&&e.signature!=t.signature?(a.signature=e.signature,a):null}}]),t}(n.Component);bg.defaultProps={width:400,height:200,color:"#000",size:5,fillColor:"",canvasClassName:"canvas",debounceTime:1e3,animate:!0,userChanged:!1};var Eg=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData")),a=(JSON.parse(localStorage.getItem("userData")),{});return"PROFILE_GET"===e.SettingReducer.action?200!=e.SettingReducer.data.status?(rt.toast.error(t.global[e.SettingReducer.data.message]),a.showLoader=!1):a.user=e.SettingReducer.data:"PROFILE_UPDATE"===e.SettingReducer.action?200!=e.SettingReducer.data.status?(rt.toast.error(t.global[e.SettingReducer.data.message]),a.showLoader=!1):(rt.toast.success(t.global[e.SettingReducer.data.message]),a.user=e.SettingReducer.data):"DISABLE_GOOGLE_CALENDAR_SYNC"===e.SettingReducer.action&&(200!=e.SettingReducer.data.status?(rt.toast.error(t.global[e.SettingReducer.data.message]),a.showLoader=!1):(rt.toast.success(t.global[e.SettingReducer.data.message]),a.showLoader=!1)),a},function(e){return Object(c.bindActionCreators)({uploadImage:hi,getUser:ii,userProfile:oi,uploadBase64Image:xi,disableGoogleCalendarSync:ko},e)})(bg),yg=a(319),Ng=a.n(yg),Sg=function(){window.location="/settings/profile"},Dg=function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).displayToastMessage=function(e){rt.toast.error(e,{onClose:function(){Sg()}})},a.handleInputChange=function(){},a.state=a.initialState,a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){this.setState({showLoader:!0});var e=Ng.a.parse(this.props.location.search);if(Object.keys(e).length)if(void 0!==e.code&&""!==e.code&&null!==e.code){var t={google_redirect_url:window.location.origin+"/settings/profile/calendar/sync",code:e.code,scope:e.scope};this.props.enableGoogleCalendarSync(t)}else void 0!==e.error_description&&""!==e.error_description&&null!==e.error_description?this.displayToastMessage(e.error_description):this.displayToastMessage("Unknow Error!");else this.displayToastMessage("Google response data is empty")}},{key:"render",value:function(){return i.a.createElement("div",{className:"main protected"},i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(ps,null),i.a.createElement("div",{className:"setting-setion"},i.a.createElement("form",{id:"login-form",name:"login-form",className:"nobottommargin",action:"#",method:"post",autoComplete:"new-password"},i.a.createElement("div",{className:"setting-container"},i.a.createElement("div",{className:"setting-title"},this.state.profileHeader),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-lg-8 col-xs-12 profile-detail-left"},i.a.createElement("div",{className:"main-profile-picture"}),i.a.createElement("div",{className:"settings-subtitle"},this.state.profile_subheader),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-6"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.profile_first_name,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:"firstname",id:"first_name",className:!0===this.state.firstnameError?this.state.firstnameClassError:this.state.firstnameClass,placeholder:"firstname",maxLength:"255",type:"text",value:this.state.firstname,onChange:this.handleInputChange,autoComplete:"new-password"})))),i.a.createElement("div",{className:"col-sm-6"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.profile_last_name,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:"lastname",placeholder:"lastname",className:!0===this.state.lastnameError?this.state.lastnameClassError:this.state.lastnameClass,maxLength:"255",type:"text",value:this.state.lastname,onChange:this.handleInputChange,autoComplete:"new-password"})))),i.a.createElement("div",{className:"col-sm-6"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.profile_phone," ",i.a.createElement("span",{className:"setting-require"})),i.a.createElement("div",{className:"setting-input-outer"},""!=this.state.dbfirstname&&i.a.createElement(zt.a,{preferredCountries:["tw"],css:["intl-tel-input",this.state.contactClass],utilsScript:"libphonenumber.js",defaultValue:this.state.contact_number_1?this.state.contact_number_1:"",defaultCountry:this.state.defaultCountry,fieldName:"contact_number_1",onPhoneNumberChange:this.phoneNumberChanged,onPhoneNumberBlur:this.phoneNumberChanged,placeholder:"Phone Number"})))),i.a.createElement("div",{className:"col-sm-6"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.profile_email," ",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:"email_id",className:!0===this.state.email_idError?this.state.email_idClassError:this.state.email_idClass,placeholder:"email",maxLength:"500",type:"text",value:this.state.email_id,onChange:this.handleInputChange,autoComplete:"off",autoCorrect:"off",autoCapitalize:"none",spellCheck:"false"})))))),i.a.createElement("div",{className:"col-lg-4 col-xs-12 change-pwd-outer"},i.a.createElement("div",{className:"settings-subtitle"},"Change Password"),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"CURRENT PASSWORD ",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:"old_password",type:"password",className:"passwordclassName setting-input-box",autoComplete:"new-password",defaultValue:""})))),i.a.createElement("div",{className:"col-sm-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"NEW PASSWORD",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:"password",type:"password",className:"passwordclassName setting-input-box",autoComplete:"new-password",defaultValue:!0})))),i.a.createElement("div",{className:"col-sm-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"REPEAT PASSWORD ",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:"repeat_password",type:"password",className:"passwordclassName setting-input-box",autoComplete:"new-password",defaultValue:!0})))))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"settings-subtitle signature-subtitle"},"Personal Signature"),i.a.createElement("div",{className:"signature-box sig-div",id:"sig-div"},i.a.createElement("div",{style:{width:"400px",height:"200px"}},i.a.createElement("div",{className:"canvas-container",style:{width:"398px",height:"200px",position:"relative",userSelect:"none"}},i.a.createElement("canvas",{id:"88f5165c-1e43-470e-a95a-1b901ac6026f",className:"lower-canvas",width:"437.80000948905945",height:"220.00000476837158",style:{position:"absolute",width:"398px",height:"200px",left:"0px",top:"0px",touchAction:"none",userSelect:"none"}},"Sorry, Canvas HTML5 element is not supported by your browser "),i.a.createElement("canvas",{className:"upper-canvas ",style:{position:"absolute",width:"398px",height:"200px",left:"0px",top:"0px",touchAction:"none",userSelect:"none",cursor:"crosshair"}})))),i.a.createElement("div",{className:"img-src",id:"img-src"},i.a.createElement("div",{className:"input-outer no-display",style:{background:"none 0px 0px repeat scroll rgb(255, 255, 255)"}},i.a.createElement("img",{id:"signature_image"}))),i.a.createElement("span",{className:"setting-custom-switch pull-right"},i.a.createElement("span",{className:"switch-text"},"Show Signature Pop-up"),i.a.createElement("label",{className:"setting-switch pull-right",htmlFor:"show_signature_popup"},i.a.createElement("input",{type:"checkbox",name:"show_signature_popup",id:"show_signature_popup"}),i.a.createElement("span",{className:"setting-slider"}))),i.a.createElement("div",{className:"sig-div no-display"},i.a.createElement("div",{className:"pull-left"})),i.a.createElement("div",{className:"img-src change-sig"},i.a.createElement("div",{className:"pull-left"},i.a.createElement("button",{type:"button",id:"change",className:"new-blue-btn no-margin Change no-display"},"Change")),i.a.createElement("div",{className:"pull-left"},i.a.createElement("button",{type:"button",id:"change1",className:"new-white-btn no-margin clear"},"Clear")),i.a.createElement("div",{className:"pull-left"},i.a.createElement("button",{type:"button",id:"change2",className:"new-blue-btn reset "},"Reset")),i.a.createElement("div",{className:"pull-left"},i.a.createElement("button",{type:"button",id:"change3",className:"new-blue-btn reset "},"Save Signature"))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("span",{className:"setting-custom-switch pull-right syn-wid-google"},i.a.createElement("span",{className:"switch-text"},"Sync With Google Calendar"),i.a.createElement("label",{className:"setting-switch pull-right"},i.a.createElement("input",{type:"checkbox",name:"google_calender_sync",id:"google_calender_sync"}),i.a.createElement("span",{className:"setting-slider"})))))))),i.a.createElement("div",{className:"footer-static"},i.a.createElement("button",{className:"new-blue-btn pull-right",type:"submit",id:"save-profile",onClick:this.handleSubmit},this.state.user_save_btn_text))),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.clinic_Please_Wait))))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0})))}},{key:"initialState",get:function(){var e,t=JSON.parse(localStorage.getItem("languageData"));return e={settingsLang:t.settings,globalLang:t.global,showLoader:!1,backAction:"/settings/profile",posStripeSetupData:{},code:"",clinicId:0},Object(se.a)(e,"showLoader",!0),Object(se.a)(e,"posData",{}),Object(se.a)(e,"stripeConfigClinic",[]),Object(se.a)(e,"stripeConfigGlobal",[]),Object(se.a)(e,"stripeConnectionMode","clinic"),Object(se.a)(e,"stripeCountry","US"),Object(se.a)(e,"stripeCurrency","usd"),Object(se.a)(e,"stripeMode",""),Object(se.a)(e,"pos_enabled",!1),Object(se.a)(e,"isShowAlertModal",!1),Object(se.a)(e,"alertModalContent",""),Object(se.a)(e,"alertModalType","pos_enabled"),Object(se.a)(e,"disconnectStripeId",""),Object(se.a)(e,"disconnectClinicId",0),Object(se.a)(e,"updateStripeId",""),Object(se.a)(e,"updateClinicId",0),Object(se.a)(e,"isShowUpdateModal",!1),e}}],[{key:"getDerivedStateFromProps",value:function(e,t){return void 0!=e.redirect&&1==e.redirect&&(e.status?rt.toast.success(e.message,{onClose:function(){Sg()}}):rt.toast.error(e.message,{onClose:function(){Sg()}})),{}}}]),t}(n.Component);var wg=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData")),a={};return"ENABLE_GOOGLE_CALENDAR_SYNC"===e.SettingReducer.action&&(200!=e.SettingReducer.data.status?("third_party_error"==e.SettingReducer.data.message?a.message=e.SettingReducer.data.data:a.message=t.global[e.SettingReducer.data.message],a.redirect=!0,a.status=!1):(a.status=!0,a.message=t.global[e.SettingReducer.data.message],a.redirect=!0)),a},function(e){return Object(c.bindActionCreators)({enableGoogleCalendarSync:Ro},e)})(Object(de.a)(Dg)),Cg=(a(230),function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).reorder=function(e,t,a){var s=Array.from(e),n=s.splice(t,1),i=Object(ye.a)(n,1)[0];return s.splice(a,0,i),s},a.getItemStyle=function(e,t){return Object(m.a)({userSelect:"none",background:e?"#f7fbfd":"ffffff"},t)},a.reOrderList=function(e){var t={object_ids:e};a.props.updateSortOrder(t,a.props.module)},a.onEdit=function(e,t){a.props.editUrl(e)},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"render",value:function(){var e=this,t=[];if(void 0!==this.props.list){var a="",s="",n="",r="";"Consent"===this.props.module?(a="consent_name",s="added_by"):"ConsultationList"===this.props.module?(a="consultation_title",s="questions_count"):"PreTreatmentInstruction"===this.props.module?(a="title",s="added_by_user",n="firstname",r="lastname"):"PostTreatmentInstruction"!==this.props.module&&"ProcedureTemplate"!==this.props.module||(a="title",s="added_by_user",n="firstname",r="lastname"),t=this.props.list.map(function(e,t){var o="";return e[s]&&""!==n&&(o=e[s][n]),e[s]&&""!==r&&(o+=" "+e[s][r]),""===n&&""===r&&(o=e[s]),void 0==e[s]&&(o=Me(e)),{content:i.a.createElement(i.a.Fragment,{key:"fragment_"+t},i.a.createElement("td",{className:"col-xs-8 table-updated-td Questionnaire-name"},i.a.createElement("a",{href:"#",className:"drag-dots"}),e[a]),i.a.createElement("td",{className:"col-xs-4 table-updated-td text-center"},o)),id:e.id}})}return i.a.createElement(Vl.a,{onDragEnd:function(a){var s;if(a.destination){var n=e.reorder(t,a.source.index,a.destination.index);t=n,s=n.map(function(e,t){return e.id}),e.reOrderList(s)}}},i.a.createElement(Vl.c,{droppableId:"droppable"},function(a,s){return i.a.createElement("tbody",{className:"table-updated setting-table",ref:a.innerRef},t.map(function(t,a){return i.a.createElement(Vl.b,{key:t.id,draggableId:t.id,index:a},function(a,s){return i.a.createElement("tr",Object.assign({className:"table-updated-tr","data-order_by":t.id,onClick:e.onEdit.bind(e,t.id),ref:a.innerRef},a.draggableProps,a.dragHandleProps,{style:e.getItemStyle(s.isDragging,a.draggableProps.style)}),t.content)})}),null,a.placeholder)}))}}]),t}(i.a.Component));var xg=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData")),a={};return"SORT_ORDER_UPDATE"===e.SettingReducer.action&&(200!=e.SettingReducer.data.status?(rt.toast.error(t.global[e.SettingReducer.data.message]),a.showLoader=!1):rt.toast.success(t.global[e.SettingReducer.data.message])),a},function(e){return Object(c.bindActionCreators)({updateSortOrder:mi},e)})(Cg),Lg=function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).questionnaireEdit=function(e){return i.a.createElement("div",null,a.props.history.push("/settings/questionnaires/".concat(e,"/edit")))},a.handleInputChange=function(e){var t=e.target,s="checkbox"===t.type?t.checked:t.value;a.setState(Object(se.a)({},e.target.name,s))},a.handleSubmit=function(e){var t;e.preventDefault(),localStorage.setItem("sortOnly",!0);var s={params:{page:1,pagesize:a.state.pagesize,sortorder:a.state.sortorder,term:a.state.term}};a.setState((t={page:1,pagesize:a.state.pagesize,sortorder:"asc"==a.state.sortorder?"asc":"desc",startFresh:!0,loadMore:!0},Object(se.a)(t,"startFresh",!0),Object(se.a)(t,"next_page_url",""),Object(se.a)(t,"questionnaireList",[]),t)),a.props.fetchQuestionnaire(s)},a.loadMore=function(){localStorage.setItem("sortOnly",!1),a.setState({loadMore:!0,startFresh:!0,showLoader:!0,showLoadingText:!0});var e={params:{page:a.state.page,pagesize:a.state.pagesize,sortorder:a.state.sortorder,term:a.state.term}};a.props.fetchQuestionnaire(e)},a.state={fisrtname:"",lastname:"",user_role_id:"",status:"active",showLoadingText:!1,userData:"",page:1,pagesize:15,sortorder:"asc",term:"",hasMoreItems:!0,next_page_url:"",questionnaireList:[],loadMore:!0,startFresh:!0,showLoader:!1},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),window.onscroll=function(){var e=parseInt(Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop));window.innerHeight+e===document.documentElement.offsetHeight&&null!=a.state.next_page_url&&a.loadMore()},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e={params:{page:this.state.page,pagesize:this.state.pagesize,sortorder:"asc",term:this.state.term}},t=JSON.parse(localStorage.getItem("languageData"));this.setState({question_Create_Questionnaire:t.settings.question_Create_Questionnaire,question_Number_Of_Questions:t.settings.question_Number_Of_Questions,question_Questionnaires:t.settings.question_Questionnaires,clinics_Search:t.settings.clinics_Search,clinic_No_Record_Found:t.settings.clinic_No_Record_Found,clinic_Please_Wait:t.settings.clinic_Please_Wait,loading_please_wait_text:t.global.loading_please_wait_text}),this.setState({showLoader:!0}),this.props.fetchQuestionnaire(e)}},{key:"shouldComponentUpdate",value:function(e,t){return!!this.state.startFresh||(!!this.state.loadMore||!!this.state.showLoader)}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(ps,null),i.a.createElement("div",{className:"setting-setion"},i.a.createElement("div",{className:"setting-search-outer"},i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("div",{className:"search-bg col-xs-5"},i.a.createElement("i",{className:"fas fa-search"}),i.a.createElement("input",{className:"setting-search-input search-key","data-url":"/settings/questionnaires",name:"term",placeholder:this.state.clinics_Search,autoComplete:"off",value:this.state.term,onChange:this.handleInputChange}))),i.a.createElement(me.a,{to:"/settings/questionnaires/create",className:"new-blue-btn pull-right edit_setting"},this.state.question_Create_Questionnaire)),i.a.createElement("div",{className:"table-responsive"},i.a.createElement("table",{className:"table-updated setting-table"},i.a.createElement("thead",{className:"table-updated-thead"},i.a.createElement("tr",null,i.a.createElement("th",{className:"col-xs-8 table-updated-th sorting"},this.state.question_Questionnaires),i.a.createElement("th",{className:"col-xs-4 table-updated-th sorting text-center"},this.state.question_Number_Of_Questions))),i.a.createElement(xg,{sortUpdate:this.updateSortOrder,list:this.state.questionnaireList,module:"ConsultationList",editUrl:this.questionnaireEdit}),this.state.questionnaireList.length<=0&&!1===this.state.showLoader&&i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",{className:"col-xs-8 table-updated-th text-center",colSpan:2},i.a.createElement("div",{className:"no-record"},this.state.clinic_No_Record_Found)))))),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.clinic_Please_Wait))),i.a.createElement("div",{className:this.state.showLoadingText?"loading-please-wait no-margin-top":"loading-please-wait no-margin-top no-display "},this.state.loading_please_wait_text)))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(void 0!=e.showLoader&&0==e.showLoader)return{showLoader:!1};if(void 0!=e.questionnaireList&&e.questionnaireList.next_page_url!==t.next_page_url){var a={};return null==t.next_page_url?(localStorage.setItem("sortOnly",!1),a.next_page_url=null):(0==t.questionnaireList.length&&1==t.startFresh?"false"==localStorage.getItem("sortOnly")?(a.questionnaireList=e.questionnaireList.data,null!=e.questionnaireList.next_page_url?a.page=t.page+1:a.next_page_url=e.questionnaireList.next_page_url,a.startFresh=!1,a.showLoader=!1,a.showLoadingText=!1):localStorage.setItem("sortOnly",!1):t.questionnaireList!=e.questionnaireList.data&&0!=t.questionnaireList.length&&(a.questionnaireList=Object(oa.a)(t.questionnaireList).concat(Object(oa.a)(e.questionnaireList.data)),a.page=t.page+1,a.next_page_url=e.questionnaireList.next_page_url,a.showLoader=!1,a.showLoadingText=!1),a)}return null}}]),t}(n.Component);var Og=Object(Z.b)(function(e){JSON.parse(localStorage.getItem("languageData"));var t={};return"QUESTIONNAIRES_LIST"===e.SettingReducer.action&&(localStorage.setItem("loadFresh",!1),200!=e.SettingReducer.data.status?t.showLoader=!1:t.questionnaireList=e.SettingReducer.data.data),t},function(e){return Object(c.bindActionCreators)({fetchQuestionnaire:di},e)})(Lg);Q.a.create().interceptors.response.use(function(e){return e},function(e){if(!e.response)return{data:{data:"",message:"file_type_error",status:400}}});var Ag=function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).showDeleteModal=function(e){var t=JSON.parse(localStorage.getItem("languageData")),s=e.target.dataset.id;a.setState({showModal:!0,deleteId:s,delete_warning:t.settings.question_delete_warning})},a.deleteEditRow=function(e){a.setState({showLoader:!0}),a.props.getQuestionnaireById(a.state.qId)},a.showQuestionnaireDeleteModal=function(e){var t=JSON.parse(localStorage.getItem("languageData")),s=e.target.dataset.id;a.setState({showModal:!0,deleteId:s,delete_warning:t.settings.questionnaire_delete_warning})},a.dismissModal=function(){a.setState({showModal:!1})},a.deleteQuestion=function(){a.setState({showLoader:!0,hideBtns:!0}),a.dismissModal();var e=a.state.deleteId;e?a.props.deleteQuestion(a.state.qId,e):a.props.deleteQuestionnaire(a.state.qId)},a.createProject=function(){var e=a.state.itemArray,t=a.state.question,s=a.state.question_type;if(""!=t.trim()){a.setState({question_Error:!1});var n={};if(n.question=t,n.question_type=s,"multitext"==s){if(a.state.multiTextArr.length){if(1==a.state.multiTextArr.length){if(""==a.state.multiTextArr[0].text)return a.setState({multiTextError_0:!0}),!1}else{var i=!1,r={};if(a.state.multiTextArr.map(function(e,t){void 0==e.text||""==e.text.trim()?(r["multiTextError_"+t]=!0,i=!0):r["multiTextError_"+t]=!1}),i)return a.setState(r),!1}n.multi_text_data=a.state.multiTextArr,n.multiple_selection=a.state.multiple_selection}}else if("multiimage"==s){if(a.state.multiImageArr.length){if(1==a.state.multiImageArr.length){if(""==a.state.multiImageArr[0].image||void 0==a.state.multiImageArr[0].image||""==a.state.multiImageArr[0].image_label.trim())return a.setState({multiImageError_0:!0}),!1}else{var o=!1,l={};if(a.state.multiImageArr.map(function(e,t){void 0==e.image_label||""==e.image.trim()||""==e.image_label.trim()?(l["multiImageError_"+t]=!0,o=!0):l["multiImageError_"+t]=!1}),o)return a.setState(l),!1}n.multi_image_data=a.state.multiImageArr,n.multiple_selection=a.state.multiple_selection_image,n.display_labels=a.state.display_labels}}else n.multiple_selection=0;a.state.qId?(a.setState({itemArray:e,multiTextArr:[{text:""}],multiImageArr:[{image:"",image_label:""}],question:"",question_type:"yesno",isDisabled:!1,div_display_image:"row  add-questions-multi-text no-margin no-display",div_display_text:"row add-questions-multi-text no-margin no-display",question_Error:!1,multiple_selection:1,showLoader:!0,multiple_selection_image:"1",display_labels:"1"}),a.props.createQuestion(n,a.state.qId)):(e.push(n),a.setState({itemArray:e,multiTextArr:[{text:""}],multiImageArr:[{image:"",image_label:""}],question:"",question_type:"yesno",isDisabled:!1,div_display_image:"row  add-questions-multi-text no-margin no-display",div_display_text:"row add-questions-multi-text no-margin no-display",question_Error:!1,multiple_selection:1,multiple_selection_image:"1",display_labels:"1"}))}else a.setState({question_Error:!0})},a.deleteItem=function(e){var t=a.state.itemArray,s=e.target.dataset.id;t.splice(s,1),a.setState({itemArray:t})},a.editItem=function(e){var t=e.target.dataset.id;a.setState({edit_question_id:t,showLoader:!0}),a.props.getQuestionById(a.state.qId,t)},a.deleteTextOption=function(e){var t={},s=a.state.multiTextArr;if(1==s.length)return!1;var n=e.target.dataset.optionid;s.splice(n,1),s.map(function(e,a){t["text_"+a]=e.text}),t.multiTextArr=s,a.setState(t)},a.deleteImageOption=function(e){var t={},s=a.state.multiImageArr,n=e.target.dataset.optionid;if(1==s.length)return!1;s.splice(n,1),a.state["image_"+n]&&delete a.state["image_"+n],a.state["image_label_"+n]&&delete a.state["image_label_"+n],s.map(function(e,a){t["image_"+a]=e.image,t["image_label_"+a]=e.image_label}),a.state.multiTextArr=s,a.setState(a.state)},a.deleteEditTextOption=function(e){var t=a.state.edit_choices,s=e.target.dataset.optionid;if(1==t.length)return!1;t.splice(s,1),delete a.state["edit_text_"+s],t.map(function(e,t){a.state["edit_text_"+t]=e.text}),a.state.edit_choices=t,a.setState(a.state)},a.deleteEditImageOption=function(e){var t=a.state.edit_choices;if(1==t.length)return!1;var s=e.target.dataset.optionid;t.splice(s,1),delete a.state["edit_image_"+s],delete a.state["edit_image_label_"+s],t.map(function(e,t){a.state["edit_image_"+t]=e.image,a.state["edit_image_label_"+t]=e.image_label}),a.state.edit_choices=t,a.setState(a.state)},a.addMultiTextOption=function(){var e=a.state.multiTextArr,t=!1,s={};if(e.length){if(e.map(function(n,i){void 0!=a.state["text_"+i]&&""!=a.state["text_"+i].trim()?(e[i].text=a.state["text_"+i],t=!0,s["multiTextError_"+i]=!1):(s["multiTextError_"+i]=!0,t=!1)}),0!=Object.keys({}).length)return void a.setState(s);t&&e.push({text:""})}s.multiTextArr=e,a.setState(s)},a.editMultiTextOption=function(){var e=a.state.edit_choices,t=!1,s={};if(e.length){if(e.map(function(n,i){void 0!=a.state["edit_text_"+i]&&""!=a.state["edit_text_"+i].trim()?(e[i].text=a.state["edit_text_"+i],t=!0,s["multiEditTextError_"+i]=!1):(s["multiEditTextError_"+i]=!0,t=!1)}),0!=Object.keys({}).length)return void a.setState(s);t&&(e.push({text:""}),s["edit_text_"+e.length-1]="")}s.edit_choices=e,a.setState(s)},a.addMultiImageOption=function(){var e=a.state.multiImageArr,t=!1,s={};if(e.length){if(e.map(function(n,i){void 0!=a.state["image_"+i]&&""!=a.state["image_"+i].trim()&&void 0!=a.state["image_label_"+i]&&""!=a.state["image_label_"+i].trim()?(e[i].image=a.state["image_"+i],e[i].image_label=a.state["image_label_"+i],t=!0,s["multiImageError_"+i]=!1):(s["multiImageError_"+i]=!0,t=!1)}),0!=Object.keys({}).length)return void a.setState(s);t&&e.push({image:"",image_label:""})}s.multiImageArr=e,a.setState(s)},a.editMultiImageOption=function(){var e=a.state.edit_choices,t=!1,s={};if(e.length){if(e.map(function(n,i){void 0!=a.state["edit_image_"+i]&&""!=a.state["edit_image_"+i].trim()&&void 0!=a.state["edit_image_label_"+i]&&""!=a.state["edit_image_label_"+i].trim()?(e[i].image=a.state["edit_image_"+i],e[i].image_label=a.state["edit_image_label_"+i],t=!0,s["multiEditImageError_"+i]=!1):(s["multiEditImageError_"+i]=!0,t=!1)}),0!=Object.keys({}).length)return void a.setState(s);t&&e.push({image:"",image_label:""})}s.multiImageArr=e,a.setState(s)},a.createDiv=function(){var e=a.state.multiTextArr,t=a.state.text;e.push({text:t}),a.setState({multiTextArr:e})},a.cancelQuestion=function(){a.setState({multiTextArr:[{text:""}],question:"",question_type:"yesno",isDisabled:!1,div_display_image:"row  add-questions-multi-text no-margin no-display",div_display_text:"row 00-questions-multi-text no-margin no-display",question_Error:!1,multiple_selection:1})},a.handleInputChange=function(e){var t=e.target,s=t.value;switch(t.type){case"checkbox":s=t.checked;break;case"file":s=t.files[0],a.setState({showLoader:!0}),a.handleUpload(e.target.files[0],e.target.name)}var n={};if("question_type"==t.name&&("yesno"===s?(n.isDisabled=!1,n.div_display_text="row add-questions-multi-text no-margin no-display ",n.div_display_image="row  add-questions-multi-text no-margin no-display"):"multitext"===s?(n.isDisabled=!1,n.div_display_text="row add-questions-multi-text no-margin display ",n.div_display_image="row  add-questions-multi-text no-margin no-display "):"multiimage"===s&&(n.isDisabled=!1,n.div_display_image="row  add-questions-multi-text no-margin display",n.div_display_text="row add-questions-multi-text no-margin no-display ")),"edit_question_type"==t.name&&("yesno"===s?(n.isEditDisabled=!1,n.div_edit_display_text="row edit-questions-multi-text no-margin no-display ",n.div_edit_display_image="row  edit-questions-multi-text no-margin no-display"):"multitext"===s?(n.questionData=a.state.questionData,n.questionData.question_choices=[{multiple_selection:1}],n.multiTextArr=[{text:""}],n.edit_choices=[{text:""}],n.questionData.multiple_selection=1,n.questionData.question_type="multitext",n.isEditDisabled=!1,n.div_edit_display_text="row edit-questions-multi-text no-margin display ",n.div_edit_display_image="row  edit-questions-multi-text no-margin no-display "):"multiimage"===s&&(n.isEditDisabled=!1,n.questionData=a.state.questionData,n.multiImageArr=[{image:"",label:""}],n.div_edit_display_image="row  edit-questions-multi-text no-margin display",n.div_edit_display_text="row edit-questions-multi-text no-margin no-display ",n.edit_choices=[{image:"",label:""}],n.edit_multiple_selection=1,n.questionData.question_type="multiimage",n.edit_display_labels="1")),t.name.startsWith("text_")){var i=a.state.multiTextArr,r=t.name.split("_")[1];i.map(function(e,t){i[t].text=r!=t?a.state["text_"+t]:s}),n.multiTextArr=i}if(t.name.startsWith("image_label_")){var o=a.state.multiImageArr,l=t.name.split("_")[1];o.map(function(e,t){l!=t?(o[t].image=a.state["image_"+t],o[t].image_label=a.state["image_label_"+t]?a.state["image_label_"+t]:""):o[t].image_label=s}),n.multiImageArr=o}if(t.name.startsWith("edit_text_")){var c=a.state.edit_choices,d=t.name.split("_")[2];c.map(function(e,t){c[t].text=d!=t?a.state["edit_text_"+t]:s}),n.edit_choices=c}if(t.name.startsWith("edit_image_label")){var m=a.state.edit_choices,u=t.name.split("_")[3];m.map(function(e,t){u!=t?(m[t].image=a.state["edit_image_"+t],m[t].image_label=a.state["edit_image_label_"+t]?a.state["edit_image_label_"+t]:""):m[t].image_label=s}),n.edit_choices=m}"file"!=t.type&&(n[e.target.name]=s),n.userChanged=!0,a.setState(n)},a.handleUpload=function(e,t){var s=new FormData;s.append("file",e,e.name);var n=Ee.API_URL+"media/upload?upload_type=questionnaires";Q.a.post(n,s).then(function(e){var s={};if(t.startsWith("edit_image_")){var n=a.state.edit_choices,i=t.split("_")[2];e.data.data.file_name;n.map(function(t,s){i!=s?(n[s].image=a.state["edit_image_"+s],n[s].image_label=a.state["edit_image_label_"+s]?a.state["edit_image_label_"+s]:""):(n[s].image=e.data.data.file_name,n[s].image_label=a.state["edit_image_label_"+s]?a.state["edit_image_label_"+s]:"")}),s.edit_choices=n}else{var r=a.state.multiImageArr,o=t.split("_")[1];r.map(function(t,s){o!=s?(r[s].image=a.state["image_"+s],r[s].image_label=a.state["image_label_"+s]?a.state["image_label_"+s]:""):(r[s].image=e.data.data.file_name,r[s].image_label=a.state["image_label_"+s]?a.state["image_label_"+s]:"")}),s.multiImageArr=r}s[t]=e.data.data.file_name,s.showLoader=!1,a.setState(s)}).catch(function(e){var t=JSON.parse(localStorage.getItem("languageData"));rt.toast.error(t.global.file_type_error)})},a.reorder=function(e,t,a){var s=Array.from(e),n=s.splice(t,1),i=Object(ye.a)(n,1)[0];return s.splice(a,0,i),s},a.getListStyle=function(e){return{background:e?"lightblue":"lightgrey"}},a.getItemStyle=function(e,t){return Object(m.a)({userSelect:"none",background:e?"#f7fbfd":"ffffff"},t)},a.reOrderList=function(e){var t={object_ids:e};a.setState({showLoader:!0}),a.props.updateSortOrder(t,"Question")},a.handleSubmit=function(e,t){var s=!1;if(a.setState({consultation_title_Error:!1,question_Error:!1,question_type_Error:!1}),a.state.consultation_title&&""!=a.state.consultation_title.trim()||(a.setState({consultation_title_Error:!0}),s=!0),!0!==s){var n={};n.consultation_title=a.state.consultation_title,(a.state.itemArray.length||""==a.state.consultation_title.trim())&&(n.question_data=a.state.itemArray),a.state.qId?a.props.updateQuestionnaire(n,a.state.qId):a.props.createQuestionnaire(n)}},a.updateQuestion=function(){var e={},t={};if(""==a.state.edit_question||void 0==a.state.edit_question)return a.setState({editQuestionError:!0}),!1;if(e.question=a.state.edit_question,e.question_type=a.state.edit_question_type,"yesno"==a.state.edit_question_type)e.multiple_selection=0,e.display_labels=0;else if("multitext"==a.state.edit_question_type){var s=[],n=!1;if(a.state.edit_choices.map(function(e,a){""==e.text.trim()?(t["multiEditTextError_"+a]=!0,n=!0):(t["multiEditTextError_"+a]=!1,s.push({text:e.text}))}),n)return a.setState(t),!1;e.multi_text_data=s,e.multiple_selection=1,e.display_labels=0}else{var i=!1;if(a.state.edit_choices.map(function(e,a){""==e.image.trim()||""==e.image_label.trim()?(t["multiEditImageError_"+a]=!0,i=!0):t["multiEditImageError_"+a]=!1}),i)return a.setState(t),!1;e.multi_image_data=a.state.edit_choices,e.multiple_selection=a.state.edit_multiple_selection,e.display_labels=a.state.edit_display_labels}t.showLoader=!0,a.setState(t),a.props.updateQuestion(e,a.state.qId,a.state.edit_question_id)},a.handleSelect=function(e){"yesno"===a.state.question_type?a.setState({isDisabled:!1,div_display_text:"row add-questions-multi-text no-margin no-display ",div_display_image:"row  add-questions-multi-text no-margin no-display "}):"multitext"===a.state.question_type?a.setState({isDisabled:!1,div_display_text:"row add-questions-multi-text no-margin display ",div_display_image:"row  add-questions-multi-text no-margin no-display "}):"multiimage"===a.state.question_type&&a.setState({isDisabled:!1,div_display_image:"row  add-questions-multi-text no-margin display",div_display_text:"row add-questions-multi-text no-margin no-display "})},a.state=Object(se.a)({pictures:[],consultation_title:"",userChanged:!1,questionnaireData:{},question:"",question_type:"yesno",div_display_text:"row add-questions-multi-text no-margin no-display ",div_display_image:"row add-questions-multi-text no-margin no-display",div_edit_display_text:"row edit-questions-multi-text no-margin",div_edit_display_image:"row edit-questions-multi-images no-margin",itemArray:[],questionId:"",yes_no:"yesno",multi_text:"multitext",multi_images:"multiimage",multiTextArr:[{text:""}],multiImageArr:[{image:"",image_label:""}],text:"",question_data:[],multiple_selection:1,display_labels:1,file:"",image_label:"",isDisabled:!0,isEditDisabled:!0,questionnaires:"",edit_question_type:"",edit_multiple_selection:"1",edit_question:"",showLoader:!1,multiple_selection_image:"1"},"display_labels",1),window.onscroll=function(){return!1},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e;window.onscroll=function(){return!1};var t=this.props.match.params.id,a=JSON.parse(localStorage.getItem("languageData"));this.setState((e={add_questionnaire:a.settings.add_questionnaire,view_questionnaire:a.settings.view_questionnaire,create_questionnaire:a.settings.create_questionnaire,add_new_question:a.settings.add_new_question,questionnaire_name:a.settings.questionnaire_name,question_data:a.settings.question_data,question_type_data:a.settings.question_type_data,question_choices:a.settings.question_choices,select_yes:a.settings.select_yes,select_yes_images:a.settings.select_yes_images,question_choices_image:a.settings.question_choices_image,settings_question:a.settings.settings_question,question_choice_lable:a.settings.question_choice_lable,no_option:a.settings.no_option,yes_option:a.settings.yes_option,showLoader:!!t,qId:t||void 0},Object(se.a)(e,"yes_option",a.settings.yes_option),Object(se.a)(e,"no_option",a.settings.no_option),Object(se.a)(e,"delete_warning",""),Object(se.a)(e,"delete_confirmation",a.global.delete_confirmation),Object(se.a)(e,"questionnaire_Label",a.settings.questionnaire_Label),Object(se.a)(e,"Questionnaire_Choose_File",a.settings.Questionnaire_Choose_File),Object(se.a)(e,"questionnaire_Add",a.settings.questionnaire_Add),Object(se.a)(e,"editUsers_Drop_Files_To_Upload",a.settings.editUsers_Drop_Files_To_Upload),Object(se.a)(e,"yes_option",a.settings.yes_option),Object(se.a)(e,"no_option",a.settings.no_option),Object(se.a)(e,"questionnaire_No_file",a.settings.questionnaire_No_file),Object(se.a)(e,"question_choices",a.settings.question_choices),Object(se.a)(e,"questionnaire_Add",a.settings.questionnaire_Add),Object(se.a)(e,"select_yes",a.settings.select_yes),Object(se.a)(e,"select_yes_images",a.settings.select_yes_images),Object(se.a)(e,"questionnaire_Edit_Question",a.settings.questionnaire_Edit_Question),Object(se.a)(e,"question_type_data",a.settings.question_type_data),Object(se.a)(e,"questionnaire_Multiple_Selection_Text",a.settings.questionnaire_Multiple_Selection_Text),Object(se.a)(e,"questionnaire_Multiple_Selection_Images",a.settings.questionnaire_Multiple_Selection_Images),Object(se.a)(e,"editUsers_CancelBtn",a.settings.editUsers_CancelBtn),Object(se.a)(e,"questionnaire_Question",a.settings.questionnaire_Question),Object(se.a)(e,"questionnaire_Update",a.settings.questionnaire_Update),Object(se.a)(e,"questionnaire_A",a.settings.questionnaire_A),Object(se.a)(e,"questionnaire_Questions",a.settings.questionnaire_Questions),Object(se.a)(e,"clinic_Please_Wait",a.settings.clinic_Please_Wait),Object(se.a)(e,"edit_Questionnaire",a.settings.edit_Questionnaire),Object(se.a)(e,"settings_view_questionnaire",a.settings.settings_view_questionnaire),e)),t&&this.props.getQuestionnaireById(t)}},{key:"render",value:function(){var e=this,t=function(t){if(t.destination){var a=e.reorder(l,t.source.index,t.destination.index);l=a,a.map(function(e,t){return e.id})}},a="",s="",n="";if(void 0!==this.state.questionData){var r=this.state.questionData,o=r.question_type;r.question_choices,r.question;this.state.edit_choices&&"multitext"==o?(n=this.state.edit_choices.map(function(t,a){return{content:i.a.createElement("div",{className:!0===e.state["multiEditTextError_"+a]?"choice-question-row field_error":"choice-question-row","data-order_by":"0",id:"add_multiTextRow_0"},i.a.createElement("a",{className:"drag-dots"}),i.a.createElement("span",{className:"choice-question-alpha"},String.fromCharCode(65+a)),i.a.createElement("input",{type:"text",className:"setting-input-box add-questions",name:"edit_text_"+a,value:e.state["edit_text_"+a],autoComplete:"off",onChange:e.handleInputChange}),i.a.createElement("a",{href:"javascript:void(0)",className:"choice-question-cross"},i.a.createElement("img",{"data-optionid":a,onClick:e.deleteEditTextOption.bind(e),src:"/images/close.png"}))),id:a+1}}),s=i.a.createElement("div",{className:this.state.div_edit_display_text},i.a.createElement("div",{className:"col-lg-6 col-xs-12"},i.a.createElement("div",{className:"settings-subtitle"},this.state.question_choices,i.a.createElement("a",{href:"javascript:void(0)",onClick:this.editMultiTextOption,className:"add-btn pull-right"},i.a.createElement("span",null,"+"),this.state.questionnaire_Add)),i.a.createElement(Vl.a,{onDragEnd:t},i.a.createElement(Vl.c,{droppableId:"droppable1",type:"editChoiceText"},function(t,a){return i.a.createElement("div",{ref:t.innerRef,style:e.getListStyle(a.isDraggingOver)},n.map(function(t,a){return i.a.createElement(Vl.b,{key:t.id,draggableId:t.id,index:a,type:"editChoiceText"},function(a,s){return i.a.createElement("div",Object.assign({ref:a.innerRef},a.draggableProps,a.dragHandleProps,{style:e.getItemStyle(s.isDragging,a.draggableProps.style)}),t.content)})}),t.placeholder)}))),i.a.createElement("div",{className:"col-lg-6 col-xs-12"},i.a.createElement("div",{className:"row ques-radio-right"},i.a.createElement("div",{className:"col-lg-7 col-md-12"},this.state.select_yes),i.a.createElement("div",{className:"col-lg-5 col-md-12"},i.a.createElement("div",{className:"basic-checkbox-outer"},i.a.createElement("input",{id:"is_multiple_select_text_y",className:"basic-form-checkbox",name:"edit_multiple_selection",type:"radio",value:"1",checked:"1"==this.state.edit_multiple_selection&&"checked",onChange:this.handleInputChange}),i.a.createElement("label",{className:"basic-form-text",htmlFor:"is_multiple_select_text_y"},this.state.yes_option)),i.a.createElement("div",{className:"basic-checkbox-outer"},i.a.createElement("input",{id:"is_multiple_select_text_n",className:"basic-form-checkbox",name:"edit_multiple_selection",type:"radio",value:"0",checked:"0"==this.state.edit_multiple_selection&&"checked",onChange:this.handleInputChange}),i.a.createElement("label",{className:"basic-form-text",htmlFor:"is_multiple_select_text_n"},this.state.no_option))))))):this.state.edit_choices&&"multiimage"==o&&(n=this.state.edit_choices.map(function(t,a){return{content:i.a.createElement("div",{className:"choice-question-outer ui-sortable",id:"add_sortable_multi-images",key:"edit_image_"+a},i.a.createElement("div",{className:"choice-question-row no-border no-margin"},i.a.createElement("div",{className:"qus-chice-label col-xs-6 no-padding quest-img-title"},e.state.settings_question),i.a.createElement("div",{className:"qus-chice-label col-xs-6 no-padding quest-label-title"},e.state.questionnaire_Label)),i.a.createElement("div",{className:!0===e.state["multiEditImageError_"+a]?"choice-question-row field_error":"choice-question-row"},i.a.createElement("a",{className:"drag-dots"}),i.a.createElement("span",{className:"choice-question-alpha"},String.fromCharCode(65+a)),i.a.createElement("div",{className:"col-xs-6 no-padding dropzone-filename"},i.a.createElement("div",{className:"new-white-btn choose-file dz-clickable"},e.state.Questionnaire_Choose_File,i.a.createElement("div",{className:"dz-default dz-message"},i.a.createElement("span",null,e.state.editUsers_Drop_Files_To_Upload))),i.a.createElement("span",{className:"span_dropzone_0"},e.state["edit_image_"+a]),i.a.createElement("input",{type:"file",name:"edit_image_"+a,onChange:e.handleInputChange,autoComplete:"off",className:"image_questionnaire"})),i.a.createElement("input",{type:"text",name:"edit_image_label_"+a,placeholder:"label",autoComplete:"off",onChange:e.handleInputChange,className:"col-xs-6 no-padding no-bg img-label",value:e.state["edit_image_label_"+a]}),i.a.createElement("a",{href:"javascript:void(0)",className:"choice-question-cross"},i.a.createElement("img",{onClick:e.deleteEditImageOption.bind(e),src:"/images/close.png","data-optionid":a})))),id:a+1}}),s=i.a.createElement("div",{className:this.state.div_edit_display_image},i.a.createElement("div",{className:"col-lg-6 col-xs-12"},i.a.createElement("div",{className:"settings-subtitle"},this.state.question_choices,i.a.createElement("a",{href:"javascript:void(0)",onClick:this.editMultiImageOption,className:"add-btn pull-right"},i.a.createElement("span",null,"+"),this.state.questionnaire_Add)),i.a.createElement(Vl.a,{onDragEnd:t},i.a.createElement(Vl.c,{droppableId:"droppable21"},function(t,a){return i.a.createElement("div",{ref:t.innerRef,style:e.getListStyle(a.isDraggingOver)},n.map(function(t,a){return i.a.createElement(Vl.b,{key:t.id,draggableId:"editChoiceText-"+t.id,index:a},function(a,s){return i.a.createElement("div",Object.assign({ref:a.innerRef},a.draggableProps,a.dragHandleProps,{style:e.getItemStyle(s.isDragging,a.draggableProps.style)}),t.content)})}),t.placeholder)}))),i.a.createElement("div",{className:"col-lg-6 col-xs-12"},i.a.createElement("div",{className:"row ques-radio-right"},i.a.createElement("div",{className:"col-lg-7 col-xs-12"},this.state.select_yes),i.a.createElement("div",{className:"col-lg-5 col-xs-12"},i.a.createElement("div",{className:"basic-checkbox-outer"},i.a.createElement("input",{id:"is_multiple_select_image_y",className:"basic-form-checkbox",name:"edit_multiple_selection",value:"1",type:"radio",checked:"1"==this.state.edit_multiple_selection&&"checked",onChange:this.handleInputChange}),i.a.createElement("label",{className:"basic-form-text",htmlFor:"is_multiple_select_image_y"},this.state.yes_option)),i.a.createElement("div",{className:"basic-checkbox-outer"},i.a.createElement("input",{id:"is_multiple_select_image_n",className:"basic-form-checkbox",name:"edit_multiple_selection",value:"0",type:"radio",checked:"0"==this.state.edit_multiple_selection&&"checked",onChange:this.handleInputChange}),i.a.createElement("label",{className:"basic-form-text",htmlFor:"is_multiple_select_image_n"},this.state.no_option)))),i.a.createElement("div",{className:"row ques-radio-right"},i.a.createElement("div",{className:"col-lg-7 col-xs-12"},this.state.select_yes_images),i.a.createElement("div",{className:"col-lg-5 col-xs-12"},i.a.createElement("div",{className:"basic-checkbox-outer"},i.a.createElement("input",{id:"is_multiple_select_labels_y",className:"basic-form-checkbox",name:"edit_display_labels",value:"1",type:"radio",checked:"1"==this.state.edit_display_labels&&"checked",onChange:this.handleInputChange}),i.a.createElement("label",{className:"basic-form-text",htmlFor:"is_multiple_select_labels_y"},this.state.yes_option)),i.a.createElement("div",{className:"basic-checkbox-outer"},i.a.createElement("input",{id:"is_multiple_select_labels_n",className:"basic-form-checkbox",name:"edit_display_labels",value:"0",type:"radio",checked:"0"==this.state.edit_display_labels&&"checked",onChange:this.handleInputChange}),i.a.createElement("label",{className:"basic-form-text",htmlFor:"is_multiple_select_labels_n"},this.state.no_option))))))),a=i.a.createElement("div",{className:"setting-container bg-light-blue addHere"},i.a.createElement("div",{className:"setting-title m-b-40"},this.state.questionnaire_Edit_Question),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer no-ques-margin"},i.a.createElement("div",{className:"new-field-label"},this.state.questionnaire_Question,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{type:"text",className:"setting-input-box add-questions",id:"add_question",name:"edit_question",autoComplete:"off",value:this.state.edit_question,onChange:this.handleInputChange})))),i.a.createElement("div",{className:"col-lg-3 col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.question_type_data,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("select",{name:"edit_question_type",className:"question_type setting-select-box",value:this.state.edit_question_type,onChange:this.handleInputChange},i.a.createElement("option",{value:"yesno"},this.state.yes_option,"/",this.state.no_option),i.a.createElement("option",{value:"multitext"},this.state.questionnaire_Multiple_Selection_Text),i.a.createElement("option",{value:"multiimage"},this.state.questionnaire_Multiple_Selection_Images)))))),s,i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("a",{className:"new-white-btn cancelAddAction",onClick:this.deleteEditRow.bind(this)},this.state.editUsers_CancelBtn),i.a.createElement("a",{id:"save_newQuestion",onClick:this.updateQuestion,className:"new-blue-btn"},this.state.questionnaire_Update)))}var l=[];this.state.itemArray.length&&(l=this.state.itemArray.map(function(t,s){var n=t.question_type,r="";return"yesno"==n?r="Yes/No":"multitext"==n?r="Text":"multiimage"==n&&(r="Image"),{content:i.a.createElement(i.a.Fragment,{key:"fragment_"+s},i.a.createElement("tr",{className:"table-updated-tr"},i.a.createElement("td",{className:"col-xs-8 table-updated-td Questionnaire-name"},i.a.createElement("a",{className:"drag-dots"}),t.question),i.a.createElement("td",{className:"col-xs-2 table-updated-td Questionnaire-name"},r),i.a.createElement("td",{className:"col-xs-2 table-updated-td text-center "},i.a.createElement("a",{className:t.id?"easy-link col-xs-6 edit_question":"easy-link col-xs-6 edit_question no-display","data-id":t.id,onClick:e.editItem.bind(e)},"Edit"),i.a.createElement("a",{className:t.id?"easy-link col-xs-6 delete_question  no-display":"easy-link col-xs-6 delete_question","data-id":s,onClick:e.deleteItem.bind(e)},"Delete"),i.a.createElement("a",{className:t.id?"easy-link col-xs-6 delete_question":"easy-link col-xs-6 delete_question no-display","data-id":t.id,onClick:e.showDeleteModal.bind(e)},"Delete"))),t.id==e.state.edit_question_id&&i.a.createElement("tr",{className:"table-updated-tr editQuestion_tr"},i.a.createElement("td",{colSpan:"3"},a))),id:t.id?t.id:s}}));var c=[];return this.state.multiTextArr.length&&(c=this.state.multiTextArr.map(function(t,a){return{content:i.a.createElement("div",{className:!0===e.state["multiTextError_"+a]?"choice-question-row field_error":"choice-question-row",key:"text_"+a},i.a.createElement("a",{className:"drag-dots"}),i.a.createElement("span",{className:"choice-question-alpha"},String.fromCharCode(65+a)),i.a.createElement("input",{type:"text",className:"setting-input-box add-questions","data-row-num":"0",onChange:e.handleInputChange,name:"text_"+a,autoComplete:"off",value:e.state["text_"+a]?e.state["text_"+a]:""}),i.a.createElement("a",{href:"javascript:void(0)",className:"choice-question-cross"},i.a.createElement("img",{src:"/images/close.png","data-optionid":a,onClick:e.deleteTextOption.bind(e)}))),id:"addTextChoice-"+a}})),i.a.createElement("div",{className:"main protected"},i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(ps,null),i.a.createElement("div",{className:"setting-setion m-b-60"},i.a.createElement("div",{className:"setting-container bg-white-scetion"},i.a.createElement("div",{className:"setting-title m-b-40"},this.state.qId?this.state.settings_view_questionnaire:this.state.add_questionnaire,i.a.createElement(me.a,{to:"/settings/questionnaires",className:"pull-right cancelAction"},i.a.createElement("img",{src:"/images/close.png"}))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-lg-6"},i.a.createElement("div",{className:"setting-field-outer no-ques-margin questionId:this.state.idn"},i.a.createElement("div",{className:"new-field-label"},this.state.questionnaire_name,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:"consultation_title",onChange:this.handleInputChange,className:!0===this.state.consultation_title_Error?"setting-input-box field_error":"setting-input-box",id:"consultation_title",value:this.state.consultation_title,type:"text",autoComplete:"off"})," "))))),i.a.createElement("div",{className:"setting-container bg-light-blue addHere"},i.a.createElement("div",{className:"setting-title m-b-40"},this.state.add_new_question),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-6"},i.a.createElement("div",{className:"setting-field-outer no-ques-margin"},i.a.createElement("div",{className:"new-field-label"},this.state.question_data,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{type:"text",className:!0===this.state.question_Error?"setting-input-box add-questions field_error":"setting-input-box add-questions",onChange:this.handleInputChange,value:this.state.question,id:"add_question",name:"question",autoComplete:"off"})))),i.a.createElement("div",{className:"col-lg-3 col-sm-6"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.question_type_data,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("select",{name:"question_type",className:"question_type setting-select-box",value:this.state.question_type,onChange:this.handleInputChange},i.a.createElement("option",{value:"yesno"},this.state.yes_option,"/",this.state.no_option),i.a.createElement("option",{value:"multitext"},this.state.questionnaire_Multiple_Selection_Text),i.a.createElement("option",{value:"multiimage"},this.state.questionnaire_Multiple_Selection_Images))))),i.a.createElement("div",{className:this.state.div_display_text},i.a.createElement("div",{className:"col-lg-6 col-xs-12"},i.a.createElement("div",{className:"settings-subtitle"},this.state.question_choices,i.a.createElement("a",{onClick:this.addMultiTextOption,href:"javascript:void(0)",className:"add-btn pull-right"},i.a.createElement("span",null,"+")," ",this.state.questionnaire_Add)),i.a.createElement("div",{className:"choice-question-outer ui-sortable",id:"add_sortable_multi-text"},i.a.createElement(Vl.a,{onDragEnd:t},i.a.createElement(Vl.c,{droppableId:"droppable2"},function(t,a){return i.a.createElement("div",{ref:t.innerRef,style:e.getListStyle(a.isDraggingOver)},c.map(function(t,a){return i.a.createElement(Vl.b,{key:t.id,draggableId:"test-"+t.id,index:a},function(a,s){return i.a.createElement("div",Object.assign({ref:a.innerRef},a.draggableProps,a.dragHandleProps,{style:e.getItemStyle(s.isDragging,a.draggableProps.style)}),t.content)})}),t.placeholder)})))),i.a.createElement("div",{className:"col-lg-6 col-xs-12"},i.a.createElement("div",{className:"row ques-radio-right"},i.a.createElement("div",{className:"col-lg-7 col-md-12"},this.state.select_yes),i.a.createElement("div",{className:"col-lg-5 col-md-12"},i.a.createElement("div",{className:"basic-checkbox-outer"},i.a.createElement("input",{id:"is_multiple_select_text_y",className:"basic-form-checkbox",name:"multiple_selection",onChange:this.handleInputChange,type:"radio",value:1,checked:"1"==this.state.multiple_selection&&"checked"}),i.a.createElement("label",{className:"basic-form-text",htmlFor:"is_multiple_select_text_y"},this.state.yes_option)),i.a.createElement("div",{className:"basic-checkbox-outer"},i.a.createElement("input",{id:"is_multiple_select_text_n",className:"basic-form-checkbox",name:"multiple_selection",type:"radio",onChange:this.handleInputChange,value:0,checked:"0"==this.state.multiple_selection&&"checked"}),i.a.createElement("label",{className:"basic-formultitextm-text",htmlFor:"is_multiple_select_text_n"},this.state.no_option)))))),i.a.createElement("div",{className:this.state.div_display_image},i.a.createElement("div",{className:"col-lg-6 col-xs-12"},i.a.createElement("div",{className:"settings-subtitle"},this.state.question_choices,i.a.createElement("a",{href:"javascript:void(0)",onClick:this.addMultiImageOption,className:"add-btn pull-right"},i.a.createElement("span",{onClick:this.createDiv},"+")," ",this.state.questionnaire_Add)),i.a.createElement("div",{className:"choice-question-outer ui-sortable",id:"add_sortable_multi-images"},i.a.createElement("div",{className:"choice-question-row no-border no-margin"},i.a.createElement("div",{className:"qus-chice-label col-xs-6 no-padding quest-img-title"},this.state.question_choices_image),i.a.createElement("div",{className:"qus-chice-label col-xs-6 no-padding quest-label-title"},this.state.question_choice_lable)),this.state.multiImageArr.map(function(t,a){var s,n=e.state["image_"+a];return n||(n=e.state.questionnaire_No_file),i.a.createElement("div",(s={key:"image_"+a,className:!0===e.state["multiImageError_"+a]?"choice-question-row field_error":"choice-question-row"},Object(se.a)(s,"key","image_"+a),Object(se.a)(s,"data-order_by","0"),Object(se.a)(s,"id","add_multiImageRow_0"),s),i.a.createElement("a",{className:"drag-dots"}),i.a.createElement("span",{className:"choice-question-alpha"},String.fromCharCode(65+a)),i.a.createElement("div",{className:"col-xs-6 no-padding dropzone-filename"},i.a.createElement("div",{className:"new-white-btn choose-file"},"Choose file",i.a.createElement("div",{className:"dz-default dz-message"},i.a.createElement("span",null,"Drop files here to upload"))),i.a.createElement("span",{className:"span_dropzone_0"},n),i.a.createElement("input",{type:"file",name:"image_"+a,disabled:e.state.isDisabled,onChange:e.handleInputChange,className:"image_questionnaire"}),i.a.createElement("div",{className:"dz-default dz-message"},i.a.createElement("span",null,e.state.editUsers_Drop_Files_To_Upload))),i.a.createElement("input",{disabled:e.state.isDisabled,type:"hidden",id:"dropzone_0","data-row-num":"0",className:"add-questions"}),i.a.createElement("input",{disabled:e.state.isDisabled,type:"text",name:"image_label_"+a,onChange:e.handleInputChange,value:e.state["image_label_"+a],id:"img_label_0",placeholder:"label",className:"col-xs-6 no-padding no-bg img-label"}),i.a.createElement("a",{href:"javascript:void(0)","data-optionid":a,onClick:e.deleteImageOption.bind(e),className:"choice-question-cross"},i.a.createElement("img",{src:"/images/close.png"})))}))),i.a.createElement("div",{className:"col-lg-6 col-xs-12"},i.a.createElement("div",{className:"row ques-radio-right"},i.a.createElement("div",{className:"col-lg-7 col-md-12"},this.state.select_yes),i.a.createElement("div",{className:"col-lg-5 col-md-12"},i.a.createElement("div",{className:"basic-checkbox-outer"},i.a.createElement("input",{disabled:this.state.isDisabled,id:"is_multiple_select_image_y",className:"basic-form-checkbox",name:"multiple_selection_image",onChange:this.handleInputChange,value:"1",type:"radio",checked:"1"==this.state.multiple_selection_image&&"checked"}),i.a.createElement("label",{className:"basic-form-text",htmlFor:"is_multiple_select_image_y"},this.state.yes_option)),i.a.createElement("div",{className:"basic-checkbox-outer"},i.a.createElement("input",{disabled:this.state.isDisabled,id:"is_multiple_select_image_n",className:"basic-form-checkbox",name:"multiple_selection_image",onChange:this.handleInputChange,value:"0",type:"radio",checked:"0"==this.state.multiple_selection_image&&"checked"}),i.a.createElement("label",{className:"basic-form-text",htmlFor:"is_multiple_select_image_n"},this.state.no_option)))),i.a.createElement("div",{className:"row ques-radio-right"},i.a.createElement("div",{className:"col-lg-7 col-md-12"},this.state.select_yes_images),i.a.createElement("div",{className:"col-lg-5 col-md-12"},i.a.createElement("div",{className:"basic-checkbox-outer"},i.a.createElement("input",{id:"is_multiple_select_labels_y",className:"basic-form-checkbox",name:"display_labels",onChange:this.handleInputChange,value:1,type:"radio",checked:"1"==this.state.display_labels&&"checked"}),i.a.createElement("label",{className:"basic-form-text",htmlFor:"is_multiple_select_labels_y"},this.state.yes_option)),i.a.createElement("div",{className:"basic-checkbox-outer"},i.a.createElement("input",{id:"is_multiple_select_labels_n",className:"basic-form-checkbox",name:"display_labels",onChange:this.handleInputChange,value:0,type:"radio",checked:"0"==this.state.display_labels&&"checked"}),i.a.createElement("label",{className:"basic-form-text",htmlFor:"is_multiple_select_labels_n"},this.state.no_option)))))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("a",{className:"new-white-btn cancelAddAction",onClick:this.cancelQuestion},this.state.editUsers_CancelBtn),i.a.createElement("button",{id:"save_newQuestion",onClick:this.createProject,className:"new-blue-btn"},this.state.questionnaire_Add)))),l.length>0&&i.a.createElement("div",{className:"table-responsive"},i.a.createElement(Vl.a,{onDragEnd:function(t){var a;if(t.destination){var s=e.reorder(l,t.source.index,t.destination.index);l=s,a=s.map(function(e,t){return e.id}),e.reOrderList(a)}}},i.a.createElement(Vl.c,{droppableId:"droppable3"},function(t,a){return i.a.createElement("table",{className:"table-updated no-hover setting-table table-min-width",ref:t.innerRef},i.a.createElement("thead",{className:"table-updated-thead"},i.a.createElement("tr",null,i.a.createElement("th",{className:"col-xs-8 table-updated-th sorting"},e.state.questionnaire_Questions),i.a.createElement("th",{className:"col-xs-2 table-updated-th sorting text-center"},"Type"),i.a.createElement("th",{className:"col-xs-2 table-updated-th sorting text-center"},"\xa0"))),l.map(function(t,a){return i.a.createElement(Vl.b,{key:t.id,draggableId:"newAns-"+t.id,index:a},function(a,s){return i.a.createElement("tbody",Object.assign({id:"questionList",className:"ui-sortable",ref:a.innerRef},a.draggableProps,a.dragHandleProps,{style:e.getItemStyle(s.isDragging,a.draggableProps.style)}),t.content)})}),t.placeholder)}))),i.a.createElement("div",{className:"footer-static no-border"},i.a.createElement("a",{className:void 0!=this.state.qId?"new-red-btn pull-left confirm-model":"no-display",onClick:this.showQuestionnaireDeleteModal},"Delete"),i.a.createElement("button",{id:"saveConsultation",onClick:this.handleSubmit,className:"new-blue-btn pull-right"},"Save"),i.a.createElement(me.a,{to:"/settings/questionnaires",className:"new-white-btn pull-right cancelAction"},"Cancel")),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.clinic_Please_Wait))),i.a.createElement("div",{className:this.state.showModal?"overlay":""}),i.a.createElement("div",{id:"filterModal",role:"dialog",className:this.state.showModal?"modal fade in displayBlock":"modal fade"},i.a.createElement("div",{className:"modal-dialog"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal",onClick:this.dismissModal},"\xd7"),i.a.createElement("h4",{className:"modal-title",id:"model_title"},this.state.delete_confirmation,this.state.showModal)),i.a.createElement("div",{id:"errorwindow",className:"modal-body add-patient-form filter-patient"},this.state.delete_warning),i.a.createElement("div",{className:"modal-footer"},i.a.createElement("div",{className:"col-md-12 text-left",id:"footer-btn"},i.a.createElement("button",{type:"button",className:"btn  logout pull-right","data-dismiss":"modal",onClick:this.dismissModal},this.state.no_option),i.a.createElement("button",{type:"button",className:"btn btn-success pull-right m-r-10","data-dismiss":"modal",onClick:this.deleteQuestion},this.state.yes_option))))))))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(void 0!=e.showLoader&&0==e.showLoader)return{showLoader:!1};if(void 0!==e.questionnaireData&&(200===e.questionnaireData.status||201===e.questionnaireData.status)&&e.questionnaireData.data!=t.questionnaireData){var a=[],s=e.questionnaireData.data.questions;return s.length&&s.map(function(e,t){a.push({question:e.question,question_type:e.question_type,id:e.id})}),{deleteId:t.userChanged?t.deleteId:null,edit_question_id:null,questionData:void 0,edit_choices:[],editQuestionId:null,showLoader:!1,itemArray:a,consultation_title:t.userChanged?t.consultation_title:e.questionnaireData.data.consultation_title,questionnaireData:t.userChanged?t.questionnaireData:e.questionnaireData.data,id:t.userChanged?t.userChanged:e.questionnaireData.data.id,questionnaires:t.userChanged?t.userChanged:e.questionnaireData.data.questionnaires,multiTextArr:t.userChanged?t.multiTextArr:[{text:""}],question:t.userChanged?t.question:"",question_type:t.userChanged?t.question_type:"yesno",div_display_image:t.userChanged?t.div_display_image:"row  add-questions-multi-text no-margin no-display",div_display_text:t.userChanged?t.div_display_text:"row add-questions-multi-text no-margin no-display",question_Error:!!t.userChanged&&t.question_Error,multiple_selection:t.userChanged?t.multiple_selection:1}}if(void 0!==e.questionData&&200===e.questionData.status&&e.questionData.data!=t.questionData){var n=[],i={};return"multitext"==e.questionData.data.question_type?e.questionData.data.question_choices&&e.questionData.data.question_choices.map(function(e,t){n.push({text:e.text,id:e.id}),i["edit_text_"+t]=e.text}):"multiimage"==e.questionData.data.question_type&&(e.questionData.data.question_choices.map(function(e,t){n.push({image:e.image,id:e.id,image_label:e.image_label}),i["edit_image_"+t]=e.image,i["edit_image_label_"+t]=e.image_label}),e.questionData.data.question_choices.length&&(i.edit_multiple_selection=e.questionData.data.question_choices[0].multiple_selection,i.edit_display_labels=e.questionData.data.question_choices[0].display_labels)),i.showLoader=!1,i.edit_choices=n,i.questionData=e.questionData.data,i.edit_question=e.questionData.data.question,i.edit_question_type=e.questionData.data.question_type,i.edit_question_id=e.questionData.data.id,i}if(void 0==e.redirect||1!=e.redirect)return void 0!=e.showLoader&&0==e.showLoader?{showLoader:e.showLoader}:null;rt.toast.success(e.message,{onClose:function(){e.history.push("/settings/questionnaires")}})}}]),t}(n.Component);var Tg=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData")),a={};if("CREATE_QUESTIONNAIRES"===e.SettingReducer.action?200!=e.SettingReducer.data.status?(rt.toast.error(t.global[e.SettingReducer.data.message]),a.showLoader=!1):(a.message=t.global[e.SettingReducer.data.message],a.redirect=!0):"UPDATE_QUESTIONNAIRES"===e.SettingReducer.action?200!=e.SettingReducer.data.status?(rt.toast.error(t.global[e.SettingReducer.data.message]),a.showLoader=!0):(a.message=t.global[e.SettingReducer.data.message],a.redirect=!0):"CREATE_QUESTION"===e.SettingReducer.action?201!=e.SettingReducer.data.status?(rt.toast.error(t.global[e.SettingReducer.data.message]),a.showLoader=!0):(rt.toast.success(t.global[e.SettingReducer.data.message]),a.questionnaireData=e.SettingReducer.data):"UPDATE_QUESTION"===e.SettingReducer.action?200!=e.SettingReducer.data.status?(rt.toast.error(t.global[e.SettingReducer.data.message]),a.showLoader=!0):a.questionnaireData=e.SettingReducer.data:"GET_QUESTIONNAIRE"===e.SettingReducer.action?200!=e.SettingReducer.data.status?(a.redirect=!0,a.message=t.global[e.SettingReducer.data.message],a.showLoader=!0):a.questionnaireData=e.SettingReducer.data:"GET_QUESTION"===e.SettingReducer.action?200!=e.SettingReducer.data.status?(rt.toast.error(t.global[e.SettingReducer.data.message]),a.showLoader=!0):a.questionData=e.SettingReducer.data:"QUESTION_DELETED"===e.SettingReducer.action?200!=e.SettingReducer.data.status?(rt.toast.error(t.global[e.SettingReducer.data.message]),a.showLoader=!0):(rt.toast.success(t.global[e.SettingReducer.data.message]),a.questionnaireData=e.SettingReducer.data):"QUESTIONNAIRE_DELETED"===e.SettingReducer.action&&(200!=e.SettingReducer.data.status?(rt.toast.error(t.global[e.SettingReducer.data.message]),a.showLoader=!0):(a.redirect=!0,a.message=t.global[e.SettingReducer.data.message])),"SORT_ORDER_UPDATE"===e.SettingReducer.action){if(200==e.SettingReducer.data.status)return rt.toast.success(t.global[e.SettingReducer.data.message]),{showLoader:!1};rt.toast.error(t.global[e.SettingReducer.data.message]),a.showLoader=!0}return a},function(e){return Object(c.bindActionCreators)({createQuestionnaire:sr,createQuestion:rr,uploadImage:hi,getQuestionnaireById:or,getQuestionById:lr,updateQuestion:ir,deleteQuestion:cr,deleteQuestionnaire:dr,updateQuestionnaire:nr,updateSortOrder:mi},e)})(Ag),Ig=Ee.API_URL,Rg=Q.a.create();Rg.defaults.headers.common["access-token"]=xe(),Xe(),Rg.interceptors.response.use(function(e){return void 0!=e.data&&void 0!=e.data.global_settings&&He(e.data.global_settings),Xe(),e},function(e){if(e.response){var t=e.response.data.message;return"invalid_token"!=t&&"session_timeout"!=t&&"server_error"!=t&&"token_not_found"!=t||Oe(),Promise.reject(e)}return{data:{data:"",message:"server_error",status:500}}});var kg=function(e){return function(t){Rg.get(Ig+"clinics",e||"").then(function(e){t({type:"CLINIC_LIST",payload:e.data})}).catch(function(e){t({type:"CLINIC_LIST",payload:e.response.data})})}},Pg=function(e,t){return function(a){Rg.get(Ig+"clinics/"+t+"?scopes=business_hours",e||"").then(function(e){a({type:"SELECTED_CLINIC_LIST",payload:e.data})}).catch(function(e){a({type:"SELECTED_CLINIC_LIST",payload:e.response.data})})}},jg=function(){return function(e){Rg.get(Ig+"get_clinic_default_data").then(function(t){e({type:"DEFAULT_CLINIC_DATA",payload:t.data})}).catch(function(t){e({type:"DEFAULT_CLINIC_DATA",payload:t.response.data})})}},Mg=function(e){return function(t){Rg.post(Ig+"clinics",e||"").then(function(e){t({type:"CREATE_CLINIC",payload:e.data})}).catch(function(e){t({type:"CREATE_CLINIC",payload:e.response.data})})}},Ug=function(e,t){return function(a){Rg.patch(Ig+"clinics/"+t,e||"").then(function(e){a({type:"UPDATE_SELECTED_CLINIC",payload:e.data})}).catch(function(e){a({type:"UPDATE_SELECTED_CLINIC",payload:e.response.data})})}},Fg=function(){return function(e){Rg.get(Ig+"timezone-list").then(function(t){e({type:"TIMEZONE_LIST",payload:t.data})}).catch(function(t){e({type:"TIMEZONE_LIST",payload:t.response.data})})}},Bg=function(){return function(e){Rg.get(Ig+"country-list").then(function(t){e({type:"COUNTRIES_LIST",payload:t.data})}).catch(function(t){e({type:"COUNTRIES_LIST",payload:t.response.data})})}};var qg=function(e){return function(t){Rg.delete(Ig+"clinics/"+e).then(function(e){t({type:"DELETE_CLINIC",payload:e.data})}).catch(function(e){t({type:"DELETE_CLINIC",payload:e.response.data})})}};function Yg(e){return function(e){e({type:"EMPTY_DATA",payload:{data:"",status:200,message:""}})}}var Hg=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,s="checkbox"===t.type?t.checked:t.value;a.setState(Object(se.a)({},e.target.name,s))},a.handleSubmit=function(e){var t;e.preventDefault(),localStorage.setItem("sortOnly",!0);var s={params:{page:1,pagesize:a.state.pagesize,sortorder:a.state.sortorder,term:a.state.term,scopes:a.state.scopes}};a.setState((t={page:1,pagesize:a.state.pagesize,sortorder:"asc"==a.state.sortorder?"asc":"desc",startFresh:!0,loadMore:!0},Object(se.a)(t,"startFresh",!0),Object(se.a)(t,"next_page_url",""),Object(se.a)(t,"clinicList",[]),t)),a.props.fetchClinics(s)},a.onSort=function(e){var t="asc"===a.state.sortorder?"desc":"asc",s={params:{page:1,pagesize:a.state.pagesize,sortby:e,sortorder:t,term:a.state.term}};a.setState({page:1,pagesize:a.state.pagesize,sortby:e,sortorder:t,loadMore:!0,startFresh:!0,showLoader:!0,next_page_url:"",clinicList:[]}),localStorage.setItem("sortOnly",!0),a.props.fetchClinics(s)},a.loadMore=function(){localStorage.setItem("sortOnly",!1),a.setState({loadMore:!0,startFresh:!0,showLoader:!0,showLoadingText:!0});var e={params:{page:a.state.page,pagesize:a.state.pagesize,sortorder:a.state.sortorder,term:a.state.term,scopes:a.state.scopes}};a.props.fetchClinics(e)},a.userEdit=function(e){return i.a.createElement("div",null,a.props.history.push("/settings/clinic/".concat(e,"/edit")))},a.tConv24=function(e){var t=e,a=+t.substr(0,2),s=a%12||12,n=a<12?" AM":" PM";return t=(s=s<10?"0"+s:s)+t.substr(2,3)+n},a.dayOfWeekAsInteger=function(e){var t=new Array(7);return t[2]="Mon",t[3]="Tue",t[4]="Wed",t[5]="Thu",t[6]="Fri",t[7]="Sat",t[1]="Sun",t[e]};var s=JSON.parse(localStorage.getItem("userData"));return a.state={clinic_name:"",contact_no:"",address:"",clinic_business_hours:[],id:s.user.id,tax:"",clinicList:[],showLoadingText:!1,page:1,pagesize:15,sortorder:"asc",term:"",hasMoreItems:!0,next_page_url:"",loadMore:!0,startFresh:!0,showLoader:!1,scopes:"business_hours"},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),window.onscroll=function(){var e=parseInt(Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop));window.innerHeight+e===document.documentElement.offsetHeight&&null!=a.state.next_page_url&&a.loadMore()},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e,t={params:{page:this.state.page,pagesize:this.state.pagesize,sortorder:"asc",term:this.state.term,scopes:this.state.scopes}},a=JSON.parse(localStorage.getItem("languageData"));this.setState((e={clinic_Create_ClinicBtn:a.settings.clinic_Create_ClinicBtn,clinics_Address:a.settings.clinics_Address,clinics_Business_Hours:a.settings.clinics_Business_Hours,clinics_Clinic_Name:a.settings.clinics_Clinic_Name,clinics_Contact_Number:a.settings.clinics_Contact_Number,clinics_Search:a.settings.clinics_Search},Object(se.a)(e,"clinics_Clinic_Name",a.settings.clinics_Clinic_Name),Object(se.a)(e,"clinics_Tax",a.settings.clinics_Tax),Object(se.a)(e,"clinic_No_Record_Found",a.settings.clinic_No_Record_Found),Object(se.a)(e,"clinic_Please_Wait",a.settings.clinic_Please_Wait),Object(se.a)(e,"loading_please_wait_text",a.global.loading_please_wait_text),e)),this.setState({showLoader:!0}),this.props.fetchClinics(t)}},{key:"shouldComponentUpdate",value:function(e,t){return!!this.state.startFresh||(!!this.state.loadMore||!!this.state.showLoader)}},{key:"componentDidUpdate",value:function(){var e=document.getElementById("content");e.scrollBottom=e.scrollHeight}},{key:"componentWillUnmount",value:function(){rt.toast.dismiss(),this.props.exportEmptyData({})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"main protected"},i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(ps,null),i.a.createElement("div",{className:"setting-setion"},i.a.createElement("div",{className:"setting-search-outer"},i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("div",{className:"search-bg col-xs-5"},i.a.createElement("i",{className:"fas fa-search"}),i.a.createElement("input",{className:"setting-search-input search-key","data-url":"/settings/clinics",name:"term",placeholder:this.state.clinics_Search,autoComplete:"off",value:this.state.term,onChange:this.handleInputChange}))),i.a.createElement(me.a,{to:"/settings/clinic/create",className:"new-blue-btn pull-right"},this.state.clinic_Create_ClinicBtn)),i.a.createElement("div",{className:"table-responsive"},i.a.createElement("table",{className:"table-updated setting-table table-min-width"},i.a.createElement("thead",{className:"table-updated-thead"},i.a.createElement("tr",null,i.a.createElement("th",{className:"col-xs-3 table-updated-th sorting sortData",onClick:function(){return e.onSort("clinic_name")},"data-url":"/settings/clinic/${id}/edit","data-sort":"clinic_name","data-order":"DESC"},this.state.clinics_Clinic_Name,i.a.createElement("i",{className:"gray-gray"})),i.a.createElement("th",{className:"col-xs-2 table-updated-th sorting"},this.state.clinics_Contact_Number," "),i.a.createElement("th",{className:"col-xs-3 table-updated-th sorting"},this.state.clinics_Address," "),i.a.createElement("th",{className:"col-xs-3 table-updated-th sorting"},this.state.clinics_Business_Hours," "),i.a.createElement("th",{className:"col-xs-1 table-updated-th sorting"},this.state.clinics_Tax," "))),i.a.createElement("tbody",{className:"ajax_body td-break-content"},void 0!==this.state.clinicList&&this.state.clinicList.map(function(t,a){return i.a.createElement("tr",{className:"table-updated-tr edit_setting profile",key:a,onClick:e.userEdit.bind(e,t.id),"data-title":"Edit Clinic"},i.a.createElement("td",{className:"col-xs-3 table-updated-td"},i.a.createElement("span",{className:"td-clinic-name"},t.clinic_name)),i.a.createElement("td",{className:"col-xs-2 table-updated-td"},t.contact_no),i.a.createElement("td",{className:"col-xs-3 table-updated-td"},t.address+","+t.city+","+t.country),i.a.createElement("td",{className:"col-xs-3 table-updated-td"},void 0!=t.clinic_business_hours&&t.clinic_business_hours.map(function(t,a){var s=e.tConv24("".concat(t.to_time)),n=e.tConv24("".concat(t.from_time)),r=e.dayOfWeekAsInteger("".concat(t.day));return i.a.createElement("div",{key:a},i.a.createElement("div",null,n," - ",s," ",r))})),i.a.createElement("td",{className:"col-xs-1 table-updated-td"},t.tax," %"))}))),!1===this.state.showLoader&&i.a.createElement("div",{className:void 0!=this.state.clinicList&&0==this.state.clinicList.length?"no-record":"no-record no-display"},i.a.createElement("div",{className:"",style:{float:"left",width:"100%",fontSize:"13px",textAlign:"center",marginTop:"0px",padding:"0px"}},this.state.clinic_No_Record_Found)),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.clinic_Please_Wait)))),i.a.createElement("div",{className:this.state.showLoadingText?"loading-please-wait no-margin-top":"loading-please-wait no-margin-top no-display "},this.state.loading_please_wait_text)))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(void 0!=e.showLoader&&0==e.showLoader)return{showLoader:!1};if(void 0!=e.clinicList&&e.clinicList.next_page_url!==t.next_page_url){var a={};return null==t.next_page_url?(localStorage.setItem("sortOnly",!1),a.next_page_url=null):(0==t.clinicList.length&&1==t.startFresh?"false"==localStorage.getItem("sortOnly")?(a.clinicList=e.clinicList.data,null!=e.clinicList.next_page_url?a.page=t.page+1:a.next_page_url=e.clinicList.next_page_url,a.startFresh=!1,a.showLoader=!1,a.showLoadingText=!1):localStorage.setItem("sortOnly",!1):t.clinicList!=e.clinicList.data&&0!=t.clinicList.length&&(a.clinicList=Object(oa.a)(t.clinicList).concat(Object(oa.a)(e.clinicList.data)),a.page=t.page+1,a.next_page_url=e.clinicList.next_page_url,a.showLoader=!1,a.showLoadingText=!1),a)}return null}}]),t}(n.Component);var Gg=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData")),a={};return"CLINIC_LIST"===e.ClinicReducer.action&&(200!=e.ClinicReducer.data.status?(rt.toast.error(t.global[e.InventoryReducer.data.message]),a.showLoader=!1):a.clinicList=e.ClinicReducer.data.data),"CLINIC_SEARCH"===e.ClinicReducer.action&&(200!=e.ClinicReducer.data.status?(rt.toast.error(t.global[e.InventoryReducer.data.message]),a.showLoader=!1):a.clinicSearch=e.ClinicReducer.data.data),"SELECTED_CLINIC_LIST"===e.ClinicReducer.action&&(200!=e.ClinicReducer.data.status?(rt.toast.error(t.global[e.InventoryReducer.data.message]),a.showLoader=!1):a.clinicSearch=e.ClinicReducer.data.data),a},function(e){return Object(c.bindActionCreators)({fetchClinics:kg,exportEmptyData:Yg},e)})(Hg);a(457);function Vg(e){var t=e.split(" "),a=Object(ye.a)(t,2),s=a[0],n=a[1],i=s.split(":"),r=Object(ye.a)(i,2),o=r[0],l=r[1];return"12"===o&&(o="00"),"PM"===n&&(o=parseInt(o,10)+12),o+":"+l}function zg(e){return(e=e.toString().match(/^([01]\d|2[0-3])(:)([0-5]\d)(:[0-5]\d)?$/)||[e]).length>1&&((e=e.slice(1))[0]=+e[0]%12||12,e[0]<10&&(e[0]="0"+e[0])),delete e[e.length-1],e.join("")}function Wg(e){return(e=e.toString().match(/^([01]\d|2[0-3])(:)([0-5]\d)(:[0-5]\d)?$/)||[e]).length>1&&((e=e.slice(1))[5]=+e[0]<12?"AM":"PM",e[0]=+e[0]%12||12),e[5]}var Jg=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).phoneNumberChanged=function(e,t,s,n){console.log(e,t,s,n),e?a.setState({contact_no:n.replace(/\s/g,""),contactClass:"setting-input-box",contactError:!1,userChanged:!0}):a.setState({contactClass:"setting-input-box setting-input-box-invalid",contactError:!0,contact_no:n.replace(/\s/g,""),userChanged:!0})},a.phoneNumberChanged1=function(e,t,s,n){e?a.setState({sms_notifications_phone:n.replace(/\s/g,""),notiContactClass:"setting-input-box",contactError:!1}):a.setState({notiContactClass:"setting-input-box setting-input-box-invalid",contactError:!0,sms_notifications_phone:n.replace(/\s/g,"")})},a.handleInputChange=function(e){var t,s=e.target,n="checkbox"===s.type?s.checked:s.value,i=(t={},Object(se.a)(t,e.target.name,n),Object(se.a)(t,"userChanged",!0),t);a.setState(i)},a.onBlur=function(e){if(nt.a.isEmail(e.target.value)){var t=a.state.notiEmailArr;-1==t.indexOf(e.target.value)&&t.push(e.target.value.trim()),a.setState({notiEmailArr:t,userChanged:!0,appointment_notification_emails:"",multipleEmailClass:"setting-input-box notiEmailInput "})}else a.setState({appointment_notification_emails:"",multipleEmailClass:"setting-input-box notiEmailInput field_error"})},a.removeEmail=function(e){var t=a.state.notiEmailArr;delete t[e.currentTarget.dataset.emailid],a.setState({notiEmailArr:t})},a.maskChange=function(e,t,a){var s=e.value,n=e.selection,i=n?n.start:null;s.endsWith(":")&&":"!==a&&(i===s.length&&(n={start:--i,end:i}),s=s.slice(0,-1)),2==i&&s>12&&(s=12);var r=s.split(":");(parseInt(r[0])>12&&(r[0]=12),5==i)&&(parseInt(r[1])>=60&&(r[1]=59,s=r.join(":")));return void 0==r[1]&&(r[0],r[1]="00"),{value:s=r.join(":"),selection:n}},a.toggleTime=function(e){var t=e.target,s="checkbox"===t.type?t.checked:t.value,n=t.name.split("-"),i=n[n.length-1],r={};r["day-"+i]=s,r["disableClass_"+i]=s?"fromandtoTime":"fromandtoTime disable",a.setState(r)},a.showDeleteModal=function(){a.setState({showModal:!0})},a.dismissModal=function(){a.setState({showModal:!1})},a.deleteClinic=function(){a.setState({showLoader:!0,hideBtns:!0}),a.dismissModal();var e=a.state.clinicId;a.props.deleteClinic(e)},a.handleSubmit=function(e){var t=!1;if(a.setState({clinic_name_Error:!1,contact_no_Error:!1,timezone_Error:!1,address_Error:!1,city_Error:!1,country_Error:!1,appointment_notification_emails_Error:!1,sms_notifications_phone_Error:!1,tax_Error:!1,status_Error:!1,email_special_instructions_Error:!1,business_hours_Error:!1}),void 0!==typeof a.state.clinic_name&&null!==a.state.clinic_name&&""!==a.state.clinic_name&&""!=a.state.clinic_name.trim()||(a.setState({clinic_name_Error:!0}),t=!0),(void 0===typeof a.state.contact_no||null===a.state.contact_no||""===a.state.contact_no||a.state.contact_no.length<11||a.state.contactError)&&(a.setState({contact_no_Error:!0}),t=!0),void 0!==typeof a.state.timezone&&null!==a.state.timezone&&""!==a.state.timezone||(a.setState({timezone_Error:!0}),t=!0),void 0!==typeof a.state.address&&null!==a.state.address&&""!==a.state.address&&""!=a.state.address.trim()||(a.setState({address_Error:!0}),t=!0),void 0!==typeof a.state.city&&null!==a.state.city&&""!==a.state.city&&""!=a.state.city.trim()||(a.setState({city_Error:!0}),t=!0),void 0!==typeof a.state.country_name&&null!==a.state.country_name&&""!==a.state.country_name&&""!==a.state.country_name.trim()&&"select"!=a.state.country_name.value||(a.setState({country_Error:!0}),t=!0),void 0===typeof a.state.tax||null===a.state.tax||""===a.state.tax?(a.setState({tax_Error:!0}),t=!0):void 0!==typeof a.state.status&&null!==a.state.status&&""!==a.state.status||(a.setState({status_Error:!0}),t=!0),!0!==t){var s=a.props.match.params.id,n=[];a.state.clinic_business_hours.map(function(e,t){var s=t+1,n={};n["from_time_class_"+s]="setting-input-box hours-time from-time-input",n["to_time_class_"+s]="setting-input-box hours-time to-time-input",n["from_hours_format_"+s]="setting-select-box hours-pm from_time_option",n["to_hours_format_"+s]="setting-select-box hours-pm from_time_option",a.setState(n)}),a.state.clinic_business_hours.map(function(e,t){var s=t+1;if(a.state["day-"+s]){var i={},r=a.state["from_time_"+s],o=a.state["to_time_"+s];if(""==r||"00:00"==r)return i["from_time_class_"+s]="setting-input-box hours-time from-time-input field_error",a.setState(i),!1;if(""==o||"00:00"==o)return i["to_time_class_"+s]="setting-input-box hours-time to-time-input field_error",a.setState(i),!1;var l="11/24/2014 "+r+" "+a.state["from_ampm_"+s],c="11/24/2014 "+o+" "+a.state["to_ampm_"+s];if(new Date(Date.parse(l))>=new Date(Date.parse(c)))return i["from_hours_format_"+s]="setting-select-box hours-pm from_time_option field_error",i["to_hours_format_"+s]="setting-select-box hours-pm from_time_option field_error",void a.setState(i);i["from_hours_format_"+s]="setting-select-box hours-pm from_time_option",i["to_hours_format_"+s]="setting-select-box hours-pm from_time_option",a.setState(i);var d=Vg(a.state["from_time_"+s]+" "+a.state["from_ampm_"+s]),m=Vg(a.state["to_time_"+s]+" "+a.state["to_ampm_"+s]);n.push({day:s,from_time:d,to_time:m})}}),localStorage.setItem("sortOnly",!0);var i={clinic_name:a.state.clinic_name,contact_no:a.state.contact_no,timezone:a.state.timezone,php_timezone:a.state.php_timezone,address:a.state.address,city:a.state.city,country_name:a.state.country_name,country:a.state.country_name,sms_notifications_phone:a.state.sms_notifications_phone,tax:parseFloat(a.state.tax)};n&&(i.business_hours=n);var r="";a.state.notiEmailArr.length&&(r=a.state.notiEmailArr.length>1?a.state.notiEmailArr.join(","):a.state.notiEmailArr[0]),i.appointment_notification_emails=r,s?(a.setState({showLoader:!0}),a.props.updateSelectedClinic(i,s)):a.setState({clinicFormData:i,productPricePop:!0})}},a.createClinicNow=function(){a.setState({appliedClinicIdError:!1});var e=a.state.clinicFormData;if("true"==a.state.apply_clinic){if(0==a.state.appliedClinicId)return a.setState({appliedClinicIdError:!0}),!1;e.apply_clinic=!0}else e.apply_clinic=!1;e.appliedClinicId=a.state.appliedClinicId,a.setState({showLoader:!0,productPricePop:!1}),a.props.createClinic(e)};var s=JSON.parse(localStorage.getItem("userData"));return a.state={timezone:"",city:"",php_timezone:"",country_name:"",country_code:"",defaultCountry:"us",clinic_name:"",contact_no:"",address:"",email_special_instructions:"",sms_notifications_phone:"",clinic_business_hours:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],tax:"",clinicData:{},userId:s.user.id,userType:s.user_type,id:a.props.match.params.id,page:1,appliedClinicId:0,pagesize:15,sortorder:"asc",term:"",hasMoreItems:!0,appointment_notification_emails:"",next_page_url:"",loadMore:!0,startFresh:!0,showLoader:!1,apply_clinic:"true",productPricePop:!1,scopes:"business_hours",user_changed:!1,timezoneList:[],countryList:[],notiEmailArr:[],multipleEmailClass:"setting-input-box notiEmailInput",contactClass:"setting-input-box",notiContactClass:"setting-input-box","day-1":!1,"day-2":!1,"day-3":!1,"day-4":!1,"day-5":!1,"day-6":!1,"day-7":!1,from_time_1:"00:00",from_time_2:"00:00",from_time_3:"00:00",from_time_4:"00:00",from_time_5:"00:00",from_time_6:"00:00",from_time_7:"00:00",to_time_1:"00:00",to_time_2:"00:00",to_time_3:"00:00",to_time_4:"00:00",to_time_5:"00:00",to_time_6:"00:00",to_time_7:"00:00",disableClass_1:"fromandtoTime disable",disableClass_2:"fromandtoTime disable",disableClass_3:"fromandtoTime disable",disableClass_4:"fromandtoTime disable",disableClass_5:"fromandtoTime disable",disableClass_6:"fromandtoTime disable",disableClass_7:"fromandtoTime disable",from_hours_format_1:"setting-select-box hours-pm from_time_option",from_hours_format_2:"setting-select-box hours-pm from_time_option",from_hours_format_3:"setting-select-box hours-pm from_time_option",from_hours_format_4:"setting-select-box hours-pm from_time_option",from_hours_format_5:"setting-select-box hours-pm from_time_option",from_hours_format_6:"setting-select-box hours-pm from_time_option",from_hours_format_7:"setting-select-box hours-pm from_time_option",to_hours_format_1:"setting-select-box hours-pm from_time_option",to_hours_format_2:"setting-select-box hours-pm from_time_option",to_hours_format_3:"setting-select-box hours-pm from_time_option",to_hours_format_4:"setting-select-box hours-pm from_time_option",to_hours_format_5:"setting-select-box hours-pm from_time_option",to_hours_format_6:"setting-select-box hours-pm from_time_option",to_hours_format_7:"setting-select-box hours-pm from_time_option",from_time_class_1:"setting-input-box hours-time from-time-input",from_time_class_2:"setting-input-box hours-time from-time-input",from_time_class_3:"setting-input-box hours-time from-time-input",from_time_class_4:"setting-input-box hours-time from-time-input",from_time_class_5:"setting-input-box hours-time from-time-input",from_time_class_6:"setting-input-box hours-time from-time-input",from_time_class_7:"setting-input-box hours-time from-time-input",to_time_class_1:"setting-input-box hours-time to-time-input",to_time_class_2:"setting-input-box hours-time to-time-input",to_time_class_3:"setting-input-box hours-time to-time-input",to_time_class_4:"setting-input-box hours-time to-time-input",to_time_class_5:"setting-input-box hours-time to-time-input",to_time_class_6:"setting-input-box hours-time to-time-input",to_time_class_7:"setting-input-box hours-time to-time-input",defaultClinicData:{}},window.onscroll=function(){return!1},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchDefaultClinicData();var e=this.props.match.params.id,t=JSON.parse(localStorage.getItem("languageData"));window.onscroll=function(){return!1},this.setState({edit_clinic_header:void 0!=e?t.settings.edit_clinic_header:t.settings.create_clinic_header,clinicId:void 0!=e?e:void 0,edit_clinic_subheader:t.settings.edit_clinic_subheader,edit_clinic_Clinic_name:t.settings.edit_clinic_Clinic_name,edit_clinic_contact_no:t.settings.edit_clinic_contact_no,edit_clinic_time_zone:t.settings.edit_clinic_time_zone,edit_clinic_address:t.settings.edit_clinic_address,edit_clinic_city_state:t.settings.edit_clinic_city_state,edit_clinic_country:t.settings.edit_clinic_country,edit_clinic_notif_email:t.settings.edit_clinic_notif_email,edit_clinic_sms_notif_phone:t.settings.edit_clinic_sms_notif_phone,edit_clinic_sms_multiple_emails:t.settings.edit_clinic_sms_multiple_emails,edit_clinic_tax_settings:t.settings.edit_clinic_tax_settings,edit_clinic_tax_rate:t.settings.edit_clinic_tax_rate,edit_clinic_business_hours:t.settings.edit_clinic_business_hours,edit_clinic_open_hours:t.settings.edit_clinic_open_hours,edit_clinic_close_hours:t.settings.edit_clinic_close_hours,edit_clinic_monday:t.settings.edit_clinic_monday,edit_clinic_tuesday:t.settings.edit_clinic_tuesday,edit_clinic_wednesday:t.settings.edit_clinic_wednesday,edit_clinic_thursday:t.settings.edit_clinic_thursday,edit_clinic_friday:t.settings.edit_clinic_friday,edit_clinic_Saturday:t.settings.edit_clinic_Saturday,edit_clinic_sunday:t.settings.edit_clinic_sunday,edit_clinic_delete_button:t.settings.edit_clinic_delete_button,clinic_delete_warning:t.settings.clinic_delete_warning,settings_price_of_products_msg:t.settings.settings_price_of_products_msg,settings_you_are_adding:t.settings.settings_you_are_adding,settings_plz_select_how_u:t.settings.settings_plz_select_how_u,settings_i_dont_want:t.settings.settings_i_dont_want,settings_copy_price:t.settings.settings_copy_price,settings_clinic:t.settings.settings_clinic,settings_select:t.settings.settings_select,user_save_btn_text:t.settings.user_save_btn_text,yes_option:t.settings.yes_option,no_option:t.settings.no_option,delete_confirmation:t.global.delete_confirmation,saveBtn:t.global.saveBtn,editUsers_CancelBtn:t.settings.editUsers_CancelBtn,clinic_Please_Wait:t.settings.clinic_Please_Wait,showLoader:!0});e&&this.props.fetchSelectedClinic({params:{}},e)}},{key:"render",value:function(){var e=this,t=[];return void 0!==this.state.business_hours&&this.state.business_hours.length&&this.state.business_hours.map(function(e,a){t.push(e.day)}),i.a.createElement("div",{className:"main protected"},i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(ps,null),i.a.createElement("div",{className:"setting-setion"},i.a.createElement("div",{className:"setting-container"},i.a.createElement("div",{className:"setting-title"},this.state.edit_clinic_header,i.a.createElement(me.a,{to:"/settings/clinics",className:"pull-right cancelAction"},i.a.createElement("img",{src:"../../../../images/close.png"}))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-lg-6 col-xs-12"},i.a.createElement("div",{className:"settings-subtitle"},this.state.edit_clinic_subheader),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-12 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.edit_clinic_Clinic_name,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:"clinic_name",id:"clinicname",className:!0===this.state.clinic_name_Error?"setting-input-box setting-input-box-invalid":"setting-input-box",autoComplete:"off",placeholder:"Clinic Name",maxLength:"255",type:"text",value:this.state.clinic_name,onChange:this.handleInputChange})))),i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.edit_clinic_contact_no,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement(zt.a,{preferredCountries:["tw"],css:["intl-tel-input",!0===this.state.contactError?"setting-input-box setting-input-box-invalid":"setting-input-box"],utilsScript:"libphonenumber.js",value:this.state.contact_no?this.state.contact_no:"",defaultCountry:this.state.defaultCountry,fieldName:"contact_no",onPhoneNumberChange:this.phoneNumberChanged,onPhoneNumberBlur:this.phoneNumberChanged,placeholder:"Phone Number",pattern:"[0-9]*"})))),i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.edit_clinic_time_zone,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("select",{name:"timezone",id:"time_zone",onChange:this.handleInputChange,className:!0===this.state.timezone_Error?"setting-input-box setting-input-box-invalid":"setting-input-box",placeholder:"Timezone",value:this.state.timezone},i.a.createElement("option",{value:"select"},"Select"),void 0!==this.state.timezoneList&&this.state.timezoneList.map(function(e,t){return i.a.createElement("option",{value:e.php_timezone,key:t},e.timezone,e.city)}))))),i.a.createElement("div",{className:"col-sm-12 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.edit_clinic_address,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:"address",id:"address",className:!0===this.state.address_Error?"setting-input-box setting-input-box-invalid":"setting-input-box",onChange:this.handleInputChange,autoComplete:"off",placeholder:"Clinic Address",type:"text",value:this.state.address})))),i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.edit_clinic_city_state,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:"city",id:"city",className:!0===this.state.city_Error?"setting-input-box setting-input-box-invalid":"setting-input-box",onChange:this.handleInputChange,autoComplete:"off",placeholder:"City",maxLength:"255",type:"text",value:this.state.city})))),i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.edit_clinic_country,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("select",{onChange:this.handleInputChange,name:"country_name",id:"country_name",className:this.state.country_Error?"setting-select-box field_error":"setting-select-box",placeholder:"Country",value:this.state.country_name},i.a.createElement("option",{value:"select"},"Select Country"),void 0!==this.state.countryList&&this.state.countryList.map(function(e,t){return i.a.createElement("option",{value:e.country_code,key:t},e.country_name)}))))),i.a.createElement("div",{className:"col-sm-6 col-xs-12 notificationEmail"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.edit_clinic_notif_email,i.a.createElement("span",{className:"setting-require"})),i.a.createElement("div",{className:this.state.multipleEmailClass},i.a.createElement("div",{className:"multiple_emails-container"},i.a.createElement("ul",{className:this.state.notiEmailArr.length?"multiple_emails-ul":"multiple_emails-ul no-display"},this.state.notiEmailArr.length&&this.state.notiEmailArr.map(function(t,a){return i.a.createElement("li",{className:"multiple_emails-email",key:a},i.a.createElement("a",{href:"javascript:void(0)",className:"multiple_emails-close","data-emailid":a,onClick:e.removeEmail.bind(e),title:"Remove"},i.a.createElement("i",{className:"fas fa-times"})),i.a.createElement("span",{className:"email_name"},t))})),i.a.createElement("input",{type:"text",name:"appointment_notification_emails",className:"multiple_emails-input text-left",value:this.state.appointment_notification_emails,autoComplete:"off",onChange:this.handleInputChange,onBlur:this.onBlur}))))),i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.edit_clinic_sms_notif_phone,i.a.createElement("span",{className:"setting-require"})),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement(zt.a,{preferredCountries:["tw"],css:["intl-tel-input",this.state.notiContactClass],utilsScript:"libphonenumber.js",value:this.state.sms_notifications_phone?this.state.sms_notifications_phone:"",defaultCountry:this.state.defaultCountry,fieldName:"sms_notifications_phone",onPhoneNumberChange:this.phoneNumberChanged1,onPhoneNumberBlur:this.phoneNumberChanged1,placeholder:"Phone Number"}))))),i.a.createElement("div",{className:"important-instruction m-t-10"},this.state.edit_clinic_sms_multiple_emails)),i.a.createElement("div",{className:"col-lg-6 col-xs-12"},i.a.createElement("div",{className:"settings-subtitle"},this.state.edit_clinic_tax_settings),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.edit_clinic_tax_rate,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:"tax",id:"tax",className:!0===this.state.tax_Error?"setting-input-box setting-input-box-invalid":"setting-input-box",placeholder:"Tax",type:"text",onChange:this.handleInputChange,autoComplete:"off",value:this.state.tax}))))),i.a.createElement("div",{className:"settings-subtitle m-b-60"},this.state.edit_clinic_business_hours),i.a.createElement("div",{className:"business-hours-outer"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-4"},"\xa0"),i.a.createElement("div",{className:"col-xs-4"},i.a.createElement("div",{className:"new-field-label"},this.state.edit_clinic_open_hours)),i.a.createElement("div",{className:"col-xs-4"},i.a.createElement("div",{className:"new-field-label"},this.state.edit_clinic_close_hours))),this.state.clinic_business_hours.map(function(t,a){var s=a+1;return i.a.createElement("div",{className:"row datetimeparent",key:a},i.a.createElement("div",{className:"col-xs-4"},i.a.createElement("input",{type:"checkbox",className:"new-check",id:"new-check"+s,name:"day-"+s,checked:e.state["day-"+s],onChange:e.toggleTime}),i.a.createElement("label",{className:"setting-week",htmlFor:"new-check"+s},t)),i.a.createElement("div",{className:e.state["disableClass_"+s]},i.a.createElement("div",{className:"col-xs-4"},void 0!==e.state["from_time_"+s]&&i.a.createElement(wc.a,{name:"from_time_"+s,mask:"99:99",className:e.state["from_time_class_"+s],placeholder:"00:00",value:e.state["from_time_"+s],onChange:e.handleInputChange,maskChar:"",beforeMaskedValueChange:e.maskChange}),i.a.createElement("select",{className:e.state["from_hours_format_"+s],name:"from_ampm_"+s,onChange:e.handleInputChange,value:e.state["from_ampm_"+s]},i.a.createElement("option",{value:"AM"},"AM"),i.a.createElement("option",{value:"PM"},"PM"))),i.a.createElement("div",{className:"col-xs-4"},void 0!==e.state["to_time_"+s]&&i.a.createElement(wc.a,{name:"to_time_"+s,mask:"99:99",className:e.state["to_time_class_"+s],placeholder:"00:00",value:e.state["to_time_"+s],onChange:e.handleInputChange,maskChar:"",beforeMaskedValueChange:e.maskChange}),i.a.createElement("select",{className:e.state["to_hours_format_"+s],name:"to_ampm_"+s,onChange:e.handleInputChange,value:e.state["to_ampm_"+s]},i.a.createElement("option",{value:"AM"},"AM"),i.a.createElement("option",{value:"PM"},"PM")))))})),i.a.createElement("div",{className:this.state.showModal?"overlay":""}),i.a.createElement("div",{id:"filterModal",role:"dialog",className:this.state.showModal?"modal fade in displayBlock":"modal fade"},i.a.createElement("div",{className:"modal-dialog"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal",onClick:this.dismissModal},"\xd7"),i.a.createElement("h4",{className:"modal-title",id:"model_title"},this.state.delete_confirmation,this.state.showModal)),i.a.createElement("div",{id:"errorwindow",className:"modal-body add-patient-form filter-patient"},this.state.clinic_delete_warning),i.a.createElement("div",{className:"modal-footer"},i.a.createElement("div",{className:"col-md-12 text-left",id:"footer-btn"},i.a.createElement("button",{type:"button",className:"btn  logout pull-right","data-dismiss":"modal",onClick:this.dismissModal},this.state.no_option),i.a.createElement("button",{type:"button",className:"btn btn-success pull-right m-r-10","data-dismiss":"modal",onClick:this.deleteClinic},this.state.yes_option))))))))),i.a.createElement("div",{className:this.state.productPricePop?"modalOverlay":"modalOverlay no-display"},i.a.createElement("div",{className:"small-popup-outer appointment-detail-main"},i.a.createElement("div",{className:"small-popup-header"},i.a.createElement("div",{className:"popup-name"},this.state.settings_price_of_products_msg),i.a.createElement("a",{onClick:function(){e.setState({productPricePop:!e.state.productPricePop}),e.props.history.push("/settings/clinic/create")},className:"small-cross"},"\xd7")),i.a.createElement("div",{className:"small-popup-content"},i.a.createElement("div",{className:"juvly-container no-padding-bottom"},i.a.createElement("div",{className:"juvly-subtitle"},this.state.settings_you_are_adding," - ",this.state.clinic_name),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"})),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.settings_plz_select_how_u),i.a.createElement("div",{className:"new-field-label"}),i.a.createElement("div",{className:"basic-checkbox-outer"},i.a.createElement("input",{id:"radiobutton1",className:"basic-form-checkbox",name:"apply_clinic",type:"radio",value:"false",onChange:this.handleInputChange,checked:"false"==this.state.apply_clinic&&"checked"}),i.a.createElement("label",{className:"basic-form-text",htmlFor:"radiobutton1"},this.state.settings_i_dont_want)),i.a.createElement("div",{className:"new-field-label"}),i.a.createElement("div",{className:"basic-checkbox-outer"},i.a.createElement("input",{id:"radiobutton2",className:"basic-form-checkbox",name:"apply_clinic",type:"radio",value:"true",onChange:this.handleInputChange,checked:"true"==this.state.apply_clinic&&"checked"}),i.a.createElement("label",{className:"basic-form-text",htmlFor:"radiobutton2"},this.state.settings_copy_price))),i.a.createElement("div",{className:"false"==this.state.apply_clinic?"setting-field-outer no-display":"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.settings_clinic,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("select",{name:"appliedClinicId",id:"time_zone",onChange:this.handleInputChange,className:!0===this.state.appliedClinicIdError?"setting-input-box setting-input-box-invalid":"setting-input-box",value:this.state.appliedClinicId},i.a.createElement("option",{value:"select"},this.state.settings_select),void 0!==this.state.clinicList&&this.state.clinicList.map(function(e,t){return i.a.createElement("option",{value:e.id,key:"clinics-"+t},e.clinic_name)})))))))),i.a.createElement("div",{className:"footer-static"},i.a.createElement("a",{className:"new-blue-btn pull-right",onClick:this.createClinicNow},this.state.user_save_btn_text)))),i.a.createElement("div",{className:"footer-static"},this.state.id>0&&"superadmin"==this.state.userType&&i.a.createElement("a",{href:"javascript:void(0)",className:"new-red-btn pull-left confirm-model",onClick:this.showDeleteModal},this.state.edit_clinic_delete_button),i.a.createElement("button",{type:"button",id:"save_clinic",className:"new-blue-btn pull-right",onClick:this.handleSubmit},this.state.saveBtn),i.a.createElement(me.a,{to:"/settings/clinics",className:"new-white-btn pull-right cancelAction"},this.state.editUsers_CancelBtn)),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.clinic_Please_Wait)))))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(void 0!=e.showLoader&&0==e.showLoader)return{showLoader:!1};if(void 0!==e.clinicData&&200===e.clinicData.status){var a=e.clinicData.data.appointment_notification_emails?e.clinicData.data.appointment_notification_emails.split(",")[0]:[],s=a.indexOf("");a=a.slice(s,"");var n={};if(e.clinicData.data.clinic_business_hours.length)e.clinicData.data.clinic_business_hours.map(function(e,t){n["day-"+e.day]=!0,n["from_time_"+e.day]=zg(e.from_time),n["from_ampm_"+e.day]=Wg(e.from_time),n["to_time_"+e.day]=zg(e.to_time),n["disableClass_"+e.day]="fromandtoTime",n["to_ampm_"+e.day]=Wg(e.to_time)});return n.showLoader=!1,n.clinic_name=t.userChanged?t.clinic_name:e.clinicData.data.clinic_name,n.contact_no=t.userChanged?t.contact_no:e.clinicData.data.contact_no,n.timezone=t.userChanged?t.timezone:e.clinicData.data.timezone,n.php_timezone=t.userChanged?t.php_timezone:e.clinicData.data.php_timezone,n.address=t.userChanged?t.address:e.clinicData.data.address,n.city=t.userChanged?t.city:e.clinicData.data.city,n.notiEmailArr=a,n.appointment_notification_emails=t.userChanged?t.appointment_notification_emails:e.clinicData.data.appointment_notification_emails?e.clinicData.data.appointment_notification_emails.split(","):[],n.tax=t.userChanged?t.tax:e.clinicData.data.tax,n.status=t.userChanged?t.status:e.clinicData.data.status,n.business_hours=t.userChanged?t.business_hours:e.clinicData.data.clinic_business_hours,n.email_special_instructions=t.userChanged?t.email_special_instructions:e.clinicData.data.email_special_instructions,n.sms_notifications_phone=t.userChanged?t.sms_notifications_phone:e.clinicData.data.sms_notifications_phone,n.country_name=t.userChanged?t.country_name:e.clinicData.data.country,n}return void 0!==e.countryList&&200===e.countryList.status?{countryList:t.userChanged?t.countryList:e.countryList.data,showLoader:!1}:void 0!==e.defaultClinicData&&200===e.defaultClinicData.status&&e.defaultClinicData.data!=t.defaultClinicData?{countryList:t.userChanged?t.countryList:e.defaultClinicData.data.country_list,timezoneList:t.userChanged?t.countryList:e.defaultClinicData.data.timezone_list,clinicList:t.userChanged?t.countryList:e.defaultClinicData.data.clinic_list,defaultClinicData:t.userChanged?t.countryList:e.defaultClinicData.data,showLoader:!1}:void 0!==e.timezoneList&&200===e.timezoneList.status?{timezoneList:t.userChanged?t.timezoneList:e.timezoneList.data,showLoader:!1}:void 0==e.redirect||1!=e.redirect?null:void rt.toast.success(e.message,{onClose:function(){e.history.push("/settings/clinics")}})}}]),t}(n.Component);var Qg=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData")),a={};if("SELECTED_CLINIC_LIST"===e.ClinicReducer.action)200!=e.ClinicReducer.data.status?(rt.toast.error(t.global[e.ClinicReducer.data.message]),a.showLoader=!1):a.clinicData=e.ClinicReducer.data;else if("CREATE_CLINIC"===e.ClinicReducer.action)201!=e.ClinicReducer.data.status?(a.user=e.ClinicReducer.data,a.showLoader=!1):(a.redirect=!0,a.message=t.global[e.ClinicReducer.data.message]);else{if("UPDATE_SELECTED_CLINIC"===e.ClinicReducer.action)return 200!=e.ClinicReducer.data.status?(rt.toast.error(t.global[e.ClinicReducer.data.message]),a.showLoader=!1):(a.redirect=!0,a.message=t.global[e.ClinicReducer.data.message]),a;"TIMEZONE_LIST"===e.ClinicReducer.action?200!=e.ClinicReducer.data.status?a.showLoader=!1:a.timezoneList=e.ClinicReducer.data:"COUNTRIES_LIST"===e.ClinicReducer.action?200!=e.ClinicReducer.data.status?a.showLoader=!1:a.countryList=e.ClinicReducer.data:"DEFAULT_CLINIC_DATA"===e.ClinicReducer.action?200!=e.ClinicReducer.data.status?a.showLoader=!1:a.defaultClinicData=e.ClinicReducer.data:"DELETE_CLINIC"===e.ClinicReducer.action&&(200!=e.ClinicReducer.data.status?a.showLoader=!1:(a.redirect=!0,a.message=t.global[e.ClinicReducer.data.message]))}return a},function(e){return Object(c.bindActionCreators)({fetchSelectedClinic:Pg,createClinic:Mg,updateSelectedClinic:Ug,fetchAllTimezone:Fg,fetchAllCountries:Bg,deleteClinic:qg,fetchDefaultClinicData:jg},e)})(Jg),Kg=function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,s="checkbox"===t.type?t.checked:t.value;a.setState(Object(se.a)({},e.target.name,s))},a.handleSubmit=function(e){var t;e.preventDefault(),localStorage.setItem("sortOnly",!0);var s={params:{page:1,pagesize:a.state.pagesize,sortorder:a.state.sortorder,term:a.state.term}};a.setState((t={page:1,pagesize:a.state.pagesize,sortorder:"asc"==a.state.sortorder?"asc":"desc",startFresh:!0,loadMore:!0},Object(se.a)(t,"startFresh",!0),Object(se.a)(t,"next_page_url",""),Object(se.a)(t,"templatesList",[]),t)),a.props.getProcedureTemplates(s)},a.loadMore=function(){localStorage.setItem("sortOnly",!1),a.setState({loadMore:!0,startFresh:!0,showLoader:!0,showLoadingText:!0});var e={params:{page:a.state.page,pagesize:a.state.pagesize,sortorder:a.state.sortorder,term:a.state.term}};a.props.getProcedureTemplates(e)},a.postEdit=function(e){return i.a.createElement("div",null,a.props.history.push("/settings/procedure-template/".concat(e,"/edit")))},a.reorder=function(e,t,a){var s=Array.from(e),n=s.splice(t,1),i=Object(ye.a)(n,1)[0];return s.splice(a,0,i),s},a.getItemStyle=function(e,t){return Object(m.a)({userSelect:"none",background:e?"#f7fbfd":"ffffff"},t)},a.state={post_subject:"",post_body:"",userChanged:!1,userData:"",page:1,pagesize:15,sortorder:"asc",term:"",hasMoreItems:!0,showLoadingText:!1,next_page_url:"",templatesList:[],loadMore:!0,startFresh:!0,showLoader:!1},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),window.onscroll=function(){var e=parseInt(Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop));window.innerHeight+e===document.documentElement.offsetHeight&&null!=a.state.next_page_url&&a.loadMore()},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("languageData"));this.setState({clinic_No_Record_Found:e.settings.clinic_No_Record_Found,loading_please_wait_text:e.global.loading_please_wait_text,clinic_Please_Wait:e.settings.clinic_Please_Wait});var t={params:{page:this.state.page,pagesize:this.state.pagesize,sortorder:"asc",term:this.state.term}};this.setState({showLoader:!0}),this.props.getProcedureTemplates(t)}},{key:"shouldComponentUpdate",value:function(e,t){return!!this.state.startFresh||(!!this.state.loadMore||!!this.state.showLoader)}},{key:"render",value:function(){return i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(ps,null),i.a.createElement("div",{className:"setting-setion"},i.a.createElement("div",{className:"setting-search-outer"},i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("div",{className:"search-bg col-xs-5"},i.a.createElement("i",{className:"fas fa-search"}),i.a.createElement("input",{className:"setting-search-input search-key","data-url":"/settings/pre_treatment_instructions",name:"term",placeholder:"Search",value:this.state.term,onChange:this.handleInputChange}))),i.a.createElement(me.a,{to:"/settings/procedure-template/create",className:"new-blue-btn pull-right edit_setting"},"Create Template")),i.a.createElement("div",{className:"table-responsive"},i.a.createElement("table",{className:"table-updated setting-table"},i.a.createElement("thead",{className:"table-updated-thead"},i.a.createElement("tr",null,i.a.createElement("th",{className:"col-xs-8 table-updated-th sorting"},"Templates"),i.a.createElement("th",{className:"col-xs-4 table-updated-th sorting text-center"},"Added By"))),i.a.createElement(xg,{sortUpdate:this.updateSortOrder,list:this.state.templatesList,module:"ProcedureTemplate",editUrl:this.postEdit}),this.state.templatesList.length<=0&&!1===this.state.showLoader&&i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",{className:"col-xs-8 table-updated-th text-center",colSpan:2},i.a.createElement("div",{className:"no-record"},this.state.clinic_No_Record_Found)))))),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.clinic_Please_Wait))),i.a.createElement("div",{className:this.state.showLoadingText?"loading-please-wait no-margin-top":"loading-please-wait no-margin-top no-display "},this.state.loading_please_wait_text))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(void 0!=e.showLoader&&0==e.showLoader)return{showLoader:!1};if(void 0!=e.templatesList&&e.templatesList.next_page_url!==t.next_page_url){var a={};return null==t.next_page_url?(localStorage.setItem("sortOnly",!1),a.next_page_url=null):(0==t.templatesList.length&&1==t.startFresh?"false"==localStorage.getItem("sortOnly")?(a.templatesList=e.templatesList.data,null!=e.templatesList.next_page_url?(a.page=t.page+1,a.next_page_url=e.templatesList.next_page_url):a.next_page_url=null,a.startFresh=!1,a.showLoader=!1,a.showLoadingText=!1):localStorage.setItem("sortOnly",!1):t.templatesList!=e.templatesList.data&&0!=t.templatesList.length&&(a.templatesList=Object(oa.a)(t.templatesList).concat(Object(oa.a)(e.templatesList.data)),a.page=t.page+1,a.next_page_url=e.templatesList.next_page_url,a.showLoader=!1,a.showLoadingText=!1),a)}return null}}]),t}(n.Component);var Xg=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData")),a={};return"PROCEDURE_TEMPLATE_LIST"===e.SettingReducer.action&&(200!=e.SettingReducer.data.status?(rt.toast.error(t.global[e.SettingReducer.data.message]),a.showLoader=!1):a.templatesList=e.SettingReducer.data.data),a},function(e){return Object(c.bindActionCreators)({getProcedureTemplates:oo},e)})(Kg),Zg=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t,s=e.target,n="checkbox"===s.type?s.checked:s.value;a.setState((t={},Object(se.a)(t,e.target.name,n),Object(se.a)(t,"userChanged",!0),t))},a.handleEdit=function(){a.setState({isDisabled:!1,buttonChange:"Save"})},a.handleSubmit=function(e){a.setState({save:"new-blue-btn pull-right save display",edit:"new-blue-btn pull-right edit display",subjectError:!1,bodyError:!1,isDisabled:!0}),e.preventDefault();var t=!1;if(""===a.state.post_treatment_subject||""==a.state.post_treatment_subject.trim()?(a.setState({isDisabled:!1,subjectError:!0}),t=!0):a.state.pre_treatment_subject&&a.setState({isDisabled:!0,subjectError:!1}),""===a.state.post_treatment_body||""==a.state.post_treatment_body.trim()?(a.setState({isDisabled:!1,bodyError:!0}),t=!0):a.state.pre_treatment_body&&a.setState({isDisabled:!0,bodyError:!1}),!0!==t){var s={post_treatment_subject:a.state.post_treatment_subject,post_treatment_body:a.state.post_treatment_body};a.props.postEmailUpdate(s)}},a.handleCancel=function(){a.setState({pre_treatment_subject:a.state.emailList.pre_treatment_subject,pre_treatment_body:a.state.emailList.pre_treatment_body,isDisabled:!0})};var s=JSON.parse(localStorage.getItem("userData"));return a.state={post_treatment_subject:"",post_treatment_body:"",userChanged:!1,emailList:{},userId:s.user.id,isDisabled:!0,buttonChange:"Edit",save:"new-blue-btn pull-right save",edit:"new-blue-btn pull-right edit",showLoader:!1,subjectError:!1,bodyError:!1},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("languageData"));this.setState({post_treatment_email:e.settings.post_treatment_email,post_treatment_email_Subject:e.settings.post_treatment_email_Subject,post_treatment_email_body:e.settings.post_treatment_email_body,post_treatment_header:e.settings.post_treatment_header,clinic_Please_Wait:e.settings.clinic_Please_Wait}),this.setState({showLoader:!0}),this.props.getPostTreatmentEmail()}},{key:"render",value:function(){return i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(ps,null),i.a.createElement("div",{className:"setting-setion"},i.a.createElement("div",{className:"setting-container"},i.a.createElement("div",{className:"setting-title"},this.state.post_treatment_header),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-6"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-12"},i.a.createElement("div",{className:"instruction-subtitle"},this.state.post_treatment_email),i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.post_treatment_email_Subject,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("input",{name:"post_treatment_subject",id:"post_treatment_subject",className:!0===this.state.subjectError?"setting-input-box setting-input-box-invalid":"setting-input-box",autoComplete:"off",placeholder:"Subject",value:this.state.post_treatment_subject,disabled:this.state.isDisabled,onChange:this.handleInputChange,type:"text"}))),i.a.createElement("div",{className:"col-sm-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.post_treatment_email_body,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("textarea",{name:"post_treatment_body",id:"post_treatment_body",className:!0===this.state.bodyError?"setting-textarea-box m-h-300 setting-input-box-invalid":"setting-textarea-box m-h-300",placeholder:"Email body",disabled:this.state.isDisabled,onChange:this.handleInputChange,value:this.state.post_treatment_body})))))),i.a.createElement("div",{className:"instruction-subtitle"},"Variables"),i.a.createElement("div",{className:"setting-variable"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-4 col-xs-12"},"Patient Name: ","{","{","PATIENTNAME","}","}"),i.a.createElement("div",{className:"col-md-4 col-xs-12"},"Provider Name: ","{","{","PROVIDERNAME","}","}"),i.a.createElement("div",{className:"col-md-4 col-xs-12"},"Appointment Date Time: ","{","{","APPOINTMENTDATETIME","}","}")),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-4 col-xs-12"},"Clinic Name:","{","{","CLINICNAME","}","}"),i.a.createElement("div",{className:"col-md-4 col-xs-12"},"Clinic Location:","{","{","CLINICLOCATION","}","}"),i.a.createElement("div",{className:"col-md-4 col-xs-12"},"Instructions Service:","{","{","INSTRUCTIONSSERVICE","}","}")),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-4 col-xs-12"},"Instructions Title:","{","{","INSTRUCTIONSTITLE","}","}"),i.a.createElement("div",{className:"col-md-4 col-xs-12"},"Instructions Description:","{","{","INSTRUCTIONSDESCRIPTION","}","}")))),1==this.state.isDisabled?i.a.createElement("div",{id:"post_edit_div",className:"footer-static"},i.a.createElement("button",{id:"edit_post",className:this.state.edit,onClick:this.handleEdit},"Edit")):i.a.createElement("div",{id:"post_save_div",className:"footer-static"},i.a.createElement("button",{id:"edit_post",className:this.state.save,onClick:this.handleSubmit},"Save"),i.a.createElement("button",{id:"post_cancel","data-url":"",className:"new-white-btn pull-right",onClick:this.handleCancel},"Cancel")),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.clinic_Please_Wait))))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return void 0!=e.showLoader&&0==e.showLoader?{showLoader:!1}:void 0!==e.emailList&&e.emailList!=t.emailList?{emailList:e.emailList,post_treatment_subject:t.userChanged?t.post_treatment_subject:e.emailList.data.post_treatment_subject,post_treatment_body:t.userChanged?t.post_treatment_body:e.emailList.data.post_treatment_body,showLoader:!1}:null}}]),t}(n.Component);var $g=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData")),a={};return"POST_TREATMENT_EMAIL_LIST"===e.SettingReducer.action?200!=e.SettingReducer.data.status?(rt.toast.error(t.global[e.SettingReducer.data.message]),a.showLoader=!1):a.emailList=e.SettingReducer.data:"POST_TREATMENT_EMAIL_UPDATE"===e.SettingReducer.action?200!=e.SettingReducer.data.status?(rt.toast.error(t.global[e.SettingReducer.data.message]),a.showLoader=!1):(rt.toast.success(t.global[e.SettingReducer.data.message]),a.emailList=e.SettingReducer.data):"FILE_UPLOADED"===e.SettingReducer.action&&(200!=e.SettingReducer.data.status?(a.tempFileName=e.SettingReducer.data.file_name,a.showLoader=!1):a.user_image=e.SettingReducer.data.data.file_name),a},function(e){return Object(c.bindActionCreators)({getPostTreatmentEmail:gi,postEmailUpdate:li},e)})(Zg),e_=function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,s="checkbox"===t.type?t.checked:t.value;a.setState(Object(se.a)({},e.target.name,s))},a.handleSubmit=function(e){var t;e.preventDefault(),localStorage.setItem("sortOnly",!0);var s={params:{page:1,pagesize:a.state.pagesize,sortorder:a.state.sortorder,term:a.state.term}};a.setState((t={page:1,pagesize:a.state.pagesize,sortorder:"asc"==a.state.sortorder?"asc":"desc",startFresh:!0,loadMore:!0},Object(se.a)(t,"startFresh",!0),Object(se.a)(t,"next_page_url",""),Object(se.a)(t,"instructionsList",[]),t)),a.props.fetchPosttreatmentInstructions(s)},a.loadMore=function(){localStorage.setItem("sortOnly",!1),a.setState({loadMore:!0,startFresh:!0,showLoader:!0,showLoadingText:!0});var e={params:{page:a.state.page,pagesize:a.state.pagesize,sortorder:a.state.sortorder,term:a.state.term}};a.props.fetchPosttreatmentInstructions(e)},a.postEdit=function(e){return i.a.createElement("div",null,a.props.history.push("/settings/post-treatment-instructions/".concat(e,"/edit")))},a.reorder=function(e,t,a){var s=Array.from(e),n=s.splice(t,1),i=Object(ye.a)(n,1)[0];return s.splice(a,0,i),s},a.getItemStyle=function(e,t){return Object(m.a)({userSelect:"none",background:e?"#f7fbfd":"ffffff"},t)},a.state={post_subject:"",post_body:"",userChanged:!1,userData:"",page:1,pagesize:15,sortorder:"asc",term:"",hasMoreItems:!0,next_page_url:"",instructionsList:[],loadMore:!0,startFresh:!0,showLoader:!1,showLoadingText:!1},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),window.onscroll=function(){var e=parseInt(Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop));window.innerHeight+e===document.documentElement.offsetHeight&&null!=a.state.next_page_url&&a.loadMore()},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("languageData"));this.setState({post_treatment_instructions_button:e.settings.post_treatment_instructions_button,post_treatment_instructions_title:e.settings.post_treatment_instructions_title,post_treatment_instructions_added:e.settings.post_treatment_instructions_added,clinic_Please_Wait:e.settings.clinic_Please_Wait,loading_please_wait_text:e.global.loading_please_wait_text,clinic_No_Record_Found:e.settings.clinic_No_Record_Found});var t={params:{page:this.state.page,pagesize:this.state.pagesize,sortorder:"asc",term:this.state.term}};this.setState({showLoader:!0}),this.props.fetchPosttreatmentInstructions(t)}},{key:"shouldComponentUpdate",value:function(e,t){return!!this.state.startFresh||(!!this.state.loadMore||!!this.state.showLoader)}},{key:"render",value:function(){return i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(ps,null),i.a.createElement("div",{className:"setting-setion"},i.a.createElement("div",{className:"setting-search-outer"},i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("div",{className:"search-bg col-xs-5"},i.a.createElement("i",{className:"fas fa-search"}),i.a.createElement("input",{className:"setting-search-input search-key","data-url":"/settings/pre_treatment_instructions",name:"term",placeholder:"Search",value:this.state.term,autoComplete:"off",onChange:this.handleInputChange}))),i.a.createElement(me.a,{to:"/settings/post-treatment-instructions/create",className:"new-blue-btn pull-right edit_setting"},this.state.post_treatment_instructions_button)),i.a.createElement("div",{className:"table-responsive"},i.a.createElement("table",{className:"table-updated setting-table"},i.a.createElement("thead",{className:"table-updated-thead"},i.a.createElement("tr",null,i.a.createElement("th",{className:"col-xs-8 table-updated-th sorting"},this.state.post_treatment_instructions_title),i.a.createElement("th",{className:"col-xs-4 table-updated-th sorting text-center"},this.state.post_treatment_instructions_added))),i.a.createElement(xg,{sortUpdate:this.updateSortOrder,list:this.state.instructionsList,module:"PostTreatmentInstruction",editUrl:this.postEdit}),this.state.instructionsList.length<=0&&!1===this.state.showLoader&&i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",{className:"col-xs-8 table-updated-th text-center",colSpan:2},i.a.createElement("div",{className:"no-record"},this.state.clinic_No_Record_Found)))))),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.clinic_Please_Wait))),i.a.createElement("div",{className:this.state.showLoadingText?"loading-please-wait no-margin-top":"loading-please-wait no-margin-top no-display "},this.state.loading_please_wait_text))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(void 0!=e.showLoader&&0==e.showLoader)return{showLoader:!1};if(void 0!=e.instructionsList&&e.instructionsList.next_page_url!==t.next_page_url){var a={};return null==t.next_page_url?(localStorage.setItem("sortOnly",!1),a.next_page_url=null):(0==t.instructionsList.length&&1==t.startFresh?"false"==localStorage.getItem("sortOnly")?(a.instructionsList=e.instructionsList.data,null!=e.instructionsList.next_page_url?(a.page=t.page+1,a.next_page_url=e.instructionsList.next_page_url):a.next_page_url=null,a.startFresh=!1,a.showLoader=!1,a.showLoadingText=!1):localStorage.setItem("sortOnly",!1):t.instructionsList!=e.instructionsList.data&&0!=t.instructionsList.length&&(a.instructionsList=Object(oa.a)(t.instructionsList).concat(Object(oa.a)(e.instructionsList.data)),a.page=t.page+1,a.next_page_url=e.instructionsList.next_page_url,a.showLoader=!1,a.showLoadingText=!1),a)}return null}}]),t}(n.Component);var t_=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData")),a={};return"POST_TREATMENT_INSTRUCTIONS_LIST"===e.SettingReducer.action&&(200!=e.SettingReducer.data.status?(rt.toast.error(t.global[e.SettingReducer.data.message]),a.showLoader=!1):a.instructionsList=e.SettingReducer.data.data),a},function(e){return Object(c.bindActionCreators)({fetchPosttreatmentInstructions:ui},e)})(e_),a_=function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,s="checkbox"===t.type?t.checked:t.value;a.setState(Object(se.a)({},e.target.name,s))},a.handleSubmit=function(e){var t;e.preventDefault(),localStorage.setItem("sortOnly",!0);var s={params:{page:1,pagesize:a.state.pagesize,sortorder:a.state.sortorder,term:a.state.term}};a.setState((t={page:1,pagesize:a.state.pagesize,sortorder:"asc"==a.state.sortorder?"asc":"desc",startFresh:!0,loadMore:!0},Object(se.a)(t,"startFresh",!0),Object(se.a)(t,"next_page_url",""),Object(se.a)(t,"instructionsList",[]),t)),a.setState({showLoader:!0}),a.props.fetchPretreatmentInstructions(s)},a.preEdit=function(e){return i.a.createElement("div",null,a.props.history.push("/settings/pre-treatment-instructions/".concat(e,"/edit")))},a.loadMore=function(){localStorage.setItem("sortOnly",!1),a.setState({loadMore:!0,startFresh:!0,showLoader:!0,showLoadingText:!0});var e={params:{page:a.state.page,pagesize:a.state.pagesize,sortorder:a.state.sortorder,term:a.state.term}};a.props.fetchPretreatmentInstructions(e)},a.getItemStyle=function(e,t){return Object(m.a)({userSelect:"none",background:e?"#f7fbfd":"ffffff"},t)},a.state={post_subject:"",post_body:"",userChanged:!1,userData:"",page:1,pagesize:15,sortorder:"asc",showLoadingText:!1,term:"",hasMoreItems:!0,next_page_url:"",instructionsList:[],loadMore:!0,startFresh:!0,showLoader:!1},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),window.onscroll=function(){var e=parseInt(Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop));window.innerHeight+e===document.documentElement.offsetHeight&&null!=a.state.next_page_url&&a.loadMore()},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("languageData"));this.setState({pre_treatment_instructions_button:e.settings.pre_treatment_instructions_button,post_treatment_instructions_title:e.settings.post_treatment_instructions_title,post_treatment_instructions_added:e.settings.post_treatment_instructions_added,loading_please_wait_text:e.global.loading_please_wait_text,clinic_Please_Wait:e.settings.clinic_Please_Wait,clinic_No_Record_Found:e.settings.clinic_No_Record_Found});var t={params:{page:this.state.page,pagesize:this.state.pagesize,sortorder:"asc",term:this.state.term}};this.setState({showLoader:!0}),this.props.fetchPretreatmentInstructions(t)}},{key:"shouldComponentUpdate",value:function(e,t){return!!this.state.startFresh||(!!this.state.loadMore||!!this.state.showLoader)}},{key:"render",value:function(){return i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(ps,null),i.a.createElement("div",{className:"setting-setion"},i.a.createElement("div",{className:"setting-search-outer"},i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("div",{className:"search-bg col-xs-5"},i.a.createElement("i",{className:"fas fa-search"}),i.a.createElement("input",{className:"setting-search-input search-key","data-url":"/settings/pre_treatment_instructions",name:"term",placeholder:"Search",autoComplete:"off",value:this.state.term,onChange:this.handleInputChange}))),i.a.createElement(me.a,{to:"/settings/pre-treatment-instructions/create",className:"new-blue-btn pull-right edit_setting"},this.state.pre_treatment_instructions_button)),i.a.createElement("div",{className:"table-responsive"},i.a.createElement("table",{className:"table-updated setting-table"},i.a.createElement("thead",{className:"table-updated-thead"},i.a.createElement("tr",null,i.a.createElement("th",{className:"col-xs-8 table-updated-th sorting"},this.state.post_treatment_instructions_title),i.a.createElement("th",{className:"col-xs-4 table-updated-th sorting text-center"},this.state.post_treatment_instructions_added))),i.a.createElement(xg,{sortUpdate:this.updateSortOrder,list:this.state.instructionsList,module:"PreTreatmentInstruction",editUrl:this.preEdit}),this.state.instructionsList.length<=0&&!1===this.state.showLoader&&i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",{className:"col-xs-8 table-updated-th text-center",colSpan:2},i.a.createElement("div",{className:"no-record"},this.state.clinic_No_Record_Found))))),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.clinic_Please_Wait)))),i.a.createElement("div",{className:this.state.showLoadingText?"loading-please-wait no-margin-top":"loading-please-wait no-margin-top no-display "},this.state.loading_please_wait_text))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(void 0!=e.showLoader&&0==e.showLoader)return{showLoader:!1};if(void 0!=e.instructionsList&&e.instructionsList.next_page_url!==t.next_page_url){var a={};return null==t.next_page_url?(localStorage.setItem("sortOnly",!1),a.next_page_url=null):(0==t.instructionsList.length&&1==t.startFresh?"false"==localStorage.getItem("sortOnly")?(a.instructionsList=e.instructionsList.data,null!=e.instructionsList.next_page_url?a.page=t.page+1:a.next_page_url=null,a.startFresh=!1,a.showLoader=!1,a.showLoadingText=!1):localStorage.setItem("sortOnly",!1):t.instructionsList!=e.instructionsList.data&&0!=t.instructionsList.length&&(a.instructionsList=Object(oa.a)(t.instructionsList).concat(Object(oa.a)(e.instructionsList.data)),a.page=t.page+1,a.next_page_url=e.instructionsList.next_page_url,a.showLoader=!1,a.showLoadingText=!1),a)}return e.orderUpdated,null}}]),t}(n.Component);var s_=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData")),a={};return"PRE_TREATMENT_INSTRUCTIONS_LIST"===e.SettingReducer.action&&(200!=e.SettingReducer.data.status?(rt.toast.error(t.global[e.SettingReducer.data.message]),a.showLoader=!1):a.instructionsList=e.SettingReducer.data.data),a},function(e){return Object(c.bindActionCreators)({fetchPretreatmentInstructions:pi,updateSortOrder:mi},e)})(a_),n_=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t,s=e.target,n="checkbox"===s.type?s.checked:s.value;a.setState((t={},Object(se.a)(t,e.target.name,n),Object(se.a)(t,"userChanged",!0),t))},a.handleEdit=function(){a.setState({isDisabled:!1,buttonChange:"Save"})},a.handleSubmit=function(e){a.setState({save:"new-blue-btn pull-right save display",edit:"new-blue-btn pull-right edit display",isDisabled:!0}),e.preventDefault();var t=!1;if(""===a.state.pre_treatment_subject||""==a.state.pre_treatment_subject.trim()?(a.setState({isDisabled:!1,subjectError:!0}),t=!0):a.state.pre_treatment_subject&&a.setState({isDisabled:!0,subjectError:!1}),""===a.state.pre_treatment_body||""==a.state.pre_treatment_body.trim()?(a.setState({isDisabled:!1,bodyError:!0}),t=!0):a.state.pre_treatment_body&&a.setState({isDisabled:!0,bodyError:!1}),!0!==t){var s={pre_treatment_subject:a.state.pre_treatment_subject,pre_treatment_body:a.state.pre_treatment_body};a.props.preEmailUpdate(s)}},a.handleCancel=function(){a.setState({pre_treatment_subject:a.state.emailList.pre_treatment_subject,pre_treatment_body:a.state.emailList.pre_treatment_body,isDisabled:!0})};var s=JSON.parse(localStorage.getItem("userData"));return a.state={pre_treatment_subject:"",pre_treatment_body:"",userChanged:!1,emailList:{},userId:s.user.id,isDisabled:!0,buttonChange:"Edit",save:"new-blue-btn pull-right save",edit:"new-blue-btn pull-right edit",showLoader:!1,subjectError:!1,bodyError:!1},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("languageData"));this.setState({post_treatment_email:e.settings.post_treatment_email,post_treatment_email_Subject:e.settings.post_treatment_email_Subject,post_treatment_email_body:e.settings.post_treatment_email_body,pre_treatment_email_header:e.settings.pre_treatment_email_header,clinic_Please_Wait:e.settings.clinic_Please_Wait}),this.setState({showLoader:!0}),this.props.getPreTreatmentEmail()}},{key:"render",value:function(){return i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(ps,null),i.a.createElement("div",{className:"setting-setion"},i.a.createElement("div",{className:"setting-container"},i.a.createElement("div",{className:"setting-title"},this.state.pre_treatment_email_header),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-6"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-12"},i.a.createElement("div",{className:"instruction-subtitle"},this.state.post_treatment_email),i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.post_treatment_email_Subject,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("input",{name:"pre_treatment_subject",id:"pre_treatment_subject",className:!0===this.state.subjectError?"setting-input-box setting-input-box-invalid":"setting-input-box",placeholder:"Subject",value:this.state.pre_treatment_subject,disabled:this.state.isDisabled,autoComplete:"off",onChange:this.handleInputChange,type:"text"}))),i.a.createElement("div",{className:"col-sm-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.post_treatment_email_body,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("textarea",{name:"pre_treatment_body",id:"pre_treatment_body",className:!0===this.state.bodyError?"setting-textarea-box m-h-300 setting-input-box-invalid":"setting-textarea-box m-h-300",placeholder:"Email body",disabled:this.state.isDisabled,onChange:this.handleInputChange,value:this.state.pre_treatment_body})))))),i.a.createElement("div",{className:"instruction-subtitle"},"Variables"),i.a.createElement("div",{className:"setting-variable"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-4 col-xs-12"},"Patient Name: ","{","{","PATIENTNAME","}","}"),i.a.createElement("div",{className:"col-md-4 col-xs-12"},"Provider Name: ","{","{","PROVIDERNAME","}","}"),i.a.createElement("div",{className:"col-md-4 col-xs-12"},"Appointment Date Time: ","{","{","APPOINTMENTDATETIME","}","}")),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-4 col-xs-12"},"Clinic Name:","{","{","CLINICNAME","}","}"),i.a.createElement("div",{className:"col-md-4 col-xs-12"},"Clinic Location:","{","{","CLINICLOCATION","}","}"),i.a.createElement("div",{className:"col-md-4 col-xs-12"},"Instructions Service:","{","{","INSTRUCTIONSSERVICE","}","}")),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-4 col-xs-12"},"Instructions Title:","{","{","INSTRUCTIONSTITLE","}","}"),i.a.createElement("div",{className:"col-md-4 col-xs-12"},"Instructions Description:","{","{","INSTRUCTIONSDESCRIPTION","}","}")))),1==this.state.isDisabled?i.a.createElement("div",{id:"post_edit_div",className:"footer-static"},i.a.createElement("button",{id:"edit_post",className:this.state.edit,onClick:this.handleEdit},"Edit")):i.a.createElement("div",{id:"post_save_div",className:"footer-static"},i.a.createElement("button",{id:"edit_post",className:this.state.save,onClick:this.handleSubmit},"Save"),i.a.createElement("button",{id:"post_cancel","data-url":"",className:"new-white-btn pull-right",onClick:this.handleCancel},"Cancel")),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.clinic_Please_Wait))))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return void 0!=e.showLoader&&0==e.showLoader?{showLoader:!1}:void 0!==e.emailList&&e.emailList!=t.emailList?{emailList:e.emailList,pre_treatment_subject:t.userChanged?t.pre_treatment_subject:e.emailList.pre_treatment_subject,pre_treatment_body:t.userChanged?t.pre_treatment_body:e.emailList.pre_treatment_body,showLoader:!1}:null}}]),t}(n.Component);var i_=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData")),a={};return"PRE_TREATMENT_EMAIL_LIST"===e.SettingReducer.action?200!=e.SettingReducer.data.status?(rt.toast.error(t.global[e.SettingReducer.data.message]),a.showLoader=!1):a.emailList=e.SettingReducer.data.data:"PRE_TREATMENT_EMAIL_UPDATE"===e.SettingReducer.action?200!=e.SettingReducer.data.status?(rt.toast.error(t.global[e.SettingReducer.data.message]),a.showLoader=!1):(rt.toast.success(t.global[e.SettingReducer.data.message]),a.emailList=e.SettingReducer.data.data):"FILE_UPLOADED"===e.SettingReducer.action&&(200!=e.SettingReducer.data.status?(a.tempFileName=e.SettingReducer.data.file_name,a.showLoader=!1):a.user_image=e.SettingReducer.data.data.file_name),a},function(e){return Object(c.bindActionCreators)({getPreTreatmentEmail:yi,preEmailUpdate:ci},e)})(n_),r_=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleSubmit=function(e){var t;e.preventDefault(),localStorage.setItem("sortOnly",!0);var s={params:{page:1,pagesize:a.state.pagesize,sortorder:a.state.sortorder,term:a.state.term,scopes:a.state.scopes}};a.setState((t={page:1,pagesize:a.state.pagesize,sortorder:"asc"==a.state.sortorder?"asc":"desc",startFresh:!0,loadMore:!0},Object(se.a)(t,"startFresh",!0),Object(se.a)(t,"next_page_url",""),Object(se.a)(t,"consentsList",[]),t)),a.setState({showLoader:!0}),a.props.fetchConsents(s)},a.loadMore=function(){localStorage.setItem("sortOnly",!1),a.setState({loadMore:!0,startFresh:!0,showLoader:!0,showLoadingText:!0});var e={params:{page:a.state.page,pagesize:a.state.pagesize,sortorder:a.state.sortorder,term:a.state.term}};a.setState({showLoader:!0}),a.props.fetchConsents(e)},a.consentEdit=function(e){a.props.history.push("/settings/consent/".concat(e,"/edit"))},a.handleInputChange=function(e){var t=e.target,s="checkbox"===t.type?t.checked:t.value;a.setState(Object(se.a)({},e.target.name,s))};JSON.parse(localStorage.getItem("userData"));return a.state={consentsList:[],page:1,pagesize:15,sortorder:"asc",term:"",hasMoreItems:!0,next_page_url:"",showLoadingText:!1,loadMore:!0,startFresh:!0,showLoader:!1},a.props.exportEmptyData({}),window.onscroll=function(){var e=parseInt(Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop));window.innerHeight+e===document.documentElement.offsetHeight&&null!=a.state.next_page_url&&a.loadMore()},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e={params:{page:this.state.page,pagesize:this.state.pagesize,sortorder:"asc",term:this.state.term,scopes:this.state.scopes}},t=JSON.parse(localStorage.getItem("languageData"));this.setState({consents_header:t.settings.consents_header,consents_added_by:t.settings.consents_added_by,create_consent_button:t.settings.create_consent_button,clinic_Please_Wait:t.settings.clinic_Please_Wait,loading_please_wait_text:t.global.loading_please_wait_text,clinic_No_Record_Found:t.settings.clinic_No_Record_Found,clinics_Search:t.settings.clinics_Search}),this.setState({showLoader:!0}),this.props.fetchConsents(e)}},{key:"componentWillUnmount",value:function(){this.props.exportEmptyData({})}},{key:"render",value:function(){return i.a.createElement("div",{className:"main protected"},i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(ps,null),i.a.createElement("div",{className:"setting-setion"},i.a.createElement("div",{className:"setting-search-outer"},i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("div",{className:"search-bg col-xs-5"},i.a.createElement("i",{className:"fas fa-search"}),i.a.createElement("input",{className:"setting-search-input search-key","data-url":"/settings/questionnaires",name:"term",placeholder:this.state.clinics_Search,autoComplete:"off",value:this.state.term,onChange:this.handleInputChange}))),i.a.createElement(me.a,{to:"/settings/consent/create",className:"new-blue-btn pull-right"},this.state.create_consent_button)),i.a.createElement("div",{className:"table-responsive"},i.a.createElement("table",{className:"table-updated setting-table"},i.a.createElement("thead",{className:"table-updated-thead"},i.a.createElement("tr",null,i.a.createElement("th",{className:"col-xs-8 table-updated-th sorting"},this.state.consents_header),i.a.createElement("th",{className:"col-xs-4 table-updated-th sorting text-center"},this.state.consents_added_by))),i.a.createElement(xg,{sortUpdate:this.updateSortOrder,list:this.state.consentsList,module:"Consent",editUrl:this.consentEdit}),i.a.createElement("div",{className:this.state.consentsList?"no-record no-display":"no-record"})," ",this.state.consentsList.length<=0&&!1===this.state.showLoader&&i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",{colspan:"2",className:"table-updated-td"},i.a.createElement("div",{className:"no-record no-float text-center"},"  ",this.state.clinic_No_Record_Found)))))),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.clinic_Please_Wait))),i.a.createElement("div",{className:this.state.showLoadingText?"loading-please-wait no-margin-top":"loading-please-wait no-margin-top no-display "},this.state.loading_please_wait_text)))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(void 0!=e.showLoader&&0==e.showLoader)return{showLoader:!1};if(void 0!=e.consentsList&&e.consentsList.data.next_page_url!==t.next_page_url){var a={};return null==t.next_page_url?(localStorage.setItem("sortOnly",!1),a.next_page_url=null,a):(0==t.consentsList.length&&1==t.startFresh?"false"==localStorage.getItem("sortOnly")?(a.consentsList=e.consentsList.data.data,null!=e.consentsList.data.next_page_url?a.page=t.page+1:a.next_page_url=e.consentsList.data.next_page_url,a.startFresh=!1,a.showLoader=!1,a.showLoadingText=!1,localStorage.setItem("showLoader",!1)):localStorage.setItem("sortOnly",!1):t.consentsList!=e.consentsList.data.data&&0!=t.consentsList.length&&(a.consentsList=Object(oa.a)(t.consentsList).concat(Object(oa.a)(e.consentsList.data.data)),a.page=t.page+1,a.next_page_url=e.consentsList.data.next_page_url,localStorage.setItem("showLoader",!1),a.showLoader=!1,a.showLoadingText=!1),a)}return null}}]),t}(n.Component);var o_=Object(Z.b)(function(e){JSON.parse(localStorage.getItem("languageData"));var t={};return"CONSENTS_LIST"===e.SettingReducer.action&&(200!=e.SettingReducer.data.status?t.showLoader=!1:t.consentsList=e.SettingReducer.data),"CLINIC_SEARCH"===e.SettingReducer.action&&(200!=e.SettingReducer.data.status?t.showLoader=!1:t.clinicSearch=e.SettingReducer.data.data),"SELECTED_CLINIC_LIST"===e.SettingReducer.action&&(200!=e.SettingReducer.data.status?t.showLoader=!1:t.clinicSearch=e.SettingReducer),t},function(e){return Object(c.bindActionCreators)({fetchConsents:Li,exportEmptyData:br},e)})(r_),l_=a(1943),c_=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t,s=e.target,n="checkbox"===s.type?s.checked:s.value;a.setState((t={},Object(se.a)(t,e.target.name,n),Object(se.a)(t,"userChanged",!0),t))},a.showDeleteModal=function(){a.setState({showModal:!0})},a.dismissModal=function(){a.setState({showModal:!1})},a.deleteConsent=function(){a.setState({showLoader:!0,hideBtns:!0}),a.dismissModal();var e=a.state.id;a.props.deleteConsent(e)},a.handleSubmit=function(e){var t=!1;if(a.setState({consent_name_Error:!1,consent_large_description_Error:!1,consent_small_Description_Error:!1}),void 0!==typeof a.state.consent_name&&null!==a.state.consent_name&&""!==a.state.consent_name&&""!=a.state.consent_name.trim()||(a.setState({consent_name_Error:!0}),t=!0),void 0!==typeof a.state.consent_large_description&&null!==a.state.consent_large_description&&""!==a.state.consent_large_description&&""!=a.state.consent_large_description.trim()||(a.setState({consent_large_description_Error:!0}),t=!0),!0!==t){var s=a.props.match.params.id,n={consent_name:a.state.consent_name,consent_large_description:a.state.consent_large_description};a.setState({consent_name:a.state.consent_name,consent_large_description:a.state.consent_large_description,loadMore:!0,startFresh:!0,next_page_url:"",consentData:[],showLoader:!0}),s?a.props.updateSelectedConsent(n,s):a.props.createConsent(n)}};var s=JSON.parse(localStorage.getItem("userData"));return a.state={consent_name:"",consent_large_description:"",consent_small_description:"",consentData:{},userId:s.user.id,id:a.props.match.params.id,page:1,pagesize:15,sortorder:"asc",term:"",hasMoreItems:!0,next_page_url:"",loadMore:!0,startFresh:!0,showLoader:!1,scopes:"business_hours",user_changed:!1,hideBtns:!1,showModal:!1},window.onscroll=function(){return!1},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){window.onscroll=function(){return!1};var e=this.props.match.params.id;e&&this.setState({consentId:e});var t=JSON.parse(localStorage.getItem("languageData"));this.setState({create_edit_consent_name:t.settings.create_edit_consent_name,edit_consent:t.settings.edit_consent,add_consent:t.settings.add_consent,settings_add_consent:t.settings.settings_add_consent,delete_confirmation:t.global.delete_confirmation,create_edit_consent_body:t.settings.create_edit_consent_body,consent_delete_warning:t.settings.consent_delete_warning,yes_option:t.settings.yes_option,no_option:t.settings.no_option});e?(this.setState({showLoader:!0}),this.props.fetchSelectedConsent({params:{}},e)):this.props.exportEmptyData({})}},{key:"render",value:function(){return i.a.createElement("div",{className:"main protected"},i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(ps,null),i.a.createElement("div",{className:"setting-setion"},i.a.createElement("div",{className:"setting-container"},i.a.createElement("div",{className:"setting-title m-b-40"},this.state.consentId?this.state.edit_consent:this.state.settings_add_consent,i.a.createElement(me.a,{to:"/settings/consents",className:"pull-right cancelAction"},i.a.createElement("img",{src:"../../../../images/close.png"}))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.create_edit_consent_name,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:"consent_name",required:"required",className:!0===this.state.consent_name_Error?"consent_name setting-input-box-invalid setting-input-box":"consent_name setting-input-box",id:"consent_name",placeholder:"Consent Name",maxLength:255,type:"text",autoComplete:"off",onChange:this.handleInputChange,value:this.state.consent_name})))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"new-field-label"},this.state.create_edit_consent_body,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("textarea",{name:"consent_large_description",id:"large_desc",className:!0===this.state.consent_large_description_Error?"col-sm-9 setting-textarea-box setting-input-box-invalid":"col-sm-9 setting-textarea-box",placeholder:"Description",style:{padding:"0px",height:"300px"},rows:20,cols:30,onChange:this.handleInputChange,value:this.state.consent_large_description})))),i.a.createElement("div",{className:"footer-static"},void 0!=this.props.match.params.id&&i.a.createElement("input",{className:"new-red-btn pull-left confirm-model",type:"button",value:"Delete",onClick:this.showDeleteModal}),!this.state.hideBtns&&i.a.createElement("button",{type:"button",id:"save_clinic",className:"new-blue-btn pull-right",onClick:this.handleSubmit},"Save"),!this.state.hideBtns&&i.a.createElement(me.a,{to:"/settings/consents",className:"new-white-btn pull-right cancelAction"},"Cancel")),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.clinic_Please_Wait))),i.a.createElement("div",{className:this.state.showModal?"overlay":""}),i.a.createElement("div",{id:"filterModal",role:"dialog",className:this.state.showModal?"modal fade in displayBlock":"modal fade"},i.a.createElement("div",{className:"modal-dialog"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal",onClick:this.dismissModal},"\xd7"),i.a.createElement("h4",{className:"modal-title",id:"model_title"},this.state.delete_confirmation,this.state.showModal)),i.a.createElement("div",{id:"errorwindow",className:"modal-body add-patient-form filter-patient"},this.state.consent_delete_warning),i.a.createElement("div",{className:"modal-footer"},i.a.createElement("div",{className:"col-md-12 text-left",id:"footer-btn"},i.a.createElement("button",{type:"button",className:"btn  logout pull-right","data-dismiss":"modal",onClick:this.dismissModal},this.state.no_option),i.a.createElement("button",{type:"button",className:"btn btn-success pull-right m-r-10","data-dismiss":"modal",onClick:this.deleteConsent},this.state.yes_option))))))))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return void 0!=e.showLoader&&0==e.showLoader?{showLoader:!1}:void 0!==e.consentData&&200===e.consentData.status?{consent_name:t.userChanged?t.consent_name:e.consentData.data.consent_name,consent_small_description:t.userChanged?t.consent_small_description:e.consentData.data.consent_small_description,consent_large_description:t.userChanged?t.consent_large_description:e.consentData.data.consent_large_description,showLoader:!1}:(void 0!=e.redirect&&1==e.redirect&&rt.toast.success(e.message,{onClose:function(){e.history.push("/settings/consents")}}),null)}}]),t}(n.Component);var d_=Object(l_.a)(Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData")),a={};return"SELECTED_CONSENTS_LIST"===e.SettingReducer.action?200!=e.SettingReducer.data.status?(rt.toast.error(t.global[e.SettingReducer.data.message]),a.showLoader=!1):a.consentData=e.SettingReducer.data:"CREATE_CONSENTS"===e.SettingReducer.action?200!=e.SettingReducer.data.status?a.showLoader=!1:(a.message=t.global[e.SettingReducer.data.message],a.redirect=!0):"UPDATE_SELECTED_CONSENTS"===e.SettingReducer.action?200!=e.SettingReducer.data.status?a.showLoader=!1:(a.redirect=!0,a.message=t.global[e.SettingReducer.data.message]):"CONSENT_DELETED"===e.SettingReducer.action&&(200!=e.SettingReducer.data.status?a.showLoader=!1:(a.redirect=!0,a.message=t.global[e.SettingReducer.data.message])),"EMPTY_DATA"===e.SettingReducer.action?{}:a},function(e){return Object(c.bindActionCreators)({fetchSelectedConsent:Oi,createConsent:Ai,updateSelectedConsent:Ti,deleteConsent:Ii,exportEmptyData:br},e)})(c_)),m_=a(191),u_=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t,s=e.target,n="checkbox"===s.type?s.checked:s.value;a.setState((t={},Object(se.a)(t,e.target.name,n),Object(se.a)(t,"userChanged",!0),t))},a.showDeleteModal=function(){a.setState({showModal:!0})},a.dismissModal=function(){a.setState({showModal:!1})},a.deleteSelectedPosttreatmentInstructions=function(){a.setState({showLoader:!0,hideBtns:!0}),a.dismissModal();var e=a.props.match.params.id;a.props.deleteSelectedPosttreatmentInstructions(e)},a.handleSubmit=function(e){var t=!1,s=a.state.days_after;if(a.setState({title_Error:!1,description_Error:!1,days_after_Error:!1}),void 0!==typeof a.state.title&&null!==a.state.title&&""!==a.state.title&&""!=a.state.title.trim()||(a.setState({title_Error:!0}),t=!0),void 0!==typeof a.state.days_after&&null!==a.state.days_after&&""!==a.state.days_after&&"PleaseSelect"!==a.state.days_after||(a.setState({days_after_Error:!0}),t=!0),void 0!==typeof a.state.description&&null!==a.state.description&&""!==a.state.description&&""!=a.state.description.trim()||(a.setState({description_Error:!0}),t=!0),!0!==t){var n={},i=a.props.match.params.id;"custom"!==s?(n.title=a.state.title,n.description=a.state.description,n.days_after=a.state.days_after):(n.title=a.state.title,n.description=a.state.description,n.days_after=a.state.scheduled_after,a.setState({days_after:a.state.scheduled_after})),a.setState({title:a.state.title,description:a.state.description,days_after:a.state.days_after,loadMore:!0,startFresh:!0,next_page_url:"",postData:[],showLoader:!0}),i?a.props.updateSelectedPosttreatmentInstructions(n,i):a.props.createPosttreatmentInstructions(n)}},a.handleEditorChange=function(e){a.setState({description:e.target.getContent(),userChanged:!0})},a.handlePrintSelected=function(){var e=a.state.title,t=a.state.description,s=window.open("",e);s.document.write("<html><head><title>"+e+"</title>"),s.document.write("<style>.title {width: 100%; float:left; text-align: center; font-size:25px;margin-bottom:20px!important; } .printClass{margin-top: 50px!important;clear:both;}</style>"),s.document.write("</head><body>"),s.document.write('<p><b class="title">'+e+"</b></p>"),s.document.write('<div class="printClass">'+t+"</div>"),s.document.write("</body></html>"),s.document.close(),s.focus(),s.print(),s.close()};var s=JSON.parse(localStorage.getItem("userData")),n=JSON.parse(localStorage.getItem("languageData"));return a.state={postData:{},userId:s.user.id,id:a.props.match.params.id,page:1,pagesize:15,sortorder:"asc",term:"",hasMoreItems:!0,next_page_url:"",loadMore:!0,startFresh:!0,showLoader:!1,scopes:"business_hours",user_changed:!1,hideBtns:!1,showModal:!1,settingsLang:n.settings,title:"",description:"",scheduled_after:"",days_after:"PleaseSelect",days_after_enable:"col-md-2 col-sm-3 col-xs-12 daysValue",days_after_disable:"col-md-2 col-sm-3 col-xs-12 daysValue no-display",defaultDays:[1,2,3,4,5,6,7,14,21,30,60]},window.onscroll=function(){return!1},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.onscroll=function(){return!1};var t=this.props.match.params.id;if(t&&this.setState({postId:t}),localStorage.getItem("languageData")){var a=JSON.parse(localStorage.getItem("languageData"));this.setState({edit_post_instructions:a.settings.edit_post_instructions,pre_instructions_title:a.settings.pre_instructions_title,post_instructions_sendAfter:a.settings.post_instructions_sendAfter,post_create_instructions:a.settings.post_create_instructions})}else Q.a.get(Ee.API_URL+"getLanguageText/1/settings").then(function(t){var a=t.data.data;localStorage.setItem("languageData",JSON.stringify(a)),e.setState({edit_post_instructions:a.settings.edit_post_instructions,pre_instructions_title:a.settings.pre_instructions_title,post_instructions_sendAfter:a.settings.post_instructions_sendAfter,post_create_instructions:a.settings.post_create_instructions})}).catch(function(e){});t?(this.setState({showLoader:!0}),this.props.fetchSelectedPosttreatmentInstructions({params:{}},t)):this.props.exportEmptyData({})}},{key:"render",value:function(){return i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(ps,null),i.a.createElement("div",{className:"setting-setion"},i.a.createElement("div",{className:"setting-container"},i.a.createElement("div",{className:"setting-title m-b-40"},this.state.postId?this.state.edit_post_instructions:this.state.post_create_instructions,i.a.createElement(me.a,{to:"/settings/post-treatment-instructions",className:"pull-right cancelAction"},i.a.createElement("img",{src:"/images/close.png"}))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-8 col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer no-ques-margin"},i.a.createElement("input",{type:"hidden",name:"data[PreTreatmentInstruction][id]",defaultValue:2,id:"PreTreatmentInstructionId"}),"     ",i.a.createElement("div",{className:"new-field-label"},this.state.pre_instructions_title,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer",id:"divToPrint"},i.a.createElement("input",{name:"title",id:"title",onChange:this.handleInputChange,className:!0===this.state.title_Error?"setting-input-box field_error":"setting-input-box",autoComplete:"off",placeholder:"Title",maxLength:255,type:"text",value:this.state.title}),"     "))),i.a.createElement("div",{className:"col-md-2 col-sm-3 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer no-ques-margin"},i.a.createElement("div",{className:"new-field-label"},this.state.post_instructions_sendAfter,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("select",{name:"days_after",value:this.state.days_after,onChange:this.handleInputChange,"data-placeholder":"Select day duration",id:"beforeDuration",className:!0===this.state.days_after_Error?"setting-select-box field_error":"setting-select-box"},i.a.createElement("option",{value:"PleaseSelect"},this.state.settingsLang.settings_please_select),i.a.createElement("option",{value:1},this.state.settingsLang.Edit_Appointment_One_Day),i.a.createElement("option",{value:2},this.state.settingsLang.Edit_Appointment_Two_Day),i.a.createElement("option",{value:3},this.state.settingsLang.Edit_Appointment_Three_Day),i.a.createElement("option",{value:4},this.state.settingsLang.Edit_Appointment_Four_Day),i.a.createElement("option",{value:5},this.state.settingsLang.Edit_Appointment_Five_Day),i.a.createElement("option",{value:6},this.state.settingsLang.Edit_Appointment_Six_Day),i.a.createElement("option",{value:7},this.state.settingsLang.Edit_Appointment_One_Week),i.a.createElement("option",{value:14},this.state.settingsLang.Edit_Appointment_Two_Weeks),i.a.createElement("option",{value:21},this.state.settingsLang.Edit_Appointment_Three_Weeks),i.a.createElement("option",{value:30},"1 ",this.state.settingsLang.Edit_Appointment_Reminder_Month),i.a.createElement("option",{value:60},"2 ",this.state.settingsLang.Edit_Appointment_Reminder_Month),i.a.createElement("option",{value:"custom"},this.state.settingsLang.settings_custom))))),i.a.createElement("div",{className:"custom"===this.state.days_after?this.state.days_after_enable:this.state.days_after_disable},i.a.createElement("div",{className:"new-field-label"},"Days",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("input",{name:"scheduled_after",className:"setting-input-box daysValue",placeholder:"Days",type:"text",onChange:this.handleInputChange,autoComplete:"off",value:this.state.scheduled_after,id:"customdaypost"})),i.a.createElement("div",{className:"col-xs-12 textarea-img m-t-40",id:"divToPrint"},i.a.createElement("div",{className:this.state.description_Error?"editor_textarea field_error":"editor_textarea",id:"divToPrint"},i.a.createElement(m_.a,{value:this.state.description?this.state.description:"",init:{theme:"modern",menu:{},plugins:["autolink link  lists hr anchor pagebreak","nonbreaking","textcolor","placeholder"],toolbar:"bold italic underline | alignleft aligncenter alignright alignjustify | bullist numlist | link | hr",placeholder:"Placeholder text..."},onChange:this.handleEditorChange,id:"descriptionpost",placeholder:"Description"}))))),i.a.createElement("div",{className:"footer-static"},this.state.postId?i.a.createElement("input",{className:"new-red-btn pull-left confirm-model",onClick:this.showDeleteModal,"data-message":"Are you sure you want to delete this Pre Treatment Instruction?","data-confirm-url":"/pre_treatment_instructions/delete_pre_treatment_instruction/2",type:"submit",value:"Delete"}):"",i.a.createElement("div",{className:this.state.showModal?"overlay":""}),i.a.createElement("div",{id:"filterModal",role:"dialog",className:this.state.showModal?"modal fade in displayBlock":"modal fade"},i.a.createElement("div",{className:"modal-dialog"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal",onClick:this.dismissModal},"\xd7"),i.a.createElement("h4",{className:"modal-title",id:"model_title"},this.state.settingsLang.settings_Confirmation_required,this.state.showModal)),i.a.createElement("div",{id:"errorwindow",className:"modal-body add-patient-form filter-patient"},this.state.settingsLang.settings_r_u_want_to_delete),i.a.createElement("div",{className:"modal-footer"},i.a.createElement("div",{className:"col-md-12 text-left",id:"footer-btn"},i.a.createElement("button",{type:"button",className:"btn  logout pull-right","data-dismiss":"modal",onClick:this.dismissModal},"No"),i.a.createElement("button",{type:"button",className:"btn btn-success pull-right m-r-10","data-dismiss":"modal",onClick:this.deleteSelectedPosttreatmentInstructions},"Yes")))))),i.a.createElement("input",{className:"new-blue-btn pull-right",id:"save_pre",onClick:this.handlePrintSelected,type:"submit",value:"Print"}),i.a.createElement("input",{className:"new-blue-btn pull-right",id:"save_pre",onClick:this.handleSubmit,type:"submit",value:"Save"}),i.a.createElement(me.a,{to:"/settings/post-treatment-instructions",className:"new-white-btn pull-right cancelAction"},"Cancel")),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.clinic_Please_Wait))))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(void 0!=e.showLoader&&0==e.showLoader)return{showLoader:!1};if(void 0!==e.postData&&200===e.postData.status&&e.postData.data.description!==t.description){var a={};return t.userChanged||-1!=t.defaultDays.indexOf(parseInt(e.postData.data.days_after))?a.days_after=t.userChanged?t.days_after:e.postData.data.days_after:(a.days_after="custom",a.scheduled_after=e.postData.data.days_after),a.title=t.userChanged?t.title:e.postData.data.title,a.description=t.userChanged?t.description:e.postData.data.description,a.showLoader=!1,a}return void 0!=e.redirect&&1==e.redirect&&rt.toast.success(e.message,{onClose:function(){e.history.push("/settings/post-treatment-instructions")}}),void 0!==e.showLoader&&!1===e.showLoader?{showLoader:!1}:null}}]),t}(n.Component);var p_=Object(l_.a)(Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData")),a={};return"SELECTED_POST_TREATMENT_INSTRUCTIONS_LIST"===e.SettingReducer.action?200!=e.SettingReducer.data.status?(rt.toast.error(t.global[e.SettingReducer.data.message]),a.showLoader=!1):a.postData=e.SettingReducer.data:"CREATE_POST_TREATMENT_INSTRUCTIONS_LIST"===e.SettingReducer.action?201!=e.SettingReducer.data.status?(rt.toast.error(t.global[e.SettingReducer.data.message]),a.showLoader=!1):(a.redirect=!0,a.message=t.global[e.SettingReducer.data.message]):"UPDATE_POST_TREATMENT_INSTRUCTIONS_LIST"===e.SettingReducer.action?200!=e.SettingReducer.data.status?(rt.toast.error(t.global[e.SettingReducer.data.message]),a.showLoader=!1):(a.redirect=!0,a.message=t.global[e.SettingReducer.data.message]):"DELETE_POST_TREATMENT_INSTRUCTIONS_LIST"===e.SettingReducer.action&&(200!=e.SettingReducer.data.status?(rt.toast.error(t.global[e.SettingReducer.data.message]),a.showLoader=!1):(a.redirect=!0,a.message=t.global[e.SettingReducer.data.message])),"EMPTY_DATA"===e.SettingReducer.action?{}:a},function(e){return Object(c.bindActionCreators)({fetchSelectedPosttreatmentInstructions:Ki,createPosttreatmentInstructions:Qi,updateSelectedPosttreatmentInstructions:Xi,deleteSelectedPosttreatmentInstructions:ar,exportEmptyData:br},e)})(u_)),h_=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t,s=e.target,n="checkbox"===s.type?s.checked:s.value;a.setState((t={},Object(se.a)(t,e.target.name,n),Object(se.a)(t,"userChanged",!0),t))},a.showDeleteModal=function(){a.setState({showModal:!0})},a.dismissModal=function(){a.setState({showModal:!1})},a.deleteSelectedPretreatmentInstructions=function(){a.setState({showLoader:!0,hideBtns:!0}),a.dismissModal();var e=a.props.match.params.id;a.props.deleteSelectedPretreatmentInstructions(e)},a.handleSubmit=function(e){var t=!1;a.state.days_before;if(a.setState({title_Error:!1,descriptionError:!1,days_before_Error:!1}),void 0!==typeof a.state.title&&null!==a.state.title&&""!==a.state.title&&""!=a.state.title.trim()||(a.setState({title_Error:!0}),t=!0),void 0!==typeof a.state.description&&null!==a.state.description&&""!==a.state.description&&""!=a.state.description.trim()||(a.setState({descriptionError:!0}),t=!0),!0!==t){var s=a.props.match.params.id,n={title:a.state.title,description:a.state.description};a.props.match.params.id;a.setState({title:a.state.title,description:a.state.description,days_before:a.state.days_before,loadMore:!0,startFresh:!0,next_page_url:"",preData:[],showLoader:!0}),s?a.props.updateSelectedPretreatmentInstructions(n,s):a.props.createPretreatmentInstructions(n)}},a.handleEditorChange=function(e){a.setState({description:e,userChanged:!0})},a.handlePrintSelected=function(){var e=a.state.title,t=a.state.description,s=window.open("",e);s.document.write("<html><head><title>"+e+"</title>"),s.document.write("<style>.title {width: 100%; float:left; text-align: center; font-size:25px;margin-bottom:20px!important; } .printClass{margin-top: 50px!important;clear:both;}</style>"),s.document.write("</head><body>"),s.document.write('<p><b class="title">'+e+"</b></p>"),s.document.write('<div class="printClass">'+t+"</div>"),s.document.write("</body></html>"),s.document.close(),s.focus(),s.print(),s.close()};var s=JSON.parse(localStorage.getItem("userData"));return a.state={preData:{},userId:s.user.id,id:a.props.match.params.id,page:1,pagesize:15,sortorder:"asc",term:"",hasMoreItems:!0,next_page_url:"",loadMore:!0,startFresh:!0,showLoader:!1,scopes:"business_hours",user_changed:!1,hideBtns:!1,showModal:!1,title:"",description:"",days_before:"PleaseSelect",descriptionError:!1,days_before_enable:"col-md-2 col-sm-3 col-xs-12 daysValue",days_before_disable:"col-md-2 col-sm-3 col-xs-12 daysValue no-display",scheduled_after:""},window.onscroll=function(){return!1},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.onscroll=function(){return!1};var t=this.props.match.params.id;if(t&&this.setState({preId:t}),localStorage.getItem("languageData")){var a=JSON.parse(localStorage.getItem("languageData"));this.setState({edit_pre_instruction:a.settings.edit_pre_instruction,pre_instructions_title:a.settings.pre_instructions_title,pre_instructions_sendAfter:a.settings.pre_instructions_sendAfter,pre_instructions_create:a.settings.pre_instructions_create,pre_instructions_sendBefore:a.settings.pre_instructions_sendBefore,clinic_Please_Wait:a.settings.clinic_Please_Wait})}else Q.a.get(Ee.API_URL+"getLanguageText/1/settings").then(function(t){var a=t.data.data;localStorage.setItem("languageData",JSON.stringify(a)),e.setState({edit_pre_instruction:a.settings.edit_pre_instruction,pre_instructions_title:a.settings.pre_instructions_title,pre_instructions_sendAfter:a.settings.pre_instructions_sendAfter,pre_instructions_create:a.settings.pre_instructions_create,pre_instructions_sendBefore:a.settings.pre_instructions_sendBefore})}).catch(function(e){});t?(this.setState({showLoader:!0}),this.props.fetchSelectedPretreatmentInstructions({params:{}},t)):this.props.exportEmptyData({})}},{key:"render",value:function(){return i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(ps,null),i.a.createElement("div",{className:"setting-setion"},i.a.createElement("div",{className:"setting-container"},i.a.createElement("div",{className:"setting-title m-b-40"},this.state.preId?this.state.edit_pre_instruction:this.state.pre_instructions_create,i.a.createElement(me.a,{to:"/settings/pre-treatment-instructions","data-url":"/settings/pre_treatment_instructions",className:"pull-right cancelAction"},i.a.createElement("img",{src:"/images/close.png"}))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-8 col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer no-ques-margin"},i.a.createElement("input",{type:"hidden",name:"data[PreTreatmentInstruction][id]",defaultValue:2,id:"PreTreatmentInstructionId"}),"     ",i.a.createElement("div",{className:"new-field-label"},this.state.pre_instructions_title,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:"title",id:"title",onChange:this.handleInputChange,className:!0===this.state.title_Error?"setting-input-box field_error":"setting-input-box",placeholder:"Title",maxLength:255,type:"text",autoComplete:"off",value:this.state.title}),"     "))),i.a.createElement("div",{className:"custom"===this.state.days_before?this.state.days_before_enable:this.state.days_before_disable},i.a.createElement("div",{className:"new-field-label"},"Days",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("input",{name:"scheduled_after",className:"setting-input-box daysValue",placeholder:"Days",type:"text",onChange:this.handleInputChange,autoComplete:"off",value:this.state.scheduled_after,id:"customdaypost"})),i.a.createElement("div",{className:"col-xs-12 textarea-img m-t-40"},i.a.createElement("div",{className:this.state.descriptionError?"editor_textarea field_error":"editor_textarea",id:"divToPrint"},i.a.createElement(m_.a,{value:this.state.description?this.state.description:"",init:{theme:"modern",menu:{},plugins:["autolink link  lists hr anchor pagebreak","nonbreaking","textcolor","placeholder"],toolbar:"bold italic underline | alignleft aligncenter alignright alignjustify | bullist numlist | link | hr"},onEditorChange:this.handleEditorChange,id:"descriptionpost",placeholder:"Description"}))))),i.a.createElement("div",{className:"footer-static"},this.state.preId?i.a.createElement("input",{className:"new-red-btn pull-left confirm-model",onClick:this.showDeleteModal,"data-message":"Are you sure you want to delete this Pre Treatment Instruction?","data-confirm-url":"/pre_treatment_instructions/delete_pre_treatment_instruction/2",type:"submit",value:"Delete"}):"",i.a.createElement("div",{className:this.state.showModal?"overlay":""}),i.a.createElement("div",{id:"filterModal",role:"dialog",className:this.state.showModal?"modal fade in displayBlock":"modal fade"},i.a.createElement("div",{className:"modal-dialog"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal",onClick:this.dismissModal},"\xd7"),i.a.createElement("h4",{className:"modal-title",id:"model_title"},"Confirmation required!",this.state.showModal)),i.a.createElement("div",{id:"errorwindow",className:"modal-body add-patient-form filter-patient"},"Are you sure you want to delete this Pre Treatment Instruction?"),i.a.createElement("div",{className:"modal-footer"},i.a.createElement("div",{className:"col-md-12 text-left",id:"footer-btn"},i.a.createElement("button",{type:"button",className:"btn  logout pull-right","data-dismiss":"modal",onClick:this.dismissModal},"No"),i.a.createElement("button",{type:"button",className:"btn btn-success pull-right m-r-10","data-dismiss":"modal",onClick:this.deleteSelectedPretreatmentInstructions},"Yes")))))),i.a.createElement("input",{className:"new-blue-btn pull-right",id:"save_pre",onClick:this.handlePrintSelected,type:"submit",value:"Print"}),i.a.createElement("input",{className:"new-blue-btn pull-right",id:"save_pre",onClick:this.handleSubmit,type:"submit",value:"Save"}),i.a.createElement(me.a,{to:"/settings/pre-treatment-instructions",className:"new-white-btn pull-right cancelAction"},"Cancel")),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.clinic_Please_Wait))))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return void 0!=e.showLoader&&0==e.showLoader?{showLoader:!1}:void 0!==e.preData&&200===e.preData.status?{title:t.userChanged?t.title:e.preData.data.title,description:t.userChanged?t.description:e.preData.data.description,days_before:t.userChanged?t.days_before:e.preData.data.days_before,showLoader:!1}:(void 0!=e.redirect&&1==e.redirect&&rt.toast.success(e.message,{onClose:function(){e.history.push("/settings/pre-treatment-instructions")}}),null)}}]),t}(n.Component);var g_=Object(l_.a)(Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData")),a={};return"SELECTED_PRE_TREATMENT_INSTRUCTIONS_LIST"===e.SettingReducer.action?200!=e.SettingReducer.data.status?(rt.toast.error(t.global[e.SettingReducer.data.message]),a.showLoader=!1):a.preData=e.SettingReducer.data:"CREATE_PRE_TREATMENT_INSTRUCTIONS_LIST"===e.SettingReducer.action?201!=e.SettingReducer.data.status?(rt.toast.error(t.global[e.SettingReducer.data.message]),a.showLoader=!1):(a.redirect=!0,a.message=t.global[e.SettingReducer.data.message]):"UPDATE_PRE_TREATMENT_INSTRUCTIONS_LIST"===e.SettingReducer.action?200!=e.SettingReducer.data.status?(rt.toast.error(t.global[e.SettingReducer.data.message]),a.showLoader=!1):(a.redirect=!0,a.message=t.global[e.SettingReducer.data.message]):"DELETE_PRE_TREATMENT_INSTRUCTIONS_LIST"===e.SettingReducer.action&&(200!=e.SettingReducer.data.status?(rt.toast.error(t.global[e.SettingReducer.data.message]),a.showLoader=!1):(a.redirect=!0,a.message=t.global[e.SettingReducer.data.message])),"EMPTY_DATA"===e.SettingReducer.action?{}:a},function(e){return Object(c.bindActionCreators)({fetchSelectedPretreatmentInstructions:$i,createPretreatmentInstructions:Zi,updateSelectedPretreatmentInstructions:er,deleteSelectedPretreatmentInstructions:tr,exportEmptyData:br},e)})(h_)),__=function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).componentDidMount=function(){},a.addLogicJump=function(e){a.props.onChange()},a.deleteLogicJump=function(e){var t=e.target.dataset.id;a.props.deleteLogicJump(t)},a.handleInputChange=function(e){var t=e.target,s="checkbox"===t.type?t.checked:t.value,n=e.target.name;a.setState(Object(se.a)({},e.target.name,s)),a.props.handleChildChange(n,s)},a.state={},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"if-else-outer"},this.props.questions.length>0&&this.props.questions.map(function(t,a){return i.a.createElement("div",{key:"logic-"+e.props.qid+"-"+a},i.a.createElement("div",{className:"if-else-section right-field-outer logicJumpInnerBox"},i.a.createElement("a",{onClick:e.deleteLogicJump,"data-logicindex":a,className:"icon-Close close-jump"}),i.a.createElement("div",{className:"table logic-row"},i.a.createElement("div",{className:"table-cell jump-label"},"If Selected"),i.a.createElement("div",{className:"table-cell"},i.a.createElement("select",{className:e.props.answersError[e.props.qid][a]?"jump-select-box logicAnswer field-error":"jump-select-box logicAnswer",onChange:e.handleInputChange,name:"questions-"+e.props.qid+"-"+a,value:e.props.questions[a]},i.a.createElement("option",{value:""},"Select"),"yesno"==e.props.type&&i.a.createElement(i.a.Fragment,null,i.a.createElement("option",{value:"Yes"},"Yes"),i.a.createElement("option",{value:"No"},"No")),"scale"==e.props.type&&i.a.createElement(i.a.Fragment,null,i.a.createElement("option",{value:1},"1"),i.a.createElement("option",{value:2},"2"),i.a.createElement("option",{value:3},"3"),i.a.createElement("option",{value:4},"4"),i.a.createElement("option",{value:5},"5"),i.a.createElement("option",{value:6},"6"),i.a.createElement("option",{value:7},"7"),i.a.createElement("option",{value:8},"8"),i.a.createElement("option",{value:9},"9"),i.a.createElement("option",{value:10},"10")),"single"==e.props.type&&e.props.options.length>0&&e.props.options.map(function(e,t){return i.a.createElement("option",{key:t,value:t},e)}))),i.a.createElement("div",{className:"jump-label-2"},"Choose one Answer")),i.a.createElement("div",{className:"table logic-row"},i.a.createElement("div",{className:"table-cell jump-label"},"Then Jump to"),i.a.createElement("div",{className:"table-cell"},i.a.createElement("select",{className:e.props.questionsError[e.props.qid][a]?"jump-select-box logicAnswerJump field-error":"jump-select-box logicAnswerJump",onChange:e.handleInputChange,name:"answers-"+e.props.qid+"-"+a,value:e.props.answers[a]?e.props.answers[a]:"0"},i.a.createElement("option",{value:""},"Select"),e.props.mainOptions&&e.props.mainOptions.map(function(t,a){return i.a.createElement(i.a.Fragment,{key:"answers-"+e.props.qid+"-"+a},t.id!=e.props.qid&&i.a.createElement("option",{value:t.id},t.name))}))),i.a.createElement("div",{className:"jump-label-2"},"Choose one Answer"))))}),i.a.createElement("div",{className:"if-else-section right-field-outer"},i.a.createElement("div",{className:"table logic-row"},i.a.createElement("div",{className:"table-cell jump-label"},"Else Jump to"),i.a.createElement("div",{className:"table-cell"},i.a.createElement("select",{className:this.props.elseError?"jump-select-box logicAnswerElse field-error":"jump-select-box logicAnswerElse",onChange:this.handleInputChange,name:"else-"+this.props.qid,value:this.props.else?this.props.else:0},i.a.createElement("option",{value:"0"},"Select"),this.props.mainOptions&&this.props.mainOptions.map(function(t,a){return i.a.createElement(i.a.Fragment,{key:"else-"+e.props.qid+"-"+a},t.id!=e.props.qid&&i.a.createElement("option",{value:t.id},t.name))}))),i.a.createElement("div",{className:"jump-label-2"},"Choose one Answer")))))}}]),t}(n.Component),v_=JSON.parse(localStorage.getItem("languageData")),f_=function(e){var t={},a=[];for(var s in e.forEach(function(e){t[e]||(t[e]=0),t[e]+=1}),t)t[s]>=2&&a.push(s);return a},b_={id:1,displayOrder:1,boxtype:"Textbox",name:"",placeholder:v_&&void 0!=v_.global&&void 0!=v_.global.global_type_question_here?v_.global.global_type_question_here:"",required:0,description:0,descriptionText:"",why_choose:0,logicJumpsAns:[],logicJumpsQue:[],logicJumpsElse:[],options:[],currentlyActive:!0},E_={Textbox:"Textbox",yesno:"Yes/No",single:"Single Choice",multiple:"Multiple Choice",scale:"Opinion Scale",file:"File Upload"},y_=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).componentDidMount=function(){window.onscroll=function(){return!1};var e=a.props.match.params.id?a.props.match.params.id:0;e&&(a.showLoaderFunc(),a.setState({templateId:e}),a.props.getTemplateData(e))},a.reorder=function(e,t,a){var s=Array.from(e),n=s.splice(t,1),i=Object(ye.a)(n,1)[0];return s.splice(a,0,i),s},a.getItemStyle=function(e,t){return Object(m.a)({userSelect:"none",background:e?"#f7fbfd":"ffffff"},t)},a.reOrderList=function(e){var t=JSON.parse(JSON.stringify(a.state.questionsList));e.map(function(e,s){var n=a.state.questionsList.find(function(t){return t.id==e});n.displayOrder=s+1,t[s]=n}),a.setState({questionsList:t,userChanged:!0})},a.showLoaderFunc=function(){a.setState({showLoader:!0}),localStorage.setItem("showLoader",!1)},a.handleChildChange=function(e,t){var s=e.split("-"),n=s[0],i=s[1],r={},o=a.getActiveBox();if(t){if("questions"==n||"answers"==n){var l=a.state[n+"-"+i];l[s[2]]=t,r[n+"-"+i]=l,"answers"==n?a.state.questionsList[o.index].logicJumpsQue=l:a.state.questionsList[o.index].logicJumpsAns=l}else{var c=a.state["else-"+i];c=t,r["else-"+i]=c,a.state.questionsList[o.index].logicJumpsElse=c}r.questionsList=a.state.questionsList}a.setState(r)},a.openBoxTypeDropDown=function(e){a.setState({displaySelection:!a.state.displaySelection})},a.toggleFullScreen=function(e){a.setState({fullScreen:!a.state.fullScreen})},a.toggleSideMenu=function(e){a.setState({sideMenu:!a.state.sideMenu})},a.getActiveBox=function(){return{obj:a.state.questionsList.find(function(e){return e.currentlyActive}),index:a.state.questionsList.findIndex(function(e){return e.currentlyActive})}},a.getAllQuestionsNameWithId=function(){var e=[];return a.state.questionsList.map(function(t,a){""!==t.name.trim()&&e.push({id:t.id,name:t.name})}),e},a.changeBoxType=function(e){var t=e.target.dataset.type,s=a.getActiveBox(),n={},i=a.state.boxTypeArr;s.obj.logicJumpsQue=[""],s.obj.logicJumpsAns=[""],s.obj.logicJumpsElse="",s.obj.boxtype=t,"single"!=t&&"multiple"!=t||(s.obj.options=[""]),"single"!=t&&"scale"!=t&&"yesno"!=t||(n["questions-"+s.obj.id]=[""],n["answers-"+s.obj.id]=[""],n["else-"+s.obj.id]="","yesno"==t&&(s.obj.options=["Yes","No"])),a.state.questionsList[s.index]=s.obj,n.questionsList=a.state.questionsList,n.activeBoxType=t,n.activeBoxTypeLabel=i[t],a.setState(n),a.openBoxTypeDropDown()},a.toggleLogicJump=function(e){e.preventDefault(),e.stopPropagation();var t=e.currentTarget.dataset.qid,s={};s["showLogicJump-"+t]=!!!a.state["showLogicJump-"+t],a.setState(s)},a.toggleLogicJump1=function(e){e.preventDefault(),e.stopPropagation();var t=e.currentTarget.dataset.qid,s={};s["showLogicJump-"+t]=!!!a.state["showLogicJump-"+t],a.setState({upDown:!a.state.upDown}),a.setState(s)},a.copyBox=function(e){var t=a.getActiveBox(),s={},n=JSON.parse(JSON.stringify(t.obj)),i=a.state.questionsList.length+1;n.displayOrder=a.state.questionsList.length+1,n.id=i,n.edit_id&&delete n.edit_id,"single"!=n.boxtype&&"multiple"!=n.boxtype||!n.options.length||n.options.map(function(e,t){s["choice-"+i+"-"+t]=e}),a.state.questionsList.push(n),a.state.questionsList[t.index].currentlyActive=!1,s.questionsList=a.state.questionsList,s["name-"+i]=t.obj.name,s["description-"+i]=t.obj.description,s["descriptionText-"+i]=t.obj.descriptionText,s["required-"+i]=t.obj.required,s["questions-"+i]=[],s["answers-"+i]=[],s["else-"+i]="",s.questionsError=a.state.questionsError,s.answersError=a.state.answersError,s.questionsError[i]=[!1],s.answersError[i]=[!1],s["logicElse-"+i]=!1,a.setState(s);var r=a.getAllQuestionsNameWithId();a.setState({mainOptions:r})},a.deleteBox=function(e){if(a.state.questionsList.length>1){var t=a.state.questionsList,s=a.getActiveBox(),n=(parseInt(s.index),a.state.deletedQue);a.state.templateId&&n.push(parseInt(s.obj.id)),t.splice(s.index,1);var i=parseInt(t.length-1);t[i].currentlyActive=!0;var r=t[i];a.setState({questionsList:t,deletedQue:n,viewActiveBox:r});var o=a.getAllQuestionsNameWithId();a.setState({mainOptions:o})}},a.addQuestion=function(e){var t=JSON.parse(JSON.stringify(b_));t.displayOrder=a.state.questionsList.length+1,t.id=a.state.questionsList.length+1,t.currentlyActive=!0,a.state.questionsList.push(t);var s=a.getActiveBox();a.state.questionsList[s.index].currentlyActive=!1,a.setState({questionsList:a.state.questionsList});var n=a.getAllQuestionsNameWithId();a.setState({mainOptions:n})},a.addLogicQuestion=function(e){e.preventDefault();var t=a.getActiveBox().obj.id,s=a.state["questions-"+t];s.push(0);var n={};n["questions-"+t]=s,n.appendHTML=!0,a.setState(n),a.forceUpdate()},a.deleteLogicJump=function(e,t){var s=a.getActiveBox().obj.id,n=a.state["questions-"+s];if(1==n.length)return!1;n.splice(e,1);var i={};i["questions-"+s]=n,a.setState(i)},a.makeActiveBox=function(e,t){t.preventDefault(),t.stopPropagation();var s=e,n=a.getActiveBox();return a.state.questionsList[n.index].currentlyActive=!1,a.state.questionsList[s].currentlyActive=!0,a.setState({questionsList:a.state.questionsList,activeBox:a.state.questionsList[s],viewActiveBox:a.state.questionsList[s],activeBoxRequired:a.state.questionsList[s].required,activeBoxDesc:a.state.questionsList[s].description,userChanged:!0}),a.state.sideMenu&&a.toggleSideMenu(),!1},a.setScaleVal=function(e){var t=e.target.dataset.id,s={};s["selectedAnswers-"+a.state.viewActiveBox.id]=t,a.setState(s)},a.goToNext=function(e){var t=a.getActiveBox(),s=(t.index,a.state.questionsList[t.index],a.state.questionsList.length),n=a.state.viewActiveBox,i=a.state["selectedAnswers-"+n.id],r={};if(("single"==n.boxtype||"scale"==n.boxtype||"yesno"==n.boxtype)&&void 0==i)return!1;if("yesno"==n.boxtype||"single"==n.boxtype||"scale"==n.boxtype){if(n.logicJumpsQue.length){var o=n.logicJumpsAns.indexOf(parseInt(i));if(o>-1){var l=parseInt(n.logicJumpsQue[o]),c=a.state.questionsList.findIndex(function(e){return e.id==l});r.viewActiveBox=a.state.questionsList[c]}else{var d=n.logicJumpsElse,m=a.state.questionsList.findIndex(function(e){return e.id==d});r.viewActiveBox=a.state.questionsList[m]}}}else if(s==n.id)r.showSubmitBtn=!0;else{var u=a.state.questionsList.findIndex(function(e){return e.id==parseInt(n.id)});r.viewActiveBox=a.state.questionsList[u+1]}a.setState(r)},a.submitView=function(e){for(var t in a.state)t.startsWith("selectedAnswers-")&&delete a.state[t];a.state.viewActiveBox=a.state.questionsList[0];var s=a.state;a.setState(s)},a.handleKeyUp=function(e){var t=e.target,s="checkbox"===t.type?t.checked:t.value,n=e.target.name,i=n.split("-"),r=e.currentTarget.dataset.choiceid,o={},l=a.getActiveBox(),c=l.obj.options;""!=s&&(c[r]=s),c=c.filter(function(e){return""!=e}),13!=e.keyCode&&13!=e||c.push(""),8!=e.keyCode&&8!=e||""==s&&c.length>0&&(c.splice(r,1),document.getElementById("choice-"+i[1]+"-"+l.obj.options.pop()),document.getElementById("choice-"+i[1]+"-"+(l.obj.options.length-1)).focus(),o["choice-"+i[1]+"-"+l.obj.id]=l.obj.options[r]),c.map(function(e,t){""!=e&&(o["choice-"+i[1]+"-"+t]=e,o["choiceError-"+i[1]+"-"+t]=!1)}),a.state.questionsList[l.index].options=c,o.questionsList=a.state.questionsList,""!=s.trim()&&(o[n]=s),a.setState(o)},a.handleFileChange=function(e){var t=e.target,s=("checkbox"===t.type?t.checked:t.value,e.target.name,a.state.viewActiveBox.id,document.getElementById("input-file").files[0]),n=new FileReader;n.onload=function(e){document.getElementById("theImage").setAttribute("src",e.target.result)},a.setState({}),n.readAsDataURL(s)},a.handleInputChange=function(e){var t=e.target,s="checkbox"===t.type?t.checked:t.value,n=e.target.name,i=a.getActiveBox(),r={},o=!0;if("activeBoxDesc"==n&&(a.state.questionsList[i.index].description=s,r.questionsList=a.state.questionsList),"activeBoxRequired"==n&&(a.state.questionsList[i.index].required=s,r.questionsList=a.state.questionsList),"activeBoxComments"==n&&(a.state.questionsList[i.index].why_choose=s,r.questionsList=a.state.questionsList),n.startsWith("description-")&&(a.state.questionsList[i.index].descriptionText=s,r.questionsList=a.state.questionsList),n.startsWith("name-")){a.state.questionsList[i.index].name=s,r.questionsList=a.state.questionsList;var l=a.state.mainOptions,c=n.split("-"),d=parseInt(c[1]),m=l.findIndex(function(e){return e.id==d});m>-1?l[m].name=s:l.push({id:d,name:s}),r.mainOptions=l}if(n.startsWith("choice-")){n.split("-");1==i.obj.options.length&&""==s.trim()&&(o=!1)}r.activeBox=a.state.questionsList[i.index],n.startsWith("selectedAnswers")||(r.viewActiveBox=a.state.questionsList[i.index]),o&&(r[n]=s),r.userChanged=!0,a.setState(r)},a.showLoaderFunc=function(){a.setState({showLoader:!0}),localStorage.setItem("showLoader",!1)},a.saveTemplate=function(){if(a.setState({titleError:!1,userChanged:!0}),void 0==a.state.title||""==a.state.title)return a.setState({titleError:!0}),!1;var e={},t=!1,s={};a.state.templateId&&(e.ptid=a.state.templateId,e.deletedQue=[]);var n=JSON.parse(JSON.stringify(a.state.questionsList));n.map(function(e,i){(e.boxtype&&(e.boxtype=E_[e.boxtype],n[i]=e),e.options.length)&&(0!=f_(e.options).length&&(s.hasDuplicates=!0,t=!0));e.logicJumpsAns=e.logicJumpsAns.filter(function(e){return 0==e||(""!=e||void 0)}),e.logicJumpsQue=e.logicJumpsQue.filter(function(e){return""!=e}),e.logicJumpsAns.length>e.logicJumpsQue.length?e.logicJumpsAns.map(function(n,i){s.questionsError=a.state.questionsError,e.logicJumpsQue[i]||(s.questionsError[e.id][i]=!0,t=!0)}):e.logicJumpsAns.length<e.logicJumpsQue.length?e.logicJumpsQue.map(function(n,i){s.answersError=a.state.answersError,e.logicJumpsAns[i]||(s.answersError[e.id][i]=!0,t=!0)}):e.logicJumpsAns.length&&e.logicJumpsAns.length==e.logicJumpsQue.length&&""==e.logicJumpsElse?(s["logicElseError-"+e.id]=!0,s.userChanged=!0):s["logicElseError-"+e.id]=!1}),t&&s.hasDuplicates&&rt.toast.error(a.state.globalLang.global_cannot_add_same_opt),e.title=a.state.title,e.data=n,e.deletedQue=a.state.deletedQue,a.showLoaderFunc(),a.props.saveTemplateData(e)},a.showDeleteModal=function(){a.setState({showModal:!0,userChanged:!0})},a.dismissModal=function(){a.setState({showModal:!1,userChanged:!0})},a.deleteTemplate=function(){a.setState({showLoader:!0,userChanged:!0}),a.dismissModal();var e=a.state.templateId;a.props.deleteTemplate(e)};var s=JSON.parse(localStorage.getItem("languageData")),n={},i=[],r=[];return i[1]=[!1],r[1]=[!1],n.alpha=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","AA","BB","CC","DD","EE","FF","GG","HH","II","JJ","KK","LL","MM","NN","OO","PP","QQ","RR","SS","TT","UU","VV","WW","XX","YY","ZZ"],n.upDown=!1,n.questionsList=[b_],n.title="Untitled Procedure Template",n.activeBoxType="Textbox",n.activeBoxTypeLabel="Textbox",n.displaySelection=!1,n.activeBox=b_,n.viewActiveBox=b_,n.activeBoxDesc=!1,n.activeBoxRequired=!1,n.mainOptions=[{id:1,name:""}],n["questions-1"]=[],n["answers-1"]=[],n["logicElse-1"]=!1,n.showModal=!1,n.fullScreen=!1,n.sideMenu=!1,n.appendHTML=!1,n.boxTypeArr=E_,n.templateData=[],n.deletedQue=[],n.questionsError=i,n.answersError=r,n.userChanged=!1,n.titleError=!1,n.globalLang=s.global,a.state=n,a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"render",value:function(){var e=this,t=[];this.state.questionsList.length&&(t=this.state.questionsList.map(function(t,a){var s=t.currentlyActive?"edit-question-outer route selected-question":"edit-question-outer route";return{content:i.a.createElement(i.a.Fragment,{key:"boxtypeOuter-"+t.id},"Textbox"==t.boxtype&&i.a.createElement(i.a.Fragment,{key:"boxtypeText-"+t.id},i.a.createElement("input",{className:"type-question",name:"name-"+t.id,onChange:e.handleInputChange,type:"text",placeholder:e.state.globalLang.global_type_question_here,value:e.state["name-"+t.id]?e.state["name-"+t.id]:""}),i.a.createElement("input",{id:"descriptioBox1",className:t.description?"type-subtitle":"type-subtitle no-display",placeholder:e.state.globalLang.global_write_ur_description,name:"description-"+t.id,value:e.state["description-"+t.id],onChange:e.handleInputChange,type:"text"}),i.a.createElement("span",{className:t.required?"survey-required":"survey-required no-display",id:"requiredBox1"},"*"),i.a.createElement("a",{className:"survey-drag-icon"},i.a.createElement("i",{className:"far fa-file",id:"icon_effect1"})," ",i.a.createElement("span",{className:"quest-number"},t.displayOrder))),"yesno"==t.boxtype&&i.a.createElement(i.a.Fragment,{key:"boxtypeYesNo-"+t.id},i.a.createElement("input",{className:"type-question",name:"name-"+t.id,onChange:e.handleInputChange,type:"Yes/No",placeholder:e.state.globalLang.global_type_question_here,value:e.state["name-"+t.id],id:"box2"}),i.a.createElement("input",{id:"descriptioBox2",className:t.description?"type-subtitle":"type-subtitle no-display",placeholder:e.state.globalLang.global_write_ur_description,name:"description-"+t.id,value:e.state["description-"+t.id],onChange:e.handleInputChange,type:"text"}),i.a.createElement("a",{className:"share-default-icon","data-qid":t.id,onClick:e.toggleLogicJump},i.a.createElement("i",{className:"fas fa-share-alt"})),i.a.createElement("span",{className:t.required?"survey-required":"survey-required no-display",style:{},id:"requiredBox2"},"*"),i.a.createElement("a",{className:"survey-drag-icon"},i.a.createElement("i",{className:"fas fa-toggle-off",id:"icon_effect2"}),i.a.createElement("span",{className:"quest-number"},t.displayOrder)),i.a.createElement("div",{className:"login-jump-outer"},i.a.createElement("div",{className:"logic-jump-header"},i.a.createElement("i",{className:"fas fa-share-alt share-header-icon"}),i.a.createElement("span",{className:"logic-jump-title"},e.state.globalLang.global_logic_jump),i.a.createElement("i",{className:"pull-right fas no-margin loginjumponoff fa-angle-up"})),e.state["showLogicJump-"+t.id]&&i.a.createElement("div",{className:"logic-content"},i.a.createElement("div",{className:"when-ans","data-test":typeof e.state["questions-"+t.id]},i.a.createElement("span",{className:"when-ans-span"},e.state.globalLang.global_when_answering),i.a.createElement("a",{className:e.state["questions-"+t.id].length<=1?"header-select-btn line-btn add-logic-btn":"header-select-btn line-btn add-logic-btn disable",onClick:e.addLogicQuestion},e.state.globalLang.global_add_logic_jump)),i.a.createElement(__,{qid:t.id,answers:e.state["answers-"+t.id],questions:e.state["questions-"+t.id],type:"yesno",handleChildChange:e.handleChildChange,mainOptions:e.state.mainOptions,else:e.state["else-"+t.id],deleteLogicJump:e.deleteLogicJump,questionsError:e.state.questionsError,answersError:e.state.answersError,elseError:e.state["logicElseError-"+t.id]})))),"single"==t.boxtype&&i.a.createElement(i.a.Fragment,{key:"boxtypeSingle-"+t.id},i.a.createElement("input",{className:"type-question",name:"name-"+t.id,value:e.state["name-"+t.id],onChange:e.handleInputChange,type:"Single Choice",placeholder:e.state.globalLang.global_type_question_here,id:"box3"}),i.a.createElement("input",{id:"descriptioBox3",className:t.description?"type-subtitle":"type-subtitle no-display",placeholder:e.state.globalLang.global_write_ur_description,name:"description-"+t.id,value:e.state["description-"+t.id],onChange:e.handleInputChange,type:"text"}),i.a.createElement("a",{className:"share-default-icon","data-qid":t.id,onClick:e.toggleLogicJump},i.a.createElement("i",{className:"fas fa-share-alt"})),i.a.createElement("span",{className:t.required?"survey-required":"survey-required no-display",style:{},id:"requiredBox2"},"*"),i.a.createElement("div",{id:"singlechoiceboxouter3"},t.options.map(function(a,s){return i.a.createElement("input",{key:"choice-"+t.id+"-"+s,id:"choice-"+t.id+"-"+s,className:(e.state["choiceError-"+t.id+"-"+s],"type-choice"),placeholder:"- Choice",type:"text","data-qid":t.id,"data-choiceid":s,onKeyUp:e.handleKeyUp,onChange:e.handleInputChange,value:e.state["choice-"+t.id+"-"+s]||"",name:"choice-"+t.id+"-"+s,autoFocus:t.options.length==s+1})})),i.a.createElement("a",{className:"survey-drag-icon"},i.a.createElement("i",{className:"far fa-dot-circle",id:"icon_effect3"}),i.a.createElement("span",{className:"quest-number"},t.displayOrder)),i.a.createElement("div",{className:"login-jump-outer"},i.a.createElement("div",{className:"logic-jump-header"},i.a.createElement("i",{className:"fas fa-share-alt share-header-icon"}),i.a.createElement("span",{className:"logic-jump-title"},e.state.globalLang.global_logic_jump),i.a.createElement("a",{className:0==e.state.upDown?"pull-right":"pull-right no-display",name:"upDown",value:e.state.upDown,"data-qid":t.id,onClick:e.toggleLogicJump1},i.a.createElement("i",{className:"pull-right fas no-margin loginjumponoff fa-angle-down"})),i.a.createElement("a",{className:1==e.state.upDown?"pull-right":"pull-right no-display",name:"upDown",value:e.state.upDown,"data-qid":t.id,onClick:e.toggleLogicJump1},i.a.createElement("i",{className:"pull-right fas no-margin loginjumponoff fa-angle-up"}))),e.state["showLogicJump-"+t.id]&&i.a.createElement("div",{className:"logic-content"},i.a.createElement("div",{className:"when-ans","data-test":typeof e.state["questions-"+t.id]},i.a.createElement("span",{className:"when-ans-span"},e.state.globalLang.global_when_answering),i.a.createElement("a",{className:e.state["questions-"+t.id].length<=1?"header-select-btn line-btn add-logic-btn":"header-select-btn line-btn add-logic-btn disable",onClick:e.addLogicQuestion},e.state.globalLang.global_add_logic_jump)),i.a.createElement(__,{key:"LogicJump-"+t.id,qid:t.id,answers:e.state["answers-"+t.id],questions:e.state["questions-"+t.id],type:"single",options:t.options,addLogicQuestion:e.addLogicQuestion,mainOptions:e.state.mainOptions,handleChildChange:e.handleChildChange,else:e.state["else-"+t.id],deleteLogicJump:e.deleteLogicJump,questionsError:e.state.questionsError,answersError:e.state.answersError,elseError:e.state["logicElseError-"+t.id]})))),"multiple"==t.boxtype&&i.a.createElement(i.a.Fragment,{key:"boxtypeMultiple-"+t.id},i.a.createElement("input",{className:"type-question",name:"name-"+t.id,value:e.state["name-"+t.id],onChange:e.handleInputChange,type:e.state.globalLang.global_single_choice,placeholder:e.state.globalLang.global_type_question_here,id:"box3"}),i.a.createElement("input",{id:"descriptioBox3",className:t.description?"type-subtitle":"type-subtitle no-display",placeholder:e.state.globalLang.global_write_ur_description,name:"description-"+t.id,value:e.state["description-"+t.id],onChange:e.handleInputChange,type:"text"}),i.a.createElement("a",{className:"share-default-icon"},i.a.createElement("i",{className:"fas fa-share-alt"})),i.a.createElement("span",{className:t.required?"survey-required":"survey-required no-display",style:{},id:"requiredBox2"},"*"),i.a.createElement("div",{id:"singlechoiceboxouter3"},t.options.map(function(a,s){return i.a.createElement("input",{id:"choice-"+t.id+"-"+s,key:"choice-"+t.id+"-"+s,className:"type-choice",placeholder:"- Choice",type:"text","data-qid":t.id,"data-choiceid":s,onKeyUp:e.handleKeyUp,name:"choice-"+t.id+"-"+s,defaultValue:e.state["choice-"+t.id+"-"+s],autoFocus:t.options.length==s+1})})),i.a.createElement("a",{className:"survey-drag-icon"},i.a.createElement("i",{className:"far fa-check-square",id:"icon_effect3"}),i.a.createElement("span",{className:"quest-number"},t.displayOrder)),i.a.createElement("div",{className:"login-jump-outer"},i.a.createElement("div",{className:"logic-jump-header"},i.a.createElement("i",{className:"fas fa-share-alt"}),i.a.createElement("span",{className:"logic-jump-title"},"Logic Jump")," ",i.a.createElement("i",{"data-id":3,className:"pull-right fa fa-angle-down no-margin loginjumponoff"})))),"file"==t.boxtype&&i.a.createElement(i.a.Fragment,{key:"boxtypeFile-"+t.id},i.a.createElement("input",{className:"type-question",name:"name-"+t.id,onChange:e.handleInputChange,type:"Single Choice",placeholder:e.state.globalLang.global_type_question_here,value:e.state["name-"+t.id]}),i.a.createElement("input",{id:"descriptioBox3",className:t.description?"type-subtitle":"type-subtitle no-display",placeholder:e.state.globalLang.global_write_ur_description,name:"description-"+t.id,value:e.state["description-"+t.id],onChange:e.handleInputChange,type:"text"}),i.a.createElement("a",{className:"share-default-icon"},i.a.createElement("i",{className:"fas fa-share-alt"})),i.a.createElement("span",{className:t.required?"survey-required":"survey-required no-display",style:{},id:"requiredBox2"},"*"),i.a.createElement("a",{className:"survey-drag-icon"},i.a.createElement("i",{className:"fas fa-file-upload",id:"icon_effect3"}),i.a.createElement("span",{className:"quest-number"},t.displayOrder))),"scale"==t.boxtype&&i.a.createElement(i.a.Fragment,{key:"boxtypeScale-"+t.id},i.a.createElement("input",{className:"type-question",name:"name-"+t.id,onChange:e.handleInputChange,type:"Single Choice",placeholder:e.state.globalLang.global_type_question_here,value:e.state["name-"+t.id],id:"box3"}),i.a.createElement("input",{id:"descriptioBox3",className:t.description?"type-subtitle":"type-subtitle no-display",placeholder:e.state.globalLang.global_write_ur_description,name:"description-"+t.id,value:e.state["description-"+t.id],onChange:e.handleInputChange,type:"text"}),i.a.createElement("a",{className:"share-default-icon","data-qid":t.id,onClick:e.toggleLogicJump},i.a.createElement("i",{className:"fas fa-share-alt"})),i.a.createElement("span",{className:t.required?"survey-required":"survey-required no-display",style:{},id:"requiredBox2"},"*"),i.a.createElement("a",{className:"survey-drag-icon"},i.a.createElement("i",{className:"fas fa-ruler-horizontal",id:"icon_effect3"}),i.a.createElement("span",{className:"quest-number"},t.displayOrder)),i.a.createElement("div",{className:"login-jump-outer"},i.a.createElement("div",{className:"logic-jump-header"},i.a.createElement("i",{className:"fas fa-share-alt share-header-icon"}),i.a.createElement("span",{className:"logic-jump-title"},e.state.globalLang.global_logic_jump),i.a.createElement("i",{className:"pull-right fas no-margin loginjumponoff fa-angle-up"})),e.state["showLogicJump-"+t.id]&&i.a.createElement("div",{className:"logic-content"},i.a.createElement("div",{className:"when-ans","data-test":typeof e.state["questions-"+t.id]},i.a.createElement("span",{className:"when-ans-span"},e.state.globalLang.global_when_answering),i.a.createElement("a",{className:e.state["questions-"+t.id].length<=1?"header-select-btn line-btn add-logic-btn":"header-select-btn line-btn add-logic-btn disable",onClick:e.addLogicQuestion},e.state.globalLang.global_add_logic_jump)),i.a.createElement(__,{qid:t.id,answers:e.state["answers-"+t.id],questions:e.state["questions-"+t.id],type:"scale",options:t.options,addLogicQuestion:e.addLogicQuestion,mainOptions:e.state.mainOptions,handleChildChange:e.handleChildChange,else:e.state["else-"+t.id],deleteLogicJump:e.deleteLogicJump,questionsError:e.state.questionsError,answersError:e.state.answersError,elseError:e.state["logicElseError-"+t.id]}))))),id:t.id,class:s}}));return i.a.createElement("div",{className:"wide-popup"},i.a.createElement("div",{className:"modal-blue-header front-end-popup-title"},i.a.createElement(me.a,{to:"/settings/procedure-templates",className:"popup-cross"},"\xd7"),i.a.createElement("span",{className:"popup-blue-name"},this.state.globalLang.global_template),i.a.createElement("div",{className:"popup-btns"},i.a.createElement("a",{onClick:this.saveTemplate,className:"line-btn popup-header-btn"},this.state.globalLang.label_save),i.a.createElement("a",{onClick:this.addQuestion,className:"line-btn popup-header-btn"},this.state.globalLang.global_add_question),i.a.createElement("a",{onClick:this.showDeleteModal,className:this.state.templateId?"line-btn popup-header-btn":"line-btn popup-header-btn  no-display"},this.state.globalLang.label_delete))),i.a.createElement("div",{className:"survey-outer"},i.a.createElement("a",{onClick:this.toggleSideMenu,className:this.state.sideMenu?"arrow-slide-right":"arrow-slide-right no-display"},i.a.createElement("i",{className:"fas fa-chevron-right"})),i.a.createElement("div",{className:this.state.fullScreen?"survey-left col-md-2 no-display":this.state.sideMenu?"survey-left col-md-2 no-display":"survey-left col-md-2"},i.a.createElement("div",{className:"property-title"},i.a.createElement("span",{className:"properties-span"},this.state.globalLang.global_properties),i.a.createElement("a",{onClick:this.toggleSideMenu,className:this.state.sideMenu?"arrow-slide-left  no-display":"arrow-slide-left"},i.a.createElement("i",{className:"fas fa-chevron-left"}))),i.a.createElement("div",{className:"survey-actions"},i.a.createElement("a",{className:"survey-actions-a",onClick:this.deleteBox},i.a.createElement("i",{className:"far fa-trash-alt"})),i.a.createElement("a",{className:"survey-actions-a",onClick:this.copyBox},i.a.createElement("i",{className:"far fa-copy"}))),i.a.createElement("div",{className:"property-select-outer"},i.a.createElement("div",{className:"custom-select"},i.a.createElement("div",{className:"select-selected select-arrow-active",onClick:this.openBoxTypeDropDown},this.state.activeBoxTypeLabel," "),i.a.createElement("div",{className:this.state.displaySelection?"select-items":"select-items no-display"},i.a.createElement("div",{onClick:this.changeBoxType,"data-type":"Textbox"},this.state.globalLang.global_textbox),i.a.createElement("div",{onClick:this.changeBoxType,"data-type":"yesno"},this.state.globalLang.global_yes_no),i.a.createElement("div",{onClick:this.changeBoxType,"data-type":"single"},this.state.globalLang.global_single_choice),i.a.createElement("div",{onClick:this.changeBoxType,"data-type":"multiple"},this.state.globalLang.global_multiple_choice),i.a.createElement("div",{onClick:this.changeBoxType,"data-type":"scale"},this.state.globalLang.global_opinion_scale),i.a.createElement("div",{onClick:this.changeBoxType,"data-type":"file"},this.state.globalLang.global_file_upload)))),i.a.createElement("div",{className:"new-custom-switch property-option"},this.state.globalLang.global_required,i.a.createElement("label",{className:"setting-switch pull-right"},i.a.createElement("input",{type:"checkbox",name:"activeBoxRequired",checked:!!this.state.activeBoxRequired&&"checked",onChange:this.handleInputChange,className:"setting-custom-switch-input"}),i.a.createElement("span",{className:"setting-slider"}))),i.a.createElement("div",{className:"new-custom-switch property-option"},this.state.globalLang.label_description,i.a.createElement("label",{className:"setting-switch pull-right"},i.a.createElement("input",{type:"checkbox",name:"activeBoxDesc",checked:!!this.state.activeBoxDesc&&"checked",onChange:this.handleInputChange,className:"setting-custom-switch-input"}),i.a.createElement("span",{className:"setting-slider "}))),i.a.createElement("div",{className:"scale"==this.state.activeBoxType?"new-custom-switch property-option":"new-custom-switch property-option no-display"},this.state.globalLang.global_comments_on_scale,i.a.createElement("label",{className:"setting-switch pull-right"},i.a.createElement("input",{type:"checkbox",name:"activeBoxComments",checked:!!this.state.activeBoxComments&&"checked",onChange:this.handleInputChange,className:"setting-custom-switch-input"}),i.a.createElement("span",{className:"setting-slider "})))),i.a.createElement("div",{className:this.state.fullScreen?"survey-middle col-md-6 no-display":this.state.sideMenu?"survey-middle col-md-6 width-50":"survey-middle col-md-6 width-40"},i.a.createElement("div",{className:this.state.titleError?"edit-question-title-outer field-error":"edit-question-title-outer"},i.a.createElement("input",{className:"title-type-question",id:"survey_title",type:"Textbox",name:"title",value:this.state.title,placeholder:"Type title here...",onChange:this.handleInputChange}),i.a.createElement("span",{className:"survey-required",style:{display:"block"}},"*"),i.a.createElement("a",{className:"survey-title-drag-icon"},i.a.createElement("i",{id:"icon_effect1"}),i.a.createElement("span",{className:"quest-title-number"},this.state.globalLang.global_title))),i.a.createElement("div",null,i.a.createElement(Vl.a,{onDragEnd:function(a){var s;if(a.destination){var n=e.reorder(t,a.source.index,a.destination.index);t=n,s=n.map(function(e,t){return e.id}),e.reOrderList(s)}}},i.a.createElement(Vl.c,{droppableId:"mydrop"},function(a,s){return i.a.createElement("div",{className:"space first-space table no-bg",ref:a.innerRef},t.map(function(t,a){return i.a.createElement(Vl.b,{key:t.id,draggableId:t.id,index:a},function(s,n){return i.a.createElement("div",Object.assign({className:t.class,"data-id":t.id,"data-order_by":t.id,onClick:e.makeActiveBox.bind(e,a),ref:s.innerRef},s.draggableProps,s.dragHandleProps,{style:e.getItemStyle(n.isDragging,s.draggableProps.style)}),t.content)})}))})))),i.a.createElement("div",{className:this.state.fullScreen?"survey-right col-md-6 width-100":this.state.sideMenu?"survey-right col-md-6 width-50":"survey-right col-md-6 width-40"},i.a.createElement("div",{className:"property-title text-right"},i.a.createElement("a",{className:this.state.fullScreen?"properties-span full-view no-display":"properties-span full-view",onClick:this.toggleFullScreen},i.a.createElement("i",{className:"far fa-window-restore"})," ",this.state.globalLang.global_full_screen_view),i.a.createElement("a",{className:this.state.fullScreen?"properties-span editeble-view":"properties-span editeble-view no-display",onClick:this.toggleFullScreen},i.a.createElement("i",{className:"far fa-edit"})," ",this.state.globalLang.global_edit_view)),i.a.createElement("div",{className:this.state.fullScreen?"title-half-preview servy-title-preview":"title-half-preview"},i.a.createElement("div",{className:"report-title-question-outer break-word-content"},i.a.createElement("div",{className:"survey-title no-margin",id:"preview_survey_title"},this.state.title),i.a.createElement("div",{className:"view-title-number"},this.state.globalLang.global_title," ",i.a.createElement("i",{className:"fa fa-arrow-right"})))),i.a.createElement("div",{className:this.state.fullScreen?"servy-preview relative":"half-preview relative",id:"half-preview"},i.a.createElement("div",{className:"Textbox"==this.state.viewActiveBox.boxtype?"report-question-outer":"report-question-outer no-display"},i.a.createElement("div",{className:"survey-title no-margin",id:"preview1"},this.state.viewActiveBox.name),i.a.createElement("div",{className:this.state.viewActiveBox.description?"quest-discription":"quest-discription no-display"},this.state.viewActiveBox.descriptionText),i.a.createElement("input",{name:"selectedAnswers-"+this.state.viewActiveBox.id,className:"Textbox"==this.state.viewActiveBox.boxtype?"report-input":"report-input no-display",placeholder:"Write your answer here...",type:"text",onChange:this.handleInputChange,value:this.state["selectedAnswers-"+this.state.viewActiveBox.id]?this.state["selectedAnswers-"+this.state.viewActiveBox.id]:""})),i.a.createElement("div",{className:"yesno"==this.state.viewActiveBox.boxtype?"report-question-outer":"report-question-outer no-display"},i.a.createElement("div",{className:"survey-title no-margin",id:"preview1"},this.state.viewActiveBox.name),i.a.createElement("div",{className:this.state.viewActiveBox.description?"quest-discription":"quest-discription no-display"},this.state.viewActiveBox.descriptionText),i.a.createElement("div",{className:" multisel-outer-yesno2"},i.a.createElement("div",{className:"Yes"==this.state["selectedAnswers-"+this.state.viewActiveBox.id]?"multisel ynomultisel yescheckouter2 activated":"multisel ynomultisel yescheckouter2"},i.a.createElement("input",{id:"Yes-"+this.state.viewActiveBox.id,className:"servy-checkbox servy-radio preboxval",onChange:this.handleInputChange,name:"selectedAnswers-"+this.state.viewActiveBox.id,checked:this.state["Yes"==this.state["selectedAnswers-"+this.state.viewActiveBox.id]&&"checked"],type:"radio",value:"Yes"}),i.a.createElement("span",{className:"multi-sel-alpha"},this.state.globalLang.global_a),i.a.createElement("label",{className:"multisel-label",htmlFor:"Yes-"+this.state.viewActiveBox.id},"Yes"),i.a.createElement("i",{className:"fa fa-check"})),i.a.createElement("div",{className:"No"==this.state["selectedAnswers-"+this.state.viewActiveBox.id]?"multisel ynomultisel yescheckouter2 activated":"multisel ynomultisel yescheckouter2"},i.a.createElement("input",{id:"No-"+this.state.viewActiveBox.id,className:"servy-checkbox servy-radio preboxval",onChange:this.handleInputChange,checked:"No"==this.state["selectedAnswers-"+this.state.viewActiveBox.id]&&"checked",value:"No",name:"selectedAnswers-"+this.state.viewActiveBox.id,type:"radio"}),i.a.createElement("span",{className:"multi-sel-alpha"},this.state.globalLang.global_b),i.a.createElement("label",{className:"multisel-label",htmlFor:"No-"+this.state.viewActiveBox.id},"No"),i.a.createElement("i",{className:"fa fa-check"})))),i.a.createElement("div",{className:"single"==this.state.viewActiveBox.boxtype?"report-question-outer":"report-question-outer no-display"},i.a.createElement("div",{className:"survey-title no-margin",id:"preview1"},this.state.viewActiveBox.name),i.a.createElement("div",{className:this.state.viewActiveBox.description?"quest-discription":"quest-discription no-display"},this.state.viewActiveBox.descriptionText),i.a.createElement("div",{className:"col-sm-12 multisel-outer preview-single-selectouter3"},this.state.viewActiveBox.options.map(function(t,a){return i.a.createElement("div",{key:"selectedAnswers-"+a,className:e.state["selectedAnswers-"+e.state.viewActiveBox.id]==a?"multisel activated":"multisel"},i.a.createElement("input",{id:e.state.viewActiveBox.id+"-"+a,className:"servy-checkbox servy-radio preboxval",onChange:e.handleInputChange,name:"selectedAnswers-"+e.state.viewActiveBox.id,checked:e.state["selectedAnswers-"+e.state.viewActiveBox.id]==a&&"checked",value:a,type:"radio"}),i.a.createElement("span",{className:"multi-sel-alpha"},String.fromCharCode(65+a)),i.a.createElement("label",{className:"multisel-label",htmlFor:e.state.viewActiveBox.id+"-"+a},t),i.a.createElement("i",{className:"fa fa-check"}))}))),i.a.createElement("div",{className:"multiple"==this.state.viewActiveBox.boxtype?"report-question-outer":"report-question-outer no-display"},i.a.createElement("div",{className:"survey-title no-margin",id:"preview1"},this.state.viewActiveBox.name),i.a.createElement("div",{className:this.state.viewActiveBox.description?"quest-discription":"quest-discription no-display"},this.state.viewActiveBox.descriptionText),i.a.createElement("div",{className:"col-sm-12 multisel-outer preview-multi-selectouter4"},this.state.viewActiveBox.options.map(function(e,t){return i.a.createElement("div",{key:"viewActiveBox-"+t,className:"multisel"},i.a.createElement("input",{className:"servy-checkbox servy-radio preboxval",name:"satisfied",type:"radio"}),i.a.createElement("span",{className:"multi-sel-alpha"},String.fromCharCode(65+t)),i.a.createElement("label",{className:"multisel-label",htmlFor:"previewMultiRadio42"},e),i.a.createElement("i",{className:"fa fa-check"}))}))),i.a.createElement("div",{className:"scale"==this.state.viewActiveBox.boxtype?"report-question-outer":"report-question-outer no-display"},i.a.createElement("div",{className:"survey-title no-margin",id:"preview1"},this.state.viewActiveBox.name),i.a.createElement("div",{className:this.state.viewActiveBox.description?"quest-discription":"quest-discription no-display"},this.state.viewActiveBox.descriptionText),i.a.createElement("ul",{className:"survey-rate-outer",id:"survey-rateouter5"},i.a.createElement("li",{onClick:this.setScaleVal,"data-id":1,className:1==this.state["selectedAnswers-"+this.state.viewActiveBox.id]?"survey-li preboxval survey-li-active":"survey-li preboxval"},"1"),i.a.createElement("li",{onClick:this.setScaleVal,"data-id":2,className:2==this.state["selectedAnswers-"+this.state.viewActiveBox.id]?"survey-li preboxval survey-li-active":"survey-li preboxval"},"2"),i.a.createElement("li",{onClick:this.setScaleVal,"data-id":3,className:3==this.state["selectedAnswers-"+this.state.viewActiveBox.id]?"survey-li preboxval survey-li-active":"survey-li preboxval"},"3"),i.a.createElement("li",{onClick:this.setScaleVal,"data-id":4,className:4==this.state["selectedAnswers-"+this.state.viewActiveBox.id]?"survey-li preboxval survey-li-active":"survey-li preboxval"},"4"),i.a.createElement("li",{onClick:this.setScaleVal,"data-id":5,className:5==this.state["selectedAnswers-"+this.state.viewActiveBox.id]?"survey-li preboxval survey-li-active":"survey-li preboxval"},"5"),i.a.createElement("li",{onClick:this.setScaleVal,"data-id":6,className:6==this.state["selectedAnswers-"+this.state.viewActiveBox.id]?"survey-li preboxval survey-li-active":"survey-li preboxval"},"6"),i.a.createElement("li",{onClick:this.setScaleVal,"data-id":7,className:7==this.state["selectedAnswers-"+this.state.viewActiveBox.id]?"survey-li preboxval survey-li-active":"survey-li preboxval"},"7"),i.a.createElement("li",{onClick:this.setScaleVal,"data-id":8,className:8==this.state["selectedAnswers-"+this.state.viewActiveBox.id]?"survey-li preboxval survey-li-active":"survey-li preboxval"},"8"),i.a.createElement("li",{onClick:this.setScaleVal,"data-id":9,className:9==this.state["selectedAnswers-"+this.state.viewActiveBox.id]?"survey-li preboxval survey-li-active":"survey-li preboxval"},"9"),i.a.createElement("li",{onClick:this.setScaleVal,"data-id":10,className:10==this.state["selectedAnswers-"+this.state.viewActiveBox.id]?"survey-li preboxval survey-li-active":"survey-li preboxval"},"10")),i.a.createElement("div",{className:"likeornot"},i.a.createElement("span",null,this.state.globalLang.global_not_at_all_likely)," ",i.a.createElement("span",{className:"pull-right"},this.state.globalLang.global_extremely_likely)),i.a.createElement("div",{className:this.state.viewActiveBox.why_choose?"":"no-display",id:"why_choose_open_box5"},i.a.createElement("input",{className:"report-input",placeholder:this.state.globalLang.global_write_your_answer,type:"text",name:"selectedAnswers-whyChoose-"+this.state.viewActiveBox.id,onChange:this.handleInputChange,autoComplete:"off",value:this.state["selectedAnswers-whyChoose-"+this.state.viewActiveBox.id]?this.state["selectedAnswers-whyChoose-"+this.state.viewActiveBox.id]:""}))),i.a.createElement("div",{className:"file"==this.state.viewActiveBox.boxtype?"report-question-outer":"report-question-outer no-display"},i.a.createElement("div",{className:"survey-title no-margin",id:"preview1"},this.state.viewActiveBox.name),i.a.createElement("div",{className:this.state.viewActiveBox.description?"quest-discription":"quest-discription no-display"},this.state.viewActiveBox.descriptionText),i.a.createElement("div",{className:"profile_image_div",id:"profile_image_div6"},i.a.createElement("div",{className:"dropzone add_margin survey-dropzone dz-clickable"},i.a.createElement("input",{className:"input-file",type:"file",id:"input-file",name:"file-"+this.state.viewActiveBox.id,onChange:this.handleFileChange}),i.a.createElement("div",{className:"dz-default dz-message upload"},this.state.globalLang.global_upload),i.a.createElement("img",{src:"",id:"theImage"})))),i.a.createElement("button",{id:"rating-ok",className:this.state.questionsList&&this.state.questionsList[this.state.questionsList.length-1].id!=this.state.viewActiveBox.id&&this.state.questionsList.length>1?"report-btn":"report-btn no-display",onClick:this.goToNext},this.state.globalLang.global_ok," ",i.a.createElement("i",{className:"fa fa-check"})),i.a.createElement("button",{id:"rating-ok",className:this.state.questionsList&&this.state.questionsList[this.state.questionsList.length-1].id==this.state.viewActiveBox.id||1==this.state.questionsList.length?"report-btn":"report-btn no-display",onClick:this.submitView},this.state.globalLang.label_submit," ",i.a.createElement("i",{className:"fa fa-check"})),i.a.createElement("div",{className:"view-number"},this.state.viewActiveBox.displayOrder," ",i.a.createElement("i",{className:"fa fa-arrow-right"}))))),i.a.createElement("div",{className:this.state.showModal?"overlay":""}),i.a.createElement("div",{id:"filterModal",role:"dialog",className:this.state.showModal?"modal fade in displayBlock":"modal fade"},i.a.createElement("div",{className:"modal-dialog"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal",onClick:this.dismissModal},"\xd7"),i.a.createElement("h4",{className:"modal-title",id:"model_title"},this.state.globalLang.global_delete_template)),i.a.createElement("div",{id:"errorwindow",className:"modal-body add-patient-form filter-patient"},this.state.globalLang.global_r_u_sure_want),i.a.createElement("div",{className:"modal-footer"},i.a.createElement("div",{className:"col-md-12 text-left",id:"footer-btn"},i.a.createElement("button",{type:"button",className:"btn  logout pull-right","data-dismiss":"modal",onClick:this.dismissModal},this.state.globalLang.global_no),i.a.createElement("button",{type:"button",className:"btn btn-success pull-right m-r-10","data-dismiss":"modal",onClick:this.deleteTemplate},this.state.globalLang.global_yes)))))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeonClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock positionFixed":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.globalLang.loading_please_wait_text))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(void 0!=e.showLoader&&0==e.showLoader)return{showLoader:!1};var a={};if(void 0!=e.savedTemplateData&&1==e.savedTemplateData&&"false"==localStorage.getItem("showLoader")&&rt.toast.success(e.message,{onClose:function(){e.history.push("/settings/procedure-templates")}}),void 0!=e.deleteTemplateData&&1==e.deleteTemplateData&&"false"==localStorage.getItem("showLoader")&&rt.toast.success(e.message,{onClose:function(){e.history.push("/settings/procedure-templates")}}),void 0!=e.templateData&&e.templateData!=t.templateData&&!t.userChanged&&"false"==localStorage.getItem("showLoader")){var s=e.templateData.data;if(s.length){a.mainOptions=[];var n=[],i=[];s.map(function(e,t){var r,o=(r=e.boxtype,Object.keys(E_).find(function(e){return E_[e]===r}));e.boxtype=o,e.currentlyActive=!1,e.required=!!e.required,e.description=!!e.description,s[t]=e,a["name-"+e.id]=e.name,a["description-"+e.id]=e.descriptionText,a["answers-"+e.id]=e.logicJumpsQue?e.logicJumpsQue:[],a["questions-"+e.id]=e.logicJumpsAns.length?e.logicJumpsAns:[""],a["else-"+e.id]=e.logicJumpsElse?e.logicJumpsElse:"",a.mainOptions.push({id:e.id,name:e.name}),n[e.id]=[!1],i[e.id]=[!1],e.options&&e.options.length&&e.options.map(function(t,s){a["choice-"+e.id+"-"+s]=t})}),a.questionsError=n,a.answersError=i,s[0].currentlyActive=!0,a.activeBox=s[0],a.viewActiveBox=s[0],a.activeBoxRequired=!!s[0].required,a.activeBoxDesc=!!s[0].description}a.showLoader=!1,a.questionsList=s,a.title=e.templateData.title}return void 0!=e.showLoader&&0==e.showLoader&&"false"==localStorage.getItem("showLoader")?(a.showLoader=!1,a):a}}]),t}(n.Component);var N_=Object(Z.b)(function(e){var t={},a=JSON.parse(localStorage.getItem("languageData"));return localStorage.setItem("showLoader",!1),"PROCEDURE_TEMPLATE_DATA"===e.SettingReducer.action&&(200!=e.SettingReducer.data.status?(rt.toast.error(a.global[e.SettingReducer.data.message]),t.showLoader=!1):t.templateData=e.SettingReducer.data.data),"SAVE_PROCEDURE_TEMPLATE_DATA"===e.SettingReducer.action&&(201!=e.SettingReducer.data.status||200!=e.SettingReducer.data.status?(rt.toast.error(a.global[e.SettingReducer.data.message]),t.showLoader=!1):(t.savedTemplateData=!0,t.message=a.global[e.SettingReducer.data.message])),"DELETE_PROCEDURE_TEMPLATE"===e.SettingReducer.action&&(200!=e.SettingReducer.data.status?(rt.toast.error(a.global[e.SettingReducer.data.message]),t.showLoader=!1):(t.deleteTemplateData=!0,t.message=a.global[e.SettingReducer.data.message])),t},function(e){return Object(c.bindActionCreators)({getTemplateData:lo,saveTemplateData:co,deleteTemplate:mo,updateSortOrder:mi},e)})(y_),S_=function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t,s=e.target,n=s.value;switch(s.type){case"checkbox":n=s.checked}a.setState((t={},Object(se.a)(t,e.target.name,n),Object(se.a)(t,"userChanged",!0),t))},a.handleSubmit=function(e){e.preventDefault();var t=!1;if(a.setState({from_emailError:!1,appointment_booking_emailError:!1,appointment_booking_smsError:!1,appointment_canceled_emailError:!1,appointment_canceled_smsError:!1,appointment_reschedule_emailError:!1,appointment_reschedule_smsError:!1,reminder_email_subjectError:!1,reminder_emailError:!1,reminder_smsError:!1}),""==a.state.from_email||nt.a.isEmail(a.state.from_email)?a.state.from_email&&a.setState({from_emailError:!1,from_emailErrorClass:"setting-input-box"}):(rt.toast.error("Incorrect email address"),a.setState({from_emailError:!0,from_emailClassError:"setting-input-box field-error"}),t=!0),void 0===typeof a.state.reminder_sms||null===a.state.reminder_sms||""===a.state.reminder_sms||""===a.state.reminder_sms.trim()?(a.setState({reminder_smsError:!0,reminder_smsClassError:"setting-textarea-box field-error"}),t=!0):a.state.reminder_sms&&a.setState({reminder_smsError:!1,reminder_smsErrorClass:"setting-textarea-box"}),void 0===typeof a.state.reminder_email||null===a.state.reminder_email||""===a.state.reminder_email||""===a.state.reminder_email.trim()?(a.setState({reminder_emailError:!0,reminder_emailClassError:"setting-textarea-box field-error"}),t=!0):a.state.reminder_email&&a.setState({reminder_emailError:!1,reminder_emailErrorClass:"setting-textarea-box"}),void 0===typeof a.state.reminder_email_subject||null===a.state.reminder_email_subject||""===a.state.reminder_email_subject||""===a.state.reminder_email_subject.trim()?(a.setState({reminder_email_subjectError:!0,reminder_email_subjectClassError:"setting-textarea-box field-error"}),t=!0):a.state.reminder_email_subject&&a.setState({reminder_email_subjectError:!1,reminder_email_subjectErrorClass:"setting-textarea-box"}),void 0===typeof a.state.appointment_reschedule_sms||null===a.state.appointment_reschedule_sms||""===a.state.appointment_reschedule_sms||""===a.state.appointment_reschedule_sms.trim()?(a.setState({appointment_reschedule_smsError:!0,appointment_reschedule_smsClassError:"setting-textarea-box field-error"}),t=!0):a.state.appointment_reschedule_sms&&a.setState({appointment_reschedule_smsError:!1,appointment_reschedule_smsErrorClass:"setting-textarea-box"}),void 0===typeof a.state.appointment_reschedule_email||null===a.state.appointment_reschedule_email||""===a.state.appointment_reschedule_email||""===a.state.appointment_reschedule_email.trim()?(a.setState({appointment_reschedule_emailError:!0,appointment_reschedule_emailClassError:"setting-textarea-box field-error"}),t=!0):a.state.appointment_reschedule_email&&a.setState({appointment_reschedule_emailError:!1,appointment_reschedule_emailErrorClass:"setting-textarea-box"}),void 0===typeof a.state.appointment_canceled_sms||null===a.state.appointment_canceled_sms||""===a.state.appointment_canceled_sms||""===a.state.appointment_canceled_sms.trim()?(a.setState({appointment_canceled_smsError:!0,appointment_canceled_smsClassError:"setting-textarea-box field-error"}),t=!0):a.state.appointment_canceled_sms&&a.setState({appointment_canceled_smsError:!1,appointment_canceled_smsErrorClass:"setting-textarea-box"}),void 0===typeof a.state.appointment_canceled_email||null===a.state.appointment_canceled_email||""===a.state.appointment_canceled_email||""===a.state.appointment_canceled_email.trim()?(a.setState({appointment_canceled_emailError:!0,appointment_canceled_emailClassError:"setting-textarea-box field-error"}),t=!0):a.state.appointment_canceled_email&&a.setState({appointment_canceled_emailError:!1,appointment_canceled_emailErrorClass:"setting-textarea-box"}),void 0===typeof a.state.appointment_booking_sms||null===a.state.appointment_booking_sms||""===a.state.appointment_booking_sms||""===a.state.appointment_booking_sms.trim()?(a.setState({appointment_booking_smsError:!0,appointment_booking_smsClassError:"setting-textarea-box field-error"}),t=!0):a.state.appointment_booking_sms&&a.setState({appointment_booking_smsError:!1,appointment_booking_smsErrorClass:"setting-textarea-box"}),void 0===typeof a.state.appointment_booking_email||null===a.state.appointment_booking_email||""===a.state.appointment_booking_email||""===a.state.appointment_booking_email.trim()?(a.setState({appointment_booking_emailError:!0,appointment_booking_emailClassError:"setting-textarea-box field-error"}),t=!0):a.state.appointment_booking_email&&a.setState({appointment_booking_emailError:!1,appointment_booking_emailClass:"setting-textarea-box"}),!t){var s={clinics:[],account_details:{appointment_booking_email:a.state.appointment_booking_email,appointment_booking_sms:a.state.appointment_booking_sms,appointment_canceled_email:a.state.appointment_canceled_email,appointment_canceled_sms:a.state.appointment_canceled_sms,appointment_reschedule_email:a.state.appointment_reschedule_email,appointment_reschedule_sms:a.state.appointment_reschedule_sms,appointment_cancel_status:a.state.appointment_cancel_status,appointment_booking_status:a.state.appointment_booking_status,appointment_reschedule_status:a.state.appointment_reschedule_status,appointment_reminder_status:a.state.appointment_reminder_status,account_preference:{reminder_email:a.state.reminder_email,reminder_sms:a.state.reminder_sms,reminder_email_subject:a.state.reminder_email_subject,from_email:a.state.from_email}}};void 0!=a.state.clinicList&&a.state.clinicList.length>0&&(s.clinics=a.state.clinicList.map(function(e,t){return{id:e.id,email_special_instructions:a.state["email_special_instructions-"+e.id]}})),a.props.updateAppointment(s)}},a.state={appointmentData:{},clinicList:[],appointment_cancel_status:!1,appointment_booking_status:!1,appointment_reschedule_status:!1,appointment_reminder_status:!1,userChanged:!1,appointment_booking_emailClass:"setting-textarea-box",from_emailClass:"setting-input-box",appointment_booking_smsClass:"setting-textarea-box",appointment_canceled_emailClass:"setting-textarea-box",appointment_canceled_smsClass:"setting-textarea-box",appointment_reschedule_emailClass:"setting-textarea-box",appointment_reschedule_smsClass:"setting-textarea-box",reminder_email_subjectClass:"setting-textarea-box",reminder_emailClass:"setting-textarea-box",reminder_smsClass:"setting-textarea-box",reminder_smsClassError:"setting-textarea-box field-error",checkboxClosed:"switch-accordian-row closed",checkboxOn:"switch-accordian-row",clinic_name:"",contact_no:"",city:"",country:"",address:"",tax:"",status:!0,appointment_notification_emails:"",clinic_color:"",sms_notifications_phone:"",reminder_email_subject:"",reminder_sms:"",reminder_email:"",appointment_reminder:"",from_email:"",appointment_booking_email:"",appointment_booking_sms:"",appointment_canceled_email:"",appointment_canceled_sms:"",email_special_instructions:"",appointment_reschedule_email:"",appointment_reschedule_sms:"",appointment_reminder_email_subject:"",appointment_reminder_sms:"",appointment_reminder_email_body:"",AppointmentCancelEnable:"setting-container",AppointmentCancelDisable:"setting-container no-display",showLoader:!1},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e,t=JSON.parse(localStorage.getItem("languageData"));this.setState((e={AppointmentEmailSMS_Special_Instructions:t.settings.AppointmentEmailSMS_Special_Instructions,AppointmentEmailSMS_From_Email:t.settings.AppointmentEmailSMS_From_Email,AppointmentEmailSMS_Instructions:t.settings.AppointmentEmailSMS_Instructions,AppointmentEmailSMS_Appointment_Booking_Confirmation:t.settings.AppointmentEmailSMS_Appointment_Booking_Confirmation,Survey_email:t.settings.Survey_email,survey_email_message:t.settings.survey_email_message,survey_sms:t.settings.survey_sms,survey_sms_message:t.settings.survey_sms_message,AppointmentEmailSMS_Appointment_Cancellation_Confirmation:t.settings.AppointmentEmailSMS_Appointment_Cancellation_Confirmation,AppointmentEmailSMS_Appointment_Reschedule_Confirmation:t.settings.AppointmentEmailSMS_Appointment_Reschedule_Confirmation,AppointmentEmailSMS_Appointment_Reminder:t.settings.AppointmentEmailSMS_Appointment_Reminder,editUsers_CancelBtn:t.settings.editUsers_CancelBtn,AppointmentEmailSMS_Submitbtn:t.settings.AppointmentEmailSMS_Submitbtn,AppointmentEmailSMS_Your_Demo_Clinic:t.settings.AppointmentEmailSMS_Your_Demo_Clinic,AppointmentEmailSMS_EMAIL_SUBJECT:t.settings.AppointmentEmailSMS_EMAIL_SUBJECT,AppointmentEmailSMS_EMAIL_BODY:t.settings.AppointmentEmailSMS_EMAIL_BODY},Object(se.a)(e,"editUsers_CancelBtn",t.settings.editUsers_CancelBtn),Object(se.a)(e,"AppointmentEmailSMS_Patient_Name",t.settings.AppointmentEmailSMS_Patient_Name),Object(se.a)(e,"AppointmentEmailSMS_Special_Appointment_Date_Time",t.settings.AppointmentEmailSMS_Special_Appointment_Date_Time),Object(se.a)(e,"clinics_Clinic_Name",t.settings.clinics_Clinic_Name),Object(se.a)(e,"AppointmentEmailSMS_Special_Clinic_Location",t.settings.AppointmentEmailSMS_Special_Clinic_Location),Object(se.a)(e,"AppointmentEmailSMS_Clinic_Instructions",t.settings.AppointmentEmailSMS_Clinic_Instructions),Object(se.a)(e,"AppointmentEmailSMS_Booked_Services",t.settings.AppointmentEmailSMS_Booked_Services),Object(se.a)(e,"AppointmentEmailSMS_Cancellation_Fee_Charge_Days",t.settings.AppointmentEmailSMS_Cancellation_Fee_Charge_Days),Object(se.a)(e,"AppointmentEmailSMS_Cancellation_Fee",t.settings.AppointmentEmailSMS_Cancellation_Fee),Object(se.a)(e,"AppointmentEmailSMS_InstructionsLabel",t.settings.AppointmentEmailSMS_InstructionsLabel),Object(se.a)(e,"AppointmentEmailSMS_Provider_Name",t.settings.AppointmentEmailSMS_Provider_Name),Object(se.a)(e,"AppointmentEmailSMS_Business_Name",t.settings.AppointmentEmailSMS_Business_Name),Object(se.a)(e,"clinic_Please_Wait",t.settings.clinic_Please_Wait),Object(se.a)(e,"user_save_btn_text",t.settings.user_save_btn_text),Object(se.a)(e,"showLoader",!0),e)),this.setState({showLoader:!0}),this.props.getAppointment()}},{key:"render",value:function(){var e=this,t=[];return void 0!=this.state.clinicList&&this.state.clinicList.length>0&&(t=this.state.clinicList.map(function(t,a){return i.a.createElement("div",{className:"col-sm-6 col-xs-12",key:a},i.a.createElement("div",{className:"instruction-subtitle"},t.clinic_name),i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},e.state.AppointmentEmailSMS_InstructionsLabel),i.a.createElement("input",{type:"hidden",name:"clinic_ids[]",defaultValue:1}),i.a.createElement("textarea",{name:"email_special_instructions-"+t.id,className:"setting-textarea-box",placeholder:"Clinic Instructions",value:e.state["email_special_instructions-"+t.id]||"",cols:30,rows:6,style:{height:"130px"},onChange:e.handleInputChange}),"   "))})),i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(ps,null),i.a.createElement("form",{name:"appointment_Sms_And_Email-form",className:"nobottommargin",action:"#",method:"post",onSubmit:this.handleSubmit},i.a.createElement("div",{className:"setting-setion"},i.a.createElement("div",{className:"setting-container"},i.a.createElement("div",{className:"setting-title m-b-60"},this.state.AppointmentEmailSMS_Special_Instructions," ",i.a.createElement("a",{title:"How to find parking",className:"help-icon"},"?")),i.a.createElement("div",{className:"row m-b-40"},i.a.createElement("div",{className:"col-lg-3"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.AppointmentEmailSMS_From_Email,i.a.createElement("span",{className:"setting-require"})),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{type:"text",name:"from_email",className:!0===this.state.from_emailError?this.state.from_emailClassError:this.state.from_emailClass,value:this.state.from_email||"",autoComplete:"off",onChange:this.handleInputChange}))))),i.a.createElement("div",{className:"row"},t)),i.a.createElement("div",{className:"switch-accordian-outer"},i.a.createElement("div",{className:1==this.state.appointment_booking_status?this.state.checkboxOn:this.state.checkboxClosed,id:"book"},this.state.AppointmentEmailSMS_Appointment_Booking_Confirmation,i.a.createElement("a",{title:"Your Appointment Booking Confirmation Email/SMS",className:"help-icon"},"?"),i.a.createElement("label",{className:"setting-switch pull-right"},i.a.createElement("input",{type:"checkbox",name:"appointment_booking_status",className:"setting-custom-switch-input",checked:!!this.state.appointment_booking_status&&"checked",value:this.state.appointment_booking_status||"",onChange:this.handleInputChange}),i.a.createElement("span",{className:"setting-slider"}))),i.a.createElement("div",{className:1==this.state.appointment_booking_status?this.state.AppointmentCancelEnable:this.state.AppointmentCancelDisable,id:"Appointment_Booking-form-title"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-6"},i.a.createElement("div",{className:"instruction-subtitle"},this.state.Survey_email),i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.survey_email_message,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("textarea",{placeholder:"Email Message",rows:10,name:"appointment_booking_email",className:!0===this.state.appointment_booking_emailError&&this.state.appointment_booking_status?this.state.appointment_booking_emailClassError:this.state.appointment_booking_emailClass,value:this.state.appointment_booking_email||"",onChange:this.handleInputChange,style:{height:"310px"}}))),i.a.createElement("div",{className:"col-md-6"},i.a.createElement("div",{className:"instruction-subtitle"},this.state.survey_sms),i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.survey_sms_message,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("textarea",{placeholder:"SMS Message",name:"appointment_booking_sms",value:this.state.appointment_booking_sms||"",rows:10,className:!0===this.state.appointment_booking_smsError?this.state.appointment_booking_smsClassError:this.state.appointment_booking_smsClass,onChange:this.handleInputChange,style:{resize:"none",width:"100%",height:"182px"}})))),i.a.createElement("div",{className:"row setting-variable"},i.a.createElement("div",{className:"col-md-4 col-sm-12"},this.state.AppointmentEmailSMS_Patient_Name,": ","{","{","PATIENTNAME","}","}",i.a.createElement("br",null),this.state.AppointmentEmailSMS_Provider_Name,": ","{","{","PROVIDERNAME","}","}",i.a.createElement("br",null),this.state.AppointmentEmailSMS_Special_Appointment_Date_Time,": ","{","{","APPOINTMENTDATETIME","}","}"),i.a.createElement("div",{className:"col-md-4 col-sm-12"},this.state.clinics_Clinic_Name,":","{","{","CLINICNAME","}","}",i.a.createElement("br",null),this.state.AppointmentEmailSMS_Special_Clinic_Location,":","{","{","CLINICLOCATION","}","}",i.a.createElement("br",null),this.state.AppointmentEmailSMS_Clinic_Instructions,":","{","{","CLINICINSTRUCTIONS","}","}"),i.a.createElement("div",{className:"col-md-4 col-sm-12"},this.state.AppointmentEmailSMS_Booked_Services,":","{","{","BOOKEDSERVICES","}","}",i.a.createElement("br",null),this.state.AppointmentEmailSMS_Cancellation_Fee_Charge_Days,":","{","{","CANFEECHARGEDAYS","}","}",i.a.createElement("br",null),this.state.AppointmentEmailSMS_Cancellation_Fee,":","{","{","CANCELATIONFEES","}","}")))),i.a.createElement("div",{className:"switch-accordian-outer"},i.a.createElement("div",{className:1==this.state.appointment_cancel_status?this.state.checkboxOn:this.state.checkboxClosed,id:"cancel"},this.state.AppointmentEmailSMS_Appointment_Cancellation_Confirmation,i.a.createElement("a",{title:"Your Appointment Cancellation Confirmation Email/SMS",className:"help-icon"},"?"),i.a.createElement("label",{className:"setting-switch pull-right"},i.a.createElement("input",{type:"checkbox",name:"appointment_cancel_status",className:"setting-custom-switch-input",checked:!!this.state.appointment_cancel_status&&"checked",value:this.state.appointment_cancel_status||"",onChange:this.handleInputChange}),i.a.createElement("span",{className:"setting-slider"})))),i.a.createElement("div",{className:1==this.state.appointment_cancel_status?this.state.AppointmentCancelEnable:this.state.AppointmentCancelDisable,id:"Appointment_Cancel_Booking"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-6"},i.a.createElement("div",{className:"instruction-subtitle"},this.state.Survey_email),i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.survey_email_message,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("textarea",{className:!0===this.state.appointment_canceled_emailError?this.state.appointment_canceled_emailClassError:this.state.appointment_canceled_emailClass,placeholder:"Email Message",id:"appointment_canceled_email",name:"appointment_canceled_email",value:this.state.appointment_canceled_email||"",onChange:this.handleInputChange,rows:10,style:{height:"330px"}}))),i.a.createElement("div",{className:"col-md-6"},i.a.createElement("div",{className:"instruction-subtitle"},this.state.survey_sms),i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.survey_sms_message,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("textarea",{className:!0===this.state.appointment_canceled_smsError?this.state.appointment_canceled_smsClassError:this.state.appointment_canceled_smsClass,placeholder:"SMS Message",id:"appointment_canceled_sms",value:this.state.appointment_canceled_sms||"",rows:10,name:"appointment_canceled_sms",onChange:this.handleInputChange,style:{height:"162px"}})))),i.a.createElement("div",{className:"row setting-variable"},i.a.createElement("div",{className:"col-md-4 col-sm-12"},this.state.AppointmentEmailSMS_Patient_Name,": ","{","{","PATIENTNAME","}","}",i.a.createElement("br",null),this.state.AppointmentEmailSMS_Special_Appointment_Date_Time,": ","{","{","APPOINTMENTDATETIME","}","}",i.a.createElement("br",null),this.state.clinics_Clinic_Name,":","{","{","CLINICNAME","}","}"),i.a.createElement("div",{className:"col-md-4 col-sm-12"},this.state.AppointmentEmailSMS_Special_Clinic_Location,":","{","{","CLINICLOCATION","}","}",i.a.createElement("br",null),this.state.AppointmentEmailSMS_Clinic_Instructions,":","{","{","CLINICINSTRUCTIONS","}","}",i.a.createElement("br",null),this.state.AppointmentEmailSMS_Booked_Services,":","{","{","BOOKEDSERVICES","}","}"))),i.a.createElement("div",{className:"switch-accordian-outer"},i.a.createElement("div",{className:1==this.state.appointment_reschedule_status?this.state.checkboxOn:this.state.checkboxClosed,id:"reschedule"},this.state.AppointmentEmailSMS_Appointment_Reschedule_Confirmation,i.a.createElement("a",{title:"Your Appointment Reschedule Confirmation Email/SMS",className:"help-icon"},"?"),i.a.createElement("label",{className:"setting-switch pull-right"},i.a.createElement("input",{type:"checkbox",name:"appointment_reschedule_status",className:"setting-custom-switch-input",checked:!!this.state.appointment_reschedule_status&&"checked",value:this.state.appointment_reschedule_status||"",onChange:this.handleInputChange}),i.a.createElement("span",{className:"setting-slider"})))),i.a.createElement("div",{className:1==this.state.appointment_reschedule_status?this.state.AppointmentCancelEnable:this.state.AppointmentCancelDisable,id:"appointment_reschedule"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-6"},i.a.createElement("div",{className:"instruction-subtitle"},this.state.Survey_email),i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.survey_email_message,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("textarea",{className:!0===this.state.appointment_reschedule_emailError&&this.state.appointment_reschedule_status?this.state.appointment_reschedule_emailClassError:this.state.appointment_reschedule_emailClass,placeholder:"Email Message",id:"appointment_reschedule_email",rows:10,name:"appointment_reschedule_email",value:this.state.appointment_reschedule_email||"",onChange:this.handleInputChange,style:{height:"310px"}}))),i.a.createElement("div",{className:"col-md-6"},i.a.createElement("div",{className:"instruction-subtitle"},this.state.survey_sms),i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.survey_sms_message,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("textarea",{className:!0===this.state.appointment_reschedule_smsError?this.state.appointment_reschedule_smsClassError:this.state.appointment_reschedule_smsClass,placeholder:"SMS Message",id:"appointment_reschedule_sms",value:this.state.appointment_reschedule_sms||"",rows:10,name:"appointment_reschedule_sms",onChange:this.handleInputChange,style:{height:"162px"}})))),i.a.createElement("div",{className:"row setting-variable"},i.a.createElement("div",{className:"col-md-4 col-sm-12"},this.state.AppointmentEmailSMS_Patient_Name,": ","{","{","PATIENTNAME","}","}",i.a.createElement("br",null),this.state.AppointmentEmailSMS_Special_Appointment_Date_Time,": ","{","{","APPOINTMENTDATETIME","}","}",i.a.createElement("br",null),this.state.clinics_Clinic_Name,":","{","{","CLINICNAME","}","}"),i.a.createElement("div",{className:"col-md-4 col-sm-12"},this.state.AppointmentEmailSMS_Special_Clinic_Location,":","{","{","CLINICLOCATION","}","}",i.a.createElement("br",null),this.state.AppointmentEmailSMS_Clinic_Instructions,":","{","{","CLINICINSTRUCTIONS","}","}",i.a.createElement("br",null),this.state.AppointmentEmailSMS_Booked_Services,":","{","{","BOOKEDSERVICES","}","}"),i.a.createElement("div",{className:"col-md-4 col-sm-12"},this.state.AppointmentEmailSMS_Cancellation_Fee_Charge_Days,":","{","{","CANFEECHARGEDAYS","}","}",i.a.createElement("br",null),this.state.AppointmentEmailSMS_Cancellation_Fee,":","{","{","CANCELATIONFEES","}","}"))),i.a.createElement("div",{className:"switch-accordian-outer"},i.a.createElement("div",{className:1==this.state.appointment_reminder_status?this.state.checkboxOn:this.state.checkboxClosed,id:"reminder"},this.state.AppointmentEmailSMS_Appointment_Reminder,i.a.createElement("a",{title:"Your Appointment Reminder Email/SMS",className:"help-icon"},"?"),i.a.createElement("label",{className:"setting-switch pull-right"},i.a.createElement("input",{type:"checkbox",name:"appointment_reminder_status",className:"setting-custom-switch-input",checked:!!this.state.appointment_reminder_status&&"checked",value:this.state.appointment_reminder_status||"",onChange:this.handleInputChange}),i.a.createElement("span",{className:"setting-slider"}))),i.a.createElement("div",{className:1==this.state.appointment_reminder_status?this.state.AppointmentCancelEnable:this.state.AppointmentCancelDisable,id:"appointment_reminder_container"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-6"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-12"},i.a.createElement("div",{className:"instruction-subtitle"},this.state.Survey_email),i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.AppointmentEmailSMS_EMAIL_SUBJECT,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("input",{className:this.state.reminder_email_subjectError&&1==this.state.appointment_reminder_status?this.state.reminder_email_subjectClassError:this.state.reminder_email_subjectClass,placeholder:"Email Subject",name:"reminder_email_subject",value:this.state.reminder_email_subject||"",type:"text",onChange:this.handleInputChange}))),i.a.createElement("div",{className:"col-sm-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.AppointmentEmailSMS_EMAIL_BODY,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("textarea",{className:!0===this.state.reminder_emailError?this.state.reminder_emailClassError:this.state.reminder_emailClass,placeholder:"Email Body",name:"reminder_email",id:"reminder_email",value:this.state.reminder_email||"",onChange:this.handleInputChange,contenteditable:"true",rows:10,style:{height:"210px"}}))))),i.a.createElement("div",{className:"col-md-6"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-12"},i.a.createElement("div",{className:"instruction-subtitle"},this.state.survey_sms),i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.survey_sms_message),i.a.createElement("textarea",{className:!0===this.state.reminder_smsError?this.state.reminder_smsClassError:this.state.reminder_smsClass,placeholder:"SMS Message",name:"reminder_sms",id:"reminder_sms",rows:10,value:this.state.reminder_sms||"",onChange:this.handleInputChange,style:{height:"162px"}})))))),i.a.createElement("div",{className:"row setting-variable"},i.a.createElement("div",{className:"col-md-4 col-sm-12"},this.state.AppointmentEmailSMS_Patient_Name,": ","{","{","PATIENTNAME","}","}",i.a.createElement("br",null),this.state.AppointmentEmailSMS_Special_Appointment_Date_Time,": ","{","{","APPOINTMENTDATETIME","}","}",i.a.createElement("br",null),this.state.clinics_Clinic_Name,":","{","{","CLINICNAME","}","}"),i.a.createElement("div",{className:"col-md-4 col-sm-12"},this.state.AppointmentEmailSMS_Special_Clinic_Location,":","{","{","CLINICLOCATION","}","}",i.a.createElement("br",null),this.state.AppointmentEmailSMS_Clinic_Instructions,":","{","{","CLINICINSTRUCTIONS","}","}",i.a.createElement("br",null),this.state.AppointmentEmailSMS_Booked_Services,":","{","{","BOOKEDSERVICES","}","}"),i.a.createElement("div",{className:"col-md-4 col-sm-12"},this.state.AppointmentEmailSMS_Cancellation_Fee_Charge_Days,":","{","{","CANFEECHARGEDAYS","}","}",i.a.createElement("br",null),this.state.AppointmentEmailSMS_Cancellation_Fee,":","{","{","CANCELATIONFEES","}","}",i.a.createElement("br",null),this.state.AppointmentEmailSMS_Business_Name,": ","{","{","BUSINESSNAME","}","}")))),i.a.createElement("div",{className:"footer-static"},i.a.createElement("input",{className:"new-blue-btn pull-right",id:"save",value:this.state.user_save_btn_text||"",type:"submit"})),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.clinic_Please_Wait))))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(void 0!=e.appointmentData&&e.appointmentData.data!==t.appointmentData&&0==t.userChanged){var a={};e.appointmentData.data.clinics.length&&e.appointmentData.data.clinics.map(function(e,t){a["email_special_instructions-"+e.id]=e.email_special_instructions});var s=e.appointmentData.data.account_details.account_preference;return a.from_email=t.userChanged?t.from_email:s.from_email?s.from_email:"",a.appointment_booking_status=t.userChanged?t.appointment_booking_status:e.appointmentData.data.account_details.appointment_booking_status,a.appointment_booking_email=t.userChanged?t.appointment_booking_email:e.appointmentData.data.account_details.appointment_booking_email,a.appointment_booking_sms=t.userChanged?t.appointment_booking_sms:e.appointmentData.data.account_details.appointment_booking_sms,a.appointment_cancel_status=t.userChanged?t.appointment_cancel_status:e.appointmentData.data.account_details.appointment_cancel_status,a.appointment_canceled_email=t.userChanged?t.appointment_canceled_email:e.appointmentData.data.account_details.appointment_canceled_email,a.appointment_canceled_sms=t.userChanged?t.appointment_canceled_sms:e.appointmentData.data.account_details.appointment_canceled_sms,a.appointment_reschedule_status=t.userChanged?t.appointment_reschedule_status:e.appointmentData.data.account_details.appointment_reschedule_status,a.appointment_reschedule_email=t.userChanged?t.appointment_reschedule_email:e.appointmentData.data.account_details.appointment_reschedule_email,a.appointment_reschedule_sms=t.userChanged?t.appointment_reschedule_sms:e.appointmentData.data.account_details.appointment_reschedule_sms,a.appointment_reminder_status=t.userChanged?t.appointment_reminder_status:e.appointmentData.data.account_details.appointment_reminder_status,a.reminder_email_subject=t.userChanged?t.reminder_email_subject:s.reminder_email_subject,a.reminder_email=t.userChanged?t.reminder_email:s.reminder_email,a.reminder_sms=t.userChanged?t.reminder_sms:s.reminder_sms,a.email_special_instructions=t.userChanged?t.email_special_instructions:s.email_special_instructions,a.clinicList=t.userChanged?t.clinicList:e.appointmentData.data.clinics,a.showLoader=!1,a}return null}}]),t}(n.Component);var D_=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData"));return"APPOINTMENT_GET"===e.SettingReducer.action||"APPOINTMENT_UPDATE"===e.SettingReducer.action?200!==e.SettingReducer.data.status?(rt.toast.error(t.global[e.SettingReducer.data.message]),{appointmentData:e.SettingReducer.data}):("APPOINTMENT_UPDATE"===e.SettingReducer.action&&rt.toast.success(t.global[e.SettingReducer.data.message]),{appointmentData:e.SettingReducer.data}):{}},function(e){return Object(c.bindActionCreators)({getAppointment:Ei,updateAppointment:Hi},e)})(S_),w_=function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).showDeleteModal=function(e){a.setState({showModal:!0,reminderId:e.currentTarget.dataset.userid})},a.showEditModal=function(e){a.setState({userId:e.currentTarget.dataset.userid})},a.dismissModal=function(){a.setState({showModal:!1})},a.loadMore=function(){localStorage.setItem("sortOnly",!1),a.setState({loadMore:!0,startFresh:!0,showLoader:!0,showLoadingText:!0});var e={params:{page:a.state.page,pagesize:a.state.pagesize,sortby:a.state.sortby,sortorder:a.state.sortorder,term:a.state.term,scopes:a.state.scopes}};a.props.getAppointmentReminder(e)},a.onSort=function(e){var t="asc"===a.state.sortorder?"desc":"asc",s={params:{page:1,pagesize:a.state.pagesize,sortby:e,sortorder:t,term:a.state.term,scopes:a.state.scopes}};a.setState({page:1,pagesize:a.state.pagesize,sortby:e,sortorder:t,loadMore:!0,startFresh:!0,showLoader:!0,next_page_url:"",appointmentReminder:[]}),localStorage.setItem("sortOnly",!0),a.props.getAppointmentReminder(s)},a.deleteReminder=function(){localStorage.setItem("isDelete",!0),a.dismissModal();var e=a.state.appointmentReminder;e.length&&(e.map(function(t,s){t.id==a.state.reminderId&&delete e[s]}),a.setState({appointmentReminder:e})),a.props.deleteAppointmentReminder(a.state.reminderId),a.dismissModal()},a.state={reminder_before:"",reminder_type:"",appointmentReminder:[],userChanged:!1,userId:"",page:1,pagesize:15,sortby:"",sortorder:"asc",showLoadingText:!1,term:"",hasMoreItems:!0,next_page_url:"",loadMore:!0,startFresh:!0,showLoader:!1,showModal:!1,noRecordDisplayEnable:"no-record",noRecordDisplayDisable:"no-record no-display"},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),window.onscroll=function(){var e=parseInt(Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop));window.innerHeight+e===document.documentElement.offsetHeight&&null!=a.state.next_page_url&&a.loadMore()},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("languageData"));this.setState({loading_please_wait_text:e.global.loading_please_wait_text,Appointment_Reminders:e.settings.Appointment_Reminders,Appointment_Reminder_Actions:e.settings.Appointment_Reminder_Actions,Appointment_Reminder_Send_Reminder_Before:e.settings.Appointment_Reminder_Send_Reminder_Before,Appointment_Reminder_Edit:e.settings.Appointment_Reminder_Edit,Appointment_Reminder_Delete:e.settings.Appointment_Reminder_Delete,clinic_No_Record_Found:e.settings.clinic_No_Record_Found,clinic_Please_Wait:e.settings.clinic_Please_Wait,Appointment_Reminder_Create_Reminder:e.settings.Appointment_Reminder_Create_Reminder,Appointmnet_Reminder_delete_warning:e.settings.Appointmnet_Reminder_delete_warning,Appointmnet_Reminder_Confirmation_Required:e.settings.Appointmnet_Reminder_Confirmation_Required,no_option:e.settings.no_option,yes_option:e.settings.yes_option});var t={params:{page:this.state.page,pagesize:this.state.pagesize,sortby:this.state.sortby,sortorder:"asc",term:this.state.term,scopes:this.state.scopes}};this.setState({showLoader:!0}),this.props.getAppointmentReminder(t)}},{key:"shouldComponentUpdate",value:function(e,t){return!!this.state.startFresh||(!!this.state.loadMore||!!this.state.showLoader)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{id:"navbar",className:"navbar-collapse collapse"},i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(ps,null),i.a.createElement("div",{className:"setting-setion"},i.a.createElement("div",{className:"setting-search-outer"},i.a.createElement(me.a,{to:"/settings/appointment-reminder/create",className:"new-blue-btn pull-right edit_setting"},this.state.Appointment_Reminder_Create_Reminder)),i.a.createElement("div",{className:"table-responsive"},i.a.createElement("table",{className:"table-updated setting-table no-hover"},i.a.createElement("thead",{className:"table-updated-thead"},i.a.createElement("tr",null,i.a.createElement("th",{className:"col-xs-8 table-updated-th sorting"},this.state.Appointment_Reminders),i.a.createElement("th",{className:"col-xs-4 table-updated-th sorting text-center"},this.state.Appointment_Reminder_Actions))),i.a.createElement("tbody",{className:"ajax_body"},void 0!==this.state.appointmentReminder&&this.state.appointmentReminder.map(function(t,a){return i.a.createElement("tr",{className:"table-updated-tr",key:a},i.a.createElement("td",{className:"col-xs-8 table-updated-td "},e.state.Appointment_Reminder_Send_Reminder_Before," : ",i.a.createElement("b",null,t.reminder_before," ",t.reminder_type)),i.a.createElement("td",{className:"col-xs-4 table-updated-td text-center"},i.a.createElement(me.a,{className:"easy-link","data-userid":t.id,to:"/settings/appointment-reminder/"+t.id+"/edit"}," ",e.state.Appointment_Reminder_Edit),"\xa0\xa0\xa0\xa0",i.a.createElement("a",{className:"easy-link","data-userid":t.id,onClick:e.showDeleteModal.bind(e)}," ",e.state.Appointment_Reminder_Delete)))}))),!1===this.state.showLoader&&i.a.createElement("div",{className:0==this.state.appointmentReminder.length?this.state.noRecordDisplayEnable:this.state.noRecordDisplayDisable},this.state.clinic_No_Record_Found)),i.a.createElement("div",{className:this.state.showModal?"overlay":""}),i.a.createElement("div",{id:"filterModal",role:"dialog",className:this.state.showModal?"modal fade in displayBlock":"modal fade"},i.a.createElement("div",{className:"modal-dialog"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal",onClick:this.dismissModal},"\xd7"),i.a.createElement("h4",{className:"popup-title text-center",id:"popup_title"},this.state.Appointmnet_Reminder_Confirmation_Required,this.state.showModal)),i.a.createElement("div",{id:"errorwindow",className:"modal-body add-patient-form filter-patient"},this.state.Appointmnet_Reminder_delete_warning),i.a.createElement("div",{className:"modal-footer"},i.a.createElement("div",{className:"col-md-12 text-left",id:"footer-btn"},i.a.createElement("button",{type:"button",className:"btn  logout pull-right","data-dismiss":"modal",onClick:this.dismissModal},this.state.no_option),i.a.createElement("button",{type:"button",className:"btn btn-success pull-right m-r-10","data-dismiss":"modal",onClick:this.deleteReminder},this.state.yes_option)))))),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.clinic_Please_Wait))),i.a.createElement("div",{className:this.state.showLoadingText?"loading-please-wait no-margin-top":"loading-please-wait no-margin-top no-display "},this.state.loading_please_wait_text)))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(void 0!=e.appointmentReminder&&e.appointmentReminder.next_page_url!==t.next_page_url){var a={};return null==t.next_page_url?(localStorage.setItem("sortOnly",!1),a.next_page_url=null):(0==t.appointmentReminder.length&&1==t.startFresh?"false"==localStorage.getItem("sortOnly")?(a.appointmentReminder=e.appointmentReminder.data,null!=e.appointmentReminder.next_page_url?a.page=t.page+1:a.next_page_url=e.appointmentReminder.next_page_url,a.startFresh=!1,a.showLoader=!1,a.showLoadingText=!1):localStorage.setItem("sortOnly",!1):t.appointmentReminder!=e.appointmentReminder.data&&0!=t.appointmentReminder.length&&(a.appointmentReminder=Object(oa.a)(t.appointmentReminder).concat(Object(oa.a)(e.appointmentReminder.data)),a.next_page_url=e.appointmentReminder.next_page_url,a.showLoader=!1,a.showLoadingText=!1),a)}return null}}]),t}(n.Component);var C_=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData"));if("APPOINTMENT_REMINDER"===e.SettingReducer.action){if(200===e.SettingReducer.data.status)return{appointmentReminder:e.SettingReducer.data.data}}else{if("DELETE_APPOINTMENT_REMINDER"!==e.SettingReducer.action)return{};if(localStorage.setItem("isDelete",!1),200===e.SettingReducer.data.status)return rt.toast.success(t.global[e.SettingReducer.data.message]),{appointmentReminderDEL:!0};rt.toast.error(t.global[e.SettingReducer.data.message])}},function(e){return Object(c.bindActionCreators)({getAppointmentReminder:Ni,deleteAppointmentReminder:Si},e)})(w_),x_=function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t,s=e.target,n=s.value;switch(s.type){case"checkbox":n=s.checked;break;case"radio":n=s.value}a.setState((t={},Object(se.a)(t,e.target.name,n),Object(se.a)(t,"userChanged",!0),t))},a.handleSubmit=function(e){e.preventDefault();var t={},s=a.state.remind_before;if("custom"!==s){var n=s.split("-");t.reminder_before=n[0],t.reminder_type=n[1],t.is_custom=0}else t.reminder_before=a.state.custom_time,t.reminder_type=a.state.custom_type,t.is_custom=1;void 0!=a.props.match.params.reminderId?a.props.updateAppointmentReminder(t,a.props.match.params.reminderId):a.props.createAppointmentReminder(t)},a.state={remind_before:"1-months",reminder_type:"",userChanged:!1,reminderBeforeEnable:"col-sm-3 col-xs-12",reminderBeforeDisable:"col-sm-3 col-xs-12 no-display",reminderHoursEnable:"col-sm-4 col-xs-12",reminderHoursDisable:"col-sm-4 col-xs-12 no-display",custom:0,reminderId:"",custom_time:"",custom_type:"",showLoader:!1,getEditReminder:[]},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e,t=JSON.parse(localStorage.getItem("languageData"));this.setState((e={Edit_Appointment_Reminder:t.settings.Edit_Appointment_Reminder,Edit_Appointment_Reminder_SEND_REMINDER_BEFORE:t.settings.Edit_Appointment_Reminder_SEND_REMINDER_BEFORE,AppointmentEmailSMS_Submitbtn:t.settings.AppointmentEmailSMS_Submitbtn,editUsers_CancelBtn:t.settings.editUsers_CancelBtn,Create_Appointment_Reminder:t.settings.Create_Appointment_Reminder,Appointment_Reminder_Send_Reminder_Before:t.settings.Appointment_Reminder_Send_Reminder_Before,Edit_Appointment_Hours:t.settings.Edit_Appointment_Hours,Edit_Appointment_Reminder_Day:t.settings.Edit_Appointment_Reminder_Day,Edit_Appointment_Reminder_Week:t.settings.Edit_Appointment_Reminder_Week,Edit_Appointment_Reminder_Month:t.settings.Edit_Appointment_Reminder_Month,Edit_Appointment_Reminder_Custom_Time:t.settings.Edit_Appointment_Reminder_Custom_Time,Edit_Appointment_Reminder_Select:t.settings.Edit_Appointment_Reminder_Select},Object(se.a)(e,"editUsers_CancelBtn",t.settings.editUsers_CancelBtn),Object(se.a)(e,"Edit_Appointment_Two_Hours",t.settings.Edit_Appointment_Two_Hours),Object(se.a)(e,"Edit_Appointment_Four_Hours",t.settings.Edit_Appointment_Four_Hours),Object(se.a)(e,"Edit_Appointment_Six_Hours",t.settings.Edit_Appointment_Six_Hours),Object(se.a)(e,"Edit_Appointment_Twelve_Hours",t.settings.Edit_Appointment_Twelve_Hours),Object(se.a)(e,"Edit_Appointment_One_Day",t.settings.Edit_Appointment_One_Day),Object(se.a)(e,"Edit_Appointment_Two_Day",t.settings.Edit_Appointment_Two_Day),Object(se.a)(e,"Edit_Appointment_Three_Day",t.settings.Edit_Appointment_Three_Day),Object(se.a)(e,"Edit_Appointment_Four_Day",t.settings.Edit_Appointment_Four_Day),Object(se.a)(e,"Edit_Appointment_Five_Day",t.settings.Edit_Appointment_Five_Day),Object(se.a)(e,"Edit_Appointment_Six_Day",t.settings.Edit_Appointment_Six_Day),Object(se.a)(e,"Edit_Appointment_One_Week",t.settings.Edit_Appointment_One_Week),Object(se.a)(e,"Edit_Appointment_Two_Weeks",t.settings.Edit_Appointment_Two_Weeks),Object(se.a)(e,"Edit_Appointment_Three_Weeks",t.settings.Edit_Appointment_Three_Weeks),Object(se.a)(e,"Edit_Appointment_One_Month",t.settings.Edit_Appointment_One_Month),e)),void 0!=this.props.match.params.reminderId?(this.setState({showLoader:!0}),this.props.getEditAppointmentReminder(this.props.match.params.reminderId)):this.props.exportEmptyData({})}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(ps,null),i.a.createElement("div",{className:"setting-setion"},i.a.createElement("form",{id:"edit-user-form",name:"create-edit-reminder-form",className:"nobottommargin",action:"#",method:"post",onSubmit:this.handleSubmit},i.a.createElement("div",{className:"setting-container continer-min-h"},i.a.createElement("div",{className:"setting-title m-b-40"},this.props.match.params.reminderId?this.state.Edit_Appointment_Reminder:this.state.Create_Appointment_Reminder,i.a.createElement(me.a,{to:"/settings/appointment-reminder",className:"pull-right cancelAction"},i.a.createElement("img",{src:"/images/close.png"}))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-5 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer no-ques-margin"},i.a.createElement("div",{className:"new-field-label"},this.state.Appointment_Reminder_Send_Reminder_Before,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("select",{name:"remind_before",className:"setting-select-box reminder-hrs",value:this.state.remind_before,onChange:this.handleInputChange},i.a.createElement("option",{value:"2-hours"},this.state.Edit_Appointment_Two_Hours),i.a.createElement("option",{value:"4-hours"},this.state.Edit_Appointment_Four_Hours),i.a.createElement("option",{value:"6-hours"},this.state.Edit_Appointment_Six_Hours),i.a.createElement("option",{value:"12-hours"},this.state.Edit_Appointment_Twelve_Hours),i.a.createElement("option",{value:"1-days"},this.state.Edit_Appointment_One_Day),i.a.createElement("option",{value:"2-days"},this.state.Edit_Appointment_Two_Day),i.a.createElement("option",{value:"3-days"},this.state.Edit_Appointment_Three_Day),i.a.createElement("option",{value:"4-days"},this.state.Edit_Appointment_Four_Day),i.a.createElement("option",{value:"5-days"},this.state.Edit_Appointment_Five_Day),i.a.createElement("option",{value:"6-days"},this.state.Edit_Appointment_Six_Day),i.a.createElement("option",{value:"1-weeks"},this.state.Edit_Appointment_One_Week),i.a.createElement("option",{value:"2-weeks"},this.state.Edit_Appointment_Two_Weeks),i.a.createElement("option",{value:"3-weeks"},this.state.Edit_Appointment_Three_Weeks),i.a.createElement("option",{value:"1-months",defaultChecked:!0},this.state.Edit_Appointment_One_Month),i.a.createElement("option",{value:"custom"},this.state.Edit_Appointment_Reminder_Custom_Time))))),i.a.createElement("div",{className:"custom"===this.state.remind_before?this.state.reminderBeforeEnable:this.state.reminderBeforeDisable},i.a.createElement("div",{className:"setting-field-outer no-ques-margin"},i.a.createElement("div",{className:"new-field-label"},"  ",i.a.createElement("span",{className:"setting-require"})),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:"custom_time",id:"custom_time",maxLength:5,className:"setting-input-box reminder-hrs",type:"text",value:this.state.custom_time,autoComplete:"off",onChange:this.handleInputChange}),"     "))),i.a.createElement("div",{className:"custom"===this.state.remind_before?this.state.reminderHoursEnable:this.state.reminderHoursDisable},i.a.createElement("div",{className:"setting-field-outer no-ques-margin"},i.a.createElement("div",{className:"new-field-label"},"  ",i.a.createElement("span",{className:"setting-require"})),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("select",{name:"custom_type",id:"custom_type",value:this.state.custom_type,className:"setting-select-box reminder-hrs",onChange:this.handleInputChange},i.a.createElement("option",{value:!0},this.state.Edit_Appointment_Reminder_Select),i.a.createElement("option",{value:"hours"},this.state.Edit_Appointment_Hours),i.a.createElement("option",{value:"days"},this.state.Edit_Appointment_Reminder_Day),i.a.createElement("option",{value:"weeks"},this.state.Edit_Appointment_Reminder_Week),i.a.createElement("option",{value:"months"},this.state.Edit_Appointment_Reminder_Month)),"     "))))),i.a.createElement("div",{className:"footer-static"},i.a.createElement("input",{className:"new-blue-btn pull-right",id:"saveReminder",type:"submit",value:"Save"}),i.a.createElement(me.a,{to:"/settings/appointment-reminder",className:"new-white-btn pull-right cancelAction"},this.state.editUsers_CancelBtn)))))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(void 0!==e.redirect&&1==e.redirect)rt.toast.success(e.message,{onClose:function(){e.history.push("/settings/appointment-reminder")}});else if(void 0!==e.getEditReminder&&e.getEditReminder.data!==t.getEditReminder){var a="custom";return a=e.getEditReminder.data.is_custom?"custom":e.getEditReminder.data.reminder_before+"-"+e.getEditReminder.data.reminder_type,{getEditReminder:t.userChanged?t.getEditReminder:e.getEditReminder.data,remind_before:t.userChanged?t.reminder_before:a,reminder_type:t.userChanged?t.reminder_type:e.getEditReminder.data.reminder_type,custom_time:t.userChanged?t.custom_time:e.getEditReminder.data.reminder_before,custom_type:t.userChanged?t.custom_type:e.getEditReminder.data.reminder_type,custom:t.userChanged?t.custom:e.getEditReminder.data.isCustom}}return null}}]),t}(n.Component);var L_=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData"));return"CREATE_APPOINTMENT_REMINDER"===e.SettingReducer.action?201==e.SettingReducer.data.status?{redirect:!0,message:t.global[e.SettingReducer.data.message]}:(rt.toast.error(t.global[e.SettingReducer.data.message]),{}):"UPDATE_APPOINTMENT_REMINDER"===e.SettingReducer.action?200==e.SettingReducer.data.status?{redirect:!0,message:t.global[e.SettingReducer.data.message]}:(rt.toast.error(t.global[e.SettingReducer.data.message]),{}):"GET_EDIT_APPOINTMENT_REMINDER"===e.SettingReducer.action?{getEditReminder:e.SettingReducer.data}:(e.SettingReducer.action,{})},function(e){return Object(c.bindActionCreators)({createAppointmentReminder:wi,updateAppointmentReminder:Di,getEditAppointmentReminder:Ci,exportEmptyData:br},e)})(x_),O_=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t,s=e.target,n="checkbox"===s.type?s.checked:s.value;a.setState((t={},Object(se.a)(t,e.target.name,n),Object(se.a)(t,"userChanged",!0),t))},a.changeURLValue=function(){a.setState({editUrl:!a.state.editUrl})},a.changeCancelURLValue=function(){a.setState({editUrl:!a.state.editUrl,pportal_subdomain:a.state.temp_pportal_subdomain})},a.changeIntervalValue=function(){a.setState({edit_time:!a.state.edit_time})},a.changeCancelIntervalValue=function(){a.setState({edit_time:!a.state.edit_time,booking_time_interval:a.state.temp_booking_time_interval})},a.saveUrl=function(e){var t=!1;if(a.setState({pportal_subdomainError:!1}),void 0===typeof a.state.pportal_subdomain||null===a.state.pportal_subdomain||""===a.state.pportal_subdomain?(a.setState({pportal_subdomainError:!0,pportal_subdomainClassError:"setting-input-box ar-url field-error"}),t=!0):a.state.pportal_subdomain&&a.setState({pportal_subdomainError:!1,pportal_subdomainClass:"setting-input-box ar-url"}),!t){var s={pportal_subdomain:a.state.pportal_subdomain};a.props.updateBookingURL(s),a.changeURLValue()}},a.handleSubmit=function(e){e.preventDefault();var t=!1;if("select"===a.state.booking_time_interval&&(rt.toast.error("Please select Time Interval"),t=!0),!t){var s={booking_time_interval:a.state.booking_time_interval};a.props.updateBookingURL(s),a.changeIntervalValue()}};JSON.parse(localStorage.getItem("userData"));return a.state={pportal_subdomain:"",showLoader:!1,userChanged:!1,save:"new-blue-btn url-save m-r-5",cancel:"new-white-btn url-save",edit:"new-blue-btn url-save",editUrl:!1,edit_time:!1,clinic_name:"",clinic_url:"",booking_time_interval:"60",urlEnable:"row m-b-20",urlDisable:"row m-b-20 no-display",intervalEnable:"row",intervalDisable:"row no-display",buttonEnable:"col-lg-4 col-xs-12",buttonDisable:"col-lg-4 col-xs-12 no-display",clinics:[],hostname:"",domain_name:"",pportal_subdomainClass:"setting-input-box ar-url"},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e,t=JSON.parse(localStorage.getItem("languageData"));this.setState((e={Configure_URL_Customer_Portal:t.settings.Configure_URL_Customer_Portal,Configure_URL_Url:t.settings.Configure_URL_Url,Appointment_Reminder_Edit:t.settings.Appointment_Reminder_Edit,Configure_URL_dot_estheticrecord_dot_com:t.settings.Configure_URL_dot_estheticrecord_dot_com,editUsers_CancelBtn:t.settings.editUsers_CancelBtn,Configure_URL_Appointment_Booking:t.settings.Configure_URL_Appointment_Booking},Object(se.a)(e,"Configure_URL_dot_estheticrecord_dot_com",t.settings.Configure_URL_dot_estheticrecord_dot_com),Object(se.a)(e,"Configure_URL_Customize_Appointment_Booking",t.settings.Configure_URL_Customize_Appointment_Booking),Object(se.a)(e,"Configure_URL_Time_Slots_For_Appointment_Booking",t.settings.Configure_URL_Time_Slots_For_Appointment_Booking),Object(se.a)(e,"Edit_Appointment_Reminder_Select",t.settings.Edit_Appointment_Reminder_Select),Object(se.a)(e,"Configure_URL_Mins_Increments",t.settings.Configure_URL_Mins_Increments),Object(se.a)(e,"saveBtn",t.global.saveBtn),Object(se.a)(e,"clinic_Please_Wait",t.settings.clinic_Please_Wait),Object(se.a)(e,"Configure_URL_http",t.settings.Configure_URL_http),Object(se.a)(e,"Configure_URL_Five",t.settings.Configure_URL_Five),Object(se.a)(e,"Configure_URL_Ten",t.settings.Configure_URL_Ten),Object(se.a)(e,"Configure_URL_Fifteen",t.settings.Configure_URL_Fifteen),Object(se.a)(e,"Configure_URL_Tweenty",t.settings.Configure_URL_Tweenty),Object(se.a)(e,"Configure_URL_Tweenty_Five",t.settings.Configure_URL_Tweenty_Five),Object(se.a)(e,"Configure_URL_Thirty",t.settings.Configure_URL_Thirty),Object(se.a)(e,"Configure_URL_Thirty_Five",t.settings.Configure_URL_Thirty_Five),Object(se.a)(e,"Configure_URL_Fourty",t.settings.Configure_URL_Fourty),Object(se.a)(e,"Configure_URL_Fourty_Five",t.settings.Configure_URL_Fourty_Five),Object(se.a)(e,"Configure_URL_Fifty",t.settings.Configure_URL_Fifty),Object(se.a)(e,"Configure_URL_Fifty_Five",t.settings.Configure_URL_Fifty_Five),Object(se.a)(e,"Configure_URL_Sixty",t.settings.Configure_URL_Sixty),e)),this.setState({showLoader:!0}),this.props.getBookingURL()}},{key:"render",value:function(){var e=[];void 0!=this.state.clinics&&this.state.clinics.length>0&&(e=this.state.clinics.map(function(e,t){return i.a.createElement("div",{className:"col-sm-6",key:t},i.a.createElement("div",{className:"instruction-subtitle"},e.clinic_name),i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Url ",i.a.createElement("span",{className:"setting-require"})),i.a.createElement("a",{target:"_blank",href:e.clinic_url,className:"setting-input-box"},e.clinic_url)))}));var t="";return""!=this.state.hostname&&(t=this.state.hostname+this.state.pportal_subdomain+"."+this.state.domain_name+".com"),i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(ps,null),i.a.createElement("div",{className:"setting-setion"},i.a.createElement("div",{className:"setting-container"},i.a.createElement("div",{className:"setting-title m-b-60"},this.state.Configure_URL_Customer_Portal),i.a.createElement("div",{className:0==this.state.editUrl?this.state.urlEnable:this.state.urlDisable,id:"viewmode"},i.a.createElement("div",{className:"col-lg-5 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.Configure_URL_Url,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",null,i.a.createElement("a",{target:"_blank",href:t,className:"setting-input-box"},t)))),i.a.createElement("div",{className:"col-lg-4 col-xs-12"},i.a.createElement("button",{className:"new-blue-btn url-save",value:this.state.editUrl,onClick:this.changeURLValue,id:"editUrl"},this.state.Appointment_Reminder_Edit))),i.a.createElement("div",{className:1==this.state.editUrl?this.state.urlEnable:this.state.urlDisable,id:"editmode"},i.a.createElement("div",{className:"col-lg-5 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.Configure_URL_Url,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",null,"           ",this.state.Configure_URL_http,"://",i.a.createElement("input",{type:"text",id:"pportal_subdomain",name:"pportal_subdomain",className:!0===this.state.pportal_subdomainError?this.state.pportal_subdomainClassError:this.state.pportal_subdomainClass,value:this.state.pportal_subdomain,autoComplete:"off",onChange:this.handleInputChange}),this.state.Configure_URL_dot_estheticrecord_dot_com," "),i.a.createElement("span",{style:{color:"red"}},(this.state.pportal_subdomainError,"")))),i.a.createElement("div",{className:"col-lg-4 col-xs-12"},i.a.createElement("button",{className:"new-blue-btn url-save m-r-5",id:"saveurl",onClick:this.saveUrl},this.state.saveBtn),i.a.createElement("button",{className:"new-white-btn url-save m-l-10",id:"cancelurl",onClick:this.changeCancelURLValue},this.state.editUsers_CancelBtn))),i.a.createElement("div",{className:"setting-title"},this.state.Configure_URL_Appointment_Booking),i.a.createElement("div",{className:"row"},e),i.a.createElement("div",{className:"setting-title "},this.state.Configure_URL_Customize_Appointment_Booking),i.a.createElement("div",{className:1==this.state.edit_time?this.state.intervalEnable:this.state.intervalDisable,id:"edit_time_box"},i.a.createElement("div",{className:"col-lg-8 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer m-t-15"},i.a.createElement("div",null,this.state.Configure_URL_Time_Slots_For_Appointment_Booking,":",i.a.createElement("select",{name:"booking_time_interval",id:"booking_time_interval",className:"setting-select-box ar-url",value:this.state.booking_time_interval,onChange:this.handleInputChange},i.a.createElement("option",{value:"select"},this.state.Edit_Appointment_Reminder_Select),i.a.createElement("option",{value:5},this.state.Configure_URL_Five),i.a.createElement("option",{value:10},this.state.Configure_URL_Ten),i.a.createElement("option",{value:15},this.state.Configure_URL_Fifteen),i.a.createElement("option",{value:20},this.state.Configure_URL_Tweenty),i.a.createElement("option",{value:25}," ",this.state.Configure_URL_Tweenty_Five),i.a.createElement("option",{value:30}," ",this.state.Configure_URL_Thirty),i.a.createElement("option",{value:35}," ",this.state.Configure_URL_Thirty_Five),i.a.createElement("option",{value:40}," ",this.state.Configure_URL_Fourty),i.a.createElement("option",{value:45}," ",this.state.Configure_URL_Fourty_Five),i.a.createElement("option",{value:50}," ",this.state.Configure_URL_Fifty),i.a.createElement("option",{value:55}," ",this.state.Configure_URL_Fifty_Five),i.a.createElement("option",{value:60}," ",this.state.Configure_URL_Sixty)),this.state.Configure_URL_Mins_Increments))),i.a.createElement("div",{className:1==this.state.edit_time?this.state.buttonEnable:this.state.buttonDisable},i.a.createElement("button",{className:"new-blue-btn url-save m-r-5",id:"save_time",onClick:this.handleSubmit},this.state.saveBtn),i.a.createElement("button",{className:"new-white-btn url-save m-l-10",id:"cancel_time",onClick:this.changeCancelIntervalValue},this.state.editUsers_CancelBtn))),i.a.createElement("div",{className:0==this.state.edit_time?this.state.intervalEnable:this.state.intervalDisable,id:"print_time_box"},i.a.createElement("div",{className:"col-lg-8 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer m-t-15"},i.a.createElement("div",null,this.state.Configure_URL_Time_Slots_For_Appointment_Booking," ",i.a.createElement("span",{id:"seltime"},this.state.booking_time_interval)," ",this.state.Configure_URL_Mins_Increments))),i.a.createElement("div",{className:"col-lg-4 col-xs-12"},i.a.createElement("button",{className:"new-blue-btn url-save",value:this.state.edit_time,onClick:this.changeIntervalValue,id:"edit_time"},this.state.Appointment_Reminder_Edit))),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.clinic_Please_Wait)))))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return void 0!==e.bookingList&&200===e.bookingList.status&&t.clinics!==e.bookingList.data.clinics?{pportal_subdomain:t.userChanged?t.pportal_subdomain:e.bookingList.data.account_details.pportal_subdomain,temp_pportal_subdomain:e.bookingList.data.account_details.pportal_subdomain,booking_time_interval:t.userChanged?t.booking_time_interval:e.bookingList.data.account_details.booking_time_interval,temp_booking_time_interval:e.bookingList.data.account_details.booking_time_interval,clinic_name:t.userChanged?t.clinic_name:e.bookingList.data.clinic_name,clinics:e.bookingList.data.clinics,clinic_url:t.userChanged?t.clinic_url:e.bookingList.data.clinic_url,hostname:t.userChanged?t.hostname:e.bookingList.data.hostname,domain_name:t.userChanged?t.domain_name:e.bookingList.data.domain_name,showLoader:!1}:null}}]),t}(n.Component);var A_=Object(Z.b)(function(e){JSON.parse(localStorage.getItem("languageData"));var t={};return"GET_BOOKING_URL_LIST"===e.SettingReducer.action?t.bookingList=e.SettingReducer.data:"UPDATE_BOOKING_URL_LIST"===e.SettingReducer.action&&(200==e.SettingReducer.data.status?(rt.toast.success("Configure URL data updated sucessfully"),t.bookingList=e.SettingReducer.data,t.userChanged=!1):t.bookingListUpdate=e.SettingReducer.data),t},function(e){return Object(c.bindActionCreators)({getBookingURL:Ri,updateBookingURL:ki},e)})(O_),T_=function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleEditorChange=function(e){a.setState({cancellation_policy:e,userChanged:!0})},a.handleInputChange=function(e){var t=e.target,s={},n=t.value;switch(t.type){case"checkbox":n=t.checked;break;case"file":n=t.files[0]}"cancelation_policy_status"==t.name&&(s.showLoader=!0,a.props.cancellationPolicyStatus({field_name:"cancelation_policy_status",is_enabled:n?1:0})),s[e.target.name]=n,s.userChanged=!0,a.setState(s)},a.handleSubmit=function(e,t){var s=!1;if(a.setState({cancellation_policy_Error:!1,cancellation_fees_Error:!1,cc_auth_text_Error:!1,cancelation_fee_charge_days_Error:!1}),void 0!==typeof a.state.cancellation_policy&&null!==a.state.cancellation_policy&&""!==a.state.cancellation_policy&&""!==a.state.cancellation_policy.trim()||(a.setState({cancellation_policy_Error:!0}),s=!0),void 0!==typeof a.state.cancellation_fees&&null!==a.state.cancellation_fees&&""!==a.state.cancellation_fees||(a.setState({cancellation_fees_Error:!0}),s=!0),void 0!==typeof a.state.cc_auth_text&&null!==a.state.cc_auth_text&&""!==a.state.cc_auth_text&&""!==a.state.cc_auth_text.trim()||(a.setState({cc_auth_text_Error:!0}),s=!0),void 0!==typeof a.state.cancelation_fee_charge_days&&null!==a.state.cancelation_fee_charge_days&&""!==a.state.cancelation_fee_charge_days&&"SelectDays"!==a.state.cancelation_fee_charge_days||(a.setState({cancelation_fee_charge_days_Error:!0}),s=!0),!0!==s){var n={account_details:{cancellation_policy:a.state.cancellation_policy,cancellation_fees:a.state.cancellation_fees,account_preference:{cc_auth_text:a.state.cc_auth_text,cancelation_fee_charge_days:a.state.cancelation_fee_charge_days}}};a.props.updateCancellationPolicy(n)}},a.handleChange=function(e){a.setState({text:e})},a.state={policyData:{},cancellation_fees:"",cancelation_fee_charge_days:"",cc_auth_text:"",cancellation_policy:"",cancelation_policy_status:!1,userChanged:!1,clinic_patient_portal_access_body:"",clinic_patient_portal_access_subject:"",text:"",showLoader:!1},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("languageData"));this.setState({cp_header:e.settings.cp_header,cp_fees:e.settings.cp_fees,cp_charge_fee:e.settings.cp_charge_fee,cp_auth_text:e.settings.cp_auth_text,clinic_Please_Wait:e.settings.clinic_Please_Wait,showLoader:!0}),this.setState({showLoader:!0}),this.props.getCancellationPolicy()}},{key:"render",value:function(){return i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(ps,null),i.a.createElement("div",{className:"setting-setion"},i.a.createElement("div",{className:"setting-container"},i.a.createElement("div",{className:"setting-title m-b-40"},this.state.cp_header,i.a.createElement("a",{title:"Your cancellation policy",className:"help-icon"},"?"),i.a.createElement("label",{className:"setting-switch pull-right"},i.a.createElement("input",{type:"checkbox",name:"cancelation_policy_status",id:"cancel_policy",className:"setting-custom-switch-input",onChange:this.handleInputChange,checked:!!this.state.cancelation_policy_status&&"checked"}),i.a.createElement("span",{className:"setting-slider"}))),i.a.createElement("div",{name:"cancellation_policy",className:this.state.cancelation_policy_status?"row":"row no-display",id:"view_policy"},i.a.createElement("div",{className:!0===this.state.cancellation_policy_Error?"col-sm-12 cancel-policy m-b-50 field_error":"col-sm-12 cancel-policy m-b-50 "},i.a.createElement(m_.a,{value:this.state.cancellation_policy?this.state.cancellation_policy:"",init:{theme:"modern",menu:{},plugins:["autolink link  lists hr anchor pagebreak","nonbreaking","textcolor","placeholder"],toolbar:"bold italic underline | alignleft aligncenter alignright alignjustify | bullist numlist | link | hr"},onEditorChange:this.handleEditorChange,id:"descriptionpost"})),i.a.createElement("div",{className:"col-lg-3 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.cp_fees,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{type:"text",name:"cancellation_fees",onChange:this.handleInputChange,className:!0===this.state.cancellation_fees_Error?"setting-input-box field_error":"setting-input-box ",autoComplete:"off",value:Ie(this.state.cancellation_fees,"decimal",2)})))),i.a.createElement("div",{className:"col-lg-9 col-xs-12"},i.a.createElement("div",{className:"row ques-radio-right m-t-20"},i.a.createElement("div",{className:"col-md-7 col-xs-12 cancel-fee"},this.state.cp_charge_fee,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"col-md-5 col-xs-12"},i.a.createElement("div",{className:!0===this.state.cancelation_fee_charge_days_Error?"setting-input-outer field_error":"setting-input-outer"},i.a.createElement("select",{className:!0===this.state.cancelation_fee_charge_days_Error?"setting-select-box field_error":"setting-select-box ",name:"cancelation_fee_charge_days",value:this.state.cancelation_fee_charge_days,onChange:this.handleInputChange},i.a.createElement("option",{value:"SelectDays"},"Select Days"),i.a.createElement("option",{value:1},"24 hrs of Appointment time"),i.a.createElement("option",{value:2}," 2 days of Appointment time "),i.a.createElement("option",{value:3}," 3 days of Appointment time "),i.a.createElement("option",{value:4}," 4 days of Appointment time "),i.a.createElement("option",{value:5}," 5 days of Appointment time "),i.a.createElement("option",{value:6}," 6 days of Appointment time "),i.a.createElement("option",{value:7}," 7 days of Appointment time "),i.a.createElement("option",{value:8}," 8 days of Appointment time "),i.a.createElement("option",{value:9}," 9 days of Appointment time "),i.a.createElement("option",{value:10}," 10 days of Appointment time "),i.a.createElement("option",{value:11}," 11 days of Appointment time "),i.a.createElement("option",{value:12}," 12 days of Appointment time "),i.a.createElement("option",{value:13}," 13 days of Appointment time "),i.a.createElement("option",{value:14}," 14 days of Appointment time "),i.a.createElement("option",{value:15}," 15 days of Appointment time ")))))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.cp_auth_text,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("textarea",{rows:"4",cols:"50",name:"cc_auth_text",id:"cc_auth_text",onChange:this.handleInputChange,className:!0===this.state.cc_auth_text_Error?"setting-input-box field_error":"setting-input-box ",value:this.state.cc_auth_text})))))),i.a.createElement("div",{className:this.state.cancelation_policy_status?"footer-static":"footer-static no-display"},i.a.createElement("button",{className:"new-blue-btn pull-right",onClick:this.handleSubmit,id:"c_policy"},"Save")),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.clinic_Please_Wait))))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return void 0!==e.policyData&&200===e.policyData.status&&e.policyData.data.account_details.cancellation_policy!==t.cancellation_policy?{cancellation_policy:t.userChanged?t.cancellation_policy:e.policyData.data.account_details.cancellation_policy,cancelation_policy_status:t.userChanged?t.cancelation_policy_status:e.policyData.data.account_details.account_preference.cancelation_policy_status,cancellation_fees:t.userChanged?t.cancellation_fees:e.policyData.data.account_details.cancellation_fees,cancelation_fee_charge_days:t.userChanged?t.cancelation_fee_charge_days:e.policyData.data.account_details.account_preference.cancelation_fee_charge_days,cc_auth_text:t.userChanged?t.cc_auth_text:e.policyData.data.account_details.account_preference.cc_auth_text,showLoader:!1}:void 0!==e.showLoader&&e.showLoader!=t.showLoader?{showLoader:e.showLoader}:null}}]),t}(n.Component);var I_=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData")),a={};return"GET_CANCELLATION_POLICY"===e.SettingReducer.action?200!=e.SettingReducer.data.status?rt.toast.error(t.global[e.SettingReducer.data.message]):a.policyData=e.SettingReducer.data:"UPDATE_CANCELLATION_POLICY"===e.SettingReducer.action?200==e.SettingReducer.data.status?rt.toast.success(t.global[e.SettingReducer.data.message]):a.policyData=e.SettingReducer.data:"CANCELLATION_POLICY_STATUS"===e.SettingReducer.action&&(a.showLoader=!1,200==e.SettingReducer.data.status?rt.toast.success(t.global[e.SettingReducer.data.message]):(rt.toast.error(t.global[e.SettingReducer.data.message]),a.policyData=e.SettingReducer.data,a.showLoader=!1)),a},function(e){return Object(c.bindActionCreators)({getCancellationPolicy:Fi,updateCancellationPolicy:Yi,cancellationPolicyStatus:Bi},e)})(T_),R_=function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t,s=e.target,n=s.value;switch(s.type){case"checkbox":n=s.checked;case"file":n=s.files[0]}a.setState((t={},Object(se.a)(t,e.target.name,n),Object(se.a)(t,"userChanged",!0),t))},a.handleSubmit=function(e,t){var s=!1;if(a.setState({clinic_patient_portal_access_body_Error:!1,clinic_patient_portal_access_Error:!1}),void 0!==typeof a.state.clinic_patient_portal_access_body&&null!==a.state.clinic_patient_portal_access_body&&""!==a.state.clinic_patient_portal_access_body&&""!==a.state.clinic_patient_portal_access_body.trim()||(a.setState({clinic_patient_portal_access_body_Error:!0}),s=!0),void 0!==typeof a.state.clinic_patient_portal_access_subject&&null!==a.state.clinic_patient_portal_access_subject&&""!==a.state.clinic_patient_portal_access_subject&&""!==a.state.clinic_patient_portal_access_subject.trim()||(a.setState({clinic_patient_portal_access_subject_Error:!0}),s=!0),!0!==s){var n={clinic_patient_portal_access_body:a.state.clinic_patient_portal_access_body,clinic_patient_portal_access_subject:a.state.clinic_patient_portal_access_subject};a.props.updatePatientPortal(n)}},a.showDeleteModal=function(){a.setState({showModal:!0})},a.dismissModal=function(){a.setState({showModal:!1})},a.handleClick=function(){a.setState({showLoader:!0,hideBtns:!0}),a.dismissModal();a.state.id;a.props.activatePatientPortal()},a.state={patientData:{},portal_active_patients:"",portal_inactive_patients:null,total_patients:null,userChanged:!1,clinic_patient_portal_access_body:"",clinic_patient_portal_access_subject:"",hideBtns:!1,showModal:!1,showLoader:!1},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("languageData"));this.setState({pp_total_clients:e.settings.pp_total_clients,pp_active:e.settings.pp_active,pp_inactive:e.settings.pp_inactive,pp_active_email:e.settings.pp_active_email,pp_email_sub:e.settings.pp_email_sub,pp_email_body:e.settings.pp_email_body,clinic_Please_Wait:e.settings.clinic_Please_Wait,showLoader:!0}),this.setState({showLoader:!0}),this.props.getPatientPortal()}},{key:"render",value:function(){this.props.patientData;return i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(ps,null),i.a.createElement("div",{className:"setting-setion"},i.a.createElement("div",{className:"setting-container"},i.a.createElement("div",{className:"row portal-stats-outer"},i.a.createElement("div",{className:"col-sm-4 col-xs-12"},i.a.createElement("div",{name:"total_patients",className:"portal-numbers"},this.state.total_patients),i.a.createElement("div",{className:"patient-portal-label"},"Total number of clients")),i.a.createElement("div",{className:"col-sm-4 col-xs-12"},i.a.createElement("div",{name:"portal_active_patients",className:"portal-numbers"},this.state.portal_active_patients),i.a.createElement("div",{className:"patient-portal-label"},"Client portal is active")),i.a.createElement("div",{className:"col-sm-4 col-xs-12"},i.a.createElement("div",{name:"portal_inactive_patients",className:"portal-numbers"},this.state.portal_inactive_patients),i.a.createElement("div",{className:"patient-portal-label"},"Client portal is inactive"),i.a.createElement("a",{className:"new-white-btn confirm-model","data-message":"Are you sure you want to activate patient portal for all clients? <br>(It may take few hours to activate)","data-dismiss":"modal",onClick:this.showDeleteModal,"data-confirm-url":"/settings/toggle_portal_access"},"Activate Now"),i.a.createElement("div",{className:this.state.showModal?"overlay":""}),i.a.createElement("div",{id:"filterModal",role:"dialog",className:this.state.showModal?"modal fade in displayBlock":"modal fade"},i.a.createElement("div",{className:"modal-dialog"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal",onClick:this.dismissModal},"\xd7"),i.a.createElement("h4",{className:"modal-title",id:"model_title"},"Confirmation required!",this.state.showModal)),i.a.createElement("div",{id:"errorwindow",className:"modal-body add-patient-form filter-patient"},"Are you sure you want to activate patient portal for all clients? (It may take few hours to activate)"),i.a.createElement("div",{className:"modal-footer"},i.a.createElement("div",{className:"col-md-12 text-left",id:"footer-btn"},i.a.createElement("button",{type:"button",className:"btn  logout pull-right","data-dismiss":"modal",onClick:this.dismissModal},"No"),i.a.createElement("button",{type:"button",className:"btn btn-success pull-right m-r-10","data-dismiss":"modal",onClick:this.handleClick},"Yes")))))))),i.a.createElement("div",{className:"setting-title m-b-60"},"Client Portal Activation Email Content",i.a.createElement("a",{title:"Your very own patient portal",className:"help-icon"},"?")),i.a.createElement("form",{id:"ppform",className:"form-horizontal form-label-left",acceptCharset:"utf-8",noValidate:"novalidate"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-lg-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Email Subject",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{placeholder:"Email Subject",type:"text",id:"ppmail_subject",className:!0===this.state.clinic_patient_portal_access_subject_Error?"setting-input-box field_error":"setting-input-box",autoComplete:"off",onChange:this.handleInputChange,name:"clinic_patient_portal_access_subject",value:this.state.clinic_patient_portal_access_subject})))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Email body ",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("textarea",{className:!0===this.state.clinic_patient_portal_access_body_Error?"setting-textarea-box field_error":"setting-textarea-box",id:"ppmail_body",placeholder:"Email Body",name:"clinic_patient_portal_access_body",onChange:this.handleInputChange,style:{height:"90px"},value:this.state.clinic_patient_portal_access_body})))))),i.a.createElement("div",{className:"footer-static"},i.a.createElement("button",{className:"new-blue-btn pull-right ppmail_save",onClick:this.handleSubmit,id:"ppmail_save"},"Save")),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.clinic_Please_Wait))))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return void 0!==e.patientData&&200===e.patientData.status?{portal_active_patients:t.userChanged?t.portal_active_patients:e.patientData.data.portal_active_patients,portal_inactive_patients:t.userChanged?t.portal_inactive_patients:e.patientData.data.portal_inactive_patients,total_patients:t.userChanged?t.total_patients:e.patientData.data.total_patients,clinic_patient_portal_access_body:t.userChanged?t.clinic_patient_portal_access_body:e.patientData.data.account_prefrence.clinic_patient_portal_access_body,clinic_patient_portal_access_subject:t.userChanged?t.clinic_patient_portal_access_subject:e.patientData.data.account_prefrence.clinic_patient_portal_access_subject,showLoader:!1}:null}}]),t}(n.Component);var k_=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData")),a={};return"GET_PATIENT_PORTAL"===e.SettingReducer.action?200!=e.SettingReducer.data.status?rt.toast.error(t.global[e.SettingReducer.data.message]):a.patientData=e.SettingReducer.data:"UPDATE_PATIENT_PORTAL"===e.SettingReducer.action?200==e.SettingReducer.data.status?rt.toast.success(t.global[e.SettingReducer.data.message]):a.user=e.SettingReducer.data:"ACTIVATE_PATIENT_PORTAL"===e.SettingReducer.action?200==e.SettingReducer.data.status?rt.toast.success(t.global[e.SettingReducer.data.message]):a.patientData=e.SettingReducer.data:"FILE_UPLOADED"===e.SettingReducer.action&&(200==e.SettingReducer.data.status?a.user_image=e.SettingReducer.data.data.file_name:a.tempFileName=e.SettingReducer.data.file_name),a},function(e){return Object(c.bindActionCreators)({getPatientPortal:Mi,updatePatientPortal:Ui,activatePatientPortal:qi},e)})(R_),P_=Ee.API_URL,j_=Q.a.create();function M_(e){return function(t){j_.get(P_+"appointments/setting/survey_email_sms",e).then(function(e){t({type:"APPOINTMENT_SURVEY_LIST",payload:e.data})}).catch(function(e){t({type:"APPOINTMENT_SURVEY_LIST",payload:e.response.data})})}}function U_(e){return function(t){j_.put(P_+"appointments/setting/survey_email_sms",e||"").then(function(e){t({type:"APPOINTMENT_SURVEY_UPDATE",payload:e.data})}).catch(function(e){t({type:"APPOINTMENT_SURVEY_UPDATE",payload:e.response.data})})}}j_.defaults.headers.common["access-token"]=xe(),Xe(),j_.interceptors.response.use(function(e){return void 0!=e.data&&void 0!=e.data.global_settings&&He(e.data.global_settings),Xe(),e},function(e){if(e.response){var t=e.response.data.message;return"invalid_token"!=t&&"session_timeout"!=t&&"server_error"!=t&&"token_not_found"!=t||Oe(),Promise.reject(e)}return{data:{data:"",message:"server_error",status:500}}});var F_=function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t,s=e.target,n="checkbox"===s.type?s.checked:s.value;a.setState((t={},Object(se.a)(t,e.target.name,n),Object(se.a)(t,"userChanged",!0),t))},a.handleSubmit=function(e){e.preventDefault(),a.setState({appointment_survey_email_Error:!1,appointment_survey_sms_Error:!1});var t=!1;if(a.setState({emailError:""}),void 0!==typeof a.state.appointment_survey_email&&null!==a.state.appointment_survey_email&&""!==a.state.appointment_survey_email&&""!==a.state.appointment_survey_email.trim()||(a.setState({appointment_survey_email_Error:!0}),t=!0),void 0!==typeof a.state.appointment_survey_sms&&null!==a.state.appointment_survey_sms&&""!==a.state.appointment_survey_sms&&""!==a.state.appointment_survey_sms.trim()||(a.setState({appointment_survey_sms_Error:!0}),t=!0),!0!==t){var s={account_details:{appointment_survey_email:a.state.appointment_survey_email,appointment_survey_sms:a.state.appointment_survey_sms,account_preference:{survey_thankyou_message:a.state.survey_thankyou_message}}};a.props.postAppointmentSurveys(s)}},a.state={userChanged:!1,email:"",emailError:"",showProcess:"",survey_thankyou_message:"",appointment_survey_sms:"",appointment_survey_email:"",surveyData:{},showLoader:!1},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("languageData"));this.setState({Appointment_survey_settings_header:e.settings.Appointment_survey_settings_header,Survey_email:e.settings.Survey_email,survey_email_message:e.settings.survey_email_message,survey_sms:e.settings.survey_sms,survey_sms_message:e.settings.survey_sms_message,survey_thank_you:e.settings.survey_thank_you,survey_content:e.settings.survey_content,clinic_Please_Wait:e.settings.clinic_Please_Wait,showLoader:!0}),this.props.getAppointmentSurveys()}},{key:"render",value:function(){return i.a.createElement("div",{className:"main protected"},i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(ps,null),i.a.createElement("div",{className:"setting-setion"},i.a.createElement("div",{className:"setting-container"},i.a.createElement("div",{className:"setting-title"},this.state.Appointment_survey_settings_header),i.a.createElement("div",{className:"row",id:"survey_email_sms"},i.a.createElement("div",{className:"col-md-6 col-xs-12"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"instruction-subtitle"},this.state.Survey_email),i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.survey_email_message,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("textarea",{onChange:this.handleInputChange,id:"appointment_survey_email",placeholder:"Email Message",rows:"10",name:"appointment_survey_email",value:this.state.appointment_survey_email,className:!0===this.state.appointment_survey_email_Error?"setting-textarea-box field_error":"setting-textarea-box ",style:{height:"250px"}}))))),i.a.createElement("div",{className:"col-md-6 col-xs-12"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"instruction-subtitle"},this.state.survey_sms),i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.survey_sms_message,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("textarea",{onChange:this.handleInputChange,id:"appointment_survey_sms",placeholder:"SMS Message",name:"appointment_survey_sms",rows:"10",className:!0===this.state.appointment_survey_sms_Error?"setting-textarea-box field_error":"setting-textarea-box ",value:this.state.appointment_survey_sms,style:{height:"110px"}}))))),i.a.createElement("div",{className:"col-md-12 col-xs-12"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"instruction-subtitle"},this.state.survey_thank_you),i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.survey_content,i.a.createElement("span",{className:"setting-require"})),i.a.createElement("textarea",{onChange:this.handleInputChange,id:"survey_thankyou_message",placeholder:"Content",name:"survey_thankyou_message",rows:"10",value:this.state.survey_thankyou_message,className:"setting-textarea-box",style:{height:"210px"}}))))),i.a.createElement("div",{className:"col-md-12 col-xs-12"},i.a.createElement("div",{className:"row setting-variable"},i.a.createElement("div",{className:"col-md-4 col-xs-12"},"Patient Name: ","{","{","PATIENTNAME","}","}"),i.a.createElement("div",{className:"col-md-4 col-xs-12"},"Provider Name: ","{","{","PROVIDERNAME","}","}"),i.a.createElement("div",{className:"col-md-4 col-xs-12"},"Appointment Date Time: ","{","{","APPOINTMENTDATETIME","}","}"),i.a.createElement("div",{className:"col-md-4 col-xs-12"},"Clinic Name:","{","{","CLINICNAME","}","}"),i.a.createElement("div",{className:"col-md-4 col-xs-12"},"Clinic Location:","{","{","CLINICLOCATION","}","}"),i.a.createElement("div",{className:"col-md-4 col-xs-12"},"Survey Name:","{","{","SURVEYNAME","}","}"," "),i.a.createElement("div",{className:"col-md-4 col-xs-12"},"Survey Service:","{","{","SurveySERVICE","}","}"),i.a.createElement("div",{className:"col-md-4 col-xs-12"},"Survey Url:","{","{","SURVEYURL","}","}"))))),i.a.createElement("div",{className:"footer-static"},i.a.createElement("button",{className:"new-blue-btn pull-right",id:"surveyform",onClick:this.handleSubmit},"Save")),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.clinic_Please_Wait))))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return void 0!==e.surveyData&&200===e.surveyData.status?{appointment_survey_email:t.userChanged?t.appointment_survey_email:e.surveyData.data.account_details.appointment_survey_email,appointment_survey_sms:t.userChanged?t.appointment_survey_sms:e.surveyData.data.account_details.appointment_survey_sms,survey_thankyou_message:t.userChanged?t.survey_thankyou_message:e.surveyData.data.account_details.account_preference.survey_thankyou_message,showLoader:!1}:null}}]),t}(i.a.Component);var B_=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData")),a={};return"APPOINTMENT_SURVEY_UPDATE"===e.AppointmentReducer.action&&200==e.AppointmentReducer.data.status&&rt.toast.success(t.global[e.AppointmentReducer.data.message]),"APPOINTMENT_SURVEY_LIST"===e.AppointmentReducer.action&&(200!=e.AppointmentReducer.data.status?rt.toast.error(t.global[e.AppointmentReducer.data.message]):a.surveyData=e.AppointmentReducer.data),a},function(e){return Object(c.bindActionCreators)({getAppointmentSurveys:M_,postAppointmentSurveys:U_},e)})(F_),q_=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t,s=e.target,n="checkbox"===s.type?s.checked:s.value;a.setState((t={},Object(se.a)(t,e.target.name,n),Object(se.a)(t,"userChanged",!0),t))},a.handleSubmit=function(e){e.preventDefault();var t=!1;if(a.setState({recurly_sub_domainError:!1,recurly_program_nameError:!1,recurly_api_keyError:!1,mothly_membership_feesError:!1,thankyou_messageError:!1,one_time_membership_setupError:!1}),!a.state.is_membership_enable||(void 0===typeof a.state.recurly_program_name||null===a.state.recurly_program_name||""===a.state.recurly_program_name.trim()?(a.setState({recurly_program_nameError:!0,recurly_program_nameClassError:"setting-input-box field-error"}),t=!0):a.state.recurly_program_name&&a.setState({recurly_program_nameError:!1,recurly_program_nameErrorClass:"setting-input-box"}),a.state.is_membership_enable&&(void 0===typeof a.state.mothly_membership_fees||null===a.state.mothly_membership_fees?(a.setState({mothly_membership_feesError:!0,mothly_membership_feesClassError:"setting-input-box field-error"}),t=!0):a.state.mothly_membership_fees&&("paid"===a.state.mothly_membership_type&&parseFloat(a.state.mothly_membership_fees)<1?(a.setState({mothly_membership_feesError:!0,mothly_membership_feesClassError:"setting-input-box field-error"}),t=!0):a.setState({mothly_membership_feesError:!1,mothly_membership_feesErrorClass:"setting-input-box"}))),void 0===typeof a.state.one_time_membership_setup||null===a.state.one_time_membership_setup||""===a.state.one_time_membership_setup?(a.setState({one_time_membership_setupError:!0,one_time_membership_setupClassError:"setting-input-box field-error"}),t=!0):a.state.one_time_membership_setup&&a.setState({one_time_membership_setupError:!1,one_time_membership_setupErrorClass:"setting-input-box"}),void 0===typeof a.state.thankyou_message||null===a.state.thankyou_message||""===a.state.thankyou_message.trim()?(a.setState({thankyou_messageError:!0,thankyou_messageClassError:"setting-textarea-box field-error"}),t=!0):a.state.thankyou_message&&a.setState({thankyou_messageError:!1,thankyou_messageErrorClass:"setting-textarea-box"}),void 0===typeof a.state.wallet_item_expiry||null===a.state.wallet_item_expiry||""===a.state.wallet_item_expiry?(a.setState({wallet_item_expiryError:!0,wallet_item_expiryClassError:"setting-input-box field-error"}),t=!0):a.state.wallet_item_expiry&&a.setState({wallet_item_expiryError:!1,wallet_item_expiryErrorClass:"setting-input-box"}),void 0===a.state.wallet_reminder_days_before||null===a.state.wallet_reminder_days_before||""===a.state.wallet_reminder_days_before?a.state.wallet_send_expiry_reminder||"true"===a.state.wallet_send_expiry_reminder?(a.setState({wallet_reminder_days_beforeError:!0,wallet_reminder_days_beforeClassError:"input-fill-box field-error"}),t=!0):a.setState({wallet_reminder_days_beforeError:!1,wallet_reminder_days_beforeErrorClass:"setting-input-box"}):a.state.wallet_reminder_days_before&&a.setState({wallet_reminder_days_beforeError:!1,wallet_reminder_days_beforeErrorClass:"setting-input-box"}),!t)){var s={is_membership_enable:a.state.is_membership_enable?1:0,wallet_send_expiry_email:a.state.wallet_send_expiry_email?1:0,wallet_send_expiry_reminder:a.state.wallet_send_expiry_reminder?1:0,wallet_item_expiry:a.state.wallet_item_expiry};1==a.state.is_membership_enable&&(s.recurly_program_name=a.state.recurly_program_name,s.mothly_membership_type=a.state.mothly_membership_type,s.mothly_membership_fees=a.state.mothly_membership_fees,s.one_time_membership_setup=a.state.one_time_membership_setup,s.thankyou_message=a.state.thankyou_message,s.add_fees_to_client_wallet=a.state.add_fees_to_client_wallet?1:0),1==a.state.wallet_send_expiry_reminder&&(s.wallet_reminder_days_before=a.state.wallet_reminder_days_before),a.setState({showLoader:!0}),a.props.updateMembershipWallet(s)}};JSON.parse(localStorage.getItem("userData"));return a.state=Object(se.a)({recurly_program_name:"",add_fees_to_client_wallet:!1,mothly_membership_fees:"",one_time_membership_setup:"",thankyou_message:"",wallet_item_expiry:"",wallet_send_expiry_email:!0,wallet_send_expiry_reminder:!0,wallet_reminder_days_before:"1",showLoader:!1,is_membership_enable:!0,is_membership_enable_yes:"row",is_membership_enable_no:"row no-display",reminderDisplay:"setting-field-outer",reminderNone:"setting-field-outer no-display",recurly_program_nameErrorClass:"setting-input-box",thankyou_messageErrorClass:"setting-textarea-box",mothly_membership_feesErrorClass:"setting-input-box",one_time_membership_setupErrorClass:"setting-input-box",wallet_item_expiryErrorClass:"setting-input-box",wallet_reminder_days_beforeErrorClass:"input-fill-box",mothly_membership_type:"paid"},"showLoader",!1),a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("languageData"));this.setState({Patient_Membership_Program:e.settings.Patient_Membership_Program,Patient_Membership_Enabled:e.settings.Patient_Membership_Enabled,patient_do_you_want_to_add_monthly_membership_fees_in_clients_wallet:e.settings.patient_do_you_want_to_add_monthly_membership_fees_in_clients_wallet,Patient_recurly:e.settings.Patient_recurly,Patient_com:e.settings.Patient_com,Patient_PROGRAM_NAME:e.settings.Patient_PROGRAM_NAME,Patient_RECURLY_API_KEY:e.settings.Patient_RECURLY_API_KEY,Patient_MONTHLY_MEMBERSHIP_FEES:e.settings.Patient_MONTHLY_MEMBERSHIP_FEES,Patient_ONE_TIME_MEMBERSHIP_SETUP_FEES:e.settings.Patient_ONE_TIME_MEMBERSHIP_SETUP_FEES,Patient_THANK_YOU_MESSAGE:e.settings.Patient_THANK_YOU_MESSAGE,Patient_Wallet_Settings:e.settings.Patient_Wallet_Settings,Patient_Items_in_client_wallet_will_expire_in:e.settings.Patient_Items_in_client_wallet_will_expire_in,Patient_DAYS:e.settings.Patient_DAYS,Patient_Product_Expires_Message:e.settings.Patient_Product_Expires_Message,Patient_Product_Expire_Message:e.settings.Patient_Product_Expire_Message,Patient_Expiration_Reminder_Email:e.settings.Patient_Expiration_Reminder_Email,saveBtn:e.global.saveBtn,Configure_URL_http:e.settings.Configure_URL_http,clinic_Please_Wait:e.settings.clinic_Please_Wait,settings_send_reminder_email:e.settings.settings_send_reminder_email,settings_days_before_wallet_expiration:e.settings.settings_days_before_wallet_expiration}),this.setState({showLoader:!0}),this.props.getMembershipWallet()}},{key:"render",value:function(){return i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement("form",{id:"membership_program_form",action:" ",method:"post",onSubmit:this.handleSubmit,acceptCharset:"utf-8",noValidate:"novalidate"},i.a.createElement(ps,null),i.a.createElement("div",{className:"setting-setion"},i.a.createElement("div",{className:"setting-container"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-lg-6 col-xs-12 member-program"},i.a.createElement("div",{className:"setting-title m-b-40"},this.state.Patient_Membership_Program,i.a.createElement("span",{className:"setting-custom-switch pull-right"},i.a.createElement("span",{id:"membership_lable"},this.state.Patient_Membership_Enabled),i.a.createElement("label",{className:"setting-switch pull-right"},i.a.createElement("input",{type:"checkbox",id:"is_membership_enable",className:"setting-custom-switch-input",name:"is_membership_enable",checked:!!this.state.is_membership_enable&&"checked",onChange:this.handleInputChange}),i.a.createElement("span",{className:"setting-slider"})),i.a.createElement("br",null),i.a.createElement("br",null)),i.a.createElement("input",{id:"mHidden",type:"hidden",defaultValue:0,name:"is_membership_enable"})),i.a.createElement("div",{className:1==this.state.is_membership_enable?this.state.is_membership_enable_yes:this.state.is_membership_enable_no,id:"memeberview"},i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.Patient_PROGRAM_NAME,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{type:"text",id:"recurly_program_name",className:!0===this.state.recurly_program_nameError?this.state.recurly_program_nameClassError:this.state.recurly_program_nameErrorClass,autoComplete:"off",name:"recurly_program_name",value:this.state.recurly_program_name,onChange:this.handleInputChange})),i.a.createElement("span",{style:{color:"red"}},(this.state.recurly_program_nameError,"")))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Membership Type"),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("div",{className:"basic-checkbox-outer"},i.a.createElement("input",{id:"radiobutton1",className:"basic-form-checkbox",name:"mothly_membership_type",type:"radio",value:"paid",onChange:this.handleInputChange,checked:"paid"===this.state.mothly_membership_type&&"checked"}),i.a.createElement("label",{className:"basic-form-text",htmlFor:"radiobutton1"},"Paid")),i.a.createElement("div",{className:"basic-checkbox-outer"},i.a.createElement("input",{id:"radiobutton2",className:"basic-form-checkbox",name:"mothly_membership_type",type:"radio",value:"free",onChange:this.handleInputChange,checked:"free"===this.state.mothly_membership_type&&"checked"}),i.a.createElement("label",{className:"basic-form-text",htmlFor:"radiobutton1"},"Free"))))),"paid"===this.state.mothly_membership_type&&i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.Patient_MONTHLY_MEMBERSHIP_FEES,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{type:"text",id:"mothly_membership_fees",className:!0===this.state.mothly_membership_feesError?this.state.mothly_membership_feesClassError:this.state.mothly_membership_feesErrorClass,autoComplete:"off",name:"mothly_membership_fees",value:parseFloat(this.state.mothly_membership_fees).toFixed(2),onChange:this.handleInputChange}))),i.a.createElement("span",{style:{color:"red"}},(this.state.mothly_membership_feesError,""))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.Patient_ONE_TIME_MEMBERSHIP_SETUP_FEES,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{type:"text",id:"one_time_membership_setup",name:"one_time_membership_setup",className:!0===this.state.one_time_membership_setupError?this.state.one_time_membership_setupClassError:this.state.one_time_membership_setupErrorClass,autoComplete:"off",value:parseFloat(this.state.one_time_membership_setup).toFixed(2),onChange:this.handleInputChange}))),i.a.createElement("span",{style:{color:"red"}},(this.state.one_time_membership_setupError,""))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.Patient_THANK_YOU_MESSAGE,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("textarea",{className:!0===this.state.thankyou_messageError?this.state.thankyou_messageClassError:this.state.thankyou_messageErrorClass,name:"thankyou_message",id:"thankyou_message",rows:"5",value:this.state.thankyou_message,onChange:this.handleInputChange})),i.a.createElement("span",{style:{color:"red"}},(this.state.thankyou_messageError,""))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-custom-switch wallet-switch no-border"},this.state.patient_do_you_want_to_add_monthly_membership_fees_in_clients_wallet,i.a.createElement("label",{className:"setting-switch pull-right"},i.a.createElement("input",{type:"checkbox",id:"add_fees_to_client_wallet",className:"setting-custom-switch-input",name:"add_fees_to_client_wallet",checked:!!this.state.add_fees_to_client_wallet&&"checked",onChange:this.handleInputChange}),i.a.createElement("span",{className:"setting-slider"})))))),i.a.createElement("div",{className:"col-lg-6 col-xs-12 wallet-setting"},i.a.createElement("div",{className:"setting-title m-b-50"},this.state.Patient_Wallet_Settings),i.a.createElement("div",{className:"row ques-radio-right m-t-20"},i.a.createElement("div",{className:"col-md-8 col-xs-12 m-t-20 text-setting"},this.state.Patient_Items_in_client_wallet_will_expire_in,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"col-md-4 col-xs-12"},i.a.createElement("div",{className:"new-field-label"},this.state.Patient_DAYS),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{type:"text",className:!0===this.state.wallet_item_expiryError?this.state.wallet_item_expiryClassError:this.state.wallet_item_expiryErrorClass,id:"wallet_item_expiry",name:"wallet_item_expiry",autoComplete:"off",value:this.state.wallet_item_expiry,onChange:this.handleInputChange}))),i.a.createElement("span",{style:{color:"red"}},(this.state.wallet_item_expiryError,""))),i.a.createElement("div",{className:"setting-custom-switch wallet-switch"},this.state.Patient_Product_Expires_Message,i.a.createElement("label",{className:"setting-switch pull-right"},i.a.createElement("input",{type:"checkbox",id:"wallet_send_expiry_email",className:"setting-custom-switch-input",name:"wallet_send_expiry_email",checked:!!this.state.wallet_send_expiry_email&&"checked",onChange:this.handleInputChange}),i.a.createElement("span",{className:"setting-slider"}))),i.a.createElement("div",{className:"setting-custom-switch wallet-switch"},this.state.Patient_Product_Expire_Message,i.a.createElement("label",{className:"setting-switch pull-right"},i.a.createElement("input",{type:"checkbox",id:"wallet_send_expiry_reminder",className:"setting-custom-switch-input",name:"wallet_send_expiry_reminder",checked:!!this.state.wallet_send_expiry_reminder&&"checked",onChange:this.handleInputChange}),i.a.createElement("span",{className:"setting-slider"}))),i.a.createElement("div",{className:1==this.state.wallet_send_expiry_reminder?this.state.reminderDisplay:this.state.reminderNone,id:"days_before"},i.a.createElement("div",{className:"new-field-label"},this.state.settings_send_reminder_email,i.a.createElement("input",{id:"wallet_reminder_days_before",type:"text",className:!0===this.state.wallet_reminder_days_beforeError?this.state.wallet_reminder_days_beforeClassError:this.state.wallet_reminder_days_beforeErrorClass,autoComplete:"off",name:"wallet_reminder_days_before",value:this.state.wallet_reminder_days_before,onChange:this.handleInputChange}),this.state.settings_days_before_wallet_expiration,i.a.createElement("span",{className:"setting-require"},"*"))),i.a.createElement("span",{style:{color:"red"}},(this.state.wallet_reminder_days_beforeError,""))))),i.a.createElement("div",{className:"footer-static"},i.a.createElement("button",{className:"new-blue-btn pull-right",id:"memberform",onClick:this.handleSubmit},this.state.saveBtn)),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.clinic_Please_Wait)))))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return void 0!=e.showLoader&&0==e.showLoader?{showLoader:!1}:void 0!==e.membershipList&&200===e.membershipList.status&&t.membershipList!=e.membershipList.data?{add_fees_to_client_wallet:t.userChanged?t.add_fees_to_client_wallet:e.membershipList.data.add_fees_to_client_wallet,recurly_program_name:t.userChanged?t.recurly_program_name:e.membershipList.data.recurly_program_name,mothly_membership_fees:t.userChanged?t.mothly_membership_fees:e.membershipList.data.mothly_membership_fees,one_time_membership_setup:t.userChanged?t.one_time_membership_setup:e.membershipList.data.one_time_membership_setup,thankyou_message:t.userChanged?t.thankyou_message:e.membershipList.data.thankyou_message,wallet_item_expiry:t.userChanged?t.wallet_item_expiry:e.membershipList.data.wallet_item_expiry,wallet_send_expiry_email:t.userChanged?t.wallet_send_expiry_email:e.membershipList.data.wallet_send_expiry_email,wallet_send_expiry_reminder:t.userChanged?t.wallet_send_expiry_reminder:!!e.membershipList.data.wallet_send_expiry_reminder,wallet_reminder_days_before:t.userChanged?t.wallet_reminder_days_before:null!==e.membershipList.data.wallet_reminder_days_before?e.membershipList.data.wallet_reminder_days_before:"1",is_membership_enable:t.userChanged?t.is_membership_enable:e.membershipList.data.is_membership_enable,mothly_membership_type:t.userChanged?t.mothly_membership_type:e.membershipList.data.mothly_membership_type,showLoader:!1,membershipList:e.membershipList.data}:void 0!==e.showLoader&&0==e.showLoader?{showLoader:!1}:null}}]),t}(n.Component);var Y_=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData")),a={};return"GET_MEMBERSHIP_WALLET_LIST"===e.SettingReducer.action?200!=e.SettingReducer.data.status?(rt.toast.error(t.global[e.SettingReducer.data.message]),a.showLoader=!0):a.membershipList=e.SettingReducer.data:"UPDATE_MEMBERSHIP_WALLET_LIST"===e.SettingReducer.action&&(200!=e.SettingReducer.data.status?a.showLoader=!1:(a.membershipList=e.SettingReducer.data,rt.toast.success("Membership Wallet data updated sucessfully"))),"third_party_error"==e.SettingReducer.action&&(200!=e.SettingReducer.data.status?(rt.toast.error(t.global[e.SettingReducer.data.message]),a.showLoader=!1):a.membershipListUpdate=e.SettingReducer.data),a},function(e){return Object(c.bindActionCreators)({getMembershipWallet:Pi,updateMembershipWallet:ji},e)})(q_),H_=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,s="checkbox"===t.type?t.checked:t.value;a.setState(Object(se.a)({},e.target.name,s))},a.handleSubmit=function(e){var t;e.preventDefault(),localStorage.setItem("sortOnly",!0);var s={params:{page:1,pagesize:a.state.pagesize,sortby:a.state.sortby,sortorder:a.state.sortorder,term:a.state.term}};a.setState((t={page:1,sortby:a.state.sortby,pagesize:a.state.pagesize,sortorder:"asc"==a.state.sortorder?"asc":"desc",startFresh:!0,loadMore:!0},Object(se.a)(t,"startFresh",!0),Object(se.a)(t,"next_page_url",""),Object(se.a)(t,"userList",[]),Object(se.a)(t,"showLoader",!0),t)),a.props.fetchUsers(s)},a.onSort=function(e){var t="asc"===a.state.sortorder?"desc":"asc",s={params:{page:1,pagesize:a.state.pagesize,sortby:e,sortorder:t,term:a.state.term}};a.setState({page:1,pagesize:a.state.pagesize,sortby:e,sortorder:t,loadMore:!0,startFresh:!0,showLoader:!0,next_page_url:"",userList:[]}),localStorage.setItem("sortOnly",!0),a.props.fetchUsers(s)},a.loadMore=function(){localStorage.setItem("sortOnly",!1),a.setState({loadMore:!0,startFresh:!0,showLoader:!0,showLoadingText:!0});var e={params:{page:a.state.page,pagesize:a.state.pagesize,sortby:a.state.sortby,sortorder:a.state.sortorder,term:a.state.term}};a.props.fetchUsers(e)},a.userEdit=function(e){return i.a.createElement("div",null,a.props.history.push("/settings/users/".concat(e,"/edit")))},a.userAdd=function(e){return"trail"==a.state.accountType?(rt.toast.dismiss(),!1):a.state.add_user_limit_reached?(rt.toast.dismiss(),rt.toast.error(a.state.setting_create_user_button_error__trail_account_type),!1):i.a.createElement("div",null,a.props.history.push("/settings/users/create"))};var s=JSON.parse(localStorage.getItem("userData"));return a.state={accountType:void 0!=s.account&&void 0!=s.account.account_type?s.account.account_type:"trail",fisrtname:"",lastname:"",user_role_id:"",status:"active",showLoadingText:!1,userData:"",page:1,pagesize:15,sortby:"firstname",sortorder:"asc",term:"",hasMoreItems:!0,next_page_url:"",userList:[],loadMore:!0,startFresh:!0,showLoader:!1,add_user_limit_reached:0},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),window.onscroll=function(){var e=parseInt(Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop));window.innerHeight+e===document.documentElement.offsetHeight&&null!=a.state.next_page_url&&a.loadMore()},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e,t={params:{page:this.state.page,pagesize:this.state.pagesize,sortby:this.state.sortby,sortorder:"asc",term:this.state.term}},a=JSON.parse(localStorage.getItem("languageData"));this.setState((e={user_Create_UserBtn:a.settings.user_Create_UserBtn,user_First_Name:a.settings.user_First_Name,user_Role:a.settings.user_Role,user_Last_Name:a.settings.user_Last_Name,clinics_Search:a.settings.clinics_Search,loading_please_wait_text:a.global.loading_please_wait_text,user_Status:a.settings.user_Status,clinic_No_Record_Found:a.settings.clinic_No_Record_Found,clinic_Please_Wait:a.settings.clinic_Please_Wait},Object(se.a)(e,"clinic_No_Record_Found",a.settings.clinic_No_Record_Found),Object(se.a)(e,"setting_create_user_button_error__trail_account_type",a.settings.setting_create_user_button_error__trail_account_type),e)),this.setState({showLoader:!0}),this.props.fetchUsers(t)}},{key:"shouldComponentUpdate",value:function(e,t){return!!this.state.startFresh||(!!this.state.loadMore||!!this.state.showLoader)}},{key:"render",value:function(){var e=this,t=["Admin","Provider","Front Desk","Medical Director"];return i.a.createElement("div",null,i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(ps,null),i.a.createElement("div",{className:"setting-setion"},i.a.createElement("div",{className:"setting-search-outer"},i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("div",{className:"search-bg col-xs-5"},i.a.createElement("i",{className:"fas fa-search"}),i.a.createElement("input",{className:"setting-search-input search-key","data-url":"/settings/user",name:"term",placeholder:this.state.clinics_Search,value:this.state.term,autoComplete:"off",onChange:this.handleInputChange}))),i.a.createElement("a",{href:"javascript:void(0);",onClick:this.userAdd,className:"new-blue-btn pull-right edit_setting"},this.state.user_Create_UserBtn)),i.a.createElement("div",{className:"table-responsive"},i.a.createElement("table",{className:"table-updated setting-table"},i.a.createElement("thead",{className:"table-updated-thead"},i.a.createElement("tr",null,i.a.createElement("th",{className:"col-xs-1 table-updated-th no-padding-right"}),i.a.createElement("th",{className:"col-xs-3 table-updated-th sorting sortData user-first-name",onClick:function(){return e.onSort("firstname")},"data-sort":"firstname","data-url":"/settings/user","data-order":"DESC"},this.state.user_First_Name,i.a.createElement("i",{className:"gray-gray"})),i.a.createElement("th",{className:"col-xs-3 table-updated-th sorting sortData",onClick:function(){return e.onSort("lastname")},"data-sort":"lastname","data-url":"/settings/user","data-order":"DESC"},this.state.user_Last_Name,i.a.createElement("i",{className:"gray-gray"})),i.a.createElement("th",{className:"col-xs-3 table-updated-th sorting"},this.state.user_Role),i.a.createElement("th",{className:"col-xs-2 table-updated-th sorting"},this.state.user_Status))),i.a.createElement("tbody",{className:"ajax_body"},void 0!==this.state.userList&&this.state.userList.map(function(a,s){var n=a.user_image_url?a.user_image_url:"";return i.a.createElement("tr",{className:"table-updated-tr edit_setting",key:s,"data-url":"/user/add/8968","data-title":"Edit User",onClick:e.userEdit.bind(e,a.id)},i.a.createElement("td",{className:"col-xs-1 table-updated-td no-padding-right"},i.a.createElement("div",{className:"user-profile-img",style:{backgroundImage:"url(".concat(n,")")}})),i.a.createElement("td",{className:"col-xs-3 table-updated-td user-first-name","data-id":a.id},a.firstname),i.a.createElement("td",{className:"col-xs-3 table-updated-td","data-id":a.id},a.lastname),i.a.createElement("td",{className:"col-xs-3 table-updated-td text-left","data-id":a.id},t[a.user_role_id-1]),i.a.createElement("td",{className:"col-xs-2 table-updated-td text-left","data-id":a.id},a.status))}))),!1===this.state.showLoader&&i.a.createElement("div",{className:this.state.userList.length?"no-record no-display":"no-record"},this.state.clinic_No_Record_Found),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.clinic_Please_Wait)))),i.a.createElement("div",{className:this.state.showLoadingText?"loading-please-wait no-margin-top":"loading-please-wait no-margin-top no-display "},this.state.loading_please_wait_text)))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(void 0!=e.showLoader&&0==e.showLoader)return{showLoader:!1};if(void 0!=e.userList&&e.userList.next_page_url!==t.next_page_url){var a={};return null==t.next_page_url?(localStorage.setItem("sortOnly",!1),a.next_page_url=null):(0==t.userList.length&&1==t.startFresh?"false"==localStorage.getItem("sortOnly")?(null!=e.userList.next_page_url?a.page=t.page+1:a.next_page_url=e.userList.next_page_url,a.userList=e.userList.data,a.startFresh=!1,a.showLoader=!1,a.showLoadingText=!1,a.add_user_limit_reached=e.userList.add_user_limit_reached):localStorage.setItem("sortOnly",!1):t.userList!=e.userList.data&&0!=t.userList.length&&(a.userList=Object(oa.a)(t.userList).concat(Object(oa.a)(e.userList.data)),a.page=t.page+1,a.next_page_url=e.userList.next_page_url,a.showLoader=!1,a.showLoadingText=!1,a.add_user_limit_reached=e.userList.add_user_limit_reached),a)}return null}}]),t}(n.Component);var G_=Object(Z.b)(function(e){JSON.parse(localStorage.getItem("languageData"));var t={};return"USERS_LIST"===e.SettingReducer.action&&(localStorage.setItem("loadFresh",!1),200!=e.SettingReducer.data.status?t.showLoader=!1:t.userList=e.SettingReducer.data.data),"USERS_SEARCH"===e.SettingReducer.action&&(200!=e.SettingReducer.data.status?t.showLoader=!1:t.userSearch=e.SettingReducer.data.data),t},function(e){return Object(c.bindActionCreators)({fetchUsers:ni},e)})(H_),V_=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,s=e.target.name,n=t.value;"checkbox"==t.type&&(n=t.checked?1:0),a.setState(Object(se.a)({},s,n));var i=a.state.permissions,r={};i.map(function(e,t){s==e.name?(i[t].value=n,r[e.name]=n):r[e.name]=e.value}),a.props.onChange(r),a.setState({permissions:i})};var s={},n=[];return a.props.list.map(function(e,t){s[e.sysname+"-"+e.id]=e.value,n.push({id:e.id,value:e.value,name:e.sysname+"-"+e.id})}),a.state=JSON.parse(JSON.stringify(s)),a.state.permissions=n,a.props.onChange(s),a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidUpdate",value:function(e){if(this.props.list!==e.list){var t={},a=[];this.props.list.map(function(e,s){t[e.sysname+"-"+e.id]=e.value,a.push({id:e.id,value:e.value,name:e.sysname+"-"+e.id})});var s=JSON.parse(JSON.stringify(t));s.permissions=a,this.setState(s),this.props.onChange(t)}}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,this.props.list.map(function(t,a){return i.a.createElement("div",{className:"privileges-row",key:t.sysname},i.a.createElement("input",{type:"checkbox",className:"new-check child_view-patients",name:t.sysname+"-"+t.id,checked:!!e.state[t.sysname+"-"+t.id]&&"checked",onChange:e.handleInputChange}),i.a.createElement("label",{className:"setting-text"},e.props.langData[t.sysname]))}))}}]),t}(i.a.Component),z_=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleFieldChange=function(e,t){var s=[];if(void 0!=t)(s=a.state.selectedPrivilege)[e]=t,a.setState({selPrivilege:s});else{var n=a.state.selectedPrivilege;if(void 0!=e){for(var i in e)n[i]=e[i];a.setState({selectedPrivilege:n})}}},a.getRolePermissions=function(e){var t;localStorage.setItem("showLoader",!0);var s=["activeAdminRole","activeProviderRole","activeFDRole","activeMDRole"][e.currentTarget.dataset.role-1];a.setState({activeAdminRole:!1,activeProviderRole:!1,activeFDRole:!1,activeMDRole:!1}),a.setState((t={},Object(se.a)(t,s,!0),Object(se.a)(t,"selectedRoleId",e.currentTarget.dataset.role),t)),a.setState({showLoader:!0}),a.props.fetchRolePermissions(e.currentTarget.dataset.role)},a.savePrivileges=function(){localStorage.setItem("showLoader",!0);var e=[];for(var t in a.state.selectedPrivilege){var s=t.split("-"),n=s[s.length-1];e.push({id:n,value:"true"==a.state.selectedPrivilege[t]||1==a.state.selectedPrivilege[t]?1:0})}var i={role_id:a.state.selectedRoleId,permissions:e};a.setState({showLoader:!0}),a.props.saveRolePrivileges(i)};JSON.parse(localStorage.getItem("globalPrivileges")).permissions;var s=JSON.parse(localStorage.getItem("languageData"));return a.state={roles:["admin","provider","frontdesk","md"],privilegeList:{},showLoader:!1,settingsLangData:s.settings,activeAdminRole:!0,selectedPrivilege:[],selectedRoleId:1,permissions:[]},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),window.onscroll=function(){var e=parseInt(Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop));window.innerHeight+e===document.documentElement.offsetHeight&&null!=a.state.next_page_url&&a.loadMore()},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){this.state.page,this.state.pagesize,this.state.sortby,this.state.term;var e=JSON.parse(localStorage.getItem("languageData"));this.setState({settings_edit_privileges:e.settings.settings_edit_privileges,sidebar_userRole_menu:e.settings.sidebar_userRole_menu,user_Role:e.settings.user_Role,privilege_provider:e.settings.privilege_provider,privilege_admin:e.settings.privilege_admin,privilege_md:e.settings.privilege_md,privilege_front_desk_user:e.settings.privilege_front_desk_user,loading_please_wait_text:e.global.loading_please_wait_text,user_save_btn_text:e.settings.user_save_btn_text}),this.setState({showLoader:!0}),this.props.fetchRolePermissions(1)}},{key:"render",value:function(){return i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(ps,null),i.a.createElement("div",{className:"setting-setion"},i.a.createElement("div",{className:"setting-container"},i.a.createElement("div",{className:"setting-title"},this.state.settings_edit_privileges),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-lg-3"},i.a.createElement("div",{className:"settings-subtitle m-b-20"},this.state.sidebar_userRole_menu),i.a.createElement("ul",{className:"privileges-submenu"},i.a.createElement("li",{className:"privileges-subtabs-li"},i.a.createElement("a",{className:this.state.activeAdminRole?"privileges-subtabs-a sel-submenu edit_role":"privileges-subtabs-a edit_role","data-role":"1",onClick:this.getRolePermissions.bind(this)},this.state.privilege_admin)),i.a.createElement("li",{className:"privileges-subtabs-li"},i.a.createElement("a",{className:this.state.activeProviderRole?"privileges-subtabs-a sel-submenu edit_role":"privileges-subtabs-a edit_role","data-role":"2",onClick:this.getRolePermissions.bind(this)},this.state.privilege_provider)),i.a.createElement("li",{className:"privileges-subtabs-li"},i.a.createElement("a",{className:this.state.activeFDRole?"privileges-subtabs-a sel-submenu edit_role":"privileges-subtabs-a edit_role","data-role":"3",onClick:this.getRolePermissions.bind(this)},this.state.privilege_front_desk_user)),i.a.createElement("li",{className:"privileges-subtabs-li"},i.a.createElement("a",{className:this.state.activeMDRole?"privileges-subtabs-a sel-submenu edit_role":"privileges-subtabs-a edit_role","data-role":"4",onClick:this.getRolePermissions.bind(this)},this.state.privilege_md)))),i.a.createElement("div",{className:"col-lg-9 col-md-12",id:"ajax_view"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-lg-4 col-md-6"},i.a.createElement("div",{className:"previlage-ouer-section"},i.a.createElement("div",{className:"settings-subtitle m-b-20"},this.state.privilegeList["patients-management"]&&this.state.settingsLangData["patients-management"]),this.state.privilegeList["patients-management"]&&i.a.createElement(V_,{roleId:this.state.selectedRoleId,list:this.state.privilegeList["patients-management"],langData:this.state.settingsLangData,onChange:this.handleFieldChange}))),i.a.createElement("div",{className:"col-lg-4 col-md-6"},i.a.createElement("div",{className:"previlage-ouer-section"},i.a.createElement("div",{className:"settings-subtitle m-b-20"},this.state.privilegeList.appointments&&this.state.settingsLangData.appointments),this.state.privilegeList.appointments&&i.a.createElement(V_,{roleId:this.state.selectedRoleId,list:this.state.privilegeList.appointments,langData:this.state.settingsLangData,onChange:this.handleFieldChange})),i.a.createElement("div",{className:"previlage-ouer-section"},i.a.createElement("div",{className:"settings-subtitle m-b-20"},this.state.privilegeList.settings&&this.state.settingsLangData.settings),this.state.privilegeList.settings&&i.a.createElement(V_,{roleId:this.state.selectedRoleId,list:this.state.privilegeList.settings,langData:this.state.settingsLangData,onChange:this.handleFieldChange}))),i.a.createElement("div",{className:"col-lg-4 col-md-6"},i.a.createElement("div",{className:"previlage-ouer-section"},i.a.createElement("div",{className:"settings-subtitle m-b-20"},this.state.privilegeList.sales&&this.state.settingsLangData.sales),this.state.privilegeList.sales&&i.a.createElement(V_,{roleId:this.state.selectedRoleId,list:this.state.privilegeList.sales,langData:this.state.settingsLangData,onChange:this.handleFieldChange})),i.a.createElement("div",{className:"previlage-ouer-section"},i.a.createElement("div",{className:"settings-subtitle m-b-20"},this.state.privilegeList["inventory-management"]&&this.state.settingsLangData["inventory-management"]),this.state.privilegeList["inventory-management"]&&i.a.createElement(V_,{roleId:this.state.selectedRoleId,list:this.state.privilegeList["inventory-management"],langData:this.state.settingsLangData,onChange:this.handleFieldChange}))))))),i.a.createElement("div",{className:"footer-static"},i.a.createElement("a",{id:"save_role",className:"new-blue-btn pull-right",onClick:this.savePrivileges},this.state.user_save_btn_text)),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.loading_please_wait_text))))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return void 0!=e.showLoader&&0==e.showLoader?{showLoader:!1}:void 0!=e.privilegeList&&e.privilegeList.permissions!==t.privilegeList?{privilegeList:e.privilegeList.permissions,showLoader:!1,selectedPrivilege:[]}:void 0!=e.showLoader&&0==e.showLoader?{showLoader:!1}:{}}}]),t}(n.Component);var W_=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData")),a={};return"PRIVILEGE_LIST"===e.SettingReducer.action?200!=e.SettingReducer.data.status?(rt.toast.error(t.global[e.SettingReducer.data.message]),a.showLoader=!1):a.privilegeList=e.SettingReducer.data.data:"PRIVILEGE_UPDATE"===e.SettingReducer.action&&(localStorage.setItem("showLoader",!1),200!=e.SettingReducer.data.status?(rt.toast.error(t.global[e.SettingReducer.data.message]),a.showLoader=!1):rt.toast.success(t.global[e.SettingReducer.data.message])),a},function(e){return Object(c.bindActionCreators)({fetchRolePermissions:fi,saveRolePrivileges:bi},e)})(z_),J_=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t,s=e.target,n=s.value;switch(s.type){case"checkbox":n=s.checked;break;case"radio":n=s.value}a.setState((t={},Object(se.a)(t,e.target.name,n),Object(se.a)(t,"userChanged",!0),t))},a.savePrivileges=function(){localStorage.setItem("showLoader",!0);var e=[];for(var t in a.state)t.startsWith("p_")&&1==a.state[t]&&e.push(t.split("p_")[1]);var s={user_id:a.props.match.params.id,privileges:e};a.setState({showLoader:!0}),a.props.saveUserPrivileges(s)};var s=JSON.parse(localStorage.getItem("globalPrivileges")).permissions,n=JSON.parse(localStorage.getItem("languageData")),i=parseInt(a.props.match.params.roleId),r={};return i>0&&i<=4&&(r=s[["admin","provider","frontdesk","md"][i-1]]),a.state={roles:["admin","provider","frontdesk","md"],privilegeList:r,showLoader:!1,settingsLangData:n.settings,activeAdminRole:!0,selectedPrivilege:[],selectedRoleId:1,permissions:[],userPrivilegeList:[]},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("languageData"));this.setState({settings_edit_privileges:e.settings.settings_edit_privileges,sidebar_userRole_menu:e.settings.sidebar_userRole_menu,user_Role:e.settings.user_Role,privilege_provider:e.settings.privilege_provider,privilege_admin:e.settings.privilege_admin,privilege_md:e.settings.privilege_md,privilege_front_desk_user:e.settings.privilege_front_desk_user,loading_please_wait_text:e.global.loading_please_wait_text,user_save_btn_text:e.settings.user_save_btn_text,showLoader:!0}),this.props.getUser(this.props.match.params.id,"user")}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(ps,null),i.a.createElement("div",{className:"setting-setion"},i.a.createElement("div",{className:"setting-container"},i.a.createElement("div",{className:"setting-title"},this.state.settings_edit_privileges,": ",this.state.name,i.a.createElement(me.a,{to:"/settings/users/"+this.props.match.params.id+"/edit",className:"pull-right crossIcon cancelAction"},i.a.createElement("img",{src:"/images/close.png"}))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-lg-12 col-md-12",id:"ajax_view"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-lg-4 col-md-6"},i.a.createElement("div",{className:"previlage-ouer-section"},i.a.createElement("div",{className:"settings-subtitle m-b-20"},this.state.privilegeList["patients-management"]&&this.state.settingsLangData["patients-management"]),this.state.privilegeList["patients-management"]&&this.state.privilegeList["patients-management"].map(function(t,a){return i.a.createElement("div",{className:"privileges-row",key:t},i.a.createElement("input",{type:"checkbox",className:"new-check child_view-patients",name:"p_"+t,checked:e.state["p_"+t],onChange:e.handleInputChange}),i.a.createElement("label",{className:"setting-text",htmlFor:t},e.state.settingsLangData[t]))}))),i.a.createElement("div",{className:"col-lg-4 col-md-6"},i.a.createElement("div",{className:"previlage-ouer-section"},i.a.createElement("div",{className:"settings-subtitle m-b-20"},this.state.privilegeList.appointments&&this.state.settingsLangData.appointments),this.state.privilegeList.appointments&&this.state.privilegeList.appointments.map(function(t,a){return i.a.createElement("div",{className:"privileges-row",key:t},i.a.createElement("input",{type:"checkbox",className:"new-check child_view-patients",name:"p_"+t,checked:e.state["p_"+t],onChange:e.handleInputChange}),i.a.createElement("label",{className:"setting-text",htmlFor:t},e.state.settingsLangData[t]))})),i.a.createElement("div",{className:"previlage-ouer-section"},i.a.createElement("div",{className:"settings-subtitle m-b-20"},this.state.privilegeList.settings&&this.state.settingsLangData.settings),this.state.privilegeList.settings&&this.state.privilegeList.settings.map(function(t,a){return i.a.createElement("div",{className:"privileges-row",key:t},i.a.createElement("input",{type:"checkbox",className:"new-check child_view-patients",name:"p_"+t,checked:e.state["p_"+t],onChange:e.handleInputChange}),i.a.createElement("label",{className:"setting-text",htmlFor:t},e.state.settingsLangData[t]))}))),i.a.createElement("div",{className:"col-lg-4 col-md-6"},i.a.createElement("div",{className:"previlage-ouer-section"},i.a.createElement("div",{className:"settings-subtitle m-b-20"},this.state.privilegeList.sales&&this.state.settingsLangData.sales),this.state.privilegeList.sales&&this.state.privilegeList.sales.map(function(t,a){return i.a.createElement("div",{className:"privileges-row",key:t},i.a.createElement("input",{type:"checkbox",className:"new-check child_view-patients",name:"p_"+t,checked:e.state["p_"+t],onChange:e.handleInputChange}),i.a.createElement("label",{className:"setting-text",htmlFor:t},e.state.settingsLangData[t]))})),i.a.createElement("div",{className:"previlage-ouer-section"},i.a.createElement("div",{className:"settings-subtitle m-b-20"},this.state.privilegeList["inventory-management"]&&this.state.settingsLangData["inventory-management"]),this.state.privilegeList["inventory-management"]&&this.state.privilegeList["inventory-management"].map(function(t,a){return i.a.createElement("div",{className:"privileges-row",key:t},i.a.createElement("input",{type:"checkbox",className:"new-check child_view-patients",name:"p_"+t,checked:e.state["p_"+t],onChange:e.handleInputChange}),i.a.createElement("label",{className:"setting-text",htmlFor:t},e.state.settingsLangData[t]))}))))))),i.a.createElement("div",{className:"footer-static"},i.a.createElement("a",{id:"save_role",className:"new-blue-btn pull-right",onClick:this.savePrivileges},this.state.user_save_btn_text),i.a.createElement("a",{href:"/settings/users/"+this.props.match.params.id+"/edit",className:"cancelAction new-white-btn pull-right"},"Cancel")),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.loading_please_wait_text))))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(void 0!=e.showLoader&&0==e.showLoader)return{showLoader:!1};if(void 0!=e.userData&&e.userData.privileges!==t.userPrivilegeList){var a={},s=e.userData.privileges;return s.length&&s.map(function(e,t){a["p_"+e]=1}),a.name=e.userData.firstname+" "+e.userData.lastname,a.userPrivilegeList=s,a.showLoader=!1,a}return void 0!=e.showLoader?{showLoader:!1}:{}}}]),t}(n.Component);var Q_=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData")),a={};return"USER_GET"===e.SettingReducer.action&&(200!=e.SettingReducer.data.status?a.showLoader=!1:a.userData=e.SettingReducer.data.data),"USER_PRIVILEGE_UPDATE"===e.SettingReducer.action&&(200!=e.SettingReducer.data.status?(rt.toast.error(t.global[e.SettingReducer.data.message]),a.showLoader=!1):(a.showLoader=!1,rt.toast.success(t.global[e.SettingReducer.data.message]))),a},function(e){return Object(c.bindActionCreators)({saveUserPrivileges:mr,getUser:ii},e)})(J_),K_=function(e){function t(){return Object(ne.a)(this,t),Object(re.a)(this,Object(oe.a)(t).apply(this,arguments))}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"render",value:function(){return"put your content here"}}]),t}(n.Component),X_=function(e){function t(e){var a,s;Object(ne.a)(this,t),(s=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t,a=e.target,n=a.value;switch(a.type){case"checkbox":n=a.checked;break;case"radio":n=a.value}s.setState((t={},Object(se.a)(t,e.target.name,n),Object(se.a)(t,"userChanged",!0),t))},s.handleChildChange=function(e){s.setState(e)},s.handleUserRole=function(e){s.setState({select_Role:e.target.value})},s.handleChange=function(e){console.log(e);var t={},a=[];e.length&&e.map(function(e,t){a.push(e.value)}),t.clinics_array=a,1==e.length&&(t.clinic_id=e[0].value),t.select_Default_Clinic=e,t.userChanged=!0,s.setState(t)},s.changeInputType=function(){s.setState({inputType:"password"==s.state.inputType?"text":"password"})},s.getPassCode=function(){Q.a.get(Ee.API_URL+"user/check-passcode").then(function(e){s.setState({pass_code:e.data.data.passcode})}).catch(function(e){})},s.phoneNumberChanged1=function(e,t,a,n){e?s.setState({contact_number_1:n,contactClass1:"setting-input-box",contactError:!1,userChanged:!0}):s.setState({contactClass1:"setting-input-box field_error",contactError:!0,contact_number_1:n})},s.phoneNumberChanged2=function(e,t,a,n){e?s.setState({contact_number_2:n,contactClass2:"setting-input-box",contactError:!1,userChanged:!0}):s.setState({contactClass2:"setting-input-box field_error",contactError:!0,contact_number_2:n})},s.phoneNumberChanged3=function(e,t,a,n){e?s.setState({contact_number_3:n,contactClass3:"setting-input-box",contactError:!1,userChanged:!0}):s.setState({contactClass3:"setting-input-box field_error",contactError:!0,contact_number_3:n})},s.phoneNumberChanged4=function(e,t,a,n){e?s.setState({contact_number_4:n,contactClass4:"setting-input-box",contactError:!1,userChanged:!0}):s.setState({contactClass4:"setting-input-box field_error",contactError:!0,contact_number_4:n})},s.handleSubmit=function(e){e.preventDefault();var t=!1;if(s.setState({firstnameError:!1,lastnameError:!1,email_idError:!1,passwordError:!1,passcodeError:"",bio_nameError:!1,bio_descriptionError:!1,stateError:!1,cityError:!1,countryError:!1,select_DefClinicError:!1,commission_percentageError:!1,select_Role:!1}),void 0!==typeof s.state.firstname&&null!==s.state.firstname&&""!==s.state.firstname.trim()||(s.setState({firstnameError:!0,firstnameClassError:"setting-input-box field_error"}),t=!0),s.state.firstname&&s.setState({firstnameError:!1,firstnameClass:"setting-input-box"}),void 0!==typeof s.state.lastname&&null!==s.state.lastname&&""!==s.state.lastname.trim()||(s.setState({lastnameError:!0,lastnameClassError:"setting-input-box field_error"}),t=!0),s.state.lastname&&s.setState({lastnameError:!1,lastnameClass:"setting-input-box"}),void 0!==typeof s.state.email_id&&null!==s.state.email_id&&""!==s.state.email_id.trim()||(s.setState({email_idError:!0,email_idClassError:"setting-input-box field_error"}),t=!0),nt.a.isEmail(s.state.email_id)||(rt.toast.error("Incorrect email address"),t=!0),s.state.email_id&&s.setState({email_idError:!1,email_idErrorClass:"setting-input-box"}),s.state.is_provider&&(void 0!==typeof s.state.bio_name&&null!==s.state.bio_name&&""!==s.state.bio_name.trim()||(s.setState({bio_nameError:!0,bio_nameClassError:"setting-input-box field_error"}),t=!0),s.state.bio_name&&s.setState({bio_nameError:!1,bio_nameErrorClass:"setting-input-box"}),void 0!==typeof s.state.bio_description&&null!==s.state.bio_description&&""!==s.state.bio_description.trim()||(s.setState({bio_descriptionError:!0,bio_descriptionClassError:"setting-input-box field_error"}),t=!0),s.state.bio_description&&s.setState({bio_descriptionError:!1,bio_descriptionErrorClass:"setting-input-box"})),void 0!==typeof s.state.state&&null!==s.state.state&&""!==s.state.state.trim()||(s.setState({stateError:!0,stateClassError:"setting-input-box field_error"}),t=!0),s.state.state&&s.setState({stateError:!1,stateErrorClass:"setting-input-box"}),void 0!==typeof s.state.city&&null!==s.state.city&&""!==s.state.city.trim()||(s.setState({cityError:!0,cityClassError:"setting-input-box field_error"}),t=!0),s.state.city&&s.setState({cityError:!1,cityErrorClass:"setting-input-box"}),void 0!==typeof s.state.country&&null!==s.state.country&&""!==s.state.country.trim()||(s.setState({countryError:!0,countryClassError:"setting-input-box field_error"}),t=!0),s.state.country&&s.setState({countryError:!1,countryErrorClass:"setting-input-box"}),void 0!==typeof s.state.user_role_id&&null!==s.state.user_role_id&&""!==s.state.user_role_id||(s.setState({select_RoleError:!0,select_RoleClassError:"setting-select-box field_error"}),t=!0),s.state.select_Role&&s.setState({select_RoleError:!1,select_RoleClass:"setting-select-box"}),void 0!==typeof s.state.pass_code&&null!==s.state.pass_code&&""!==s.state.pass_code||(s.setState({passcodeError:!0,passcodeClassError:"setting-input-box field_error"}),t=!0),s.state.passcode&&s.setState({passcodeError:!1,passcodeErrorClass:"setting-input-box"}),void 0===s.props.match.params.userId&&(void 0!==typeof s.state.password&&null!==s.state.password&&""!==s.state.password||(s.setState({passwordError:!0,passwordErrorClass:"setting-input-box field_error"}),t=!0),s.state.password&&s.setState({passwordError:!1,passwordErrorClass:"setting-input-box"})),void 0!==typeof s.state.clinic_id&&null!==s.state.clinic_id&&""!==s.state.clinic_id||s.setState({select_DefClinicError:!0,select_DefClinicClassError:"setting-input-box field_error"}),s.state.select_Default_Clinic&&s.setState({select_DefClinicError:!1,select_DefClinicClassError:"setting-input-box"}),s.state.is_md_consent_required&&(s.state.md_user_id||(s.setState({mdUserIdError:!0}),t=!0)),!0!==t){var a=[];void 0!=s.state.select_Default_Clinic&&s.state.select_Default_Clinic.length>0&&(a=s.state.select_Default_Clinic.map(function(e,t){return e.value})),a.length||s.state.clinics_array.length&&void 0!=s.state.clinicList&&s.state.clinicList.length&&s.state.clinicList.map(function(e,t){s.state.clinics_array.indexOf(e.id)>-1&&a.push(e.id)});var n={clinics_array:a,address_line_1:s.state.address_line_1,address_line_2:s.state.address_line_2,address_line_3:s.state.address_line_3,address_line_4:s.state.address_line_4,bio_description:s.state.bio_description,contact_number_1:s.state.contact_number_1,contact_number_2:s.state.contact_number_2,contact_number_3:s.state.contact_number_3,contact_number_4:s.state.contact_number_4,city:s.state.city,country:s.state.country,commission_percentage:s.state.commission_percentage,email_id:s.state.email_id,email_id_2:s.state.email_id_2,email_id_3:s.state.email_id_3,firstname:s.state.firstname,lastname:s.state.lastname,monthly_procedure_goal:s.state.monthly_procedure_goal,monthly_sales_goal:s.state.monthly_sales_goal,pincode:s.state.pincode,weekly_sales_goal:s.state.weekly_sales_goal,weekly_procedure_goal:s.state.weekly_procedure_goal,website:s.state.website,is_dashboard_enabled:s.state.is_dashboard_enabled?1:0,supplementary_title:s.state.supplementary_title,user_role_id:s.state.user_role_id,state:s.state.state,is_md_consent_required:s.state.is_md_consent_required?1:0,md_user_id:s.state.md_user_id,is_available_online:s.state.is_available_online?1:0,clinic_id:s.state.clinic_id,pass_code:s.state.pass_code,is_provider:1==s.state.is_provider?1:0,user_image:s.state.other_user_image,receive_checkin_sms:1==s.state.receive_checkin_sms?1:0};s.state.is_provider&&(n.bio_name=s.state.bio_name,n.bio_title=s.state.bio_title),""!=s.state.password&&(n.password=s.state.password),void 0!==s.props.match.params.userId?(s.setState({showLoader:!0}),s.props.userProfile(n,s.props.match.params.userId,"user")):s.setState({showPriceModal:!0,userFormData:n})}},s.showDeleteModal=function(){s.setState({showModal:!0})},s.dismissModal=function(){s.setState({showModal:!1})},s.showPriceModal=function(){s.setState({showPriceModal:!0})},s.dismissPriceModal=function(){s.setState({showPriceModal:!1})},s.deleteUserID=function(){s.dismissModal();var e=s.props.match.params.userId;s.props.deleteUser(e)},s.createUserNow=function(){s.setState({showLoader:!0,showPriceModal:!1}),s.props.createUser(s.state.userFormData)};JSON.parse(localStorage.getItem("userData"));var n=JSON.parse(localStorage.getItem("languageData")),i=JSON.parse(localStorage.getItem("userData"));return s.state=(a={other_user_image:"",other_user_image_url:"",userData:{},firstnameMD:"",lastnameMD:"",address_line_1:"",address_line_2:"",address_line_3:"",address_line_4:"",bio_description:"",commission_percentage:"",bio_name:"",bio_title:"",contact_number_1:"",contact_number_2:"",contact_number_3:"",contact_number_4:""},Object(se.a)(a,"commission_percentage",""),Object(se.a)(a,"city",""),Object(se.a)(a,"country",""),Object(se.a)(a,"email_id",""),Object(se.a)(a,"email_id_2",""),Object(se.a)(a,"email_id_3",""),Object(se.a)(a,"firstname",""),Object(se.a)(a,"lastname",""),Object(se.a)(a,"startFresh",!0),Object(se.a)(a,"showLoader",!1),Object(se.a)(a,"showModal",!1),Object(se.a)(a,"showPriceModal",!1),Object(se.a)(a,"user_changed",!1),Object(se.a)(a,"monthly_procedure_goal","0"),Object(se.a)(a,"monthly_sales_goal","0"),Object(se.a)(a,"pincode",""),Object(se.a)(a,"weekly_sales_goal","0"),Object(se.a)(a,"weekly_procedure_goal","0"),Object(se.a)(a,"website",""),Object(se.a)(a,"is_dashboard_enabled",!0),Object(se.a)(a,"supplementary_title",""),Object(se.a)(a,"user_role_id",""),Object(se.a)(a,"clinic_list",""),Object(se.a)(a,"state",""),Object(se.a)(a,"is_md_consent_required",!1),Object(se.a)(a,"md_user_id",""),Object(se.a)(a,"is_available_online",!0),Object(se.a)(a,"userId",""),Object(se.a)(a,"userChanged",!1),Object(se.a)(a,"firstnameClass","setting-input-box"),Object(se.a)(a,"lastnameClass","setting-input-box"),Object(se.a)(a,"email_idClass","setting-input-box"),Object(se.a)(a,"passcodeClass","setting-input-box"),Object(se.a)(a,"passwordClass","setting-input-box"),Object(se.a)(a,"bio_nameClass","setting-input-box"),Object(se.a)(a,"bio_descriptionClass","setting-input-box"),Object(se.a)(a,"stateClass","setting-input-box"),Object(se.a)(a,"cityClass","setting-input-box"),Object(se.a)(a,"countryClass","setting-input-box"),Object(se.a)(a,"commission_percentageClass","setting-input-box"),Object(se.a)(a,"clinic_name",""),Object(se.a)(a,"clinicList",[]),Object(se.a)(a,"select_Default_Clinic",[]),Object(se.a)(a,"clinic_id",""),Object(se.a)(a,"select_Role",""),Object(se.a)(a,"select_clinics",""),Object(se.a)(a,"clinics_array",[]),Object(se.a)(a,"password",""),Object(se.a)(a,"pass_code",""),Object(se.a)(a,"is_provider",!1),Object(se.a)(a,"rowDisplayEnable","row"),Object(se.a)(a,"rowDisplayDisable","row no-display"),Object(se.a)(a,"mdConsetDisplayEnable","setting-container work_as_provider_container border-top"),Object(se.a)(a,"mdConsetDisplayDisable","setting-container work_as_provider_container no-display"),Object(se.a)(a,"selectedOption",null),Object(se.a)(a,"defaultOptions",[]),Object(se.a)(a,"select_RoleClass","setting-select-box"),Object(se.a)(a,"inputType","password"),Object(se.a)(a,"contactClass1","setting-input-box"),Object(se.a)(a,"contactClass2","setting-input-box"),Object(se.a)(a,"contactClass3","setting-input-box"),Object(se.a)(a,"contactClass4","setting-input-box"),Object(se.a)(a,"select_DefClinicClass","setting-select-box"),Object(se.a)(a,"dbfirstname",""),Object(se.a)(a,"uploadedFile",""),Object(se.a)(a,"dzImgObj",{}),Object(se.a)(a,"showLoader",!1),Object(se.a)(a,"loggedInUserId",i.user.id),Object(se.a)(a,"settingsLang",n.settings),Object(se.a)(a,"receive_checkin_sms",!1),Object(se.a)(a,"mdUserIdError",!1),Object(se.a)(a,"price_per_user",""),a),window.onscroll=function(){return!1},s}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){window.onscroll=function(){return!1};var e=JSON.parse(localStorage.getItem("languageData"));this.props.match.params.userId&&this.props.match.params.userId;this.setState({createUsers_Work_As_Provider:e.settings.createUsers_Work_As_Provider,profile_first_name:e.settings.profile_first_name,editUsers_Drop_Files_To_Upload:e.settings.editUsers_Drop_Files_To_Upload,profile_last_name:e.settings.profile_last_name,saveBtn:e.global.saveBtn,editUsers_Edit_User:e.settings.editUsers_Edit_User,editUsers_Clinic_Information:e.settings.editUsers_Clinic_Information,editUsers_Dashboard_Access:e.settings.editUsers_Dashboard_Access,editUsers_Yes:e.settings.editUsers_Yes,editUsers_No:e.settings.editUsers_No,editUsers_Select_Role:e.settings.editUsers_Select_Role,editUsers_Select_clinics:e.settings.editUsers_Select_clinics,editUsers_Select_Default_Clinic:e.settings.editUsers_Select_Default_Clinic,editUsers_Website:e.settings.editUsers_Website,editUsers_User_Information:e.settings.editUsers_User_Information,editUsers_Supplementary_Title:e.settings.editUsers_Supplementary_Title,editUsers_Email:e.settings.editUsers_Email,editUsers_Password:e.settings.editUsers_Password,editUsers_Passcode:e.settings.editUsers_Passcode,editUsers_Generate_Passcode:e.settings.editUsers_Generate_Passcode,editUsers_Provider_Address_Information:e.settings.editUsers_Provider_Address_Information,editUsers_Contact_No_1:e.settings.editUsers_Contact_No_1,editUsers_Contact_No_2:e.settings.editUsers_Contact_No_2,editUsers_Contact_No_3:e.settings.editUsers_Contact_No_3,editUsers_Contact_No_4:e.settings.editUsers_Contact_No_4,editUsers_Email_2:e.settings.editUsers_Email_2,editUsers_Email_3:e.settings.editUsers_Email_3,editUsers_Address_Line_1:e.settings.editUsers_Address_Line_1,editUsers_Address_Line_2:e.settings.editUsers_Address_Line_2,editUsers_Address_Line_3:e.settings.editUsers_Address_Line_3,editUsers_Zip_Code:e.settings.editUsers_Zip_Code,editUsers_City:e.settings.editUsers_City,editUsers_State:e.settings.editUsers_State,editUsers_Country:e.settings.editUsers_Country,editUsers_MD_Consent_Required:e.settings.editUsers_MD_Consent_Required,editUsers_Is_availble_Smart_Booking:e.settings.editUsers_Is_availble_Smart_Booking,editUsers_Provider_Goals:e.settings.editUsers_Provider_Goals,editUsers_Monthly_Procedure_Goals:e.settings.editUsers_Monthly_Procedure_Goals,editUsers_Weekly_Procedure_Goals:e.settings.editUsers_Weekly_Procedure_Goals,editUsers_Monthly_Sales_Goals:e.settings.editUsers_Monthly_Sales_Goals,editUsers_Weekly_Sales_Goals:e.settings.editUsers_Weekly_Sales_Goals,editUsers_Bio_For_Appointment_Booking:e.settings.editUsers_Bio_For_Appointment_Booking,editUsers_Display_Name:e.settings.editUsers_Display_Name,editUsers_Display_title:e.settings.editUsers_Display_title,editUsers_Bio:e.settings.editUsers_Bio,editUsers_CancelBtn:e.settings.editUsers_CancelBtn,privilege_admin:e.settings.privilege_admin,privilege_front_desk_user:e.settings.privilege_front_desk_user,privilege_md:e.settings.privilege_md,privilege_provider:e.settings.privilege_provider,user_Create_UserBtn:e.settings.user_Create_UserBtn,editUsers_Select_MD:e.settings.editUsers_Select_MD,showLoader:!0,clinic_Please_Wait:e.settings.clinic_Please_Wait,Appointment_Reminder_Delete:e.settings.Appointment_Reminder_Delete,settings_commission_percentage:e.settings.settings_commission_percentage,settings_create_text_msg1:e.settings.settings_create_text_msg1,settings_create_text_msg2:e.settings.settings_create_text_msg2,currentUserId:this.props.match.params.userId?this.props.match.params.userId:void 0}),void 0!==this.props.match.params.userId?this.props.getUser(this.props.match.params.userId,"user"):this.props.getDefaultUserData()}},{key:"componentDidUpdate",value:function(e){if(void 0!==e.user&&200===e.user.status&&void 0!==this.props.user&&e.user.data.user_image_url!==this.props.user.data.user_image_url){""!==this.props.user.data.user_image?this.setState({defImageCls:"no-display",cameraInPreviewCls:"camra-icon dz-clickable camera-in-preview",dzCSS:"",other_user_image:this.props.user.data.user_image,other_user_image_url:this.props.user.data.user_image_url}):this.setState({uploadedFile:this.props.user.data.user_image,other_user_image:this.props.user.data.user_image});var t={};t.dzImgObj=this.state.dzImgObj,t.mockFile={name:this.props.user.data.user_image_url,accepted:!0,size:7627},t.other_user_image_url=this.props.user.data.user_image_url,t.other_user_image=this.props.user.data.user_image,this.refs.child.reInit(t)}}},{key:"render",value:function(){var e,t=this,a=[];void 0!=this.state.clinics_array&&this.state.clinics_array.length&&void 0!=this.state.clinicList&&this.state.clinicList.length&&this.state.clinicList.map(function(e,s){t.state.clinics_array.indexOf(e.id)>-1&&a.push({value:e.id,label:e.clinic_name})});var s=this.state.select_Default_Clinic,n=[];return console.log(this.state.clinicList),void 0!=this.state.clinicList&&this.state.clinicList.length>0&&(n=this.state.clinicList.map(function(e,t){return{value:e.id,label:e.clinic_name}})),console.log(n),i.a.createElement("div",{className:"main protected"},i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(ps,null),i.a.createElement("div",{className:"setting-setion"},i.a.createElement("form",{id:"edit-user-form",name:"login-form",className:"nobottommargin",action:"#",method:"post",onSubmit:this.handleSubmit},i.a.createElement("div",{className:"setting-container"},i.a.createElement("div",{className:"setting-title"},this.props.match.params.userId?this.state.editUsers_Edit_User:this.state.settings_create_text_msg1+" "+this.state.price_per_user+" "+this.state.settings_create_text_msg2,i.a.createElement(me.a,{to:"/settings/users",className:"pull-right crossIcon cancelAction"},i.a.createElement("img",{src:"/images/close.png"}))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-12 profile-detail-left"},i.a.createElement("div",{className:"main-profile-picture"},""!=this.state.dbfirstname&&i.a.createElement(Ln,{type:"profile",uploadedFileName:"other_user_image",fileUrl:"other_user_image_url",other_user_image:this.state.other_user_image,other_user_image_url:this.state.other_user_image_url,defLogo:An.a,handleChildChange:this.handleChildChange,ref:"child",containerClass:"dropzone-holder"})),i.a.createElement("div",{className:"settings-subtitle"},this.state.editUsers_Clinic_Information,i.a.createElement("div",{className:"pull-right dash-access-outer"},i.a.createElement("span",{className:"setting-text dash-access"},this.state.editUsers_Dashboard_Access),i.a.createElement("input",{type:"radio",name:"is_dashboard_enabled",id:"UserIsDashboardEnabled0",defaultChecked:this.state.is_dashboard_enabled,className:"basic-form-checkbox",onChange:this.handleInputChange,value:!0}),i.a.createElement("label",{htmlFor:"UserIsDashboardEnabled0",className:"basic-form-text"},this.state.editUsers_Yes),i.a.createElement("input",{type:"radio",name:"is_dashboard_enabled",id:"UserIsDashboardEnabled1",defaultChecked:!this.state.is_dashboard_enabled,className:"basic-form-checkbox",onChange:this.handleInputChange,value:!1}),i.a.createElement("label",{htmlFor:"UserIsDashboardEnabled1",className:"basic-form-text"},this.state.editUsers_No),this.state.currentUserId&&this.state.loggedInUserId!=this.state.currentUserId&&i.a.createElement(me.a,{to:"/settings/user-privileges/"+this.state.currentUserId+"/role/"+this.state.role_id,className:"new-blue-btn pull-right edit_setting",id:"manage-privileges"},"Manage Privileges"))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-lg-4"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.editUsers_Select_Role," ",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("select",{name:"user_role_id",className:!0===this.state.select_RoleError?this.state.select_RoleClassError:this.state.select_RoleClass,onChange:this.handleInputChange,value:this.state.user_role_id},i.a.createElement("option",{value:!0},"Select"),i.a.createElement("option",{value:"1"},this.state.privilege_admin),i.a.createElement("option",{value:"2"},this.state.privilege_provider),i.a.createElement("option",{value:"3"},this.state.privilege_front_desk_user),i.a.createElement("option",{value:"4"},this.state.privilege_md))))),i.a.createElement("div",{className:"col-lg-8"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.editUsers_Select_clinics," ",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("div",{className:"tag-auto-select"},n&&i.a.createElement(un.a,{name:"clinic_list",onChange:this.handleChange,value:a,isClearable:!0,isSearchable:!0,options:n,isMulti:!0})))))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-lg-4"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.editUsers_Select_Default_Clinic,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("select",{name:"clinic_id",className:!0===this.state.select_DefClinicError?this.state.select_DefClinicClassError:this.state.select_DefClinicClass,onChange:this.handleInputChange,value:this.state.clinic_id},i.a.createElement("option",{disabled:"disabled"},"Select"),s.map(function(e,t){return i.a.createElement("option",{value:e.value,key:e.value},e.label)}))))),i.a.createElement("div",{className:"col-lg-8"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.editUsers_Website),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:"website",id:"website1",className:"setting-input-box",maxLength:500,type:"text",value:null!==this.state.website?this.state.website:"",onChange:this.handleInputChange,autoComplete:"off"}))))),i.a.createElement("div",{className:"settings-subtitle"},this.state.editUsers_User_Information),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-lg-4"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.editUsers_Supplementary_Title),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:"supplementary_title",id:"supplementary_title",className:"setting-input-box",type:"text",value:this.state.supplementary_title?this.state.supplementary_title:"",onChange:this.handleInputChange,autoComplete:"off"})))),i.a.createElement("div",{className:"col-lg-4"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.profile_first_name,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:"firstname",id:"firstname",className:!0===this.state.firstnameError?this.state.firstnameClassError:this.state.firstnameClass,maxLength:255,type:"text",value:this.state.firstname,onChange:this.handleInputChange,autoComplete:"off"})))),i.a.createElement("div",{className:"col-lg-4"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.profile_last_name,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:"lastname",id:"lastname",className:!0===this.state.lastnameError?this.state.lastnameClassError:this.state.lastnameClass,maxLength:255,type:"text",value:this.state.lastname,onChange:this.handleInputChange,autoComplete:"off"})))),i.a.createElement("div",{className:"col-lg-4"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.editUsers_Email," ",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:"email_id",id:"user_email",className:!0===this.state.email_idError?this.state.email_idClassError:this.state.email_idClass,maxLength:"500",type:"text",value:this.state.email_id,onChange:this.handleInputChange,autoComplete:"off"})))),i.a.createElement("div",{className:"col-lg-4"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.editUsers_Password,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer hide-pwd-outer"},i.a.createElement("input",{name:"password",id:"password",className:!0===this.state.passwordError?this.state.passwordErrorClass:this.state.passwordClass,value:this.state.password,type:this.state.inputType,autoComplete:"new-password",onChange:this.handleInputChange})," ",i.a.createElement("div",{className:"hidePassword",onClick:this.changeInputType},i.a.createElement("i",{className:"fas fa-eye"}))))),i.a.createElement("div",{className:"col-lg-4"},i.a.createElement("div",{className:"setting-field-outer passcode"},i.a.createElement("div",{className:"new-field-label"},this.state.editUsers_Passcode,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:"pass_code",type:"text",className:!0===this.state.passcodeError?this.state.passcodeClassError:this.state.passcodeClass,value:this.state.pass_code?this.state.pass_code:"",onChange:this.handleInputChange}))),i.a.createElement("a",{id:"generate_number",className:"new-white-btn pull-right gene-pascod",onClick:this.getPassCode},this.state.editUsers_Generate_Passcode))),i.a.createElement("div",{className:"settings-subtitle"},this.state.editUsers_Provider_Address_Information),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-lg-4"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.editUsers_Contact_No_1),i.a.createElement("div",{className:"setting-input-outer flag-input"},i.a.createElement("input",{type:"hidden",name:"full_number"}),i.a.createElement(zt.a,{className:"form-control",utilsScript:"libphonenumber.js",css:["intl-tel-input",this.state.contactClass1],value:this.state.contact_number_1?this.state.contact_number_1:"",defaultCountry:this.state.defaultCountry,fieldName:"contact_number_1",onPhoneNumberChange:this.phoneNumberChanged1,onPhoneNumberBlur:this.phoneNumberChanged1,fieldId:"contact_number_1",placeholder:"Phone Number",autoPlaceholder:!0,format:!0}),i.a.createElement("input",{type:"hidden",name:"data[User][full_number]",id:"full_number"})))),i.a.createElement("div",{className:"col-lg-4"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.editUsers_Contact_No_2),i.a.createElement("div",{className:"setting-input-outer flag-input"},i.a.createElement("input",{type:"hidden",name:"full_number_2"}),i.a.createElement(zt.a,{className:"form-control",utilsScript:"libphonenumber.js",css:["intl-tel-input",this.state.contactClass2],value:this.state.contact_number_2?this.state.contact_number_2:"",defaultCountry:this.state.defaultCountry,fieldName:"contact_number_2",onPhoneNumberChange:this.phoneNumberChanged2,fieldId:"contact_number_2",placeholder:"Phone Number",autoPlaceholder:!0,format:!0})))),i.a.createElement("div",{className:"col-lg-4"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.editUsers_Contact_No_3),i.a.createElement("div",{className:"setting-input-outer flag-input"},i.a.createElement("input",{type:"hidden",name:"full_number_3"}),i.a.createElement(zt.a,{className:"form-control",utilsScript:"libphonenumber.js",css:["intl-tel-input",this.state.contactClass3],value:this.state.contact_number_3?this.state.contact_number_3:"",defaultCountry:this.state.defaultCountry,fieldName:"contact_number_3",onPhoneNumberChange:this.phoneNumberChanged3,ifieldIdd:"contact_number_3",placeholder:"Phone Number",autoPlaceholder:!0,format:!0})))),i.a.createElement("div",{className:"col-lg-4"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.editUsers_Contact_No_4),i.a.createElement("div",{className:"setting-input-outer flag-input"},i.a.createElement("input",{type:"hidden",name:"full_number_4"}),i.a.createElement(zt.a,{className:"form-control",utilsScript:"libphonenumber.js",css:["intl-tel-input",this.state.contactClass4],value:this.state.contact_number_4?this.state.contact_number_4:"",defaultCountry:this.state.defaultCountry,fieldName:"contact_number_4",onPhoneNumberChange:this.phoneNumberChanged4,fieldId:"contact_number_4",placeholder:"Phone Number",autoPlaceholder:!0,format:!0})))),i.a.createElement("div",{className:"col-lg-4"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.editUsers_Email_2," "),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:"email_id_2",id:"email_id_2",className:"setting-input-box",type:"text",value:this.state.email_id_2,onChange:this.handleInputChange,autoComplete:"off"})))),i.a.createElement("div",{className:"col-lg-4"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.editUsers_Email_3),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:"email_id_3",id:"email_id_3",className:"setting-input-box",type:"text",value:this.state.email_id_3,onChange:this.handleInputChange,autoComplete:"off"})))),i.a.createElement("div",{className:"col-lg-4"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.editUsers_Address_Line_1),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:"address_line_1",className:"setting-input-box",id:"address_line_1",value:this.state.address_line_1?this.state.address_line_1:"",onChange:this.handleInputChange,maxLength:500,type:"text",autoComplete:"off"})))),i.a.createElement("div",{className:"col-lg-4"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.editUsers_Address_Line_2),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:"address_line_2",className:"setting-input-box",id:"address_line_2",maxLength:500,type:"text",value:this.state.address_line_2?this.state.address_line_2:"",onChange:this.handleInputChange,autoComplete:"off"})))),i.a.createElement("div",{className:"col-lg-4"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.editUsers_Address_Line_3),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:"address_line_3",className:"setting-input-box",id:"address_line_3",maxLength:500,type:"text",value:this.state.address_line_3?this.state.address_line_3:"",onChange:this.handleInputChange,autoComplete:"off"})))),i.a.createElement("div",{className:"col-lg-4"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.editUsers_Zip_Code),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:"pincode",className:"setting-input-box",id:"pincode",maxLength:255,value:this.state.pincode?this.state.pincode:"",onChange:this.handleInputChange,type:"text",autoComplete:"off"})))),i.a.createElement("div",{className:"col-lg-4"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.editUsers_City," ",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:"city",id:"city",className:!0===this.state.cityError?this.state.cityClassError:this.state.cityClass,maxLength:255,value:this.state.city?this.state.city:"",onChange:this.handleInputChange,type:"text",autoComplete:"off"})," "))),i.a.createElement("div",{className:"col-lg-4"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.editUsers_State," ",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:"state",id:"state",className:!0===this.state.stateError?this.state.stateClassError:this.state.stateClass,maxLength:255,type:"text",value:this.state.state,onChange:this.handleInputChange,autoComplete:"off"})))),i.a.createElement("div",{className:"col-lg-4"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.editUsers_Country," ",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:"country",id:"country",className:!0===this.state.countryError?this.state.countryClassError:this.state.countryClass,maxLength:255,value:this.state.country,onChange:this.handleInputChange,type:"text",autoComplete:"off"})))),i.a.createElement("div",{className:"col-lg-4"},i.a.createElement("div",{className:1==this.state.is_provider?"setting-field-outer":"no-display"},i.a.createElement("div",{className:"new-field-label"},this.state.settings_commission_percentage),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:"commission_percentage",id:"commission_percentage",className:this.state.stateClass,maxLength:255,type:"text",value:this.state.commission_percentage,onChange:this.handleInputChange,autoComplete:"off"})))))))),i.a.createElement("div",{className:2==this.state.user_role_id?"no-display":"setting-container border-top work_as_provider_container"},i.a.createElement("div",{className:"setting-title no-margin",id:"work_as_provider_box"},this.state.createUsers_Work_As_Provider,i.a.createElement("label",{className:"setting-switch pull-right"},i.a.createElement("input",{type:"checkbox",name:"is_provider",className:"setting-custom-switch-input",checked:!!this.state.is_provider&&"checked",onChange:this.handleInputChange}),i.a.createElement("span",{className:"setting-slider"})))),i.a.createElement("div",{className:2==this.state.user_role_id||1==this.state.is_provider?this.state.mdConsetDisplayEnable:this.state.mdConsetDisplayDisable},i.a.createElement("div",{className:"row is-provider-form-title"},i.a.createElement("div",{className:"col-xs-12 profile-detail-left"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-lg-7 col-md-12"},this.state.editUsers_MD_Consent_Required,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"col-lg-5 col-md-12"},i.a.createElement("div",{className:"basic-checkbox-outer"},i.a.createElement("input",(e={id:"radiobutton1",className:"basic-form-checkbox md_consent_required",name:"is_md_consent_required",type:"radio",defaultChecked:this.state.is_md_consent_required},Object(se.a)(e,"className","basic-form-checkbox"),Object(se.a)(e,"value","true"),Object(se.a)(e,"onChange",this.handleInputChange),e)),i.a.createElement("label",{className:"basic-form-text",htmlFor:"radiobutton1"},this.state.editUsers_Yes)),i.a.createElement("div",{className:"basic-checkbox-outer"},i.a.createElement("input",{id:"radiobutton2",className:"basic-form-checkbox md_consent_required",name:"is_md_consent_required",type:"radio",defaultChecked:!this.state.is_md_consent_required,onChange:this.handleInputChange}),i.a.createElement("label",{className:"basic-form-text",htmlFor:"radiobutton2"},this.state.editUsers_No)))),i.a.createElement("div",{className:"true"==this.state.is_md_consent_required?this.state.rowDisplayEnable:this.state.rowDisplayDisable,id:"select_md_consent"},i.a.createElement("div",{className:"col-lg-5 "},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.editUsers_Select_MD,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("select",{name:"md_user_id",id:"md_user_id",className:this.state.mdUserIdError?"setting-select-box field_error":"setting-select-box",value:this.state.md_user_id,onChange:this.handleInputChange},i.a.createElement("option",{value:0,onChange:this.handleInputChange},"Select"),void 0!==this.state.MDListData&&null!==this.state.MDListData&&this.state.MDListData.map(function(e,a){return i.a.createElement("option",{key:a,value:e.id,onChange:t.handleInputChange},e.firstname," ",e.lastname)})))))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-lg-7 col-md-12"},this.state.editUsers_Is_availble_Smart_Booking),i.a.createElement("div",{className:"col-lg-5 col-md-12"},i.a.createElement("div",{className:"basic-checkbox-outer"},i.a.createElement("input",{id:"radiobutton3",className:"basic-form-checkbox",name:"is_available_online",type:"radio",value:"true",onChange:this.handleInputChange,defaultChecked:this.state.is_available_online}),i.a.createElement("label",{className:"basic-form-text",htmlFor:"radiobutton3"},this.state.editUsers_Yes)),i.a.createElement("div",{className:"basic-checkbox-outer"},i.a.createElement("input",{id:"radiobutton4",className:"basic-form-checkbox",name:"is_available_online",type:"radio",value:"false",defaultChecked:!this.state.is_available_online,onChange:this.handleInputChange}),i.a.createElement("label",{className:"basic-form-text",htmlFor:"radiobutton4"},this.state.editUsers_No)))),i.a.createElement("div",{className:"settings-subtitle m-t-20"},this.state.editUsers_Provider_Goals),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-6"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.editUsers_Monthly_Procedure_Goals),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:"monthly_procedure_goal",id:"monthly_goal",className:"setting-input-box",maxLength:11,value:this.state.monthly_procedure_goal,onChange:this.handleInputChange,type:"text",autoComplete:"off"})))),i.a.createElement("div",{className:"col-sm-6"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.editUsers_Weekly_Procedure_Goals),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:"weekly_procedure_goal",id:"monthly_goal1",className:"setting-input-box",maxLength:11,value:this.state.weekly_procedure_goal,onChange:this.handleInputChange,type:"text",autoComplete:"off"})))),i.a.createElement("div",{className:"col-sm-6"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.editUsers_Monthly_Sales_Goals),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:"monthly_sales_goal",id:"monthly_goal2",className:"setting-input-box",type:"text",value:this.state.monthly_sales_goal,onChange:this.handleInputChange,autoComplete:"off"})))),i.a.createElement("div",{className:"col-sm-6"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.editUsers_Weekly_Sales_Goals),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:"weekly_sales_goal",id:"monthly_goal3",className:"setting-input-box",type:"text",value:this.state.weekly_sales_goal,onChange:this.handleInputChange,autoComplete:"off"}))))),i.a.createElement("div",{className:"settings-subtitle m-t-20"},this.state.editUsers_Bio_For_Appointment_Booking),i.a.createElement("div",{className:"row "},i.a.createElement("div",{className:"col-lg-6"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.editUsers_Display_Name," ",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:"bio_name",id:"bio_name",className:!0===this.state.bio_nameError?this.state.bio_nameClassError:this.state.bio_nameClass,maxLength:255,type:"text",value:this.state.bio_name,onChange:this.handleInputChange,autoComplete:"off"})))),i.a.createElement("div",{className:"col-lg-6"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.editUsers_Display_title),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:"bio_title",id:"bio_title",className:"setting-input-box",maxLength:255,type:"text",value:this.state.bio_title,onChange:this.handleInputChange,autoComplete:"off"})))),i.a.createElement("div",{className:"col-lg-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.editUsers_Bio," ",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:"bio_description",id:"bio_description",className:!0===this.state.bio_descriptionError?this.state.bio_descriptionClassError:this.state.bio_descriptionClass,value:this.state.bio_description,onChange:this.handleInputChange,type:"text",autoComplete:"off"}))),i.a.createElement("div",{className:"m-b-30 pull-left"},i.a.createElement("input",{type:"checkbox",className:"new-check child_view-patients",id:"recieveCheckInSms",name:"receive_checkin_sms",checked:!!this.state.receive_checkin_sms&&"checked",onChange:this.handleInputChange}),i.a.createElement("label",{className:"setting-text",htmlFor:"view-patients"},"Receive Client check-in SMS & Email"))))))),i.a.createElement("div",{className:"footer-static"},i.a.createElement("input",{className:"new-blue-btn pull-right",id:"editsave",type:"submit",value:"Save"}),i.a.createElement(me.a,{to:"/settings/users",className:"new-white-btn pull-right cancelAction"},"Cancel"),i.a.createElement("button",{type:"button",className:this.props.match.params.userId?"new-red-btn pull-left":"no-display",id:"resetform",onClick:this.showDeleteModal,"data-message":this.state.settingsLang.settings_are_you_sure_del_PTI},this.state.Appointment_Reminder_Delete),i.a.createElement("div",{className:this.state.showModal?"overlay":""}),i.a.createElement("div",{id:"filterModal",role:"dialog",className:this.state.showModal?"modal fade in displayBlock":"modal fade"},i.a.createElement("div",{className:"modal-dialog"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal",onClick:this.dismissModal},"\xd7"),i.a.createElement("h4",{className:"modal-title",id:"model_title"},this.state.settingsLang.settings_Confirmation_required,this.state.showModal)),i.a.createElement("div",{id:"errorwindow",className:"modal-body add-patient-form filter-patient"},this.state.settingsLang.settings_del_PTI),i.a.createElement("div",{className:"modal-footer"},i.a.createElement("div",{className:"col-md-12 text-left",id:"footer-btn"},i.a.createElement("button",{type:"button",className:"btn  logout pull-right","data-dismiss":"modal",onClick:this.dismissModal},this.state.settingsLang.no_option),i.a.createElement("button",{type:"button",className:"btn btn-success pull-right m-r-10","data-dismiss":"modal",onClick:this.deleteUserID},this.state.settingsLang.yes_option)))))),i.a.createElement("div",{className:this.state.showPriceModal?"overlay":""}),i.a.createElement("div",{id:"filterModal",role:"dialog",className:this.state.showPriceModal?"modal fade in displayBlock":"modal fade"},i.a.createElement("div",{className:"modal-dialog"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal",onClick:this.dismissPriceModal},"\xd7"),i.a.createElement("h4",{className:"modal-title",id:"model_title"},"Charges")),i.a.createElement("div",{id:"errorwindow",className:"modal-body add-patient-form filter-patient"},"You will be charged ",this.state.price_per_user," by adding this user. Are you sure you want to continue?"),i.a.createElement("div",{className:"modal-footer"},i.a.createElement("div",{className:"col-md-12 text-left",id:"footer-btn"},i.a.createElement("button",{type:"button",className:"btn  logout pull-right","data-dismiss":"modal",onClick:this.dismissPriceModal},this.state.settingsLang.no_option),i.a.createElement("button",{type:"button",className:"btn btn-success pull-right m-r-10","data-dismiss":"modal",onClick:this.createUserNow},this.state.settingsLang.yes_option)))))))),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.clinic_Please_Wait)))))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(void 0!=e.showLoader&&0==e.showLoader)return{showLoader:!1};if(void 0!=e.userData&&e.userData!==t.userData){t.userChanged?t.other_user_image:null==e.userData.user_image||e.userData.user_image;var a=[];return t.userChanged||e.userData.clinics_array.length&&t.clinicList&&e.userData.clinics_array.map(function(t,s){var n=e.userData.clinics.find(function(e){return e.id===t});n&&a.push({value:n.id,label:n.clinic_name})}),{userData:e.userData,showLoader:!1,dbfirstname:e.userData.firstname,firstname:t.userChanged?t.firstname:e.userData.firstname,lastname:t.userChanged?t.lastname:e.userData.lastname,address_line_1:t.userChanged?t.address_line_1:e.userData.address_line_1,address_line_2:t.userChanged?t.address_line_2:e.userData.address_line_2,address_line_3:t.userChanged?t.address_line_3:e.userData.address_line_3,address_line_4:t.userChanged?t.address_line_4:e.userData.address_line_4,bio_description:t.userChanged?t.bio_description:e.userData.bio_description,bio_name:t.userChanged?t.bio_name:e.userData.bio_name,bio_title:t.userChanged?t.bio_title:e.userData.bio_title?e.userData.bio_title:"",contact_number_1:t.userChanged?t.contact_number_1:e.userData.contact_number_1,contact_number_2:t.userChanged?t.contact_number_2:e.userData.contact_number_2,contact_number_3:t.userChanged?t.contact_number_3:e.userData.contact_number_3,contact_number_4:t.userChanged?t.contact_number_4:e.userData.contact_number_4,city:t.userChanged?t.city:e.userData.city,country:t.userChanged?t.country:e.userData.country,commission_percentage:t.userChanged?t.commission_percentage:e.userData.commission_percentage?e.userData.commission_percentage:"",email_id:t.userChanged?t.email_id:e.userData.email_id,email_id_2:t.userChanged?t.email_id_2:e.userData.email_id_2?e.userData.email_id_2:"",email_id_3:t.userChanged?t.email_id_3:e.userData.email_id_3?e.userData.email_id_3:"",monthly_procedure_goal:t.userChanged?t.monthly_procedure_goal:e.userData.monthly_procedure_goal,monthly_sales_goal:t.userChanged?t.monthly_sales_goal:e.userData.monthly_sales_goal,pincode:t.userChanged?t.pincode:e.userData.pincode,weekly_sales_goal:t.userChanged?t.weekly_sales_goal:e.userData.weekly_sales_goal,weekly_procedure_goal:t.userChanged?t.weekly_procedure_goal:e.userData.weekly_procedure_goal,website:t.userChanged?t.website:e.userData.website,is_dashboard_enabled:t.userChanged?t.is_dashboard_enabled:!!e.userData.is_dashboard_enabled,supplementary_title:t.userChanged?t.supplementary_title:e.userData.supplementary_title,user_role_id:t.userChanged?t.user_role_id:e.userData.user_role_id,state:t.userChanged?t.state:e.userData.state,is_md_consent_required:t.is_md_consent_required?t.is_md_consent_required:!!e.userData.is_md_consent_required,md_user_id:t.md_user_id?t.md_user_id:e.userData.md_user_id,is_available_online:t.is_available_online?t.is_available_online:!!e.userData.is_available_online,is_provider:t.userChanged?t.is_provider:e.userData.is_provider,clinics_array:t.userChanged?t.clinics_array:e.userData.clinics_array,select_Default_Clinic:t.userChanged?t.select_Default_Clinic:a,clinic_id:t.userChanged?t.clinic_id:e.userData.clinic_id,pass_code:t.userChanged?t.pass_code:e.userData.pass_code,defaultOptions:t.userChanged?t.defaultOptions:e.userData.defaultOptions,receive_checkin_sms:t.userChanged?t.receive_checkin_sms:e.userData.receive_checkin_sms,other_user_image:t.userChanged?t.other_user_image:null==e.userData.user_image?"":e.userData.user_image,other_user_image_url:e.userData.user_image_url,role_id:e.userData.user_role_id,MDListData:e.userData.md_list,clinicList:e.userData.clinics}}if(void 0!=e.defaultUserData&&e.defaultUserData!==t.defaultUserData){var s={};return s.clinicList=t.clinicList.length?t.clinicList:e.defaultUserData.clinics,s.MDListData=t.userChanged?t.MDListData:e.defaultUserData.md_list,s.price_per_user=t.userChanged?t.MDListData:e.defaultUserData.price_per_user,s.defaultUserData=e.defaultUserData,s.userChanged=!1,s.showLoader=!1,t.currentUserId||(s.dbfirstname="asd"),s}return void 0!=e.MDListData&&e.MDListData.data!==t.MDListData?{MDListData:t.userChanged?t.MDListData:e.MDListData.data,userChanged:!1,showLoader:!1}:(void 0!==e.redirect&&!0===e.redirect&&rt.toast.success(e.message,{onClose:function(){e.history.push("/settings/users")}}),null)}}]),t}(n.Component);var Z_=Object(Z.b)(function(e){var t={},a=JSON.parse(localStorage.getItem("languageData"));return"USER_GET"===e.SettingReducer.action&&(200!=e.SettingReducer.data.status?t.showLoader=!1:t.userData=e.SettingReducer.data.data),"MDS_LIST"===e.SettingReducer.action&&(200!=e.SettingReducer.data.status?t.showLoader=!1:t.MDListData=e.SettingReducer.data),"USER_CREATE"===e.SettingReducer.action&&(201!=e.SettingReducer.data.status?(rt.toast.error(a.global[e.SettingReducer.data.message]),t.updateData=e.SettingReducer.data,t.showLoader=!1):(t.redirect=!0,t.message=a.global[e.SettingReducer.data.message])),"DEFAULT_USERADD_DATA"===e.SettingReducer.action&&(200!=e.SettingReducer.data.status?t.showLoader=!1:t.defaultUserData=e.SettingReducer.data.data),"USER_DELETE"===e.SettingReducer.action&&(200!=e.SettingReducer.data.status?t.showLoader=!1:t.message=a.global[e.SettingReducer.data.message]),"USER_UPDATE"===e.SettingReducer.action&&(200!=e.SettingReducer.data.status?(rt.toast.error(a.global[e.SettingReducer.data.message]),t.showLoader=!1):(t.redirect=!0,t.message=a.global[e.SettingReducer.data.message])),t},function(e){return Object(c.bindActionCreators)({getUser:ii,fetchClinics:Sr,userProfile:oi,createUser:Gi,fetchSelectMD:Vi,deleteUser:ri,getDefaultUserData:xo},e)})(X_),$_=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,s=t.value,n=t.name,i={dataChanged:!0};switch(t.type){case"checkbox":s=!!t.checked}if(i[n]=s,a.setState(i),"checkbox"===t.type){t.value;var r=parseInt(n.split("-")[1]),o=a.state.selected,l=a.state.selected.indexOf(r);l>-1&&1!=s?o.splice(l,1):o.push(r),a.setState({selected:o})}},a.dateRangeOnChange=function(e){var t=e.selection.startDate,s=e.selection.endDate;a.setState({startDate:t,endDate:s,showCalendar:!1,from_date:Object(ss.b)(t,"YYYY-MM-DD"),to_date:Object(ss.b)(s,"YYYY-MM-DD")}),a.handleSubmit("dateRange",{from_date:Object(ss.b)(t,"YYYY-MM-DD"),to_date:Object(ss.b)(s,"YYYY-MM-DD")})},a.handleClick=function(e){a.node.contains(e.target)&&!0===a.state.showCalendar||a.toggleCalendar(e.target)},a.toggleCalendar=function(e){if("calendar-input"===e.name||!1!==a.state.showCalendar){var t=!1;t=!1===a.state.showCalendar&&void 0!==e.name&&"calendar-input"===e.name,a.setState({showCalendar:t})}},a.handleSubmit=function(e,t){var s;"object"===typeof e&&e.preventDefault(),localStorage.setItem("sortOnly",!0);var n={params:{page:1,pagesize:a.state.pagesize,term:a.state.term,from_date:void 0!=t&&void 0!=t.from_date?t.from_date:a.state.from_date,to_date:void 0!=t&&void 0!=t.to_date?t.to_date:a.state.to_date}};a.setState((s={page:1,pagesize:a.state.pagesize,startFresh:!0,loadMore:!0},Object(se.a)(s,"startFresh",!0),Object(se.a)(s,"next_page_url",""),Object(se.a)(s,"recentlyDeletedList",[]),Object(se.a)(s,"showLoader",!0),Object(se.a)(s,"next_page_url",""),Object(se.a)(s,"showLoader",!0),s)),a.props.getRecentlyDeleted(n)},a.loadMore=function(){localStorage.setItem("sortOnly",!1),a.setState({loadMore:!0,startFresh:!0,showLoader:!0,showLoadingText:!0});var e={params:{page:a.state.page,pagesize:a.state.pagesize,term:a.state.term,from_date:a.state.from_date,to_date:a.state.to_date}};a.props.getRecentlyDeleted(e)},a.handleRestoreModal=function(){a.setState({isShowDeletedModal:!a.state.isShowDeletedModal})},a.restoreSelected=function(){a.props.restoreRecentlyDeleted({procedure_ids:a.state.selected}),a.setState({isShowDeletedModal:!a.state.isShowDeletedModal,showLoader:!0})},a.ProcedureDetail=function(e,t){if("checkbox-recently-deleted"!=t.target.className)return i.a.createElement("div",null,a.props.history.push("/settings/procedure-detail/".concat(e,"/recently-deleted")))};var s=JSON.parse(localStorage.getItem("languageData"));a.state={globalLang:s.global,settingsLang:s.settings,recentlyDeletedList:[],selected:[],hasMoreItems:!0,next_page_url:"",userList:[],loadMore:!0,startFresh:!0,showLoader:!1,showLoadingText:!1,userData:"",page:1,pagesize:15,isShowDeletedModal:!1,dateRangePicker:{selection:{startDate:new Date,endDate:new Date,key:"selection"}},startDate:new Date,endDate:new Date,to_date:Object(ss.b)(new Date,"YYYY-MM-DD"),from_date:Object(ss.b)(new Date,"YYYY-MM-DD"),showCalendar:!1,term:""},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),window.onscroll=function(){var e=parseInt(Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop));window.innerHeight+e===document.documentElement.offsetHeight&&null!=a.state.next_page_url&&a.loadMore()};JSON.parse(localStorage.getItem("userData"));return a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleClick,!1);var e={params:{term:this.state.term,page:this.state.page,pagesize:this.state.pagesize,from_date:this.state.from_date,to_date:this.state.to_date}};this.setState({showLoader:!0}),this.props.getRecentlyDeleted(e)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClick,!1)}},{key:"render",value:function(){var e,t=this,a={startDate:this.state.startDate,endDate:this.state.endDate,key:"selection"};return i.a.createElement("div",{className:"main protected"},i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(ps,null),i.a.createElement("div",{className:"setting-setion"},i.a.createElement("div",{className:"setting-search-outer"},i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("div",{className:"search-bg new-search"},i.a.createElement("i",{className:"fas fa-search"}),i.a.createElement("input",{className:"setting-search-input search-key",name:"term",placeholder:this.state.globalLang.label_search,value:this.state.term,onChange:this.handleInputChange,autoComplete:"off"}))),i.a.createElement("div",{className:"search-bg new-calender pull-left",ref:function(e){t.node=e}},i.a.createElement("img",{src:as.a}),this.state.showCalendar&&i.a.createElement(Ia.DateRangePicker,(e={ranges:[a],onChange:this.dateRangeOnChange,moveRangeOnFirstSelection:!1},Object(se.a)(e,"moveRangeOnFirstSelection",!0),Object(se.a)(e,"className","CalendarPreviewArea"),Object(se.a)(e,"months",1),Object(se.a)(e,"scroll",{enabled:!0}),Object(se.a)(e,"maxDate",Object(ss.a)(new Date,900)),Object(se.a)(e,"minDate",Object(ss.a)(new Date,-365)),e)),i.a.createElement("input",{type:"text",className:"input-cal setting-search-input",name:"calendar-input",value:this.state.from_date?this.state.from_date+"-"+this.state.to_date:"",autoComplete:"off",onChange:this.handleInputChange})),i.a.createElement("a",{href:"javascript:void(0);",className:this.state.selected.length>0?"new-blue-btn pull-right":"new-blue-btn pull-right disable",onClick:this.state.selected.length>0?this.handleRestoreModal:null},this.state.settingsLang.recently_deleted_restore)),i.a.createElement("div",{className:"table-responsive"},i.a.createElement("table",{className:"table-updated juvly-table table-min-width"},i.a.createElement("thead",{className:"table-updated-thead"},i.a.createElement("tr",null,i.a.createElement("th",{className:"table-checkbox table-updated-th"}),i.a.createElement("th",{className:"col-xs-2 table-updated-th"},this.state.settingsLang.procedure_name),i.a.createElement("th",{className:"col-xs-3 table-updated-th"},this.state.settingsLang.procedure_date),i.a.createElement("th",{className:"col-xs-2 table-updated-th"},this.state.globalLang.label_client),i.a.createElement("th",{className:"col-xs-2 table-updated-th"},this.state.globalLang.label_provider),i.a.createElement("th",{className:"col-xs-2 table-updated-th"},this.state.globalLang.label_clinic))),i.a.createElement("tbody",{className:"ajax_body"},void 0!==this.state.recentlyDeletedList&&this.state.recentlyDeletedList.map(function(e,a){return i.a.createElement("tr",{className:"table-updated-tr",key:"recently-deleted"+a,onClick:t.ProcedureDetail.bind(t,e.id)},i.a.createElement("td",{className:"table-checkbox table-updated-td"},i.a.createElement("input",{type:"checkbox",className:"checkbox-recently-deleted",checked:t.state.selected.indexOf(e.id)>-1&&"checked",value:t.state.selected.indexOf(e.id)>-1,name:"deleted-"+e.id,onChange:t.handleInputChange})),i.a.createElement("td",{className:"col-xs-2 table-updated-td"},e.procedure_name),i.a.createElement("td",{className:"col-xs-3 table-updated-td"},Be(e.procedure_date,!0)),i.a.createElement("td",{className:"col-xs-2 table-updated-td"},void 0!=e.patient&&null!=e.patient&&void 0!=e.patient.patient_name?e.patient.patient_name:""),i.a.createElement("td",{className:"col-xs-2 table-updated-td"},void 0!=e.user&&null!=e.user&&void 0!=e.user.provider_name?e.user.provider_name:""),i.a.createElement("td",{className:"col-xs-2 table-updated-td"},void 0!=e.clinic.clinic_name?e.clinic.clinic_name:""))}))),!1===this.state.showLoader&&i.a.createElement("div",{className:this.state.recentlyDeletedList.length?"no-record no-display":"no-record"},this.state.globalLang.sorry_no_record_found)),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.globalLang.Please_Wait))),i.a.createElement("div",{className:this.state.showLoadingText?"loading-please-wait no-margin-top":"loading-please-wait no-margin-top no-display "},this.state.globalLang.loading_please_wait_text))),i.a.createElement("div",{className:this.state.isShowDeletedModal?"overlay":""}),i.a.createElement("div",{id:"filterModal",role:"dialog",className:this.state.isShowDeletedModal?"modal fade in displayBlock":"modal fade no-display"},i.a.createElement("div",{className:"modal-dialog"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal",onClick:this.handleRestoreModal},"\xd7"),i.a.createElement("h4",{className:"modal-title",id:"model_title"},this.state.globalLang.delete_confirmation)),i.a.createElement("div",{id:"errorwindow",className:"modal-body add-patient-form filter-patient"},this.state.settingsLang.recently_deleted_restore_msg),i.a.createElement("div",{className:"modal-footer"},i.a.createElement("div",{className:"col-md-12 text-left",id:"footer-btn"},i.a.createElement("button",{type:"button",className:"btn  logout pull-right","data-dismiss":"modal",onClick:this.handleRestoreModal},this.state.globalLang.label_no),i.a.createElement("button",{type:"button",className:"btn btn-success pull-right m-r-10","data-dismiss":"modal",onClick:this.restoreSelected},this.state.globalLang.label_yes))))))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a,s={};if(void 0!=e.showLoader&&0==e.showLoader)return s.showLoader=!1,s;if(void 0!=e.reload&&1==e.reload)return rt.toast.success(e.message,{onClose:function(){var a={params:{page:1,pagesize:t.pagesize,term:t.term,from_date:t.from_date,to_date:t.to_date}};e.getRecentlyDeleted(a)}}),a={page:1,startFresh:!0,loadMore:!0},Object(se.a)(a,"startFresh",!0),Object(se.a)(a,"next_page_url",""),Object(se.a)(a,"recentlyDeletedList",[]),Object(se.a)(a,"showLoader",!0),Object(se.a)(a,"next_page_url",""),Object(se.a)(a,"showLoader",!0),a;if(void 0!=e.recentlyDeletedList&&e.recentlyDeletedList.next_page_url!==t.next_page_url){var n={};return null==t.next_page_url?(localStorage.setItem("sortOnly",!1),n.next_page_url=null,n):(0==t.recentlyDeletedList.length&&1==t.startFresh?"false"==localStorage.getItem("sortOnly")?(n.recentlyDeletedList=e.recentlyDeletedList.data,void 0!==e.recentlyDeletedList.account_prefrence&&(n.dynamic_providers_ordering=t.userChanged?t.recentlyDeletedList:!!e.recentlyDeletedList.account_prefrence.dynamic_providers_ordering),void 0!==e.recentlyDeletedList.is_superadmin&&(n.is_superadmin=e.recentlyDeletedList.is_superadmin),null!=e.recentlyDeletedList.next_page_url?n.page=t.page+1:n.next_page_url=e.recentlyDeletedList.next_page_url,n.startFresh=!1,n.showLoader=!1,n.showLoadingText=!1,localStorage.setItem("showLoader",!1)):localStorage.setItem("sortOnly",!1):t.recentlyDeletedList!=e.recentlyDeletedList.data&&0!=t.recentlyDeletedList.length&&(n.recentlyDeletedList=Object(oa.a)(t.recentlyDeletedList).concat(Object(oa.a)(e.recentlyDeletedList.data)),n.page=t.page+1,n.next_page_url=e.recentlyDeletedList.next_page_url,localStorage.setItem("showLoader",!1),n.showLoader=!1,n.showLoadingText=!1),n)}return null}}]),t}(n.Component);var ev=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData")),a={};return"RECENTLY_DELETED_LIST"===e.SettingReducer.action?200!=e.SettingReducer.data.status?(rt.toast.error(t.global[e.SettingReducer.data.message]),a.showLoader=!0):a.recentlyDeletedList=e.SettingReducer.data.data:"RECENTLY_DELETED_RESTORE"===e.SettingReducer.action&&(200!=e.SettingReducer.data.status?(rt.toast.error(t.global[e.SettingReducer.data.message]),a.showLoader=!0):(a.message=t.global[e.SettingReducer.data.message],a.reload=!0)),a},function(e){return Object(c.bindActionCreators)({getRecentlyDeleted:Ur,restoreRecentlyDeleted:Fr},e)})($_),tv=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).loadMore=function(){localStorage.setItem("sortOnly",!1),a.setState({loadMore:!0,startFresh:!0,showLoader:!0,showLoadingText:!0});var e={params:{page:a.state.page,pagesize:a.state.pagesize}};a.props.getSubscriptionInvoices(e)},a.handleSubmit=function(){a.state.pastDueInvoiceId&&(a.setState({showLoader:!0}),a.props.payInvoiceById({invoice_id:a.state.pastDueInvoiceId}))},a.InvoiceView=function(e){return i.a.createElement("div",null,a.props.history.push("/settings/invoices/".concat(e,"/subscription")))};var s=JSON.parse(localStorage.getItem("languageData"));return a.state={settingsLang:s.settings,globalLang:s.global,invoiceList:[],page:1,pagesize:15,next_page_url:"",loadMore:!0,startFresh:!0,showLoader:!1,isInvoicePastDue:!1,pastDueAmount:0,pastDueInvoiceId:0},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),window.onscroll=function(){var e=parseInt(Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop));window.innerHeight+e===document.documentElement.offsetHeight&&null!=a.state.next_page_url&&a.loadMore()},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e={params:{page:this.state.page,pagesize:this.state.pagesize}};JSON.parse(localStorage.getItem("languageData"));this.setState({}),this.setState({showLoader:!0}),this.props.getSubscriptionInvoices(e)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"main protected"},i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(ps,null),i.a.createElement("div",{className:"setting-setion"},this.state.isInvoicePastDue?i.a.createElement("div",{className:"setting-search-outer"},i.a.createElement("a",{className:"new-blue-btn confirm-pay-now pull-right",onClick:this.handleSubmit},this.state.settingsLang.billing_pay_now),i.a.createElement("span",{className:"setting-total-due pull-right"},this.state.settingsLang.billing_your_total_due," : ",Ie(this.state.pastDueAmount,"currency",2))):i.a.createElement("div",{className:"setting-search-outer"},"\xa0"),i.a.createElement("div",{className:"table-responsive"},i.a.createElement("table",{className:"table-updated setting-table table-min-width"},i.a.createElement("thead",{className:"table-updated-thead"},i.a.createElement("tr",null,i.a.createElement("th",{className:"col-xs-3 table-updated-th"},this.state.settingsLang.billing_invoice,"#",i.a.createElement("i",{className:"gray-gray"})),i.a.createElement("th",{className:"col-xs-2 table-updated-th"},this.state.settingsLang.billing_invoice_date),i.a.createElement("th",{className:"col-xs-3 table-updated-th"},this.state.globalLang.label_status),i.a.createElement("th",{className:"col-xs-3 table-updated-th text-right"},this.state.globalLang.label_amount))),i.a.createElement("tbody",{className:"ajax_body"},this.state.invoiceList.length?this.state.invoiceList.map(function(t,a){var s=Be(t.created,!1,"MMMM DD, YYYY");return i.a.createElement("tr",{className:"table-updated-tr",key:"invoice-"+a,onClick:e.InvoiceView.bind(e,t.id)},i.a.createElement("td",{className:"col-xs-3 table-updated-td"},t.invoice_number),i.a.createElement("td",{className:"col-xs-3 table-updated-td"},s),i.a.createElement("td",{className:"col-xs-3 table-updated-td"},"paid"==t.payment_status?e.state.settingsLang.setting_paid:e.state.settingsLang.setting_past_due),i.a.createElement("td",{className:"col-xs-3 table-updated-td text-right"},Ie(t.invoice_amount,"currency",2)))}):!1===this.state.showLoader&&i.a.createElement("tr",{className:"table-updated-tr"},i.a.createElement("td",{className:"col-xs-3 table-updated-td text-center",colSpan:4},this.state.globalLang.sorry_no_record_found))))),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.globalLang.Please_Wait)),i.a.createElement("div",{className:this.state.showLoadingText?"loading-please-wait no-margin-top":"loading-please-wait no-margin-top no-display "},this.state.globalLang.loading_please_wait_text))))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};if(void 0!==e.redirect&&!0===e.redirect)rt.toast.success(e.message,{onClose:function(){window.location.reload()}});else if(void 0!==e.showLoader&&!0===e.showLoader)a.showLoader=!1;else if(void 0!=e.invoiceList&&e.invoiceList.next_page_url!==t.next_page_url){if(null==t.next_page_url)return localStorage.setItem("sortOnly",!1),a.next_page_url=null;0==t.invoiceList.length&&1==t.startFresh?"false"==localStorage.getItem("sortOnly")?(a.invoiceList=e.invoiceList.data,a.invoiceList.length>0&&"past_due"==a.invoiceList[0].payment_status?(a.isInvoicePastDue=!0,a.pastDueAmount=a.invoiceList[0].invoice_amount,a.pastDueInvoiceId=a.invoiceList[0].id):(a.isInvoicePastDue=!1,a.pastDueAmount=0),null!=e.invoiceList.next_page_url?a.page=t.page+1:a.next_page_url=e.invoiceList.next_page_url,a.startFresh=!1,a.showLoader=!1,a.showLoadingText=!1):localStorage.setItem("sortOnly",!1):t.invoiceList!=e.invoiceList.data&&0!=t.invoiceList.length&&(a.invoiceList=Object(oa.a)(t.invoiceList).concat(Object(oa.a)(e.invoiceList.data)),a.next_page_url=e.invoiceList.next_page_url,a.showLoader=!1,a.showLoadingText=!1,a.page=t.page+1)}return a}}]),t}(n.Component);var av=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData")),a={};return"SUBSCRIPTION_INVOICE_LIST"===e.SettingReducer.action?200!=e.SettingReducer.data.status?(rt.toast.error(t.global[e.SettingReducer.data.message]),a.showLoader=!1):a.invoiceList=e.SettingReducer.data.data:"PAY_LAST_DUE_INVOICE"===e.SettingReducer.action&&(200!=e.SettingReducer.data.status?(rt.toast.error(t.global[e.SettingReducer.data.message]),a.showLoader=!1):(a.message=t.global[e.SettingReducer.data.message],a.redirect=!0)),a},function(e){return Object(c.bindActionCreators)({getSubscriptionInvoices:xr,payInvoiceById:Or},e)})(tv);Pa()(Ma.a);var sv=function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).renderHighChart=function(){var e=Ma.a.chart("container",{chart:{type:"pie",margin:[25,80,50,0],height:300,width:385,backgroundColor:"rgba(255, 255, 255, 0.0)"},title:{text:" "},subtitle:{text:" "},spacingBottom:0,height:250,exporting:{enabled:!1},xAxis:{labels:{enabled:!1}},yAxis:{title:{text:"Total percent market share"},labels:{enabled:!1}},plotOptions:{pie:{shadow:!1,center:["50%","50%"],allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!1}}},series:[{name:"Versions",data:a.state.graphData,size:"90%",innerSize:"80%",id:"versions",showInLegend:!1}],legend:{enabled:!0,layout:"vertical",align:"right",verticalAlign:"middle",padding:3,itemMarginTop:5,itemMarginBottom:5,itemStyle:{lineHeight:"14px"},x:-5,y:20,useHTML:!0,labelFormatter:function(){return'<div class="setting-data-usage">'+this.z+'</div><div class="setting-free-used">'+this.name+"</div>"}},tooltip:{valueSuffix:" GB"}});return a.setState({highcharts:e}),e},a.state={graphData:[{name:"Used",y:1.05,color:"#0066B4",z:"0.21 GB / 1.05%"},{name:"Free",y:98.95,color:"#C7E3F5",z:"19.79 GB / 98.95%"}],highcharts:{}},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){this.renderHighChart()}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{id:"container"}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};void 0!=e.graphData&&e.graphData.length>0&&e.graphData!==t.graphData&&(a.graphData=e.graphData,void 0!=t.highcharts.series&&t.highcharts.series.length>0&&t.highcharts.update({series:[{name:"Versions",data:e.graphData,size:"90%",innerSize:"80%",id:"versions",showInLegend:!1}]}));return a}}]),t}(n.Component),nv=function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).state={storageData:{},graphData:[]},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"dash-box"},i.a.createElement("div",{className:"dash-box-title"}),i.a.createElement("div",{className:"sales-date-price"},i.a.createElement("span",{className:"sale-goal-date"},this.state.storageData.used+"/"+this.state.storageData.limit+" GB"),i.a.createElement("span",{className:"sale-goal-price"},"Total")),i.a.createElement("div",{className:"dash-box-content office-goal",id:"office-sales-goals","data-highcharts-chart":"6"},i.a.createElement("div",{id:"container",className:"highcharts-container ","data-highcharts-chart":"6",style:{position:"relative",overflow:"hidden",width:"375px",height:"300px",textAlign:"left",lineHeight:"normal",zIndex:"0",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"}},i.a.createElement(sv,{graphData:this.state.graphData}))),i.a.createElement("div",{className:"sales-goal-legend"},this.state.graphData.map(function(e,t){return i.a.createElement("div",{className:"legend-group",key:t},i.a.createElement("div",{className:"legend-dot",style:{background:e.color}}),i.a.createElement("div",{className:"legend-price"},e.z),i.a.createElement("div",{className:"legend-clinic"},e.name))})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};return void 0!=e.storageData&&e.storageData!==t.storageData&&(a.storageData=e.storageData),void 0!=e.storageData&&void 0!=e.storageData.graph&&e.storageData.graph!==t.graphData&&(a.graphData=e.storageData.graph),a}}]),t}(i.a.Component);var iv=Object(Z.b)(function(e){return JSON.parse(localStorage.getItem("languageData")),e.DashboardReducer.action,{}},function(e){return Object(c.bindActionCreators)({},e)})(nv),rv=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).toggleState=function(e){var t;a.setState((t={},Object(se.a)(t,e,!a.state[e]),Object(se.a)(t,"userChanged",!0),t))};JSON.parse(localStorage.getItem("userData"));var s=JSON.parse(localStorage.getItem("languageData"));return a.state={settingsLang:s.settings,globalLang:s.global,isShowEstimatedUser:!1,isShowEstimatedSms:!1,isShowEstimatedEmail:!1,isShowEstimatedData:!1,estimatedData:{},userChanged:!1},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return i.a.createElement("div",{className:"plan-estimate-block"},i.a.createElement("div",{className:"profile accordion-row"},i.a.createElement("div",{className:"accordian-section col-xs-6 text-left inner-box",onClick:this.toggleState.bind(this,"isShowEstimatedUser")},i.a.createElement("a",{className:this.state.estimatedData.user_array.length>0&&this.state.isShowEstimatedUser?"toggle-angle":"toggle-angle no-display"},i.a.createElement("i",{id:"icon-1",className:"fa dasdasd fa-angle-up"})),i.a.createElement("a",{className:this.state.estimatedData.user_array.length>0&&!this.state.isShowEstimatedUser?"toggle-angle":"toggle-angle no-display"},i.a.createElement("i",{id:"icon-1",className:"fa dasdasd fa-angle-down"})),this.state.settingsLang.subscription_your_monthly_subscription_for," ",this.state.estimatedData.user_array.length," ",this.state.settingsLang.subscription_users),i.a.createElement("div",{className:"accordian-section col-xs-6 text-right"},this.state.estimatedData.user_sum<=0?"$0.00":Ie(this.state.estimatedData.user_sum,"currency",2))),this.state.isShowEstimatedUser&&this.state.estimatedData.user_array.map(function(e,t){return i.a.createElement("div",{key:"monthly-users-"+t,className:"accordion-row profile",style:{display:"table-row"}},i.a.createElement("div",{className:"accordian-section col-xs-6 text-left dash-icon"},e.name),i.a.createElement("div",{className:"accordian-section col-xs-6 text-right"},e.amount<=0?"$0.00":Ie(e.amount,"currency",2)))}),i.a.createElement("div",{className:"accordion-row profile"},i.a.createElement("div",{className:"accordian-section col-xs-6 text-left inner-box",onClick:this.toggleState.bind(this,"isShowEstimatedEmailModal")},i.a.createElement("a",{className:this.state.estimatedData.addon_array.email.total_additional_units>0&&this.state.isShowEstimatedEmailModal?"toggle-angle":"toggle-angle no-display"},i.a.createElement("i",{id:"icon-1",className:"fa dasdasd fa-angle-up"})),i.a.createElement("a",{className:this.state.estimatedData.addon_array.email.total_additional_units>0&&!this.state.isShowEstimatedEmailModal?"toggle-angle":"toggle-angle no-display"},i.a.createElement("i",{id:"icon-1",className:"fa dasdasd fa-angle-down"})),this.state.settingsLang.subscription_email_charges_for_additional_purchase," ",this.state.estimatedData.addon_array.email.total_additional_units>0&&this.state.estimatedData.addon_array.email.total_additional_units+" "+this.state.settingsLang.subscription_email),i.a.createElement("div",{className:"accordian-section col-xs-6 text-right"},this.state.estimatedData.addon_array.email.total_additional_cost<=0?"$0.00":Ie(this.state.estimatedData.addon_array.email.total_additional_cost,"currency",2))),this.state.isShowEstimatedEmailModal&&this.state.estimatedData.addon_array.email.additional_units_detail.map(function(e,t){return i.a.createElement("div",{key:"monthly-email-"+t,className:"accordion-row profile",style:{display:"table-row"}},i.a.createElement("div",{className:"accordian-section col-xs-6 text-left dash-icon"},e.detail),i.a.createElement("div",{className:"accordian-section col-xs-6 text-right"},e.amount<=0?"$0.00":Ie(e.amount,"currency",2)))}),i.a.createElement("div",{className:"accordion-row profile"},i.a.createElement("div",{className:"accordian-section col-xs-6 text-left inner-box",onClick:this.toggleState.bind(this,"isShowEstimatedSmsModal")},i.a.createElement("a",{className:this.state.estimatedData.addon_array.sms.total_additional_units>0&&this.state.isShowEstimatedSmsModal?"toggle-angle":"toggle-angle no-display"},i.a.createElement("i",{id:"icon-1",className:"fa dasdasd fa-angle-up"})),i.a.createElement("a",{className:this.state.estimatedData.addon_array.sms.total_additional_units>0&&!this.state.isShowEstimatedSmsModal?"toggle-angle":"toggle-angle no-display"},i.a.createElement("i",{id:"icon-1",className:"fa dasdasd fa-angle-down"})),this.state.settingsLang.subscription_sms_charges_for_additional_purchase," ",this.state.estimatedData.addon_array.sms.total_additional_units>0&&this.state.estimatedData.addon_array.sms.total_additional_units+" "+this.state.settingsLang.subscription_sms),i.a.createElement("div",{className:"accordian-section col-xs-6 text-right"},this.state.estimatedData.addon_array.sms.total_additional_cost<=0?"$0.00":Ie(this.state.estimatedData.addon_array.sms.total_additional_cost,"currency",2))),this.state.isShowEstimatedSmsModal&&this.state.estimatedData.addon_array.sms.additional_units_detail.map(function(e,t){return i.a.createElement("div",{key:"monthly-sms-"+t,className:"accordion-row profile",style:{display:"table-row"}},i.a.createElement("div",{className:"accordian-section col-xs-6 text-left dash-icon"},e.detail),i.a.createElement("div",{className:"accordian-section col-xs-6 text-right"},e.amount<=0?"$0.00":Ie(e.amount,"currency",2)))}),i.a.createElement("div",{className:"accordion-row profile"},i.a.createElement("div",{className:"accordian-section col-xs-6 text-left inner-box",onClick:this.toggleState.bind(this,"isShowEstimatedDataModal")},i.a.createElement("a",{className:this.state.estimatedData.addon_array.storage.total_additional_units>0&&this.state.isShowEstimatedDataModal?"toggle-angle":"toggle-angle no-display"},i.a.createElement("i",{id:"icon-1",className:"fa dasdasd fa-angle-up"})),i.a.createElement("a",{className:this.state.estimatedData.addon_array.storage.total_additional_units>0&&!this.state.isShowEstimatedDataModal?"toggle-angle":"toggle-angle no-display"},i.a.createElement("i",{id:"icon-1",className:"fa dasdasd fa-angle-down"})),this.state.settingsLang.subscription_storage_charges_for_additional_purchase," ",this.state.estimatedData.addon_array.storage.total_additional_units>0&&this.state.estimatedData.addon_array.storage.total_additional_units+" "+this.state.settingsLang.subscription_gb," "),i.a.createElement("div",{className:"accordian-section col-xs-6 text-right"},this.state.estimatedData.addon_array.storage.total_additional_cost<=0?"$0.00":Ie(this.state.estimatedData.addon_array.storage.total_additional_cost,"currency",2))),this.state.isShowEstimatedDataModal&&this.state.estimatedData.addon_array.storage.additional_units_detail.map(function(e,t){return i.a.createElement("div",{key:"monthly-data-"+t,className:"accordion-row profile",style:{display:"table-row"}},i.a.createElement("div",{className:"accordian-section col-xs-6 text-left dash-icon"},e.detail),i.a.createElement("div",{className:"accordian-section col-xs-6 text-right"},e.amount<=0?"$0.00":Ie(e.amount,"currency",2)))}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};return void 0!=e.estimatedData&&e.estimatedData!==t.estimatedData&&(a.estimatedData=e.estimatedData,a.isShowEstimatedUser=!1,a.isShowEstimatedSms=!1,a.isShowEstimatedEmail=!1,a.isShowEstimatedData=!1),a}}]),t}(n.Component),ov=function(e,t){return Ie(100*e/t,"decimal",2)},lv="",cv="",dv="",mv="",uv=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){a.setState({userChanged:!0});var t=e.target,s=e.target.name,n=t.value;if("checkbox"===t.type)if(n=t.checked){if("is_edit_card"==s)return a.setState({is_edit_card:!0}),void a.generateStripeInput("is_edit_card")}else{if("refill_sms_status"==s)return a.setState({confirmationModalMsg:a.state.settingsLang.subscription_refill_sms_package_warning,confirmationModalHandler:"handleRefillSmsStatus"}),void a.toggleConfirmationModal();if("refill_email_status"==s)return a.setState({confirmationModalMsg:a.state.settingsLang.subscription_refill_emails_package_warning,confirmationModalHandler:"handleRefillEmailStatus"}),void a.toggleConfirmationModal();if("refill_data_status"==s)return a.setState({confirmationModalMsg:a.state.settingsLang.subscription_refill_data_package_warning,confirmationModalHandler:"handleRefillDataStatus"}),void a.toggleConfirmationModal()}a.setState(Object(se.a)({},e.target.name,n))},a.handleSubmit=function(e){var t={refill_sms_status:a.state.refill_sms_status?1:0,refill_sms_value:a.state.refill_sms_value,refill_sms_limit:a.state.refill_sms_limit,refill_email_status:a.state.refill_email_status?1:0,refill_email_value:a.state.refill_email_value,refill_email_limit:a.state.refill_email_limit,refill_data_status:a.state.refill_data_status?1:0,refill_data_value:a.state.refill_data_value,refill_data_limit:a.state.refill_data_limit};a.setState({showLoader:!0,message:""}),a.props.subscriptionAutoRefill(t)},a.handleSubmitAddOn=function(e){var t={addon_type:"add_on_sms"==e?"sms":"add_on_email"==e?"email":"storage",addon_value:a.state[e]};a.setState({showLoader:!0,message:""}),a.props.subscriptionAddOn(t)},a.generateStripeInput=function(e){var t=a.state.stripe.elements();lv=t.create("cardNumber"),cv=t.create("cardExpiry"),dv=t.create("cardCvc"),"is_edit_card"==e?(lv.mount("#card-number-edit"),cv.mount("#card-expiry-edit"),dv.mount("#card-cvc-edit")):"isShowUpgradeModal"==e&&(lv.mount("#card-number-upgrade"),cv.mount("#card-expiry-upgrade"),dv.mount("#card-cvc-upgrade"))},a.generateStripeCardToken=function(e){a.setState({showLoader:!0}),a.state.stripe.createToken(lv).then(function(t){if(t.error)rt.toast.error(t.error.message),a.setState({showLoader:!1});else if(mv=t.token.id){var s={stripe_token:mv};"is_edit_card"==e?(a.setState({showLoader:!0}),a.props.subscriptionUpdateCard(s)):"isShowUpgradeModal"==e&&(a.setState({showLoader:!0}),s.subscription_type=a.state.subscription_type,a.setState({isShowUpgradeModal:!1}),a.props.subscriptionUpgradeAccount(s))}})},a.toggleConfirmationModal=function(e){"cancel_plan"==e?a.setState({confirmationModalMsg:a.state.settingsLang.subscription_cancel_plan_msg,confirmationModalHandler:"subscriptionCancelReactivate"}):"reactivate_plan"==e&&a.setState({confirmationModalMsg:a.state.settingsLang.subscription_resume_plan_msg,confirmationModalHandler:"subscriptionCancelReactivate"}),a.setState({isShowConfirmationModal:!a.state.isShowConfirmationModal})},a.toggleUpgradeModal=function(){a.state.isShowUpgradeModal||a.generateStripeInput("isShowUpgradeModal"),a.setState({isShowUpgradeModal:!a.state.isShowUpgradeModal})},a.toggleMonthlyEstimateModal=function(){a.state.isShowMonthlyEstimateModal||(a.setState({showLoader:!0}),a.props.getSubscriptionMonthlyEstimate()),a.setState({isShowMonthlyEstimateModal:!a.state.isShowMonthlyEstimateModal})},a.handleRefillSmsStatus=function(){a.setState({refill_sms_status:!a.state.refill_sms_status}),a.toggleConfirmationModal()},a.handleRefillEmailStatus=function(){a.setState({refill_email_status:!a.state.refill_email_status}),a.toggleConfirmationModal()},a.handleRefillDataStatus=function(){a.setState({refill_data_status:!a.state.refill_data_status}),a.toggleConfirmationModal()},a.subscriptionCancelReactivate=function(){void 0!=a.state.subscriptionData.account_status&&a.setState({showLoader:!0,message:""}),a.toggleConfirmationModal(),a.props.subscriptionCancelReactivate({action_type:"Cancelled"==a.state.subscriptionData.account_status?"reactivate":"cancelled"})},a.subscriptionUpgradeToYearly=function(){a.setState({showLoader:!0}),a.props.subscriptionUpgradeToYearly(),a.toggleMonthlyEstimateModal()},a.toggleState=function(e){var t;a.setState((t={},Object(se.a)(t,e,!a.state[e]),Object(se.a)(t,"userChanged",!0),t))},a.renderObjectOption=function(e,t,a,s){var n=[];return Object.keys(e).forEach(function(r){n.push(i.a.createElement("option",{key:t+"-"+r,value:r},r," ",1==s?a+" - "+Ie(e[r].price/100,"currency",2):"(".concat(a,")")))}),n},a.renderArrayOption=function(e,t,a,s){var n=[];return e.map(function(e,r){n.push(i.a.createElement("option",{key:t+"-"+r,value:e},e," ",1==s?a:"(".concat(a,")")))}),n};JSON.parse(localStorage.getItem("userData"));var s=JSON.parse(localStorage.getItem("languageData"));return a.state={settingsLang:s.settings,globalLang:s.global,showLoader:!1,isShowConfirmationModal:!1,confirmationModalMsg:"",confirmationModalHandler:"",refill_sms_status:!1,refill_sms_limit:"250",refill_sms_value:"50",refill_email_status:!1,refill_email_limit:"500",refill_email_value:"50",refill_data_status:!1,refill_data_limit:"1",refill_data_value:"1",is_edit_card:!1,card_number:"",card_cvv:"",card_month:"",card_year:"",add_on_sms:"250",add_on_email:"500",add_on_data:"1",isAddMoreSms:!1,isAddMoreEmail:!1,isAddMoreData:!1,subscriptionData:{},storageData:{limit:0,used:0,used_percentage:0,free:0,free_percentage:0},cardNumberClass:"setting-input-box",cardCvvClass:"setting-input-box",cardMonthClass:"setting-select-box",cardYearClass:"setting-select-box",userChanged:!1,message:"",isShowUpgradeModal:!1,subscription_type:"monthly",accountType:"trial",accountStatus:"cancelled",isShowMonthlyEstimateModal:!1,monthlyToYearlyData:{},isAccountInStripe:!1},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({showLoader:!0}),this.props.getSubscriptionDetails(),window.Stripe?this.setState({stripe:window.Stripe(Ee.STRIPE_PUBLISHABLE_KEY)}):document.querySelector("#stripe-js").addEventListener("load",function(){e.setState({stripe:window.Stripe(Ee.STRIPE_PUBLISHABLE_KEY)})})}},{key:"render",value:function(){var e,t,a,s=this,n=Se()(this.state.subscriptionData.subscription_satartdate).format("DD MMMM YYYY");return i.a.createElement("div",{className:"main protected"},i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(ps,null),i.a.createElement("div",{className:"setting-setion"},i.a.createElement("div",{className:"setting-container"},i.a.createElement("div",{className:"setting-title"},this.state.settingsLang.subscription_your_current_account_usage_heading),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-6 billing-stats"},i.a.createElement("div",{className:"settings-subtitle text-left"},this.state.settingsLang.subscription_your_current_account_usage,":"),i.a.createElement("div",{className:"col-sm-6"},i.a.createElement("div",{className:"portal-numbers"},this.state.subscriptionData.users_used),i.a.createElement("div",{className:"patient-portal-label"},this.state.settingsLang.subscription_users_in_your_account)),i.a.createElement("div",{className:"col-sm-6"},i.a.createElement("div",{className:"portal-numbers"},this.state.subscriptionData.procedure_used),i.a.createElement("div",{className:"patient-portal-label"},this.state.settingsLang.subscription_procedures_in_your_account)),i.a.createElement("div",{className:"col-sm-6"},i.a.createElement("div",{className:"portal-numbers"},this.state.subscriptionData.sms_used),i.a.createElement("div",{className:"patient-portal-label"},this.state.settingsLang.subscription_total_sms_used_this_month)),i.a.createElement("div",{className:"col-sm-6"},i.a.createElement("div",{className:"portal-numbers"},this.state.subscriptionData.email_used),i.a.createElement("div",{className:"patient-portal-label"},this.state.settingsLang.subscription_total_email_used_this_month))),i.a.createElement("div",{className:"col-md-6 billing-stats"},i.a.createElement("div",{className:"settings-subtitle text-left"},this.state.settingsLang.subscription_data_usage,":"),i.a.createElement("div",{className:"text-left data-usage"},i.a.createElement(iv,{storageData:this.state.storageData}))))),"Monthly"==this.state.subscriptionData.subscription_type&&"paid"==this.state.accountType&&void 0!=this.state.subscriptionData.plan_estimated_amount&&i.a.createElement("div",{className:"setting-container border-top",style:{display:"block"}},i.a.createElement("div",{className:"setting-title"},this.state.settingsLang.subscription_your_estimated_bill,i.a.createElement("div",{className:" credit-balance col-sm-6 pull-right no-padding"},i.a.createElement("div",{className:"pull-right credit-text"},this.state.subscriptionData.credits<=0?"$0.00":Ie(this.state.subscriptionData.credits,"currency",2)),i.a.createElement("div",{className:"pull-right credit-text"},this.state.settingsLang.subscription_credit_balance,": \xa0\xa0"))),i.a.createElement("div",{className:"accordion-table your-billing"},i.a.createElement("div",{className:"accordion-row accordion-head"},i.a.createElement("div",{className:"accordian-section col-xs-6 text-left"},this.state.settingsLang.subscription_your_billing_cycle," (",this.state.subscriptionData.plan_estimated_amount.bill_cycle,")"),i.a.createElement("div",{className:"accordian-section col-xs-6 text-right"},this.state.settingsLang.subscription_your_expected_bill_for_this_month,this.state.subscriptionData.plan_estimated_amount.total_amount<=0?"$0.00":Ie(this.state.subscriptionData.plan_estimated_amount.total_amount,"currency",2))),i.a.createElement(rv,{estimatedData:this.state.subscriptionData.plan_estimated_amount}))),i.a.createElement("div",{className:"setting-container border-top"},i.a.createElement("div",{className:"setting-title"},this.state.settingsLang["manage-subscription-details"],"paid"!=this.state.accountType?i.a.createElement("button",{className:"save-profile confirm-model new-blue-btn pull-right","data-message":this.state.settingsLang.subscription_resume_plan_msg,"data-confirm-url":"",id:"upgrade_account",type:"button",onClick:this.toggleUpgradeModal},this.state.settingsLang.subscription_upgrade_account):"cancelled"==this.state.accountStatus?i.a.createElement("button",{className:"save-profile confirm-model new-blue-btn pull-right","data-message":this.state.settingsLang.subscription_resume_plan_msg,"data-confirm-url":"",id:"cancel_plan",type:"button",onClick:this.toggleConfirmationModal.bind(this,"reactivate_plan")},this.state.settingsLang.subscription_resume_plan):i.a.createElement("button",{className:"save-profile confirm-model new-blue-btn pull-right","data-message":this.state.settingsLang.subscription_cancel_plan_msg,"data-confirm-url":"",id:"cancel_plan",type:"button",onClick:this.toggleConfirmationModal.bind(this,"cancel_plan")},this.state.settingsLang.subscription_cancel_plan),this.state.subscriptionData.stripe_subscription&&"Monthly"==this.state.subscriptionData.subscription_type&&"paid"==this.state.accountType&&"active"==this.state.accountStatus&&i.a.createElement("button",{className:"save-profile confirm-model new-blue-btn pull-right","data-message":"","data-confirm-url":"",id:"switch_plan_btn",type:"button",onClick:this.toggleMonthlyEstimateModal},this.state.settingsLang.subscription_switch_to_yearly_subscription)),i.a.createElement("div",{className:"settings-subtitle"},this.state.settingsLang.subscription_plan),"paid"==this.state.accountType?i.a.createElement("div",{className:"row only-paid-content"},i.a.createElement("div",{className:"col-lg-3 col-md-6 col-sm-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.settingsLang.subscription_start_date),i.a.createElement("div",{className:"setting-input-box"},n))),i.a.createElement("div",{className:"col-lg-3 col-md-6 col-sm-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.settingsLang.subscription_type),i.a.createElement("div",{className:"setting-input-box"},this.state.subscriptionData.subscription_type))),i.a.createElement("div",{className:"col-lg-2 col-md-6 col-sm-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.globalLang.label_status),i.a.createElement("div",{className:"setting-input-box"},this.state.subscriptionData.account_status)))):i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-lg-3 col-md-6 col-sm-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.settingsLang.subscription_type),i.a.createElement("div",{className:"setting-input-box"},this.state.subscriptionData.subscription_type," (",this.state.subscriptionData.account_type,")"))),i.a.createElement("div",{className:"col-lg-3 col-md-6 col-sm-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.settingsLang.subscription_start_date),i.a.createElement("div",{className:"setting-input-box"},this.state.subscriptionData.subscription_satartdate))),i.a.createElement("div",{className:"col-lg-3 col-md-6 col-sm-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.settingsLang.subscription_end_date),i.a.createElement("div",{className:"setting-input-box"},this.state.subscriptionData.subscription_valid_upto))),i.a.createElement("div",{className:"col-lg-2 col-md-6 col-sm-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.globalLang.label_status),i.a.createElement("div",{className:"setting-input-box"},this.state.subscriptionData.account_status)))),i.a.createElement("div",{className:"settings-subtitle"},this.state.settingsLang.subscription_limits),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-lg-3 col-md-4 col-sm-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.settingsLang.subscription_sms_in_plan),i.a.createElement("div",{className:"setting-input-box"},this.state.subscriptionData.sms_limit," ",this.state.settingsLang.subscription_sms_per_month))),i.a.createElement("div",{className:"col-lg-3 col-md-4 col-sm-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.settingsLang.subscription_addon_sms_this_month),i.a.createElement("div",{className:"setting-input-box"},this.state.subscriptionData.add_on_sms))),"paid"==this.state.accountType&&i.a.createElement("div",{className:"only-paid-content"},i.a.createElement("div",{className:this.state.isAddMoreSms?"buy-more-sms-div":"no-display"},i.a.createElement("div",{className:"col-lg-3 col-md-6 col-sm-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.settingsLang.subscription_buy_more_sms),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("form",{id:"add-sms-form",name:"add-sms-form",action:"javascript:void(0);",method:"post",acceptCharset:"utf-8"},i.a.createElement("select",{className:"setting-select-box",name:"add_on_sms",value:this.state.add_on_sms,onChange:this.handleInputChange,id:"addon_sms"},this.state.subscriptionData.sms_packages&&this.renderObjectOption(this.state.subscriptionData.sms_packages,"add_on_sms",this.state.settingsLang.subscription_sms,!0)))),i.a.createElement("div",{className:"important-instruction m-t-10"},this.state.settingsLang.subscription_current_sms_limit,": ",this.state.settingsLang.subscription_up_to," ",this.state.subscriptionData.sms_limit+this.state.subscriptionData.add_on_sms," ",this.state.settingsLang.subscription_sms))),i.a.createElement("div",{className:"col-lg-3 col-md-6 col-sm-12 no-padding-right"},i.a.createElement("button",(e={type:"button",id:"addon-sms-btn",className:"new-blue-btn sms-btn m-l-0 m-t-10 no-width"},Object(se.a)(e,"type","button"),Object(se.a)(e,"onClick",this.handleSubmitAddOn.bind(this,"add_on_sms")),e),this.state.settingsLang.subscription_buy_sms),i.a.createElement("a",{href:"javascript:void(0)",className:"new-white-btn sms-btn m-l-10 m-t-10 cancel-buy-div no-width","data-div_to_show":"add-more-sms-div","data-div_to_hide":"buy-more-sms-div",onClick:this.toggleState.bind(this,"isAddMoreSms")},this.state.globalLang.label_cancel))),i.a.createElement("div",{className:this.state.isAddMoreSms?"no-display":"col-lg-3 col-md-4 col-sm-12 add-more-sms-div"},i.a.createElement("a",{href:"javascript:void(0)",className:"new-white-btn sms-btn m-l-0 m-t-10 show-buy-div","data-div_to_show":"buy-more-sms-div","data-div_to_hide":"add-more-sms-div",onClick:this.toggleState.bind(this,"isAddMoreSms")},this.state.globalLang.label_add_more)))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-lg-3 col-md-4 col-sm-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.settingsLang.subscription_emails_in_plan),i.a.createElement("div",{className:"setting-input-box"},this.state.subscriptionData.email_limit," ",this.state.settingsLang.subscription_email_per_month))),i.a.createElement("div",{className:"col-lg-3 col-md-4 col-sm-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.settingsLang.subscription_addon_emails_this_month),i.a.createElement("div",{className:"setting-input-box"},this.state.subscriptionData.add_on_email))),"paid"==this.state.accountType&&i.a.createElement("div",{className:"only-paid-content"},i.a.createElement("div",{className:this.state.isAddMoreEmail?"buy-more-email-div":"no-display"},i.a.createElement("div",{className:"col-lg-3 col-md-6 col-sm-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.settingsLang.subscription_buy_more_emails),i.a.createElement("form",{id:"add-email-form",name:"add-email-form",action:"javascript:void(0);",method:"post",acceptCharset:"utf-8"},i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("select",{className:"setting-select-box",name:"add_on_email",value:this.state.add_on_email,onChange:this.handleInputChange,id:"addon_email"},this.state.subscriptionData.email_packages&&this.renderObjectOption(this.state.subscriptionData.email_packages,"add_on_email",this.state.settingsLang.subscription_email,!0)))),i.a.createElement("div",{className:"important-instruction m-t-10"},this.state.settingsLang.subscription_current_email_limit,": ",this.state.settingsLang.subscription_up_to," ",this.state.subscriptionData.email_limit+this.state.subscriptionData.add_on_email,this.state.settingsLang.subscription_emails))),i.a.createElement("div",{className:"col-lg-3 col-md-6 col-sm-12 no-padding-right"},i.a.createElement("button",(t={type:"button",id:"addon-email-btn",className:"new-blue-btn sms-btn m-l-0 m-t-10 no-width"},Object(se.a)(t,"type","button"),Object(se.a)(t,"onClick",this.handleSubmitAddOn.bind(this,"add_on_email")),t),this.state.settingsLang.subscription_buy_email),i.a.createElement("a",{href:"javascript:void(0)",className:"new-white-btn sms-btn m-l-10 m-t-10 cancel-buy-div no-width","data-div_to_show":"add-more-email-div","data-div_to_hide":"buy-more-email-div",onClick:this.toggleState.bind(this,"isAddMoreEmail")},this.state.globalLang.label_cancel))),i.a.createElement("div",{className:this.state.isAddMoreEmail?"no-display":"col-lg-3 col-md-4 col-sm-12 add-more-email-div"},i.a.createElement("a",{href:"javascript:void(0)",className:"new-white-btn sms-btn m-l-0 m-t-10 show-buy-div","data-div_to_show":"buy-more-email-div","data-div_to_hide":"add-more-email-div",onClick:this.toggleState.bind(this,"isAddMoreEmail")},this.state.globalLang.label_add_more)))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-lg-3 col-md-4 col-sm-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.settingsLang.subscription_data_in_plan),i.a.createElement("div",{className:"setting-input-box"},this.state.storageData.limit," ",this.state.settingsLang.subscription_gb))),i.a.createElement("div",{className:"col-lg-3 col-md-4 col-sm-12"}),"paid"==this.state.accountType&&i.a.createElement("div",{className:"only-paid-content"},i.a.createElement("div",{className:this.state.isAddMoreData?"buy-more-data-div":"no-display"},i.a.createElement("div",{className:"col-lg-3 col-md-6 col-sm-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.settingsLang.subscription_buy_more_data),i.a.createElement("form",{id:"add-data-form",name:"add-data-form",action:"javascript:void(0);",method:"post",acceptCharset:"utf-8"},i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("select",{className:"setting-select-box",name:"add_on_data",value:this.state.add_on_data,onChange:this.handleInputChange,id:"addon_data"},this.state.subscriptionData.storage_data_packages&&this.renderArrayOption(this.state.subscriptionData.storage_data_packages,"add_on_data",this.state.settingsLang.subscription_gb,!0)))),i.a.createElement("div",{className:"important-instruction m-t-10",id:"add-data-sub"},this.state.settingsLang.subscription_you_will_be_charged,i.a.createElement("span",{className:"new_amount"},i.a.createElement("b",null," ",Ie(this.state.add_on_data,"currency",2)," ")),this.state.settingsLang.subscription_one_time_from_credit_card_you_have_in_file))),i.a.createElement("div",{className:"col-lg-3 col-md-6 col-sm-12 no-padding-right"},i.a.createElement("button",(a={type:"button",id:"addon-data-btn",className:"new-blue-btn sms-btn m-l-0 m-t-10 no-width"},Object(se.a)(a,"type","button"),Object(se.a)(a,"onClick",this.handleSubmitAddOn.bind(this,"add_on_data")),a),this.state.settingsLang.subscription_buy_data),i.a.createElement("a",{href:"javascript:void(0)",className:"new-white-btn sms-btn m-l-10 m-t-10 cancel-buy-div reset-to-first no-width","data-div_to_show":"add-more-data-div","data-div_to_hide":"buy-more-data-div",onClick:this.toggleState.bind(this,"isAddMoreData")},this.state.globalLang.label_cancel))),i.a.createElement("div",{className:this.state.isAddMoreData?"no-display":"col-lg-3 col-md-4 col-sm-12 add-more-data-div"},i.a.createElement("a",{href:"javascript:void(0)",className:"new-white-btn sms-btn m-l-0 m-t-10 show-buy-div","data-div_to_show":"buy-more-data-div","data-div_to_hide":"add-more-data-div",onClick:this.toggleState.bind(this,"isAddMoreData")},this.state.globalLang.label_add_more)))),"paid"==this.state.accountType&&"Yearly"==this.state.subscriptionData.subscription_type&&1==this.state.isAccountInStripe&&i.a.createElement("div",{className:"row only-paid-content"},i.a.createElement("div",{className:"col-lg-3 col-md-4 col-sm-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.settingsLang.subscription_users_limit),i.a.createElement("div",{className:"setting-input-box"},this.state.subscriptionData.users_limit))),i.a.createElement("div",{className:"col-lg-3 col-md-4 col-sm-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.settingsLang.subscription_users_used),i.a.createElement("div",{className:"setting-input-box"},this.state.subscriptionData.users_used))))),"paid"==this.state.accountType&&i.a.createElement("div",{className:"only-paid-content"},i.a.createElement("div",{className:"bg-light-blue setting-container setting-credit-card",style:{display:"block"}},i.a.createElement("div",{className:"setting-title"},this.state.settingsLang.subscription_credit_card,i.a.createElement("span",{className:"setting-custom-switch pull-right"},this.state.settingsLang.subscription_edit_card," \xa0",i.a.createElement("label",{className:"setting-switch pull-right"},i.a.createElement("input",{type:"checkbox",className:"setting-custom-switch-input edit-cc-toggle",name:"is_edit_card",value:this.state.is_edit_card,checked:!!this.state.is_edit_card&&"checked",onChange:this.handleInputChange}),i.a.createElement("span",{className:"setting-slider"})),i.a.createElement("br",null),i.a.createElement("br",null))),i.a.createElement("div",{className:this.state.is_edit_card?"card-edit-mode":"no-display"},i.a.createElement("form",{id:"CardChangeCardForm",name:"CardChangeCardForm",action:"javascript:void(0);",method:"post",acceptCharset:"utf-8",noValidate:"novalidate"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-lg-3 col-md-4 col-sm-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.settingsLang.subscription_credit_card_number),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("div",{className:"setting-input-box",id:"card-number-edit"})))),i.a.createElement("div",{className:"col-lg-3 col-md-4 col-sm-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.settingsLang.subscription_security_code),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("div",{className:"setting-input-box",id:"card-cvc-edit"}))))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-lg-3 col-md-4 col-sm-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.settingsLang.subscription_expiration_date),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("div",{className:"card-exp-date"},i.a.createElement("div",{className:"setting-input-box",id:"card-expiry-edit"})))))),i.a.createElement("a",{href:"javascript:void(0)",className:"new-white-btn cancel-edit-cc",onClick:function(){s.setState({is_edit_card:!s.state.is_edit_card})}},this.state.globalLang.label_cancel),i.a.createElement("input",{type:"button",id:"update_Credit_Card",name:"update_credit_card",value:this.state.settingsLang.subscription_save_card,onClick:this.generateStripeCardToken.bind(this,"is_edit_card"),className:"new-blue-btn"}))),i.a.createElement("div",{className:this.state.is_edit_card?"no-display":"card-view-mode"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-lg-3 col-md-4 col-sm-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.settingsLang.subscription_credit_card_number),i.a.createElement("div",{className:"setting-input-box",id:"Card_Number_label"},this.state.subscriptionData.stripe_card_details)))))),i.a.createElement("form",{id:"auto_refill_form",name:"auto-refill-form",action:"javascript:void(0);",method:"post",acceptCharset:"utf-8"},i.a.createElement("div",{className:"setting-container"},i.a.createElement("div",{className:"setting-title"},this.state.settingsLang.subscription_auto_refill_settings),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-6"},i.a.createElement("div",{className:"important-instruction m-t-0"},i.a.createElement("span",{style:{color:"red"}},this.state.globalLang.label_note,":"),this.state.settingsLang.subscription_auto_refill_settings_note))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-3 col-xs-5"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.settingsLang.subscription_refill_sms_package),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("select",{name:"refill_sms_value",value:this.state.refill_sms_value,onChange:this.handleInputChange,disabled:!this.state.refill_sms_status,className:"setting-select-box"},this.state.subscriptionData.sms_packages&&this.renderObjectOption(this.state.subscriptionData.sms_packages,"refill_sms_value",this.state.settingsLang.subscription_sms))))),i.a.createElement("div",{className:"col-md-3 col-xs-5"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.settingsLang.subscription_if_sms_balance_goes_below),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("select",{name:"refill_sms_limit",value:this.state.refill_sms_limit,onChange:this.handleInputChange,disabled:!this.state.refill_sms_status,className:"setting-select-box"},this.renderArrayOption([50,60,70,80,90,100,200,300,400,500,600,700,800,900,1e3],"refill_sms_limit",this.state.settingsLang.subscription_sms))))),i.a.createElement("div",{className:"col-md-3 col-xs-2"},i.a.createElement("label",{className:"setting-switch m-t-20"},i.a.createElement("input",{type:"checkbox",id:"refill_sms_status",name:"refill_sms_status",value:this.state.refill_sms_status,checked:!!this.state.refill_sms_status&&"checked",onChange:this.handleInputChange,className:"refill-status setting-custom-switch-input","data-message":this.state.settingsLang.subscription_refill_sms_package_warning}),i.a.createElement("span",{className:"setting-slider"})))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-3 col-xs-5"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.settingsLang.subscription_refill_emails_package),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("select",{name:"refill_email_value",value:this.state.refill_email_value,onChange:this.handleInputChange,disabled:!this.state.refill_email_status,className:"setting-select-box"},this.state.subscriptionData.email_packages&&this.renderObjectOption(this.state.subscriptionData.email_packages,"refill_email_value",this.state.settingsLang.subscription_email))))),i.a.createElement("div",{className:"col-md-3 col-xs-5"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.settingsLang.subscription_if_emails_balance_goes_below),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("select",{name:"refill_email_limit",value:this.state.refill_email_limit,onChange:this.handleInputChange,disabled:!this.state.refill_email_status,className:"setting-select-box"},this.renderArrayOption([50,60,70,80,90,100,200,300,400,500,600,700,800,900,1e3],"refill_email_limit",this.state.settingsLang.subscription_email))))),i.a.createElement("div",{className:"col-md-3 col-xs-2"},i.a.createElement("label",{className:"setting-switch m-t-20"},i.a.createElement("input",{type:"checkbox",id:"refill_email_status",name:"refill_email_status",value:this.state.refill_email_status,checked:!!this.state.refill_email_status&&"checked",onChange:this.handleInputChange,className:"refill-status setting-custom-switch-input","data-message":this.state.settingsLang.subscription_refill_emails_package_warning}),i.a.createElement("span",{className:"setting-slider"})))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-3 col-xs-5"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.settingsLang.subscription_refill_data_package),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("select",{name:"refill_data_value",value:this.state.refill_data_value,onChange:this.handleInputChange,disabled:!this.state.refill_data_status,className:"setting-select-box"},this.state.subscriptionData.storage_data_packages&&this.renderArrayOption(this.state.subscriptionData.storage_data_packages,"refill_data_value",this.state.settingsLang.subscription_gb))))),i.a.createElement("div",{className:"col-md-3 col-xs-5"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.settingsLang.subscription_if_data_goes_below),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("select",{name:"refill_data_limit",value:this.state.refill_data_limit,onChange:this.handleInputChange,disabled:!this.state.refill_data_status,className:"setting-select-box"},this.state.subscriptionData.storage_data_packages&&this.renderArrayOption(this.state.subscriptionData.storage_data_packages,"refill_data_limit",this.state.settingsLang.subscription_gb))))),i.a.createElement("div",{className:"col-md-3 col-xs-2"},i.a.createElement("label",{className:"setting-switch m-t-20"},i.a.createElement("input",{type:"checkbox",id:"refill_data_status",name:"refill_data_status",value:this.state.refill_data_status,checked:!!this.state.refill_data_status&&"checked",onChange:this.handleInputChange,className:"refill-status setting-custom-switch-input","data-message":this.state.settingsLang.subscription_refill_data_package_warning}),i.a.createElement("span",{className:"setting-slider"}))))),i.a.createElement("div",{className:"footer-static"},i.a.createElement("button",{className:"new-blue-btn pull-right",id:"saveAutoRefill",type:"button",onClick:this.handleSubmit},this.state.globalLang.label_save))),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.globalLang.Please_Wait)))))),i.a.createElement("div",{className:this.state.isShowConfirmationModal?"overlay":""}),i.a.createElement("div",{id:"filterModal",role:"dialog",className:this.state.isShowConfirmationModal?"modal fade in displayBlock":"modal fade no-display"},i.a.createElement("div",{className:"modal-dialog"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal",onClick:this.toggleConfirmationModal},"\xd7"),i.a.createElement("h4",{className:"modal-title",id:"model_title"},this.state.globalLang.delete_confirmation)),i.a.createElement("div",{id:"errorwindow",className:"modal-body add-patient-form filter-patient"},this.state.confirmationModalMsg),i.a.createElement("div",{className:"modal-footer"},i.a.createElement("div",{className:"col-md-12 text-left",id:"footer-btn"},i.a.createElement("button",{type:"button",className:"btn  logout pull-right","data-dismiss":"modal",onClick:this.toggleConfirmationModal},this.state.globalLang.label_no),i.a.createElement("button",{type:"button",className:"btn btn-success pull-right m-r-10","data-dismiss":"modal",onClick:this[this.state.confirmationModalHandler]},this.state.globalLang.label_yes)))))),i.a.createElement("div",{className:this.state.isShowUpgradeModal?"modalOverlay":"no-display"},i.a.createElement("div",{className:"small-popup-outer"},i.a.createElement("div",{className:"small-popup-header"},i.a.createElement("div",{className:"popup-name"},this.state.settingsLang.subscription_upgrade_account),i.a.createElement("a",{href:"javascript:void(0);",className:"small-cross",onClick:this.toggleUpgradeModal},"\xd7")),i.a.createElement("div",{className:"small-popup-content"},i.a.createElement("div",{className:"juvly-container no-padding-bottom"},i.a.createElement("div",{className:"row"},void 0!=this.state.subscriptionData.subscription_plans&&i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.settingsLang.subscription_type,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("select",{className:"setting-select-box",name:"subscription_type",value:this.state.subscription_type,onChange:this.handleInputChange},i.a.createElement("option",{value:"monthly"},this.state.subscriptionData.subscription_plans.monthly),i.a.createElement("option",{value:"yearly"},this.state.subscriptionData.subscription_plans.yearly)))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.settingsLang.subscription_credit_card_number,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-box",id:"card-number-upgrade"}))),i.a.createElement("div",{className:"col-sm-4 col-xs-6"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.settingsLang.subscription_expiration_date,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-box",id:"card-expiry-upgrade"}))),i.a.createElement("div",{className:"col-sm-4 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.settingsLang.subscription_security_code," ",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-box",id:"card-cvc-upgrade"})))))),i.a.createElement("div",{className:"footer-static"},i.a.createElement("a",{href:"javascript:void(0);",className:"new-blue-btn pull-right",name:"btn_create_schedule",onClick:this.generateStripeCardToken.bind(this,"isShowUpgradeModal")},this.state.globalLang.label_save),i.a.createElement("a",{href:"javascript:void(0);",className:"new-white-btn pull-right",onClick:this.toggleUpgradeModal},this.state.globalLang.label_cancel)))),i.a.createElement("div",{className:this.state.isShowMonthlyEstimateModal?"modalOverlay":"no-display"},i.a.createElement("div",{className:"small-popup-outer subscription-popup"},i.a.createElement("div",{className:"small-popup-header"},i.a.createElement("div",{className:"popup-name"},this.state.settingsLang.subscription_switch_to_yearly_subscription),i.a.createElement("a",{href:"javascript:void(0);",className:"small-cross",onClick:this.toggleMonthlyEstimateModal},"\xd7")),i.a.createElement("div",{className:"small-popup-content"},i.a.createElement("div",{className:"juvly-container no-padding-bottom"},void 0!=this.state.monthlyToYearlyData.monthly_plan_estimated&&void 0!=this.state.monthlyToYearlyData.yearly_plan_estimated&&i.a.createElement("div",{className:"monthly-estimate-block"},i.a.createElement("div",{className:"popup-accordian-section-head"},i.a.createElement("div",{className:"accordian-section text-left"},this.state.settingsLang.subscription_we_will_charge_your_card_with," ",Ie(this.state.monthlyToYearlyData.monthly_plan_estimated.total_amount,"currency",2)," ",this.state.settingsLang.subscription_we_will_charge_your_card_with,i.a.createElement("br",null)," From ",this.state.monthlyToYearlyData.monthly_plan_estimated.from_date," To ",this.state.monthlyToYearlyData.monthly_plan_estimated.to_date)),i.a.createElement("div",{className:"accordion-table your-billing m-b-20"},i.a.createElement(rv,{estimatedData:this.state.monthlyToYearlyData.monthly_plan_estimated})),i.a.createElement("div",{className:"popup-accordian-section-head"},i.a.createElement("div",{className:"accordian-section text-left"},this.state.settingsLang.subscription_we_will_charge_your_card_with," ",Ie(this.state.monthlyToYearlyData.yearly_plan_estimated.total_amount,"currency",2)," ",this.state.settingsLang.subscription_we_will_charge_your_card_with,i.a.createElement("br",null)," From ",this.state.monthlyToYearlyData.yearly_plan_estimated.from_date," To ",this.state.monthlyToYearlyData.yearly_plan_estimated.to_date)),i.a.createElement("div",{className:"accordion-table your-billing m-b-20"},i.a.createElement("div",{className:"profile accordion-row"},i.a.createElement("div",{className:"accordian-section col-xs-6 text-left inner-box"},this.state.settingsLang.subscription_your_yearly_subscription_for," ",this.state.monthlyToYearlyData.yearly_plan_estimated.total_users," ",this.state.settingsLang.subscription_users),i.a.createElement("div",{className:"accordian-section col-xs-6 text-right inner-box"},Ie(this.state.monthlyToYearlyData.yearly_plan_estimated.total_amount,"currency",2))))))),i.a.createElement("div",{className:"footer-static"},i.a.createElement("a",{href:"javascript:void(0);",className:"new-blue-btn pull-right",name:"btn_create_schedule",onClick:this.subscriptionUpgradeToYearly},this.state.globalLang.label_continue),i.a.createElement("a",{href:"javascript:void(0);",className:"new-white-btn pull-right",onClick:this.toggleMonthlyEstimateModal},this.state.globalLang.label_cancel))))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};if(void 0!=e.subscriptionData&&e.subscriptionData!==t.subscriptionData){a.showLoader=!1,a.subscriptionData=e.subscriptionData,a.isAccountInStripe=e.subscriptionData.account_code.indexOf("cus_")>-1;var s=Ie(a.subscriptionData.storage_limit/1e3,"decimal",2),n=Ie(a.subscriptionData.storage_used,"decimal",2),i=Ie(ov(n,s),"decimal",2),r=Ie(s-n,"decimal",2),o=Ie(ov(r,s),"decimal",2);a.storageData={limit:s,used:n,used_percentage:i,free:r,free_percentage:o,graph:[{name:"Used",y:parseFloat(i),color:"#0066B4",z:n+" GB / "+i+"%"},{name:"Free",y:parseFloat(o),color:"#C7E3F5",z:r+" GB / "+o+"%"}]},a.isAddMoreSms=!1,a.isAddMoreEmail=!1,a.isAddMoreData=!1,a.is_edit_card=!1,a.accountType=void 0!=a.subscriptionData.account_type&&""!=a.subscriptionData.account_type?a.subscriptionData.account_type.toLowerCase():"trial",a.accountStatus=void 0!=a.subscriptionData.account_status&&""!=a.subscriptionData.account_status?a.subscriptionData.account_status.toLowerCase():"cancelled",a.refill_sms_status=!!a.subscriptionData.refill_sms_status,a.refill_sms_limit=a.subscriptionData.refill_sms_limit,a.refill_sms_value=a.subscriptionData.refill_sms_value,a.refill_email_status=!!a.subscriptionData.refill_email_status,a.refill_email_limit=a.subscriptionData.refill_sms_limit,a.refill_email_value=a.subscriptionData.refill_sms_value,a.refill_data_status=!!a.subscriptionData.refill_data_status,a.refill_data_limit=a.subscriptionData.refill_data_limit,a.refill_data_value=a.subscriptionData.refill_data_value,void 0!==e.message&&null!=e.message&&""!=e.message&&(a.message=e.message,rt.toast.dismiss(),rt.toast.success(e.message,{onClose:function(){}})),e.exportEmptyData()}return void 0!=e.monthlyToYearlyData&&e.monthlyToYearlyData!==t.monthlyToYearlyData?(a.showLoader=!1,a.monthlyToYearlyData=e.monthlyToYearlyData):void 0!==e.reload&&!0===e.reload?(rt.toast.dismiss(),rt.toast.success(e.message,{onClose:function(){e.getSubscriptionDetails()}})):void 0!==e.showLoader&&!1===e.showLoader&&(void 0!==e.message&&null!=e.message&&""!=e.message&&e.message!=t.message&&(a.message=e.message,rt.toast.success(e.message,{onClose:function(){}})),a.showLoader=!1,void 0!==e.isEditCard&&!1===e.isEditCard&&(a.is_edit_card=!1),e.exportEmptyData()),a}}]),t}(n.Component);var pv=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData")),a={};return"SUBSCRIPTION_DETAILS"===e.SettingReducer.action?200!=e.SettingReducer.data.status?(rt.toast.dismiss(),rt.toast.error(t.global[e.SettingReducer.data.message]),a.showLoader=!1):a.subscriptionData=e.SettingReducer.data.data:"SUBSCRIPTION_ADD_ON"===e.SettingReducer.action?200!=e.SettingReducer.data.status?(rt.toast.dismiss(),rt.toast.error(t.global[e.SettingReducer.data.message]),a.showLoader=!1):(a.message=t.global[e.SettingReducer.data.message],a.subscriptionData=e.SettingReducer.data.data):"SUBSCRIPTION_CANCEL_REACTIVATE"===e.SettingReducer.action?200!=e.SettingReducer.data.status&&201!=e.SettingReducer.data.status?(rt.toast.dismiss(),rt.toast.error(t.global[e.SettingReducer.data.message]),a.showLoader=!1):(201==e.SettingReducer.data.status?a.message=e.SettingReducer.data.message:a.message=t.global[e.SettingReducer.data.message],a.subscriptionData=e.SettingReducer.data.data):"SUBSCRIPTION_UPGRADE_ACCOUNT"===e.SettingReducer.action?200!=e.SettingReducer.data.status?(rt.toast.dismiss(),rt.toast.error(t.global[e.SettingReducer.data.message]),a.showLoader=!1):(a.message=t.global[e.SettingReducer.data.message],a.subscriptionData=e.SettingReducer.data.data):"SUBSCRIPTION_UPDATE_CARD"===e.SettingReducer.action?200!=e.SettingReducer.data.status?(rt.toast.dismiss(),rt.toast.error(t.global[e.SettingReducer.data.message]),a.showLoader=!1):(a.showLoader=!1,a.isEditCard=!1,a.message=t.global[e.SettingReducer.data.message]):"SUBSCRIPTION_AUTO_REFILL"===e.SettingReducer.action?200!=e.SettingReducer.data.status?(rt.toast.dismiss(),rt.toast.error(t.global[e.SettingReducer.data.message]),a.showLoader=!1):(a.showLoader=!1,a.message=t.global[e.SettingReducer.data.message]):"SUBSCRIPTION_MONTHLY_TO_YEARLY_ESTIMATE"===e.SettingReducer.action?200!=e.SettingReducer.data.status?(rt.toast.dismiss(),rt.toast.error(t.global[e.SettingReducer.data.message]),a.showLoader=!1):a.monthlyToYearlyData=e.SettingReducer.data.data:"SUBSCRIPTION_MONTHLY_TO_YEARLY_UPGRADE"===e.SettingReducer.action&&(200!=e.SettingReducer.data.status?(rt.toast.dismiss(),rt.toast.error(t.global[e.SettingReducer.data.message]),a.showLoader=!1):(a.message=t.global[e.SettingReducer.data.message],a.subscriptionData=e.SettingReducer.data.data)),a},function(e){return Object(c.bindActionCreators)({getSubscriptionDetails:Ar,subscriptionAddOn:Tr,subscriptionCancelReactivate:Ir,subscriptionUpgradeAccount:Rr,subscriptionUpdateCard:kr,subscriptionAutoRefill:Pr,getSubscriptionMonthlyEstimate:jr,subscriptionUpgradeToYearly:Mr,exportEmptyData:br},e)})(uv);Pa()(Ma.a);var hv=function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).renderHighChart=function(){var e=Ma.a.chart("container",{chart:{type:"areaspline",height:150},title:{text:""},exporting:{enabled:!1},legend:{enabled:!1},xAxis:{categories:a.state.graphData.time,tickLength:0},yAxis:{title:{text:""}},tooltip:{shared:!0,valuePrefix:function(){var e=localStorage.getItem("currencySymbol");return e||"$"}()},credits:{enabled:!1},plotOptions:{areaspline:{fillOpacity:.5}},series:[{name:"Payment ",data:a.state.graphData.payments}]});return a.setState({highcharts:e}),e},a.state={graphData:{payments:[],time:[],total:0},highcharts:{}},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){this.renderHighChart()}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{id:"container"}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};void 0!=e.graphData&&void 0!=e.graphData.payments&&e.graphData!==t.graphData&&(a.graphData=e.graphData,void 0!=t.highcharts.series&&t.highcharts.update({xAxis:{categories:void 0!=a.graphData.time?a.graphData.time:[],tickLength:0},series:[{name:"Payment ",data:void 0!=a.graphData.payments?a.graphData.payments:[]}]}));return a}}]),t}(n.Component),gv=function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).state={storageData:{},graphData:{}},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"dash-box-content",id:"pos-dashboard-payments","data-highcharts-chart":"1"},i.a.createElement(hv,{graphData:this.state.graphData}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};return void 0!=e.storageData&&e.storageData!==t.graphData&&(a.graphData=e.storageData),a}}]),t}(i.a.Component);var _v=Object(Z.b)(function(e){return JSON.parse(localStorage.getItem("languageData")),e.DashboardReducer.action,{}},function(e){return Object(c.bindActionCreators)({},e)})(gv),vv=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleClick=function(e){e.target&&void 0!==e.target.className&&"string"===typeof e.target.className&&e.target.className.indexOf("rdrStaticRangeLabel")>-1&&e.target.childNodes&&a.setState({rangeSelected:e.target.innerHTML}),a.node.contains(e.target)&&!0===a.state.showCalendar||a.toggleCalendar(e.target)},a.handleRangeChange=function(e,t){var s,n=t.selection.startDate,i=t.selection.endDate;n=Object(ss.b)(n,"YYYY-MM-DD"),i=Object(ss.b)(i,"YYYY-MM-DD"),a.setState((s={},Object(se.a)(s,e,Object(m.a)({},a.state[e],t)),Object(se.a)(s,"showCalendar",!1),Object(se.a)(s,"from_date",n),Object(se.a)(s,"to_date",i),s)),a.handleSubmit(e,{from_date:n,to_date:i})},a.toggleCalendar=function(e){if("calendar-input"===e.name||!1!==a.state.showCalendar){var t=!1;t=!1===a.state.showCalendar&&void 0!==e.name&&"calendar-input"===e.name,a.setState({showCalendar:t})}},a.handleInputChange=function(e){var t=e.target,s=t.value,n=t.name,i={dataChanged:!0};switch(t.type){case"checkbox":s=t.checked}i[n]=s,a.setState(i)},a.handleSubmit=function(e,t){"object"===typeof e&&e.preventDefault();var s={params:{from_date:void 0!=t&&void 0!=t.from_date?t.from_date:a.state.from_date,to_date:void 0!=t&&void 0!=t.to_date?t.to_date:a.state.to_date}};a.setState({showLoader:!0}),a.props.getPosDashboardFilter(s)},a.handleActivityTab=function(e){a.state.activityTabName!=e&&a.setState({activityTabName:e})},a.labelAndAmount=function(e,t){var s="payment-Succeeded";return"in_transit"==t?(t=a.state.settingsLang.setting_in_transit,s="payment-transit"):-1!=(e=String(e)).indexOf("-")?(t=a.state.settingsLang.setting_withdrawn,e=e.substr(1,e.length-1)):t=a.state.settingsLang.setting_paid,{amount:parseInt(e),status:t,statusClass:s}};var s=JSON.parse(localStorage.getItem("languageData"));return a.state={settingsLang:s.settings,globalLang:s.global,dashboardLang:s.dashboard,showLoader:!1,activityTabName:"payments",dateRangePicker:{selection:{startDate:new Date,endDate:new Date,key:"selection"}},to_date:Object(ss.b)(new Date,"YYYY-MM-DD"),from_date:Object(ss.b)(new Date,"YYYY-MM-DD"),rangeSelected:"Today",showCalendar:!1,posDashboardData:{},posPaymentList:[],posPayoutList:[],paymentGraphData:{payments:[],time:[],total:0},stripe_account_balance:0,total_today:0,verification_fields:0,payout_last_updated:""},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleClick,!1),this.setState({showLoader:!0}),this.props.getPosDashboard()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClick,!1)}},{key:"render",value:function(){var e=this,t=[];return i.a.createElement("div",{className:"main protected"},i.a.createElement(Aa,null),i.a.createElement("div",{id:"content",className:"content-pos-dashboard"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(ps,null),i.a.createElement("div",{className:"setting-setion"},this.state.verification_fields>0&&i.a.createElement("div",{className:"verification-field-warning"},i.a.createElement("div",{className:"alert"},i.a.createElement("i",{className:"fas fa-exclamation-triangle field-warning-color"}),"\xa0\xa0\xa0\xa0",this.state.settingsLang.pos_please_provide_the,"\xa0",i.a.createElement(me.a,{to:"/settings/pos-dashboard/verification",className:"modal-link field-warning-color"},"\xa0verification fields")," ",this.state.settingsLang.pos_to_keep_the_account_in_good_standing)),i.a.createElement("div",{className:"setting-search-outer"},i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("div",{className:"search-bg new-calender pull-left",ref:function(t){e.node=t}},i.a.createElement("img",{src:as.a}),this.state.showCalendar&&i.a.createElement(Ia.DateRangePicker,{ranges:[this.state.dateRangePicker.selection],onChange:this.handleRangeChange.bind(this,"dateRangePicker"),moveRangeOnFirstSelection:!1,className:"CalendarPreviewArea",months:1,scroll:{enabled:!0},maxDate:Object(ss.a)(new Date,900),minDate:Object(ss.a)(new Date,-365)}),i.a.createElement("input",{type:"text",className:"input-cal setting-search-input",name:"calendar-input",value:this.state.from_date?this.state.from_date+"-"+this.state.to_date:"",autoComplete:"off",onChange:this.handleInputChange}))),void 0!=this.state.payout_last_updated&&null!=this.state.payout_last_updated&&""!=this.state.payout_last_updated&&i.a.createElement("span",{className:"pull-right search-text"},this.state.settingsLang.pos_payments_and_payouts_data_last_updated,": ",this.state.payout_last_updated,"  (UTC)")),i.a.createElement("div",{className:"setting-container border-top"},i.a.createElement("div",{className:"setting-title"},i.a.createElement("span",{id:"chosenlabel"},this.state.rangeSelected)," ",i.a.createElement("span",{id:"stripe_total_charges"},Ie(this.state.paymentGraphData.total,"currency",2)),i.a.createElement(_v,{storageData:this.state.paymentGraphData}))),i.a.createElement("div",{className:"setting-container border-top"},i.a.createElement("div",{className:"setting-title m-b-40"},this.state.globalLang.label_balance),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-lg-2 col-sm-4"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label balance-label"},this.state.globalLang.label_total_balance," "),i.a.createElement("div",{className:"dashboard-bal",id:"tooltip-content","data-toggle":"tooltip","data-html":"true"},Ie(this.state.stripe_account_balance,"currency",2)))))),i.a.createElement("div",{className:"setting-container border-top no-padding-bottom"},i.a.createElement("div",{className:"setting-title"},this.state.globalLang.label_activity)),i.a.createElement("div",{className:"setting-container no-padding"},i.a.createElement("ul",{className:"sub-menus activity-menu"},i.a.createElement("li",{className:"payments"==this.state.activityTabName?"sub-menus-li active":"sub-menus-li"},i.a.createElement("a",{href:"#payments","aria-controls":"payments",role:"tab","data-toggle":"tab",className:"sub-menus-a activity-tabs active","aria-expanded":"true",onClick:this.handleActivityTab.bind(this,"payments")},this.state.settingsLang.sidebar_POS_payments_menu)),i.a.createElement("li",{className:"payouts"==this.state.activityTabName?"sub-menus-li active":"sub-menus-li"},i.a.createElement("a",{href:"#payouts","aria-controls":"payouts",role:"tab","data-toggle":"tab",className:"sub-menus-a activity-tabs active","aria-expanded":"false",onClick:this.handleActivityTab.bind(this,"payouts")},this.state.settingsLang.sidebar_POS_payouts_menu))),i.a.createElement("div",{className:"tab-content"},i.a.createElement("div",{role:"tabpanel",className:"payments"==this.state.activityTabName?"tab-pane active":"tab-pane",id:"payments"},i.a.createElement("div",{className:"table-responsive fixed-height-302"},i.a.createElement("table",{className:"table-updated no-hover setting-table table-min-width"},i.a.createElement("thead",{className:"table-updated-thead"},i.a.createElement("tr",null,i.a.createElement("th",{className:"col-lg-2 col-xs-3 table-updated-th text-right"},this.state.globalLang.label_amount),i.a.createElement("th",{className:"col-lg-2 col-xs-3 table-updated-th no-border-left"}),i.a.createElement("th",{className:"col-lg-5 col-xs-3 table-updated-th"},this.state.dashboardLang.dash_customers_text),i.a.createElement("th",{className:"col-lg-3 col-xs-3 table-updated-th text-right"},this.state.globalLang.label_date))),i.a.createElement("tbody",null,this.state.posPaymentList.length?this.state.posPaymentList.map(function(t,a){return i.a.createElement("tr",{className:"table-updated-tr",key:"posPayment-"+a},i.a.createElement("td",{className:"table-updated-td text-right"},i.a.createElement("label",{className:"payment-amount"},Ie(t.amount>0?t.amount/100:0,"currency",2))),i.a.createElement("td",{className:"table-updated-td no-padding no-border-left"},i.a.createElement("span",{className:"payment-currancy"},Ue().toUpperCase()),i.a.createElement("div",{className:"payment-Succeeded"},e.state.settingsLang.setting_succeeded)),i.a.createElement("td",{className:"table-updated-td"},void 0!=t.account&&void 0!=t.account.admin&&void 0!=t.account.admin.customer_name?t.account.admin.customer_name:""),i.a.createElement("td",{className:"table-updated-td text-right"},t.created))}):i.a.createElement("tr",{className:"table-updated-tr"},i.a.createElement("td",{className:"table-updated-td text-center",colSpan:4},!1===this.state.showLoader&&i.a.createElement("div",{className:"no-record"},this.state.globalLang.sorry_no_record_found)))))),this.state.posPaymentList.length>0&&i.a.createElement("div",{className:"footer-static no-border"},i.a.createElement(me.a,{to:"/settings/pos-payments",className:"new-blue-btn pull-right"},this.state.settingsLang.pos_view_all_payments))),i.a.createElement("div",{role:"tabpanel",className:"payouts"==this.state.activityTabName?"tab-pane active":"tab-pane",id:"payouts"},i.a.createElement("div",{className:"table-responsive fixed-height-302"},i.a.createElement("table",{className:"table-updated no-hover setting-table table-min-width"},i.a.createElement("thead",{className:"table-updated-thead"},i.a.createElement("tr",null,i.a.createElement("th",{className:"col-lg-2 col-xs-2 table-updated-th text-right"},this.state.globalLang.label_amount),i.a.createElement("th",{className:"col-lg-2 col-xs-3 table-updated-th no-border-left"}),i.a.createElement("th",{className:"col-lg-5 col-xs-5 table-updated-th"},this.state.settingsLang.pos_bank_card),i.a.createElement("th",{className:"col-lg-3 col-xs-3 table-updated-th text-right"},this.state.globalLang.label_date))),i.a.createElement("tbody",null,this.state.posPayoutList.length?this.state.posPayoutList.map(function(t,a){var s=e.labelAndAmount(t.amount,t.status);return i.a.createElement("tr",{className:"table-updated-tr",key:"posPayout-"+a},i.a.createElement("td",{className:"table-updated-td text-right"},i.a.createElement("label",{className:"payment-amount"},Ie(s.amount>0?s.amount/100:0,"currency",2))),i.a.createElement("td",{className:"table-updated-td no-padding no-border-left"},i.a.createElement("div",{className:s.statusClass},s.status)),i.a.createElement("td",{className:"table-updated-td"},void 0!=t.bank_account&&void 0!=t.bank_account.bank_name?t.bank_account.bank_name:""," **** ",void 0!=t.bank_account&&void 0!=t.bank_account.last4?t.bank_account.last4:""),i.a.createElement("td",{className:"table-updated-td text-right no-padding-left"},t.arrival_date))}):i.a.createElement("tr",{className:"table-updated-tr"},i.a.createElement("td",{className:"table-updated-td text-center",colSpan:5},!1===this.state.showLoader&&i.a.createElement("div",{className:"no-record"},this.state.globalLang.sorry_no_record_found)))))),this.state.posPayoutList.length>0&&i.a.createElement("div",{className:"footer-static no-border"},i.a.createElement(me.a,{to:"/settings/pos-payments",className:"new-blue-btn pull-right"},this.state.settingsLang.pos_view_all_payments))))),i.a.createElement(hd,{showLoader:this.state.showLoader}))),i.a.createElement("div",{className:this.state.isShowSettingModal?"modalOverlay":"no-display"},i.a.createElement("div",{className:"small-popup-outer"},i.a.createElement("div",{className:"small-popup-header"},i.a.createElement("div",{className:"popup-name"},this.state.settingsLang.pos_dispute_emails_setting),i.a.createElement("a",{href:"javascript:void(0);",className:"small-cross",onClick:this.handleSettingModal},"\xd7")),i.a.createElement("div",{className:"small-popup-content"},i.a.createElement("div",{className:"juvly-container no-padding-bottom"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-12 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer m-b-65"},i.a.createElement("div",{className:"new-field-label alert-modal-title"},this.state.settingsLang.pos_disputes_setting_alert_msg),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("div",{className:"tag-auto-select"},t&&i.a.createElement(un.a,{onChange:this.handleChange,value:[{id:12,label:"shine@yopmail.com",value:12}],isClearable:!0,isSearchable:!0,options:t,isMulti:!0})))))))),i.a.createElement("div",{className:"footer-static"},i.a.createElement("a",{href:"javascript:void(0);",className:"new-blue-btn pull-right"},this.state.globalLang.label_save),i.a.createElement("a",{href:"javascript:void(0);",className:"new-white-btn pull-right",onClick:this.handleSettingModal},this.state.globalLang.label_cancel))))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};return void 0!=e.posDashboardData&&e.posDashboardData!=t.posDashboardData?(a.showLoader=!1,a.posDashboardData=e.posDashboardData,a.posPaymentList=a.posDashboardData.payments,a.posPayoutList=a.posDashboardData.payouts,a.paymentGraphData=a.posDashboardData.payments_graph_data,a.stripe_account_balance=a.posDashboardData.stripe_account_balance,a.verification_fields=a.posDashboardData.verification_fields,a.payout_last_updated=a.posDashboardData.payout_last_updated):void 0!=e.paymentGraphData&&e.paymentGraphData!=t.paymentGraphData?(a.showLoader=!1,a.paymentGraphData=e.paymentGraphData):void 0!=e.showLoader&&e.showLoader!=t.showLoader&&0==e.showLoader&&(a.showLoader=!1),a}}]),t}(n.Component);var fv=Object(Z.b)(function(e){var t={},a=JSON.parse(localStorage.getItem("languageData"));return"POS_DASHBOARD_DATA"===e.SettingReducer.action&&(200!=e.SettingReducer.data.status?(rt.toast.error(a.global[e.SettingReducer.data.message]),t.showLoader=!1):t.posDashboardData=e.SettingReducer.data.data),"POS_DASHBOARD_FILTER_DATA"===e.SettingReducer.action&&(200!=e.SettingReducer.data.status?(rt.toast.error(a.global[e.SettingReducer.data.message]),t.showLoader=!1):t.paymentGraphData=e.SettingReducer.data.data),t},function(e){return Object(c.bindActionCreators)({getPosDashboard:Br,getPosDashboardFilter:qr},e)})(vv),bv=function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){a.setState({userChanged:!0});var t=e.target,s=t.value,n=(t.name,e.target.dataset.accountIndex),i=e.target.dataset.fieldIndex,r=a.state.verificationData;if(t&&"file"==t.type){t.files&&["image/png","image/PNG","image/jpg","image/JPG","image/jpeg","image/JPEG","image/gif","image/GIF"].indexOf(t.files[0].type)>-1?a.handleFileChosen(t.files[0],t):rt.toast.error("This file type is not allowed")}else r[n].fields[i].value=s;a.setState({verificationData:r})},a.handleFileChosen=function(e,t){return a.state.file.fileReader=new FileReader,a.state.file.fileReader.onloadend=a.handleFileRead,a.state.file.fileReader.readAsDataURL(e),a.state.file.file=e,a.state.file.target=t,{}},a.handleFileRead=function(e){a.state.file.fileReader.result;var t,s=a.state.file.target.name+"_thumbnail",n=a.state.file.target.name+"_src",i=a.state.file.target.name+"_size",r=Fe(a.state.file.file.size,1);a.setState((t={},Object(se.a)(t,s,a.state.file.file.name),Object(se.a)(t,i,r),Object(se.a)(t,n,a.state.file.fileReader.result),Object(se.a)(t,"showLoader",!0),t)),a.handleUpload(a.state.file.target.name)},a.handleUpload=function(e){var t=new FormData;t.append("file",a.state.file.file,a.state.file.file.name),t.append("stripe_user_id","acct_1DvPJ2H0tOYYnZRh");var s=Ee.API_URL+"pos-stripe-image-upload";Q.a.post(s,t).then(function(e){if(200==e.data.status){var t=a.state.file.target,s=t.dataset.accountIndex,n=t.dataset.fieldIndex,i=a.state.verificationData;i[s].fields[n].value=e.data.data,i[s].fields[n].error=!1,a.setState({verificationData:i,file:{}})}else rt.toast.error(a.state.globalLang[e.data.message]);a.setState({showLoader:!1})}).catch(function(e){rt.toast.error(a.state.globalLang[e.response.data.message]),a.setState({showLoader:!1})})},a.handleSubmit=function(e){e.target.name;var t=!1,s=a.state.verificationData;s.map(function(e,a){e.fields.map(function(e,n){void 0===typeof e.value||null===e.value||""===e.value?(s[a].fields[n].className="file"==e.type?"image_questionnaire":"setting-input-box field_error",s[a].fields[n].error=!0,t=!0):e.value&&(s[a].fields[n].className="file"==e.type?"image_questionnaire":"setting-input-box",s[a].fields[n].error=!1)})}),a.setState({verificationData:s,userChanged:!0}),t||(a.setState({showLoader:!0}),a.props.savePosDashboardVerification({verificaion_fields_data:s}))},a.onChangeDatePicker=function(e,t,s){var n=a.state.verificationData;n[e].fields[t].value=s,a.setState({userChanged:!0,verificationData:n})},a.state=a.initialState,a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){this.setState({showLoader:!0}),this.props.getPosDashboardVerification(this.state.invoiceId)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"wide-popup"},i.a.createElement("div",{className:"modal-blue-header"},0==this.state.showLoader&&i.a.createElement(me.a,{to:this.state.backAction,className:"popup-cross"},"\xd7"),i.a.createElement("span",{className:"popup-blue-name"},this.state.settingsLang.pos_verification_page_title)),i.a.createElement("div",{className:"wide-popup-wrapper time-line"},this.state.verificationData.length>0&&this.state.verificationData.map(function(t,a){return i.a.createElement("div",{className:"row",key:"verificationData-"+a},i.a.createElement("div",{className:"juvly-subtitle m-b-20"},t.clinic_name),t.fields.map(function(t,s){return i.a.createElement("div",{className:"setting-field-outer",key:"verificationData-field-"+a+"-"+s},i.a.createElement("div",{className:"new-field-label"},t.place_holder,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},"file"==t.type?i.a.createElement("div",{className:"main-profile-picture pos-doc-verification"},i.a.createElement("div",{className:"file-container file-upload-img"},i.a.createElement("img",{src:"/../../../../../images/upload.png"}),i.a.createElement("span",{className:"file-name-hide no-display"}),i.a.createElement("span",{className:"file-size-hide no-display"}),i.a.createElement("div",{className:t.error?"upload error-color":"upload"},""==t.value?"Upload":"Change",i.a.createElement("input",{type:"file",className:t.className,name:t.field_name,onChange:e.handleInputChange,"data-account-index":a,"data-field-index":s})))):"dob"==t.field_name?i.a.createElement(xn.a,{className:t.className,selected:t.value?t.value:null,dateFormat:"yyyy-MM-dd",onChange:e.onChangeDatePicker.bind(e,a,s),maxDate:new Date(Se()().subtract(13,"years").toDate()),minDate:new Date(Se()().subtract(100,"years").toDate()),showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",ref:function(t){return e.refDatePicker=t},autoComplete:"off",name:t.field_name,"data-account-index":a,"data-field-index":s}):i.a.createElement("input",{autoComplete:"off",type:"text",className:t.className,name:t.field_name,value:t.value,placeholder:t.place_holder,onChange:e.handleInputChange,"data-account-index":a,"data-field-index":s})))}))}),i.a.createElement("div",{className:"row"},this.state.verificationData.length>0&&i.a.createElement("button",{type:"button",className:"new-blue-btn pull-right",onClick:this.handleSubmit},this.state.globalLang.label_save))),i.a.createElement(hd,{showLoader:this.state.showLoader})),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}},{key:"initialState",get:function(){var e=JSON.parse(localStorage.getItem("languageData"));return{settingsLang:e.settings,globalLang:e.global,showLoader:!1,backAction:"/settings/pos-dashboard",posVerificationData:{},verificationData:[],userChanged:!1,file:{}}}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};if(void 0!==e.posVerificationData&&e.posVerificationData!==t.posVerificationData){if(a.posVerificationData=e.posVerificationData,!t.userChanged){var s=[];a.posVerificationData.map(function(e,t){var a={};a=e,e.fields.map(function(e,t){a.fields[t].value="dob"==e.field_name?new Date(Se()().subtract(13,"years").toDate()):"",a.fields[t].error=!1,"legal_entity.verification.document"==e.field_name?(a.fields[t].type="file",a.fields[t].className="image_questionnaire"):(a.fields[t].type="text",a.fields[t].className="setting-input-box dynamic-fields")}),s.push(a)}),a.verificationData=s}a.showLoader=!1}else void 0!=e.redirect&&1==e.redirect?e.status?rt.toast.success(e.message,{onClose:function(){e.history.push(t.backAction)}}):rt.toast.error(e.message,{onClose:function(){e.history.push(t.backAction)}}):void 0!=e.showLoader&&0==e.showLoader&&(a.showLoader=!1);return a}}]),t}(n.Component);var Ev=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData")),a={};return"GET_POS_DASHBOARD_VERIFICATION"===e.SettingReducer.action?200!=e.SettingReducer.data.status?(rt.toast.error(t.global[e.SettingReducer.data.message]),a.showLoader=!1):a.posVerificationData=e.SettingReducer.data.data:"SAVE_POS_DASHBOARD_VERIFICATION"===e.SettingReducer.action&&(200!=e.SettingReducer.data.status?(a.message=t.global[e.SettingReducer.data.message],a.redirect=!0,a.status=!1):(a.message=t.global[e.SettingReducer.data.message],a.redirect=!0,a.status=!0)),a},function(e){return Object(c.bindActionCreators)({getPosDashboardVerification:Yr,savePosDashboardVerification:Hr},e)})(Object(de.a)(bv)),yv=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).loadMore=function(){localStorage.setItem("sortOnly",!1),a.setState({loadMore:!0,startFresh:!0,showLoader:!0,showLoadingText:!0}),a.props.getPosPayment({params:{page:a.state.page,pagesize:a.state.pagesize}})},a.getPosExport=function(e){a.setState({showLoader:!0}),a.props.getPosExport({export_type:e,export_name:"payments"})};var s=JSON.parse(localStorage.getItem("languageData"));return a.state={settingsLang:s.settings,globalLang:s.global,hasMoreItems:!0,next_page_url:"",userList:[],loadMore:!0,startFresh:!0,showLoader:!1,showLoadingText:!1,userData:"",page:1,pagesize:15,posPaymentList:[],payout_last_updated:"",posPaymentExport:{}},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),window.onscroll=function(){var e=parseInt(Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop));window.innerHeight+e===document.documentElement.offsetHeight&&null!=a.state.next_page_url&&a.loadMore()},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e;this.setState((e={startFresh:!0,loadMore:!0},Object(se.a)(e,"startFresh",!0),Object(se.a)(e,"next_page_url",""),Object(se.a)(e,"posPaymentList",[]),Object(se.a)(e,"showLoader",!0),Object(se.a)(e,"next_page_url",""),Object(se.a)(e,"showLoader",!0),e)),this.props.getPosPayment({params:{page:this.state.page,pagesize:this.state.pagesize}})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"main protected"},i.a.createElement(Aa,null),i.a.createElement("div",{id:"content",className:"pos-content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(ps,null),i.a.createElement("div",{className:"setting-setion"},i.a.createElement("div",{className:"setting-search-outer"},void 0!=this.state.payout_last_updated&&null!=this.state.payout_last_updated&&""!=this.state.payout_last_updated&&i.a.createElement("span",{className:"pull-left search-text"},this.state.settingsLang.pos_payments_and_payouts_data_last_updated,": ",this.state.payout_last_updated," (UTC)"),i.a.createElement("div",{className:"dropdown pull-right no-width"},i.a.createElement("button",{className:"line-btn no-margin no-width",type:"button",id:"dropdownMenu1","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},this.state.globalLang.label_export_text,i.a.createElement("i",{className:"fas fa-angle-down"})),i.a.createElement("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenu1"},i.a.createElement("li",null,i.a.createElement("a",{href:"javascript:void(0);",onClick:this.getPosExport.bind(this,"csv")},this.state.globalLang.label_export_as_csv_text)),i.a.createElement("li",null,i.a.createElement("a",{href:"javascript:void(0);",onClick:this.getPosExport.bind(this,"xls")},this.state.globalLang.label_export_as_excel_text))))),i.a.createElement("div",{className:"setting-container no-padding"},i.a.createElement("div",{className:"table-responsive"},i.a.createElement("table",{className:"table-updated no-hover setting-table table-min-width"},i.a.createElement("thead",{className:"table-updated-thead"},i.a.createElement("tr",null,i.a.createElement("th",{className:"col-lg-2 col-xs-3 table-updated-th text-right"},this.state.globalLang.label_amount),i.a.createElement("th",{className:"col-lg-2 col-xs-3 table-updated-th no-border-left"}),i.a.createElement("th",{className:"col-lg-5 col-xs-3 table-updated-th"},this.state.globalLang.label_customers),i.a.createElement("th",{className:"col-lg-3 col-xs-3 table-updated-th text-right"},this.state.globalLang.label_date))),i.a.createElement("tbody",null,this.state.posPaymentList.length?this.state.posPaymentList.map(function(t,a){return i.a.createElement("tr",{className:"table-updated-tr",key:"posPayment-"+a},i.a.createElement("td",{className:"table-updated-td text-right"},i.a.createElement("label",{className:"payment-amount"},Ie(t.amount>0?t.amount/100:0,"currency",2))),i.a.createElement("td",{className:"table-updated-td no-padding no-border-left"},i.a.createElement("span",{className:"payment-currancy"},Ue().toUpperCase()),i.a.createElement("div",{className:"payment-Succeeded"},e.state.settingsLang.setting_succeeded)),i.a.createElement("td",{className:"table-updated-td"},void 0!=t.account&&void 0!=t.account.admin&&void 0!=t.account.admin.customer_name?t.account.admin.customer_name:""),i.a.createElement("td",{className:"table-updated-td text-right"},t.created))}):i.a.createElement("tr",{className:"table-updated-tr"},i.a.createElement("td",{className:"table-updated-td text-center",colSpan:4},!1===this.state.showLoader&&i.a.createElement("div",{className:"no-record"},this.state.globalLang.sorry_no_record_found)))))),i.a.createElement(hd,{showLoader:this.state.showLoader}),i.a.createElement("div",{className:this.state.showLoadingText?"loading-please-wait no-margin-top":"loading-please-wait no-margin-top no-display "},this.state.globalLang.loading_please_wait_text))))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};return void 0!=e.showLoader&&0==e.showLoader&&e.showLoader!=t.showLoader?(e.exportEmptyData(),{showLoader:!1}):void 0!=e.posPaymentExport&&e.posPaymentExport!=t.posPaymentExport?(e.exportEmptyData(),a.showLoader=!1,a.posPaymentExport=e.posPaymentExport,window.open(e.posPaymentExport.file),a):void 0!=e.posPaymentList&&void 0!=e.posPaymentList.payments&&e.posPaymentList.payments.next_page_url!==t.next_page_url?null==t.next_page_url?(localStorage.setItem("sortOnly",!1),a.next_page_url=null,a):(0==t.posPaymentList.length&&1==t.startFresh?"false"==localStorage.getItem("sortOnly")?(a.posPaymentList=e.posPaymentList.payments.data,a.payout_last_updated=e.posPaymentList.payout_last_updated,null!=e.posPaymentList.payments.next_page_url?a.page=t.page+1:a.next_page_url=e.posPaymentList.payments.next_page_url,a.startFresh=!1,a.showLoader=!1,a.showLoadingText=!1,localStorage.setItem("showLoader",!1)):localStorage.setItem("sortOnly",!1):t.posPaymentList!=e.posPaymentList.payments.data&&0!=t.posPaymentList.length&&(a.posPaymentList=Object(oa.a)(t.posPaymentList).concat(Object(oa.a)(e.posPaymentList.payments.data)),a.page=t.page+1,a.next_page_url=e.posPaymentList.payments.next_page_url,localStorage.setItem("showLoader",!1),a.showLoader=!1,a.showLoadingText=!1),a):a}}]),t}(n.Component);var Nv=Object(Z.b)(function(e){var t={},a=JSON.parse(localStorage.getItem("languageData"));return"POS_PAYMENT_LIST"===e.SettingReducer.action?200!=e.SettingReducer.data.status?(rt.toast.error(a.global[e.SettingReducer.data.message]),t.showLoader=!1):t.posPaymentList=e.SettingReducer.data.data:"POS_PAYMENT_PAYOUT_EXPORT"===e.SettingReducer.action?200!=e.SettingReducer.data.status?(rt.toast.error(a.global[e.SettingReducer.data.message]),t.showLoader=!1):t.posPaymentExport=e.SettingReducer.data.data:e.SettingReducer.action,t},function(e){return Object(c.bindActionCreators)({getPosPayment:Gr,getPosExport:Vr,exportEmptyData:br},e)})(yv),Sv=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).loadMore=function(){localStorage.setItem("sortOnly",!1),a.setState({loadMore:!0,startFresh:!0,showLoader:!0,showLoadingText:!0}),a.props.getPosPayout({params:{page:a.state.page,pagesize:a.state.pagesize}})},a.getPosExport=function(e){a.setState({showLoader:!0}),a.props.getPosExport({export_type:e,export_name:"payouts"})},a.handleInputChange=function(e){var t=e.target,s=t.value,n=t.name,i={dataChanged:!0};switch(t.type){case"checkbox":s=t.checked}if("amount"==n&&s.length>1&&-1!=s.indexOf("0")&&-1!=(s=s.replace(/^0+/,"")).indexOf(".")&&(s=Ie(s,"decimal",2)),i[n]=s,a.setState(i),"destination"==n){var r=0;""!=s&&a.state.posPayoutBankList.map(function(e,t){e.bank_identifier===s&&(r=e.balance)}),a.setState({available_balance:r})}},a.handleSubmit=function(e,t){"object"===typeof e&&e.preventDefault();var s=!1;if(void 0===typeof a.state.destination||null===a.state.destination||""===a.state.destination.trim()?(a.setState({destinationClass:"setting-select-box field_error"}),s=!0):a.state.destination&&a.setState({destinationClass:"setting-select-box"}),void 0===typeof a.state.amount||null===a.state.amount||a.state.amount<=0?(a.setState({amountClass:"setting-input-box field_error"}),s=!0):a.state.amount&&a.setState({amountClass:"setting-input-box"}),""!=a.state.destination.trim()){var n="";a.state.available_balance<=0?(s=!0,n=a.state.globalLang.low_available_balance):a.state.amount>0&&a.state.amount>a.state.available_balance&&(n=a.state.globalLang.amount_should_be_less_than_or_equal_to_available_balance,a.setState({amountClass:"setting-input-box field_error"})),""!=n&&rt.toast.error(n)}if(!s){var i={destination:a.state.destination,amount:a.state.amount,description:a.state.description,statement_descriptor:a.state.statement_descriptor};a.setState({showLoaderSettingModal:!0}),a.props.saveNewPosPayout(i)}},a.labelAndAmount=function(e,t){var s="payment-Succeeded";return"in_transit"==t?(t=a.state.settingsLang.setting_in_transit,s="payment-transit"):-1!=(e=String(e)).indexOf("-")?(t=a.state.settingsLang.setting_withdrawn,e=e.substr(1,e.length-1)):t=a.state.settingsLang.setting_paid,{amount:parseInt(e),status:t,statusClass:s}},a.handleSettingModal=function(){Ke(!a.state.isShowSettingModal),a.setState({isShowSettingModal:!a.state.isShowSettingModal})},a.getPosPayoutBank=function(){a.setState({showLoader:!0,dataChanged:!1}),a.props.getPosPayoutBank()},a.PosPayoutsDetails=function(e){return i.a.createElement("div",null,a.props.history.push("/settings/pos-payouts/".concat(e,"/view")))};var s=JSON.parse(localStorage.getItem("languageData"));return a.state={settingsLang:s.settings,globalLang:s.global,hasMoreItems:!0,next_page_url:"",userList:[],loadMore:!0,startFresh:!0,showLoader:!1,showLoadingText:!1,userData:"",page:1,pagesize:15,posPayoutList:[],payout_last_updated:"",posPaymentExport:{},isShowSettingModal:!1,posPayoutBankList:[],available_balance:0,destination:"",amount:0,description:"",statement_descriptor:"",availableBalanceClass:"setting-input-box",destinationClass:"setting-select-box",amountClass:"setting-input-box",descriptionClass:"setting-input-box",statementDescriptorClass:"setting-input-box",dataChanged:!1,message:"",showLoaderSettingModal:!1},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),window.onscroll=function(){var e=parseInt(Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop));window.innerHeight+e===document.documentElement.offsetHeight&&null!=a.state.next_page_url&&a.loadMore()},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e;this.setState((e={startFresh:!0,loadMore:!0},Object(se.a)(e,"startFresh",!0),Object(se.a)(e,"next_page_url",""),Object(se.a)(e,"posPayoutList",[]),Object(se.a)(e,"showLoader",!0),Object(se.a)(e,"next_page_url",""),Object(se.a)(e,"showLoader",!0),Object(se.a)(e,"page",1),e)),this.props.getPosPayout({params:{page:this.state.page,pagesize:this.state.pagesize}})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"main protected"},i.a.createElement(Aa,null),i.a.createElement("div",{id:"content",className:"pos-content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(ps,null),i.a.createElement("div",{className:"setting-setion"},i.a.createElement("div",{className:"setting-search-outer"},void 0!=this.state.payout_last_updated&&null!=this.state.payout_last_updated&&""!=this.state.payout_last_updated&&i.a.createElement("span",{className:"pull-left search-text"},this.state.settingsLang.pos_payments_and_payouts_data_last_updated,": ",this.state.payout_last_updated,"(UTC)"),i.a.createElement("div",{className:"dropdown pull-right no-width m-l-10"},i.a.createElement("button",{className:"line-btn no-margin no-width",type:"button",id:"dropdownMenu1","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},this.state.globalLang.label_export_text,i.a.createElement("i",{className:"fas fa-angle-down"})),i.a.createElement("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenu1"},i.a.createElement("li",null,i.a.createElement("a",{href:"javascript:void(0);",onClick:this.getPosExport.bind(this,"csv")},this.state.globalLang.label_export_as_csv_text)),i.a.createElement("li",null,i.a.createElement("a",{href:"javascript:void(0);",onClick:this.getPosExport.bind(this,"xls")},this.state.globalLang.label_export_as_excel_text)))),i.a.createElement("div",{className:"blue-btn pull-right no-width cursor-pointer",onClick:this.getPosPayoutBank},this.state.globalLang.label_new)),i.a.createElement("div",{className:"setting-container no-padding"},i.a.createElement("div",{className:"table-responsive"},i.a.createElement("table",{className:"table-updated no-hover setting-table table-min-width"},i.a.createElement("thead",{className:"table-updated-thead"},i.a.createElement("tr",null,i.a.createElement("th",{className:"col-lg-2 col-xs-2 table-updated-th text-right"},this.state.globalLang.label_amount),i.a.createElement("th",{className:"col-lg-2 col-xs-2 table-updated-th no-border-left"}),i.a.createElement("th",{className:"col-lg-4 col-xs-4 table-updated-th"},this.state.settingsLang.pos_bank_card),i.a.createElement("th",{className:"col-lg-2 col-xs-2 table-updated-th text-right"},this.state.globalLang.label_date),i.a.createElement("th",{className:"col-lg-2 col-xs-2 table-updated-th text-right"},this.state.settingsLang.pos_payout_mode))),i.a.createElement("tbody",{className:"ajax_body"},this.state.posPayoutList.length?this.state.posPayoutList.map(function(t,a){var s=e.labelAndAmount(t.amount,t.status);return i.a.createElement("tr",{className:t.automatic?"table-updated-tr show-payout-details":"table-updated-tr",key:"posPayout-"+a,onClick:t.automatic?e.PosPayoutsDetails.bind(e,t.payout_id):null},i.a.createElement("td",{className:"table-updated-td text-right"},i.a.createElement("label",{className:"payment-amount"},Ie(s.amount>0?s.amount/100:0,"currency",2))),i.a.createElement("td",{className:"table-updated-td no-padding no-border-left"},i.a.createElement("div",{className:s.statusClass},s.status)),i.a.createElement("td",{className:"table-updated-td"},void 0!=t.bank_account&&void 0!=t.bank_account.bank_name?t.bank_account.bank_name:""," **** ",void 0!=t.bank_account&&void 0!=t.bank_account.last4?t.bank_account.last4:""),i.a.createElement("td",{className:"table-updated-td text-right no-padding-left"},t.arrival_date),i.a.createElement("td",{className:"table-updated-td text-right"},t.automatic?e.state.settingsLang.pos_payout_automatic:e.state.settingsLang.pos_payout_manual))}):i.a.createElement("tr",{className:"table-updated-tr"},i.a.createElement("td",{className:"table-updated-td text-center",colSpan:5},!1===this.state.showLoader&&i.a.createElement("div",{className:"no-record"},this.state.globalLang.sorry_no_record_found)))))),i.a.createElement(hd,{showLoader:this.state.showLoader}),i.a.createElement("div",{className:this.state.showLoadingText?"loading-please-wait no-margin-top":"loading-please-wait no-margin-top no-display "},this.state.globalLang.loading_please_wait_text)))),i.a.createElement("div",{className:this.state.isShowSettingModal?"modalOverlay":"no-display"},i.a.createElement("div",{className:"small-popup-outer"},i.a.createElement("div",{className:"small-popup-header"},i.a.createElement("div",{className:"popup-name"},this.state.settingsLang.pos_payout_out_funds_to_your_bank_account),i.a.createElement("a",{href:"javascript:void(0);",className:"small-cross",onClick:this.handleSettingModal},"\xd7")),i.a.createElement("div",{className:"small-popup-content"},i.a.createElement("div",{className:"juvly-container no-padding-bottom"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-6"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.settingsLang.pos_available_balance),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:"available_balance",value:Ie(this.state.available_balance,"currency",2)+" "+Ue().toUpperCase(),onChange:this.handleInputChange,className:this.state.availableBalanceClass,readOnly:"readonly",type:"text"})))),i.a.createElement("div",{className:"col-sm-6"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.settingsLang.pos_amount_to_pay_out,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:"amount",value:this.state.amount,onChange:this.handleInputChange,className:this.state.amountClass,placeholder:"Amount to pay out",type:"text",autoComplete:"off"})))),i.a.createElement("div",{className:"col-sm-6"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.globalLang.label_description),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:"description",value:this.state.description,onChange:this.handleInputChange,className:this.state.descriptionClass,placeholder:"Description",type:"text",autoComplete:"off"})))),i.a.createElement("div",{className:"col-sm-6"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.settingsLang.pos_statement_desc),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:"statement_descriptor",value:this.state.statement_descriptor,onChange:this.handleInputChange,className:this.state.statementDescriptorClass,placeholder:"Statement desc",type:"text",autoComplete:"off"})))),i.a.createElement("div",{className:"col-sm-6"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.settingsLang.pos_send_payout_to,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("select",{name:"destination",value:this.state.destination,onChange:this.handleInputChange,className:this.state.destinationClass},i.a.createElement("option",{value:""},this.state.settingsLang.pos_Select_bank),this.state.posPayoutBankList.map(function(e,t){return i.a.createElement("option",{key:"posPayoutBankList-"+t,value:e.bank_identifier},e.bank_name)}))))))),i.a.createElement("div",{className:"footer-static"},i.a.createElement("a",{href:"javascript:void(0);",className:"new-blue-btn pull-right",onClick:this.handleSubmit},this.state.globalLang.label_save),i.a.createElement("a",{href:"javascript:void(0);",className:"new-white-btn pull-right",onClick:this.handleSettingModal},this.state.globalLang.label_cancel)),i.a.createElement(hd,{showLoader:this.state.showLoaderSettingModal}))))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a,s={};return void 0!=e.showLoader&&0==e.showLoader?(e.exportEmptyData(),{showLoader:!1,showLoaderSettingModal:!1}):void 0!=e.reload&&1==e.reload?(localStorage.setItem("fourceRefresh",1),rt.toast.success(e.message,{onClose:function(){e.getPosPayout({params:{page:1,pagesize:t.pagesize}})}}),a={startFresh:!0,loadMore:!0},Object(se.a)(a,"startFresh",!0),Object(se.a)(a,"next_page_url",""),Object(se.a)(a,"showLoader",!0),Object(se.a)(a,"next_page_url",""),Object(se.a)(a,"showLoader",!0),Object(se.a)(a,"page",1),Object(se.a)(a,"showLoaderSettingModal",!1),Object(se.a)(a,"isShowSettingModal",!1),a):void 0!=e.posPaymentExport&&e.posPaymentExport!=t.posPaymentExport?(e.exportEmptyData(),s.showLoader=!1,window.open(e.posPaymentExport.file),s):void 0!=e.posPayoutBankList&&e.posPayoutBankList!=t.posPayoutBankList?(e.exportEmptyData(),s.showLoader=!1,s.showLoaderSettingModal=!1,s.isShowSettingModal=!0,s.posPayoutBankList=e.posPayoutBankList,t.dataChanged||(s.available_balance=0,s.destination="",s.amount=0,s.description="",s.statement_descriptor="",s.destinationClass="setting-select-box",s.amountClass="setting-input-box",s.descriptionClass="setting-input-box",s.statementDescriptorClass="setting-input-box"),Ke(!0),s):void 0!=e.posPayoutList&&void 0!=e.posPayoutList.payouts&&e.posPayoutList.payouts.next_page_url!==t.next_page_url?(Ke(!1),1==localStorage.getItem("fourceRefresh")&&(t.posPayoutList=[],localStorage.removeItem("fourceRefresh")),null==t.next_page_url?(localStorage.setItem("sortOnly",!1),s.next_page_url=null,s):(0==t.posPayoutList.length&&1==t.startFresh?"false"==localStorage.getItem("sortOnly")?(s.posPayoutList=e.posPayoutList.payouts.data,s.payout_last_updated=e.posPayoutList.payout_last_updated,null!=e.posPayoutList.payouts.next_page_url?s.page=t.page+1:s.next_page_url=e.posPayoutList.payouts.next_page_url,s.startFresh=!1,s.showLoader=!1,s.showLoaderSettingModal=!1,s.isShowSettingModal=!1,s.showLoadingText=!1,localStorage.setItem("showLoader",!1)):localStorage.setItem("sortOnly",!1):t.posPayoutList!=e.posPayoutList.payouts.data&&0!=t.posPayoutList.length&&(s.posPayoutList=Object(oa.a)(t.posPayoutList).concat(Object(oa.a)(e.posPayoutList.payouts.data)),s.page=t.page+1,s.next_page_url=e.posPayoutList.payouts.next_page_url,localStorage.setItem("showLoader",!1),s.showLoader=!1,s.showLoadingText=!1),s)):s}}]),t}(n.Component);var Dv=Object(Z.b)(function(e){var t={},a=JSON.parse(localStorage.getItem("languageData"));return"POS_PAYOUT_LIST"===e.SettingReducer.action?200!=e.SettingReducer.data.status?(rt.toast.error(a.global[e.SettingReducer.data.message]),t.showLoader=!1):t.posPayoutList=e.SettingReducer.data.data:"POS_PAYMENT_PAYOUT_EXPORT"===e.SettingReducer.action?200!=e.SettingReducer.data.status?(rt.toast.error(a.global[e.SettingReducer.data.message]),t.showLoader=!1):t.posPaymentExport=e.SettingReducer.data.data:"POS_PAYOUT_BANK_LIST"===e.SettingReducer.action?200!=e.SettingReducer.data.status?(rt.toast.error(a.global[e.SettingReducer.data.message]),t.showLoader=!1):t.posPayoutBankList=e.SettingReducer.data.data:"POS_PAYOUT_NEW"===e.SettingReducer.action?200!=e.SettingReducer.data.status?("third_party_error"==e.SettingReducer.data.message?rt.toast.error(e.SettingReducer.data.data):rt.toast.error(a.global[e.SettingReducer.data.message]),t.showLoader=!1):(t.reload=!0,t.message=a.global[e.SettingReducer.data.message]):e.SettingReducer.action,t},function(e){return Object(c.bindActionCreators)({getPosPayout:zr,getPosExport:Vr,getPosPayoutBank:Wr,saveNewPosPayout:Jr,exportEmptyData:br},e)})(Sv),wv=Ue().toUpperCase(),Cv=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleSettingModal=function(){a.setState({isShowSettingModal:!a.state.isShowSettingModal})};var s=JSON.parse(localStorage.getItem("languageData"));return a.state={settingsLang:s.settings,globalLang:s.global,dashboardLang:s.dashboard,showLoader:!1,posPayoutData:{},payoutDetails:{},payoutTransactions:{},payout_last_updated:"",payoutId:0,isShowSettingModal:!1,amount:0,status:"",statusClass:"payment-Succeeded",summary:{payments:{count:0,gross:0,fees:0,total:0},refunds:{count:0,gross:0,fees:0,total:0}}},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;e&&(this.setState({showLoader:!0}),this.setState({payoutId:e,showLoader:!0}),this.props.getPosPayoutDetail(e))}},{key:"render",value:function(){return i.a.createElement("div",{className:"main protected"},i.a.createElement(Aa,null),i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(ps,null),i.a.createElement("div",{className:"setting-setion"},i.a.createElement("div",{className:"setting-container"},i.a.createElement("div",{className:"setting-title m-b-40"},this.state.settingsLang.pos_payout_details),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-5"},i.a.createElement("div",{className:"payment-Succeeded payout-payment-suceed"},this.state.settingsLang.setting_paid),i.a.createElement("b",null,Ie(this.state.amount/100,"currency",2)," ",wv)),i.a.createElement("div",{className:"col-md-7"},i.a.createElement("div",{className:"bank-account payout-bank-account pull-right"},i.a.createElement("img",{src:"/images/bank-logo.png",className:"transit-usd"}),void 0!=this.state.payoutDetails.bank_account&&void 0!=this.state.payoutDetails.bank_account.bank_name?this.state.payoutDetails.bank_account.bank_name:null," **** ",void 0!=this.state.payoutDetails.bank_account&&void 0!=this.state.payoutDetails.bank_account.last4?this.state.payoutDetails.bank_account.last4:null,"\xa0\xa0\xa0 ",i.a.createElement("div",{className:"payment-transit transit-usd"},wv))))),i.a.createElement("div",{className:"setting-container border-top"},i.a.createElement("div",{className:"setting-title m-b-0"},this.state.settingsLang.pos_summary)),i.a.createElement("div",{className:"table-responsive"},i.a.createElement("table",{className:"table-updated no-hover setting-table table-min-width"},i.a.createElement("thead",{className:"table-updated-thead"},i.a.createElement("tr",null,i.a.createElement("th",{className:"col-xs-4 table-updated-th sorting"},"\xa0"),i.a.createElement("th",{className:"col-xs-2 table-updated-th sorting text-right"},this.state.settingsLang.pos_count),i.a.createElement("th",{className:"col-xs-2 table-updated-th sorting text-right"},this.state.settingsLang.pos_gross),i.a.createElement("th",{className:"col-xs-2 table-updated-th sorting text-right"},this.state.settingsLang.pos_fees),i.a.createElement("th",{className:"col-xs-2 table-updated-th sorting text-right"},this.state.settingsLang.pos_total))),i.a.createElement("tbody",null,i.a.createElement("tr",{className:"table-updated-tr"},i.a.createElement("td",{className:"table-updated-td"},this.state.settingsLang.sidebar_POS_payments_menu),i.a.createElement("td",{className:"table-updated-td text-right"},this.state.summary.payments.count),i.a.createElement("td",{className:"table-updated-td text-right"},this.state.summary.payments.gross>0?Ie(this.state.summary.payments.gross/100,"currency",2):Ie(0,"currency",2)),i.a.createElement("td",{className:"table-updated-td text-right"},"(",this.state.summary.payments.fees>0?Ie(this.state.summary.payments.fees/100,"currency",2):Ie(0,"currency",2),")"),i.a.createElement("td",{className:"table-updated-td text-right"},this.state.summary.payments.total>0?Ie(this.state.summary.payments.total/100,"currency",2):Ie(0,"currency",2))),i.a.createElement("tr",{className:"table-updated-tr"},i.a.createElement("td",{className:"table-updated-td"},this.state.settingsLang.pos_refunds),i.a.createElement("td",{className:"table-updated-td text-right"},this.state.summary.refunds.count),i.a.createElement("td",{className:"table-updated-td text-right"},this.state.summary.refunds.gross>0?Ie(this.state.summary.refunds.gross/100,"currency",2):Ie(0,"currency",2)),i.a.createElement("td",{className:"table-updated-td text-right"},"(",this.state.summary.refunds.fees>0?Ie(this.state.summary.refunds.fees/100,"currency",2):Ie(0,"currency",2),")"),i.a.createElement("td",{className:"table-updated-td text-right"},this.state.summary.refunds.total>0?Ie(this.state.summary.refunds.total/100,"currency",2):Ie(0,"currency",2))),i.a.createElement("tr",{className:"table-updated-tr"},i.a.createElement("td",{className:"table-updated-td",colSpan:3},i.a.createElement("b",null,this.state.settingsLang.sidebar_POS_payouts_menu)),i.a.createElement("td",{className:"table-updated-td text-right no-border-left",colSpan:2},i.a.createElement("b",null,Ie(this.state.amount/100,"currency",2))))))),i.a.createElement("div",{className:"setting-container"},i.a.createElement("div",{className:"setting-title m-b-0"},this.state.settingsLang.pos_transactions)),i.a.createElement("div",{className:"table-responsive"},i.a.createElement("table",{className:"table-updated no-hover setting-table table-min-width"},i.a.createElement("thead",{className:"table-updated-thead"},i.a.createElement("tr",null,i.a.createElement("th",{className:"col-xs-2 table-updated-th sorting"},this.state.settingsLang.pos_type),i.a.createElement("th",{className:"col-xs-2 table-updated-th sorting text-right"},this.state.settingsLang.pos_gross),i.a.createElement("th",{className:"col-xs-2 table-updated-th sorting text-right"},this.state.settingsLang.pos_fees),i.a.createElement("th",{className:"col-xs-2 table-updated-th sorting text-right"},this.state.settingsLang.pos_total),i.a.createElement("th",{className:"col-xs-2 table-updated-th sorting"},this.state.settingsLang.pos_details),i.a.createElement("th",{className:"col-xs-2 table-updated-th sorting text-right"},this.state.globalLang.label_date))),i.a.createElement("tbody",null,this.state.payoutTransactions.length>0?this.state.payoutTransactions.map(function(e,t){return i.a.createElement("tr",{className:"table-updated-tr",key:"payoutTransactions-"+t},i.a.createElement("td",{className:"table-updated-td"},"Payment"),i.a.createElement("td",{className:"table-updated-td text-right"},Ie(e.amount/100,"currency",2)," ",wv),i.a.createElement("td",{className:"table-updated-td text-right"},Ie((e.amount-e.net)/100,"currency",2)," ",wv),i.a.createElement("td",{className:"table-updated-td text-right"},Ie(e.net/100,"currency",2)," ",wv),i.a.createElement("td",{className:"table-updated-td"},e.description),i.a.createElement("td",{className:"table-updated-td text-right"},Be(String(e.created))))}):i.a.createElement("tr",{className:"table-updated-tr"},i.a.createElement("td",{colSpan:6,className:"table-updated-td text-center"},this.state.globalLang.sorry_no_record_found))))),i.a.createElement(hd,{showLoader:this.state.showLoader})))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};if(void 0!=e.showLoader&&0==e.showLoader&&e.showLoader!=t.showLoader)return{showLoader:!1};if(void 0!=e.posPayoutData&&e.posPayoutData!=t.posPayoutData){a.showLoader=!1,a.posPayoutData=e.posPayoutData,a.payoutDetails=e.posPayoutData.payout_details,a.payoutTransactions=e.posPayoutData.payout_transactions;var s="payment-Succeeded",n=a.payoutDetails.status,i=a.payoutDetails.amount;"in_transit"==n?(n=t.settingsLang.setting_in_transit,s="payment-transit"):-1!=(i=String(i)).indexOf("-")?(n=t.settingsLang.setting_withdrawn,i=i.substr(1,i.length-1)):n=t.settingsLang.setting_paid,a.status=n,a.amount=i,a.statusClass=s;var r=t.summary;a.payoutTransactions.map(function(e,t){"application_fee"==e.type&&(r.payments.fees+=e.amount),"charge"==e.type&&(r.payments.gross+=e.amount,r.payments.count+=1),"refund"==e.type&&(r.refunds.gross+=e.amount,r.refunds.count+=1)}),r.payments.total=r.payments.gross-r.payments.fees,r.refunds.total=r.refunds.gross-r.refunds.fees,a.summary=r}else void 0!=e.showLoader&&0==e.showLoader&&e.showLoader!=t.showLoader&&(a.showModal=!1);return a}}]),t}(n.Component);var xv=Object(Z.b)(function(e){var t={},a=JSON.parse(localStorage.getItem("languageData"));return"POS_PAYOUT_DATA"===e.SettingReducer.action&&(200!=e.SettingReducer.data.status?(rt.toast.error(a.global[e.SettingReducer.data.message]),t.showLoader=!1):t.posPayoutData=e.SettingReducer.data.data),t},function(e){return Object(c.bindActionCreators)({getPosPayoutDetail:Qr},e)})(Cv),Lv=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,s=t.value,n=t.name,i={userChanged:!0};switch(t.type){case"checkbox":s=t.checked}s||"pos_enabled"!=n?"stripeConnectionMode"==n?(i.alertModalType="connection",i.isShowAlertModal=!0,i.alertModalContent=a.state.settingsLang.pos_stripe_alert_msg,Ke(!1)):"pos_enabled"==n&&(i.showLoader=!0,a.props.changePosStatus({status:1})):(i.alertModalType="pos_enabled",i.isShowAlertModal=!0,i.alertModalContent=a.state.settingsLang.pos_enable_alert_msg,Ke(!1)),a.setState(i)},a.handleSubmit=function(e){},a.handlePosDisable=function(){Ke(!1),a.setState({showLoader:!0,isShowAlertModal:!1}),a.props.changePosStatus({status:0})},a.handleStripeType=function(){Ke(!1),a.props.changePosConnectionStatus({connection_type:"global"==a.state.stripeConnectionMode?"clinic":"global"}),a.setState({showLoader:!0,isShowAlertModal:!1})},a.handleAlertModal=function(){Ke(!a.state.isShowAlertModal),a.setState({isShowAlertModal:!a.state.isShowAlertModal})},a.PosSetup=function(e){var t=e.target.dataset.accountType,s=e.target.dataset.clinicId;return"global"==t?i.a.createElement("div",null,a.props.history.push("/settings/pos/setup/global")):"clinic"==t&&s>0?i.a.createElement("div",null,a.props.history.push("/settings/pos/setup/clinic/".concat(s))):void 0},a.PosCardReader=function(e){var t=e.target.dataset.accountType,s=e.target.dataset.clinicId;return"global"==t?i.a.createElement("div",null,a.props.history.push("/settings/pos/card-reader/global")):"clinic"==t&&s>0?i.a.createElement("div",null,a.props.history.push("/settings/pos/card-reader/clinic/".concat(s))):void 0},a.StripeSetup=function(e,t){a.setState({stripeSetupClinicId:e});var s=JSON.parse(localStorage.getItem("userData"));a.setState({showLoader:!0}),s&&void 0!==s.user&&void 0!==s.user.email_id?(localStorage.setItem("stripeSetupClinicId",e),t+="&redirect_uri="+window.location.origin+"/settings/pos/express/setup",window.location=t):a.setState({showLoader:!1})},a.VisitStipeDashboard=function(e){a.setState({showLoader:!0}),a.props.getPosStripeDashboardUrl({clinic_id:e})},a.checkPosStripeBalance=function(e){var t=e.target.dataset.stripeId,s=e.target.dataset.clinicId;void 0!=t&&null!=t&&""!=t&&(a.setState({showLoader:!0,disconnectStripeId:t,disconnectClinicId:s}),a.props.checkPosStripeBalance({stripe_user_id:t}))},a.disconnectPosStripeAcount=function(){""!==a.state.disconnectStripeId&&(a.setState({showLoader:!0}),a.props.disconnectPosStripeAcount({stripe_user_id:a.state.disconnectStripeId,clinic_id:a.state.disconnectClinicId})),Ke(!1),a.setState({isShowAlertModal:!1})},a.getPosStripeUpdateFields=function(e){var t=e.target.dataset.stripeId,s=e.target.dataset.clinicId;void 0!=t&&null!=t&&""!=t&&(a.setState({showLoader:!0,updateStripeId:t,updateClinicId:s,isRender:!1}),a.props.getPosStripeUpdateFields(t))},a.handleCardInputChange=function(e){var t=e.target,s=t.value,n={cardInputChnaged:!0};n[t.name]=s,a.setState(n)},a.updatePosStripeAccountFields=function(e){var t=!1;if(void 0!==a.state.first_name&&null!==a.state.first_name&&""!==a.state.first_name.trim()&&nt.a.isAlpha(a.state.first_name)?a.state.first_name&&a.setState({firstNameClass:"setting-input-box"}):(a.setState({firstNameClass:"setting-input-box field_error"}),t=!0),void 0!==a.state.last_name&&null!==a.state.last_name&&""!==a.state.last_name.trim()&&nt.a.isAlpha(a.state.last_name)?a.state.last_name&&a.setState({lastNameClass:"setting-input-box"}):(a.setState({lastNameClass:"setting-input-box field_error"}),t=!0),void 0!==typeof a.state.email&&null!==a.state.email&&""!==a.state.email.trim()&&nt.a.isEmail(a.state.email)?a.state.email&&a.setState({emailClass:"setting-input-box"}):(a.setState({emailClass:"setting-input-box field_error"}),t=!0),void 0===typeof a.state.phoneNumber||null===a.state.phoneNumber||""===a.state.phoneNumber.trim()?a.setState({phoneNumberClass:"setting-input-box"}):""!==a.state.phoneNumber&&a.state.phoneNumberError?(a.setState({phoneNumberClass:"setting-input-box  field_error"}),t=!0):""===a.state.phoneNumber||a.state.phoneNumberError||a.setState({phoneNumberClass:"setting-input-box"}),!t){var s={stripe_user_id:a.state.updateStripeId,clinic_id:a.state.updateClinicId,first_name:a.state.first_name,last_name:a.state.last_name,email:a.state.email,phone_number:a.state.phoneNumber};""!==a.state.updateStripeId&&(a.setState({showLoaderStripeUpdate:!0}),a.props.updatePosStripeAccountFields(s))}},a.handleUpdatModal=function(e){Ke(!1),a.setState({isShowUpdateModal:!1})},a.phoneNumberChanged=function(e,t,s,n,i){var r;a.setState({cardInputChnaged:!0,isPhoneNumberChanged:!0});var o=i.replace(/[ `~!@#$%^&*()_|\-=?;:'",.<>\{\}\[\]\\\/]/gi,""),l=!0,c="setting-input-box setting-input-box-invalid";t&&(l=!1,c="setting-input-box"),a.setState((r={},Object(se.a)(r,e,o),Object(se.a)(r,e+"Error",l),Object(se.a)(r,e+"Class",c),r))};var s=JSON.parse(localStorage.getItem("languageData"));a.state={settingsLang:s.settings,globalLang:s.global,userChanged:!1,showLoader:!1,posData:{},stripeConfigClinic:[],stripeConfigGlobal:[],isStripeConfigGlobal:!1,stripeConnectionMode:"global",stripeCountry:"US",stripeCurrency:"usd",stripeMode:"",pos_enabled:Ge(),isShowAlertModal:!1,alertModalContent:"",alertModalType:"pos_enabled",disconnectStripeId:"",disconnectClinicId:0,updateStripeId:"",updateClinicId:0,isShowUpdateModal:!1,first_name:"",last_name:"",email:"",phoneNumber:"",firstNameClass:"setting-input-box",lastNameClass:"setting-input-box",emailClass:"setting-input-box",phoneNumberClass:"setting-input-box",phoneNumberError:!1,isRender:!1,defaultCountry:"us",isPhoneNumberChanged:!1,cardInputChnaged:!1,showLoaderStripeUpdate:!1,stripeSetupClinicId:0,posDashboardData:{}};JSON.parse(localStorage.getItem("userData"));return a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){this.setState({showLoader:!0}),this.props.getPosData()}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"main protected pos-settings"},i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(ps,null),i.a.createElement("div",{className:"setting-setion"},i.a.createElement("div",{className:"setting-container"},i.a.createElement("div",{className:"setting-title"},this.state.settingsLang.sidebar_POS_settings_menu,i.a.createElement("span",{className:"setting-custom-switch pull-right no-margin"},i.a.createElement("span",{id:"enabled-text"},this.state.pos_enabled?this.state.settingsLang.pos_enabled_label:this.state.settingsLang.pos_disabled_label),i.a.createElement("label",{className:"setting-switch pull-right"},i.a.createElement("input",{type:"checkbox",id:"pos_enabled",name:"pos_enabled",className:" setting-custom-switch-input",checked:!!this.state.pos_enabled&&"checked",value:this.state.pos_enabled,onChange:this.handleInputChange}),i.a.createElement("span",{className:"setting-slider"})),i.a.createElement("br",null),i.a.createElement("br",null))),i.a.createElement("div",{className:this.state.pos_enabled?"is-pos_enabled-form-title":"is-pos_enabled-form-title no-display"},i.a.createElement("p",{className:"p-text no-margin"},this.state.settingsLang.pos_please_select_label,":"),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-6"},i.a.createElement("div",{className:"pos-stripe-outer"},i.a.createElement("input",{type:"radio",onChange:this.handleInputChange,className:"pos-stripe-input pos-stripe-option stripe-option",id:"single-stripe",name:"stripeConnectionMode",value:"global",checked:"global"==this.state.stripeConnectionMode&&"checked"}),i.a.createElement("label",{className:"pos-stripe-discrip",htmlFor:"single-stripe"},i.a.createElement("span",{className:"pos-stripe-title"},"custom"===this.state.stripeMode?this.state.settingsLang.pos_single_pos_account:this.state.settingsLang.pos_single_stripe_account),this.state.settingsLang.pos_single_stripe_account_label))),i.a.createElement("div",{className:"col-sm-6"},i.a.createElement("div",{className:"pos-stripe-outer"},i.a.createElement("input",{type:"radio",onChange:this.handleInputChange,className:"pos-stripe-input pos-stripe-option stripe-option",id:"stripe-account",name:"stripeConnectionMode",value:"clinic",checked:"clinic"==this.state.stripeConnectionMode&&"checked"}),i.a.createElement("label",{className:"pos-stripe-discrip",htmlFor:"stripe-account"},i.a.createElement("span",{className:"pos-stripe-title"},"custom"===this.state.stripeMode?this.state.settingsLang.pos_pos_account_per_clinic:this.state.settingsLang.pos_stripe_account_per_clinic),this.state.settingsLang.pos_stripe_account_per_clinic_label)))),i.a.createElement("div",{className:"global"==this.state.stripeConnectionMode?"row single":"row single no-display",id:"global-settings"},this.state.isStripeConfigGlobal?"express"===this.state.stripeMode?i.a.createElement("div",{className:"col-lg-12 col-xs-12 m-t-10"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-6"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.settingsLang.pos_your_account_is_connected_on),i.a.createElement("div",{className:"setting-input-box"},this.state.stripeConfigGlobal.date_created))),i.a.createElement("div",{className:"col-sm-6"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.settingsLang.pos_your_stripe_id),i.a.createElement("div",{className:"setting-input-box"},this.state.stripeConfigGlobal.stripe_user_id))),i.a.createElement("div",{className:"col-sm-6"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.settingsLang.pos_application_fee),i.a.createElement("div",{className:"setting-input-box"},this.state.stripeConfigGlobal.platform_fee?Ie(this.state.stripeConfigGlobal.platform_fee,"decimal",2)+"%":""))),i.a.createElement("div",{className:"col-sm-6"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.settingsLang.pos_application_fee_for_swipe,":"),i.a.createElement("div",{className:"setting-input-box"},this.state.stripeConfigGlobal.platform_fee_swipe?Ie(this.state.stripeConfigGlobal.platform_fee_swipe,"decimal",2)+"%":""))),i.a.createElement("div",{className:"col-sm-6"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.settingsLang.pos_stripe_dashboard),i.a.createElement("a",{href:"javascript:void(0)",onClick:this.VisitStipeDashboard.bind(this,0),"data-account-type":"global","data-clinic-id":"0","data-stripe-id":this.state.stripeConfigGlobal.stripe_user_id,className:"new-white-btn small-stripe-btn dashboard-link"},this.state.settingsLang.pos_visit_stripe_dashboard))),i.a.createElement("div",{className:"col-sm-12"},"usd"===this.state.stripeCurrency&&i.a.createElement("a",{href:"javascript:void(0)",onClick:this.checkPosStripeBalance,"data-account-type":"global","data-clinic-id":"0","data-stripe-id":this.state.stripeConfigGlobal.stripe_user_id,className:"new-blue-btn small-stripe-btn stripe-disconnect"},this.state.settingsLang.pos_disconnect_with_stripe),i.a.createElement("a",{href:"javascript:void(0)",onClick:this.PosCardReader,"data-account-type":"global","data-clinic-id":"0","data-stripe-id":this.state.stripeConfigGlobal.stripe_user_id,className:"new-blue-btn small-stripe-btn modal-link"},this.state.settingsLang.pos_card_readers)))):i.a.createElement("div",{className:"col-lg-12 col-xs-12 m-t-10"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-6"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.settingsLang.pos_legal_name),i.a.createElement("div",{className:"setting-input-box"},this.state.stripeConfigGlobal.stripe_first_name+" "+this.state.stripeConfigGlobal.stripe_last_name))),i.a.createElement("div",{className:"col-sm-6"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.settingsLang.post_treatment_email),i.a.createElement("div",{className:"setting-input-box"},this.state.stripeConfigGlobal.stripe_email))),i.a.createElement("div",{className:"col-sm-6"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.settingsLang.pos_application_fee),i.a.createElement("div",{className:"setting-input-box"},this.state.stripeConfigGlobal.platform_fee?Ie(this.state.stripeConfigGlobal.platform_fee,"decimal",2)+"%":""))),i.a.createElement("div",{className:"col-sm-6"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.settingsLang.pos_application_fee_for_swipe,":"),i.a.createElement("div",{className:"setting-input-box"},this.state.stripeConfigGlobal.platform_fee_swipe?Ie(this.state.stripeConfigGlobal.platform_fee_swipe,"decimal",2)+"%":""))),i.a.createElement("div",{className:"col-sm-6"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.settingsLang.setting_currency),i.a.createElement("div",{className:"setting-input-box"},this.state.stripeCurrency.toUpperCase()))),i.a.createElement("div",{className:"col-sm-6"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.settingsLang.pos_account_status),i.a.createElement("div",{className:"verified"==this.state.stripeConfigGlobal.stripe_account_status?"setting-input-box stripe-verified":"setting-input-box stripe-unverified"},null!=this.state.stripeConfigGlobal.stripe_account_status&&""!=this.state.stripeConfigGlobal.stripe_account_status?je(this.state.stripeConfigGlobal.stripe_account_status):null))),i.a.createElement("div",{className:"col-sm-12"},i.a.createElement("a",{href:"javascript:void(0)",onClick:this.checkPosStripeBalance,"data-account-type":"global","data-clinic-id":"0","data-stripe-id":this.state.stripeConfigGlobal.stripe_user_id,className:"new-blue-btn small-stripe-btn stripe-disconnect"},this.state.settingsLang.pos_disconnect_pos),"usd"===this.state.stripeCurrency&&i.a.createElement("a",{href:"javascript:void(0)",onClick:this.PosCardReader,"data-account-type":"global","data-clinic-id":"0","data-stripe-id":this.state.stripeConfigGlobal.stripe_user_id,className:"new-blue-btn small-stripe-btn modal-link"},this.state.settingsLang.pos_card_readers),i.a.createElement("a",{href:"javascript:void(0)",onClick:this.getPosStripeUpdateFields,"data-account-type":"global","data-clinic-id":"0","data-stripe-id":this.state.stripeConfigGlobal.stripe_user_id,"data-title":!0,className:"new-blue-btn small-stripe-btn modal-link"},this.state.settingsLang.pos_update_info)))):i.a.createElement("div",{className:"col-lg-12 col-xs-12 m-t-10"},i.a.createElement("div",{className:"row global-connect"},i.a.createElement("div",{className:"col-sm-6 col-md-8 col-lg-9"},this.state.settingsLang.pos_you_have_not_connected_your_pos_account_yet,this.state.settingsLang.pos_please_click_connect_to_link_your_pos_account),i.a.createElement("div",{className:"col-sm-6 col-md-4 col-lg-3 text-right"},"express"===this.state.stripeMode?i.a.createElement("a",{href:"javascript:void(0)",onClick:this.StripeSetup.bind(this,0,this.state.stripeConfigGlobal.account_connect_url),"data-account-type":"global","data-clinic-id":"0",className:"stripe-link"},"Connect with Stripe"):i.a.createElement("a",{href:"javascript:void(0)",onClick:this.PosSetup,"data-account-type":"global","data-clinic-id":"0",className:"new-white-btn small-stripe-btn modal-link"},this.state.settingsLang.pos_setup_your_account))))))),i.a.createElement("div",{id:"per-clinic-settings",className:this.state.pos_enabled?"":"no-display"},i.a.createElement("div",{className:"clinic"==this.state.stripeConnectionMode?"table-responsive":"table-responsive no-display"},"custom"===this.state.stripeMode&&i.a.createElement("table",{className:"table-updated no-hover setting-table table-min-width"},i.a.createElement("thead",{className:"table-updated-thead"},i.a.createElement("tr",null,i.a.createElement("th",{className:"col-xs-2 table-updated-th sorting"},this.state.globalLang.label_clinic),i.a.createElement("th",{className:"col-xs-2 table-updated-th sorting"},this.state.settingsLang.pos_legal_name),i.a.createElement("th",{className:"col-xs-1 table-updated-th sorting"},this.state.settingsLang.post_treatment_email),i.a.createElement("th",{className:"col-xs-1 table-updated-th sorting"},this.state.globalLang.label_fee," "),i.a.createElement("th",{className:"col-xs-1 table-updated-th sorting"},this.state.settingsLang.pos_swipe_fee),i.a.createElement("th",{className:"col-xs-1 table-updated-th sorting"},this.state.settingsLang.setting_currency),i.a.createElement("th",{className:"col-xs-1 table-updated-th sorting"},this.state.settingsLang.pos_account_status),i.a.createElement("th",{className:"col-xs-3 table-updated-th sorting"},this.state.globalLang.label_action," "))),i.a.createElement("tbody",{className:"ajax_body"},this.state.stripeConfigClinic.length>0&&this.state.stripeConfigClinic.map(function(t,a){return i.a.createElement("tr",{className:"table-updated-tr",key:"stripeConfigClinic-"+a},i.a.createElement("td",{className:"table-updated-td"},t.clinic_name),i.a.createElement("td",{className:"table-updated-td"},t.stripe_first_name+" "+t.stripe_last_name),i.a.createElement("td",{className:"table-updated-td"},t.stripe_email),i.a.createElement("td",{className:"table-updated-td"},t.platform_fee?Ie(t.platform_fee,"decimal",2)+"%":""),i.a.createElement("td",{className:"table-updated-td"},t.platform_fee_swipe?Ie(t.platform_fee_swipe,"decimal",2)+"%":""),i.a.createElement("td",{className:"table-updated-td"},e.state.stripeCurrency.toUpperCase()),i.a.createElement("td",{className:"verified"==t.stripe_account_status?"table-updated-td stripe-verified":"table-updated-td stripe-unverified"},null!=t.stripe_account_status&&""!=t.stripe_account_status?je(t.stripe_account_status):null),void 0==t.stripe_user_id||null==t.stripe_user_id||""==t.stripe_user_id?i.a.createElement("td",{className:"table-updated-td"},i.a.createElement("a",{href:"javascript:void(0)",onClick:e.PosSetup,"data-account-type":"clinic","data-clinic-id":t.id,className:"stripe-link"},e.state.settingsLang.pos_setup_your_account)):i.a.createElement("td",{className:"table-updated-td"},i.a.createElement("a",{href:"javascript:void(0)",onClick:e.checkPosStripeBalance,"data-account-type":"clinic","data-clinic-id":t.id,"data-stripe-id":t.stripe_user_id,className:"stripe-link"},e.state.settingsLang.pos_disconnect_pos),i.a.createElement("br",null),"usd"===e.state.stripeCurrency&&i.a.createElement("a",{href:"javascript:void(0)",onClick:e.PosCardReader,"data-account-type":"clinic","data-clinic-id":t.id,"data-stripe-id":t.stripe_user_id,className:"stripe-link modal-link"},e.state.settingsLang.pos_card_readers),"usd"===e.state.stripeCurrency&&i.a.createElement("br",null),i.a.createElement("a",{href:"javascript:void(0)",onClick:e.getPosStripeUpdateFields,"data-account-type":"clinic","data-clinic-id":t.id,"data-stripe-id":t.stripe_user_id,className:"stripe-link get-stripe-acct-details"},e.state.settingsLang.pos_update_info)))}))),"express"===this.state.stripeMode&&i.a.createElement("table",{className:"table-updated no-hover setting-table table-min-width"},i.a.createElement("thead",{className:"table-updated-thead"},i.a.createElement("tr",null,i.a.createElement("th",{className:"col-xs-3 table-updated-th sorting"},this.state.globalLang.label_clinic),i.a.createElement("th",{className:"col-xs-2 table-updated-th sorting"},this.state.globalLang.label_status," "),i.a.createElement("th",{className:"col-xs-2 table-updated-th sorting"},this.state.globalLang.label_fee," "),i.a.createElement("th",{className:"col-xs-2 table-updated-th sorting"},this.state.settingsLang.pos_swipe_fee),i.a.createElement("th",{className:"col-xs-3 table-updated-th sorting"},this.state.stripeConfigClinic.length>0?this.state.globalLang.label_action:""," "))),i.a.createElement("tbody",{className:"ajax_body"},this.state.stripeConfigClinic.length>0&&this.state.stripeConfigClinic.map(function(t,a){return i.a.createElement("tr",{className:"table-updated-tr",key:"stripeConfigClinic-"+a},i.a.createElement("td",{className:"table-updated-td"},t.clinic_name),i.a.createElement("td",{className:"table-updated-td"},void 0==t.stripe_user_id||null==t.stripe_user_id||""==t.stripe_user_id?"Not connected":"Connected "+t.stripe_date_created),i.a.createElement("td",{className:"table-updated-td"},t.platform_fee?Ie(t.platform_fee,"decimal",2)+"%":""),i.a.createElement("td",{className:"table-updated-td"},t.platform_fee_swipe?Ie(t.platform_fee_swipe,"decimal",2)+"%":""),void 0==t.stripe_user_id||null==t.stripe_user_id||""==t.stripe_user_id?i.a.createElement("td",{className:"table-updated-td"},i.a.createElement("a",{href:"javascript:void(0)",onClick:e.StripeSetup.bind(e,t.id,t.account_connect_url),"data-account-type":"clinic","data-clinic-id":t.id,className:"stripe-link"},"Connect with Stripe")):i.a.createElement("td",{className:"table-updated-td"},i.a.createElement("a",{href:"javascript:void(0)",onClick:e.VisitStipeDashboard.bind(e,t.id),"data-account-type":"clinic","data-clinic-id":t.id,"data-stripe-id":t.stripe_user_id,className:"stripe-link get-stripe-acct-details"},e.state.settingsLang.pos_visit_stripe_dashboard," "),i.a.createElement("br",null),i.a.createElement("a",{href:"javascript:void(0)",onClick:e.checkPosStripeBalance,"data-account-type":"clinic","data-clinic-id":t.id,"data-stripe-id":t.stripe_user_id,className:"stripe-link"},e.state.settingsLang.pos_disconnect_with_stripe),i.a.createElement("br",null),"usd"===e.state.stripeCurrency&&i.a.createElement("a",{href:"javascript:void(0)",onClick:e.PosCardReader,"data-account-type":"clinic","data-clinic-id":t.id,"data-stripe-id":t.stripe_user_id,className:"stripe-link modal-link"},e.state.settingsLang.pos_card_readers)))}))))),i.a.createElement(hd,{showLoader:this.state.showLoader}))),i.a.createElement("div",{className:this.state.isShowUpdateModal?"modalOverlay":"no-display"},i.a.createElement("div",{className:"small-popup-outer no-popup-scroll"},i.a.createElement("div",{className:"small-popup-header"},i.a.createElement("div",{className:"popup-name"},this.state.settingsLang.pos_update_account_details),i.a.createElement("a",{href:"javascript:void(0);",className:"small-cross",onClick:this.handleUpdatModal},"\xd7")),i.a.createElement("div",{className:"small-popup-content"},i.a.createElement("div",{className:"juvly-container no-padding-bottom"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-6"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.settingsLang.user_First_Name,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:"first_name",value:this.state.first_name,onChange:this.handleCardInputChange,className:this.state.firstNameClass,type:"text",autoComplete:"off"})))),i.a.createElement("div",{className:"col-sm-6"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.settingsLang.user_Last_Name,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:"last_name",value:this.state.last_name,onChange:this.handleCardInputChange,className:this.state.lastNameClass,type:"text",autoComplete:"off"})))),i.a.createElement("div",{className:"col-sm-6"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.settingsLang.post_treatment_email,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:"email",value:this.state.email,onChange:this.handleCardInputChange,className:this.state.emailClass,type:"text",autoComplete:"off"})))),i.a.createElement("div",{className:"col-sm-6"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.settingsLang.pos_phone_number),i.a.createElement("div",{className:"setting-input-outer"},this.state.isRender&&i.a.createElement(zt.a,{preferredCountries:["tw"],css:["intl-tel-input",this.state.phoneNumberClass],utilsScript:"libphonenumber.js",defaultValue:this.state.phoneNumber?this.state.phoneNumber:"",defaultCountry:this.state.defaultCountry,fieldName:"phoneNumber",onPhoneNumberChange:this.phoneNumberChanged.bind(this,"phoneNumber"),onPhoneNumberBlur:this.phoneNumberChanged.bind(this,"phoneNumber"),placeholder:"Phone Number"}))))))),i.a.createElement("div",{className:"footer-static"},i.a.createElement("a",{href:"javascript:void(0);",className:"new-blue-btn pull-right",onClick:this.updatePosStripeAccountFields},this.state.globalLang.label_save),i.a.createElement("a",{href:"javascript:void(0);",className:"new-white-btn pull-right",onClick:this.handleUpdatModal},this.state.globalLang.label_cancel)),i.a.createElement(hd,{showLoader:this.state.showLoaderStripeUpdate}))),i.a.createElement("div",{className:this.state.isShowAlertModal?"modalOverlay":"no-display"},i.a.createElement("div",{className:"small-popup-outer"},i.a.createElement("div",{className:"small-popup-header"},i.a.createElement("div",{className:"popup-name"},this.state.globalLang.label_alert),i.a.createElement("a",{href:"javascript:void(0);",className:"small-cross",onClick:this.handleAlertModal},"\xd7")),i.a.createElement("div",{className:"small-popup-content"},i.a.createElement("div",{className:"juvly-container no-padding-bottom"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-12 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},"warning"!=this.state.alertModalType&&i.a.createElement("div",{className:"new-field-label alert-modal-title"},this.state.globalLang.are_you_sure),i.a.createElement("div",{className:"new-field-label alert-modal-content"},this.state.alertModalContent)))))),i.a.createElement("div",{className:"footer-static"},i.a.createElement("a",{href:"javascript:void(0);",className:"new-white-btn pull-right",onClick:this.handleAlertModal},this.state.globalLang.label_cancel),"pos_enabled"==this.state.alertModalType&&i.a.createElement("a",{href:"javascript:void(0);",className:"new-red-btn pull-left",onClick:this.handlePosDisable},this.state.settingsLang.yes_disable_it),"connection"==this.state.alertModalType&&i.a.createElement("a",{href:"javascript:void(0);",className:"new-red-btn pull-left",onClick:this.handleStripeType},this.state.settingsLang.yes_change_it),"pos_disconnect"==this.state.alertModalType&&i.a.createElement("a",{href:"javascript:void(0);",className:"new-red-btn pull-left",onClick:this.disconnectPosStripeAcount},this.state.settingsLang.pos_yes_disconnect_it))))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};if(void 0!==e.posData&&e.posData!==t.posData){if(a.posData=e.posData,a.stripeMode=a.posData.stripe_mode,a.stripeConfigClinic=a.posData.clinic_stripe_config,a.stripeConfigGlobal=a.posData.global_stripe_config,!t.userChanged){var s=Object.keys(a.stripeConfigGlobal).length;"express"===a.stripeMode&&s<=1&&(s=0),a.isStripeConfigGlobal=!!s,a.stripeConnectionMode=a.posData.connection_method,a.stripeCountry=a.posData.stripe_country,a.stripeCurrency=a.posData.stripe_currency,a.pos_enabled=a.posData.pos_enabled}void 0!==e.isDisconnect&&!0===e.isDisconnect&&(a.pos_enabled=!!e.pos_enabled),a.showLoader=!1,a.showLoaderStripeUpdate=!1,a.isShowUpdateModal=!1,a.disconnectStripeId="",a.disconnectClinicId=0,a.updateStripeId="",a.updateClinicId=0,a.first_name="",a.last_name="",a.email="",a.phoneNumber="",a.firstNameClass="setting-input-box",a.lastNameClass="setting-input-box",a.emailClass="setting-input-box",a.phoneNumberClass="setting-input-box",a.phoneNumberError=!1,a.defaultCountry="us",a.isPhoneNumberChanged=!1,a.cardInputChnaged=!1,a.isRender=!1,Ke(!1)}else void 0!=e.resetConnectionAccount&&1==e.resetConnectionAccount?(a.showLoader=!1,a.isShowAlertModal=!0,a.alertModalType="warning",a.alertModalContent=e.message,e.exportEmptyData()):void 0!=e.changePosMode&&1==e.changePosMode?(a.showLoader=!1,a.pos_enabled=!t.pos_enabled,e.exportEmptyData()):void 0!=e.changeStripeConnectionMode&&1==e.changeStripeConnectionMode?(a.showLoader=!1,a.stripeConnectionMode="global"==t.stripeConnectionMode?"clinic":"global",e.exportEmptyData()):void 0!=e.posStripeBalanceData?(e.exportEmptyData(),0==e.posStripeBalanceData?(a.alertModalType="pos_disconnect",a.isShowAlertModal=!0,a.alertModalContent=t.settingsLang.pos_delete_account_for_zero_balance_alert_msg,Ke(!0)):(a.alertModalType="warning",a.isShowAlertModal=!0,a.alertModalContent=t.settingsLang.pos_delete_account_for_balance_part_1_alert_msg+" "+Ie(e.posStripeBalanceData,"currency",2)+" ,"+t.settingsLang.pos_delete_account_for_balance_part_2_alert_msg,a.disconnectStripeId="",a.disconnectClinicId=0),a.showLoader=!1,Ke(!0)):void 0!=e.posStripeUpdateData?(e.exportEmptyData(),a.showLoader=!1,a.showLoaderStripeUpdate=!1,a.isShowUpdateModal=!0,a.first_name=e.posStripeUpdateData.stripe_first_name,a.last_name=e.posStripeUpdateData.stripe_last_name,a.email=e.posStripeUpdateData.stripe_email,a.phoneNumber=e.posStripeUpdateData.stripe_phone_number,a.firstNameClass="setting-input-box",a.lastNameClass="setting-input-box",a.emailClass="setting-input-box",a.phoneNumberClass="setting-input-box",a.phoneNumberError=!1,a.defaultCountry="us",a.isPhoneNumberChanged=!1,a.cardInputChnaged=!1,a.isRender=!0,Ke(!0)):void 0!=e.posDashboardData?(e.exportEmptyData(),a.showLoader=!1,window.open(e.posDashboardData,"_blank")):void 0!=e.showLoader&&0==e.showLoader&&(a.showLoader=!1,a.showLoaderStripeUpdate=!1,e.exportEmptyData());return a}}]),t}(n.Component);var Ov=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData")),a={};return"GET_POS_DATA"===e.SettingReducer.action?200!=e.SettingReducer.data.status?(rt.toast.error(t.global[e.SettingReducer.data.message]),a.showLoader=!1):a.posData=e.SettingReducer.data.data:"CHANGE_POS_STATUS"===e.SettingReducer.action?(rt.toast.dismiss(),200!=e.SettingReducer.data.status?(rt.toast.error(t.global[e.SettingReducer.data.message]),a.showLoader=!1):(rt.toast.success(t.global[e.SettingReducer.data.message]),a.changePosMode=!0)):"CHANGE_POS_CONNECTION_STATUS"===e.SettingReducer.action?(rt.toast.dismiss(),200!=e.SettingReducer.data.status&&201!=e.SettingReducer.data.status?(rt.toast.error(t.global[e.SettingReducer.data.message]),a.showLoader=!1):201==e.SettingReducer.data.status?(a.resetConnectionAccount=!0,a.message=t.global[e.SettingReducer.data.message]):(rt.toast.success(t.global[e.SettingReducer.data.message]),a.changeStripeConnectionMode=!0)):"CHECK_POS_STRIPE_BALANCE"===e.SettingReducer.action?(rt.toast.dismiss(),200!=e.SettingReducer.data.status?("third_party_error"==e.SettingReducer.data.message?rt.toast.error(e.SettingReducer.data.data):rt.toast.error(t.global[e.SettingReducer.data.message]),a.showLoader=!1):a.posStripeBalanceData=e.SettingReducer.data.data):"DISCONNENCT_POS_STRIPE_ACCOUNT"===e.SettingReducer.action?(rt.toast.dismiss(),200!=e.SettingReducer.data.status?("third_party_error"==e.SettingReducer.data.message?rt.toast.error(e.SettingReducer.data.data):rt.toast.error(t.global[e.SettingReducer.data.message]),a.showLoader=!1):(rt.toast.success(t.global[e.SettingReducer.data.message]),a.posData=e.SettingReducer.data.data,a.isDisconnect=!0)):"GET_POS_STRIPE_ACCOUNT_FIELDS"===e.SettingReducer.action?(rt.toast.dismiss(),200!=e.SettingReducer.data.status?("third_party_error"==e.SettingReducer.data.message?rt.toast.error(e.SettingReducer.data.data):rt.toast.error(t.global[e.SettingReducer.data.message]),a.showLoader=!1):a.posStripeUpdateData=e.SettingReducer.data.data):"UPDATE_POS_STRIPE_ACCOUNT"===e.SettingReducer.action?(rt.toast.dismiss(),200!=e.SettingReducer.data.status?("third_party_error"==e.SettingReducer.data.message?rt.toast.error(e.SettingReducer.data.data):rt.toast.error(t.global[e.SettingReducer.data.message]),a.showLoader=!1):(rt.toast.success(t.global[e.SettingReducer.data.message]),a.posData=e.SettingReducer.data.data)):"GET_POS_STRIPE_DASHBOARD_URL"===e.SettingReducer.action?(rt.toast.dismiss(),200!=e.SettingReducer.data.status?("third_party_error"==e.SettingReducer.data.message?rt.toast.error(e.SettingReducer.data.data):rt.toast.error(t.global[e.SettingReducer.data.message]),a.showLoader=!1):a.posDashboardData=e.SettingReducer.data.data):e.SettingReducer.action,a},function(e){return Object(c.bindActionCreators)({getPosData:$r,changePosStatus:eo,changePosConnectionStatus:to,checkPosStripeBalance:io,disconnectPosStripeAcount:ro,getPosStripeUpdateFields:uo,getPosStripeDashboardUrl:Co,updatePosStripeAccountFields:po,exportEmptyData:br},e)})(Lv),Av=function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){a.setState({userChanged:!0});var t=e.target,s=t.value,n=t.name,i=e.target.dataset.fieldIndex;if(i>=0){var r=a.state.verificationData;r[i].value=s,a.setState({verificationData:r})}else a.setState(Object(se.a)({},n,s),function(){"type"!=n&&"country"!=n||null!=a.state.type&&""!=a.state.type&&null!=a.state.country&&""!=a.state.country&&(a.setState({showLoader:!0}),a.props.getPosAdditionalSetupData({type:a.state.type,country:a.state.country}))})},a.handleSubmit=function(e){e.target.name;var t=!1;void 0===typeof a.state.type||null===a.state.type||""===a.state.type?(a.setState({typeClass:"setting-select-box field_error"}),t=!0):a.state.type&&a.setState({typeClass:"setting-select-box"}),void 0===typeof a.state.country||null===a.state.country||""===a.state.country?(a.setState({countryClass:"setting-select-box field_error"}),t=!0):a.state.country&&a.setState({countryClass:"setting-select-box"});var s=a.state.verificationData;if(s.length>0?(s.map(function(e,a){void 0===e.value||null===e.value||""===e.value?(s[a].className="file"==e.type?"image_questionnaire":"setting-input-box field_error",s[a].error=!0,t=!0):e.value&&(("legal_entity.first_name"!==e.field_name||nt.a.isAlpha(e.value))&&("legal_entity.last_name"!==e.field_name||nt.a.isAlpha(e.value))&&("email"!==e.field_name||nt.a.isEmail(e.value))?(s[a].className="file"==e.type?"image_questionnaire":"setting-input-box",s[a].error=!1):(s[a].className="setting-input-box field_error",s[a].error=!0,t=!0))}),a.setState({verificationData:s,userChanged:!0})):t=!0,!t){var n={verificaion_fields_data:s,type:a.state.type,country:a.state.country,currency:a.state.defaultCurrency,clinic_id:a.state.clinicId};a.setState({showLoader:!0}),a.props.savePosSetupData(n)}},a.onChangeDatePicker=function(e,t){if(e>=0){var s=a.state.verificationData;s[e].value=t,a.setState({verificationData:s})}},a.state=a.initialState,a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){this.setState({showLoader:!0}),this.props.getPosSetupData();var e=this.props.match.params.clinicId;e&&this.setState({clinicId:e})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"wide-popup"},i.a.createElement("div",{className:"modal-blue-header"},0==this.state.showLoader&&i.a.createElement(me.a,{to:this.state.backAction,className:"popup-cross"},"\xd7"),i.a.createElement("span",{className:"popup-blue-name"},this.state.settingsLang.pos_add_pos_account_details)),i.a.createElement("div",{className:"wide-popup-wrapper time-line"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-6"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.settingsLang.pos_account_type,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("select",{autoComplete:"off",className:"setting-select-box",name:"type",value:this.state.type,onChange:this.handleInputChange},i.a.createElement("option",{value:""},this.state.settingsLang.pos_select_account_type),this.state.typeList.map(function(e,t){return i.a.createElement("option",{key:"typeList-"+t,value:e.value},e.label)}))))),i.a.createElement("div",{className:"col-sm-6"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.globalLang.label_country,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},this.state.show_countries_status?i.a.createElement("select",{autoComplete:"off",className:"setting-select-box",name:"country",value:this.state.country,onChange:this.handleInputChange},i.a.createElement("option",{value:""},this.state.globalLang.signup_select_country),this.state.countryList.map(function(e,t){return i.a.createElement("option",{key:"countryList-"+t,value:e.country_code},e.country_name)})):i.a.createElement("input",{autoComplete:"off",className:"setting-input-box",name:"country_currency_label",readOnly:"readOnly",value:this.state.countryCurrencyLabel,onChange:this.handleInputChange}))))),i.a.createElement("div",{className:"row"},this.state.verificationData.length>0&&this.state.verificationData.map(function(t,a){return i.a.createElement("div",{key:"verificationData-"+a,className:"col-sm-6"},i.a.createElement("div",{className:"setting-field-outer",key:"verificationData-field-"+a},i.a.createElement("div",{className:"new-field-label"},t.place_holder,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},"file"==t.type?i.a.createElement("div",{className:"main-profile-picture pos-doc-verification"},i.a.createElement("div",{className:"file-container file-upload-img"},i.a.createElement("img",{src:"/../../../../../images/upload.png"}),i.a.createElement("span",{className:"file-name-hide no-display"}),i.a.createElement("span",{className:"file-size-hide no-display"}),i.a.createElement("div",{className:t.error?"upload error-color":"upload"},""==t.value?"Upload":"Change",i.a.createElement("input",{type:"file",className:t.className,name:t.field_name,onChange:e.handleInputChange,"data-field-index":a})))):"dob"==t.field_name?i.a.createElement(xn.a,{className:t.className,selected:t.value?t.value:null,dateFormat:"yyyy-MM-dd",onChange:e.onChangeDatePicker.bind(e,a),maxDate:new Date(Se()().subtract(13,"years").toDate()),minDate:new Date(Se()().subtract(100,"years").toDate()),showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",autoComplete:"off",name:t.field_name,"data-field-index":a}):i.a.createElement("input",{autoComplete:"off",type:"text",className:t.className,name:t.field_name,value:t.value,placeholder:t.place_holder,onChange:e.handleInputChange,"data-field-index":a}))))}),this.state.verificationData.length>0&&1==this.state.show_countries_status&&i.a.createElement("div",{className:"col-sm-6"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.settingsLang.setting_currency,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("select",{autoComplete:"off",className:"setting-select-box",name:"defaultCurrency",value:this.state.defaultCurrency,onChange:this.handleInputChange},this.state.currencyList.map(function(e,t){return i.a.createElement("option",{key:"currencyList-"+t,value:e.value},e.label)})))))),i.a.createElement("div",{className:"row"},this.state.verificationData.length>0&&i.a.createElement("button",{type:"button",className:"new-blue-btn pull-right",onClick:this.handleSubmit},this.state.globalLang.label_save))),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.globalLang.Please_Wait)))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}},{key:"initialState",get:function(){var e=JSON.parse(localStorage.getItem("languageData"));return{settingsLang:e.settings,globalLang:e.global,showLoader:!1,backAction:"/settings/pos",posSetupData:{},posAdditionalSetupData:{},verificationData:[],userChanged:!1,userChangedAdditional:!1,type:"",country:"",typeClass:"setting-select-box",countryClass:"setting-select-box",typeList:[],countryList:[],currencyList:[],show_countries_status:!0,defaultCountry:"US",defaultCurrency:"USD",countryCurrencyLabel:"",clinicId:0}}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};if(void 0!==e.posSetupData&&e.posSetupData!==t.posSetupData){if(a.posSetupData=e.posSetupData,a.show_countries_status=a.posSetupData.show_countries_status,a.defaultCountry=a.posSetupData.default_country,a.defaultCurrency=a.posSetupData.default_currency,a.countryList=a.posSetupData.stripe_countries,a.typeList=a.posSetupData.business_type,!a.show_countries_status){a.country=a.defaultCountry;var s=a.countryList.length>0?a.countryList.find(function(e){return e.country_code==a.defaultCountry}):null;s&&(s=s.country_name),a.countryCurrencyLabel=je(s)+" (".concat(a.defaultCurrency.toUpperCase(),")")}a.showLoader=!1}else if(void 0!==e.posAdditionalSetupData&&e.posAdditionalSetupData!==t.posAdditionalSetupData){a.posAdditionalSetupData=e.posAdditionalSetupData,a.currencyList=a.posAdditionalSetupData.currencies,a.defaultCurrency=a.posAdditionalSetupData.default_currency;var n=[];a.posAdditionalSetupData.verification_fields.map(function(e,t){var a={};(a=e).value="dob"==e.field_name?new Date(Se()().subtract(13,"years").toDate()):"",a.error=!1,"legal_entity.verification.document"==e.field_name?(a.type="file",a.className="image_questionnaire"):(a.type="text",a.className="setting-input-box dynamic-fields"),n.push(a)}),a.verificationData=n,a.showLoader=!1}else void 0!=e.redirect&&1==e.redirect?e.status?rt.toast.success(e.message,{onClose:function(){e.history.push(t.backAction)}}):rt.toast.error(e.message,{onClose:function(){e.history.push(t.backAction)}}):void 0!=e.showLoader&&0==e.showLoader&&(a.showLoader=!1,e.exportEmptyData());return a}}]),t}(n.Component);var Tv=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData")),a={};return"GET_POS_SETUP_DATA"===e.SettingReducer.action?200!=e.SettingReducer.data.status?(rt.toast.error(t.global[e.SettingReducer.data.message]),a.showLoader=!1):a.posSetupData=e.SettingReducer.data.data:"GET_POS_ADDITIONAL_SETUP_DATA"===e.SettingReducer.action?200!=e.SettingReducer.data.status?("third_party_error"==e.SettingReducer.data.message?rt.toast.error(e.SettingReducer.data.data):rt.toast.error(t.global[e.SettingReducer.data.message]),a.showLoader=!1):a.posAdditionalSetupData=e.SettingReducer.data.data:"SAVE_POS_SETUP_DATA"===e.SettingReducer.action?200!=e.SettingReducer.data.status?(a.message=t.global[e.SettingReducer.data.message],"third_party_error"==e.SettingReducer.data.message?(rt.toast.error(e.SettingReducer.data.data),a.showLoader=!1):(a.message=t.global[e.SettingReducer.data.message],a.redirect=!0,a.status=!1)):(a.message=t.global[e.SettingReducer.data.message],a.redirect=!0,a.status=!0):e.SettingReducer.action,a},function(e){return Object(c.bindActionCreators)({getPosSetupData:ao,getPosAdditionalSetupData:so,savePosSetupData:no,exportEmptyData:br},e)})(Object(de.a)(Av)),Iv=function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).onPhoneNumberChange=function(e,t,s,n,i){var r,o,l=i,c=!0,d="setting-input-box setting-input-box-invalid";t&&(l=i.replace(/[ `~!@#$%^&*()_|\-=?;:'",.<>\{\}\[\]\\\/]/gi,""),c=!1,d="setting-input-box");r={},Object(se.a)(r,e,l),Object(se.a)(r,e+"Error",c),Object(se.a)(r,e+"Class",d),Object(se.a)(r,"userChanged",!0);a.setState({phoneNumberClass:d,phoneNumberError:c,value:l,userChanged:!0}),a.props.onPhoneNumberChange((o={},Object(se.a)(o,e,l),Object(se.a)(o,e+"Error",c),Object(se.a)(o,e+"Class",d),Object(se.a)(o,"userChanged",!0),o))},a.state={userChanged:!1,country:a.props.country?a.props.country:"us",phoneNumberClass:a.props.class?a.props.class:"setting-input-box",phoneNumberError:!1,value:a.props.value?a.props.value:""},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"render",value:function(){return this.props.isRender?i.a.createElement(zt.a,{preferredCountries:["tw"],css:["intl-tel-input",this.state.phoneNumberClass],utilsScript:"libphonenumber.js",defaultValue:this.state.value,defaultCountry:this.state.country,fieldName:this.props.name,onPhoneNumberChange:this.onPhoneNumberChange.bind(this,this.props.name),onPhoneNumberBlur:this.onPhoneNumberChange.bind(this,this.props.name),placeholder:this.props.placeholder,autoComplete:"new-password"}):null}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};return void 0!==e.class&&e.class!==t.phoneNumberClass&&(a.phoneNumberClass=e.class),void 0!==e.value&&e.value!==t.value&&(a.value=e.value),a}}]),t}(i.a.Component),Rv=function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){a.setState({userChanged:!0});var t=e.target,s="checkbox"==t.type?t.checked:t.value,n=t.name;"is_swipe_enabled"===n?s?(a.setState({name:void 0!==a.state.merchant_info.name?a.state.merchant_info.name:"",nameClass:"setting-input-box",address:void 0!==a.state.merchant_info.address?a.state.merchant_info.address:"",addressClass:"setting-input-box",zip:void 0!==a.state.merchant_info.zip?a.state.merchant_info.zip:"",zipClass:"setting-input-box",email:void 0!==a.state.merchant_info.email?a.state.merchant_info.email:"",emailClass:"setting-input-box",city:void 0!==a.state.merchant_info.city?a.state.merchant_info.city:"",cityClass:"setting-input-box",contact_number:void 0!==a.state.merchant_info.contact_number?a.state.merchant_info.contact_number:"",contactNumberClass:"setting-input-box",country:void 0!==a.state.country?a.state.country:"",countryClass:"setting-select-box",isShowAddMerchentModal:!0}),Ke(!0)):a.setState({isShowAlertModal:!0,alertModalContent:a.state.settingsLang.pos_card_reader_delete_alert_msg,alertModalType:"change_card_reader_status"}):a.setState(Object(se.a)({},n,s))},a.addPosCardReaderMarchent=function(e){e.target.name;var t=!1;if(void 0===typeof a.state.name||null===a.state.name||""===a.state.name?(a.setState({nameClass:"setting-input-box field_error"}),t=!0):a.state.name&&a.setState({nameClass:"setting-input-box"}),void 0!==typeof a.state.email&&null!==a.state.email&&""!==a.state.email&&nt.a.isEmail(a.state.email)?a.state.email&&a.setState({emailClass:"setting-input-box"}):(a.setState({emailClass:"setting-input-box field_error"}),t=!0),void 0===typeof a.state.address||null===a.state.address||""===a.state.address?(a.setState({addressClass:"setting-input-box field_error"}),t=!0):a.state.address&&a.setState({addressClass:"setting-input-box"}),void 0===typeof a.state.city||null===a.state.city||""===a.state.city?(a.setState({cityClass:"setting-input-box field_error"}),t=!0):a.state.city&&a.setState({cityClass:"setting-input-box"}),void 0===typeof a.state.zip||null===a.state.zip||""===a.state.zip?(a.setState({zipClass:"setting-input-box field_error"}),t=!0):a.state.zip&&a.setState({zipClass:"setting-input-box"}),void 0===typeof a.state.country||null===a.state.country||""===a.state.country?(a.setState({countryClass:"setting-select-box field_error"}),t=!0):a.state.country&&a.setState({countryClass:"setting-select-box"}),void 0===a.state.contact_number||null===a.state.contact_number||""===a.state.contact_number||!0===a.state.contact_numberError?(t=!0,a.setState({contact_numberClass:"setting-input-box setting-input-box-invalid"})):a.setState({contact_numberClass:"setting-input-box"}),!t){var s={name:a.state.name,email:a.state.email,address:a.state.address,city:a.state.city,zip:a.state.zip,contact_number:a.state.contact_number,country:a.state.country,clinic_id:a.state.clinicId};a.setState({showLoaderAddMerchent:!0}),a.props.addPosCardReaderMarchent(s)}},a.dismissAddMerchentModal=function(){Ke(!1),a.setState({isShowAddMerchentModal:!1})},a.addPosCardReaderDevice=function(e){e.target.name;var t=!1;if(void 0===typeof a.state.serial_number||null===a.state.serial_number||""===a.state.serial_number?(a.setState({serialNumberClass:"setting-input-box field_error"}),t=!0):a.state.serial_number&&a.setState({serialNumberClass:"setting-input-box"}),!t){var s={serial_number:a.state.serial_number,clinic_id:a.state.clinicId};a.setState({showLoaderAddDevice:!0}),a.props.addPosCardReaderDevice(s)}},a.handleAddDeviceModal=function(){a.state.isShowAddDeviceModal||a.setState({serial_number:"",serialNumberClass:"setting-input-box"}),Ke(!a.state.isShowAddDeviceModal),a.setState({isShowAddDeviceModal:!a.state.isShowAddDeviceModal})},a.showDetachCardReaderModal=function(e){var t={reader_identifier:e.reader_identifier,serial_number:e.serial_number,merchant_identifier:a.state.merchant_info.merchant_identifier};a.setState({detechDeviceData:t,isShowAlertModal:!0,alertModalContent:a.state.settingsLang.pos_card_reader_detach_device_alert_msg,alertModalType:"detach_card_reader"}),Ke(!0)},a.dismissAlertModal=function(){a.setState(Object(se.a)({detechDeviceData:{},isShowAlertModal:!1,alertModalContent:""},"alertModalContent","")),Ke(!1)},a.deletePosCardReaderDevice=function(){var e={clinic_id:a.state.clinicId,reader_identifier:a.state.detechDeviceData.reader_identifier,serial_number:a.state.detechDeviceData.serial_number,merchant_identifier:a.state.detechDeviceData.merchant_identifier};a.setState({showLoader:!0}),a.props.deletePosCardReaderDevice(e),a.dismissAlertModal(),Ke(!1)},a.changePosCardReaderStatus=function(){a.setState({showLoader:!0}),a.props.changePosCardReaderStatus({clinic_id:a.state.clinicId}),a.dismissAlertModal(),Ke(!1)},a.onPhoneNumberChange=function(e){a.setState(e)},a.state=a.initialState,a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){this.setState({showLoader:!0});var e=this.props.match.params.clinicId;e?this.setState({clinicId:e}):e=0,this.props.getPosCardReaderData(e)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"wide-popup"},i.a.createElement("div",{className:"modal-blue-header"},0==this.state.showLoader&&i.a.createElement(me.a,{to:this.state.backAction,className:"popup-cross"},"\xd7"),i.a.createElement("span",{className:"popup-blue-name"},this.state.clinic_name?this.state.clinic_name+" - ":null," ",this.state.settingsLang.pos_card_reader)),i.a.createElement("div",{className:"wide-popup-wrapper time-line no-table m-t-50"},i.a.createElement("div",{className:"card-reader-outer"},i.a.createElement("span",{className:"setting-custom-switch pull-right pos-enable-disable"},i.a.createElement("span",{id:"enabled-text"},this.state.is_swipe_enabled?this.state.settingsLang.twoFA_enabled:this.state.settingsLang.twoFA_disabled," ",this.state.settingsLang.pos_card_present_swipe_card),i.a.createElement("label",{className:"setting-switch pull-right"},i.a.createElement("input",{type:"checkbox",name:"is_swipe_enabled",checked:!!this.state.is_swipe_enabled&&"checked",onChange:this.handleInputChange,className:" setting-custom-switch-input"}),i.a.createElement("span",{className:"setting-slider colored-slider"}))),this.state.is_swipe_enabled&&i.a.createElement("div",null,i.a.createElement("div",{className:"card-reader-info"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-3 card-reader-label"},this.state.settingsLang.pos_merchant_identifier),i.a.createElement("div",{className:"col-sm-9 card-reader-data"},void 0!==this.state.merchant_info.merchant_identifier?this.state.merchant_info.merchant_identifier:"")),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-3 card-reader-label"},this.state.settingsLang.pos_connected_on),i.a.createElement("div",{className:"col-sm-9 card-reader-data"},void 0!==this.state.merchant_info.created_at?this.state.merchant_info.created_at:""))),i.a.createElement("div",{className:"juvly-subtitle m-t-20 m-b-20"},this.state.settingsLang.pos_card_readers," ",i.a.createElement("a",{href:"javascript:void(0);",className:"new-blue-btn sm-btn pull-right",onClick:this.handleAddDeviceModal},this.state.settingsLang.pos_attach_Card_reader)),i.a.createElement("div",{className:"table-responsive"},i.a.createElement("table",{className:"table-updated setting-table no-hover table-min-width"},i.a.createElement("thead",{className:"table-updated-thead"},i.a.createElement("tr",null,i.a.createElement("th",{className:"col-xs-3 table-updated-th"},this.state.settingsLang.pos_model),i.a.createElement("th",{className:"col-xs-3 table-updated-th"},this.state.settingsLang.pos_serial_number),i.a.createElement("th",{className:"col-xs-3 table-updated-th"},this.state.globalLang.label_status),i.a.createElement("th",{className:"col-xs-3 table-updated-th"},this.state.globalLang.label_action))),i.a.createElement("tbody",null,this.state.assignedDeviceList.length>0?this.state.assignedDeviceList.map(function(t,a){return i.a.createElement("tr",{key:"assignedDeviceList-"+a},i.a.createElement("th",{className:"col-xs-3 table-updated-th"},t.model),i.a.createElement("th",{className:"col-xs-3 table-updated-th"},t.serial_number),i.a.createElement("th",{className:"col-xs-3 table-updated-th"},t.status),i.a.createElement("th",{className:"col-xs-3 table-updated-th"},i.a.createElement("a",{href:"javascript:void(0);",className:"easy-link",onClick:e.showDetachCardReaderModal.bind(e,t)},e.state.settingsLang.pos_detach_card_reader)))}):i.a.createElement("tr",{className:"table-updated-tr"},i.a.createElement("td",{className:"table-updated-td text-center",colSpan:4},i.a.createElement("div",{className:"no-record"},this.state.globalLang.sorry_no_record_found)))))),i.a.createElement("p",{className:"p-text card-reader-note"},i.a.createElement("b",null,this.state.globalLang.label_note,":"),this.state.settingsLang.pos_card_reader_attached_msg)))),i.a.createElement(hd,{showLoader:this.state.showLoader})),i.a.createElement("div",{className:this.state.isShowAddMerchentModal?"modalOverlay":"no-display"},i.a.createElement("div",{className:"small-popup-outer no-popup-scroll"},i.a.createElement("div",{className:"small-popup-header"},i.a.createElement("div",{className:"popup-name"},this.state.settingsLang.pos_enable_card_swiping),i.a.createElement("a",{href:"javascript:void(0);",onClick:this.dismissAddMerchentModal,className:"small-cross"},"\xd7")),i.a.createElement("div",{className:"small-popup-content"},i.a.createElement("div",{className:"juvly-container no-padding-bottom"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.settingsLang.pos_name," ",i.a.createElement("span",{className:"required"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:"name",value:this.state.name,onChange:this.handleInputChange,className:this.state.nameClass,type:"text",autoComplete:"off",placeholder:this.state.settingsLang.pos_enter_name})))),i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.settingsLang.pos_email," ",i.a.createElement("span",{className:"required"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:"email",value:this.state.email,onChange:this.handleInputChange,className:this.state.emailClass,type:"text",autoComplete:"off",placeholder:this.state.settingsLang.pos_enter_email})))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.settingsLang.pos_address," ",i.a.createElement("span",{className:"required"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:"address",value:this.state.address,onChange:this.handleInputChange,className:this.state.addressClass,type:"text",autoComplete:"off",placeholder:this.state.settingsLang.pos_enter_address})))),i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.settingsLang.pos_zip_code," ",i.a.createElement("span",{className:"required"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:"zip",value:this.state.zip,onChange:this.handleInputChange,className:this.state.zipClass,type:"text",autoComplete:"off",placeholder:this.state.settingsLang.pos_enter_zip_code})))),i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.settingsLang.pos_city," ",i.a.createElement("span",{className:"required"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:"city",value:this.state.city,onChange:this.handleInputChange,className:this.state.cityClass,type:"text",autoComplete:"off",placeholder:this.state.settingsLang.pos_enter_city})))),i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.settingsLang.pos_phone," ",i.a.createElement("span",{className:"required"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement(Iv,{name:"contact_number",value:this.state.contact_number,class:this.state.contact_numberClass,onPhoneNumberChange:this.onPhoneNumberChange,isRender:this.state.isShowAddMerchentModal,placeholder:this.state.settingsLang.pos_enter_contact_number})))),i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.globalLang.label_country," ",i.a.createElement("span",{className:"required"},"*")),i.a.createElement("select",{name:"country",value:this.state.country,onChange:this.handleInputChange,className:this.state.countryClass},i.a.createElement("option",{value:""},"Select Country"),void 0!==this.state.countryList&&this.state.countryList.length>0&&this.state.countryList.map(function(e,t){return i.a.createElement("option",{key:"countryList-"+t,value:e.country_code},e.country_name)}))))))),i.a.createElement("div",{className:"footer-static"},i.a.createElement("a",{href:"javascript:void(0);",className:"new-blue-btn pull-right",onClick:this.addPosCardReaderMarchent},this.state.globalLang.label_save),i.a.createElement("a",{href:"javascript:void(0);",onClick:this.dismissAddMerchentModal,className:"new-white-btn pull-right"},this.state.globalLang.label_cancel)),i.a.createElement(hd,{showLoader:this.state.showLoaderAddMerchent}))),i.a.createElement("div",{className:this.state.isShowAddDeviceModal?"modalOverlay":"no-display"},i.a.createElement("div",{className:"small-popup-outer"},i.a.createElement("div",{className:"small-popup-header"},i.a.createElement("div",{className:"popup-name"},this.state.settingsLang.pos_attach_Card_reader),i.a.createElement("a",{href:"javascript:void(0);",onClick:this.handleAddDeviceModal,className:"small-cross"},"\xd7")),i.a.createElement("div",{className:"small-popup-content"},i.a.createElement("div",{className:"juvly-container no-padding-bottom"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-12 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.settingsLang.pos_serial_number," ",i.a.createElement("span",{className:"required"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:"serial_number",value:this.state.serial_number,onChange:this.handleInputChange,className:this.state.serialNumberClass,type:"text",autoComplete:"off"}))))))),i.a.createElement("div",{className:"footer-static"},i.a.createElement("a",{href:"javascript:void(0);",className:"new-blue-btn pull-right",onClick:this.addPosCardReaderDevice},this.state.globalLang.label_save),i.a.createElement("a",{href:"javascript:void(0);",onClick:this.handleAddDeviceModal,className:"new-white-btn pull-right"},this.state.globalLang.label_cancel)),i.a.createElement(hd,{showLoader:this.state.showLoaderAddDevice}))),i.a.createElement("div",{className:this.state.isShowAlertModal?"modalOverlay":"no-display"},i.a.createElement("div",{className:"small-popup-outer"},i.a.createElement("div",{className:"small-popup-header"},i.a.createElement("div",{className:"popup-name"},this.state.globalLang.label_alert),i.a.createElement("a",{href:"javascript:void(0);",className:"small-cross",onClick:this.dismissAlertModal},"\xd7")),i.a.createElement("div",{className:"small-popup-content"},i.a.createElement("div",{className:"juvly-container no-padding-bottom"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-12 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},"warning"!=this.state.alertModalType&&i.a.createElement("div",{className:"new-field-label alert-modal-title"},this.state.globalLang.are_you_sure),i.a.createElement("div",{className:"new-field-label alert-modal-content"},this.state.alertModalContent)))))),i.a.createElement("div",{className:"footer-static"},i.a.createElement("a",{href:"javascript:void(0);",className:"new-white-btn pull-right",onClick:this.dismissAlertModal},this.state.globalLang.label_cancel),"detach_card_reader"===this.state.alertModalType&&i.a.createElement("a",{href:"javascript:void(0);",className:"new-red-btn pull-left",onClick:this.deletePosCardReaderDevice},this.state.settingsLang.pos_yes_disconnect_it),"change_card_reader_status"===this.state.alertModalType&&i.a.createElement("a",{href:"javascript:void(0);",className:"new-red-btn pull-left",onClick:this.changePosCardReaderStatus},this.state.settingsLang.yes_disable_it)))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}},{key:"initialState",get:function(){var e=JSON.parse(localStorage.getItem("languageData"));return{settingsLang:e.settings,globalLang:e.global,showLoader:!1,backAction:"/settings/pos",clinicId:0,posCardReaderData:{},clinic_name:"",is_swipe_enabled:!1,show_countries_status:!1,defaultCountry:{},merchant_info:{},isShowAddMerchentModal:!1,showLoaderAddMerchent:!1,name:"",nameClass:"setting-input-box",address:"",addressClass:"setting-input-box",zip:"",zipClass:"setting-input-box",email:"",emailClass:"setting-input-box",city:"",cityClass:"setting-input-box",contact_number:"",contact_numberClass:"setting-input-box",contact_numberError:!1,country:"",countryClass:"setting-select-box",isShowAddDeviceModal:!1,showLoaderAddDevice:!1,serial_number:"",serialNumberClass:"setting-input-box",isShowAlertModal:!1,alertModalType:"",alertModalContent:"",detechDeviceData:{},countryList:[]}}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};return void 0!==e.posCardReaderData&&e.posCardReaderData!==t.posCardReaderData?(a.posCardReaderData=e.posCardReaderData,a.is_swipe_enabled=!!e.posCardReaderData.is_swipe_enabled,a.clinic_name=e.posCardReaderData.clinic_name,a.assignedDeviceList=e.posCardReaderData.assigned_devices,a.countryList=e.posCardReaderData.countries,a.defaultCountry=e.posCardReaderData.default_country,a.showLoader=!1,a.isShowAddMerchentModal=!1,a.showLoaderAddMerchent=!1,a.isShowAddDeviceModal=!1,a.showLoaderAddDevice=!1,a.detechDeviceData={},a.isShowAlertModal=!1,a.merchant_info=e.posCardReaderData.merchant_info?e.posCardReaderData.merchant_info:{},a.country=void 0!==a.merchant_info.country?a.merchant_info.country:"",Ke(!1)):void 0!=e.showLoader&&0==e.showLoader&&(a.showLoader=!1,a.showLoaderAddMerchent=!1,a.showLoaderAddDevice=!1,e.exportEmptyData()),a}}]),t}(n.Component);var kv=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData")),a={};return"GET_POS_CARD_READER_DATA"===e.SettingReducer.action?200!=e.SettingReducer.data.status?(rt.toast.error(t.global[e.SettingReducer.data.message]),a.showLoader=!1):a.posCardReaderData=e.SettingReducer.data.data:"CHANGE_POS_CARD_READER_STATUS"===e.SettingReducer.action?200!=e.SettingReducer.data.status?(a.message=t.global[e.SettingReducer.data.message],"third_party_error"==e.SettingReducer.data.message?rt.toast.error(e.SettingReducer.data.data):rt.toast.error(t.global[e.SettingReducer.data.message]),a.showLoader=!1):(rt.toast.success(t.global[e.SettingReducer.data.message]),a.posCardReaderData=e.SettingReducer.data.data):"ADD_POS_CARD_READER_MERCHENT"===e.SettingReducer.action?200!=e.SettingReducer.data.status?("third_party_error"==e.SettingReducer.data.message?rt.toast.error(e.SettingReducer.data.data):rt.toast.error(t.global[e.SettingReducer.data.message]),a.showLoader=!1):(rt.toast.success(t.global[e.SettingReducer.data.message]),a.posCardReaderData=e.SettingReducer.data.data):"ADD_POS_CARD_READER_DEVICE"===e.SettingReducer.action?200!=e.SettingReducer.data.status?("third_party_error"==e.SettingReducer.data.message?rt.toast.error(e.SettingReducer.data.data):rt.toast.error(t.global[e.SettingReducer.data.message]),a.showLoader=!1):(rt.toast.success(t.global[e.SettingReducer.data.message]),a.posCardReaderData=e.SettingReducer.data.data):"DELETE_POS_CARD_READER_DEVICE"===e.SettingReducer.action?200!=e.SettingReducer.data.status?("third_party_error"==e.SettingReducer.data.message?rt.toast.error(e.SettingReducer.data.data):rt.toast.error(t.global[e.SettingReducer.data.message]),a.showLoader=!1):(rt.toast.success(t.global[e.SettingReducer.data.message]),a.posCardReaderData=e.SettingReducer.data.data):e.SettingReducer.action,a},function(e){return Object(c.bindActionCreators)({getPosCardReaderData:Eo,changePosCardReaderStatus:No,addPosCardReaderMarchent:yo,addPosCardReaderDevice:So,deletePosCardReaderDevice:Do,exportEmptyData:br},e)})(Object(de.a)(Rv)),Pv=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,s=t.value,n=t.name,i={dataChanged:!0};n===a.state.account_input_label?i.account_input_value=s:("payout_interval"===n&&(i.payout_anchor=""),i[n]=s),a.setState(i)},a.handleSubmit=function(e){},a.handleBankAccountModal=function(e){Ke(!a.state.isShowBankAccountModal),a.setState({isShowBankAccountModal:!a.state.isShowBankAccountModal})},a.getPosBankAccountFields=function(e){var t=e.target.dataset.clinicId;t>=0&&(a.setState({showLoader:!0,addBankClinicId:t}),a.props.getPosBankAccountFields(t))},a.addPosBankAccount=function(e){var t=!1;if(void 0===typeof a.state.account_holder_name||null===a.state.account_holder_name||""===a.state.account_holder_name.trim()?(a.setState({accountHolderNameCalss:"setting-input-box field_error"}),t=!0):a.state.account_holder_name&&a.setState({accountHolderNameCalss:"setting-input-box"}),void 0===typeof a.state.account_input_value||null===a.state.account_input_value||""===a.state.account_input_value.trim()?(a.setState({accountInputLableCalss:"setting-input-box field_error"}),t=!0):a.state.account_input_value&&a.setState({accountInputLableCalss:"setting-input-box"}),a.state.show_routing_number&&(void 0===typeof a.state.routing_number||null===a.state.routing_number||""===a.state.routing_number.trim()?(a.setState({routingNumberCalss:"setting-input-box field_error"}),t=!0):a.state.routing_number&&a.setState({routingNumberCalss:"setting-input-box"})),!t){var s={account_number:a.state.account_input_value,clinic_id:a.state.addBankClinicId,account_holder_name:a.state.account_holder_name,country:void 0!==a.state.bankDefaultCountry&&void 0!==a.state.bankDefaultCountry.value?a.state.bankDefaultCountry.value:"",currency:a.state.bankDefaultCurrency};a.state.show_routing_number&&(s.routing_number=a.state.routing_number),a.state.addBankClinicId>=0&&(a.setState({showLoaderAddBank:!0}),a.props.addPosBankAccount(s))}},a.setPosDefaultBnkAccount=function(){""!==a.state.defaultBankIdentifier&&(a.setState({showLoader:!0}),a.props.setPosDefaultBnkAccount({bank_identifier:a.state.defaultBankIdentifier})),a.handleAlertModal()},a.handleAlertModal=function(e){Ke(!a.state.isShowAlertModal),e=""!==e?e:"",a.setState({isShowAlertModal:!a.state.isShowAlertModal,defaultBankIdentifier:e})},a.handlePayoutScheduleModal=function(){Ke(!a.state.isShowPayoutScheduleModal),a.setState({isShowPayoutScheduleModal:!a.state.isShowPayoutScheduleModal})},a.setPosPayoutScheduleData=function(e,t){a.setState({payout_type:"manual"==t.payout_interval?"manual":"automatic",payout_interval:"manual"==t.payout_interval?"daily":t.payout_interval,payout_anchor:t.payout_anchor?t.payout_anchor:"",payoutScheduleClinicId:e,isShowPayoutScheduleModal:!0}),Ke(!0)},a.updatePosPayoutScheduleData=function(e){var t=!1;if(void 0===typeof a.state.payout_type||null===a.state.payout_type||""===a.state.payout_type?(a.setState({payoutTypeCalss:"setting-select-box field_error"}),t=!0):a.state.payout_type&&a.setState({payoutTypeCalss:"setting-select-box"}),"automatic"===a.state.payout_type&&(void 0===typeof a.state.payout_interval||null===a.state.payout_interval||""===a.state.payout_interval?(a.setState({payoutIntervalCalss:"setting-select-box field_error"}),t=!0):a.state.payout_interval&&a.setState({payoutIntervalCalss:"setting-select-box"}),"weekly"!==a.state.payout_interval&&"monthly"!==a.state.payout_interval||(void 0===typeof a.state.payout_anchor||null===a.state.payout_anchor||""===a.state.payout_anchor?(a.setState({payoutAnchorCalss:"setting-select-box field_error"}),t=!0):a.state.payout_anchor&&a.setState({payoutAnchorCalss:"setting-select-box"}))),!t){var s={payout_type:a.state.payout_type,payout_interval:a.state.payout_interval,clinic_id:a.state.payoutScheduleClinicId};a.state.payout_anchor&&(s.payout_anchor=a.state.payout_anchor),a.state.payoutScheduleClinicId>=0&&(a.setState({showLoaderPayoutSchedule:!0}),a.props.updatePosPayoutScheduleData(s))}},a.renderObjectOption=function(e,t){var s=[i.a.createElement("option",{value:""},"weekly"===t?a.state.settingsLang.pos_select_day_of_week:a.state.settingsLang.pos_select_a_day)];return Object.keys(e).forEach(function(a){s.push(i.a.createElement("option",{key:t+"-"+a,value:a},e[a]))}),s},a.renderPayoutSchedule=function(e){var t="",s="";return e.payout_interval?"manual"===e.payout_interval?(s=a.state.settingsLang.pos_you_will_no_longer_be_able_to_see_transactions,t=a.state.settingsLang.pos_payout_manual):(t=a.state.settingsLang.pos_payout_automatic,"daily"==e.payout_interval?s="".concat(je(e.payout_interval)," ").concat(e.payout_daily_delay_days," ").concat(a.state.settingsLang.pos_day_rolling_basis):"weekly"==e.payout_interval?s="".concat(je(e.payout_interval)," ").concat(a.state.settingsLang.pos_every," ").concat(je(e.payout_anchor)):"monthly"==e.payout_interval&&(s="".concat(je(e.payout_interval)," ").concat(a.state.settingsLang.pos_on_the_day," ").concat(e.payout_anchor))):s=a.state.settingsLang.Npos_no_schedule_found,i.a.createElement("div",{className:"bank-account"},i.a.createElement("strong",null,t)," - ",s)};var s=JSON.parse(localStorage.getItem("languageData"));return a.state={settingsLang:s.settings,globalLang:s.global,posPaymentData:{},bankConfigClinic:[],bankConfigGlobal:[],connectionMode:"clinic",defaultCurrency:"usd",hasClinicBankAccount:!1,showBankNotAddedAlert:!1,pos_enabled:!1,showLoader:!1,addBankClinicId:0,posBankAccountData:{},account_input_label:"",account_input_place_holder:"",account_input_value:"",account_holder_name:"",routing_number:"",show_routing_number:!1,bankDefaultCountry:{},bankDefaultCurrency:"",accountInputLableCalss:"setting-input-box",accountHolderNameCalss:"setting-input-box",routingNumberCalss:"setting-input-box",showLoaderAddBank:!1,isShowBankAccountModal:!1,payoutScheduleClinicId:0,payout_anchor:"",payout_type:"automatic",payout_inteval:"daily",payout_daily_delay_days:"2",payoutMonthList:{},payoutWeekList:{},payoutTypeCalss:"setting-select-box",payoutIntervalCalss:"setting-select-box",payoutAnchorCalss:"setting-select-box",showLoaderPayoutSchedule:!1,isShowPayoutScheduleModal:!1,isShowAlertModal:!1,defaultBankIdentifier:""},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){JSON.parse(localStorage.getItem("languageData"));this.setState({showLoader:!0}),this.props.getPosPaymentSettingData()}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"main protected"},i.a.createElement(Aa,null),i.a.createElement("div",{id:"content",className:"content-pos-payment-settings"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(ps,null),i.a.createElement("div",{className:"setting-setion"},("global"===this.state.connectionMode&&void 0!==this.state.bankConfigGlobal&&(void 0===typeof this.state.bankConfigGlobal.account_bank_config||void 0!==typeof this.state.bankConfigGlobal.account_bank_config&&0===this.state.bankConfigGlobal.account_bank_config.length)||"clinic"===this.state.connectionMode&&!1===this.state.hasClinicBankAccount)&&i.a.createElement("div",{className:"verification-field-warning"},i.a.createElement("div",{className:"alert"},i.a.createElement("i",{className:"fas fa-exclamation-triangle field-warning-color"}),"\xa0\xa0\xa0\xa0Please add a ",this.state.defaultCurrency.toUpperCase()," ",this.state.settingsLang.pos_denominated_bank_account_to_pay_out_your," ",this.state.defaultCurrency.toUpperCase()," ",this.state.settingsLang.pos_balance,".")),i.a.createElement("div",{className:"setting-container"},i.a.createElement("div",{className:"setting-title m-b-40"},this.state.settingsLang.pos_bank_accounts),i.a.createElement("div",{id:"per-clinic-settings"},"clinic"==this.state.connectionMode&&this.state.bankConfigClinic.length>0&&this.state.bankConfigClinic.map(function(t,a){if(void 0!==t.stripe_user_id&&null!==t.stripe_user_id&&""!==t.stripe_user_id)return i.a.createElement("div",{key:"clinicList-"+a,className:"clinic-account"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-12 m-b-30"},i.a.createElement("b",null,t.clinic_name))),e.state.hasClinicBankAccount&&void 0!==t.account_bank_config&&t.account_bank_config.length>0?i.a.createElement("div",{className:"bank-account-list"},t.account_bank_config.map(function(s,n){return i.a.createElement("div",{key:"clinicList-"+a+"-"+n,className:"row m-b-20"},i.a.createElement("div",{className:"col-md-8 col-xs-12"},i.a.createElement("div",{className:"bank-account"},i.a.createElement("img",{src:"/images/bank-logo.png",className:"bank-logo"}),s.bank_name,"\xa0****\xa0",s.last4,"\xa0/\xa0",s.routing_number,"\xa0",i.a.createElement("div",{className:"payment-transit transit-usd bankusd"},e.state.defaultCurrency))),1!=s.is_default&&i.a.createElement("div",{className:"col-md-4 col-xs-12"},i.a.createElement("a",{href:"javascript:void(0)",onClick:e.handleAlertModal.bind(e,s.bank_identifier),"data-account-type":"clinic","data-clinic-id":t.id,className:"new-white-btn edit-account set-default-bank-acct"},e.state.settingsLang.pos_set_as_default)))}),i.a.createElement("div",{className:"row m-b-20"},i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("a",{href:"javascript:void(0)",onClick:e.getPosBankAccountFields,"data-account-type":"clinic","data-clinic-id":t.id,className:"new-blue-btn add-stripe-bank-acct no-margin"},e.state.settingsLang.pos_add_new_bank_account)))):i.a.createElement("div",{className:"row m-b-20"},i.a.createElement("div",{className:"col-md-8 col-xs-12"},i.a.createElement("div",{className:"bank-account"},e.state.settingsLang.pos_no_bank_account_found)),i.a.createElement("div",{className:"col-md-4 col-xs-12"},i.a.createElement("a",{href:"javascript:void(0)",onClick:e.getPosBankAccountFields,"data-account-type":"clinic","data-clinic-id":t.id,className:"new-blue-btn edit-account add-stripe-bank-acct m-l-0"},e.state.settingsLang.pos_add_new_bank_account))))}),"global"==this.state.connectionMode&&void 0!==this.state.bankConfigGlobal.stripe_user_id&&null!==this.state.bankConfigGlobal.stripe_user_id&&""!==this.state.bankConfigGlobal.stripe_user_id&&i.a.createElement("div",{className:"clinic-account"},void 0!==this.state.bankConfigGlobal.account_bank_config&&this.state.bankConfigGlobal.account_bank_config.length>0?i.a.createElement("div",{className:"bank-account-list"},this.state.bankConfigGlobal.account_bank_config.map(function(t,a){return i.a.createElement("div",{key:"clinicList-"+a,className:"row m-b-20"},i.a.createElement("div",{className:"col-md-8 col-xs-12"},i.a.createElement("div",{className:"bank-account"},i.a.createElement("img",{src:"/images/bank-logo.png",className:"bank-logo"}),t.bank_name,"\xa0****\xa0",t.last4,"\xa0/\xa0",t.routing_number,"\xa0",i.a.createElement("div",{className:"payment-transit transit-usd bankusd"},e.state.defaultCurrency))),1!=t.is_default&&i.a.createElement("div",{className:"col-md-4 col-xs-12"},i.a.createElement("a",{href:"javascript:void(0)",onClick:e.setPosDefaultBnkAccount.bind(e,t.bank_identifier),"data-account-type":"clinic","data-clinic-id":0,className:"new-white-btn edit-account set-default-bank-acct"},e.state.settingsLang.pos_set_as_default)))}),i.a.createElement("div",{className:"row m-b-20"},i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("a",{href:"javascript:void(0)",onClick:this.getPosBankAccountFields,"data-account-type":"clinic","data-clinic-id":0,className:"new-blue-btn add-stripe-bank-acct no-margin"},this.state.settingsLang.pos_add_new_bank_account)))):i.a.createElement("div",{className:"row m-b-20"},i.a.createElement("div",{className:"col-md-8 col-xs-12"},i.a.createElement("div",{className:"bank-account"},this.state.settingsLang.pos_no_bank_account_found)),i.a.createElement("div",{className:"col-md-4 col-xs-12"},i.a.createElement("a",{href:"javascript:void(0)",onClick:this.getPosBankAccountFields,"data-account-type":"clinic","data-clinic-id":0,className:"new-blue-btn edit-account add-stripe-bank-acct m-l-0"},this.state.settingsLang.pos_add_new_bank_account)))))),i.a.createElement("div",{className:"setting-container border-top"},i.a.createElement("div",{className:"setting-title m-b-20"},this.state.settingsLang.pos_payout_schedule),i.a.createElement("p",{className:"p-text m-b-40"},this.state.settingsLang.pos_set_a_schedule_to_automatically_receive_payouts),i.a.createElement("div",{id:"per-clinic-settings-payout"},this.state.hasClinicBankAccount&&"clinic"==this.state.connectionMode&&this.state.bankConfigClinic.length>0&&this.state.bankConfigClinic.map(function(t,a){if(void 0!==t.stripe_user_id&&null!==t.stripe_user_id&&""!==t.stripe_user_id&&void 0!==t.account_bank_config&&t.account_bank_config.length>0)return i.a.createElement("div",{key:"bankConfigClinic-payoutSchedule-"+a,className:"row m-b-20"},i.a.createElement("div",{className:"col-md-4 col-xs-12"},i.a.createElement("b",null,t.clinic_name)),i.a.createElement("div",{className:"col-md-6 col-xs-12"},e.renderPayoutSchedule(t)),i.a.createElement("div",{className:"col-md-2 col-xs-12"},i.a.createElement("a",{href:"javascript:void(0)",className:"new-white-btn edit-account",onClick:e.setPosPayoutScheduleData.bind(e,t.id,t),"data-account-type":"clinic","data-clinic-id":t.id},e.state.globalLang.label_edit)))}),"global"==this.state.connectionMode&&void 0!==this.state.bankConfigGlobal.stripe_user_id&&null!==this.state.bankConfigGlobal.stripe_user_id&&""!==this.state.bankConfigGlobal.stripe_user_id&&i.a.createElement("div",{key:"bankConfigClinic-payoutSchedule-0",className:"row m-b-20"},i.a.createElement("div",{className:"col-md-10 col-xs-12"},this.renderPayoutSchedule(this.state.bankConfigGlobal)),i.a.createElement("div",{className:"col-md-2 col-xs-12"},i.a.createElement("a",{href:"javascript:void(0)",className:"new-white-btn edit-account",onClick:this.setPosPayoutScheduleData.bind(this,0,this.state.bankConfigGlobal),"data-account-type":"clinic","data-clinic-id":0},this.state.globalLang.label_edit))))),i.a.createElement(hd,{showLoader:this.state.showLoader}))),i.a.createElement("div",{className:this.state.isShowBankAccountModal?"modalOverlay":"no-display"},i.a.createElement("div",{className:"small-popup-outer"},i.a.createElement("div",{className:"small-popup-header"},i.a.createElement("div",{className:"popup-name"},this.state.settingsLang.pos_add_bank_details),i.a.createElement("a",{href:"javascript:void(0);",className:"small-cross",onClick:this.handleBankAccountModal},"\xd7")),i.a.createElement("div",{className:"small-popup-content"},i.a.createElement("div",{className:"juvly-container no-padding-bottom"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-6"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.settingsLang.pos_person_business_name," ",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:"account_holder_name",value:this.state.account_holder_name,className:this.state.accountHolderNameCalss,onChange:this.handleInputChange,placeholder:"Person/Business name",type:"text"})))),i.a.createElement("div",{className:"col-sm-6"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.account_input_label," ",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:this.state.account_input_label,value:this.state.account_input_value,className:this.state.accountInputLableCalss,onChange:this.handleInputChange,placeholder:this.state.account_input_place_holder,type:"text"})))),i.a.createElement("div",{className:"col-sm-6"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.globalLang.label_country," ",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:"country",value:void 0!==this.state.bankDefaultCountry&&void 0!==this.state.bankDefaultCountry.label?this.state.bankDefaultCountry.label:"",className:"setting-input-box",onChange:this.handleInputChange,readOnly:"readonly",type:"text"})))),i.a.createElement("div",{className:"col-sm-6"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.settingsLang.setting_currency," ",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:"currency",value:this.state.bankDefaultCurrency.toUpperCase(),onChange:this.handleInputChange,className:"setting-input-box",readOnly:"readonly",type:"text"})))),this.state.show_routing_number&&i.a.createElement("div",{className:"col-sm-6"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.settingsLang.pos_routing_sort_number," ",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:"routing_number",value:this.state.routing_number,className:this.state.routingNumberCalss,onChange:this.handleInputChange,placeholder:11e7,type:"text"}))))))),i.a.createElement("div",{className:"footer-static"},i.a.createElement("a",{href:"javascript:void(0);",className:"new-blue-btn pull-right",onClick:this.addPosBankAccount},this.state.globalLang.label_save),i.a.createElement("a",{href:"javascript:void(0);",className:"new-white-btn pull-right",onClick:this.handleBankAccountModal},this.state.globalLang.label_cancel)),i.a.createElement(hd,{showLoader:this.state.showLoaderAddBank}))),i.a.createElement("div",{className:this.state.isShowPayoutScheduleModal?"modalOverlay":"no-display"},i.a.createElement("div",{className:"small-popup-outer"},i.a.createElement("div",{className:"small-popup-header"},i.a.createElement("div",{className:"popup-name"},this.state.settingsLang.pos_set_payout_schedule),i.a.createElement("a",{href:"javascript:void(0);",className:"small-cross",onClick:this.handlePayoutScheduleModal},"\xd7")),i.a.createElement("div",{className:"small-popup-content"},i.a.createElement("div",{className:"juvly-container no-padding-bottom"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.settingsLang.pos_payout_type," "),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("select",{name:"payout_type",value:this.state.payout_type,onChange:this.handleInputChange,className:this.state.payoutTypeCalss},i.a.createElement("option",{value:"manual"},this.state.settingsLang.pos_payout_manual),i.a.createElement("option",{value:"automatic"},this.state.settingsLang.pos_payout_automatic))))),"automatic"===this.state.payout_type?i.a.createElement("div",{className:"payout-automatic-options "},i.a.createElement("div",{className:"col-sm-6"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.settingsLang.pos_payout_type," "),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("select",{name:"payout_interval",value:this.state.payout_interval,onChange:this.handleInputChange,className:this.state.payoutIntervalCalss},i.a.createElement("option",{value:"daily"},this.state.settingsLang.pos_days),i.a.createElement("option",{value:"weekly"},this.state.settingsLang.pos_every_week),i.a.createElement("option",{value:"monthly"},this.state.settingsLang.pos_every_month))))),("weekly"===this.state.payout_interval||"monthly"===this.state.payout_interval)&&i.a.createElement("div",{className:"col-sm-6 show-hide-payout-on"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.settingsLang.pos_payout_on," ",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("select",{name:"payout_anchor",value:this.state.payout_anchor,onChange:this.handleInputChange,className:this.state.payoutAnchorCalss},"weekly"===this.state.payout_interval?this.renderObjectOption(this.state.payoutWeekList,"weekly"):this.renderObjectOption(this.state.payoutMonthList,"monthly")))))):i.a.createElement("div",{className:"col-sm-12 payout-manual-options"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.settingsLang.pos_you_will_no_longer_be_able_to_see_transactions)))))),i.a.createElement("div",{className:"footer-static"},i.a.createElement("a",{href:"javascript:void(0);",className:"new-blue-btn pull-right",onClick:this.updatePosPayoutScheduleData},this.state.globalLang.label_save),i.a.createElement("a",{href:"javascript:void(0);",className:"new-white-btn pull-right",onClick:this.handlePayoutScheduleModal},this.state.globalLang.label_cancel)),i.a.createElement(hd,{showLoader:this.state.showLoaderPayoutSchedule}))),i.a.createElement("div",{className:this.state.isShowAlertModal?"modalOverlay":"no-display"},i.a.createElement("div",{className:"small-popup-outer"},i.a.createElement("div",{className:"small-popup-header"},i.a.createElement("div",{className:"popup-name"},this.state.globalLang.label_alert),i.a.createElement("a",{href:"javascript:void(0);",className:"small-cross",onClick:this.handleAlertModal},"\xd7")),i.a.createElement("div",{className:"small-popup-content"},i.a.createElement("div",{className:"juvly-container no-padding-bottom"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-12 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label alert-modal-content"},"You are going to set this bank account as default!")))))),i.a.createElement("div",{className:"footer-static"},i.a.createElement("a",{href:"javascript:void(0);",className:"new-white-btn pull-right",onClick:this.handleAlertModal},this.state.globalLang.label_cancel),i.a.createElement("a",{href:"javascript:void(0);",className:"new-red-btn pull-left",onClick:this.setPosDefaultBnkAccount},this.state.globalLang.label_yes))))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};return void 0!==e.posPaymentData&&e.posPaymentData!==t.posPaymentData?(a.posPaymentData=e.posPaymentData,a.bankConfigClinic=a.posPaymentData.clinic_bank_config,a.bankConfigGlobal=a.posPaymentData.global_bank_config,a.connectionMode=a.posPaymentData.connection_method,a.defaultCurrency=a.posPaymentData.default_currency,a.hasClinicBankAccount=a.posPaymentData.has_clinic_bank_account,a.showBankNotAddedAlert=a.posPaymentData.show_bank_not_added_alert,a.pos_enabled=a.posPaymentData.pos_enabled,a.showLoader=!1,a.posBankAccountData={},a.showLoaderAddBank=!1,a.isShowBankAccountModal=!1,a.posPayoutScheduleData={},a.showLoaderPayoutSchedule=!1,a.isShowPayoutScheduleModal=!1,a.payoutMonthList=e.posPaymentData.monthly_opions,a.payoutWeekList=e.posPaymentData.weekly_options,a.addBankClinicId=0,a.payoutScheduleClinicId=0,a.defaultBankIdentifier="",Ke(!1)):void 0!=e.posBankAccountData&&e.posBankAccountData!==t.posBankAccountData?(a.showLoader=!1,a.posBankAccountData=e.posBankAccountData,a.account_input_label=e.posBankAccountData.account_input_label,a.account_input_place_holder=e.posBankAccountData.account_place_holder,a.account_input_value="",a.account_holder_name="",a.routing_number="",a.show_routing_number=e.posBankAccountData.show_routing_number,a.bankDefaultCountry=e.posBankAccountData.default_country,a.bankDefaultCurrency=e.posBankAccountData.default_currency,a.accountInputLableCalss="setting-input-box",a.accountHolderNameCalss="setting-input-box",a.routingNumberCalss="setting-input-box",a.isShowBankAccountModal=!0,Ke(!0),e.exportEmptyData()):void 0!=e.showLoader&&0==e.showLoader&&(a.showLoader=!1,a.showLoaderAddBank=!1,a.showLoaderPayoutSchedule=!1,e.exportEmptyData(),Ke(!1)),a}}]),t}(n.Component);var jv=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData")),a={};return"GET_POS_PAYMENT_SETTING_DATA"===e.SettingReducer.action?200!=e.SettingReducer.data.status?(rt.toast.error(t.global[e.SettingReducer.data.message]),a.showLoader=!1):a.posPaymentData=e.SettingReducer.data.data:"GET_POS_BANK_ACCOUNT_FIELDS"===e.SettingReducer.action?(rt.toast.dismiss(),200!=e.SettingReducer.data.status?("third_party_error"==e.SettingReducer.data.message?rt.toast.error(e.SettingReducer.data.data):rt.toast.error(t.global[e.SettingReducer.data.message]),a.showLoader=!1):a.posBankAccountData=e.SettingReducer.data.data):"ADD_POS_BANK_ACCOUNT"===e.SettingReducer.action?(rt.toast.dismiss(),200!=e.SettingReducer.data.status?("third_party_error"==e.SettingReducer.data.message?rt.toast.error(e.SettingReducer.data.data):rt.toast.error(t.global[e.SettingReducer.data.message]),a.showLoader=!1):(rt.toast.success(t.global[e.SettingReducer.data.message]),a.posPaymentData=e.SettingReducer.data.data)):"SET_POS_DEFAULT_BANK_ACCOUNT"===e.SettingReducer.action?(rt.toast.dismiss(),200!=e.SettingReducer.data.status?("third_party_error"==e.SettingReducer.data.message?rt.toast.error(e.SettingReducer.data.data):rt.toast.error(t.global[e.SettingReducer.data.message]),a.showLoader=!1):(rt.toast.success(t.global[e.SettingReducer.data.message]),a.posPaymentData=e.SettingReducer.data.data)):"UPDATE_POS_PAYOUT_SCHEDULE_DATA"===e.SettingReducer.action?(rt.toast.dismiss(),200!=e.SettingReducer.data.status?("third_party_error"==e.SettingReducer.data.message?rt.toast.error(e.SettingReducer.data.data):rt.toast.error(t.global[e.SettingReducer.data.message]),a.showLoader=!1):(rt.toast.success(t.global[e.SettingReducer.data.message]),a.posPaymentData=e.SettingReducer.data.data)):e.SettingReducer.action,a},function(e){return Object(c.bindActionCreators)({getPosPaymentSettingData:ho,getPosBankAccountFields:go,addPosBankAccount:_o,setPosDefaultBnkAccount:vo,getPosPayoutScheduleData:fo,updatePosPayoutScheduleData:bo,exportEmptyData:br},e)})(Pv),Mv=(Ue().toUpperCase(),function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).loadMore=function(){localStorage.setItem("sortOnly",!1),a.setState({loadMore:!0,startFresh:!0,showLoader:!0,showLoadingText:!0}),a.props.getPosDispute({params:{page:a.state.page,pagesize:a.state.pagesize}})},a.handleSelectChange=function(e){a.setState({selectedUserEmailOptions:e,userChanged:!0})},a.handleSubmit=function(e){var t=[];if(a.state.selectedUserEmailOptions.map(function(e,a){t.push(e.label)}),t.length){var s={admin_emails:t.join(",")};a.setState({showLoader:!0,isShowSettingModal:!a.state.isShowSettingModal}),a.props.savePosDisputeSetting(s),Ke(!1)}},a.dismiSettingModal=function(){Ke(!1),a.setState({isShowSettingModal:!1,showLoaderSettingModal:!1})},a.getPosDisputeSetting=function(){a.setState({showLoader:!0}),a.props.getPosDisputeSetting()},a.DisputeView=function(e){return i.a.createElement("div",null,a.props.history.push("/settings/pos-disputes/".concat(e,"/view")))},a.labelAndAmount=function(e,t,s){var n="payment-transit";return"needs_response"==t?n="payment-response":"won"==t&&(n="payment-Succeeded"),{amount:parseInt(e),status:a.state.globalLang["stripe_"+t],statusClass:n,reason:a.state.globalLang["stripe_"+s]}};var s=JSON.parse(localStorage.getItem("languageData"));a.state={settingsLang:s.settings,globalLang:s.global,dashboardLang:s.dashboard,hasMoreItems:!0,next_page_url:"",userList:[],loadMore:!0,startFresh:!0,showLoader:!1,showLoadingText:!1,userData:"",page:1,pagesize:15,isShowSettingModal:!1,posDisputeList:[],selectedUserEmailOptions:[],userEmailOptions:[],activeUsersList:[],message:"",posNotificationData:{},showLoaderSettingModal:!1},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),window.onscroll=function(){var e=parseInt(Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop));window.innerHeight+e===document.documentElement.offsetHeight&&null!=a.state.next_page_url&&a.loadMore()};JSON.parse(localStorage.getItem("userData"));return a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e;this.setState((e={startFresh:!0,loadMore:!0},Object(se.a)(e,"startFresh",!0),Object(se.a)(e,"next_page_url",""),Object(se.a)(e,"posDisputeList",[]),Object(se.a)(e,"showLoader",!0),Object(se.a)(e,"next_page_url",""),Object(se.a)(e,"showLoader",!0),e)),this.props.getPosDispute({params:{page:this.state.page,pagesize:this.state.pagesize}})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"main protected"},i.a.createElement("div",{id:"content",className:"pos-content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(ps,null),i.a.createElement("div",{className:"setting-setion"},i.a.createElement("div",{className:"setting-search-outer"},i.a.createElement("a",{href:"javascript:void(0);",className:"new-blue-btn pull-right",onClick:this.getPosDisputeSetting},this.state.settingsLang.settings)),i.a.createElement("div",{className:"table-responsive"},i.a.createElement("table",{className:"table-updated juvly-table table-min-width"},i.a.createElement("thead",{className:"table-updated-thead"},i.a.createElement("tr",null,i.a.createElement("th",{className:"col-xs-4 table-updated-th"},this.state.globalLang.label_amount),i.a.createElement("th",{className:"col-xs-2 table-updated-th"},this.state.settingsLang.setting_reason),i.a.createElement("th",{className:"col-xs-2 table-updated-th"},this.state.settingsLang.setting_payment_date),i.a.createElement("th",{className:"col-xs-2 table-updated-th"},this.state.settingsLang.setting_disputed_on),i.a.createElement("th",{className:"col-xs-2 table-updated-th"},this.state.settingsLang.setting_respond_by))),i.a.createElement("tbody",{className:"ajax_body"},this.state.posDisputeList.length?this.state.posDisputeList.map(function(t,a){var s=e.labelAndAmount(t.disputed_amount,t.dispute_status,t.dispute_reason);return i.a.createElement("tr",{className:"table-updated-tr show-dispute-details",key:"posPayment-"+a,onClick:e.DisputeView.bind(e,t.id)},i.a.createElement("td",{className:"table-updated-td"},i.a.createElement("label",{className:"payment-amount response"},Ie(s.amount>0?s.amount:0,"currency",2)),i.a.createElement("div",{className:s.statusClass+" pull-right"},s.status)),i.a.createElement("td",{className:"table-updated-td"},s.reason),i.a.createElement("td",{className:"table-updated-td text-right no-padding-left"},t.payment_datetime),i.a.createElement("td",{className:"table-updated-td text-right no-padding-left"},t.created_on),i.a.createElement("td",{className:"table-updated-td text-right no-padding-left"},t.evidence_due_date))}):i.a.createElement("tr",{className:"table-updated-tr"},i.a.createElement("td",{className:"table-updated-td text-center",colSpan:5},!1===this.state.showLoader&&i.a.createElement("div",{className:"no-record"},this.state.globalLang.sorry_no_record_found)))))),i.a.createElement(hd,{showLoader:this.state.showLoader}),i.a.createElement("div",{className:this.state.showLoadingText?"loading-please-wait":"loading-please-wait no-display"},this.state.globalLang.loading_please_wait_text))),i.a.createElement("div",{className:this.state.isShowSettingModal?"modalOverlay":"no-display"},i.a.createElement("div",{className:"small-popup-outer"},i.a.createElement("div",{className:"small-popup-header"},i.a.createElement("div",{className:"popup-name"},this.state.settingsLang.pos_dispute_emails_setting),i.a.createElement("a",{href:"javascript:void(0);",className:"small-cross",onClick:this.dismiSettingModal},"\xd7")),i.a.createElement("div",{className:"small-popup-content small-popup-content-pos-disputes-settings"},i.a.createElement("div",{className:"juvly-container no-padding-bottom"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-12 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label alert-modal-title"},this.state.settingsLang.pos_disputes_setting_alert_msg),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("div",{className:"tag-auto-select"},this.state.userEmailOptions&&i.a.createElement(un.a,{onChange:this.handleSelectChange,value:this.state.selectedUserEmailOptions,isClearable:!0,isSearchable:!0,options:this.state.userEmailOptions,isMulti:!0})))))))),i.a.createElement("div",{className:"footer-static"},i.a.createElement("a",{href:"javascript:void(0);",className:"new-blue-btn pull-right",onClick:this.handleSubmit},this.state.globalLang.label_save),i.a.createElement("a",{href:"javascript:void(0);",className:"new-white-btn pull-right",onClick:this.dismiSettingModal},this.state.globalLang.label_cancel)),i.a.createElement(hd,{showLoader:this.state.showLoaderSettingModal})))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};if(void 0!=e.showLoader&&0==e.showLoader&&e.showLoader!=t.showLoader)return void 0!=e.message&&e.message!=t.message&&rt.toast.success(e.message),e.exportEmptyData(),{showLoader:!1,message:e.message,showLoaderSettingModal:!1};if(void 0!=e.posNotificationData&&e.posNotificationData!=t.posNotificationData){if(a.showLoader=!1,a.showLoaderSettingModal=!1,a.isShowSettingModal=!0,a.posNotificationData=e.posNotificationData,!t.userChanged){var s=[];void 0!=e.posNotificationData.all_admin_emails&&e.posNotificationData.all_admin_emails.length&&(s=e.posNotificationData.all_admin_emails.map(function(e,t){return{value:t,label:e}})),a.userEmailOptions=s;var n=e.posNotificationData.saved_admin_emails.split(","),i=[];e.posNotificationData.all_admin_emails.map(function(e,t){n.indexOf(e)>-1&&i.push({value:t,label:e})}),a.selectedUserEmailOptions=i}return e.exportEmptyData(),Ke(!0),a}return void 0!=e.posDisputeList&&void 0!=e.posDisputeList&&e.posDisputeList.next_page_url!==t.next_page_url?(Ke(!1),null==t.next_page_url?(localStorage.setItem("sortOnly",!1),a.next_page_url=null,a):(0==t.posDisputeList.length&&1==t.startFresh?"false"==localStorage.getItem("sortOnly")?(a.posDisputeList=e.posDisputeList.data,a.payout_last_updated=e.posDisputeList.payout_last_updated,null!=e.posDisputeList.next_page_url?a.page=t.page+1:a.next_page_url=e.posDisputeList.next_page_url,a.startFresh=!1,a.showLoader=!1,a.showLoaderSettingModal=!1,a.isShowSettingModal=!1,a.showLoadingText=!1,localStorage.setItem("showLoader",!1)):localStorage.setItem("sortOnly",!1):t.posDisputeList!=e.posDisputeList.data&&0!=t.posDisputeList.length&&(a.posDisputeList=Object(oa.a)(t.posDisputeList).concat(Object(oa.a)(e.posDisputeList.data)),a.page=t.page+1,a.next_page_url=e.posDisputeList.next_page_url,localStorage.setItem("showLoader",!1),a.showLoader=!1,a.showLoadingText=!1),a)):a}}]),t}(n.Component));var Uv=Object(Z.b)(function(e){var t={},a=JSON.parse(localStorage.getItem("languageData"));return"POS_DISPUTE_LIST"===e.SettingReducer.action?200!=e.SettingReducer.data.status?(rt.toast.error(a.global[e.SettingReducer.data.message]),t.showLoader=!1):t.posDisputeList=e.SettingReducer.data.data:"POS_DISPUTE_SETTING_GET"===e.SettingReducer.action?200!=e.SettingReducer.data.status?(rt.toast.error(a.global[e.SettingReducer.data.message]),t.showLoader=!1):t.posNotificationData=e.SettingReducer.data.data:"POS_DISPUTE_SETTING_POST"===e.SettingReducer.action?200!=e.SettingReducer.data.status?(rt.toast.error(a.global[e.SettingReducer.data.message]),t.showLoader=!1):(t.showLoader=!1,t.message=a.global[e.SettingReducer.data.message]):e.SettingReducer.action,t},function(e){return Object(c.bindActionCreators)({getPosDispute:Kr,getPosDisputeSetting:Xr,savePosDisputeSetting:Zr,exportEmptyData:br},e)})(Mv),Fv=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).PosDisputesEvidenceType=function(e){a.props.PosDisputesEvidenceType(e)};var s=JSON.parse(localStorage.getItem("languageData"));return a.state={settingsLang:s.settings,globalLang:s.global,disputeReason:"",disputeReasonContent:""},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return i.a.createElement("div",{className:"setting-setion"},i.a.createElement("div",{className:"setting-container no-padding-bottom"},i.a.createElement("div",{className:"setting-title"},i.a.createElement("a",{className:"pull-right back-dispute-details",onClick:this.props.PosDisputesEvidence},i.a.createElement("img",{src:"/images/close.png"}))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-5 m-b-40"},i.a.createElement("div",{className:"wht-todo-title"},this.state.settingsLang.pos_dispute_reason,": ",this.props.disputeReason),i.a.createElement("p",{className:"l-h-auto p-text text-justify no-margin"},this.props.disputeReasonContent)),i.a.createElement("div",{className:"col-md-7 m-b-40"},i.a.createElement("div",{className:"wht-todo-title"},this.state.settingsLang.pos_what_to_do,":"),i.a.createElement("p",{className:"l-h-auto p-text text-justify no-margin"},this.state.settingsLang.pos_dispute_what_to_do_notes)))),i.a.createElement("div",{className:"setting-container border-top"},i.a.createElement("div",{className:"setting-title m-b-40"},this.state.settingsLang.pos_i_provided_the_customer_with),i.a.createElement("div",{className:"provide-customer-with show-evidence-fields",onClick:this.PosDisputesEvidenceType.bind(this,"physical")},i.a.createElement("span",null,this.state.settingsLang.pos_physical_products),i.a.createElement("p",{className:"p-text service-desc no-margin"},this.state.settingsLang.pos_physical_products_notes),i.a.createElement("i",{className:"fas fa-angle-right"})),i.a.createElement("div",{className:"provide-customer-with show-evidence-fields",onClick:this.PosDisputesEvidenceType.bind(this,"digital")},i.a.createElement("span",null,this.state.settingsLang.pos_digital_products),i.a.createElement("p",{className:"p-text service-desc no-margin"},this.state.settingsLang.pos_digital_products_notes),i.a.createElement("i",{className:"fas fa-angle-right"})),i.a.createElement("div",{className:"provide-customer-with show-evidence-fields",onClick:this.PosDisputesEvidenceType.bind(this,"offline")},i.a.createElement("span",null,this.state.settingsLang.pos_offline_services),i.a.createElement("p",{className:"p-text service-desc no-margin"},this.state.settingsLang.pos_offline_services_notes),i.a.createElement("i",{className:"fas fa-angle-right"})),i.a.createElement("p",{className:"m-t-40 p-text"},this.state.settingsLang.pos_dispute_avidence_boottom_notes," ",i.a.createElement("strong",null,this.state.settingsLang.pos_dispute_avidence_boottom_notes_strong))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return null}}]),t}(n.Component),Bv=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target;a.setState(Object(se.a)({},t.name,t.value))},a.handleSubmit=function(e){e.preventDefault();var t=!1;void 0===typeof a.state.dispute_note||null===a.state.dispute_note||""===a.state.dispute_note?(a.setState({disputeNoteClass:"setting-textarea-box field_error"}),t=!0):a.state.dispute_note&&a.setState({disputeNoteClass:"setting-textarea-box"}),t||(a.setState({showLoader:!0}),a.props.addPosDisputeNote({dispute_note:a.state.dispute_note,dispute_id:a.state.disputeData.dispute_id}))},a.handleAddDisputeNote=function(){a.setState({isAdddDisputeNote:!a.state.isAdddDisputeNote})},a.handleAcceptModal=function(){Ke(!a.state.isShowAcceptdModal),a.setState({isShowAcceptdModal:!a.state.isShowAcceptdModal})},a.handleAcceptDispute=function(){a.setState({showLoader:!0}),a.props.acceptPosDispute({stripe_user_id:a.state.disputeData.stripe_user_id,dispute_id:a.state.disputeData.dispute_id}),a.handleAcceptModal()},a.PosDisputesEvidence=function(){a.setState({isShowEvidence:!a.state.isShowEvidence})},a.PosDisputesEvidenceType=function(e){return i.a.createElement("div",null,a.props.history.push("/settings/pos-disputes/".concat(a.state.disputeId,"/evidence/").concat(e)))};var s=JSON.parse(localStorage.getItem("languageData"));return a.state={settingsLang:s.settings,globalLang:s.global,backAction:"/settings/pos-disputes",disputeId:0,posDisputeData:{},disputeData:{},timeLineData:{},clientData:{},disputedAmount:0,disputeStatus:"",disputeSatusClass:"payment-transit",disputeReason:"",disputeReasonContent:"",isAdddDisputeNote:!1,dispute_note:"",disputeNoteClass:"setting-textarea-box",isShowAcceptdModal:!1,showLoader:!1,isShowEvidence:!1},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){this.setState({showLoader:!0});var e=this.props.match.params.disputeId;if(!(e>0))return i.a.createElement("div",null,this.props.history.push(this.state.backAction));this.setState({disputeId:e}),this.props.getPosDisputeDetails(e)}},{key:"render",value:function(){return i.a.createElement("div",{className:"main protected"},i.a.createElement(Aa,null),i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(ps,null),!1===this.state.isShowEvidence&&i.a.createElement("div",{className:"setting-setion"},i.a.createElement("div",{className:"dispute-details-section"},i.a.createElement("div",{className:"setting-container"},i.a.createElement("div",{className:"setting-title m-b-20"},Ie(this.state.disputedAmount,"currency",2)," ",i.a.createElement("span",{className:"dispute-usd"},Ue().toUpperCase()),i.a.createElement("div",{className:this.state.disputeSatusClass+" dash-dispute"},this.state.disputeStatus," ",i.a.createElement("i",{className:"fa fa-exclamation-circle"}))),i.a.createElement("div",{className:"dispute-btns"},void 0!==this.state.clientData.email&&i.a.createElement("a",{href:"mailto:"+this.state.clientData.email,className:"new-white-btn"},this.state.settingsLang.pos_email_customer),!0===this.state.posDisputeData.is_submit_accept&&i.a.createElement("a",{href:"javascript:void(0);",className:"new-white-btn",onClick:this.PosDisputesEvidence},this.state.settingsLang.pos_submit_avidence),!0===this.state.posDisputeData.is_submit_accept&&i.a.createElement("a",{href:"javascript:void(0);",className:"new-white-btn",onClick:this.handleAcceptModal},this.state.settingsLang.pos_accept_dispute),i.a.createElement("a",{href:"javascript:void(0);",className:"new-white-btn add-note-btn",onClick:this.handleAddDisputeNote},this.state.settingsLang.pos_add_note))),this.state.isAdddDisputeNote&&i.a.createElement("div",{className:"setting-container add-note-section no-padding-top"},i.a.createElement("div",{className:"setting-title"},i.a.createElement("a",{className:"pull-right cancel-add-note",onClick:this.handleAddDisputeNote},i.a.createElement("img",{src:"/images/close.png"}))),i.a.createElement("div",{className:"setting-field-outer no-margin"},i.a.createElement("div",{className:"new-field-label"},this.state.globalLang.label_note),i.a.createElement("textarea",{className:this.state.disputeNoteClass,id:"dispute-note-textarea",name:"dispute_note",value:this.state.dispute_note,onChange:this.handleInputChange}),i.a.createElement("button",{className:"new-blue-btn note-btn",id:"save-note-btn",onClick:this.handleSubmit},this.state.settingsLang.pos_save_note))),this.state.timeLineData.length>0&&i.a.createElement("div",{className:"dipute-status"},this.state.timeLineData.map(function(e,t){return!0===e.is_system_log?i.a.createElement("div",{key:"timeLineData-"+t,className:"dispute-row"},"payment disputed"===e.content.toLowerCase()?i.a.createElement("div",null,i.a.createElement("i",{className:e.icon_type}),i.a.createElement("p",null,e.content),i.a.createElement("p",null,"The cardholder doesn't recognize this charge and reported it as ",e.additional_data.dispute_reason,"."),i.a.createElement("br",null),i.a.createElement("p",null,i.a.createElement("strong",null,"Submit evidence to the cardholder's bank by ",e.additional_data.evidence_due_date," at ",e.additional_data.evidence_due_time,"."))):"dispute evidence submitted"===e.content.toLowerCase()?i.a.createElement("div",null,i.a.createElement("i",{className:e.icon_type}),i.a.createElement("p",null,"Dispute evidence is being reviewed by the cardholder\u2019s bank,"),i.a.createElement("p",null,"We\u2019ll email you ",i.a.createElement("strong",null,"by ",e.additional_data.dispute_submit_datetime)," with their decision.")):"payment received dispute inquiry"===e.content.toLowerCase()?i.a.createElement("div",null,i.a.createElement("i",{className:e.icon_type}),i.a.createElement("p",null,e.content),i.a.createElement("p",null,"The cardholder doesn't recognize this charge and reported it as ",e.additional_data.dispute_reason,"."),i.a.createElement("p",null,"No funds have been withdrawn from your account yet, but the cardholder's bank is requesting more information to decide whether to return these funds to the cardholder.")):"accepted dispute"===e.content.toLowerCase()?i.a.createElement("div",null,i.a.createElement("i",{className:e.icon_type}),i.a.createElement("p",null,e.content),i.a.createElement("p",null,"You chose to accept this dispute, therefore the cardholder kept the disputed amount.")):i.a.createElement("div",null,i.a.createElement("i",{className:e.icon_type}),i.a.createElement("p",null,e.content)),i.a.createElement("div",{className:"dispute-date"},e.show_date_time)):i.a.createElement("div",{key:"timeLineData-"+t,className:"dispute-row"},i.a.createElement("i",{className:e.icon_type}),i.a.createElement("p",null,e.content),i.a.createElement("div",{className:"dispute-date"},e.show_date_time," by ",e.user_info))})),i.a.createElement("div",{className:"setting-container"},i.a.createElement("div",{className:"setting-title m-b-20"},this.state.settingsLang.pos_dispute_details),i.a.createElement("div",{className:"dispute-detail row"},i.a.createElement("label",{className:"col-md-3 col-sm-6 col-xs-12"},this.state.settingsLang.pos_disputed_invoice),i.a.createElement("span",{className:"col-md-9 col-sm-6 col-xs-12"},this.state.disputeData.invoice_number)),i.a.createElement("div",{className:"dispute-detail row"},i.a.createElement("label",{className:"col-md-3 col-sm-6 col-xs-12"},this.state.settingsLang.pos_disputed_amount),i.a.createElement("span",{className:"col-md-9 col-sm-6 col-xs-12"},Ie(this.state.disputedAmount,"currency",2))),i.a.createElement("div",{className:"dispute-detail row"},i.a.createElement("label",{className:"col-md-3 col-sm-6 col-xs-12"},this.state.settingsLang.setting_payment_date),i.a.createElement("span",{className:"col-md-9 col-sm-6 col-xs-12"},this.state.disputeData.payment_datetime)),i.a.createElement("div",{className:"dispute-detail row"},i.a.createElement("label",{className:"col-md-3 col-sm-6 col-xs-12"},this.state.settingsLang.pos_dispute_date),i.a.createElement("span",{className:"col-md-9 col-sm-6 col-xs-12"},this.state.disputeData.created_on)),i.a.createElement("div",{className:"dispute-detail row"},i.a.createElement("label",{className:"col-md-3 col-sm-6 col-xs-12"},this.state.globalLang.label_client),i.a.createElement("span",{className:"col-md-9 col-sm-6 col-xs-12"},this.state.clientData.firstname+" "+this.state.clientData.lastname)),i.a.createElement("div",{className:"dispute-detail row"},i.a.createElement("label",{className:"col-md-3 col-sm-6 col-xs-12"},this.state.settingsLang.pos_card_number),i.a.createElement("span",{className:"col-md-9 col-sm-6 col-xs-12"},"**** **** **** ",this.state.disputeData.card_number)))),i.a.createElement(hd,{showLoader:this.state.showLoader})),!0===this.state.isShowEvidence&&i.a.createElement(Fv,{PosDisputesEvidenceType:this.PosDisputesEvidenceType,PosDisputesEvidence:this.PosDisputesEvidence,disputeReason:this.state.disputeReason,disputeReasonContent:this.state.disputeReasonContent})),i.a.createElement("div",{className:this.state.isShowAcceptdModal?"overlay":""}),i.a.createElement("div",{id:"filterModal",role:"dialog",className:this.state.isShowAcceptdModal?"modal fade in displayBlock":"modal fade no-display"},i.a.createElement("div",{className:"modal-dialog"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal",onClick:this.handleAcceptModal},"\xd7"),i.a.createElement("h4",{className:"modal-title",id:"model_title"},this.state.globalLang.delete_confirmation)),i.a.createElement("div",{id:"errorwindow",className:"modal-body add-patient-form filter-patient"},this.state.settingsLang.dispute_acceptance_msg),i.a.createElement("div",{className:"modal-footer"},i.a.createElement("div",{className:"col-md-12 text-left",id:"footer-btn"},i.a.createElement("button",{type:"button",className:"btn  logout pull-right","data-dismiss":"modal",onClick:this.handleAcceptModal},this.state.globalLang.label_cancel),i.a.createElement("button",{type:"button",className:"btn btn-success pull-right m-r-10","data-dismiss":"modal",onClick:this.handleAcceptDispute},this.state.globalLang.label_accept))))),i.a.createElement(hd,{showLoader:this.state.showLoaderAcceptdModal}))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};return void 0!==e.posDisputeData&&e.posDisputeData!==t.posDisputeData?(a.posDisputeData=e.posDisputeData,a.disputeData=a.posDisputeData.dispute_details,a.disputedAmount=void 0!==a.disputeData.disputed_amount&&a.disputeData.disputed_amount>0?a.disputeData.disputed_amount:0,a.disputeReason=t.globalLang["stripe_"+a.disputeData.dispute_reason],a.disputeReasonContent=a.posDisputeData.dispute_evidence_fields[a.disputeData.dispute_reason].reason_info,a.disputeStatus=t.globalLang["stripe_"+a.disputeData.dispute_status],a.disputeSatusClass="needs_response"===a.disputeData.dispute_status?"payment-response":"won"===a.disputeData.dispute_status?"payment-Succeeded":"payment-transit",a.timeLineData=a.posDisputeData.time_line_data,a.clientData=void 0!==a.posDisputeData.dispute_details.patient_data?a.posDisputeData.dispute_details.patient_data:{},a.showLoader=!1,a.dispute_note="",a.disputeNoteClass="setting-textarea-box",a.isAdddDisputeNote=!1,a.isShowAcceptdModal=!1,Ke(!1)):void 0!=e.showLoader&&0==e.showLoader&&(a.showLoader=!1,a.showLoaderStripeUpdate=!1,e.exportEmptyData()),a}}]),t}(n.Component);var qv=Object(Z.b)(function(e){var t={},a=JSON.parse(localStorage.getItem("languageData"));return"POS_DISPUTE_DETAIL"===e.SettingReducer.action?200!=e.SettingReducer.data.status?(rt.toast.error(a.global[e.SettingReducer.data.message]),t.showLoader=!1):t.posDisputeData=e.SettingReducer.data.data:"ADD_POS_DISPUTE_NOTE"===e.SettingReducer.action?200!=e.SettingReducer.data.status?(rt.toast.error(a.global[e.SettingReducer.data.message]),t.showLoader=!1):t.showLoader=!1:"ACCEPT_POS_DISPUTE"===e.SettingReducer.action?200!=e.SettingReducer.data.status?("third_party_error"==e.SettingReducer.data.message?rt.toast.error(e.SettingReducer.data.data):rt.toast.error(a.global[e.SettingReducer.data.message]),t.showLoader=!1):t.showLoader=!1:e.SettingReducer.action,t},function(e){return Object(c.bindActionCreators)({getPosDisputeDetails:Lo,addPosDisputeNote:Oo,acceptPosDispute:Ao,exportEmptyData:br},e)})(Bv),Yv="yyyy-MM-dd",Hv=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,s=t.dataset.index,n=t.value,i={userChanged:!0},r=a.state.formFields;if("undefined"!==typeof r[s])if(t&&"file"==t.type){t.files&&["image/png","image/PNG","image/jpg","image/JPG","image/jpeg","image/JPEG","image/gif","image/GIF"].indexOf(t.files[0].type)>-1?a.handleFileChosen(t.files[0],t):rt.toast.error("This file type is not allowed")}else r[s].value=n,i.formFields=r;a.setState(i)},a.handleFileChosen=function(e,t){return a.state.file.fileReader=new FileReader,a.state.file.fileReader.onloadend=a.handleFileRead,a.state.file.fileReader.readAsDataURL(e),a.state.file.file=e,a.state.file.target=t,{}},a.handleFileRead=function(e){a.state.file.fileReader.result;var t,s=a.state.file.target.name+"_thumbnail",n=a.state.file.target.name+"_src",i=a.state.file.target.name+"_size",r=Fe(a.state.file.file.size,1);a.setState((t={},Object(se.a)(t,s,a.state.file.file.name),Object(se.a)(t,i,r),Object(se.a)(t,n,a.state.file.fileReader.result),Object(se.a)(t,"showLoader",!0),t)),a.handleUpload(a.state.file.target.name)},a.handleUpload=function(e){var t=a.state.file.target.dataset.index,s=a.state.formFields,n=new FormData;n.append("file",a.state.file.file,a.state.file.file.name),n.append("file_purpose",s[t].name);var i=Ee.API_URL+"pos-dispute-image-upload";Q.a.post(i,n).then(function(e){200==e.data.status?(s[t].value=e.data.data,s[t].error=!1):"third_party_error"==e.data.message?rt.toast.error(e.data.data):rt.toast.error(a.state.globalLang[e.data.message]),a.setState({showLoader:!1})}).catch(function(e){rt.toast.error(a.state.globalLang[e.response.data.message]),a.setState({showLoader:!1})})},a.onChangeDatePicker=function(e,t){var s=a.state.formFields;s[e].value=t,a.setState({userChanged:!0,formFields:s})},a.handleSubmit=function(e,t){var s=!1,n=a.state.formFields;if(n.map(function(e,t){n[t].class="textarea"===e.type?"setting-textarea-box":(e.type,"setting-input-box"),e.require&&(void 0===e.value||null===e.value||""===e.value?(s=!0,n[t].class+=" field_error"):"customer_email_address"===e.name&&(nt.a.isEmail(e.value)||(s=!0,n[t].class+=" field_error")))}),a.setState({formFields:n}),!s){a.setState({showLoader:!0});var i={dispute_id:a.state.disputeData.dispute_id,dispute_evidence_data:n};e?(i.stripe_user_id=a.state.disputeData.stripe_user_id,a.props.submitPosDispute(i)):a.props.saveLaterPosDispute(i)}},a.handleSettingModal=function(){a.setState({isShowSettingModal:!a.state.isShowSettingModal})},a.PosDisputesEvidence=function(e){return i.a.createElement("div",null,a.props.history.push(a.state.backAction))},a.renderFile=function(e,t){return i.a.createElement("div",{className:"pos-dispute-file setting-input-box choose-file-outer dropzone-filename"},i.a.createElement("div",{className:"new-white-btn choose-file dz-clickable"},a.state.settingsLang.Questionnaire_Choose_File,i.a.createElement("div",{className:"dz-default dz-message"},i.a.createElement("span",null,a.state.settingsLang.editUsers_Drop_Files_To_Upload))),i.a.createElement("span",{className:"span_dropzone_0"},t.value?t.value:"No File"),i.a.createElement("input",{name:t.name,className:"image_questionnaire",onChange:a.handleInputChange,"data-index":e,type:"file"}),i.a.createElement("a",{href:"javascript:void(0);",className:"remove-file-name choice-question-cross"},i.a.createElement("img",{src:"/images/close.png",onClick:a.handleRemoveFile.bind(Object(ce.a)(Object(ce.a)(a)),e)})))},a.renderDate=function(e,t){var s;return i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement(xn.a,(s={className:t.class,selected:t.value?t.value:null,dateFormat:Yv,onChange:a.onChangeDatePicker.bind(Object(ce.a)(Object(ce.a)(a)),e),maxDate:new Date,minDate:new Date(Se()().subtract(3,"years").toDate()),showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",autoComplete:"off",name:t.name,"data-index":e,readOnly:t.read_only},Object(se.a)(s,"autoComplete","off"),Object(se.a)(s,"placeholderText",Yv.toLowerCase()),s)))},a.renderText=function(e,t){return i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:t.name,value:t.value,className:t.class,onChange:a.handleInputChange,readOnly:t.read_only,"data-index":e,type:"text",autoComplete:"off"}))},a.renderTextArea=function(e,t){return i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("textarea",{name:t.name,value:t.value,className:t.class,onChange:a.handleInputChange,readOnly:t.read_only,"data-index":e,autoComplete:"off"}))};var s=JSON.parse(localStorage.getItem("languageData"));return a.state={settingsLang:s.settings,globalLang:s.global,backAction:"/settings/pos-disputes",disputeId:0,evidenceType:"",eveidenceTypeName:"",eveidenceTypeNotes:"",eveidenceTypeSlug:"",posDisputeData:{},disputeData:{},generalFields:{},evidenceFields:{},formFields:[],userChanged:!1,file:{}},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){this.setState({showLoader:!0});var e=this.props.match.params.disputeId;if(e>0){var t="/settings/pos-disputes/".concat(e,"/view");this.setState({disputeId:e,backAction:t})}else this.PosDisputesEvidence();var a={};switch(this.props.match.params.type){case"physical":a.eveidenceTypeName=this.state.settingsLang.pos_physical_products,a.eveidenceTypeNotes=this.state.settingsLang.pos_physical_products_notes,a.evidenceType="physical",a.eveidenceTypeSlug="physical_product";break;case"digital":a.eveidenceTypeName=this.state.settingsLang.pos_digital_products,a.eveidenceTypeNotes=this.state.settingsLang.pos_digital_products_notes,a.evidenceType="digital",a.eveidenceTypeSlug="digital_product_or_service";break;case"offline":a.eveidenceTypeName=this.state.settingsLang.pos_offline_services,a.eveidenceTypeNotes=this.state.settingsLang.pos_offline_services_notes,a.evidenceType="offline",a.eveidenceTypeSlug="offline_service";break;default:this.PosDisputesEvidence()}this.setState(a),this.props.getPosDisputeDetails(e,!0)}},{key:"handleRemoveFile",value:function(e){var t=this.state.formFields;t[e].value="",this.setState({userChanged:!0,formFields:t})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"main protected"},i.a.createElement(Aa,null),i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(ps,null),i.a.createElement("div",{className:"setting-setion"},i.a.createElement("div",{className:"setting-container"},i.a.createElement("div",{className:"setting-title m-b-30"},i.a.createElement("span",null,this.state.settingsLang.pos_i_provided_the_customer_with),i.a.createElement("a",{className:"pull-right back-step-1 add-btn",onClick:this.PosDisputesEvidence},this.state.settingsLang.Two_Factor_Authentication_Change)),i.a.createElement("div",{className:"setting-title m-b-10"},i.a.createElement("span",{id:"service_type"},this.state.eveidenceTypeName)),i.a.createElement("p",{className:"p-text m-b-40"},this.state.eveidenceTypeNotes),i.a.createElement("div",{className:"row"},this.state.formFields.map(function(t,a){return i.a.createElement("div",{key:"formFields-"+a,className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},t.label,!0===t.require&&i.a.createElement("span",{className:"setting-require"},"*")),e[t.render](a,t)))})),i.a.createElement("p",{className:"p-text text-justify no-margin"},this.state.settingsLang.pos_dispute_avidence_boottom_notes," ",i.a.createElement("strong",null,this.state.settingsLang.pos_dispute_avidence_boottom_notes_strong)),i.a.createElement("br",null),Se()(this.state.disputeData.evidence_due_date)<Se()()?i.a.createElement("p",{className:"p-text text-justify"},i.a.createElement("strong",null,"Note:")," Since evidence for this dispute was due by ",i.a.createElement("strong",null,Se()(this.state.disputeData.evidence_due_date).format("MMM DD, YYYY")," at ",Se()(this.state.disputeData.evidence_due_date).format("hh:mm A")),", we can't guarantee that the cardholder's bank will accept or review it."):i.a.createElement("p",{className:"p-text text-justify no-margin"},this.state.settingsLang.pos_evidence_draft_notes)),i.a.createElement(hd,{showLoader:this.state.showLoader}),i.a.createElement("div",{className:"footer-static"},i.a.createElement("button",{type:"button",id:"submit-evidence",className:"new-blue-btn pull-right",onClick:this.handleSubmit.bind(this,1)},this.state.settingsLang.pos_submit_evidence_now),i.a.createElement("button",{type:"button",id:"save-evidence-later",className:"new-white-btn pull-right",onClick:this.handleSubmit.bind(this,0)},this.state.settingsLang.pos_save_for_later))))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};if(void 0!==e.posDisputeData&&e.posDisputeData!==t.posDisputeData){a.posDisputeData=e.posDisputeData,a.disputeData=a.posDisputeData.dispute_details,a.generalFields=a.posDisputeData.dispute_evidence_fields.general_fields,a.evidenceFields=a.posDisputeData.dispute_evidence_fields[a.disputeData.dispute_reason][t.eveidenceTypeSlug],a.showLoader=!1;var s=a.posDisputeData.file_input_fields,n=a.posDisputeData.date_input_fields,i=a.posDisputeData.textarea_input_fields,r=a.posDisputeData.required_fields,o=[];Object.keys(a.generalFields).forEach(function(e){var t={};t.name=e,t.label=a.generalFields[e],t.value="customer_purchase_ip"===e?a.disputeData.client_ip:"",t.require=r.indexOf(e)>-1,t.read_only="customer_purchase_ip"===e,t.type=i.indexOf(e)>-1?"textarea":"text",t.class=i.indexOf(e)>-1?"setting-textarea-box":"setting-input-box",t.service_type="general",t.render=i.indexOf(e)>-1?"renderTextArea":"renderText",o.push(t)}),Object.keys(a.evidenceFields).forEach(function(e){var l={};l.name=e,l.label=a.evidenceFields[e],l.value="",l.require=r.indexOf(e)>-1,l.read_only=!1,l.type=i.indexOf(e)>-1?"textarea":s.indexOf(e)>-1?"file":n.indexOf(e)>-1?"date":"text",l.class=i.indexOf(e)>-1?"setting-textarea-box":(s.indexOf(e),"setting-input-box"),l.service_type=t.evidenceType,l.render=i.indexOf(e)>-1?"renderTextArea":s.indexOf(e)>-1?"renderFile":n.indexOf(e)>-1?"renderDate":"renderText",o.push(l)}),"object"!==typeof a.disputeData.dispute_evidence&&"array"!==typeof a.disputeData.dispute_evidence||a.disputeData.dispute_evidence.map(function(e,t){o.map(function(t,a){e.field===t.name&&e.service_type===t.service_type&&(o[a].value=e.value,"date"===t.type&&(o[a].value=Se()(e.value).toDate()))})}),a.formFields=o}else void 0!=e.showLoader&&0==e.showLoader?a.showLoader=!1:void 0!=e.redirect&&1==e.redirect&&(e.exportEmptyData(),rt.toast.success(e.message,{onClose:function(){e.history.push(t.backAction)}}));return a}}]),t}(n.Component);var Gv=Object(Z.b)(function(e){var t={},a=JSON.parse(localStorage.getItem("languageData"));return"GET_POS_DISPUTE_EVIDENCE"===e.SettingReducer.action?200!=e.SettingReducer.data.status?(rt.toast.error(a.global[e.SettingReducer.data.message]),t.showLoader=!1):t.posDisputeData=e.SettingReducer.data.data:"SUBMIT_POS_DISPUTE"===e.SettingReducer.action?200!=e.SettingReducer.data.status?("third_party_error"==e.SettingReducer.data.message?rt.toast.error(e.SettingReducer.data.data):rt.toast.error(a.global[e.SettingReducer.data.message]),t.showLoader=!1):(t.message=a.global[e.SettingReducer.data.message],t.redirect=!0):"SAVE_LATER_POS_DISPUTE"===e.SettingReducer.action?200!=e.SettingReducer.data.status?(rt.toast.error(a.global[e.SettingReducer.data.message]),t.showLoader=!1):(t.message=a.global[e.SettingReducer.data.message],t.redirect=!0):e.SettingReducer.action,t},function(e){return Object(c.bindActionCreators)({getPosDisputeDetails:Lo,submitPosDispute:To,saveLaterPosDispute:Io,exportEmptyData:br},e)})(Hv),Vv=function(){window.location="/settings/pos"},zv=function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).displayToastMessage=function(e){rt.toast.error(e,{onClose:function(){Vv()}})},a.handleInputChange=function(){},a.state=a.initialState,a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){this.setState({showLoader:!0});var e=localStorage.getItem("stripeSetupClinicId");if(null!==e&&e>=0){this.setState({clinicId:e}),localStorage.removeItem("stripeSetupClinicId");var t=Ng.a.parse(this.props.location.search);if(Object.keys(t).length)if(void 0!==t.code&&""!==t.code&&null!==t.code){var a={clinic_id:e,code:t.code};this.props.setupPosExpressAccount(a)}else void 0!==t.error_description&&""!==t.error_description&&null!==t.error_description?this.displayToastMessage(t.error_description):this.displayToastMessage("Unknow Error!");else this.displayToastMessage("Stripe response data is empty")}else this.displayToastMessage("Clinic data is empty")}},{key:"render",value:function(){return i.a.createElement("div",{className:"main protected"},i.a.createElement(Aa,null),i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement(ps,null),i.a.createElement("div",{className:"setting-setion"},i.a.createElement("div",{className:"setting-container"},i.a.createElement("div",{className:"setting-title"},this.state.settingsLang.sidebar_POS_menu,i.a.createElement("span",{className:"setting-custom-switch pull-right no-margin"},i.a.createElement("span",{id:"enabled-text"},this.state.pos_enabled?this.state.settingsLang.pos_enabled_label:this.state.settingsLang.pos_disabled_label),i.a.createElement("label",{className:"setting-switch pull-right"},i.a.createElement("input",{type:"checkbox",id:"pos_enabled",name:"pos_enabled",className:" setting-custom-switch-input",checked:!!this.state.pos_enabled&&"checked",value:this.state.pos_enabled,onChange:this.handleInputChange}),i.a.createElement("span",{className:"setting-slider"})),i.a.createElement("br",null),i.a.createElement("br",null))),i.a.createElement("div",{className:this.state.pos_enabled?"is-pos_enabled-form-title":"is-pos_enabled-form-title no-display"},i.a.createElement("p",{className:"p-text no-margin"},this.state.settingsLang.pos_please_select_label,":"),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-6"},i.a.createElement("div",{className:"pos-stripe-outer"},i.a.createElement("input",{type:"radio",onChange:this.handleInputChange,className:"pos-stripe-input pos-stripe-option stripe-option",id:"single-stripe",name:"stripeConnectionMode",value:"global",checked:"global"==this.state.stripeConnectionMode&&"checked"}),i.a.createElement("label",{className:"pos-stripe-discrip",htmlFor:"single-stripe"},i.a.createElement("span",{className:"pos-stripe-title"},this.state.settingsLang.pos_single_stripe_account),this.state.settingsLang.pos_single_stripe_account_label))),i.a.createElement("div",{className:"col-sm-6"},i.a.createElement("div",{className:"pos-stripe-outer"},i.a.createElement("input",{type:"radio",onChange:this.handleInputChange,className:"pos-stripe-input pos-stripe-option stripe-option",id:"stripe-account",name:"stripeConnectionMode",value:"clinic",checked:"clinic"==this.state.stripeConnectionMode&&"checked"}),i.a.createElement("label",{className:"pos-stripe-discrip",htmlFor:"stripe-account"},i.a.createElement("span",{className:"pos-stripe-title"},this.state.settingsLang.pos_stripe_account_per_clinic),this.state.settingsLang.pos_stripe_account_per_clinic_label)))),i.a.createElement("div",{className:"global"==this.state.stripeConnectionMode?"row single":"row single no-display",id:"global-settings"},i.a.createElement("div",{className:"col-lg-12 col-xs-12 m-t-10"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-6"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.settingsLang.pos_your_account_is_connected_on),i.a.createElement("div",{className:"setting-input-box"},"30/07/2018"))),i.a.createElement("div",{className:"col-sm-6"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.settingsLang.pos_your_stripe_id),i.a.createElement("div",{className:"setting-input-box"},"acct_1CYDTRIHMD6wYJpx"))),i.a.createElement("div",{className:"col-sm-6"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.settingsLang.pos_application_fee),i.a.createElement("div",{className:"setting-input-box"},"3.50%"))),i.a.createElement("div",{className:"col-sm-6"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.settingsLang.pos_application_fee_for_swipe,":"),i.a.createElement("div",{className:"setting-input-box"},"2.75%"))),i.a.createElement("div",{className:"col-sm-6"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.settingsLang.pos_stripe_dashboard),i.a.createElement("a",{href:"javascript:void(0)","data-message":"An internal error occured: The provided key 'sk_test_********************DgAU' does not have access to account 'acct_1CYDTRIHMD6wYJpx' (or that account does not exist). Application access may have been revoked.",target:"_blank",className:"new-white-btn small-stripe-btn dashboard-link","dta-uri":0},this.state.settingsLang.pos_visit_stripe_dashboard))),i.a.createElement("div",{className:"col-sm-12"},i.a.createElement("a",{href:"javascript:void(0)","dta-uri":0,className:"new-blue-btn small-stripe-btn stripe-disconnect"},this.state.settingsLang.pos_disconnect_with_stripe),i.a.createElement("a",{href:"javascript:void(0)","data-url":"/settings/clinic_card_devices/0","data-title":!0,className:"new-blue-btn small-stripe-btn modal-link"},this.state.settingsLang.pos_card_readers))))))),i.a.createElement("div",{id:"per-clinic-settings",className:this.state.pos_enabled?"":"no-display"},i.a.createElement("div",{className:"clinic"==this.state.stripeConnectionMode?"table-responsive":"table-responsive no-display"},i.a.createElement("table",{className:"table-updated no-hover setting-table table-min-width"},i.a.createElement("thead",{className:"table-updated-thead"},i.a.createElement("tr",null,i.a.createElement("th",{className:"col-xs-3 table-updated-th sorting"},this.state.globalLang.label_clinic),i.a.createElement("th",{className:"col-xs-2 table-updated-th sorting"},this.state.globalLang.label_status," "),i.a.createElement("th",{className:"col-xs-2 table-updated-th sorting"},this.state.globalLang.label_fee," "),i.a.createElement("th",{className:"col-xs-2 table-updated-th sorting"},this.state.settingsLang.pos_swipe_fee),i.a.createElement("th",{className:"col-xs-3 table-updated-th sorting"},this.state.label_action," "))),i.a.createElement("tbody",{className:"ajax_body"},this.state.stripeConfigClinic.length>0&&this.state.stripeConfigClinic.map(function(e,t){return i.a.createElement("tr",{className:"table-updated-tr",key:"stripeConfigClinic-"+t},i.a.createElement("td",{className:"table-updated-td"},e.clinic_name),i.a.createElement("td",{className:"table-updated-td"},"Connected",i.a.createElement("br",null),e.created),i.a.createElement("td",{className:"table-updated-td"},e.platform_fee," %"),i.a.createElement("td",{className:"table-updated-td"},e.platform_fee_swipe," %"),i.a.createElement("td",{className:"table-updated-td"},i.a.createElement("a",{href:"https://connect.stripe.com/express/qHRUbC3PG9wh","data-message":!0,target:"_blank","dta-uri":1,className:"stripe-link"},"Visit Stripe Dashboard")," |",i.a.createElement("a",{href:"javascript:void(0)","dta-uri":1,className:"stripe-link stripe-disconnect"},"Disconnect Stripe")," |",i.a.createElement("a",{href:"javascript:void(0)","data-url":"/settings/clinic_card_devices/1","data-title":"New York Clinic - Cards",className:"stripe-link modal-link"},"Card Readers")))}))))))),i.a.createElement("div",{className:this.state.isShowAlertModal?"modalOverlay":"no-display"},i.a.createElement("div",{className:"small-popup-outer"},i.a.createElement("div",{className:"small-popup-header"},i.a.createElement("div",{className:"popup-name"},this.state.globalLang.label_alert),i.a.createElement("a",{href:"javascript:void(0);",className:"small-cross",onClick:this.handleAlertModal},"\xd7")),i.a.createElement("div",{className:"small-popup-content"},i.a.createElement("div",{className:"juvly-container no-padding-bottom"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-12 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label alert-modal-title"},this.state.globalLang.are_you_sure),i.a.createElement("div",{className:"new-field-label alert-modal-content"},this.state.alertModalContent)))))),i.a.createElement("div",{className:"footer-static"},i.a.createElement("a",{href:"javascript:void(0);",className:"new-white-btn pull-right",onClick:this.handleAlertModal},this.state.globalLang.label_cancel),"pos_enabled"==this.state.alertModalType?i.a.createElement("a",{href:"javascript:void(0);",className:"new-red-btn pull-left",onClick:this.handlePosDisable},this.state.yes_disable_it):"stripe"==this.state.alertModalType?i.a.createElement("a",{href:"javascript:void(0);",className:"new-red-btn pull-left",onClick:this.handleStripeType},this.state.globalLang.global_yes_change_it):null))),i.a.createElement(hd,{showLoader:this.state.showLoader})),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}},{key:"initialState",get:function(){var e,t=JSON.parse(localStorage.getItem("languageData"));return e={settingsLang:t.settings,globalLang:t.global,showLoader:!1,backAction:"/settings/pos",posStripeSetupData:{},code:"",clinicId:0},Object(se.a)(e,"showLoader",!0),Object(se.a)(e,"posData",{}),Object(se.a)(e,"stripeConfigClinic",[]),Object(se.a)(e,"stripeConfigGlobal",[]),Object(se.a)(e,"stripeConnectionMode","clinic"),Object(se.a)(e,"stripeCountry","US"),Object(se.a)(e,"stripeCurrency","usd"),Object(se.a)(e,"stripeMode",""),Object(se.a)(e,"pos_enabled",!1),Object(se.a)(e,"isShowAlertModal",!1),Object(se.a)(e,"alertModalContent",""),Object(se.a)(e,"alertModalType","pos_enabled"),Object(se.a)(e,"disconnectStripeId",""),Object(se.a)(e,"disconnectClinicId",0),Object(se.a)(e,"updateStripeId",""),Object(se.a)(e,"updateClinicId",0),Object(se.a)(e,"isShowUpdateModal",!1),e}}],[{key:"getDerivedStateFromProps",value:function(e,t){return void 0!=e.redirect&&1==e.redirect&&(e.status?rt.toast.success(e.message,{onClose:function(){Vv()}}):rt.toast.error(e.message,{onClose:function(){Vv()}})),{}}}]),t}(n.Component);var Wv=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData")),a={};return"POS_SETUP_EXPRESS_ACCOUNT"===e.SettingReducer.action&&(200!=e.SettingReducer.data.status?("third_party_error"==e.SettingReducer.data.message?a.message=e.SettingReducer.data.data:a.message=t.global[e.SettingReducer.data.message],a.redirect=!0,a.status=!1):(a.status=!0,a.message=t.global[e.SettingReducer.data.message],a.redirect=!0)),a},function(e){return Object(c.bindActionCreators)({setupPosExpressAccount:wo},e)})(Object(de.a)(zv)),Jv=Q.a.create();Jv.interceptors.response.use(function(e){return e},function(e){if(!e.response)return{data:{data:"",message:"file_type_error",status:400}}});var Qv=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).click=function(){},a.handleAnchor=function(e){var t=e.target.dataset.action;if(a.props.history.push("/".concat(a.state.roomType,"/").concat(t)),a.state.action!=t)if("pending"===t){var s={params:{page:1,pagesize:a.state.pagesize,sortorder:"asc",term:"",action:"pending"}};a.setState({tabClicked:!0,pendingProcedures:!0,signedProcedures:!1,MDRoomData:[],startFresh:!0,showLoader:!0,page:1,sortorder:"asc",term:"",next_page_url:"",action:"pending"}),a.props.fetchMDRoomData(s)}else{var n={params:{page:1,pagesize:a.state.pagesize,sortorder:"asc",term:"",action:"signed"}};a.setState({tabClicked:!0,pendingProcedures:!1,signedProcedures:!0,MDRoomData:[],startFresh:!0,showLoader:!0,page:1,sortorder:"asc",term:"",next_page_url:"",action:"signed"}),a.props.fetchMDRoomData(n)}},a.handleInputChange=function(e){var t=e.target,s="checkbox"===t.type?t.checked:t.value;if(a.setState(Object(se.a)({},e.target.name,s)),"checkbox"===t.type){var n=e.target.value,i=e.target.name.split("_")[1];if(a.state.selected.length>0&&void 0!==a.state.selected[i]){var r=a.state.selected;r[[i]][n]=!a.state.selected[[i]][n],a.setState({selected:r,selectAll:2})}else{var o=a.state.selected,l={};l[n]=!0,o[i]=l,a.setState({selected:o,selectAll:2})}}},a.handleSubmit=function(e){e.preventDefault(),localStorage.setItem("sortOnly",!0);var t={params:{page:1,pagesize:a.state.pagesize,sortorder:a.state.sortorder,term:a.state.term,action:a.state.action}};a.setState({page:1,pagesize:a.state.pagesize,sortorder:"asc"==a.state.sortorder?"desc":"asc",startFresh:!0,loadMore:!0,next_page_url:"",MDRoomData:[]}),a.setState({showLoader:!0}),a.props.fetchMDRoomData(t)},a.loadMore=function(){localStorage.setItem("sortOnly",!1),a.setState({loadMore:!0,startFresh:!0,showLoader:!1,showLoadingText:!0});var e={params:{page:a.state.page,pagesize:a.state.pagesize,sortorder:a.state.sortorder,term:a.state.term,action:a.state.action}};a.props.fetchMDRoomData(e)},a.userEdit=function(e){return i.a.createElement("div",null,a.props.history.push("/".concat(a.state.roomType,"/procedure-detail/").concat(e,"/").concat(a.state.action)))},a.procedureQuestionnaireEdit=function(e){return i.a.createElement("div",null,a.props.history.push("/".concat(a.state.roomType,"/questionnaire/").concat(e,"/").concat(a.state.action)))},a.procedureConsentsEdit=function(e){return i.a.createElement("div",null,a.props.history.push("/".concat(a.state.roomType,"/consent/").concat(e,"/").concat(a.state.action)))},a.openSignModal=function(){var e=!1;a.state.selected.length>0&&a.state.selected.map(function(t,a){for(var s in t)!0===t[s]&&(e=!0)}),!0===e&&a.setState({showSignModal:!0})},a.toggleSelectAll=function(){var e=[];0===a.state.selectAll&&void 0!==a.state.MDRoomData&&a.state.MDRoomData.map(function(t,a){var s={};s[t.id]=!0,e.push(s)}),a.setState({selected:e,selectAll:0===a.state.selectAll?1:0})},a.dismissSignModal=function(){a.setState({showSignModal:!1})},a.handleClearReset=function(){a.setState({inputOut:"input-outer",canvasClass:"signature-box sig-div  no-display",clearClass:"new-white-btn no-margin clear no-display",resetClass:"new-blue-btn reset  no-display",changeClass:"new-blue-btn no-margin Change"})},a.clear=function(){a._sketch.clear(),a._sketch.setBackgroundFromDataUrl(""),a.setState({controlledValue:null,backgroundColor:"transparent",fillWithBackgroundColor:!1,canUndo:a._sketch.canUndo(),canRedo:a._sketch.canRedo()})},a.clearCanvas=function(){a._sketch.clear(),a._sketch.setBackgroundFromDataUrl(""),a.setState({canvasClass:"signature-box sig-div",inputOut:"input-outer no-display",clearClass:"new-white-btn no-margin clear",resetClass:"new-blue-btn reset ",changeClass:"new-blue-btn no-margin Change no-display"})},a.signThis=function(){if(a._sketch&&0===a._sketch.toJSON().objects.length&&-1===a.state.canvasClass.indexOf("no-display")||a.state.canvasClass.indexOf("no-display")>0&&""===a.state.signature_url)rt.toast.error(a.state.globalLang.validation_md_signature_required_if);else{var e=[];if(a.state.selected.length>0&&a.state.selected.map(function(t,a){for(var s in t)!0===t[s]&&e.push(s)}),""!==a.state.signature_url&&a.state.canvasClass.indexOf("no-display")>0){var t={procedure_ids:e,signature_saved:a.state.save_sign?1:0,md_signature:a.state.signature},s={params:{page:1,pagesize:a.state.pagesize,sortorder:"asc",term:a.state.term,action:a.props.match.params.type}};a.props.signProcedure(t,!0,s,a.state.roomType,"list"),a.setState({signature_url:a.state.signature_url,uploadedSignature_url:a.state.signature_url,uploadedSignature:a.state.signature,signature:a.state.signature,inputOut:"input-outer",canvasClass:"signature-box sig-div  no-display",clearClass:"new-white-btn no-margin clear no-display",resetClass:"new-blue-btn reset  no-display",changeClass:"new-blue-btn no-margin Change",showSignModal:!1,tabClicked:!0,pendingProcedures:!0,signedProcedures:!1,MDRoomData:[],startFresh:!0,showLoader:!0,page:1,sortorder:"asc",term:"",next_page_url:"",selected:[]})}else Jv.post(Ee.API_URL+"upload/signature",{image_data:a._sketch.toDataURL(),upload_type:"signatures"}).then(function(t){if(t.data&&200===t.data.status){var s={procedure_ids:e,signature_saved:a.state.save_sign?1:0,md_signature:t.data.data.file_name},n={params:{page:1,pagesize:a.state.pagesize,sortorder:"asc",term:a.state.term,action:a.props.match.params.type}};a.props.signProcedure(s,!0,n,a.state.roomType,"list"),a.setState({signature_url:t.data.data.signature_url,uploadedSignature_url:t.data.data.signature_url,uploadedSignature:t.data.data.file_name,signature:t.data.data.file_name,inputOut:"input-outer",canvasClass:"signature-box sig-div  no-display",clearClass:"new-white-btn no-margin clear no-display",resetClass:"new-blue-btn reset  no-display",changeClass:"new-blue-btn no-margin Change",showSignModal:!1,tabClicked:!0,pendingProcedures:!0,signedProcedures:!1,MDRoomData:[],startFresh:!0,showLoader:!0,page:1,sortorder:"asc",term:"",next_page_url:"",selected:[]})}}).catch(function(e){rt.toast.error(a.state.roomTextData.signature_upload_error_text)})}};var s=JSON.parse(localStorage.getItem("userData")),n=JSON.parse(localStorage.getItem("languageData"));return a.state={loadMore:!0,startFresh:!0,showLoader:!1,page:1,pagesize:15,term:"",hasMoreItems:!0,next_page_url:"",procedure_name:"",procedure_date:"",consent_ids:"",patient:[],user:[],searchFunction:"",injection_array:[],procedure_information:"",user_changed:!1,procedureData:{},MDRoomData:[],data:[],select_all_pending_procedures:!1,childCheck:!1,action:e.match.params.type,pendingProcedures:"pending"===e.match.params.type,signedProcedures:"siged"===e.match.params.type,total:"",selectVisible:"right-sign-btn",selectHide:"right-sign-btn no-display",spanHide:"search-text no-display",spanVisible:"search-text",hideCheckbox:"table-checkbox table-updated-td no-display",showCheckbox:"table-checkbox table-updated-td ",hideHeading:"table-checkbox table-updated-th no-display",showHeading:"table-checkbox table-updated-th ",roomTextData:n.rooms,clinic_name:"",contact_no:"",address:"",clinic_business_hours:[],id:s.user.id,tax:"",clinicList:[],sortorder:"asc",scopes:"business_hours",tabClicked:!1,totalChecked:0,selected:[],selectAll:0,showSignModal:!1,canvasClass:"signature-box sig-div",inputOut:"input-outer",clearClass:"new-white-btn no-margin clear no-display",resetClass:"new-blue-btn reset no-display",changeClass:"new-blue-btn no-margin Change",uploadedSignature:"",uploadedSignature_url:"",save_sign:!1,roomType:a.props.match.url.split("/")[1],globalLang:n.global,showLoadingText:!1},a.props.exportEmptyData({}),localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),window.onscroll=function(){var e=parseInt(Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop));window.innerHeight+e===document.documentElement.offsetHeight&&null!=a.state.next_page_url&&a.loadMore()},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentWillUnmount",value:function(){this.props.exportEmptyData({})}},{key:"componentDidMount",value:function(){var e={params:{page:this.state.page,pagesize:this.state.pagesize,sortorder:"asc",term:this.state.term,action:this.state.action}};this.props.fetchMDRoomData(e),this.setState({showLoader:!0})}},{key:"shouldComponentUpdate",value:function(e,t){return!!this.state.startFresh||(!!this.state.loadMore||!!this.state.showLoader)}},{key:"render",value:function(){var e=this;return this.state.selected.length>0?this.state.selected.map(function(t,a){for(var s in t)!0===t[s]?e.state.totalChecked=1:e.state.totalChecked=0}):this.state.totalChecked=0,i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement("div",{className:this.state.showSignModal?"modalOverlay":"modalOverlay no-display"},i.a.createElement("div",{className:"small-popup-outer"},i.a.createElement("div",{className:"small-popup-header"},i.a.createElement("div",{className:"popup-name"},this.state.roomTextData.md_dir_consent_text),i.a.createElement("a",{onClick:this.dismissSignModal,className:"small-cross"},"\xd7")),i.a.createElement("div",{className:"juvly-container"},i.a.createElement("div",{className:"settings-subtitle signature-subtitle"},this.state.roomTextData.please_sign_below_text,":"),i.a.createElement("div",{className:this.state.canvasClass,id:"sig-div"},this.state.showSignModal&&i.a.createElement(Qm.SketchField,{width:"400px",ref:function(t){return e._sketch=t},height:"200px",tool:Qm.Tools.Pencil,lineColor:"black",lineWidth:6})),i.a.createElement("div",{className:"img-src",id:"img-src"},i.a.createElement("div",{className:this.state.inputOut,style:{background:"#fff none repeat scroll 0 0"}},i.a.createElement("img",{className:"",id:"signature_image",src:this.state.uploadedSignature_url?this.state.uploadedSignature_url:this.state.signature_url}))),i.a.createElement("div",{className:"right-sign-btn m-t-20"},i.a.createElement("input",{className:"pull-left sel-all-visible",type:"checkbox",name:"save_sign",autoComplete:"off",onChange:this.handleInputChange}),i.a.createElement("label",{className:"search-text",htmlFor:"save_sign"}," ",this.state.roomTextData.save_sig_text)),i.a.createElement("div",{className:"img-src change-sig"},i.a.createElement("div",{className:"pull-left"},i.a.createElement("button",{type:"button",id:"change",onClick:this.clearCanvas,className:this.state.changeClass},this.state.roomTextData.btn_change_text)),i.a.createElement("div",{className:"pull-left"},i.a.createElement("button",{type:"button",id:"change1",onClick:this.clear,className:this.state.clearClass},this.state.roomTextData.btn_clear_text)),i.a.createElement("div",{className:"pull-left"},i.a.createElement("button",{type:"button",id:"change2",onClick:this.handleClearReset,className:this.state.resetClass},this.state.roomTextData.btn_reset_text)),i.a.createElement("div",{className:"pull-left"}))),i.a.createElement("div",{className:"footer-static"},i.a.createElement("a",{id:"saveConsultation",onClick:this.signThis,className:"new-blue-btn pull-right"},this.state.roomTextData.sign_text)))),i.a.createElement("ul",{className:"sub-menu"},i.a.createElement("li",null,i.a.createElement("a",{name:"pendingProcedures",className:"pending"===this.state.action?"active":"","data-action":"pending",onClick:this.handleAnchor.bind(this)},this.state.roomTextData.pending_pro_text)),i.a.createElement("li",null,i.a.createElement("a",{name:"signedProcedures",className:"signed"===this.state.action?"active":"","data-action":"signed",onClick:this.handleAnchor.bind(this)},this.state.roomTextData.signed_pro_text))),i.a.createElement("div",{className:"juvly-section full-width"},!1===this.state.showLoader&&i.a.createElement("div",{className:"setting-search-outer"},i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("div",{className:"search-bg new-search"},i.a.createElement("i",{className:"fas fa-search"}),i.a.createElement("input",{name:"term",className:"setting-search-input chart_search",placeholder:this.state.roomTextData.search_text,autoComplete:"off",value:this.state.term,onChange:this.handleInputChange}))),i.a.createElement("span",{className:"signed"===this.state.action?this.state.spanHide:this.state.spanVisible},this.state.roomTextData.signature_pending_count_text," (",this.state.total,")"),i.a.createElement("div",{className:"signed"===this.state.action?this.state.selectHide:""!==this.state.total&&this.state.total>0?this.state.selectVisible:this.state.selectHide},i.a.createElement("input",{type:"checkbox",className:"checkbox pull-left sel-all-visible",checked:1===this.state.selectAll,ref:function(t){t&&(t.indeterminate=2===e.state.selectAll)},onChange:function(){return e.toggleSelectAll()}}),i.a.createElement("label",{className:"search-text",html:"select_all_pending_procedures"},this.state.roomTextData.select_all_text),i.a.createElement("button",{type:"submit",onClick:this.openSignModal,className:this.state.totalChecked>0?"new-blue-btn pull-right consent-model":"new-blue-btn pull-right consent-model disable",id:"sign"},this.state.roomTextData.sign_text))),i.a.createElement("div",{className:"table-responsive min-h-200"},i.a.createElement("table",{className:"table-updated setting-table min-w-1000 ajax-view"},i.a.createElement("thead",{className:""!=this.state.MDRoomData?"table-updated-thead":"no-display"},i.a.createElement("tr",null,i.a.createElement("th",{className:"signed"===this.state.action?this.state.hideHeading:this.state.showHeading}),i.a.createElement("th",{className:"col-xs-2 table-updated-th"},this.state.roomTextData.th_pro_info_text),i.a.createElement("th",{className:"col-xs-2 table-updated-th"},this.state.roomTextData.th_client_text),i.a.createElement("th",{className:"col-xs-2 table-updated-th"},this.state.roomTextData.th_provider_text),i.a.createElement("th",{className:"col-xs-2 table-updated-th"},this.state.roomTextData.th_treat_sum_text),i.a.createElement("th",{className:"col-xs-1 table-updated-th"},this.state.roomTextData.th_latest_note),i.a.createElement("th",{className:"col-xs-1 table-updated-th"},this.state.roomTextData.th_consent_text),i.a.createElement("th",{className:"col-xs-1 table-updated-th"},this.state.roomTextData.th_question_text),i.a.createElement("th",{className:"col-xs-1 table-updated-th no-padding-right"},this.state.roomTextData.th_consult_only_text))),i.a.createElement("tbody",{className:"patient-list"},void 0!==this.state.MDRoomData&&this.state.MDRoomData.map(function(t,s){return i.a.createElement("tr",{className:"table-updated-tr md-rooms-checkbox",key:s},i.a.createElement("td",{className:"signed"===e.state.action?e.state.hideCheckbox:e.state.showCheckbox},i.a.createElement("input",{type:"checkbox",name:"childCheck_"+s,className:"select-pending-procedure",checked:e.state.selected.length>0&&void 0!==e.state.selected[s]&&!0===e.state.selected[[s]][t.id],onChange:e.handleInputChange,value:t.id})),i.a.createElement("td",{className:"col-xs-2 table-updated-td modal-link cursor-pointer","data-url":t.id,onClick:e.userEdit.bind(e,t.id)},i.a.createElement("div",{className:"pro-info"},t.procedure_name?t.procedure_name:"N/A"),i.a.createElement("div",{className:"pro-date"},t.procedure_date?t.procedure_date.split(" ")[0]:"")),i.a.createElement("td",{className:"col-xs-2 table-updated-td",onClick:e.userEdit.bind(e,t.id)},t.patient&&void 0!=t.patient.firstname?t.patient.firstname:""," ",t.patient&&void 0!=t.patient.lastname?t.patient.lastname:""),i.a.createElement("td",{className:"col-xs-2 table-updated-td",onClick:e.userEdit.bind(e,t.id)},t.user.firstname," ",t.user.lastname),i.a.createElement("td",{className:"col-xs-1 table-updated-td modal-link",onClick:e.userEdit.bind(e,t.id)},t.injection_array.map(function(e,t){return i.a.createElement("div",{key:t},i.a.createElement("b",null,e.product_name)," ",e.quantity?Ie(e.quantity):""," ",e.unit)})),i.a.createElement("td",{className:"col-xs-1 table-updated-td",title:e.state.roomTextData.th_latest_note},null!==t.procedure_notes_count&&t.procedure_notes_count>0?i.a.createElement("img",{src:a(126)}):i.a.createElement("img",{src:a(127)})),i.a.createElement("td",{className:"col-xs-1 table-updated-td",title:e.state.roomTextData.th_consent_text},null!==t.consent_ids&&""!==t.consent_ids?i.a.createElement("img",{onClick:e.procedureConsentsEdit.bind(e,t.id),src:a(126)}):i.a.createElement("img",{src:a(127)})),i.a.createElement("td",{className:"col-xs-1 table-updated-td",title:e.state.roomTextData.th_question_text},t.answers_count>0||t.answer_multiples_count>0?i.a.createElement("img",{onClick:e.procedureQuestionnaireEdit.bind(e,t.id),src:a(126)}):i.a.createElement("img",{src:a(127)})),i.a.createElement("td",{className:"col-xs-1 table-updated-td"},1===t.is_consult?"".concat(e.state.roomTextData.yes_text):"".concat(e.state.roomTextData.no_text)))}))),!0!==this.state.showLoader&&void 0!==this.state.MDRoomData&&0===this.state.MDRoomData.length&&i.a.createElement("div",{className:"text-center text-loading"},this.state.roomTextData.no_rec_room_text," ")),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.globalLang.Please_Wait)))),i.a.createElement("div",{className:this.state.showLoadingText?"loading-please-wait":"loading-please-wait no-display"},this.state.globalLang.loading_please_wait_text)),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(void 0!==e.MDRoomData&&void 0!==e.MDRoomData.procedures&&(e.MDRoomData.procedures.next_page_url!==t.next_page_url||e.MDRoomData.action!==t.action)){if(!0===t.tabClicked)return{tabClicked:!1,MDRoomData:[]};var a={};return null===t.next_page_url&&e.MDRoomData.action===t.action?a.next_page_url=null:(0===t.MDRoomData.length&&!0===t.startFresh?"false"==localStorage.getItem("sortOnly")?(a.showSignModal=!1,a.canvasClass=""===e.MDRoomData.login_user.signature_url?"signature-box sig-div":"signature-box sig-div no-display",a.inputOut=""===e.MDRoomData.login_user.signature_url?"input-outer no-display":"input-outer",a.clearClass=""===e.MDRoomData.login_user.signature_url?"new-white-btn no-margin clear":"new-white-btn no-margin clear no-display",a.resetClass=""===e.MDRoomData.login_user.signature_url?"new-blue-btn reset ":"new-blue-btn reset no-display",a.changeClass=""===e.MDRoomData.login_user.signature_url?"new-blue-btn no-margin Change no-display":"new-blue-btn no-margin Change ",a.uploadedSignature="",a.uploadedSignature_url="",a.signature_url=e.MDRoomData.login_user.signature_url,a.signature=e.MDRoomData.login_user.signature,a.save_sign=!1,a.MDRoomData=e.MDRoomData.procedures.data,null!=e.MDRoomData.procedures.next_page_url?a.page=t.page+1:a.next_page_url=e.MDRoomData.procedures.next_page_url,a.startFresh=!1,a.showLoader=!1,a.action=e.MDRoomData.action,a.total=e.MDRoomData.procedures.total,a.injection_array=e.MDRoomData.procedures.injection_array,a.showLoadingText=!1):localStorage.setItem("sortOnly",!1):t.MDRoomData!==e.MDRoomData.procedures.data&&0!==t.MDRoomData.length&&(!1===t.tabClicked?(a.MDRoomData=Object(oa.a)(t.MDRoomData).concat(Object(oa.a)(e.MDRoomData.procedures.data)),a.selectAll=0):a.tabClicked=!1,a.total=e.MDRoomData.procedures.total,a.injection_array=e.MDRoomData.procedures.injection_array,a.page=t.page+1,a.next_page_url=e.MDRoomData.procedures.next_page_url,a.action=e.MDRoomData.action,a.showLoader=!1,a.showSignModal=!1,a.canvasClass=""===e.MDRoomData.login_user.signature_url?"signature-box sig-div":"signature-box sig-div no-display",a.inputOut=""===e.MDRoomData.login_user.signature_url?"input-outer no-display":"input-outer",a.clearClass=""===e.MDRoomData.login_user.signature_url?"new-white-btn no-margin clear":"new-white-btn no-margin clear no-display",a.resetClass=""===e.MDRoomData.login_user.signature_url?"new-blue-btn reset ":"new-blue-btn reset no-display",a.changeClass=""===e.MDRoomData.login_user.signature_url?"new-blue-btn no-margin Change no-display":"new-blue-btn no-margin Change ",a.uploadedSignature="",a.uploadedSignature_url="",a.signature_url=e.MDRoomData.login_user.signature_url,a.signature=e.MDRoomData.login_user.signature,a.save_sign=!1,a.showLoadingText=!1),a)}return null}}]),t}(n.Component);var Kv=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData"));if("MDRoom_LIST"===e.SettingReducer.action){if(200===e.SettingReducer.data.status)return{MDRoomData:e.SettingReducer.data.data}}else if("SIGN_PROCEDURE"===e.SettingReducer.action)return rt.toast.dismiss(),201===e.SettingReducer.data.status?(rt.toast.success(t.global[e.SettingReducer.data.message]),{MDRoomData:e.SettingReducer.data.data}):(rt.toast.error(t.global[e.SettingReducer.data.message]),{});return"EMPTY_DATA"===e.SettingReducer.action&&200!=e.SettingReducer.data.status?(rt.toast.error(t.global[e.SettingReducer.data.message]),{}):{}},function(e){return Object(c.bindActionCreators)({fetchMDRoomData:zi,signProcedure:Er,exportEmptyData:br},e)})(Object(de.a)(Qv)),Xv=Q.a.create(),Zv=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleAnchor=function(e){var t=e.target.dataset.action;if(a.props.history.push("/".concat(a.state.roomType,"/").concat(t)),a.state.action!=t){var s={params:{page:1,pagesize:a.state.pagesize,sortorder:"asc",term:"",action:t}};"pending"===t&&a.props.fetchSelectMD(),a.setState({tabClicked:!0,MDRoomData:[],startFresh:!0,showLoader:!0,page:1,sortorder:"asc",term:"",next_page_url:"",action:t}),a.props.fetchProviderRoomData(s)}},a.handleInputChange=function(e){var t=e.target,s="checkbox"===t.type?t.checked:t.value;a.setState(Object(se.a)({},e.target.name,s))},a.handleSubmit=function(e){e.preventDefault(),localStorage.setItem("sortOnly",!0);var t={params:{page:1,pagesize:a.state.pagesize,sortorder:a.state.sortorder,term:a.state.term,action:a.state.action}};a.setState({page:1,pagesize:a.state.pagesize,sortorder:"asc"==a.state.sortorder?"desc":"asc",startFresh:!0,loadMore:!0,next_page_url:"",MDRoomData:[]}),a.setState({showLoader:!0}),a.props.fetchProviderRoomData(t)},a.loadMore=function(){localStorage.setItem("sortOnly",!1),a.setState({loadMore:!0,startFresh:!0,showLoader:!1,showLoadingText:!0});var e={params:{page:a.state.page,pagesize:a.state.pagesize,sortorder:a.state.sortorder,term:a.state.term,action:a.state.action}};a.props.fetchProviderRoomData(e)},a.userEdit=function(e){return i.a.createElement("div",null,a.props.history.push("/".concat(a.state.roomType,"/procedure-detail/").concat(e,"/").concat(a.state.action)))},a.doThis=function(e){e.preventDefault();var t=e.target.dataset.action,s=e.target.dataset.procedureid;if(t&&s>0){if("unmarkafterphoto"===t||"markafterphoto"===t){var n={is_marked:e.target.dataset.isafterphotos},i={params:{page:1,pagesize:a.state.pagesize,sortorder:"asc",term:"",action:a.state.action}};a.props.markUnmarkAsAfterPhotos(n,s,i,a.state.roomType,"list"),a.setState({tabClicked:!0,MDRoomData:[],startFresh:!0,showLoader:!0,page:1,sortorder:"asc",term:"",next_page_url:""})}if("hide"===t){var r={params:{page:1,pagesize:a.state.pagesize,sortorder:"asc",term:"",action:a.state.action}};a.props.hidemarkAsAfter(s,r,a.state.roomType,"list",0),a.setState({tabClicked:!0,MDRoomData:[],startFresh:!0,showLoader:!0,page:1,sortorder:"asc",term:"",next_page_url:""})}"incompletesign"!==t&&"markconsult"!==t&&"completesign"!==t||("incompletesign"===t?a.setState({procedureToSign:s,showDeleteModal:!0,listAction:t}):a.setState({procedureToSign:s,showSignModal:!0,listAction:t}))}},a.dismissConfirmationModal=function(){a.setState({showDeleteModal:!1,procedureToSign:0,listAction:""})},a.dismissSignModal=function(){a.setState({showSignModal:!1,procedureToSign:0,listAction:""})},a.handleClearReset=function(){a.setState({inputOut:"input-outer",canvasClass:"signature-box sig-div  no-display",clearClass:"new-white-btn no-margin clear no-display",resetClass:"new-blue-btn reset  no-display",changeClass:"new-blue-btn no-margin Change"})},a.clear=function(){a._sketch.clear(),a._sketch.setBackgroundFromDataUrl(""),a.setState({controlledValue:null,backgroundColor:"transparent",fillWithBackgroundColor:!1,canUndo:a._sketch.canUndo(),canRedo:a._sketch.canRedo()})},a.clearCanvas=function(){a._sketch&&(a._sketch.clear(),a._sketch.setBackgroundFromDataUrl("")),a.setState({canvasClass:"signature-box sig-div",inputOut:"input-outer no-display",clearClass:"new-white-btn no-margin clear",resetClass:"new-blue-btn reset ",changeClass:"new-blue-btn no-margin Change no-display"})},a.confirmAndOpen=function(){a.setState({showDeleteModal:!1,showSignModal:!0})},a.signThis=function(){if(a._sketch&&0===a._sketch.toJSON().objects.length&&-1===a.state.canvasClass.indexOf("no-display")||a.state.canvasClass.indexOf("no-display")>0&&""===a.state.signature_url)rt.toast.error(a.state.globalLang.validation_md_signature_required_if);else{var e=a.state.procedureToSign,t=a.state.listAction,s=0,n=a.state.md_id;if("markconsult"===t&&(s=1),""!==a.state.signature_url&&a.state.canvasClass.indexOf("no-display")>0){var i={current_procedure_id:e,procedure_ids:[e],signature:a.state.signature,signature_saved:a.state.save_sign?1:0,is_consult:s,md_user_id:n},r={params:{page:1,pagesize:a.state.pagesize,sortorder:"asc",term:a.state.term,action:a.props.match.params.type}};a.props.signProcedure(i,!0,r,a.state.roomType,"list"),a.setState({signature_url:a.state.signature_url,uploadedSignature_url:a.state.signature_url,uploadedSignature:a.state.signature,signature:a.state.signature,inputOut:"input-outer",canvasClass:"signature-box sig-div  no-display",clearClass:"new-white-btn no-margin clear no-display",resetClass:"new-blue-btn reset  no-display",changeClass:"new-blue-btn no-margin Change",showSignModal:!1,tabClicked:!0,MDRoomData:[],startFresh:!0,showLoader:!0,page:1,sortorder:"asc",term:"",next_page_url:""})}else Xv.post(Ee.API_URL+"upload/signature",{image_data:a._sketch.toDataURL(),upload_type:"signatures"}).then(function(t){if(t.data&&200===t.data.status){var i={current_procedure_id:e,procedure_ids:[e],signature:t.data.data.file_name,signature_saved:a.state.save_sign?1:0,is_consult:s,md_user_id:n},r={params:{page:1,pagesize:a.state.pagesize,sortorder:"asc",term:a.state.term,action:a.props.match.params.type}};a.props.signProcedure(i,!0,r,a.state.roomType,"list"),a.setState({signature_url:a.state.signature_url,uploadedSignature_url:a.state.signature_url,uploadedSignature:a.state.signature,signature:a.state.signature,inputOut:"input-outer",canvasClass:"signature-box sig-div  no-display",clearClass:"new-white-btn no-margin clear no-display",resetClass:"new-blue-btn reset  no-display",changeClass:"new-blue-btn no-margin Change",showSignModal:!1,tabClicked:!0,MDRoomData:[],startFresh:!0,showLoader:!0,page:1,sortorder:"asc",term:"",next_page_url:""})}}).catch(function(e){rt.toast.error(a.state.roomTextData.signature_upload_error_text)})}},a.procedureQuestionnaireEdit=function(e){return i.a.createElement("div",null,a.props.history.push("/".concat(a.state.roomType,"/questionnaire/").concat(e,"/").concat(a.state.action)))},a.procedureConsentsEdit=function(e){return i.a.createElement("div",null,a.props.history.push("/".concat(a.state.roomType,"/consent/").concat(e,"/").concat(a.state.action)))};var s=JSON.parse(localStorage.getItem("userData")),n=JSON.parse(localStorage.getItem("languageData"));return a.state={loadMore:!0,startFresh:!0,showLoader:!1,page:1,pagesize:15,term:"",hasMoreItems:!0,next_page_url:"",procedure_name:"",procedure_date:"",consent_ids:"",patient:[],user:[],searchFunction:"",injection_array:[],procedure_information:"",user_changed:!1,procedureData:{},MDRoomData:[],data:[],childCheck:!1,action:e.match.params.type,total:"",selectVisible:"right-sign-btn",selectHide:"right-sign-btn no-display",spanHide:"search-text no-display",spanVisible:"search-text",hideHeading:"table-checkbox table-updated-th no-display",showHeading:"table-checkbox table-updated-th ",roomTextData:n.rooms,clinic_name:"",contact_no:"",address:"",clinic_business_hours:[],id:s.user.id,tax:"",clinicList:[],sortorder:"asc",scopes:"business_hours",tabClicked:!1,roomType:a.props.match.url.split("/")[1],globalLang:n.global,settingLang:n.settings,showLoadingText:!1,showDeleteModal:!1,procedureToSign:0,showSignModal:!1,canvasClass:"signature-box sig-div",inputOut:"input-outer",clearClass:"new-white-btn no-margin clear no-display",resetClass:"new-blue-btn reset no-display",changeClass:"new-blue-btn no-margin Change",uploadedSignature:"",uploadedSignature_url:"",save_sign:!1,listAction:"",mdList:[],md_id:0},localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),window.onscroll=function(){var e=parseInt(Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop));window.innerHeight+e===document.documentElement.offsetHeight&&null!=a.state.next_page_url&&a.loadMore()},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){JSON.parse(localStorage.getItem("languageData"));var e={params:{page:this.state.page,pagesize:this.state.pagesize,sortorder:"asc",term:this.state.term,action:this.state.action}};this.setState({showLoader:!0}),this.props.fetchProviderRoomData(e),"pending"===this.state.action&&this.props.fetchSelectMD()}},{key:"shouldComponentUpdate",value:function(e,t){return!!this.state.startFresh||(!!this.state.loadMore||!!this.state.showLoader)}},{key:"render",value:function(){var e=this,t="";void 0!==this.state.mdList&&this.state.mdList.length>0&&(t=this.state.mdList.map(function(e,t){return i.a.createElement("option",{key:t,value:e.id},e.firstname&&void 0!=e.firstname?e.firstname:""," ",e.lastname&&void 0!=e.lastname?e.lastname:"")}));var s=i.a.createElement(Qm.SketchField,{width:"400px",ref:function(t){return e._sketch=t},height:"200px",tool:Qm.Tools.Pencil,lineColor:"black",lineWidth:6});return i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement("div",{className:this.state.showSignModal?"modalOverlay":"modalOverlay no-display"},i.a.createElement("div",{className:"small-popup-outer"},i.a.createElement("div",{className:"small-popup-header"},i.a.createElement("div",{className:"popup-name"},this.state.roomTextData.room_sign_and_send_text),i.a.createElement("a",{onClick:this.dismissSignModal,className:"small-cross"},"\xd7")),i.a.createElement("div",{className:"juvly-container"},i.a.createElement("div",{className:"settings-subtitle signature-subtitle"},"Please select MD's:"),i.a.createElement("select",{name:"md_id",id:"md_id",className:"setting-select-box",onChange:this.handleInputChange},t),i.a.createElement("div",{className:"settings-subtitle signature-subtitle"},this.state.roomTextData.please_sign_below_text,":"),i.a.createElement("div",{className:this.state.canvasClass,id:"sig-div"},-1===this.state.canvasClass.indexOf("no-display")&&s),i.a.createElement("div",{className:"img-src",id:"img-src"},i.a.createElement("div",{className:this.state.inputOut,style:{background:"#fff none repeat scroll 0 0"}},i.a.createElement("img",{className:"",id:"signature_image",src:this.state.uploadedSignature_url?this.state.uploadedSignature_url:this.state.signature_url}))),i.a.createElement("div",{className:"right-sign-btn m-t-20"},i.a.createElement("input",{className:"pull-left sel-all-visible",type:"checkbox",name:"save_sign",autoComplete:"off",onChange:this.handleInputChange}),i.a.createElement("label",{className:"search-text",htmlFor:"save_sign"}," ",this.state.roomTextData.save_sig_text)),i.a.createElement("div",{className:"img-src change-sig"},i.a.createElement("div",{className:"pull-left"},i.a.createElement("button",{type:"button",id:"change",onClick:this.clearCanvas,className:this.state.changeClass},this.state.roomTextData.btn_change_text)),i.a.createElement("div",{className:"pull-left"},i.a.createElement("button",{type:"button",id:"change1",onClick:this.clear,className:this.state.clearClass},this.state.roomTextData.btn_clear_text)),i.a.createElement("div",{className:"pull-left"},i.a.createElement("button",{type:"button",id:"change2",onClick:this.handleClearReset,className:this.state.resetClass},this.state.roomTextData.btn_reset_text)),i.a.createElement("div",{className:"pull-left"}))),i.a.createElement("div",{className:"footer-static"},i.a.createElement("a",{onClick:this.signThis,className:"new-blue-btn pull-right"},this.state.roomTextData.room_btn_sign_and_send_text)))),i.a.createElement("ul",{className:"sub-menu"},i.a.createElement("li",null,i.a.createElement("a",{name:"pendingProcedures",className:"pending"===this.state.action?"active":"","data-action":"pending",onClick:this.handleAnchor.bind(this)},this.state.roomTextData.chart_audit_text)),i.a.createElement("li",null,i.a.createElement("a",{name:"signedProcedures",className:"signed"===this.state.action?"active":"","data-action":"signed",onClick:this.handleAnchor.bind(this)},this.state.roomTextData.signed_pro_text)),i.a.createElement("li",null,i.a.createElement("a",{name:"sendTOMDProcedures",className:"sent-to-md"===this.state.action?"active":"","data-action":"sent-to-md",onClick:this.handleAnchor.bind(this)},this.state.roomTextData.sent_to_md_text)),i.a.createElement("li",null,i.a.createElement("a",{name:"signedByMDProcedures",className:"signed-by-md"===this.state.action?"active":"","data-action":"signed-by-md",onClick:this.handleAnchor.bind(this)},this.state.roomTextData.signed_by_md_text))),i.a.createElement("div",{className:"juvly-section full-width"},!1===this.state.showLoader&&i.a.createElement("div",{className:"setting-search-outer"},i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("div",{className:"search-bg new-search"},i.a.createElement("i",{className:"fas fa-search"}),i.a.createElement("input",{name:"term",className:"setting-search-input chart_search",placeholder:this.state.roomTextData.search_text,value:this.state.term,autoComplete:"off",onChange:this.handleInputChange})))),i.a.createElement("div",{className:this.state.showDeleteModal?"overlay":""}),i.a.createElement("div",{id:"filterModal",role:"dialog",className:this.state.showDeleteModal?"modal fade in displayBlock":"modal fade no-display"},i.a.createElement("div",{className:"modal-dialog"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal",onClick:this.dismissConfirmationModal},"\xd7"),i.a.createElement("h4",{className:"modal-title"},this.state.globalLang.delete_confirmation)),i.a.createElement("div",{id:"errorwindow",className:"modal-body add-patient-form filter-patient"},this.state.roomTextData.room_incomplete_sign_confirmation_text),i.a.createElement("div",{className:"modal-footer"},i.a.createElement("div",{className:"col-md-12 text-left"},i.a.createElement("button",{type:"button",className:"btn  logout pull-right","data-dismiss":"modal",onClick:this.dismissConfirmationModal},this.state.roomTextData.no_text),i.a.createElement("button",{type:"button",className:"btn btn-success pull-right m-r-10","data-dismiss":"modal",onClick:this.confirmAndOpen},this.state.roomTextData.yes_text)))))),i.a.createElement("div",{className:"table-responsive min-h-200"},i.a.createElement("table",{className:"table-updated setting-table min-w-1000 ajax-view"},i.a.createElement("thead",{className:""!=this.state.MDRoomData?"table-updated-thead":"no-display"},i.a.createElement("tr",null,("sent-to-md"===this.state.action||"signed-by-md"===this.state.action)&&i.a.createElement("th",{className:"col-xs-1 table-updated-th"},this.state.roomTextData.th_md_name),i.a.createElement("th",{className:"col-xs-2 table-updated-th"},this.state.roomTextData.th_pro_info_text),i.a.createElement("th",{className:"col-xs-2 table-updated-th"},this.state.roomTextData.th_client_text),"pending"!==this.state.action&&i.a.createElement("th",{className:"col-xs-2 table-updated-th"},this.state.roomTextData.th_treat_sum_text),"pending"===this.state.action&&i.a.createElement("th",{className:"col-xs-1 table-updated-th"},this.state.roomTextData.th_picture_text),"pending"===this.state.action&&i.a.createElement("th",{className:"col-xs-1 table-updated-th"},this.state.roomTextData.th_traceablity_text),i.a.createElement("th",{className:"col-xs-1 table-updated-th"},"pending"===this.state.action?"".concat(this.state.roomTextData.th_notes_text):"".concat(this.state.roomTextData.th_latest_note)),i.a.createElement("th",{className:"col-xs-1 table-updated-th"},"Consent"),i.a.createElement("th",{className:"col-xs-1 table-updated-th"},"Questionnaire"),"pending"===this.state.action&&i.a.createElement("th",{className:"col-xs-2 table-updated-th"},this.state.roomTextData.th_payment_traxn_text),"pending"===this.state.action&&i.a.createElement("th",{className:"col-xs-2 table-updated-th"},this.state.roomTextData.th_actions_text),"pending"!==this.state.action&&i.a.createElement("th",{className:"col-xs-1 table-updated-th no-padding-right"},this.state.roomTextData.th_consult_only_text))),i.a.createElement("tbody",{className:"patient-list"},void 0!==this.state.MDRoomData&&this.state.MDRoomData.map(function(t,s){var n=0,r="Incomplete sign anyway",o=1,l="Mark as after photos";return(null!==t.procedure_image&&""!==t.procedure_image||null!==t.procedure_image_45&&""!==t.procedure_image_45||"laser"===t.type||"coolsculpting"===t.type)&&null!==t.trace_injections&&t.trace_injections.length>0&&null!==t.procedure_notes_count&&t.procedure_notes_count>0&&null!==t.consent_ids&&""!==t.consent_ids&&(t.answers_count>0||t.answer_multiples_count>0)&&null!==t.pos_invoices_count&&t.pos_invoices_count>0&&(n=1,r="Sign"),1===t.is_after_photos&&(o=0,l="Unmark as after photos"),i.a.createElement("tr",{className:"table-updated-tr md-rooms-checkbox",key:s},("sent-to-md"===e.state.action||"signed-by-md"===e.state.action)&&i.a.createElement("td",{className:"col-xs-2 table-updated-td modal-link cursor-pointer","data-url":t.id,onClick:e.userEdit.bind(e,t.id)},t.user&&void 0!=t.user.firstname?t.user.firstname:""," ",t.user&&void 0!=t.user.lastname?t.user.lastname:""),i.a.createElement("td",{className:"col-xs-2 table-updated-td modal-link cursor-pointer","data-url":t.id,onClick:e.userEdit.bind(e,t.id)},i.a.createElement("div",{className:"pro-info"},t.procedure_name?t.procedure_name:"N/A"),i.a.createElement("div",{className:"pro-date"},t.procedure_date?t.procedure_date.split(" ")[0]:"")),i.a.createElement("td",{className:"col-xs-2 table-updated-td",onClick:e.userEdit.bind(e,t.id)},t.patient&&void 0!=t.patient.firstname?t.patient.firstname:""," ",t.patient&&void 0!=t.patient.lastname?t.patient.lastname:""),"pending"!==e.state.action&&i.a.createElement("td",{className:"col-xs-1 table-updated-td modal-link",onClick:e.userEdit.bind(e,t.id)},void 0!==t.injection_array&&t.injection_array.map(function(e,t){return i.a.createElement("div",{key:t},i.a.createElement("b",null,e.product_name)," ",e.quantity?Ie(e.quantity):""," ",e.unit)})),"pending"===e.state.action&&i.a.createElement("td",{className:"col-xs-1 table-updated-td",title:e.state.roomTextData.th_picture_text},null!==t.procedure_image&&""!==t.procedure_image||null!==t.procedure_image_45&&""!==t.procedure_image_45||"laser"===t.type||"coolsculpting"===t.type?i.a.createElement("img",{src:a(126)}):i.a.createElement("img",{src:a(127)})),"pending"===e.state.action&&i.a.createElement("td",{className:"col-xs-1 table-updated-td",title:e.state.roomTextData.th_traceablity_text},null!==t.trace_injections&&t.trace_injections.length>0?i.a.createElement("img",{src:a(126)}):i.a.createElement("img",{src:a(127)})),i.a.createElement("td",{className:"col-xs-1 table-updated-td",title:"pending"===e.state.action?"".concat(e.state.roomTextData.th_notes_text):"".concat(e.state.roomTextData.th_latest_note)},null!==t.procedure_notes_count&&t.procedure_notes_count>0?i.a.createElement("img",{src:a(126)}):i.a.createElement("img",{src:a(127)})),i.a.createElement("td",{className:"col-xs-1 table-updated-td",title:e.state.roomTextData.th_consent_text},null!==t.consent_ids&&""!==t.consent_ids?i.a.createElement("img",{onClick:e.procedureConsentsEdit.bind(e,t.id),src:a(126)}):i.a.createElement("img",{src:a(127)})),i.a.createElement("td",{className:"col-xs-1 table-updated-td",title:e.state.roomTextData.th_question_text},t.answers_count>0||t.answer_multiples_count>0?i.a.createElement("img",{onClick:e.procedureQuestionnaireEdit.bind(e,t.id),src:a(126)}):i.a.createElement("img",{src:a(127),onClick:e.procedureQuestionnaireEdit.bind(e,t.id)})),"pending"===e.state.action&&i.a.createElement("td",{className:"col-xs-1 table-updated-td",title:e.state.roomTextData.th_payment_traxn_text},null!==t.pos_invoices_count&&t.pos_invoices_count>0?i.a.createElement("img",{src:a(126)}):i.a.createElement("img",{src:a(127)})),"pending"===e.state.action&&i.a.createElement("td",{className:"col-xs-1 table-updated-td"},i.a.createElement("div",{className:"dropdown show-hide-btn"},i.a.createElement("button",{className:"btn btn-default dropdown-toggle btn-xs audit-btn",type:"button",id:"dropdownMenu1","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true"},"Actions ",i.a.createElement("i",{className:"fas fa-angle-down"})),i.a.createElement("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenu1"},i.a.createElement("li",null,i.a.createElement("a",{onClick:e.doThis,className:"sign-procedure sign-procedure-class","data-consult":"0","data-procedureid":t.id,"data-iscomplete":n,"data-action":0===n?"incompletesign":"completesign"},r)),i.a.createElement("li",null,i.a.createElement("a",{onClick:e.doThis,className:"sign-as-consult sign-procedure-class","data-consult":"1","data-procedureid":t.id,"data-action":"markconsult"},"Mark as consult")),i.a.createElement("li",null,i.a.createElement("a",{onClick:e.doThis,className:"mark-as-after-photo sign-procedure-class","data-procedureid":t.id,"data-isafterphotos":o,"data-action":0===o?"unmarkafterphoto":"markafterphoto"},l)),1===t.is_after_photos&&i.a.createElement("li",null,i.a.createElement("a",{onClick:e.doThis,className:"hide-procedure sign-procedure-class","data-procedureid":t.id,"data-action":"hide"},"Hide"))))),"pending"!==e.state.action&&i.a.createElement("td",{className:"col-xs-1 table-updated-td"},1===t.is_consult?"".concat(e.state.roomTextData.yes_text):"".concat(e.state.roomTextData.no_text)))}))),!0!==this.state.showLoader&&void 0!==this.state.MDRoomData&&0===this.state.MDRoomData.length&&i.a.createElement("div",{className:"text-center text-loading"},this.state.roomTextData.no_rec_room_text," ")),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.globalLang.Please_Wait)))),i.a.createElement("div",{className:this.state.showLoadingText?"loading-please-wait":"loading-please-wait no-display"},this.state.globalLang.loading_please_wait_text)),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(void 0===e.MDRoomData&&void 0!==e.mdList&&e.mdList!==t.mdList&&e.mdList.length>0)return{mdList:e.mdList,md_id:e.mdList[0].id};if(!0===t.tabClicked)return{tabClicked:!1,MDRoomData:[]};if(void 0!=e.MDRoomData&&void 0!==e.MDRoomData.procedures&&(e.MDRoomData.procedures.next_page_url!==t.next_page_url||e.MDRoomData.action!=t.action)){var a={};return null==t.next_page_url&&e.MDRoomData.action==t.action?a.next_page_url=null:(0==t.MDRoomData.length&&1==t.startFresh?"false"==localStorage.getItem("sortOnly")?(a.MDRoomData=e.MDRoomData.procedures.data,null!=e.MDRoomData.procedures.next_page_url?a.page=t.page+1:a.next_page_url=e.MDRoomData.procedures.next_page_url,a.startFresh=!1,a.showLoader=!1,a.action=e.MDRoomData.action,a.total=e.MDRoomData.procedures.total,a.injection_array=e.MDRoomData.procedures.injection_array,a.showLoadingText=!1,a.showSignModal=!1,a.canvasClass=""===e.MDRoomData.login_user.signature_url?"signature-box sig-div":"signature-box sig-div no-display",a.inputOut=""===e.MDRoomData.login_user.signature_url?"input-outer no-display":"input-outer",a.clearClass=""===e.MDRoomData.login_user.signature_url?"new-white-btn no-margin clear":"new-white-btn no-margin clear no-display",a.resetClass=""===e.MDRoomData.login_user.signature_url?"new-blue-btn reset ":"new-blue-btn reset no-display",a.changeClass=""===e.MDRoomData.login_user.signature_url?"new-blue-btn no-margin Change no-display":"new-blue-btn no-margin Change ",a.uploadedSignature="",a.uploadedSignature_url="",a.signature_url=e.MDRoomData.login_user.signature_url,a.signature=e.MDRoomData.login_user.signature,a.save_sign=!1):localStorage.setItem("sortOnly",!1):t.MDRoomData!=e.MDRoomData.procedures.data&&0!=t.MDRoomData.length&&(!1===t.tabClicked?a.MDRoomData=Object(oa.a)(t.MDRoomData).concat(Object(oa.a)(e.MDRoomData.procedures.data)):a.tabClicked=!1,a.total=e.MDRoomData.procedures.total,a.injection_array=e.MDRoomData.procedures.injection_array,a.page=t.page+1,a.next_page_url=e.MDRoomData.procedures.next_page_url,a.action=e.MDRoomData.action,a.showLoader=!1,a.showLoadingText=!1,a.showSignModal=!1,a.canvasClass=""===e.MDRoomData.login_user.signature_url?"signature-box sig-div":"signature-box sig-div no-display",a.inputOut=""===e.MDRoomData.login_user.signature_url?"input-outer no-display":"input-outer",a.clearClass=""===e.MDRoomData.login_user.signature_url?"new-white-btn no-margin clear":"new-white-btn no-margin clear no-display",a.resetClass=""===e.MDRoomData.login_user.signature_url?"new-blue-btn reset ":"new-blue-btn reset no-display",a.changeClass=""===e.MDRoomData.login_user.signature_url?"new-blue-btn no-margin Change no-display":"new-blue-btn no-margin Change ",a.uploadedSignature="",a.uploadedSignature_url="",a.signature_url=e.MDRoomData.login_user.signature_url,a.signature=e.MDRoomData.login_user.signature,a.save_sign=!1,a.showLoadingText=!1),a)}return null}}]),t}(n.Component);var $v=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData"));return"ProviderRoom_LIST"===e.SettingReducer.action?200===e.SettingReducer.data.status?{MDRoomData:e.SettingReducer.data.data}:(rt.toast.dismiss(),rt.toast.error(t.global[e.SettingReducer.data.message]),{}):"MARK_UNMARK_AFTER_PHOTOS"===e.SettingReducer.action?(rt.toast.dismiss(),200===e.SettingReducer.data.status?(rt.toast.success(t.global[e.SettingReducer.data.message]),{MDRoomData:e.SettingReducer.data.data}):(rt.toast.error(t.global[e.SettingReducer.data.message]),{})):"HIDE_MARK_AFTER_PHOTOS"===e.SettingReducer.action?(rt.toast.dismiss(),200===e.SettingReducer.data.status?(rt.toast.success(t.global[e.SettingReducer.data.message]),{MDRoomData:e.SettingReducer.data.data}):(rt.toast.error(t.global[e.SettingReducer.data.message]),{})):"SIGN_PROCEDURE"===e.SettingReducer.action?(rt.toast.dismiss(),200===e.SettingReducer.data.status?(rt.toast.success(t.global[e.SettingReducer.data.message]),{MDRoomData:e.SettingReducer.data.data}):(rt.toast.error(t.global[e.SettingReducer.data.message]),{})):"MDS_LIST"===e.SettingReducer.action?(rt.toast.dismiss(),200===e.SettingReducer.data.status?{mdList:e.SettingReducer.data.data}:{}):{}},function(e){return Object(c.bindActionCreators)({fetchProviderRoomData:Wi,markUnmarkAsAfterPhotos:yr,hidemarkAsAfter:Nr,signProcedure:Er,fetchSelectMD:Vi},e)})(Object(de.a)(Zv)),ef=function(e){function t(e){var a;Object(ne.a)(this,t),a=Object(re.a)(this,Object(oe.a)(t).call(this,e));var s=JSON.parse(localStorage.getItem("languageData"));return a.state={id:e.match.params.id,consentsAllData:[],consentSingleData:[],roomType:a.props.match.url.split("/")[1],action:e.match.params.type?e.match.params.type:"pending",showLoader:!1,globalLang:s.global},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){this.setState({showLoader:!0}),this.props.fetchProcedureConsents(this.state.id)}},{key:"render",value:function(){var e="";return e=this.state.roomType&&"clients"===this.state.roomType?this.props.match.params.type?"/"+this.state.roomType+"/"+this.props.match.params.type+"/"+this.props.match.params.clientID:"/"+this.state.roomType:this.state.action?"/"+this.state.roomType+"/"+this.state.action:"pending",i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement("div",{className:"row duplicate-patient-title"},i.a.createElement("div",{className:"right-create-patient col-sm-9 profile-right"},i.a.createElement("div",{id:"main_form_copy no-display"},i.a.createElement("form",{id:"app_form_copy",action:"/appointments/index",method:"post",target:"_blank"},i.a.createElement("input",{type:"hidden",id:"create_app_patient_id",name:"patient_id_for_open_poupup"}))))),i.a.createElement("div",{className:"juvly-section full-width m-t-15"},i.a.createElement("div",{className:"juvly-container"},i.a.createElement("div",{className:"juvly-title m-b-30"},this.state.procedureData&&this.state.procedureData.patient&&Me(this.state.procedureData.patient)+" - "," ",this.state.procedureData&&this.state.procedureData.procedure_name&&je(this.state.procedureData.procedure_name)+" - ","Consents Details",i.a.createElement(me.a,{to:e,className:"pull-right"},i.a.createElement("img",{src:Fm.a}))),this.state.consentsAllData?this.state.consentsAllData.map(function(e,t){return i.a.createElement("div",{key:t},i.a.createElement("div",{className:"juvly-subtitle"}," ",e.consent.consent_name," "),i.a.createElement("p",{className:"p-text"},e.consent.consent_large_description),i.a.createElement("img",{src:e.signature_image_url,className:"consent-signature"}))}):null))),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock clientLoader clientProfileLoader":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.globalLang.loading_please_wait_text))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return void 0!==e.consentsData&&200===e.consentsData.status&&e.consentsData.data.consents!==t.consentsAllData?{consentsAllData:e.consentsData.data.consents,procedureData:e.consentsData.data.procedure_data,showLoader:!1}:void 0!==e.consentsData&&200!==e.consentsData.status&&e.consentsData.data.consents!==t.consentsAllData?{consentsAllData:e.consentsData.data.consents,procedureData:e.consentsData.data.procedure_data,showLoader:!1}:null}}]),t}(n.Component);var tf=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData"));return"PROCEDURE_CONSENTS"===e.SettingReducer.action?200===e.SettingReducer.data.status?{consentsData:e.SettingReducer.data}:(rt.toast.dismiss(),rt.toast.error(t.global[e.SettingReducer.data.message]),{consentsData:e.SettingReducer.data}):{}},function(e){return Object(c.bindActionCreators)({fetchProcedureConsents:wr},e)})(ef),af=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleChange=function(e){a.setState({select_Default_Clinic:e,selectedOption:e})},a.handleDrop=function(){},a.addComment=function(){a.setState({showCommentBox:!0})};var s=JSON.parse(localStorage.getItem("languageData"));return a.state={id:e.match.params.id,questionsAllData:[],questionsMultipleData:[],defaultOptions:[],selectedOption:null,userChanged:!1,select_Default_Clinic:[],showCommentBox:!1,roomType:a.props.match.url.split("/")[1],action:e.match.params.type?e.match.params.type:"pending",showLoader:!1,globalLang:s.global},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){this.setState({showLoader:!0}),this.props.fetchProcedureQuestionnaire(this.state.id)}},{key:"render",value:function(){var e="";return e=this.state.roomType&&"clients"===this.state.roomType?this.props.match.params.type?"/"+this.state.roomType+"/"+this.props.match.params.type+"/"+this.props.match.params.clientID:"/"+this.state.roomType:this.state.action?"/"+this.state.roomType+"/"+this.state.action:"pending",i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement("div",{className:"juvly-section full-width m-t-15"},i.a.createElement("div",{className:"juvly-container"},i.a.createElement("div",{className:"juvly-title m-b-30"},this.state.questionsAllData&&this.state.questionsAllData.patient&&Me(this.state.questionsAllData.patient)+" - "," ",this.state.questionsAllData&&this.state.questionsAllData.procedure_name&&je(this.state.questionsAllData.procedure_name)+" - ","QUESTIONNAIRES DETAILS",i.a.createElement(me.a,{to:e,className:"pull-right"},i.a.createElement("img",{src:Fm.a}))),this.state.questionsAllData&&this.state.questionsAllData.questionnaires&&this.state.questionsAllData.questionnaires.length>0&&this.state.questionsAllData.questionnaires.map(function(e,t){return i.a.createElement("div",{className:"accordion-discription-row",key:t},i.a.createElement("div",{className:"juvly-subtitle m-b-20"},e.consultation_title),i.a.createElement("div",{className:"table-responsive m-b-30"},i.a.createElement("div",{className:"accordion-table"},e.questions&&e.questions.map(function(e,t){return i.a.createElement("div",{key:t,className:"accordion-discription-row"},i.a.createElement("div",{className:"accordian-section col-xs-6 no-border-left gray-bg"},e.question),"yesno"==e.question_type?i.a.createElement("div",{className:"accordian-section col-xs-6 border-left"},e.answers&&void 0!=e.answers&&e.answers.map(function(e,t){return i.a.createElement("div",{key:t},1==e.answer?"Yes":"No")})):"multitext"==e.question_type?i.a.createElement("div",{className:"accordian-section col-xs-6 border-left"},e.answers&&void 0!=e.question_choices&&e.question_choices.map(function(e,t){return i.a.createElement("div",{key:t},1==e.is_selected?e.text:null)})):i.a.createElement("div",{className:"accordian-section col-xs-6 border-left"},e.answers&&void 0!=e.question_choices&&e.question_choices.map(function(e,t){return i.a.createElement("div",{className:"question-img-outer sel",key:t},i.a.createElement("div",{className:"question-img"},i.a.createElement("img",{src:e.img}),i.a.createElement("input",{type:"hidden",name:"735_choice[]",defaultValue:!0,id:"image_735_760",className:"sel-img-choice"})),i.a.createElement("div",{className:"qusst-name"},e.image_label))})))}))))})))),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock clientLoader clientProfileLoader":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.globalLang.loading_please_wait_text))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return void 0!==e.questionsData&&200===e.questionsData.status&&e.questionsData.data!==t.questionsAllData?{questionsAllData:e.questionsData.data,showLoader:!1}:void 0!==e.questionsData&&200!==e.questionsData.status&&e.questionsData.data!==t.questionsAllData?{questionsAllData:e.questionsData.data,showLoader:!1}:null}}]),t}(n.Component);var sf=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData"));return"PROCEDURE_QUESTIONNAIRE"===e.SettingReducer.action?200===e.SettingReducer.data.status?{questionsData:e.SettingReducer.data}:(rt.toast.dismiss(),rt.toast.error(t.global[e.SettingReducer.data.message]),{questionsData:e.SettingReducer.data}):{}},function(e){return Object(c.bindActionCreators)({fetchProcedureQuestionnaire:Dr},e)})(af),nf=function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).state={id:e.match.params.id,consentsAllData:[],consentSingleData:[],roomType:a.props.match.url.split("/")[1]},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchProcedureConsents(this.state.id)}},{key:"render",value:function(){return i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement("div",{className:"row duplicate-patient-title"},i.a.createElement("div",{className:"right-create-patient col-sm-9 profile-right"},i.a.createElement("div",{id:"main_form_copy no-display"},i.a.createElement("form",{id:"app_form_copy",action:"/appointments/index",method:"post",target:"_blank"},i.a.createElement("input",{type:"hidden",id:"create_app_patient_id",name:"patient_id_for_open_poupup"}))))),i.a.createElement("div",{className:"juvly-section full-width m-t-15"},i.a.createElement("div",{className:"juvly-container"},i.a.createElement("div",{className:"juvly-title m-b-30"},"Procedure #1 - Consents Details",i.a.createElement("a",{"data-url":"/settings/user",className:"pull-right"},i.a.createElement("img",{src:"images/close.png"}))),this.state.consentsAllData?this.state.consentsAllData.map(function(e,t){return console.log(),i.a.createElement("div",null,i.a.createElement("div",{className:"juvly-subtitle"}," ",e.consent.consent_name," "),i.a.createElement("p",{className:"p-text"},e.consent.consent_large_description),i.a.createElement("img",{src:e.signature_image,className:"consent-signature"}))}):null))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(void 0!==e.consentsData&&e.consentsData.consents.length>0)return{consentsAllData:e.consentsData.consents}}}]),t}(n.Component);var rf=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData"));return"PROCEDURE_CONSENTS"===e.SettingReducer.action?200===e.SettingReducer.data.status?(console.log(e.SettingReducer.data.data),{consentsData:e.SettingReducer.data.data}):(rt.toast.dismiss(),rt.toast.error(t.global[e.SettingReducer.data.message]),{}):{}},function(e){return Object(c.bindActionCreators)({fetchProcedureConsents:wr},e)})(nf),of=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleImageChange=function(e){var t,s=e.currentTarget.dataset.id,n=e.currentTarget.dataset.val;a.setState((t={},Object(se.a)(t,s,n||!a.state[s]),Object(se.a)(t,"userChanged",!0),t))},a.handleChange=function(e,t){if(console.log(e,t),console.log(t),"remove-value"!=t.action){var s=a.state.questionsAllData.find(function(e){return e.id===t.option.value});a.setState({showLoader:!0}),a.props.getQuestionnaireById(s.id)}else{console.log(t);var n=a.state.selectedQuestionnaire,i=n.findIndex(function(e){return e.id===t.removedValue.value});n.splice(i,1),a.setState({selectedQuestionnaire:n})}},a.handleSubmit=function(){var e={},t=!1,s={};if(e.questionnaires=[],a.state.selectedQuestionnaire&&a.state.selectedQuestionnaire.map(function(n,i){var r=[];n.questions&&n.questions.map(function(e,t){var s=[];"yesno"==e.question_type?void 0!=!a.state["q-"+n.id+"-"+e.id+"-yesno"]&&s.push({answer:a.state["q-"+n.id+"-"+e.id+"-yesno"],comment:a.state["q-"+n.id+"-"+e.id+"-comment"]?a.state["q-"+n.id+"-"+e.id+"-comment"]:""}):1==e.multiple_selection?e.question_choices.map(function(t,i){a.state["q-"+n.id+"-"+e.id+"-"+t.id]&&s.push({question_choice_id:t.id})}):s.push({question_choice_id:a.state["q-"+n.id+"-"+e.id]}),s.length&&r.push({id:e.id,question_type:e.question_type,answers:s})}),r.length?s["q-class-"+n.id]="accordion-title":(s["q-class-"+n.id]="accordion-title field-error",t=!0),e.questionnaires.push({id:n.id,questions:r})}),t)return a.setState(s),rt.toast.error(a.state.roomsLang.rooms_please_answer_one_question),!1;s.showLoader=!0,a.setState(s),a.props.updateProcedureQuestionnaire(a.state.id,e)},a.handleDrop=function(e){a.setState({active_consultation:e.currentTarget.dataset.id,consultation_title:"accordion-discription-row consultTitle display"}),console.log(a.state.active_consultation)},a.addComment=function(){a.setState({showCommentBox:!0})},a.handleInputChange=function(e){var t,s=e.target,n="checkbox"===s.type?s.checked:s.value;a.setState((t={},Object(se.a)(t,e.target.name,n),Object(se.a)(t,"userChanged",!0),t))};var s=JSON.parse(localStorage.getItem("languageData"));return a.state={id:e.match.params.id,questionsAllData:[],questionsMultipleData:[],questionspatientData:{},defaultOptions:[],selectedOption:null,userChanged:!1,select_Default_Clinic:[],showCommentBox:!1,showLoader:!1,value:null,options:null,clinics_array:[],yes:null,no:null,consultation_title:"accordion-discription-row consultTitle no-display",checkBox:"",roomsLang:s.rooms,dataList:[{questionnaires:[{id:null,questions:[{id:null,question_type:"yesno",answers:[{answer:null,comment:"string"}]}]}]}],roomType:a.props.match.url.split("/")[1],action:e.match.params.type?e.match.params.type:"pending"},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){this.state.id?(this.setState({showLoader:!0}),this.props.fetchProcedureQuestionnaire(this.state.id)):this.props.fetchAllQuestionnaires()}},{key:"render",value:function(){var e=this,t=[],a=[];void 0!=this.state.selectedQuestionnaire&&this.state.selectedQuestionnaire.length&&this.state.selectedQuestionnaire.map(function(e,a){t.push({value:e.id,label:e.consultation_title})}),void 0!=this.state.questionsAllData&&this.state.questionsAllData.length>0&&(a=this.state.questionsAllData.map(function(e,t){return{value:e.id,label:e.consultation_title}}));var s=this.state.action?"/"+this.state.roomType+"/"+this.state.action:"pending";return i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement("div",{className:"juvly-section full-width m-t-15"},i.a.createElement("div",{className:"juvly-container"},i.a.createElement("div",{className:"juvly-title m-b-30"},this.state.questionspatientData.firstname," ",this.state.questionsAllData.procedure_name," - ",this.state.roomsLang.rooms_questionnnaires_details,i.a.createElement(me.a,{to:s,className:"pull-right"},i.a.createElement("img",{src:Fm.a}))),i.a.createElement("div",{className:"new-field-label"},this.state.roomsLang.rooms_select_questionnaire,i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"tag-auto-select"},a&&i.a.createElement(un.a,{onChange:this.handleChange,value:t,isClearable:!0,isSearchable:!0,options:a,isMulti:!0}))))),this.state.selectedQuestionnaire&&this.state.selectedQuestionnaire.map(function(t,a){return console.log(e.state.active_consultation,t.id),i.a.createElement("div",{className:"table-responsive acc-table-responsive",key:"selectedQuestionnaire-"+a},i.a.createElement("div",{className:"accordion-table table-min-width"},i.a.createElement("div",{className:"accordion-row"},i.a.createElement("div",{className:e.state["q-class-"+t.id],"data-id":t.id,onClick:e.handleDrop},i.a.createElement("div",{className:"accordian-section no-border"},i.a.createElement("i",{className:e.state.active_consultation==t.id?"fas toggle-arrow fa-angle-up":"fas toggle-arrow fa-angle-down"})," ",t.consultation_title)),t.questions&&t.questions.map(function(a,s){return i.a.createElement("div",{className:e.state.active_consultation==t.id?e.state.consultation_title:"accordion-discription-row no-display",key:"question-"+s},i.a.createElement("div",{className:"accordian-section col-xs-6",name:"questionId",value:a.id},a.question),"yesno"==a.question_type?i.a.createElement("div",{className:"accordian-section col-xs-6 border-left"},i.a.createElement("div",null,i.a.createElement("div",{className:"basic-checkbox-outer"},i.a.createElement("input",{id:"yes",type:"radio",checked:1==e.state["q-"+t.id+"-"+a.id+"-yesno"]&&"checked",onChange:e.handleInputChange,className:"basic-form-checkbox",name:"q-"+t.id+"-"+a.id+"-yesno",value:"1"}),i.a.createElement("label",{className:"basic-form-text",htmlFor:"yes"},e.state.roomsLang.yes_text)),i.a.createElement("div",{className:"basic-checkbox-outer"},i.a.createElement("input",{id:"no",type:"radio",checked:0==e.state["q-"+t.id+"-"+a.id+"-yesno"]&&"checked",onChange:e.handleInputChange,className:"basic-form-checkbox",name:"q-"+t.id+"-"+a.id+"-yesno",value:"0"}),i.a.createElement("label",{className:"basic-form-text",htmlFor:"no"},e.state.roomsLang.rooms_no_text)),1==e.state["q-"+t.id+"-"+a.id+"-yesno"]&&i.a.createElement("div",{className:"setting-field-outer m-t-20 m-b-0"},i.a.createElement("div",{className:"new-field-label"},e.state.roomsLang.rooms_type_your_answer),i.a.createElement("textarea",{className:"setting-textarea-box",cols:"30",rows:"2",name:"q-"+t.id+"-"+a.id+"-comment",onChange:e.handleInputChange,value:e.state["q-"+t.id+"-"+a.id+"-comment"]})))):"multitext"==a.question_type?i.a.createElement("div",{className:"accordian-section col-xs-6 border-left"},void 0!=a.question_choices&&a.question_choices.map(function(s,n){return i.a.createElement("div",{key:"multitext-"+n},1==a.multiple_selection&&i.a.createElement("div",{key:"choices-"+n},i.a.createElement("div",{className:"basic-checkbox-outer"},i.a.createElement("input",{id:"option1",type:"checkbox",defaultChecked:1==s.is_selected?"checked":null,name:"q-"+t.id+"-"+a.id+"-"+s.id,className:"basic-form-checkbox",onChange:e.handleInputChange}),i.a.createElement("label",{className:"basic-form-text",htmlFor:"option1"},s.text))),0==a.multiple_selection&&i.a.createElement("div",{className:"basic-checkbox-outer"},i.a.createElement("input",{id:"yes",type:"radio",checked:e.state["q-"+t.id+"-"+a.id]==s.id&&"checked",onChange:e.handleInputChange,className:"basic-form-checkbox",name:"q-"+t.id+"-"+a.id,value:s.id}),i.a.createElement("label",{className:"basic-form-text",htmlFor:"yes"},s.text)))})):i.a.createElement("div",{className:"accordian-section col-xs-6 border-left"},void 0!=a.question_choices&&a.question_choices.map(function(s,n){return i.a.createElement("div",{className:"question-img-outer",key:"multiimage-"+n},1==a.multiple_selection&&i.a.createElement("div",{className:e.state["q-"+t.id+"-"+a.id+"-"+s.id]?"question-img-outer sel":"question-img-outer",key:"multiquestion-"+n},i.a.createElement("div",{className:"question-img","data-id":"q-"+t.id+"-"+a.id+"-"+s.id,onClick:e.handleImageChange},i.a.createElement("img",{src:s.img})),i.a.createElement("div",{className:"qusst-name"},s.image_label),i.a.createElement("div",{className:"check-quest"})),0==a.multiple_selection&&i.a.createElement("div",{className:e.state["q-"+t.id+"-"+a.id]==s.id?"question-img-outer sel":"question-img-outer",key:"multiquestion-"+n},i.a.createElement("div",{className:"question-img","data-id":"q-"+t.id+"-"+a.id,"data-val":s.id,onClick:e.handleImageChange},i.a.createElement("img",{src:s.img})),i.a.createElement("div",{className:"qusst-name"},s.image_label),i.a.createElement("div",{className:"check-quest"})))})))}))))})),i.a.createElement("div",{className:"footer-static"},i.a.createElement("button",{onClick:this.handleSubmit,className:"new-blue-btn pull-right",value:"Save"},this.state.roomsLang.rooms_save),i.a.createElement(me.a,{to:"/provider-room/pending",className:"new-white-btn pull-right"},this.state.roomsLang.rooms_cancel)),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.roomsLang.room_please_wait))))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(void 0!==e.questionsData&&e.questionsData!=t.questionsData){var a={};return e.questionsData.questionnaires&&e.questionsData.questionnaires&&0==t.userChanged&&e.questionsData.questionnaires.map(function(e,t){a["q-class-"+e.id]="accordion-title",e.questions&&e.questions.map(function(t,s){"yesno"==t.question_type?t.answers.length?(a["q-"+e.id+"-"+t.id+"-yesno"]=t.answers[0].answer,t.answers[0].answer&&(a["q-"+e.id+"-"+t.id+"-comment"]=t.answers[0].comment)):a["q-"+e.id+"-"+t.id+"-yesno"]=0:t.question_choices.map(function(s,n){var i=t.answers.findIndex(function(e){return e.question_choice_id===s.id});t.multiple_selection?a["q-"+e.id+"-"+t.id+"-"+s.id]=i>-1?1:0:t.answers.find(function(e){return e.question_choice_id===s.id})&&(a["q-"+e.id+"-"+t.id]=s.id)})})}),a.questionsData=e.questionsData,a.selectedQuestionnaire=e.questionsData.questionnaires?e.questionsData.questionnaires:[],a.questionsAllData=e.questionsData.all_questionnaries,a.questionspatientData=e.questionsData.patient?e.questionsData.patient:{},a.showLoader=!1,a}if(void 0!==e.questionnaireData&&200===e.questionnaireData.status&&e.questionnaireData.data!=t.questionnaireData){var s=t.selectedQuestionnaire;return s.push(e.questionnaireData.data),{selectedQuestionnaire:s,questionnaireData:e.questionnaireData.data,showLoader:!1}}return 0==e.showLoader?{showLoader:!1}:null}}]),t}(n.Component);var lf=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData"));if(rt.toast.dismiss(),"PROCEDURE_QUESTIONNAIRE"===e.SettingReducer.action)return 200===e.SettingReducer.data.status?{questionsData:e.SettingReducer.data.data}:(rt.toast.dismiss(),rt.toast.error(t.global[e.SettingReducer.data.message]),{});if("UPDATE_PROCEDURE_QUESTIONNAIRE"===e.SettingReducer.action)return 200===e.SettingReducer.data.status?(rt.toast.success(t.global[e.SettingReducer.data.message]),{questionsData:e.SettingReducer.data.data}):(rt.toast.dismiss(),rt.toast.error(t.global[e.SettingReducer.data.message]),{showLoader:!1});if("GET_QUESTIONNAIRE"===e.SettingReducer.action){var a={};return 200==e.SettingReducer.data.status?a.questionnaireData=e.SettingReducer.data:(a.redirect=!0,a.message=t.global[e.SettingReducer.data.message]),a}return{}},function(e){return Object(c.bindActionCreators)({fetchProcedureQuestionnaire:Dr,updateProcedureQuestionnaire:Cr,getQuestionnaireById:or},e)})(of),cf=a(826),df=a.n(cf),mf=Ee.API_URL,uf=Q.a.create();function pf(e){return function(t){uf.get(mf+"procedure-notes",e||"").then(function(e){t({type:"GET_PROCEDURE_NOTES",payload:e.data})}).catch(function(e){t({type:"GET_PROCEDURE_NOTES",payload:e.response.data})})}}function hf(e,t){return(t=t||0)&&t>0?function(a){uf.patch(mf+"procedure-notes/"+t,e).then(function(t){var s={params:{patient_id:e.patient_id,procedure_id:e.procedure_id}},n=t.data.message,i=t.data.status;uf.get(mf+"procedure-notes",s||"").then(function(e){e.data.message=n,e.data.status=i,a({type:"UPDATE_PROCEDURE_NOTE",payload:e.data})}).catch(function(e){a({type:"UPDATE_PROCEDURE_NOTE",payload:e.response.data})})}).catch(function(e){a({type:"UPDATE_PROCEDURE_NOTE",payload:e.response.data})})}:function(t){uf.post(mf+"procedure-notes",e).then(function(a){var s={params:{patient_id:e.patient_id,procedure_id:e.procedure_id}},n=a.data.message,i=a.data.status;uf.get(mf+"procedure-notes",s||"").then(function(e){e.data.message=n,e.data.status=i,t({type:"SAVE_PROCEDURE_NOTES",payload:e.data})}).catch(function(e){t({type:"SAVE_PROCEDURE_NOTES",payload:e.response.data})})}).catch(function(e){t({type:"SAVE_PROCEDURE_NOTES",payload:e.response.data})})}}function gf(e,t,a){return function(s){uf.delete(mf+"procedure-notes/"+e).then(function(e){var n={params:{patient_id:t,procedure_id:a}},i=e.data.message,r=e.data.status;uf.get(mf+"procedure-notes",n||"").then(function(e){e.data.message=i,e.data.status=r,s({type:"DELETE_PROCEDURE_NOTE",payload:e.data})}).catch(function(e){s({type:"DELETE_PROCEDURE_NOTE",payload:e.response.data})})}).catch(function(e){s({type:"DELETE_PROCEDURE_NOTE",payload:e.response.data})})}}function _f(e){return function(t){uf.get(mf+"procedure-notes/"+e).then(function(e){t({type:"GET_PROCEDURE_NOTE",payload:e.data})}).catch(function(e){t({type:"GET_PROCEDURE_NOTE",payload:e.response.data})})}}uf.defaults.headers.common["access-token"]=xe(),Xe(),uf.interceptors.response.use(function(e){return void 0!=e.data&&void 0!=e.data.global_settings&&He(e.data.global_settings),Xe(),e},function(e){if(e.response){var t=e.response.data.message;return"invalid_token"!=t&&"session_timeout"!=t&&"server_error"!=t&&"token_not_found"!=t||Oe(),Promise.reject(e)}return{data:{data:"",message:"server_error",status:500}}});var vf=Q.a.create(),ff=function(e){function t(e){var a,s;Object(ne.a)(this,t),(s=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value;s.setState(Object(se.a)({},e.target.name,a))},s.getLoggedInUserData=function(){var e=JSON.parse(we());return e?e.user.id:0},s.openNotes=function(){var e=null!==s.state.userRoomData.patient&&void 0!==s.state.userRoomData.patient?s.state.userRoomData.patient.id:0;if(e&&e>0){var t=s.state.userRoomData.id,a=s.props.match.params.type;if(e&&t&&a)return i.a.createElement("div",null,s.props.history.push("/".concat(s.state.roomType,"/notes/").concat(t,"/").concat(e,"/").concat(a)));rt.toast.error("".concat(s.state.languageData.pro_something_went_wrong_text))}else rt.toast.error("".concat(s.state.languageData.pro_no_pat_associated_text))},s.showDeleteModal=function(e){e.preventDefault(),s.state.noteTobeDeleted=e.target.name,s.setState({showDeleteModal:!0})},s.dismissDeleteModal=function(){s.setState({showDeleteModal:!1,noteTobeDeleted:0})},s.deleteNote=function(){var e=s.state.noteTobeDeleted,t=s.state.patientID,a=s.state.procedureID,n=s.state.action,i=s.state.roomType;e>0&&t>0&&a>0?s.props.deleteProcedureNote(e,t,a,n,i):rt.toast.error("".concat(s.state.languageData.pro_can_not_delete_note_error_text)),s.setState({showDeleteModal:!1,noteTobeDeleted:0})},s.openSignModal=function(){s.state.procedureID&&s.setState({showSignModal:!0})},s.dismissSignModal=function(){s.setState({showSignModal:!1,showConfirmModal:!1,listAction:""})},s.handleClearReset=function(){s.setState({inputOut:"input-outer",canvasClass:"signature-box sig-div  no-display",clearClass:"new-white-btn no-margin clear no-display",resetClass:"new-blue-btn reset  no-display",changeClass:"new-blue-btn no-margin Change"})},s.clear=function(){s._sketch.clear(),s._sketch.setBackgroundFromDataUrl(""),s.setState({controlledValue:null,backgroundColor:"transparent",fillWithBackgroundColor:!1,canUndo:s._sketch.canUndo(),canRedo:s._sketch.canRedo()})},s.clearCanvas=function(){s._sketch&&(s._sketch.clear(),s._sketch.setBackgroundFromDataUrl("")),s.setState({canvasClass:"signature-box sig-div",inputOut:"input-outer no-display",clearClass:"new-white-btn no-margin clear",resetClass:"new-blue-btn reset ",changeClass:"new-blue-btn no-margin Change no-display"})},s.signThis=function(){if(s._sketch&&0===s._sketch.toJSON().objects.length&&-1===s.state.canvasClass.indexOf("no-display")||s.state.canvasClass.indexOf("no-display")>0&&""===s.state.signature_url)rt.toast.error(s.state.globalLang.validation_md_signature_required_if);else{var e=s.state.procedureID,t=s.state.listAction,a=0,n=s.state.md_id;if("markconsult"===t&&(a=1),""!==s.state.signature_url&&s.state.canvasClass.indexOf("no-display")>0){var i={};i=s.state.roomType&&"provider-room"===s.state.roomType?{current_procedure_id:e,procedure_ids:[e],signature:s.state.signature,signature_saved:s.state.save_sign?1:0,is_consult:a,md_user_id:n}:{current_procedure_id:e,procedure_ids:[e],signature_saved:s.state.save_sign?1:0,md_signature:s.state.signature},s.props.signProcedure(i,!1,{},s.state.roomType,"detail"),s.setState({signature_url:s.state.signature_url,uploadedSignature_url:s.state.signature_url,uploadedSignature:s.state.signature,signature:s.state.signature,inputOut:"input-outer",canvasClass:"signature-box sig-div  no-display",clearClass:"new-white-btn no-margin clear no-display",resetClass:"new-blue-btn reset  no-display",changeClass:"new-blue-btn no-margin Change",showSignModal:!1,showLoader:!0})}else vf.post(Ee.API_URL+"upload/signature",{image_data:s._sketch.toDataURL(),upload_type:"signatures"}).then(function(t){if(t.data&&200===t.data.status){var i={};i=s.state.roomType&&"provider-room"===s.state.roomType?{current_procedure_id:e,procedure_ids:[e],signature:t.data.data.file_name,signature_saved:s.state.save_sign?1:0,is_consult:a,md_user_id:n}:{current_procedure_id:e,procedure_ids:[e],signature_saved:s.state.save_sign?1:0,md_signature:t.data.data.file_name},s.props.signProcedure(i,!1,{},s.state.roomType,"detail"),s.setState({signature_url:t.data.data.signature_url,uploadedSignature_url:t.data.data.signature_url,uploadedSignature:t.data.data.file_name,signature:t.data.data.file_name,inputOut:"input-outer",canvasClass:"signature-box sig-div  no-display",clearClass:"new-white-btn no-margin clear no-display",resetClass:"new-blue-btn reset  no-display",changeClass:"new-blue-btn no-margin Change",showSignModal:!1,showLoader:!0})}}).catch(function(e){rt.toast.error("".concat(s.state.languageData.pro_sign_upload_error_text))})}},s.getProcedureDataByID=function(e){e.preventDefault();var t=e.target.parentNode.name,a=0;t&&"getNext"==t?a=s.state.nextProcedureID:t&&"getPrev"==t&&(a=s.state.prevProcedureID),a&&a>0&&s.props.history.push("/".concat(s.state.roomType,"/procedure-detail/").concat(a,"/").concat(s.props.match.params.type))},s.doThis=function(e){e.preventDefault();var t=e.target.dataset.action,a=e.target.dataset.procedureid;if(t&&a>0){if("unmarkafterphoto"===t||"markafterphoto"===t){var n={is_marked:e.target.dataset.isafterphotos},i={params:{action:s.state.action}};s.props.markUnmarkAsAfterPhotos(n,a,i,s.state.roomType,"detail"),s.setState({startFresh:!0,showLoader:!0})}if("hide"===t){var r={params:{action:s.state.action}};s.props.hidemarkAsAfter(a,r,s.state.roomType,"detail",s.state.nextProcedureID),s.setState({startFresh:!0,showLoader:!0})}"incompletesign"!==t&&"markconsult"!==t&&"completesign"!==t||("incompletesign"===t?s.setState({showConfirmModal:!0,listAction:t}):s.setState({showSignModal:!0,listAction:t}))}},s.dismissConfirmationModal=function(){s.setState({showConfirmModal:!1,listAction:""})},s.confirmAndOpen=function(){s.setState({showConfirmModal:!1,showSignModal:!0})},s.runCarousel=function(e){e.preventDefault();for(var t=e.target.parentNode.parentNode.children[0].children[0].childNodes,a=t.length,s=0;s<a;s++)if(t[s].classList.contains("active"))return t[s].classList.remove("active"),s===a-1&&(s=-1),void t[s+1].classList.add("active")},s.handleRestoreModal=function(){s.setState({isShowDeletedModal:!s.state.isShowDeletedModal})},s.restoreSelected=function(){if(void 0!=s.props.match.params.id&&s.props.match.params.id>0&&void 0!=s.props.match.params.type&&"recently-deleted"==s.props.match.params.type){var e=[s.props.match.params.id];s.setState({showLoader:!0}),s.props.restoreRecentlyDeleted({procedure_ids:e}),s.setState({isShowDeletedModal:!s.state.isShowDeletedModal})}},s.viewTraceAbility=function(){var e=null!==s.state.userRoomData.patient&&void 0!==s.state.userRoomData.patient?s.state.userRoomData.patient.id:0,t=s.state.userRoomData.id;return i.a.createElement("div",null,s.props.history.push("/provider-room/traceability-info/".concat(t,"/").concat(e,"/procedure-detail/").concat(s.props.match.params.type)))};var n=JSON.parse(localStorage.getItem("languageData"));return s.state=(a={firstname:"",lastname:"",procedure_name:"",procedure_date:"",product_name:"",quantity:"",unit:"",total_price:"",userFirstName:"",userLastName:"",md_signed_on:"",provider_signed_on:"",injection_array:[],procedureFirstName:"",procedureLastName:"",front_pdf_image:"",patient_image_front:"",consent_ids:"",answers_count:"",answer_multiples_count:"",total_image_count:"",front_pdf_image_thumb_url:"",left_pdf_image_45_url:"",left_pdf_image_45_thumb_url:"",right_pdf_image_45_url:"",right_pdf_image_45_thumb_url:"",type:"",left_pdf_image_thumb_url:"",left_pdf_image_url:"",right_pdf_image_thumb_url:"",right_pdf_image_url:"",back_pdf_image_thumb_url:"",back_pdf_image_url:"",total_amount:"",invoice_id:"",invoice_status:"",back_pdf_image_left_45_thumb_url:"",back_pdf_image_left_45_url:"",back_pdf_image_right_45_url:"",back_pdf_image_right_45_thumb_url:""},Object(se.a)(a,"patient_image_front",""),Object(se.a)(a,"patient_image_left",""),Object(se.a)(a,"patient_image_right",""),Object(se.a)(a,"patient_image_left_45",""),Object(se.a)(a,"patient_image_right_45",""),Object(se.a)(a,"patient_image_back",""),Object(se.a)(a,"patient_image_back_left_45",""),Object(se.a)(a,"patient_image_back_right_45",""),Object(se.a)(a,"patient_image_front_thumb_url",""),Object(se.a)(a,"patient_image_front_url",""),Object(se.a)(a,"patient_image_left_thumb_url",""),Object(se.a)(a,"patient_image_left_url",""),Object(se.a)(a,"patient_image_left_45_thumb_url",""),Object(se.a)(a,"patient_image_left_45_url",""),Object(se.a)(a,"patient_image_right_thumb_url",""),Object(se.a)(a,"patient_image_right_url",""),Object(se.a)(a,"patient_image_right_45_thumb_url",""),Object(se.a)(a,"patient_image_right_45_url",""),Object(se.a)(a,"patient_image_back_left_45_thumb_url",""),Object(se.a)(a,"patient_image_back_left_45_url",""),Object(se.a)(a,"patient_image_back_right_45_thumb_url",""),Object(se.a)(a,"patient_image_back_right_45_url",""),Object(se.a)(a,"patient_image_back_thumb_url",""),Object(se.a)(a,"patient_image_back_url",""),Object(se.a)(a,"display",!0),Object(se.a)(a,"width",600),Object(se.a)(a,"startFresh",!0),Object(se.a)(a,"showLoader",!1),Object(se.a)(a,"page",1),Object(se.a)(a,"pagesize",15),Object(se.a)(a,"term",""),Object(se.a)(a,"hasMoreItems",!0),Object(se.a)(a,"next_page_url",""),Object(se.a)(a,"procedure_date",""),Object(se.a)(a,"patient",[]),Object(se.a)(a,"user",[]),Object(se.a)(a,"searchFunction",""),Object(se.a)(a,"procedure_information",""),Object(se.a)(a,"user_changed",!1),Object(se.a)(a,"procedureData",{}),Object(se.a)(a,"userRoomData",[]),Object(se.a)(a,"data",[]),Object(se.a)(a,"select_all_pending_procedures",!1),Object(se.a)(a,"childCheck",!1),Object(se.a)(a,"action",e.match.params.type?e.match.params.type:"pending"),Object(se.a)(a,"pendingProcedures",!0),Object(se.a)(a,"signedProcedures",!1),Object(se.a)(a,"total",""),Object(se.a)(a,"selectVisible","right-sign-btn"),Object(se.a)(a,"selectHide","right-sign-btn no-display"),Object(se.a)(a,"spanHide","search-text no-display"),Object(se.a)(a,"spanVisible","search-text"),Object(se.a)(a,"hideCheckbox","table-checkbox table-updated-td no-display"),Object(se.a)(a,"showCheckbox","table-checkbox table-updated-td "),Object(se.a)(a,"hideHeading","table-checkbox table-updated-th no-display"),Object(se.a)(a,"showHeading","table-checkbox table-updated-th "),Object(se.a)(a,"clinic_name",""),Object(se.a)(a,"contact_no",""),Object(se.a)(a,"address",""),Object(se.a)(a,"clinic_business_hours",[]),Object(se.a)(a,"tax",""),Object(se.a)(a,"clinicList",[]),Object(se.a)(a,"sortorder","asc"),Object(se.a)(a,"scopes","business_hours"),Object(se.a)(a,"def_no_image_vertical",En.a),Object(se.a)(a,"def_no_image_horizontal",df.a),Object(se.a)(a,"procedure_image_45_thumb_url",""),Object(se.a)(a,"procedure_image_45_url",""),Object(se.a)(a,"procedure_image_thumb_url",""),Object(se.a)(a,"procedure_image_url",""),Object(se.a)(a,"injections",[]),Object(se.a)(a,"noteTobeDeleted",0),Object(se.a)(a,"showDeleteModal",!1),Object(se.a)(a,"procedureID",null!==s.props.match.params.id&&""!==s.props.match.params.id&&s.props.match.params.id?s.props.match.params.id:0),Object(se.a)(a,"patientID",0),Object(se.a)(a,"traceData",[]),Object(se.a)(a,"md_signed",0),Object(se.a)(a,"showSignModal",!1),Object(se.a)(a,"canvasClass","signature-box sig-div"),Object(se.a)(a,"inputOut","input-outer"),Object(se.a)(a,"clearClass","new-white-btn no-margin clear no-display"),Object(se.a)(a,"resetClass","new-blue-btn reset no-display"),Object(se.a)(a,"changeClass","new-blue-btn no-margin Change"),Object(se.a)(a,"uploadedSignature",""),Object(se.a)(a,"uploadedSignature_url",""),Object(se.a)(a,"save_sign",!1),Object(se.a)(a,"nextProcedureID",0),Object(se.a)(a,"prevProcedureID",0),Object(se.a)(a,"signData",[]),Object(se.a)(a,"roomType",s.props.match.url.split("/")[1]),Object(se.a)(a,"languageData",n.procedure),Object(se.a)(a,"globalLang",n.global),Object(se.a)(a,"settingsLang",n.settings),Object(se.a)(a,"listAction",""),Object(se.a)(a,"mdList",[]),Object(se.a)(a,"md_id",0),Object(se.a)(a,"showConfirmModal",!1),Object(se.a)(a,"isShowDeletedModal",!1),Object(se.a)(a,"lightboxIsOpen",!1),Object(se.a)(a,"currentImage",0),Object(se.a)(a,"lightboxImage",null),a),localStorage.setItem("loadFresh",!1),localStorage.setItem("sortOnly",!1),window.onscroll=function(){return!1},s.closeLightbox=s.closeLightbox.bind(Object(ce.a)(Object(ce.a)(s))),s.gotoImage=s.gotoImage.bind(Object(ce.a)(Object(ce.a)(s))),s.openLightbox=s.openLightbox.bind(Object(ce.a)(Object(ce.a)(s))),s}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"openLightbox",value:function(e,t,a){t.preventDefault(),this.setState({currentImage:e,lightboxIsOpen:!0,lightboxImage:a})}},{key:"closeLightbox",value:function(){this.setState({currentImage:0,lightboxIsOpen:!1,lightboxImage:null})}},{key:"gotoImage",value:function(e){this.setState({currentImage:e})}},{key:"componentDidMount",value:function(){if(void 0!==this.props.match.params.id){var e={params:{action:this.props.match.params.type}};this.setState({showLoader:!0,procedureID:this.props.match.params.id}),this.props.fetchUserRoomData(this.props.match.params.id,e,this.state.roomType),"provider-room"===this.state.roomType&&"pending"===this.state.action&&this.props.fetchSelectMD()}}},{key:"componentDidUpdate",value:function(e,t){if(this.props.match.params.id!==this.state.procedureID){var a={params:{action:this.props.match.params.type}};this.setState({showLoader:!0,procedureID:this.props.match.params.id}),this.props.fetchUserRoomData(this.props.match.params.id,a,this.state.roomType)}}},{key:"render",value:function(){var e,t=this,a=i.a.createElement(Qm.SketchField,{width:"400px",ref:function(e){return t._sketch=e},height:"200px",tool:Qm.Tools.Pencil,lineColor:"black",lineWidth:6});e=void 0!==this.state.traceData&&this.state.traceData.length>0&&this.state.traceData.map(function(e,a){a++;var s=a+" - "+je(e.product_name)+" "+Ie(e.quantity,"decimal")+" Units";return i.a.createElement("div",{className:"table-responsive m-b-30",key:a},i.a.createElement("div",{className:"traceProduct"},s),i.a.createElement("table",{className:"table-updated juvly-table no-hover"},i.a.createElement("thead",{className:"table-updated-thead"},i.a.createElement("tr",null,i.a.createElement("th",{className:"col-xs-3 table-updated-th"},"Batch Id"),i.a.createElement("th",{className:"col-xs-2 table-updated-th"},"Expiration "),i.a.createElement("th",{className:"col-xs-3 table-updated-th"},"Units "),i.a.createElement("th",{className:"col-xs-3 table-updated-th"},"Price "))),void 0!==e.trace_data&&null!==e.trace_data&&e.trace_data.length>0?i.a.createElement("tbody",null,e.trace_data.map(function(e,t){return i.a.createElement("tr",{key:t,className:"table-updated-tr"},i.a.createElement("td",{className:"col-xs-3 table-updated-td"},e.product_inventory&&e.product_inventory.batch_id?e.product_inventory.batch_id:""),i.a.createElement("td",{className:"col-xs-2 table-updated-td"},e.product_inventory&&e.product_inventory.expiry_date?e.product_inventory.expiry_date:""),i.a.createElement("td",{className:"col-xs-3 table-updated-td"},e.units_consumed?Ie(e.units_consumed,"decimal"):""),i.a.createElement("td",{className:"col-xs-1 table-updated-td"},e.price?Ie(e.price,"currency"):""))})):i.a.createElement("tbody",null,i.a.createElement("tr",{className:"table-updated-tr"},i.a.createElement("td",{colSpan:"4",className:"table-updated-td text-center"},t.state.languageData.pro_sory_no_record_text)))))});void 0!==this.state.userRoomData.procedure_notes&&this.state.userRoomData.procedure_notes.map(function(e,a){return t.state.userRoomData.procedure_notes.length});var s=this.state.action?"/"+this.state.roomType+"/"+this.state.action:"pending",n="coolsculpting"!==this.state.type&&"laser"!==this.state.type?"":"no-display",r=Te("view-procedure-notes")?"settings-subtitle m-b-20":"settings-subtitle m-b-20 no-display",o=this.state.userRoomData.procedure_notes&&this.state.userRoomData.procedure_notes.length>0?"note-timeline":"note-timeline no-display",l=this.state.userRoomData.procedure_notes&&this.state.userRoomData.procedure_notes.length>0?"no-record no-display":"no-record",c=0,d="Incomplete sign anyway",m=1,u="Mark as after photos";(null!==this.state.userRoomData.procedure_image&&""!==this.state.userRoomData.procedure_image||null!==this.state.userRoomData.procedure_image_45&&""!==this.state.userRoomData.procedure_image_45||"laser"===this.state.userRoomData.type||"coolsculpting"===this.state.userRoomData.type)&&void 0!==this.state.traceData&&this.state.traceData.length>0&&null!==this.state.userRoomData.procedure_notes_count&&this.state.userRoomData.procedure_notes_count>0&&null!==this.state.userRoomData.consent_ids&&""!==this.state.userRoomData.consent_ids&&(this.state.userRoomData.answers_count>0||this.state.userRoomData.answer_multiples_count>0)&&null!==this.state.userRoomData.pos_invoices_count&&this.state.userRoomData.pos_invoices_count>0&&(c=1,d="Sign"),1===this.state.userRoomData.is_after_photos&&(m=0,u="Unmark as after photos");var p="";return void 0!==this.state.mdList&&this.state.mdList.length>0&&(p=this.state.mdList.map(function(e,t){return i.a.createElement("option",{key:t,value:e.id},e.firstname&&void 0!=e.firstname?e.firstname:""," ",e.lastname&&void 0!=e.lastname?e.lastname:"")})),i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement("div",{className:"wide-popup"},i.a.createElement("div",{className:"modal-blue-header"},i.a.createElement(me.a,{to:s,className:"popup-cross"},"\xd7"),!1===this.state.showLoader&&this.state.prevProcedureID&&this.state.prevProcedureID>0?i.a.createElement("a",{onClick:this.getProcedureDataByID.bind(this),name:"getPrev",className:"slide-arrows"},i.a.createElement("i",{className:"fas fa-angle-left",onClick:this.getProcedureDataByID.bind(this),name:"getPrev"})):"",!1===this.state.showLoader&&i.a.createElement("span",{className:"popup-blue-name"},this.state.firstname," ",this.state.lastname+"-","  ",this.state.procedure_name),!1===this.state.showLoader&&this.state.nextProcedureID&&this.state.nextProcedureID>0?i.a.createElement("a",{onClick:this.getProcedureDataByID.bind(this),name:"getNext",className:"slide-arrows"},i.a.createElement("i",{className:"fas fa-angle-right",onClick:this.getProcedureDataByID.bind(this),name:"getNext"})):"",this.state.roomType&&"md-room"===this.state.roomType&&this.state.action&&"pending"===this.state.action&&!1===this.state.showLoader?i.a.createElement("div",{className:"popup-new-btns"},1!==this.state.md_signed?i.a.createElement("button",{type:"submit",className:"new-blue-btn pull-right consent-model",onClick:this.openSignModal},this.state.languageData.pro_text_sgn):""):"",this.state.roomType&&"provider-room"===this.state.roomType&&this.state.action&&"pending"===this.state.action&&!1===this.state.showLoader?i.a.createElement("div",{className:"popup-new-btns"},i.a.createElement("div",{className:"dropdown show-hide-btn"},i.a.createElement("button",{className:"line-btn",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true"},"Actions ",i.a.createElement("i",{className:"fas fa-angle-down"})),i.a.createElement("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenu1"},i.a.createElement("li",null,i.a.createElement("a",{onClick:this.doThis,className:"sign-procedure sign-procedure-class","data-consult":"0","data-procedureid":this.state.userRoomData.id,"data-iscomplete":c,"data-action":0===c?"incompletesign":"completesign"},d)),i.a.createElement("li",null,i.a.createElement("a",{onClick:this.doThis,className:"sign-as-consult sign-procedure-class","data-consult":"1","data-procedureid":this.state.userRoomData.id,"data-action":"markconsult"},"Mark as consult")),i.a.createElement("li",null,i.a.createElement("a",{onClick:this.doThis,className:"mark-as-after-photo sign-procedure-class","data-procedureid":this.state.userRoomData.id,"data-isafterphotos":m,"data-action":0===m?"unmarkafterphoto":"markafterphoto"},u)),1===this.state.userRoomData.is_after_photos&&i.a.createElement("li",null,i.a.createElement("a",{onClick:this.doThis,className:"hide-procedure sign-procedure-class","data-procedureid":this.state.userRoomData.id,"data-action":"hide"},"Hide"))))):"",this.state.action&&"recently-deleted"===this.state.action&&!1===this.state.showLoader?i.a.createElement("div",{className:"popup-new-btns popup-new-btns-restore"},i.a.createElement("button",{className:"header-select-btn confirm-model","data-confirm-url":"","data-message":this.state.settingsLang.recently_deleted_restore_msg,onClick:this.handleRestoreModal},this.state.settingsLang.recently_deleted_restore)):""),i.a.createElement("div",{className:"wide-popup-wrapper time-line"},this.state.lightboxImage&&i.a.createElement(Nn.a,{images:[{src:this.state.lightboxImage}],isOpen:this.state.lightboxIsOpen,onClose:this.closeLightbox,preventScroll:!1,showImageCount:!1,backdropClosesModal:!0}),i.a.createElement("div",{className:"settings-subtitle m-b-20"},this.state.languageData.pro_detail_text),i.a.createElement("div",{className:"timeline-outer row procedure-popup no-margin no-bg"},i.a.createElement("div",{className:"col-md-12 procedure-name-time-top popup-pro-name-outer"},i.a.createElement("div",{className:"procedure-name-time"},i.a.createElement("div",{className:"pro-name-section"},i.a.createElement("a",{className:"modal-link pro-name"},i.a.createElement("h4",null,this.state.procedure_name)),i.a.createElement("p",{className:"pro-time"},this.state.procedure_date))),i.a.createElement("h5",{className:"proc-cost"},void 0!==this.state.userRoomData.procedure&&null!==this.state.userRoomData.procedure.invoice_id&&""!==this.state.userRoomData.procedure.invoice_id&&null!==this.state.userRoomData.procedure.invoice_status&&""!==this.state.userRoomData.procedure.invoice_status&&"draft"!==this.state.userRoomData.procedure.invoice_status?Ie(this.state.total_amount,"currency"):this.state.languageData.pro_no_invoice_text)),i.a.createElement("div",{className:"col-md-6 timeline-left"},i.a.createElement("center",null,i.a.createElement("img",{onClick:function(e){return t.openLightbox(0,e,""!==t.state.front_pdf_image?t.state.front_pdf_image:t.state.patient_image_front_url?t.state.patient_image_front_url:t.state.def_no_image_vertical)},src:this.state.front_pdf_image_thumb_url?this.state.front_pdf_image_thumb_url:this.state.patient_image_front_thumb_url?this.state.patient_image_front_thumb_url:this.state.def_no_image_vertical})),i.a.createElement("div",{className:"tracbi-outer text-left"},i.a.createElement("div",{className:"provder-md"},i.a.createElement("h5",null,i.a.createElement("label",{className:"popup-input-field-name"},this.state.languageData.pro_provider_text)," ",i.a.createElement("span",{className:"popup-field-box"}," ",this.state.userFirstName," ",this.state.userLastName)),i.a.createElement("h5",null,i.a.createElement("label",{className:"popup-input-field-name"},this.state.languageData.pro_provider_signed_on_text," ")," ",i.a.createElement("span",{className:"popup-field-box"},null!==this.state.provider_signed_on&&""!==this.state.provider_signed_on?this.state.provider_signed_on:this.state.languageData.pro_not_signed_yet_text)),i.a.createElement("h5",null,i.a.createElement("label",{className:"popup-input-field-name"},this.state.languageData.pro_md_signed_on_text," ")," ",i.a.createElement("span",{className:"popup-field-box"},null!==this.state.md_signed_on&&""!==this.state.md_signed_on?this.state.md_signed_on:this.state.languageData.pro_not_signed_yet_text))))),i.a.createElement("div",{className:"col-md-6 timeline-right"},i.a.createElement("div",{className:"carousel slide","data-ride":"carousel","data-interval":"false"},i.a.createElement("div",{className:"carousel-inner"},i.a.createElement("div",{className:"item active"},i.a.createElement("div",{className:"right-images"},i.a.createElement("div",{className:"images-half"},i.a.createElement("img",{onClick:function(e){return t.openLightbox(0,e,""!==t.state.left_pdf_image_45_url?t.state.left_pdf_image_45_url:""!==t.state.patient_image_left_45_url?t.state.patient_image_left_45_url:t.state.def_no_image_vertical)},src:this.state.left_pdf_image_45_thumb_url?this.state.left_pdf_image_45_thumb_url:this.state.patient_image_left_45_thumb_url?this.state.patient_image_left_45_thumb_url:this.state.def_no_image_vertical})),i.a.createElement("div",{className:"images-half pull-right"},i.a.createElement("img",{onClick:function(e){return t.openLightbox(0,e,""!==t.state.right_pdf_image_45_url?t.state.right_pdf_image_45_url:""!==t.state.patient_image_right_45_url?t.state.patient_image_right_45_url:t.state.def_no_image_vertical)},src:this.state.right_pdf_image_45_thumb_url?this.state.right_pdf_image_45_thumb_url:this.state.patient_image_right_45_thumb_url?this.state.patient_image_right_45_thumb_url:this.state.def_no_image_vertical})),i.a.createElement("div",{className:"coolsculpting"!==this.state.type?"images-full":"images-full no-display"},i.a.createElement("img",{onClick:function(e){return t.openLightbox(0,e,""!==t.state.procedure_image_45_url?t.state.procedure_image_45_url:t.state.def_no_image_horizontal)},src:""!==this.state.procedure_image_45_thumb_url?this.state.procedure_image_45_thumb_url:this.state.def_no_image_horizontal})))),i.a.createElement("div",{className:"item"},i.a.createElement("div",{className:"right-images"},i.a.createElement("div",{className:"images-half"},i.a.createElement("img",{onClick:function(e){return t.openLightbox(0,e,""!==t.state.left_pdf_image_url?t.state.left_pdf_image_url:""!==t.state.patient_image_left_url?t.state.patient_image_left_url:t.state.def_no_image_vertical)},src:this.state.left_pdf_image_thumb_url?this.state.left_pdf_image_thumb_url:this.state.patient_image_left_thumb_url?this.state.patient_image_left_thumb_url:this.state.def_no_image_vertical})),i.a.createElement("div",{className:"images-half pull-right"},i.a.createElement("img",{onClick:function(e){return t.openLightbox(0,e,""!==t.state.right_pdf_image_url?t.state.right_pdf_image_url:""!==t.state.patient_image_right_url?t.state.patient_image_right_url:t.state.def_no_image_vertical)},src:this.state.right_pdf_image_thumb_url?this.state.right_pdf_image_thumb_url:this.state.patient_image_right_thumb_url?this.state.patient_image_right_thumb_url:this.state.def_no_image_vertical})),i.a.createElement("div",{className:"coolsculpting"!==this.state.type?"images-full":"images-full no-display"},i.a.createElement("img",{onClick:function(e){return t.openLightbox(0,e,""!==t.state.procedure_image_url?t.state.procedure_image_url:t.state.def_no_image_vertical)},src:""!==this.state.procedure_image_thumb_url?this.state.procedure_image_thumb_url:this.state.def_no_image_horizontal})))),"coolsculpting"===this.state.type&&i.a.createElement("div",{className:"item"},i.a.createElement("div",{className:"right-images"},i.a.createElement("div",{className:"images-half"},i.a.createElement("img",{onClick:function(e){return t.openLightbox(0,e,""!==t.state.back_pdf_image_left_45_url?t.state.back_pdf_image_left_45_url:""!==t.state.patient_image_back_left_45_url?t.state.patient_image_back_left_45_url:t.state.def_no_image_vertical)},src:this.state.back_pdf_image_left_45_thumb_url?this.state.back_pdf_image_left_45_thumb_url:this.state.patient_image_back_left_45_thumb_url?this.state.patient_image_back_left_45_thumb_url:this.state.def_no_image_vertical})),i.a.createElement("div",{className:"images-half pull-right"},i.a.createElement("img",{onClick:function(e){return t.openLightbox(0,e,""!==t.state.back_pdf_image_right_45_url?t.state.back_pdf_image_right_45_url:""!==t.state.patient_image_back_right_45_url?t.state.patient_image_back_right_45_url:t.state.def_no_image_vertical)},src:this.state.back_pdf_image_right_45_thumb_url?this.state.back_pdf_image_right_45_thumb_url:this.state.patient_image_back_right_45_thumb_url?this.state.patient_image_back_right_45_thumb_url:this.state.def_no_image_vertical})),i.a.createElement("div",{className:"images-full"},i.a.createElement("img",{onClick:function(e){return t.openLightbox(0,e,""!==t.state.back_pdf_image_url?t.state.back_pdf_image_url:""!==t.state.patient_image_back_url?t.state.patient_image_back_url:t.state.def_no_image_horizontal)},src:this.state.back_pdf_image_thumb_url?this.state.back_pdf_image_thumb_url:this.state.patient_image_back_thumb_url?this.state.patient_image_back_thumb_url:this.state.def_no_image_horizontal})))))),i.a.createElement("div",{className:"trac-right-btn-outer"},i.a.createElement("a",{className:"line-btn pull-right",onClick:this.runCarousel},this.state.languageData.pro_more_photo_text," (",this.state.total_image_count,")")),i.a.createElement("div",{className:"timeline-detail"},i.a.createElement("h4",null,this.state.languageData.pro_treat_summary_text),i.a.createElement("ul",{className:"treat-sumry profile-treat-sumry no-padding"},void 0!==this.state.userRoomData.injection_array&&this.state.userRoomData.injection_array.map(function(e,t){return i.a.createElement("li",{key:t},i.a.createElement("label",null,e.product_name)," ",i.a.createElement("span",null,e.quantity?Ie(e.quantity):""," ",e.unit))}),void 0!==this.state.userRoomData.injection_array&&0==this.state.userRoomData.injection_array.length&&i.a.createElement("li",null,i.a.createElement("label",{className:"sorry-no-record"},this.state.languageData.pro_sory_no_record_text)))))),i.a.createElement("div",{className:n},"provider-room"===this.state.roomType&&"pending"===this.state.action&&Te("manage-tracebility-info")&&i.a.createElement("div",{className:"settings-subtitle m-b-20"},this.state.languageData.pro_trace_detail_text," ",i.a.createElement("a",{onClick:function(){return t.viewTraceAbility()},className:"new-blue-btn pull-right"},"Update Traceability Info")),null!==this.state.injections&&""!==this.state.injections&&this.state.injections.length>0?e:i.a.createElement("p",{className:"no-record"},this.state.languageData.pro_no_injection_text)),i.a.createElement("div",{className:this.state.showSignModal?"modalOverlay":"modalOverlay no-display"},i.a.createElement("div",{className:"small-popup-outer"},i.a.createElement("div",{className:"small-popup-header"},i.a.createElement("div",{className:"popup-name"},this.state.roomType&&"provider-room"===this.state.roomType&&this.state.action&&"pending"===this.state.action?this.state.languageData.pro_sign_and_send_text:this.state.languageData.pro_popup_md_consent_text),i.a.createElement("a",{onClick:this.dismissSignModal,className:"small-cross"},"\xd7")),i.a.createElement("div",{className:"juvly-container"},this.state.roomType&&"provider-room"===this.state.roomType&&this.state.action&&"pending"===this.state.action?i.a.createElement("div",null,i.a.createElement("div",{className:"settings-subtitle signature-subtitle"},"Please select MD's:"),i.a.createElement("select",{name:"md_id",className:"setting-select-box",onChange:this.handleInputChange},p)):"",i.a.createElement("div",{className:"settings-subtitle signature-subtitle"},this.state.languageData.pro_please_sign_text,":"),i.a.createElement("div",{className:this.state.canvasClass,id:"sig-div"},-1===this.state.canvasClass.indexOf("no-display")&&a),i.a.createElement("div",{className:"img-src",id:"img-src"},i.a.createElement("div",{className:this.state.inputOut,style:{background:"#fff none repeat scroll 0 0"}},i.a.createElement("img",{className:"",id:"signature_image",src:this.state.uploadedSignature_url?this.state.uploadedSignature_url:this.state.signature_url}))),i.a.createElement("div",{className:"right-sign-btn m-t-20"},i.a.createElement("input",{className:"pull-left sel-all-visible",type:"checkbox",name:"save_sign",onChange:this.handleInputChange}),i.a.createElement("label",{className:"search-text",htmlFor:"save_sign"},this.state.languageData.pro_save_sig_text)),i.a.createElement("div",{className:"img-src change-sig"},i.a.createElement("div",{className:"pull-left"},i.a.createElement("button",{type:"button",id:"change",onClick:this.clearCanvas,className:this.state.changeClass},this.state.languageData.pro_change_text)),i.a.createElement("div",{className:"pull-left"},i.a.createElement("button",{type:"button",id:"change1",onClick:this.clear,className:this.state.clearClass},this.state.languageData.pro_clear_text)),i.a.createElement("div",{className:"pull-left"},i.a.createElement("button",{type:"button",id:"change2",onClick:this.handleClearReset,className:this.state.resetClass},this.state.languageData.pro_reset_text)),i.a.createElement("div",{className:"pull-left"}))),i.a.createElement("div",{className:"footer-static"},i.a.createElement("a",{id:"saveConsultation",onClick:this.signThis,className:"new-blue-btn pull-right"},this.state.roomType&&"provider-room"===this.state.roomType&&this.state.action&&"pending"===this.state.action?this.state.languageData.pro_btn_sign_and_send_text:this.state.languageData.pro_text_sgn)))),i.a.createElement("div",{className:this.state.showConfirmModal?"overlay":""}),i.a.createElement("div",{id:"filterModal",role:"dialog",className:this.state.showConfirmModal?"modal fade in displayBlock":"modal fade no-display"},i.a.createElement("div",{className:"modal-dialog"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal",onClick:this.dismissConfirmationModal},"\xd7"),i.a.createElement("h4",{className:"modal-title"},this.state.globalLang.delete_confirmation)),i.a.createElement("div",{id:"errorwindow",className:"modal-body add-patient-form filter-patient"},this.state.languageData.pro_incomplete_sign_confirmation_text),i.a.createElement("div",{className:"modal-footer"},i.a.createElement("div",{className:"col-md-12 text-left"},i.a.createElement("button",{type:"button",className:"btn  logout pull-right","data-dismiss":"modal",onClick:this.dismissConfirmationModal},this.state.languageData.pro_no_text),i.a.createElement("button",{type:"button",className:"btn btn-success pull-right m-r-10","data-dismiss":"modal",onClick:this.confirmAndOpen},this.state.languageData.pro_yes_text)))))),i.a.createElement("div",{className:this.state.showDeleteModal?"overlay":""}),i.a.createElement("div",{id:"filterModal",role:"dialog",className:this.state.showDeleteModal?"modal fade in displayBlock":"modal fade no-display"},i.a.createElement("div",{className:"modal-dialog"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal",onClick:this.dismissDeleteModal},"\xd7"),i.a.createElement("h4",{className:"modal-title",id:"model_title"},this.state.languageData.pro_delete_confirmation_text)),i.a.createElement("div",{id:"errorwindow",className:"modal-body add-patient-form filter-patient"},this.state.languageData.pro_are_you_sure_text),i.a.createElement("div",{className:"modal-footer"},i.a.createElement("div",{className:"col-md-12 text-left",id:"footer-btn"},i.a.createElement("button",{type:"button",className:"btn  logout pull-right","data-dismiss":"modal",onClick:this.dismissDeleteModal},this.state.languageData.pro_no_text),i.a.createElement("button",{type:"button",className:"btn btn-success pull-right m-r-10","data-dismiss":"modal",onClick:this.deleteNote},this.state.languageData.pro_yes_text)))))),i.a.createElement("div",{className:r},this.state.languageData.pro_notes_text,i.a.createElement("a",{onClick:this.openNotes.bind(this),className:"new-blue-btn pull-right"},this.state.languageData.pro_add_edit_note_text)),i.a.createElement("div",{className:l},this.state.languageData.pro_no_notes_text),i.a.createElement("div",{className:o},void 0!==this.state.userRoomData.procedure_notes&&this.state.userRoomData.procedure_notes.map(function(e,a){return i.a.createElement("div",{className:"row",key:a},i.a.createElement("div",{className:"circle"}),i.a.createElement("div",{className:"col-sm-4 col-xs-12 note-subject"},i.a.createElement("h4",null,e.user.firstname," ",e.user.lastname," ",t.state.languageData.pro_left_a_note_text),i.a.createElement("p",null,e.created)),i.a.createElement("div",{className:"col-sm-6 col-xs-12",id:"note-content"},i.a.createElement("div",{className:"note-content"},e.notes,i.a.createElement("br",null),e.hashtags&&e.hashtags.split(",").map(function(e,t){return i.a.createElement("span",{key:t,className:"hashTag"},e," ")})),i.a.createElement("textarea",{className:"no-display",defaultValue:""})),i.a.createElement("div",{className:"col-sm-2 col-xs-12 no-padding"},Te("add-edit-procedure-notes")&&t.getLoggedInUserData()===e.user.id?i.a.createElement("a",{id:"delete-note",className:"easy-link",name:e.id,onClick:t.showDeleteModal.bind(t)},t.state.languageData.pro_del_btn_text):""))}))),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock proDetailLoader":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.globalLang.Please_Wait)))),i.a.createElement("div",{className:this.state.isShowDeletedModal?"overlay":""}),void 0!=this.props.match.params.type&&"recently-deleted"==this.props.match.params.type&&i.a.createElement("div",{id:"filterModal",role:"dialog",className:this.state.isShowDeletedModal?"modal fade in displayBlock":"modal fade no-display"},i.a.createElement("div",{className:"modal-dialog"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal",onClick:this.handleRestoreModal},"\xd7"),i.a.createElement("h4",{className:"modal-title",id:"model_title"},this.state.globalLang.delete_confirmation)),i.a.createElement("div",{id:"errorwindow",className:"modal-body add-patient-form filter-patient"},this.state.settingsLang.recently_deleted_restore_msg),i.a.createElement("div",{className:"modal-footer"},i.a.createElement("div",{className:"col-md-12 text-left",id:"footer-btn"},i.a.createElement("button",{type:"button",className:"btn  logout pull-right","data-dismiss":"modal",onClick:this.handleRestoreModal},this.state.globalLang.label_no),i.a.createElement("button",{type:"button",className:"btn btn-success pull-right m-r-10","data-dismiss":"modal",onClick:this.restoreSelected},this.state.globalLang.label_yes))))))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(void 0===e.userRoomData&&void 0!==e.mdList&&e.mdList!==t.mdList&&e.mdList.length>0)return{mdList:e.mdList,md_id:e.mdList[0].id};if(void 0!=e.userRoomData&&void 0!==e.userRoomData.data&&void 0!==e.userRoomData.data.procedure&&e.userRoomData.data.procedure!==t.userRoomData&&200===e.userRoomData.status)return{nextProcedureID:null!==e.userRoomData.data.next&&""!==e.userRoomData.data.next?e.userRoomData.data.next:0,prevProcedureID:null!==e.userRoomData.data.previous&&""!==e.userRoomData.data.previous?e.userRoomData.data.previous:0,canvasClass:""===e.userRoomData.data.procedure.user.signature_url?"signature-box sig-div":"signature-box sig-div no-display",inputOut:""===e.userRoomData.data.procedure.user.signature_url?"input-outer no-display":"input-outer",clearClass:""===e.userRoomData.data.procedure.user.signature_url?"new-white-btn no-margin clear":"new-white-btn no-margin clear no-display",resetClass:""===e.userRoomData.data.procedure.user.signature_url?"new-blue-btn reset ":"new-blue-btn reset no-display",changeClass:""===e.userRoomData.data.procedure.user.signature_url?"new-blue-btn no-margin Change no-display":"new-blue-btn no-margin Change ",firstname:t.userChanged?t.firstname:e.userRoomData.data.procedure.patient&&void 0!==e.userRoomData.data.procedure.patient&&null!==e.userRoomData.data.procedure.patient?e.userRoomData.data.procedure.patient.firstname:"",lastname:t.userChanged?t.lastname:e.userRoomData.data.procedure.patient&&void 0!==e.userRoomData.data.procedure.patient&&null!==e.userRoomData.data.procedure.patient?e.userRoomData.data.procedure.patient.lastname:"",procedure_name:t.userChanged?t.procedure_name:e.userRoomData.data.procedure.procedure_name,procedure_date:t.userChanged?t.procedure_date:e.userRoomData.data.procedure.procedure_date,total_amount:t.userChanged?t.total_amount:e.userRoomData.data.procedure.total_amount,invoice_id:t.userChanged?t.invoice_id:e.userRoomData.data.procedure.invoice_id,invoice_status:t.userChanged?t.invoice_status:e.userRoomData.data.procedure.invoice_status,signature_url:e.userRoomData.data.procedure.user.signature_url,userRoomData:e.userRoomData.data.procedure,userLastName:t.userChanged?t.lastname:e.userRoomData.data.procedure.user.lastname,userFirstName:t.userChanged?t.firstname:e.userRoomData.data.procedure.user.firstname,provider_signed_on:t.userChanged?t.provider_signed_on:e.userRoomData.data.procedure.provider_signed_on,md_signed_on:t.userChanged?t.md_signed_on:e.userRoomData.data.procedure.md_signed_on,procedureFirstName:t.userChanged?t.lastname:e.userRoomData.data.procedure.procedure_notes.firstname,procedureLastName:t.userChanged?t.lastname:e.userRoomData.data.procedure.procedure_notes.lastname,patient_image_front:t.userChanged?t.patient_image_front:null!=e.userRoomData.data.procedure.procedure_image_data?e.userRoomData.data.procedure.procedure_image_data.patient_image_front:"",front_pdf_image:t.userChanged?t.front_pdf_image:e.userRoomData.data.procedure.pdf_image?e.userRoomData.data.procedure.pdf_image.front_pdf_image:"",consent_ids:t.userChanged?t.consent_ids:e.userRoomData.data.procedure.consent_ids,answers_count:t.userChanged?t.answers_count:e.userRoomData.data.procedure.answers_count,answer_multiples_count:t.userChanged?t.answer_multiples_count:e.userRoomData.data.procedure.answer_multiples_count,front_pdf_image_thumb_url:t.userChanged?t.patient_image_front:e.userRoomData.data.procedure.pdf_image?e.userRoomData.data.procedure.pdf_image.front_pdf_image_thumb_url:"",right_pdf_image_45_url:t.userChanged?t.right_pdf_image_45_url:e.userRoomData.data.procedure.pdf_image?e.userRoomData.data.procedure.pdf_image.right_pdf_image_45_url:"",right_pdf_image_45_thumb_url:t.userChanged?t.right_pdf_image_45_thumb_url:e.userRoomData.data.procedure.pdf_image?e.userRoomData.data.procedure.pdf_image.right_pdf_image_45_thumb_url:"",left_pdf_image_45_thumb_url:t.userChanged?t.left_pdf_image_45_thumb_url:e.userRoomData.data.procedure.pdf_image?e.userRoomData.data.procedure.pdf_image.left_pdf_image_45_thumb_url:"",left_pdf_image_45_url:t.userChanged?t.left_pdf_image_45_url:e.userRoomData.data.procedure.pdf_image?e.userRoomData.data.procedure.pdf_image.left_pdf_image_45_url:"",left_pdf_image_thumb_url:t.userChanged?t.left_pdf_image_thumb_url:e.userRoomData.data.procedure.pdf_image?e.userRoomData.data.procedure.pdf_image.left_pdf_image_thumb_url:"",total_image_count:t.userChanged?t.total_image_count:e.userRoomData.data.procedure.total_image_count,left_pdf_image_url:t.userChanged?t.left_pdf_image_url:e.userRoomData.data.procedure.pdf_image?e.userRoomData.data.procedure.pdf_image.left_pdf_image_url:"",right_pdf_image_thumb_url:t.userChanged?t.right_pdf_image_thumb_url:e.userRoomData.data.procedure.pdf_image?e.userRoomData.data.procedure.pdf_image.right_pdf_image_thumb_url:"",right_pdf_image_url:t.userChanged?t.right_pdf_image_url:e.userRoomData.data.procedure.pdf_image?e.userRoomData.data.procedure.pdf_image.right_pdf_image_url:"",back_pdf_image_thumb_url:t.userChanged?t.back_pdf_image_thumb_url:e.userRoomData.data.procedure.pdf_image?e.userRoomData.data.procedure.pdf_image.back_pdf_image_thumb_url:"",back_pdf_image_url:t.userChanged?t.back_pdf_image_url:e.userRoomData.data.procedure.pdf_image?e.userRoomData.data.procedure.pdf_image.back_pdf_image_url:"",type:t.userChanged?t.type:e.userRoomData.data.procedure.type,patient_image_left:t.userChanged?t.patient_image_left:null!=e.userRoomData.data.procedure.procedure_image_data?e.userRoomData.data.procedure.procedure_image_data.patient_image_left:"",patient_image_right:t.userChanged?t.patient_image_right:null!=e.userRoomData.data.procedure.procedure_image_data?e.userRoomData.data.procedure.procedure_image_data.patient_image_right:"",patient_image_left_45:t.userChanged?t.patient_image_left_45:null!=e.userRoomData.data.procedure.procedure_image_data?e.userRoomData.data.procedure.procedure_image_data.patient_image_left_45:"",patient_image_right_45:t.userChanged?t.patient_image_right_45:null!=e.userRoomData.data.procedure.procedure_image_data?e.userRoomData.data.procedure.procedure_image_data.patient_image_right_45:"",patient_image_back:t.userChanged?t.patient_image_back:null!=e.userRoomData.data.procedure.procedure_image_data?e.userRoomData.data.procedure.procedure_image_data.patient_image_back:"",patient_image_back_left_45:t.userChanged?t.patient_image_back_left_45:null!=e.userRoomData.data.procedure.procedure_image_data?e.userRoomData.data.procedure.procedure_image_data.patient_image_back_left_45:"",patient_image_back_right_45:t.userChanged?t.patient_image_back_right_45:null!=e.userRoomData.data.procedure.procedure_image_data?e.userRoomData.data.procedure.procedure_image_data.patient_image_back_right_45:"",patient_image_front_thumb_url:t.userChanged?t.patient_image_front_thumb_url:null!=e.userRoomData.data.procedure.procedure_image_data?e.userRoomData.data.procedure.procedure_image_data.patient_image_front_thumb_url:"",patient_image_front_url:t.userChanged?t.patient_image_front_url:null!=e.userRoomData.data.procedure.procedure_image_data?e.userRoomData.data.procedure.procedure_image_data.patient_image_front_url:"",patient_image_left_thumb_url:t.userChanged?t.patient_image_left_thumb_url:null!=e.userRoomData.data.procedure.procedure_image_data?e.userRoomData.data.procedure.procedure_image_data.patient_image_left_thumb_url:"",patient_image_left_url:t.userChanged?t.patient_image_left_url:null!=e.userRoomData.data.procedure.procedure_image_data?e.userRoomData.data.procedure.procedure_image_data.patient_image_left_url:"",patient_image_left_45_thumb_url:t.userChanged?t.patient_image_left_45_thumb_url:null!=e.userRoomData.data.procedure.procedure_image_data?e.userRoomData.data.procedure.procedure_image_data.patient_image_left_45_thumb_url:"",patient_image_left_45_url:t.userChanged?t.patient_image_left_45_url:null!=e.userRoomData.data.procedure.procedure_image_data?e.userRoomData.data.procedure.procedure_image_data.patient_image_left_45_url:"",patient_image_right_thumb_url:t.userChanged?t.patient_image_right_thumb_url:null!=e.userRoomData.data.procedure.procedure_image_data?e.userRoomData.data.procedure.procedure_image_data.patient_image_right_thumb_url:"",patient_image_right_url:t.userChanged?t.patient_image_right_url:null!=e.userRoomData.data.procedure.procedure_image_data?e.userRoomData.data.procedure.procedure_image_data.patient_image_right_url:"",patient_image_right_45_thumb_url:t.userChanged?t.patient_image_right_45_thumb_url:null!=e.userRoomData.data.procedure.procedure_image_data?e.userRoomData.data.procedure.procedure_image_data.patient_image_right_45_thumb_url:"",patient_image_right_45_url:t.userChanged?t.patient_image_right_45_url:null!=e.userRoomData.data.procedure.procedure_image_data?e.userRoomData.data.procedure.procedure_image_data.patient_image_right_45_url:"",patient_image_back_left_45_thumb_url:t.userChanged?t.patient_image_back_left_45_thumb_url:null!=e.userRoomData.data.procedure.procedure_image_data?e.userRoomData.data.procedure.procedure_image_data.patient_image_back_left_45_thumb_url:"",patient_image_back_left_45_url:t.userChanged?t.patient_image_back_left_45_url:null!=e.userRoomData.data.procedure.procedure_image_data?e.userRoomData.data.procedure.procedure_image_data.patient_image_back_left_45_url:"",patient_image_back_right_45_thumb_url:t.userChanged?t.patient_image_back_right_45_thumb_url:null!=e.userRoomData.data.procedure.procedure_image_data?e.userRoomData.data.procedure.procedure_image_data.patient_image_back_right_45_thumb_url:"",patient_image_back_right_45_url:t.userChanged?t.patient_image_back_right_45_url:null!=e.userRoomData.data.procedure.procedure_image_data?e.userRoomData.data.procedure.procedure_image_data.patient_image_back_right_45_url:"",patient_image_back_thumb_url:t.userChanged?t.patient_image_back_thumb_url:null!=e.userRoomData.data.procedure.procedure_image_data?e.userRoomData.data.procedure.procedure_image_data.patient_image_back_thumb_url:"",patient_image_back_url:t.userChanged?t.patient_image_back_url:null!=e.userRoomData.data.procedure.procedure_image_data?e.userRoomData.data.procedure.procedure_image_data.patient_image_back_url:"",total_price:t.userChanged?t.procedure_name:e.userRoomData.data.procedure.total_price,showLoader:!1,procedure_image_45_thumb_url:t.userChanged?t.procedure_image_45_thumb_url:null!=e.userRoomData.data.procedure.procedure_image_45_thumb_url?e.userRoomData.data.procedure.procedure_image_45_thumb_url:"",procedure_image_45_url:t.userChanged?t.procedure_image_45_url:null!=e.userRoomData.data.procedure.procedure_image_45_url?e.userRoomData.data.procedure.procedure_image_45_url:"",procedure_image_thumb_url:t.userChanged?t.procedure_image_thumb_url:null!=e.userRoomData.data.procedure.procedure_image_thumb_url?e.userRoomData.data.procedure.procedure_image_thumb_url:"",procedure_image_url:t.userChanged?t.procedure_image_url:null!=e.userRoomData.data.procedure.procedure_image_url?e.userRoomData.data.procedure.procedure_image_url:"",back_pdf_image_left_45_thumb_url:t.userChanged?t.back_pdf_image_left_45_thumb_url:e.userRoomData.data.procedure.pdf_image?e.userRoomData.data.procedure.pdf_image.back_pdf_image_left_45_thumb_url:"",back_pdf_image_left_45_url:t.userChanged?t.back_pdf_image_left_45_url:e.userRoomData.data.procedure.pdf_image?e.userRoomData.data.procedure.pdf_image.back_pdf_image_left_45_url:"",back_pdf_image_right_45_url:t.userChanged?t.back_pdf_image_right_45_url:e.userRoomData.data.procedure.pdf_image?e.userRoomData.data.procedure.pdf_image.back_pdf_image_right_45_url:"",back_pdf_image_right_45_thumb_url:t.userChanged?t.back_pdf_image_right_45_thumb_url:e.userRoomData.data.procedure.pdf_image?e.userRoomData.data.procedure.pdf_image.back_pdf_image_right_45_thumb_url:"",injections:t.userChanged?t.injections:e.userRoomData.data.injections,patientID:null!==e.userRoomData.data.procedure.patient&&void 0!==e.userRoomData.data.procedure.patient?e.userRoomData.data.procedure.patient.id:0,traceData:e.userRoomData.data.injections,md_signed:t.md_signed?t.injections:e.userRoomData.data.procedure.md_signed,signature:e.userRoomData.data.procedure.user.signature};if(void 0!==e.userRoomData&&201===e.userRoomData.status&&e.userRoomData.data!=t.userRoomData)return t.nextProcedureID&&null!==t.nextProcedureID&&""!==t.nextProcedureID&&t.nextProcedureID>0&&t.procedureID===e.match.params.id?(e.history.push("/".concat(t.roomType,"/procedure-detail/").concat(t.nextProcedureID,"/").concat(e.match.params.type)),{userRoomData:e.userRoomData.data,showLoader:!1}):(e.history.push("/".concat(t.roomType,"/").concat(e.match.params.type)),{showLoader:!1});if(void 0!==e.redirect&&!0===e.redirect)rt.toast.success(e.message,{onClose:function(){e.history.push("/".concat(t.roomType,"/").concat(e.match.params.type))}});else if(void 0!==e.redirectToDeleted&&!0===e.redirectToDeleted)rt.toast.success(e.message,{onClose:function(){e.history.push("/settings/".concat(e.match.params.type))}});else if(void 0!==e.showLoader&&!1===e.showLoader)return{showLoader:!1};return null}}]),t}(n.Component);var bf=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData"));if("userRoomData_LIST"===e.SettingReducer.action){var a=JSON.parse(localStorage.getItem("languageData"));return 200===e.SettingReducer.data.status?{userRoomData:e.SettingReducer.data}:(rt.toast.error(a.global[e.SettingReducer.data.message]),{})}return"SETTING_DELETE_PROCEDURE_NOTE"===e.SettingReducer.action?(rt.toast.dismiss(),200===e.SettingReducer.data.status?(rt.toast.success(t.global[e.SettingReducer.data.message]),{userRoomData:e.SettingReducer.data}):(rt.toast.error(t.global[e.SettingReducer.data.message]),{})):"SIGN_PROCEDURE"===e.SettingReducer.action?(rt.toast.dismiss(),201===e.SettingReducer.data.status?(rt.toast.success(t.global[e.SettingReducer.data.message]),{userRoomData:e.SettingReducer.data}):(rt.toast.error(t.global[e.SettingReducer.data.message]),{})):"MARK_UNMARK_AFTER_PHOTOS"===e.SettingReducer.action?(rt.toast.dismiss(),200===e.SettingReducer.data.status?(rt.toast.success(t.global[e.SettingReducer.data.message]),{userRoomData:e.SettingReducer.data}):(rt.toast.error(t.global[e.SettingReducer.data.message]),{})):"HIDE_MARK_AFTER_PHOTOS"===e.SettingReducer.action?(rt.toast.dismiss(),201===e.SettingReducer.data.status?(rt.toast.success(t.global[e.SettingReducer.data.message]),{userRoomData:e.SettingReducer.data}):(rt.toast.error(t.global[e.SettingReducer.data.message]),{})):"MDS_LIST"===e.SettingReducer.action?(rt.toast.dismiss(),200===e.SettingReducer.data.status?{mdList:e.SettingReducer.data.data}:{}):"RECENTLY_DELETED_RESTORE"===e.SettingReducer.action?200!=e.SettingReducer.data.status?(rt.toast.error(t.global[e.SettingReducer.data.message]),{showLoader:!1}):{message:t.global[e.SettingReducer.data.message],redirectToDeleted:!0}:{}},function(e){return Object(c.bindActionCreators)({fetchUserRoomData:Ji,deleteProcedureNote:ur,signProcedure:Er,markUnmarkAsAfterPhotos:yr,hidemarkAsAfter:Nr,fetchSelectMD:Vi,restoreRecentlyDeleted:Fr},e)})(Object(de.a)(ff));Q.a.create().interceptors.response.use(function(e){return e},function(e){if(!e.response)return{data:{data:"",message:"file_type_error",status:400}}});var Ef=function(e){return Se()(e).format("YYYY/MM/DD hh:mm A")},yf="",Nf="",Sf="",Df=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).handleUpload=function(e){var t;t="signature_image"===e?"patient_signatures":"procedure_image";var s=new FormData;s.append("file",a.state.file,a.state.file.name);var n=Ee.API_URL+"media/upload?upload_type=".concat(t);Q.a.post(n,s).then(function(e){var t,s=a.state.target.name;a.setState((t={},Object(se.a)(t,s,e.data.data.file_name),Object(se.a)(t,"showLoader",!1),t))}).catch(function(e){rt.toast.error(a.state.globalLang[e.response.data.message])})},a.handleFileRead=function(e){a.state.fileReader.result;var t,s=a.state.target.name+"_thumbnail",n=a.state.target.name+"_src",i=a.state.target.name+"_size",r=Fe(a.state.file.size,1);a.setState((t={},Object(se.a)(t,s,a.state.file.name),Object(se.a)(t,i,r),Object(se.a)(t,n,a.state.fileReader.result),Object(se.a)(t,"showLoader",!0),t)),a.handleUpload(a.state.target.name)},a.handleFileChosen=function(e,t){a.state.fileReader=new FileReader,a.state.fileReader.onloadend=a.handleFileRead,a.state.fileReader.readAsDataURL(e),a.state.file=e,a.state.target=t},a.handleInputChange=function(e){var t=e.target,s="checkbox"===t.type?t.checked:t.value,n=e.target.name;if(t&&"file"===t.type){t.files&&["image/png","image/PNG","image/jpg","image/JPG","image/jpeg","image/JPEG","image/gif","image/GIF"].indexOf(t.files[0].type)>-1?a.handleFileChosen(t.files[0],t):rt.toast.error("This file type is not allowed")}else{var i;a.setState((i={},Object(se.a)(i,e.target.name,s),Object(se.a)(i,"dataChanged",!0),i))}"appointment_id"===n&&a.getApptData(s),"user_id"===n&&a.getAssociatedClinics(s)},a.handleClick=function(e){a.refDatePickerContainer.contains(e.target)||(a.refDatePicker.setOpen(!1),a.setState({showDatePicker:!1}))},a.handleDatePicker=function(e){a.setState({procedure_date:Ef(e),selected_date:e,showDatePicker:!1,dataChanged:!0}),a.refDatePicker.setOpen(!1)},a.resetDatePicker=function(){a.setState({procedure_date:null,selected_date:null,showDatePicker:!0,dataChanged:!0})},a.blurDatePicker=function(e){a.refDatePicker.setOpen(!0),a.setState({showDatePicker:!0,dataChanged:!0})},a.toggleDatePicker=function(){a.setState({showDatePicker:!0}),a.refDatePicker.setFocus(!0),a.refDatePicker.setOpen(!0)},a.componentDidUpdate=function(e,t){if(null!==a.state.saveProData&&""!==a.state.saveProData&&a.state.saveProData!==t.saveProData&&null!==a.state.saveMessage&&""!==a.state.saveMessage&&(rt.toast.success(a.state.globalLang[a.state.saveMessage]),Sf=Object(ce.a)(Object(ce.a)(a)),setTimeout(function(){Sf.props.match.params.actionType&&"clients"===Sf.props.match.params.actionType&&Sf.props.history.push(Sf.props.match.params.type?"/"+Sf.state.backURLType+"/"+Sf.props.match.params.type+"/"+Sf.props.match.params.clientID:"/"+Sf.state.backURLType)},1e3)),null!==a.state.updateProData&&""!==a.state.updateProData&&a.state.updateProData!==t.updateProData&&null!==a.state.updateMessage&&""!==a.state.updateMessage&&(rt.toast.success(a.state.globalLang[a.state.updateMessage]),Sf=Object(ce.a)(Object(ce.a)(a)),setTimeout(function(){Sf.props.match.params.actionType&&"clients"===Sf.props.match.params.actionType&&Sf.props.history.push(Sf.props.match.params.type?"/"+Sf.state.backURLType+"/"+Sf.props.match.params.type+"/"+Sf.props.match.params.clientID:"/"+Sf.state.backURLType)},1e3)),a.state.procedureData&&a.state.procedureData!==t.procedureData&&a.state.procedureID&&a.state.procedureData&&a.state.procedureData.procedure_details){a.state.procedureData.procedure_details.appointment_id&&a.showServices(a.state.procedureData.procedure_details.appointment_id),a.getAssociatedClinics(a.state.procedureData.procedure_details.user_id);var s=[],n=[];a.state.procedureData.procedure_details&&a.state.procedureData.procedure_details.answers&&a.state.procedureData.procedure_details.answers.length>0&&(s=a.state.procedureData.procedure_details.answers.map(function(e,t){if(e.questionnaire)return{value:e.questionnaire.id,label:e.questionnaire.consultation_title}})),a.state.procedureData.procedure_details&&a.state.procedureData.procedure_details.signature_consent&&a.state.procedureData.procedure_details.signature_consent.length>0&&(n=a.state.procedureData.procedure_details.signature_consent.map(function(e,t){if(e&&e.consent)return{value:e.consent.id,label:e.consent.consent_name}})),a.setState({appointment_id:a.state.procedureData.procedure_details.appointment_id,service_id:a.state.procedureData.procedure_details.service_id,user_id:a.state.procedureData.procedure_details.user_id,clinic_id:a.state.procedureData.procedure_details.clinic_id,type:a.state.procedureData.procedure_details.type,procedure_name:a.state.procedureData.procedure_details.procedure_name,procedure_date:Ef(a.state.procedureData.procedure_details.procedure_date),selectedQuestionnaireOptions:s,selectedConsentsOptions:n,patient_image_front_src:a.state.procedureData.procedure_details.procedure_image_data?a.state.procedureData.procedure_details.procedure_image_data.patient_image_front_thumb_url:"",patient_image_front:a.state.procedureData.procedure_details.procedure_image_data?a.state.procedureData.procedure_details.procedure_image_data.patient_image_front:"",procedure_image_45_src:a.state.procedureData.procedure_details?a.state.procedureData.procedure_details.procedure_image_45_thumb_url:"",procedure_image_45:a.state.procedureData.procedure_details?a.state.procedureData.procedure_details.procedure_image_45:"",patient_image_left_45_src:a.state.procedureData.procedure_details.procedure_image_data?a.state.procedureData.procedure_details.procedure_image_data.patient_image_left_45_thumb_url:"",patient_image_left_45:a.state.procedureData.procedure_details.procedure_image_data?a.state.procedureData.procedure_details.procedure_image_data.patient_image_left_45:"",patient_image_right_45_src:a.state.procedureData.procedure_details.procedure_image_data?a.state.procedureData.procedure_details.procedure_image_data.patient_image_right_45_thumb_url:"",patient_image_right_45:a.state.procedureData.procedure_details.procedure_image_data?a.state.procedureData.procedure_details.procedure_image_data.patient_image_right_45:"",procedure_image_src:a.state.procedureData.procedure_details?a.state.procedureData.procedure_details.procedure_image_thumb_url:"",procedure_image:a.state.procedureData.procedure_details?a.state.procedureData.procedure_details.procedure_image:"",patient_image_left_src:a.state.procedureData.procedure_details.procedure_image_data?a.state.procedureData.procedure_details.procedure_image_data.patient_image_left_thumb_url:"",patient_image_left:a.state.procedureData.procedure_details.procedure_image_data?a.state.procedureData.procedure_details.procedure_image_data.patient_image_left:"",patient_image_right_src:a.state.procedureData.procedure_details.procedure_image_data?a.state.procedureData.procedure_details.procedure_image_data.patient_image_right_thumb_url:"",patient_image_right:a.state.procedureData.procedure_details.procedure_image_data?a.state.procedureData.procedure_details.procedure_image_data.patient_image_right:"",patient_image_back_src:a.state.procedureData.procedure_details.procedure_image_data?a.state.procedureData.procedure_details.procedure_image_data.patient_image_back_thumb_url:"",patient_image_back:a.state.procedureData.procedure_details.procedure_image_data?a.state.procedureData.procedure_details.procedure_image_data.patient_image_back:"",patient_image_back_left_45_src:a.state.procedureData.procedure_details.procedure_image_data?a.state.procedureData.procedure_details.procedure_image_data.patient_image_back_left_45_thumb_url:"",patient_image_back_left_45:a.state.procedureData.procedure_details.procedure_image_data?a.state.procedureData.procedure_details.procedure_image_data.patient_image_back_left_45:"",patient_image_back_right_45_src:a.state.procedureData.procedure_details.procedure_image_data?a.state.procedureData.procedure_details.procedure_image_data.patient_image_back_right_45_thumb_url:"",patient_image_back_right_45:a.state.procedureData.procedure_details.procedure_image_data?a.state.procedureData.procedure_details.procedure_image_data.patient_image_back_right_45:"",signature_image_src:a.state.procedureData.procedure_details.signature_image_data?a.state.procedureData.procedure_details.signature_image_data.signature_thumb_image_url:"",signature_image:a.state.procedureData.procedure_details.signature_image_data?a.state.procedureData.procedure_details.signature_image_data.signature_image:""})}null!==a.state.deleteProData&&""!==a.state.deleteProData&&a.state.deleteProData!==t.deleteProData&&null!==a.state.deleteMessage&&""!==a.state.deleteMessage&&(rt.toast.success(a.state.globalLang[a.state.deleteMessage]),Sf=Object(ce.a)(Object(ce.a)(a)),setTimeout(function(){Sf.props.match.params.actionType&&"clients"===Sf.props.match.params.actionType&&Sf.props.history.push(Sf.props.match.params.type?"/"+Sf.state.backURLType+"/"+Sf.props.match.params.type+"/"+Sf.props.match.params.clientID:"/"+Sf.state.backURLType)},1e3))},a.handleQuestionChange=function(e){a.setState({selectedQuestionnaireOptions:e,dataChanged:!0})},a.handleConsentChange=function(e){a.setState({selectedConsentsOptions:e,dataChanged:!0})},a.getAssociatedClinics=function(e){e>0&&(a.props.getAssociatedClinics(e),a.setState({showLoader:!0}))},a.getApptData=function(e){if(e>0){var t={appointment_id:e,patient_id:a.state.clientID,service_id:0};a.props.getApptConsultData(t),a.showServices(e),a.reRenderClinics(e),a.setState({showLoader:!0})}else yf=""},a.showServices=function(e){if(e&&a.state.procedureData&&a.state.procedureData.appointmentServices){var t=[];(t=a.state.procedureData.appointmentServices[e]?a.state.procedureData.appointmentServices[e]:[])&&t.length>0&&(yf=t.map(function(e,t){return i.a.createElement("option",{key:t,value:e.service.id},e.service.name)}))}},a.reRenderClinics=function(){a.state.procedureData&&a.state.procedureData.clinics&&a.state.procedureData.clinics.length>0&&(Nf=a.state.procedureData.clinics.map(function(e,t){return i.a.createElement("option",{key:t,value:e.id},e.clinic_name)}))},a.handleSubmit=function(e){e.preventDefault();var t=!1;if("undefined"===typeof a.state.user_id||null===a.state.user_id||""===a.state.user_id||"0"===a.state.user_id?a.setState({providerClass:"setting-select-box setting-input-box-invalid"}):a.state.user_id&&a.setState({providerClass:"setting-select-box"}),"undefined"===typeof a.state.clinic_id||null===a.state.clinic_id||""===a.state.clinic_id||"0"===a.state.clinic_id?a.setState({clinicClass:"setting-select-box setting-input-box-invalid"}):a.state.clinic_id&&a.setState({clinicClass:"setting-select-box"}),"undefined"===typeof a.state.type||null===a.state.type||""===a.state.type||"0"===a.state.type?a.setState({areaClass:"setting-select-box setting-input-box-invalid"}):a.state.type&&a.setState({areaClass:"setting-select-box"}),"undefined"===typeof a.state.procedure_name||null===a.state.procedure_name||""===a.state.procedure_name?a.setState({pronameClass:"setting-input-box setting-input-box-invalid"}):a.state.procedure_name&&a.setState({pronameClass:"setting-input-box"}),a.state.selectedConsentsOptions&&a.state.selectedConsentsOptions.length>0?a.state.signature_image?t=!0:(rt.toast.error("Signature image is required"),t=!1):t=!0,a.state.user_id&&a.state.clinic_id&&a.state.type&&a.state.procedure_name&&t){var s=[],n=[];a.state.selectedConsentsOptions&&a.state.selectedConsentsOptions.length>0&&a.state.selectedConsentsOptions.map(function(e,t){s.push(e.value)}),a.state.selectedQuestionnaireOptions&&a.state.selectedQuestionnaireOptions.length>0&&a.state.selectedQuestionnaireOptions.map(function(e,t){n.push(e.value)});var i={procedure:{appointment_id:a.state.appointment_id,service_id:a.state.service_id,user_id:a.state.user_id,clinic_id:a.state.clinic_id,type:a.state.type,procedure_name:a.state.procedure_name,procedure_date:a.state.procedure_date,procedure_image_45:a.state.procedure_image_45,procedure_image:a.state.procedure_image,patient_id:a.state.clientID},procedure_images:{patient_image_front:a.state.patient_image_front,patient_image_left_45:a.state.patient_image_left_45,patient_image_right_45:a.state.patient_image_right_45,patient_image_left:a.state.patient_image_left,patient_image_right:a.state.patient_image_right,patient_image_back:a.state.patient_image_back,patient_image_back_left_45:a.state.patient_image_back_left_45,patient_image_back_right_45:a.state.patient_image_back_right_45},signature_consents:{consent_ids:s,signature_image:a.state.signature_image},questionnaires_ids:n};0===s.length&&delete i.signature_consents.consent_ids,0===n.length&&delete i.questionnaires_ids,null!==typeof a.state.procedure_image&&""!==a.state.procedure_image&&null!==a.state.procedure_image||delete i.procedure.procedure_image,null!==a.state.procedure_image_45&&""!==a.state.procedure_image_45||delete i.procedure.procedure_image_45,null!==a.state.patient_image_front&&""!==a.state.patient_image_front||delete i.procedure_images.patient_image_front,null!==a.state.patient_image_left_45&&""!==a.state.patient_image_left_45||delete i.procedure_images.patient_image_left_45,null!==a.state.patient_image_right_45&&""!==a.state.patient_image_right_45||delete i.procedure_images.patient_image_right_45,null!==a.state.patient_image_left&&""!==a.state.patient_image_left||delete i.procedure_images.patient_image_left,null!==a.state.patient_image_right&&""!==a.state.patient_image_right||delete i.procedure_images.patient_image_right,null!==a.state.patient_image_back&&""!==a.state.patient_image_back||delete i.procedure_images.patient_image_back,null!==a.state.patient_image_back_left_45&&""!==a.state.patient_image_back_left_45||delete i.procedure_images.patient_image_back_left_45,null!==a.state.patient_image_back_right_45&&""!==a.state.patient_image_back_right_45||delete i.procedure_images.patient_image_back_right_45,a.state.procedureID?a.props.updateProcedure(i,a.state.procedureID):a.props.saveProcedure(i),a.setState({showLoader:!0})}},a.showDelProModal=function(){a.state.procedureID&&a.setState({showModal:!0})},a.dismissModal=function(){a.setState({showModal:!1})},a.deleteProcedure=function(){a.state.clientID&&a.state.procedureID&&(a.setState({showLoader:!0,showModal:!1}),a.props.deleteProcedure(a.state.clientID,a.state.procedureID))};var s=JSON.parse(localStorage.getItem("languageData"));return a.state={backURLType:a.props.match.params.actionType?a.props.match.params.actionType:"clients",clientID:a.props.match.params.clientID,procedureID:a.props.match.params.procedureID?a.props.match.params.procedureID:0,globalLang:s.global,fileReader:"",showLoader:!1,showDatePicker:!1,procedureData:[],selectedQuestionnaireOptions:[],questionnaireOptions:[],selectedConsentsOptions:[],consentsOptions:[],type:"face",providerClass:"setting-select-box",clinicClass:"setting-select-box",areaClass:"setting-select-box",pronameClass:"setting-input-box",procedure_name:"",showModal:!1,procedure_date:Ef(new Date)},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClick,!1)}},{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleClick,!1),this.setState({showLoader:!0}),this.props.getProcedureData(this.state.clientID,this.state.procedureID)}},{key:"render",value:function(){var e=this,t="";this.state.backURLType&&"clients"===this.state.backURLType&&(t=this.props.match.params.type?"/"+this.state.backURLType+"/"+this.props.match.params.type+"/"+this.props.match.params.clientID:"/"+this.state.backURLType);var a="",s=this.state.procedureData&&this.state.procedureData.patient?Me(this.state.procedureData.patient):"";this.state.procedureData&&this.state.procedureData.appointments&&this.state.procedureData.appointments.length>0&&(a=this.state.procedureData.appointments.map(function(e,t){var a=Be(e.appointment_datetime,!0);return i.a.createElement("option",{key:t,value:e.id},s+" - "+a)}));var n="";this.state.procedureData&&this.state.procedureData.doctors&&this.state.procedureData.doctors.length>0&&(n=this.state.procedureData.doctors.map(function(e,t){var a=Me(e);return i.a.createElement("option",{key:t,value:e.id},a)})),this.state.associatedClinics&&this.state.associatedClinics.length>0&&(Nf=this.state.associatedClinics.map(function(e,t){return i.a.createElement("option",{key:t,value:e.id},e.clinic_name)})),this.state.apptConsultData&&this.state.apptConsultData.associated_clinic&&this.state.apptConsultData.associated_clinic.length>0&&(Nf=this.state.apptConsultData.associated_clinic.map(function(e,t){return i.a.createElement("option",{key:t,value:e.clinic.id},e.clinic.clinic_name)}));var r="",o="no-display",l="col-md-3 col-sm-6 col-xs-12",c="";return this.state.type&&(r=this.state.type),r&&"coolsculpting"===r?(l="col-md-3 col-sm-6 col-xs-12 no-display",o=""):r&&"laser"===r&&(l="col-md-3 col-sm-6 col-xs-12 no-display",o="no-display",c="no-display"),i.a.createElement("div",{id:"content"},i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("div",{className:"container-fluid content setting-wrapper add-edit-procedure"},i.a.createElement("div",{className:"juvly-section full-width m-t-15"},i.a.createElement("div",{className:"juvly-container"},i.a.createElement("div",{className:"juvly-title m-b-30"},!1===this.state.showLoader?this.state.procedureID?s+" - Edit Procedure":s+" - Add Procedure":"",i.a.createElement(me.a,{to:t,className:"pull-right"},i.a.createElement("img",{src:Fm.a}))),i.a.createElement("div",{className:"juvly-subtitle"},"Procedure Information"),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-3 col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Select Appointment"),i.a.createElement("select",{name:"appointment_id",className:"setting-select-box",onChange:this.handleInputChange,value:this.state.appointment_id},i.a.createElement("option",{value:"0"},"Select"),a))),i.a.createElement("div",{className:"col-md-3 col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Select Services"),i.a.createElement("select",{name:"service_id",className:"setting-select-box",onChange:this.handleInputChange,value:this.state.service_id},i.a.createElement("option",{value:"0"},"Select"),yf))),i.a.createElement("div",{className:"col-md-3 col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Select Provider ",i.a.createElement("span",{className:"required"},"*")),i.a.createElement("select",{name:"user_id",className:this.state.providerClass,onChange:this.handleInputChange,value:this.state.user_id},i.a.createElement("option",{value:"0"},"Select"),n))),i.a.createElement("div",{className:"col-md-3 col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Select Clinic ",i.a.createElement("span",{className:"required"},"*")),i.a.createElement("select",{name:"clinic_id",className:this.state.clinicClass,onChange:this.handleInputChange,value:this.state.clinic_id},i.a.createElement("option",{value:"0"},"Select"),Nf))),i.a.createElement("div",{className:"col-md-3 col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Procedure Area ",i.a.createElement("span",{className:"required"},"*")),i.a.createElement("select",{name:"type",className:this.state.areaClass,onChange:this.handleInputChange,value:this.state.type},i.a.createElement("option",{value:"butt"},"Butt"),".",i.a.createElement("option",{value:"chest"},"Chest"),i.a.createElement("option",{value:"coolsculpting"},"Coolsculpting"),i.a.createElement("option",{value:"face"},"Face"),i.a.createElement("option",{value:"laser"},"Laser"),i.a.createElement("option",{value:"thighs"},"Thighs"),i.a.createElement("option",{value:"trunk"},"Trunk"),i.a.createElement("option",{value:"other"},"Other")))),i.a.createElement("div",{className:"col-md-3 col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Procedure Name ",i.a.createElement("span",{className:"required"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{name:"procedure_name",className:this.state.pronameClass,type:"text",autoComplete:"off",onChange:this.handleInputChange,value:this.state.procedure_name})))),i.a.createElement("div",{className:"col-md-3 col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Procedure Date"),i.a.createElement("div",{className:"setting-input-outer",ref:function(t){return e.refDatePickerContainer=t}},i.a.createElement(xn.a,{value:Be(this.state.procedure_date,!0),onChange:this.handleDatePicker,className:"setting-input-box p-r-40",maxDate:new Date,minTime:Object(ss.c)(Object(ss.d)(new Date,0),0),maxTime:Object(ss.c)(Object(ss.d)(new Date,parseInt(Se()().format("mm"))),parseInt(Se()().format("HH"))),name:"procedure_date",autoComplete:"off",ref:function(t){return e.refDatePicker=t},onBlur:this.blurDatePicker,showTimeSelect:!0,timeFormat:ze(),timeIntervals:1,dateFormat:"YYYY/MM/DD hh:mm A",timeCaption:"time",selected:this.state.selected_date?this.state.selected_date:this.state.procedure_date?Se()(this.state.procedure_date).toDate():this.state.selected_date}))))),i.a.createElement("div",{className:"juvly-subtitle"},"Procedure Front Image"),i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Front Image"),i.a.createElement("div",{className:"main-profile-picture relative-pic"},i.a.createElement("div",{className:"col-xs-6 no-padding"},i.a.createElement("div",{className:"file-container"},i.a.createElement("img",{src:this.state.patient_image_front_src?this.state.patient_image_front_src:An.a}),i.a.createElement("span",{className:this.state.patient_image_front_src?"file-name file-info":"file-name-hide no-display"},this.state.patient_image_front_thumbnail),i.a.createElement("span",{className:this.state.patient_image_front_size?"file-size file-info":"file-size-hide no-display"},this.state.patient_image_front_size),i.a.createElement("div",{className:"upload"},"Upload",i.a.createElement("input",{type:"file",name:"patient_image_front",autoComplete:"off",onChange:this.handleInputChange,className:"image_questionnaire"})))))),i.a.createElement("div",{className:"juvly-subtitle"},"Procedure Images - 45 Degrees"),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:l},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Procedure Image"),i.a.createElement("div",{className:"main-profile-picture relative-pic"},i.a.createElement("div",{className:"col-xs-6 no-padding"},i.a.createElement("div",{className:"file-container"},i.a.createElement("img",{src:this.state.procedure_image_45_src?this.state.procedure_image_45_src:An.a}),i.a.createElement("span",{className:this.state.procedure_image_45_src?"file-name file-info":"file-name-hide no-display"},this.state.procedure_image_45_thumbnail),i.a.createElement("span",{className:this.state.procedure_image_45_size?"file-size file-info":"file-size-hide no-display"},this.state.procedure_image_45_size),i.a.createElement("div",{className:"upload"},"Upload",i.a.createElement("input",{type:"file",name:"procedure_image_45",autoComplete:"off",onChange:this.handleInputChange,className:"image_questionnaire"}))))))),i.a.createElement("div",{className:"col-md-3 col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Left Image"),i.a.createElement("div",{className:"main-profile-picture relative-pic"},i.a.createElement("div",{className:"col-xs-6 no-padding"},i.a.createElement("div",{className:"file-container"},i.a.createElement("img",{src:this.state.patient_image_left_45_src?this.state.patient_image_left_45_src:An.a}),i.a.createElement("span",{className:this.state.patient_image_left_45_src?"file-name file-info":"file-name-hide no-display"},this.state.patient_image_left_45_thumbnail),i.a.createElement("span",{className:this.state.patient_image_left_45_size?"file-size file-info":"file-size-hide no-display"},this.state.patient_image_left_45_size),i.a.createElement("div",{className:"upload"},"Upload",i.a.createElement("input",{type:"file",name:"patient_image_left_45",autoComplete:"off",onChange:this.handleInputChange,className:"image_questionnaire"}))))))),i.a.createElement("div",{className:"col-md-3 col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Right Image"),i.a.createElement("div",{className:"main-profile-picture relative-pic"},i.a.createElement("div",{className:"col-xs-6 no-padding"},i.a.createElement("div",{className:"file-container"},i.a.createElement("img",{src:this.state.patient_image_right_45_src?this.state.patient_image_right_45_src:An.a}),i.a.createElement("span",{className:this.state.patient_image_right_45_src?"file-name file-info":"file-name-hide no-display"},this.state.patient_image_right_45_thumbnail),i.a.createElement("span",{className:this.state.patient_image_right_45_size?"file-size file-info":"file-size-hide no-display"},this.state.patient_image_right_45_size),i.a.createElement("div",{className:"upload"},"Upload",i.a.createElement("input",{type:"file",name:"patient_image_right_45",autoComplete:"off",onChange:this.handleInputChange,className:"image_questionnaire"})))))))),i.a.createElement("div",{className:c},i.a.createElement("div",{className:"juvly-subtitle"},"Procedure Images - 90 Degrees"),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:l},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Procedure Image"),i.a.createElement("div",{className:"main-profile-picture relative-pic"},i.a.createElement("div",{className:"col-xs-6 no-padding"},i.a.createElement("div",{className:"file-container"},i.a.createElement("img",{src:this.state.procedure_image_src?this.state.procedure_image_src:An.a}),i.a.createElement("span",{className:this.state.procedure_image_src?"file-name file-info":"file-name-hide no-display"},this.state.procedure_image_thumbnail),i.a.createElement("span",{className:this.state.procedure_image_size?"file-size file-info":"file-size-hide no-display"},this.state.procedure_image_size),i.a.createElement("div",{className:"upload"},"Upload",i.a.createElement("input",{type:"file",name:"procedure_image",autoComplete:"off",onChange:this.handleInputChange,className:"image_questionnaire"}))))))),i.a.createElement("div",{className:"col-md-3 col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Left Image"),i.a.createElement("div",{className:"main-profile-picture relative-pic"},i.a.createElement("div",{className:"col-xs-6 no-padding"},i.a.createElement("div",{className:"file-container"},i.a.createElement("img",{src:this.state.patient_image_left_src?this.state.patient_image_left_src:An.a}),i.a.createElement("span",{className:this.state.patient_image_left_src?"file-name file-info":"file-name-hide no-display"},this.state.patient_image_left_thumbnail),i.a.createElement("span",{className:this.state.patient_image_left_size?"file-size file-info":"file-size-hide no-display"},this.state.patient_image_left_size),i.a.createElement("div",{className:"upload"},"Upload",i.a.createElement("input",{type:"file",name:"patient_image_left",autoComplete:"off",onChange:this.handleInputChange,className:"image_questionnaire"}))))))),i.a.createElement("div",{className:"col-md-3 col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Right Image"),i.a.createElement("div",{className:"main-profile-picture relative-pic"},i.a.createElement("div",{className:"col-xs-6 no-padding"},i.a.createElement("div",{className:"file-container"},i.a.createElement("img",{src:this.state.patient_image_right_src?this.state.patient_image_right_src:An.a}),i.a.createElement("span",{className:this.state.patient_image_right_src?"file-name file-info":"file-name-hide no-display"},this.state.patient_image_right_thumbnail),i.a.createElement("span",{className:this.state.patient_image_right_size?"file-size file-info":"file-size-hide no-display"},this.state.patient_image_right_size),i.a.createElement("div",{className:"upload"},"Upload",i.a.createElement("input",{type:"file",name:"patient_image_right",autoComplete:"off",onChange:this.handleInputChange,className:"image_questionnaire"}))))))))),i.a.createElement("div",{className:o},i.a.createElement("div",{className:"juvly-subtitle"},"Back Images"),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-3 col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Back Image"),i.a.createElement("div",{className:"main-profile-picture relative-pic"},i.a.createElement("div",{className:"col-xs-6 no-padding"},i.a.createElement("div",{className:"file-container"},i.a.createElement("img",{src:this.state.patient_image_back_src?this.state.patient_image_back_src:An.a}),i.a.createElement("span",{className:this.state.patient_image_back_src?"file-name file-info":"file-name-hide no-display"},this.state.patient_image_back_thumbnail),i.a.createElement("span",{className:this.state.patient_image_back_size?"file-size file-info":"file-size-hide no-display"},this.state.patient_image_back_size),i.a.createElement("div",{className:"upload"},"Upload",i.a.createElement("input",{type:"file",name:"patient_image_back",autoComplete:"off",onChange:this.handleInputChange,className:"image_questionnaire"}))))))),i.a.createElement("div",{className:"col-md-3 col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Back Left 45 Degrees"),i.a.createElement("div",{className:"main-profile-picture relative-pic"},i.a.createElement("div",{className:"col-xs-6 no-padding"},i.a.createElement("div",{className:"file-container"},i.a.createElement("img",{src:this.state.patient_image_back_left_45_src?this.state.patient_image_back_left_45_src:An.a}),i.a.createElement("span",{className:this.state.patient_image_back_left_45_src?"file-name file-info":"file-name-hide no-display"},this.state.patient_image_back_left_45_thumbnail),i.a.createElement("span",{className:this.state.patient_image_back_left_45_size?"file-size file-info":"file-size-hide no-display"},this.state.patient_image_back_left_45_size),i.a.createElement("div",{className:"upload"},"Upload",i.a.createElement("input",{type:"file",name:"patient_image_back_left_45",autoComplete:"off",onChange:this.handleInputChange,className:"image_questionnaire"}))))))),i.a.createElement("div",{className:"col-md-3 col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Back Right 45 Degrees"),i.a.createElement("div",{className:"main-profile-picture relative-pic"},i.a.createElement("div",{className:"col-xs-6 no-padding"},i.a.createElement("div",{className:"file-container"},i.a.createElement("img",{src:this.state.patient_image_back_right_45_src?this.state.patient_image_back_right_45_src:An.a}),i.a.createElement("span",{className:this.state.patient_image_back_right_45_src?"file-name file-info":"file-name-hide no-display"},this.state.patient_image_back_right_45_thumbnail),i.a.createElement("span",{className:this.state.patient_image_back_right_45_size?"file-size file-info":"file-size-hide no-display"},this.state.patient_image_back_right_45_size),i.a.createElement("div",{className:"upload"},"Upload",i.a.createElement("input",{type:"file",name:"patient_image_back_right_45",autoComplete:"off",onChange:this.handleInputChange,className:"image_questionnaire"}))))))))),i.a.createElement("div",{className:"juvly-subtitle"},"Questionnaire"),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Select Questionnaire"),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("div",{className:"tag-auto-select"},this.state.questionnaireOptions&&i.a.createElement(un.a,{onChange:this.handleQuestionChange,value:this.state.selectedQuestionnaireOptions,isClearable:!0,isSearchable:!0,options:this.state.questionnaireOptions,isMulti:!0})))))),i.a.createElement("div",{className:"juvly-subtitle"},"Client Consents"),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Select Consents"),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("div",{className:"tag-auto-select"},this.state.consentsOptions&&i.a.createElement(un.a,{onChange:this.handleConsentChange,value:this.state.selectedConsentsOptions,isClearable:!0,isSearchable:!0,options:this.state.consentsOptions,isMulti:!0}))))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Signature Image"),i.a.createElement("div",{style:{zIndex:"0"},className:"main-profile-picture relative-pic sig-pic"},i.a.createElement("div",{className:"col-xs-6 no-padding"},i.a.createElement("div",{className:"file-container"},i.a.createElement("img",{src:this.state.signature_image_src?this.state.signature_image_src:""}),i.a.createElement("span",{className:this.state.signature_image_src?"file-name file-info":"file-name-hide no-display"},this.state.signature_image_thumbnail),i.a.createElement("span",{className:this.state.signature_image_size?"file-size file-info":"file-size-hide no-display"},this.state.signature_image_size),i.a.createElement("div",{className:"upload"},"Upload",i.a.createElement("input",{type:"file",name:"signature_image",autoComplete:"off",onChange:this.handleInputChange,className:"image_questionnaire"}))))))))),i.a.createElement("div",{className:!0===this.state.showModal?"overlay":""}),i.a.createElement("div",{id:"filterModal",role:"dialog",className:!0===this.state.showModal?"modal fade in displayBlock":"modal fade no-display"},i.a.createElement("div",{className:"modal-dialog"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal",onClick:this.dismissModal},"\xd7"),i.a.createElement("h4",{className:"modal-title"},"Confirmation required!")),i.a.createElement("div",{id:"errorwindow",className:"modal-body add-patient-form filter-patient"},"Are you sure you want to delete this procedure?"),i.a.createElement("div",{className:"modal-footer"},i.a.createElement("div",{className:"col-md-12 text-left"},i.a.createElement("button",{type:"button",className:"btn  logout pull-right","data-dismiss":"modal",onClick:this.dismissModal},"No"),i.a.createElement("button",{type:"button",className:"btn btn-success pull-right m-r-10","data-dismiss":"modal",onClick:this.deleteProcedure},"Yes")))))),i.a.createElement("div",{className:"footer-static"},this.state.procedureID>0&&i.a.createElement("a",{onClick:function(){return e.showDelProModal()},className:"new-red-btn pull-left"},"Delete"),i.a.createElement("input",{className:"new-blue-btn pull-right",type:"submit",value:"Save"}),i.a.createElement(me.a,{to:t,className:"new-white-btn pull-right"},"Cancel"))))),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock clientLoader clientProfileLoader":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.globalLang.loading_please_wait_text))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(void 0!==e.procedureData&&200===e.procedureData.status&&e.procedureData.data!==t.procedureData){var a=[];e.procedureData.data.questionnaires&&e.procedureData.data.questionnaires.length>0&&(a=e.procedureData.data.questionnaires.map(function(e,t){return{value:e.id,label:e.consultation_title}}));var s=[];return e.procedureData.data.consents&&e.procedureData.data.consents.length>0&&(s=e.procedureData.data.consents.map(function(e,t){return{value:e.id,label:e.consent_name}})),{procedureData:e.procedureData.data,showLoader:!1,questionnaireOptions:a,consentsOptions:s}}return void 0!==e.apptConsultData&&200===e.apptConsultData.status&&e.apptConsultData.data!==t.apptConsultData?{showLoader:!1,apptConsultData:e.apptConsultData.data,user_id:e.apptConsultData.data&&e.apptConsultData.data.associated_clinic?e.apptConsultData.data.associated_clinic[0].provider_id:0,clinic_id:e.apptConsultData.data&&e.apptConsultData.data.selected_clinic_id?e.apptConsultData.data.selected_clinic_id:0}:void 0!==e.saveProData&&200===e.saveProData.status&&e.saveProData.data!==t.saveProData?{saveProData:e.saveProData.data,saveMessage:e.saveProData.message}:void 0!==e.saveProData&&200!==e.saveProData.status&&e.saveProData.data!==t.saveProData?{showLoader:!1,saveProData:e.saveProData.data,saveMessage:""}:void 0!==e.updateProData&&200===e.updateProData.status&&e.updateProData.data!==t.updateProData?{updateProData:e.updateProData.data,updateMessage:e.updateProData.message}:void 0!==e.updateProData&&200!==e.updateProData.status&&e.updateProData.data!==t.updateProData?{showLoader:!1,updateProData:e.updateProData.data,updateMessage:""}:void 0!==e.associatedClinics&&200===e.associatedClinics.status&&e.associatedClinics.data.all_clinics!==t.associatedClinics?{showLoader:!1,associatedClinics:e.associatedClinics.data.all_clinics,clinic_id:e.associatedClinics.data.default_clinic_id?e.associatedClinics.data.default_clinic_id:e.associatedClinics.data.all_clinics&&e.associatedClinics.data.all_clinics.length>0?e.associatedClinics.data.all_clinics[0].id:0,apptConsultData:void 0}:void 0!==e.deleteProData&&200===e.deleteProData.status&&e.deleteProData.data!==t.deleteProData?{deleteProData:e.deleteProData.data,deleteMessage:e.deleteProData.message}:void 0!==e.deleteProData&&200!==e.deleteProData.status&&e.deleteProData.data!==t.deleteProData?{showLoader:!1,deleteProData:e.deleteProData.data,deleteMessage:""}:null}}]),t}(n.Component);var wf=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData")),a={};return"GET_PROCEDURE_DATA"===e.ProcedureReducer.action&&(200!==e.ProcedureReducer.data.status?rt.toast.error(t.global[e.ProcedureReducer.data.message]):a.procedureData=e.ProcedureReducer.data),"GET_APPT_CONSULT_DATA"===e.ProcedureReducer.action&&(200!==e.ProcedureReducer.data.status?rt.toast.error(t.global[e.ProcedureReducer.data.message]):a.apptConsultData=e.ProcedureReducer.data),"CREATE_PROCEDURE"===e.ProcedureReducer.action&&(200!==e.ProcedureReducer.data.status?(rt.toast.error(t.global[e.ProcedureReducer.data.message]),a.saveProData=e.ProcedureReducer.data):a.saveProData=e.ProcedureReducer.data),"UPDATE_PROCEDURE"===e.ProcedureReducer.action&&(200!==e.ProcedureReducer.data.status?(rt.toast.error(t.global[e.ProcedureReducer.data.message]),a.updateProData=e.ProcedureReducer.data):a.updateProData=e.ProcedureReducer.data),"GET_ASSOCIATED_CLINICS"===e.ProcedureReducer.action&&(200!==e.ProcedureReducer.data.status?rt.toast.error(t.global[e.ProcedureReducer.data.message]):a.associatedClinics=e.ProcedureReducer.data),"DELETE_PROCEDURE"===e.ProcedureReducer.action&&(200!==e.ProcedureReducer.data.status?(rt.toast.error(t.global[e.ProcedureReducer.data.message]),a.deleteProData=e.ProcedureReducer.data):a.deleteProData=e.ProcedureReducer.data),a},function(e){return Object(c.bindActionCreators)({getProcedureData:Vn,getApptConsultData:zn,saveProcedure:Wn,updateProcedure:Jn,getAssociatedClinics:Qn,deleteProcedure:Kn},e)})(Df),Cf=function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).showLoaderFunc=function(){a.setState({showLoader:!0}),localStorage.setItem("showLoader",!0)},a.getLoggedInUserData=function(){var e=JSON.parse(we());return e?e.user.id:0},a.showDeleteModal=function(e){e.preventDefault(),a.state.noteTobeDeleted=e.target.name,a.setState({showModal:!0})},a.editThisNote=function(e){e.preventDefault(),a.state.noteTobeEdited=e.target.name,a.state.noteTobeEdited>0&&a.props.getAProcedureNote(a.state.noteTobeEdited)},a.dismissDeleteModal=function(){a.state.noteTobeDeleted=0,a.setState({showModal:!1,noteTobeDeleted:0})},a.deleteNote=function(){var e=a.state.noteTobeDeleted,t=a.state.patientID,s=a.state.procedureID;if(e>0&&t>0&&s>0){a.showLoaderFunc(),a.props.deleteProcedureNote(e,t,s);var n=a.refs.notes;a.state.procedureNote=[],a.state.tags=[],a.state.noteText="",n.value="",a.setState({tags:[],dataChanged:!1,procedureNote:[],noteText:"",noteTobeEdited:0,noteClass:"setting-textarea-box"})}else rt.toast.error("Can not delete this note at this time");a.setState({showModal:!1,noteTobeDeleted:0,procedureNotes:[]})},a.handleSubmit=function(e){e.preventDefault();var t=a.state.noteTobeEdited;if(void 0===typeof a.state.noteText||null===a.state.noteText||""===a.state.noteText)a.setState({noteClass:"setting-textarea-box setting-input-box-invalid"});else if(a.state.noteText){a.showLoaderFunc(),a.setState({noteClass:"setting-textarea-box",procedureNotes:[]});var s={patient_id:a.state.patientID,procedure_id:a.state.procedureID,notes:a.state.noteText},n=a.refs.notes;a.state.tags&&a.state.tags.length>0&&(s.tags=a.state.tags),a.props.saveProcedureNote(s,t),a.state.procedureNote=[],a.state.tags=[],a.state.noteText="",n.value="",a.setState({tags:[],dataChanged:!1,procedureNote:[],noteText:"",noteTobeEdited:0,procedureNotes:[]})}},a.handleChange=function(e){a.setState({tags:e,dataChanged:!0})},a.handleInputChange=function(e){var t,s=e.target,n="checkbox"===s.type?s.checked:s.value;a.setState((t={},Object(se.a)(t,e.target.name,n),Object(se.a)(t,"dataChanged",!0),t))},a.cancelEditing=function(e){e.preventDefault();var t=a.refs.notes;a.state.procedureNote=[],a.state.tags=[],a.state.noteText="",t.value="",a.setState({tags:[],dataChanged:!1,procedureNote:[],noteText:"",noteTobeEdited:0,noteClass:"setting-textarea-box"})},a.state=a.initialState,a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){this.setState({showLoader:!0});var e={params:{patient_id:this.state.patientID,procedure_id:this.state.procedureID}};this.showLoaderFunc(),this.props.getProcedureNotes(e)}},{key:"render",value:function(){var e=this,t="";t=this.state.roomType&&"clients"===this.state.roomType?this.props.match.params.type?"/"+this.state.roomType+"/"+this.props.match.params.type+"/"+this.props.match.params.patientID:"/"+this.state.roomType:""!==this.state.action?"/".concat(this.state.roomType,"/procedure-detail/")+this.state.procedureID+"/"+this.state.action:"";var a=this.state.procedureNotes&&this.state.procedureNotes.length>0?"note-timeline":"note-timeline no-display",s=this.state.procedureNotes&&this.state.procedureNotes.length>0?"no-record no-display":"no-record",n=("null"!==this.state.patientData&&""!==this.state.patientData.firstname?this.state.patientData.firstname:"")+" "+("null"!==this.state.patientData&&""!==this.state.patientData.lastname?this.state.patientData.lastname:"");Te("view-procedure-notes");return i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"wide-popup"},i.a.createElement("div",{className:"modal-blue-header"},i.a.createElement(me.a,{to:t,className:"popup-cross"},"\xd7"),!1===this.state.showLoader&&i.a.createElement("span",{className:"popup-blue-name"},n+" - ".concat(this.state.languageData.pro_head_pro_notes_text))),i.a.createElement("div",{className:"wide-popup-wrapper time-line"},Te("add-edit-procedure-notes")&&i.a.createElement("div",null,i.a.createElement("div",{className:"juvly-subtitle"},this.state.languageData.pro_add_note_text),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("form",{id:"add-notes",name:"ar-add-notes-form",className:"nobottommargin",action:"#",method:"post"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.languageData.pro_note_text," ",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("textarea",{placeholder:"Type your notes and hashtags here",ref:"notes",id:"notes",className:this.state.noteClass,name:"noteText",onChange:this.handleInputChange,value:this.state.noteText}))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("input",{onClick:this.handleSubmit,className:"new-blue-btn pull-left no-margin",value:this.state.languageData.pro_save_btn_text,type:"submit",id:"save-profile"}),this.state.noteTobeEdited&&this.state.noteTobeEdited>0?i.a.createElement("input",{onClick:this.cancelEditing,className:"new-red-btn pull-left no-margin  m-l-5",value:"Cancel",type:"button"}):"")))))),i.a.createElement("div",{className:!0===this.state.showModal?"overlay":""}),i.a.createElement("div",{id:"filterModal",role:"dialog",className:!0===this.state.showModal?"modal fade in displayBlock":"modal fade no-display"},i.a.createElement("div",{className:"modal-dialog"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal",onClick:this.dismissDeleteModal},"\xd7"),i.a.createElement("h4",{className:"modal-title",id:"model_title"},"Confirmation required!")),i.a.createElement("div",{id:"errorwindow",className:"modal-body add-patient-form filter-patient"},"Are you sure you want to delete this note?"),i.a.createElement("div",{className:"modal-footer"},i.a.createElement("div",{className:"col-md-12 text-left",id:"footer-btn"},i.a.createElement("button",{type:"button",className:"btn  logout pull-right","data-dismiss":"modal",onClick:this.dismissDeleteModal},"No"),i.a.createElement("button",{type:"button",className:"btn btn-success pull-right m-r-10","data-dismiss":"modal",onClick:this.deleteNote},"Yes")))))),!1===this.state.showLoader&&i.a.createElement("div",{className:s},"No notes have been added for this customer yet."),!0===this.state.showLoader&&i.a.createElement("div",{className:"no-record"},"Loading..."),i.a.createElement("div",{className:a},Te("view-procedure-notes")&&void 0!==this.state.procedureNotes&&this.state.procedureNotes&&this.state.procedureNotes.length>0&&this.state.procedureNotes.map(function(t,a){return null!==t.user&&i.a.createElement("div",{className:"row",key:a},i.a.createElement("div",{className:"circle"}),i.a.createElement("div",{className:"col-sm-4 col-xs-12 note-subject"},i.a.createElement("h4",null,null!==t.user?t.user.firstname:""," ",null!==t.user?t.user.lastname:""," ",e.state.languageData.pro_left_a_note_text),i.a.createElement("p",null,t.created)),i.a.createElement("div",{className:"col-sm-6 col-xs-12",id:"note-content"},i.a.createElement("div",{className:"note-content"},t.notes,i.a.createElement("br",null),t.hashtags&&t.hashtags.split(",").map(function(e,t){return i.a.createElement("span",{key:t,className:"hashTag"},e," ")})),i.a.createElement("textarea",{className:"no-display",defaultValue:""})),i.a.createElement("div",{className:"col-sm-2 col-xs-12 no-padding"},Te("add-edit-procedure-notes")&&e.getLoggedInUserData()===t.user.id?i.a.createElement("a",{id:"edit-note",className:"easy-link",name:t.id,onClick:e.editThisNote.bind(e)},e.state.languageData.pro_edit_btn_text):"",Te("add-edit-procedure-notes")&&e.getLoggedInUserData()===t.user.id?i.a.createElement("a",{id:"delete-note",className:"easy-link",name:t.id,onClick:e.showDeleteModal.bind(e)},e.state.languageData.pro_del_btn_text):""))}))),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.globalLang.Please_Wait)))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}},{key:"initialState",get:function(){var e=JSON.parse(localStorage.getItem("languageData"));return{action:null!==this.props.match.params.type&&""!==this.props.match.params.type&&this.props.match.params.type?this.props.match.params.type:"",procedureID:null!==this.props.match.params.procedureID&&""!==this.props.match.params.procedureID&&this.props.match.params.procedureID?this.props.match.params.procedureID:0,patientID:null!==this.props.match.params.patientID&&""!==this.props.match.params.patientID&&this.props.match.params.patientID?this.props.match.params.patientID:0,showLoader:!1,procedureNotes:[],patientData:[],procedureNote:[],showModal:!1,dataChanged:!1,noteText:"",noteClass:"setting-textarea-box",tags:[],noteTobeDeleted:0,noteTobeEdited:0,roomType:this.props.match.url.split("/")[1],languageData:e.procedure,globalLang:e.global}}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(void 0!==e.procedureNotes&&200===e.procedureNotes.status&&e.procedureNotes!==t.procedureNotes){if("false"==localStorage.getItem("showLoader"))return{procedureNotes:e.procedureNotes.data.procedure_notes,patientData:e.procedureNotes.data.patient_detail,showLoader:!1}}else if(void 0!==e.procedureNotes&&201===e.procedureNotes.status&&e.procedureNotes!==t.procedureNotes){if("false"==localStorage.getItem("showLoader"))return{procedureNotes:e.procedureNotes.data.procedure_notes,patientData:e.procedureNotes.data.patient_detail,showLoader:!1}}else if(void 0!==e.procedureNote&&200===e.procedureNote.status&&e.procedureNote.data&&e.procedureNote.data!==t.procedureNote.data&&t.noteTobeEdited>0){var a=e.procedureNote.data.hashtags&&void 0!==e.procedureNote.data.hashtags&&""!==e.procedureNote.data.hashtags&&null!==e.procedureNote.data.hashtags?e.procedureNote.data.hashtags.split(","):"",s=e.procedureNote.data.notes&&""!==e.procedureNote.data.notes&&null!==e.procedureNote.data.notes?e.procedureNote.data.notes:"";return{procedureNote:e.procedureNote.data,showLoader:!1,tags:t.dataChanged?t.tags:a,noteText:t.dataChanged?t.noteText:s}}return null}}]),t}(n.Component);var xf=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData"));if(localStorage.setItem("showLoader",!1),"GET_PROCEDURE_NOTES"===e.ProcedureNotesReducer.action){if(200!==e.ProcedureNotesReducer.data.status)return rt.toast.error(t.global[e.ProcedureNotesReducer.data.message]),{procedureNotes:e.ProcedureNotesReducer.data};if(200===e.ProcedureNotesReducer.data.status)return{procedureNotes:e.ProcedureNotesReducer.data}}else if("SAVE_PROCEDURE_NOTES"===e.ProcedureNotesReducer.action){if(rt.toast.dismiss(),201===e.ProcedureNotesReducer.data.status)return rt.toast.success(t.global[e.ProcedureNotesReducer.data.message]),{procedureNotes:e.ProcedureNotesReducer.data};rt.toast.error(t.global[e.ProcedureNotesReducer.data.message])}else if("DELETE_PROCEDURE_NOTE"===e.ProcedureNotesReducer.action){if(rt.toast.dismiss(),200===e.ProcedureNotesReducer.data.status)return rt.toast.success(t.global[e.ProcedureNotesReducer.data.message]),{procedureNotes:e.ProcedureNotesReducer.data};rt.toast.error(t.global[e.ProcedureNotesReducer.data.message])}else if("UPDATE_PROCEDURE_NOTE"===e.ProcedureNotesReducer.action){if(rt.toast.dismiss(),200===e.ProcedureNotesReducer.data.status)return rt.toast.success(t.global[e.ProcedureNotesReducer.data.message]),{procedureNotes:e.ProcedureNotesReducer.data};rt.toast.error(t.global[e.ProcedureNotesReducer.data.message])}else{if("GET_PROCEDURE_NOTE"!==e.ProcedureNotesReducer.action)return{};if(rt.toast.dismiss(),200===e.ProcedureNotesReducer.data.status)return{procedureNote:e.ProcedureNotesReducer.data};rt.toast.error(t.global[e.ProcedureNotesReducer.data.message])}},function(e){return Object(c.bindActionCreators)({getProcedureNotes:pf,saveProcedureNote:hf,deleteProcedureNote:gf,getAProcedureNote:_f},e)})(Object(de.a)(Cf)),Lf=Ee.API_URL;Xe();var Of=Q.a.create();function Af(e){return function(t){Of.get(Lf+"client-notes",e||"").then(function(e){t({type:"GET_CLIENT_NOTES",payload:e.data})}).catch(function(e){t({type:"GET_CLIENT_NOTES",payload:e.response.data})})}}function Tf(e,t){return(t=t||0)&&t>0?function(a){Of.patch(Lf+"client-notes/"+t,e).then(function(t){var s={params:{patient_id:e.patient_id}},n=t.data.message,i=t.data.status;Of.get(Lf+"client-notes",s||"").then(function(e){e.data.message=n,e.data.status=i,a({type:"UPDATE_CLIENT_NOTE",payload:e.data})}).catch(function(e){a({type:"UPDATE_CLIENT_NOTE",payload:e.response.data})})}).catch(function(e){a({type:"UPDATE_CLIENT_NOTE",payload:e.response.data})})}:function(t){Of.post(Lf+"client-notes",e).then(function(a){var s={params:{patient_id:e.patient_id}},n=a.data.message,i=a.data.status;Of.get(Lf+"client-notes",s||"").then(function(e){e.data.message=n,e.data.status=i,t({type:"SAVE_CLIENT_NOTES",payload:e.data})}).catch(function(e){t({type:"SAVE_CLIENT_NOTES",payload:e.response.data})})}).catch(function(e){t({type:"SAVE_CLIENT_NOTES",payload:e.response.data})})}}function If(e,t){return function(a){Of.delete(Lf+"client-notes/"+e).then(function(e){var s={params:{patient_id:t}},n=e.data.message,i=e.data.status;Of.get(Lf+"client-notes",s||"").then(function(e){e.data.message=n,e.data.status=i,a({type:"DELETE_CLIENT_NOTE",payload:e.data})}).catch(function(e){a({type:"DELETE_CLIENT_NOTE",payload:e.response.data})})}).catch(function(e){a({type:"DELETE_CLIENT_NOTE",payload:e.response.data})})}}function Rf(e){return function(t){Of.get(Lf+"client-notes/"+e).then(function(e){t({type:"GET_CLIENT_NOTE",payload:e.data})}).catch(function(e){t({type:"GET_CLIENT_NOTE",payload:e.response.data})})}}Of.defaults.headers.common["access-token"]=xe(),Of.interceptors.response.use(function(e){return void 0!=e.data&&void 0!=e.data.global_settings&&He(e.data.global_settings),Xe(),e},function(e){if(e.response){var t=e.response.data.message;return"invalid_token"!=t&&"session_timeout"!=t&&"server_error"!=t&&"token_not_found"!=t||Oe(),Promise.reject(e)}return{data:{data:"",message:"server_error",status:500}}});var kf=function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).showLoaderFunc=function(){a.setState({showLoader:!0}),localStorage.setItem("showLoader",!0)},a.getLoggedInUserData=function(){var e=JSON.parse(we());return e?e.user.id:0},a.showDeleteModal=function(e){e.preventDefault(),a.state.noteTobeDeleted=e.target.name,a.setState({showModal:!0})},a.editThisNote=function(e){e.preventDefault(),a.state.noteTobeEdited=e.target.name,a.state.noteTobeEdited>0&&a.props.getAClientNote(a.state.noteTobeEdited)},a.dismissDeleteModal=function(){a.state.noteTobeDeleted=0,a.setState({showModal:!1,noteTobeDeleted:0})},a.deleteNote=function(){var e=a.state.noteTobeDeleted,t=a.state.patientID;if(e>0&&t>0){a.showLoaderFunc(),a.props.deleteClientNote(e,t);var s=a.refs.notes;a.state.customerNote=[],a.state.tags=[],a.state.noteText="",s.value="",a.setState({tags:[],dataChanged:!1,customerNote:[],noteText:"",noteTobeEdited:0,noteClass:"setting-textarea-box"})}else rt.toast.error("Can not delete this note at this time");a.setState({showModal:!1,noteTobeDeleted:0,customerNotes:[]})},a.handleSubmit=function(e){e.preventDefault();var t=a.state.noteTobeEdited;if(void 0===typeof a.state.noteText||null===a.state.noteText||""===a.state.noteText)a.setState({noteClass:"setting-textarea-box setting-input-box-invalid"});else if(a.state.noteText){a.showLoaderFunc(),a.setState({noteClass:"setting-textarea-box",customerNotes:[]});var s={patient_id:a.state.patientID,notes:a.state.noteText},n=a.refs.notes;a.state.tags&&a.state.tags.length>0&&(s.tags=a.state.tags),a.props.saveClientNote(s,t),a.state.customerNote=[],a.state.tags=[],a.state.noteText="",n.value="",a.setState({tags:[],dataChanged:!1,customerNote:[],noteText:"",noteTobeEdited:0,customerNotes:[]})}},a.handleChange=function(e){a.setState({tags:e,dataChanged:!0})},a.handleInputChange=function(e){var t,s=e.target,n="checkbox"===s.type?s.checked:s.value;a.setState((t={},Object(se.a)(t,e.target.name,n),Object(se.a)(t,"dataChanged",!0),t))},a.cancelEditing=function(e){e.preventDefault();var t=a.refs.notes;a.state.customerNote=[],a.state.tags=[],a.state.noteText="",t.value="",a.setState({tags:[],dataChanged:!1,customerNote:[],noteText:"",noteTobeEdited:0,noteClass:"setting-textarea-box"})},a.state=a.initialState,a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){this.setState({showLoader:!0});var e={params:{patient_id:this.state.patientID}};this.showLoaderFunc(),this.props.geClientNotes(e)}},{key:"render",value:function(){var e=this,t="";this.state.backURLType&&"clients"===this.state.backURLType&&(t=this.props.match.params.type?"/"+this.state.backURLType+"/"+this.props.match.params.type+"/"+this.props.match.params.patientID:"/"+this.state.backURLType);var a=this.state.customerNotes&&this.state.customerNotes.length>0&&Te("view-customer-notes")?"note-timeline can-see":"note-timeline no-display",s=this.state.customerNotes&&this.state.customerNotes.length>0?"no-record no-display":"no-record",n=("null"!==this.state.patientData&&""!==this.state.patientData.firstname?this.state.patientData.firstname:"")+" "+("null"!==this.state.patientData&&""!==this.state.patientData.lastname?this.state.patientData.lastname:"");return i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"wide-popup"},i.a.createElement("div",{className:"modal-blue-header"},i.a.createElement(me.a,{to:t,className:"popup-cross"},"\xd7"),!1===this.state.showLoader&&i.a.createElement("span",{className:"popup-blue-name"},n+" - ".concat(this.state.languageData.cus_head_cus_notes_text))),i.a.createElement("div",{className:"wide-popup-wrapper time-line"},Te("add-update-customer-notes")&&i.a.createElement("div",null,i.a.createElement("div",{className:"juvly-subtitle"},this.state.languageData.pro_add_note_text),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("form",{id:"add-notes",name:"ar-add-notes-form",className:"nobottommargin",action:"#",method:"post"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},this.state.languageData.pro_note_text," ",i.a.createElement("span",{className:"setting-require"},"*")),i.a.createElement("textarea",{placeholder:"Type your notes and hashtags here",ref:"notes",id:"notes",style:{overFlow:""},className:this.state.noteClass,name:"noteText",onChange:this.handleInputChange,value:this.state.noteText}))),i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("input",{onClick:this.handleSubmit,className:"new-blue-btn pull-left no-margin",value:this.state.languageData.pro_save_btn_text,type:"submit",id:"save-profile"}),this.state.noteTobeEdited&&this.state.noteTobeEdited>0?i.a.createElement("input",{onClick:this.cancelEditing,className:"new-red-btn pull-left no-margin  m-l-5",value:"Cancel",type:"button"}):"")))))),i.a.createElement("div",{className:!0===this.state.showModal?"overlay":""}),i.a.createElement("div",{id:"filterModal",role:"dialog",className:!0===this.state.showModal?"modal fade in displayBlock":"modal fade no-display"},i.a.createElement("div",{className:"modal-dialog"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal",onClick:this.dismissDeleteModal},"\xd7"),i.a.createElement("h4",{className:"modal-title",id:"model_title"},"Confirmation required!")),i.a.createElement("div",{id:"errorwindow",className:"modal-body add-patient-form filter-patient"},"Are you sure you want to delete this note?"),i.a.createElement("div",{className:"modal-footer"},i.a.createElement("div",{className:"col-md-12 text-left",id:"footer-btn"},i.a.createElement("button",{type:"button",className:"btn  logout pull-right","data-dismiss":"modal",onClick:this.dismissDeleteModal},"No"),i.a.createElement("button",{type:"button",className:"btn btn-success pull-right m-r-10","data-dismiss":"modal",onClick:this.deleteNote},"Yes")))))),!1===this.state.showLoader&&i.a.createElement("div",{className:s},"No notes have been added for this customer yet."),!0===this.state.showLoader&&i.a.createElement("div",{className:"no-record"},"Loading..."),i.a.createElement("div",{className:a},Te("view-customer-notes")&&void 0!==this.state.customerNotes&&this.state.customerNotes.map(function(t,a){return null!==t.user&&i.a.createElement("div",{className:"row",key:a},i.a.createElement("div",{className:"circle"}),i.a.createElement("div",{className:"col-sm-4 col-xs-12 note-subject"},i.a.createElement("h4",null,null!==t.user?t.user.firstname:""," ",null!==t.user?t.user.lastname:""," ",e.state.languageData.pro_left_a_note_text),i.a.createElement("p",null,t.created)),i.a.createElement("div",{className:"col-sm-6 col-xs-12",id:"note-content"},i.a.createElement("div",{className:"note-content"},t.notes,i.a.createElement("br",null),t.hashtags&&t.hashtags.split(",").map(function(e,t){return i.a.createElement("span",{key:t,className:"hashTag"},e," ")})),i.a.createElement("textarea",{className:"no-display",defaultValue:""})),i.a.createElement("div",{className:"col-sm-2 col-xs-12 no-padding"},Te("add-update-customer-notes")&&e.getLoggedInUserData()===t.user.id?i.a.createElement("a",{id:"edit-note",className:"easy-link",name:t.id,onClick:e.editThisNote.bind(e)},e.state.languageData.pro_edit_btn_text):"",Te("add-update-customer-notes")&&e.getLoggedInUserData()===t.user.id?i.a.createElement("a",{id:"delete-note",className:"easy-link",name:t.id,onClick:e.showDeleteModal.bind(e)},e.state.languageData.pro_del_btn_text):""))}))),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.globalLang.Please_Wait)))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}},{key:"initialState",get:function(){var e=JSON.parse(localStorage.getItem("languageData"));return{backURLType:this.props.match.params.actionType?this.props.match.params.actionType:"clients",action:this.props.match.params.type?this.props.match.params.type:"profile",patientID:null!==this.props.match.params.patientID&&""!==this.props.match.params.patientID&&this.props.match.params.patientID?this.props.match.params.patientID:0,showLoader:!1,customerNotes:[],patientData:[],customerNote:[],showModal:!1,dataChanged:!1,noteText:"",noteClass:"setting-textarea-box",tags:[],noteTobeDeleted:0,noteTobeEdited:0,languageData:e.procedure,globalLang:e.global}}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(void 0!==e.customerNotes&&200===e.customerNotes.status&&e.customerNotes!==t.customerNotes){if("false"==localStorage.getItem("showLoader"))return{customerNotes:e.customerNotes.data.patient_notes,patientData:e.customerNotes.data.patient_detail,showLoader:!1}}else if(void 0!==e.customerNotes&&201===e.customerNotes.status&&e.customerNotes!==t.customerNotes){if("false"==localStorage.getItem("showLoader"))return{customerNotes:e.customerNotes.data.patient_notes,patientData:e.customerNotes.data.patient_detail,showLoader:!1}}else if(void 0!==e.customerNote&&200===e.customerNote.status&&e.customerNote.data&&e.customerNote.data!==t.customerNote.data&&t.noteTobeEdited>0){var a=e.customerNote.data.hashtags&&void 0!==e.customerNote.data.hashtags&&""!==e.customerNote.data.hashtags&&null!==e.customerNote.data.hashtags?e.customerNote.data.hashtags.split(","):"",s=e.customerNote.data.notes&&""!==e.customerNote.data.notes&&null!==e.customerNote.data.notes?e.customerNote.data.notes:"";return{customerNote:e.customerNote.data,showLoader:!1,tags:t.dataChanged?t.tags:a,noteText:t.dataChanged?t.noteText:s}}return null}}]),t}(n.Component);var Pf=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData"));return localStorage.setItem("showLoader",!1),"GET_CLIENT_NOTES"===e.ClientNotesReducer.action?{customerNotes:e.ClientNotesReducer.data}:"SAVE_CLIENT_NOTES"===e.ClientNotesReducer.action?(rt.toast.dismiss(),201===e.ClientNotesReducer.data.status?(rt.toast.success(t.global[e.ClientNotesReducer.data.message]),{customerNotes:e.ClientNotesReducer.data}):(rt.toast.error(t.global[e.ClientNotesReducer.data.message]),{})):"DELETE_CLIENT_NOTE"===e.ClientNotesReducer.action?(rt.toast.dismiss(),200===e.ClientNotesReducer.data.status?(rt.toast.success(t.global[e.ClientNotesReducer.data.message]),{customerNotes:e.ClientNotesReducer.data}):(rt.toast.error(t.global[e.ClientNotesReducer.data.message]),{})):"UPDATE_CLIENT_NOTE"===e.ClientNotesReducer.action?(rt.toast.dismiss(),200===e.ClientNotesReducer.data.status?(rt.toast.success(t.global[e.ClientNotesReducer.data.message]),{customerNotes:e.ClientNotesReducer.data}):(rt.toast.error(t.global[e.ClientNotesReducer.data.message]),{})):"GET_CLIENT_NOTE"===e.ClientNotesReducer.action?(rt.toast.dismiss(),200===e.ClientNotesReducer.data.status?{customerNote:e.ClientNotesReducer.data}:(rt.toast.error(t.global[e.ClientNotesReducer.data.message]),{})):{}},function(e){return Object(c.bindActionCreators)({geClientNotes:Af,saveClientNote:Tf,deleteClientNote:If,getAClientNote:Rf},e)})(Object(de.a)(kf)),jf=Ee.API_URL;Xe();var Mf=Q.a.create();function Uf(e,t){return function(a){Mf.get(jf+"sales/invoice_details/"+e+"/"+t).then(function(e){a({type:"GET_INVOICE_DETAILS",payload:e.data})}).catch(function(e){a({type:"GET_INVOICE_DETAILS",payload:e.response.data})})}}function Ff(e){return function(t){Mf.get(jf+"sales/invoices/payment-history/"+e).then(function(e){t({type:"GET_PAYMENT_HISTORY",payload:e.data})}).catch(function(e){console.log(e),t({type:"GET_PAYMENT_HISTORY",payload:e.response.data})})}}function Bf(e){return function(t){Mf.get(jf+"sales/void-invoice/"+e).then(function(e){t({type:"VOID_INVOICE",payload:e.data})}).catch(function(e){console.log(e),t({type:"VOID_INVOICE",payload:e.response.data})})}}function qf(e,t){return function(a){Mf.get(jf+"sales/send_invoice/"+e+"/"+t).then(function(e){a({type:"EMAIL_AND_DOWNLOAD_INVOICE",payload:e.data})}).catch(function(e){console.log(e),a({type:"EMAIL_AND_DOWNLOAD_INVOICE",payload:e.response.data})})}}function Yf(e,t){return function(a){Mf.get(jf+"sales/send_refund/"+e+"/"+t).then(function(e){a({type:"EMAIL_AND_DOWNLOAD_REFUND_RECEIPT",payload:e.data})}).catch(function(e){console.log(e),a({type:"EMAIL_AND_DOWNLOAD_REFUND_RECEIPT",payload:e.response.data})})}}function Hf(e){return function(t){Mf.get(jf+"sales/issue-refund/"+e).then(function(e){t({type:"GET_REFUND_DETAILS",payload:e.data})}).catch(function(e){t({type:"GET_REFUND_DETAILS",payload:e.response.data})})}}function Gf(e){return function(t){Mf.post(jf+"sales/invoices/pay-refund",e||"").then(function(e){t({type:"ISSUE_REFUND",payload:e.data})}).catch(function(e){console.log(e),t({type:"ISSUE_REFUND",payload:e.response.data})})}}Mf.defaults.headers.common["access-token"]=xe(),Mf.interceptors.response.use(function(e){return void 0!=e.data&&void 0!=e.data.global_settings&&He(e.data.global_settings),Xe(),e},function(e){if(e.response){var t=e.response.data.message;return"invalid_token"!=t&&"session_timeout"!=t&&"server_error"!=t&&"token_not_found"!=t||Oe(),Promise.reject(e)}return{data:{data:"",message:"server_error",status:500}}});var Vf=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).printInvoice=function(){var e=document.getElementById("print_area").innerHTML,t=window.open("","","left=0,top=0,width=900,height=900,toolbar=0,scrollbars=0,status=0"),s="";a.state.invoiceData&&a.state.invoiceData.invoice_data&&a.state.invoiceData.invoice_data.invoice_number&&(s=" - "+a.state.invoiceData.invoice_data.invoice_number),t.document.write("<html><head><title>Invoice ".concat(s,"</title>")),t.document.write(e),t.document.close(),t.focus(),t.print(),setTimeout(function(){t.close()},1e3)},a.showConfirmationModal=function(){a.setState({showConfirmationModal:!0})},a.dismissConfirmationModal=function(){a.setState({showConfirmationModal:!1})},a.voidInvoice=function(){a.setState({showConfirmationModal:!1,showLoader:!0}),a.props.voidInvoice(a.state.invoiceID)},a.showPaymentHistory=function(){a.setState({showLoader:!0}),a.props.getPaymentHistory(a.state.invoiceID)},a.hidePaymentHistory=function(){a.setState({showPaymentHistory:!1})},a.componentDidUpdate=function(e,t){var s="";if(s=a.state.backURLType&&"clients"===a.state.backURLType?a.props.match.params.type&&"profile"===a.props.match.params.type?a.state.backURLType?"/"+a.state.backURLType+"/"+a.props.match.params.type+"/"+a.props.match.params.clientID:"/clients":a.state.backURLType?"/"+a.state.backURLType+"/"+a.props.match.params.type+"/"+a.props.match.params.clientID+"/profile/invoices":"/clients":a.props.match.params.type&&"invoices"===a.props.match.params.type?a.state.backURLType?"/"+a.state.backURLType+"/"+a.props.match.params.type:"/sales":a.state.backURLType?"/sales/invoices":"/sales",null!==a.state.voidData&&""!==a.state.voidData&&a.state.voidData!==t.voidData&&null!==a.state.saveMessage&&""!==a.state.saveMessage){var n="";rt.toast.success(a.state.globalLang[a.state.saveMessage]),n=Object(ce.a)(Object(ce.a)(a)),setTimeout(function(){n.props.history.push(s)},1e3)}null!==a.state.payRefundData&&""!==a.state.payRefundData&&a.state.payRefundData!==t.payRefundData&&null!==a.state.payRefundStatus&&""!==a.state.payRefundStatus&&(a.setState({showLoader:!0}),a.props.getInvoiceDetails(a.state.invoiceID,a.state.clientID))},a.showRefundModal=function(){a.setState({showLoader:!0}),a.props.getRefundDetails(a.state.invoiceID)},a.hideRefundModal=function(){a.setState({showRefund:!1})},a.handleRefundSubmit=function(e){e.preventDefault();var t=!0;if("partial"===a.state.refund_type){if(a.state.selectedPayments&&0===a.state.selectedPayments.length?(a.setState({selectPaymentClass:"setting-input-box-invalid"}),t=!1):a.state.selectedPayments?a.setState({selectPaymentClass:""}):(a.setState({selectPaymentClass:"setting-input-box-invalid"}),t=!1),""===a.state.refund_reason?(a.setState({selectAReasonClass:"setting-select-box setting-input-box-invalid"}),t=!1):a.setState({selectAReasonClass:"setting-select-box"}),"custom"===a.state.refund_reason?""===a.state.text_reason_for_refund?(a.setState({reasonAreaClass:"setting-textarea-box setting-input-box-invalid"}),t=!1):a.setState({reasonAreaClass:"setting-textarea-box"}):a.setState({reasonAreaClass:"setting-textarea-box",text_reason_for_refund:""}),a.state.selectedPayments&&a.state.selectedPayments.obj){var s=a.state.selectedPayments.obj.payment_mode,n=a.state.selectedPayments.obj.max_refund;"cash"===s&&(qe(a.state.cash_amount)?a.state.cash_amount>n?(a.setState({cashAmountClass:"setting-input-box setting-input-box-invalid"}),t=!1):a.setState({cashAmountClass:"setting-input-box"}):(a.setState({cashAmountClass:"setting-input-box setting-input-box-invalid"}),t=!1)),"cc"===s&&(qe(a.state.cc_amount)?a.state.cc_amount>n?(a.setState({ccAmountClass:"setting-input-box setting-input-box-invalid"}),t=!1):a.setState({ccAmountClass:"setting-input-box"}):(a.setState({ccAmountClass:"setting-input-box setting-input-box-invalid"}),t=!1)),"wallet"===s&&(qe(a.state.wallet_amount)?a.state.wallet_amount>n?(a.setState({walletAmountClass:"setting-input-box setting-input-box-invalid"}),t=!1):a.setState({walletAmountClass:"setting-input-box"}):(a.setState({walletAmountClass:"setting-input-box setting-input-box-invalid"}),t=!1))}}else""===a.state.refund_reason?(a.setState({selectAReasonClass:"setting-select-box setting-input-box-invalid"}),t=!1):a.setState({selectAReasonClass:"setting-select-box"}),"custom"===a.state.refund_reason?""===a.state.text_reason_for_refund?(a.setState({reasonAreaClass:"setting-textarea-box setting-input-box-invalid"}),t=!1):a.setState({reasonAreaClass:"setting-textarea-box"}):a.setState({reasonAreaClass:"setting-textarea-box",text_reason_for_refund:""});if(t)if("partial"===a.state.refund_type){var i={invoice_id:a.state.invoiceID,transaction_id:a.state.invoiceData&&a.state.invoiceData.invoice_data&&a.state.invoiceData.invoice_data.pos_transaction&&a.state.invoiceData.invoice_data.pos_transaction.id&&a.state.invoiceData.invoice_data.pos_transaction.id,refund_type:a.state.refund_type,cash_amount:a.state.cash_amount,cc_amount:a.state.cc_amount,wallet_amount:a.state.wallet_amount,refund_reason:a.state.refund_reason,text_reason_for_refund:a.state.text_reason_for_refund,partial_refund_ids:[{payment_id:a.state.selectedPayments&&a.state.selectedPayments.obj?a.state.selectedPayments.obj.pos_transaction_payment_id:0,payment_via:a.state.selectedPayments&&a.state.selectedPayments.obj.payment_mode,payment_amount:"cash"===a.state.selectedPayments.obj.payment_mode?a.state.cash_amount:"cc"===a.state.selectedPayments.obj.payment_mode?a.state.cc_amount:a.state.wallet_amount}]};"cash"===a.state.selectedPayments.obj.payment_mode&&(delete i.cc_amount,delete i.wallet_amount),"cc"===a.state.selectedPayments.obj.payment_mode&&(delete i.cash_amount,delete i.wallet_amount),"wallet"===a.state.selectedPayments.obj.payment_mode&&(delete i.cash_amount,delete i.cc_amount),"custom"!==a.state.refund_reason&&delete i.text_reason_for_refund,a.setState({showLoader:!0}),a.props.payRefund(i)}else{var r={invoice_id:a.state.invoiceID,transaction_id:a.state.invoiceData&&a.state.invoiceData.invoice_data&&a.state.invoiceData.invoice_data.pos_transaction&&a.state.invoiceData.invoice_data.pos_transaction.id&&a.state.invoiceData.invoice_data.pos_transaction.id,refund_type:a.state.refund_type,refund_reason:a.state.refund_reason,text_reason_for_refund:a.state.text_reason_for_refund};"custom"!==a.state.refund_reason&&delete r.text_reason_for_refund,a.setState({showLoader:!0}),a.props.payRefund(r)}},a.handleInputChange=function(e){var t,s=e.target,n="checkbox"===s.type?s.checked:s.value;a.setState((t={},Object(se.a)(t,e.target.name,n),Object(se.a)(t,"dataChanged",!0),t)),"refund_reason"===e.target.name&&(""!==n&&"custom"===n?a.setState({refundReasonClass:"row row m-t-10"}):a.setState({refundReasonClass:"row no-display"}))},a.printOrDownloadInvoice=function(e){a.setState({showLoader:!0,invoiceActionType:e}),a.props.sendAndDownloadInvoice(a.state.invoiceID,e)},a.printOrDownloadReceipt=function(e){a.setState({showLoader:!0,receiptActionType:e}),a.props.sendAndDownloadRefundReceipt(a.state.invoiceID,e)},a.handlePaymentChange=function(e){a.setState({selectedPayments:e})};var s=JSON.parse(localStorage.getItem("languageData"));return a.state={backURLType:a.props.match.params.actionType?a.props.match.params.actionType:"clients",clientID:a.props.match.params.clientID,invoiceID:a.props.match.params.invoiceID,showLoader:!1,globalLang:s.global,invoiceData:[],showConfirmationModal:!1,showPaymentHistory:!1,showRefund:!1,text_reason_for_refund:"",refundReasonClass:"row no-display",refund_type:"",invoiceActionType:"",receiptActionType:"",selectedPayments:[],cash_amount:"",cc_amount:"",wallet_amount:"",reasonAreaClass:"setting-textarea-box",cashAmountClass:"setting-input-box",ccAmountClass:"setting-input-box",walletAmountClass:"setting-input-box",selectAReasonClass:"setting-select-box",selectPaymentClass:""},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){this.setState({showLoader:!0}),this.props.getInvoiceDetails(this.state.invoiceID,this.state.clientID)}},{key:"render",value:function(){var e=this,t="";t=this.state.backURLType&&"clients"===this.state.backURLType?this.props.match.params.type&&"profile"===this.props.match.params.type?this.state.backURLType?"/"+this.state.backURLType+"/"+this.props.match.params.type+"/"+this.props.match.params.clientID:"/clients":this.state.backURLType?"/"+this.state.backURLType+"/"+this.props.match.params.type+"/"+this.props.match.params.clientID+"/profile/invoices":"/clients":this.props.match.params.type&&"invoices"===this.props.match.params.type?this.state.backURLType?"/"+this.state.backURLType+"/"+this.props.match.params.type:"/sales":this.state.backURLType?"/sales/invoices":"/sales";var a=this.state.invoiceData&&this.state.invoiceData.logo_img_src?this.state.invoiceData.logo_img_src:Ca.a,s=this.state.invoiceData&&this.state.invoiceData.invoice_data?this.state.invoiceData.invoice_data.title:"",n="";""!==(n+=this.state.invoiceData&&this.state.invoiceData.invoice_data&&this.state.invoiceData.invoice_data.patient&&""!==this.state.invoiceData.invoice_data.patient.address_line_1?this.state.invoiceData.invoice_data.patient.address_line_1:"")&&(n+=", "),n+=this.state.invoiceData&&this.state.invoiceData.invoice_data&&this.state.invoiceData.invoice_data.patient&&""!==this.state.invoiceData.invoice_data.patient.address_line_2?this.state.invoiceData.invoice_data.patient.address_line_2:"";var r=this.state.invoiceData&&this.state.invoiceData.invoice_data&&this.state.invoiceData.invoice_data.patient?this.state.invoiceData.invoice_data.patient.is_monthly_membership:0,o=!this.state.invoiceData||!this.state.invoiceData.invoice_data||"refunded"!==this.state.invoiceData.invoice_data.invoice_status&&"draft"!==this.state.invoiceData.invoice_data.invoice_status&&"Treatment Plan"!==this.state.invoiceData.invoice_data.title,l=!(!this.state.invoiceData||!this.state.invoiceData.invoice_data||"draft"===this.state.invoiceData.invoice_data.invoice_status),c="refunded",d=0,m=0;this.state.invoiceData&&this.state.invoiceData.invoice_data&&this.state.invoiceData.invoice_data.pos_transaction&&this.state.invoiceData.invoice_data.pos_transaction.pos_transactions_payments&&this.state.invoiceData.invoice_data.pos_transaction.pos_transactions_payments.length>0&&this.state.invoiceData.invoice_data.pos_transaction.pos_transactions_payments.map(function(e,t){d+=e.refund_amount,m+=e.total_amount}),this.state.invoiceData&&this.state.invoiceData.invoice_data&&this.state.invoiceData.invoice_data.pos_transaction&&this.state.invoiceData.invoice_data.pos_transaction.pos_transactions_payments&&this.state.invoiceData.invoice_data.pos_transaction.pos_transactions_payments.length>0&&(c=d===m?"refunded":"paid");var u=!0,p=this.state.invoiceData&&this.state.invoiceData.invoice_data&&this.state.invoiceData.invoice_data.invoice_status?this.state.invoiceData.invoice_data.invoice_status:"";var h=!1;this.state.invoiceData&&this.state.invoiceData.invoice_data&&this.state.invoiceData.invoice_data.pos_invoice_items&&this.state.invoiceData.invoice_data.pos_invoice_items.length>0&&this.state.invoiceData.invoice_data.pos_invoice_items.map(function(e,t){"monthly_membership"!==e.product_type||(h=!0)}),h&&(o=!1);var g=[];return this.state.getRefundData&&this.state.getRefundData.refund_options&&this.state.getRefundData.refund_options.length>0&&this.state.getRefundData.refund_options.map(function(e,t){e.max_refund,e.payment_mode;var a=Ie(e.max_refund,"currency")+" paid via "+e.payment_mode;g.push({value:e.pos_transaction_payment_id,label:a,obj:e})}),i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement("div",{className:!1===this.state.showLoader&&!0===this.state.showRefund?"modalOverlay":""},i.a.createElement("form",{onSubmit:this.handleRefundSubmit},i.a.createElement("div",{className:!1===this.state.showLoader&&!0===this.state.showRefund?"small-popup-outer appointment-detail-main displayBlock":"small-popup-outer appointment-detail-main no-display"},i.a.createElement("div",{className:"small-popup-header"},i.a.createElement("div",{className:"popup-name"},"Issue Refund"),i.a.createElement("a",{onClick:function(){return e.hideRefundModal()},className:"small-cross"},"\xd7")),i.a.createElement("div",{className:"small-popup-content"},this.state.getRefundData&&this.state.getRefundData.refund_options&&this.state.getRefundData.refund_options.length>0&&i.a.createElement("div",{className:"juvly-container"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Refund Type"),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("div",{className:"basic-checkbox-outer"},i.a.createElement("input",{id:"full",className:"basic-form-checkbox",name:"refund_type",type:"radio",value:"full",checked:"full"===this.state.refund_type,onChange:this.handleInputChange,disabled:!(!this.state.getRefundData||!this.state.getRefundData.available_options||-1!==this.state.getRefundData.available_options.indexOf("full-refund"))}),i.a.createElement("label",{className:"basic-form-text",htmlFor:"full"},"Full Refund")),i.a.createElement("div",{className:"basic-checkbox-outer"},i.a.createElement("input",{id:"partial",className:"basic-form-checkbox",name:"refund_type",type:"radio",value:"partial",checked:"partial"===this.state.refund_type,onChange:this.handleInputChange}),i.a.createElement("label",{className:"basic-form-text",htmlFor:"partial"},"Partial Refund")))))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Select Payment ",i.a.createElement("span",{className:"required"},"*")),this.state.getRefundData&&"full"===this.state.refund_type&&i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("input",{className:"setting-input-box",type:"text",name:"full_refund_amount",readOnly:!0,value:this.state.getRefundData&&this.state.getRefundData.total_amount?Ie(this.state.getRefundData.total_amount,"decimal"):Ie(0,"decimal"),onChange:this.handleInputChange})),this.state.getRefundData&&"partial"===this.state.refund_type&&i.a.createElement("div",{className:"setting-input-outer"},g&&i.a.createElement(un.a,{onChange:this.handlePaymentChange,name:"partial_refund_ids",value:this.state.selectedPayments,isClearable:!0,isSearchable:!0,options:g,isMulti:!1,className:this.state.selectPaymentClass})))),i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Select a Reason ",i.a.createElement("span",{className:"required"},"*")),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("select",{className:this.state.selectAReasonClass,name:"refund_reason",onChange:this.handleInputChange,value:this.state.refund_reason},i.a.createElement("option",{value:""},"Select"),i.a.createElement("option",{value:"returned_goods"},"Returned goods"),i.a.createElement("option",{value:"accidental_charge"},"Accidental charge"),i.a.createElement("option",{value:"canceled_order"},"Canceled order"),i.a.createElement("option",{value:"custom"},"Custom")))))),this.state.selectedPayments&&this.state.selectedPayments.obj&&"cash"===this.state.selectedPayments.obj.payment_mode&&i.a.createElement("div",{className:"row m-t-5"},i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"new-field-label"},"Refund Cash ",i.a.createElement("span",{className:"required"},"*")),i.a.createElement("input",{className:this.state.cashAmountClass,type:"text",name:"cash_amount",value:this.state.cash_amount,onChange:this.handleInputChange}))),this.state.selectedPayments&&this.state.selectedPayments.obj&&"cc"===this.state.selectedPayments.obj.payment_mode&&i.a.createElement("div",{className:"row m-t-5"},i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"new-field-label"},"Reason CC ",i.a.createElement("span",{className:"required"},"*")),i.a.createElement("input",{className:this.state.ccAmountClass,type:"text",name:"cc_amount",value:this.state.cc_amount,onChange:this.handleInputChange}))),this.state.selectedPayments&&this.state.selectedPayments.obj&&"wallet"===this.state.selectedPayments.obj.payment_mode&&i.a.createElement("div",{className:"row m-t-5"},i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"new-field-label"},"Refund Wallet ",i.a.createElement("span",{className:"required"},"*")),i.a.createElement("input",{className:this.state.walletAmountClass,type:"text",name:"wallet_amount",value:this.state.wallet_amount,onChange:this.handleInputChange}))),i.a.createElement("div",{className:this.state.refundReasonClass},i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("div",{className:"new-field-label"},"Reason for refund ",i.a.createElement("span",{className:"required"},"*")),i.a.createElement("textarea",{className:this.state.reasonAreaClass,name:"text_reason_for_refund",onChange:this.handleInputChange,value:this.state.text_reason_for_refund})))),this.state.getRefundData&&this.state.getRefundData.refund_options&&0===this.state.getRefundData.refund_options.length&&i.a.createElement("div",{className:"juvly-container"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-xs-12"},i.a.createElement("p",{style:{fontSize:"18px",textAlign:"center"}},"Unable to refund. Payment done via Care Credit."))))),this.state.getRefundData&&this.state.getRefundData.refund_options&&this.state.getRefundData.refund_options.length>0&&i.a.createElement("div",{className:"footer-static"},i.a.createElement("input",{type:"submit",className:"new-blue-btn pull-right",value:"Issue Refund"}))))),!1===this.state.showLoader&&i.a.createElement("div",{className:!0===this.state.showPaymentHistory?"modalOverlay":""},i.a.createElement("div",{className:!0===this.state.showPaymentHistory?"small-popup-outer appointment-detail-main displayBlock":"small-popup-outer appointment-detail-main no-display"},i.a.createElement("div",{className:"small-popup-header"},i.a.createElement("div",{className:"popup-name"},"INVOICE NO : ",this.state.historyData&&this.state.historyData.invoice_number&&this.state.historyData.invoice_number),i.a.createElement("a",{onClick:function(){return e.hidePaymentHistory()},className:"small-cross"},"\xd7")),i.a.createElement("div",{className:"small-popup-content"},i.a.createElement("div",{className:"juvly-container no-padding-bottom"},i.a.createElement("div",{className:"prescription-content"},i.a.createElement("div",{className:"doc-section"},i.a.createElement("span",{className:"juvly-subtitle m-b-10"},"Payments"),i.a.createElement("div",{className:"table-responsive m-b-30"},i.a.createElement("table",{className:"table-updated juvly-table no-hover"},i.a.createElement("thead",{className:"table-updated-thead"},i.a.createElement("tr",null,i.a.createElement("th",{className:"col-xs-3 table-updated-th"},"Payment Mode"),i.a.createElement("th",{className:"col-xs-3 table-updated-th text-right"},"Date"),i.a.createElement("th",{className:"col-xs-3 table-updated-th text-right"},"Amount"))),i.a.createElement("tbody",{className:"ajax_body"},!1===this.state.showLoader&&this.state.historyData&&this.state.historyData.pos_transaction&&this.state.historyData.pos_transaction.pos_transactions_payments&&this.state.historyData.pos_transaction.pos_transactions_payments.length>0&&this.state.historyData.pos_transaction.pos_transactions_payments.map(function(t,a){var s,n="",r="";return n="cc"===t.payment_mode?"Credit Card ending "+t.cc_number:"wallet"===t.payment_mode?"Wallet":"care_credit"===t.payment_mode?"Care Credit":"Cash",s=Ie(t.total_amount,"currency",2),r=t.created?Be(t.created,!1,"MMMM DD, Y"):Be(e.state.historyData.pos_transaction.transaction_datetime,!1,"MMMM DD, Y"),i.a.createElement("tr",{key:a,className:"table-updated-tr"},i.a.createElement("td",{className:"table-updated-td"},n),i.a.createElement("td",{className:"table-updated-td text-right"},r),i.a.createElement("td",{className:"table-updated-td text-right"},s))}))),i.a.createElement("div",{className:!1===this.state.showLoader&&this.state.historyData&&this.state.historyData.pos_transaction&&this.state.historyData.pos_transaction.pos_transactions_payments&&this.state.historyData.pos_transaction.pos_transactions_payments.length>0?"no-record no-display":"no-record"},"Sorry, No record found")),i.a.createElement("span",{className:"juvly-subtitle juvly-subtitle m-b-10"},"Refunds"),i.a.createElement("div",{className:"table-responsive"},i.a.createElement("table",{className:"table-updated juvly-table no-hover"},i.a.createElement("thead",{className:"table-updated-thead"},i.a.createElement("tr",null,i.a.createElement("th",{className:"col-xs-3 table-updated-th"},"Payment Mode"),i.a.createElement("th",{className:"col-xs-3 table-updated-th text-right"},"Date"),i.a.createElement("th",{className:"col-xs-3 table-updated-th text-right"},"Amount"))),i.a.createElement("tbody",{className:"ajax_body"},!1===this.state.showLoader&&this.state.historyData&&this.state.historyData.pos_transaction&&this.state.historyData.pos_transaction.pos_transactions_payments&&this.state.historyData.pos_transaction.pos_transactions_payments.length>0&&this.state.historyData.pos_transaction.pos_transactions_payments.map(function(t,a){if("refunded"===t.payment_status){u=!1;var s,n="",r="";return n="cc"===t.payment_mode?"Credit Card":"wallet"===t.payment_mode?"Wallet":"Cash",s=Ie(t.refund_amount,"currency",2),r=t.refund_datetime?Be(t.refund_datetime,!1,"MMMM DD, Y"):Be(e.state.historyData.pos_transaction.transaction_datetime,!1,"MMMM DD, Y"),i.a.createElement("tr",{key:a,className:"table-updated-tr"},i.a.createElement("td",{className:"table-updated-td"},n,i.a.createElement("br",null)," Refund Reason : ",t.refund_reason?t.refund_reason.replace("_"," "):""),i.a.createElement("td",{className:"table-updated-td text-right"},r),i.a.createElement("td",{className:"table-updated-td text-right"},s))}}))),i.a.createElement("div",{className:!1===this.state.showLoader&&this.state.historyData&&this.state.historyData.pos_transaction&&this.state.historyData.pos_transaction.pos_transactions_payments&&this.state.historyData.pos_transaction.pos_transactions_payments.length>0&&!0!==u?"no-record no-display":"no-record"},"Sorry, No record found")))))))),i.a.createElement("div",{className:"juvly-section full-width m-t-15"},i.a.createElement("div",{className:"juvly-container"},i.a.createElement("div",{className:"juvly-title m-b-40"},"Invoice Preview",i.a.createElement(me.a,{to:t,className:"pull-right"},i.a.createElement("img",{src:"../../../../images/close.png"}))),i.a.createElement("div",{className:!0===this.state.showConfirmationModal?"overlay":""}),i.a.createElement("div",{id:"filterModal",role:"dialog",className:!0===this.state.showConfirmationModal?"modal fade in displayBlock":"modal fade no-display"},i.a.createElement("div",{className:"modal-dialog"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal",onClick:this.dismissConfirmationModal},"\xd7"),i.a.createElement("h4",{className:"modal-title"},"Confirmation required!")),i.a.createElement("div",{className:"modal-body add-patient-form filter-patient"},"Are you sure you want to void this invoice?"),i.a.createElement("div",{className:"modal-footer"},i.a.createElement("div",{className:"col-md-12 text-left"},i.a.createElement("button",{type:"button",className:"btn  logout pull-right","data-dismiss":"modal",onClick:this.dismissConfirmationModal},"No"),i.a.createElement("button",{type:"button",className:"btn btn-success pull-right m-r-10","data-dismiss":"modal",onClick:this.voidInvoice},"Yes")))))),i.a.createElement("center",null,i.a.createElement("table",{id:"print_area",border:0,cellPadding:0,cellSpacing:0,height:"100%",width:700},i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",{align:"center",valign:"top"},i.a.createElement("table",{border:0,cellPadding:0,cellSpacing:0,width:700},i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",{valign:"top"},i.a.createElement("table",{border:0,cellPadding:5,cellSpacing:0,width:700},i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",{valign:"top",width:400},i.a.createElement("div",{style:{padding:"5px 0px"}},!1===this.state.showLoader&&i.a.createElement("img",{src:a,style:{height:"70px"}}))),i.a.createElement("td",{valign:"top",width:400,align:"right"},i.a.createElement("div",{style:{fontSize:"24px",textAlign:"right",paddingTop:"22px",padding:"10px 0px"}},s))))))))),i.a.createElement("table",{border:0,cellPadding:0,cellSpacing:0,width:700},i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",{align:"center",valign:"top"},i.a.createElement("table",{border:0,cellPadding:0,cellSpacing:0,width:700},i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",{colSpan:3,valign:"top"},i.a.createElement("table",{border:0,cellPadding:10,cellSpacing:0,width:700},i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",{valign:"top"},i.a.createElement("div",{style:{fontSize:"14px",color:"#777777",lineHeight:"22px",padding:"10px 0px"}},this.state.invoiceData&&this.state.invoiceData.invoice_data&&this.state.invoiceData.invoice_data.clinic?je(this.state.invoiceData.invoice_data.clinic.clinic_name):"",i.a.createElement("br",null),this.state.invoiceData&&this.state.invoiceData.invoice_data&&this.state.invoiceData.invoice_data.clinic?this.state.invoiceData.invoice_data.clinic.contact_no:""))),i.a.createElement("tr",null,i.a.createElement("td",{valign:"top"},i.a.createElement("div",{style:{fontSize:"14px",color:"#000000",padding:"10px 0px 3px"}},"Invoice to"),i.a.createElement("div",{style:{fontSize:"20px",color:"#777777",fontWeight:400}},this.state.invoiceData&&this.state.invoiceData.invoice_data&&this.state.invoiceData.invoice_data.patient&&Me(this.state.invoiceData.invoice_data.patient)))),n?i.a.createElement("tr",null,i.a.createElement("td",{valign:"top"},i.a.createElement("div",{style:{fontSize:"14px",color:"#000000",padding:"10px 0px 3px"}},"Address"),i.a.createElement("div",{style:{fontSize:"14px",color:"#777777",fontWeight:400}},n))):i.a.createElement("tr",null),i.a.createElement("tr",null,i.a.createElement("td",{valign:"top",width:400},i.a.createElement("div",{style:{fontSize:"14px",color:"#000000",padding:"10px 0px 3px"}},"Email"),i.a.createElement("div",{style:{fontSize:"14px",color:"#777777",fontWeight:400}},this.state.invoiceData&&this.state.invoiceData.invoice_data&&this.state.invoiceData.invoice_data.patient?this.state.invoiceData.invoice_data.patient.email?this.state.invoiceData.invoice_data.patient.email:this.state.invoiceData.invoice_data.patient_email:"")),i.a.createElement("td",{valign:"top",width:400,align:"right"},i.a.createElement("table",{width:260,style:{float:"right",fontSize:"14px",padding:"10px 0px"}},i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",{align:"left"},"Invoice No:"),i.a.createElement("td",{style:{color:"#777777",textAlign:"right"}},this.state.invoiceData&&this.state.invoiceData.invoice_data&&this.state.invoiceData.invoice_data.invoice_number?this.state.invoiceData.invoice_data.invoice_number:"")),i.a.createElement("tr",null,i.a.createElement("td",{align:"left"},"Invoice Date:"),i.a.createElement("td",{style:{color:"#777777",textAlign:"right"}},this.state.invoiceData&&this.state.invoiceData.invoice_data&&this.state.invoiceData.invoice_data.created?Be(this.state.invoiceData.invoice_data.created,!1,"MMMM DD, YYYY"):"")),this.state.invoiceData&&this.state.invoiceData.invoice_data&&this.state.invoiceData.invoice_data.payment_datetime&&i.a.createElement("tr",null,i.a.createElement("td",{align:"left"},"Payment on:"),i.a.createElement("td",{style:{color:"#777777",textAlign:"right"}},this.state.invoiceData&&this.state.invoiceData.invoice_data&&this.state.invoiceData.invoice_data.payment_datetime?Be(this.state.invoiceData.invoice_data.payment_datetime,!1,"MMMM DD, YYYY"):"")))))))))))))),i.a.createElement("tr",null,i.a.createElement("td",{colSpan:3,valign:"top"},i.a.createElement("table",{border:0,cellPadding:10,cellSpacing:0,width:700,style:{marginTop:"25px"}},i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",{style:{borderBottom:"1px solid #dddddd"}},i.a.createElement("div",{style:{fontSize:"13px",color:"#000000",textTransform:"uppercase",padding:"10px 0px"}},"Item description")),i.a.createElement("td",{style:{borderBottom:"1px solid #dddddd"},align:"right"},i.a.createElement("div",{style:{fontSize:"13px",color:"#000000",textTransform:"uppercase",textAlign:"right",padding:"10px 0px"}},"Price")),i.a.createElement("td",{style:{borderBottom:"1px solid #dddddd"},align:"right"},i.a.createElement("div",{style:{fontSize:"13px",color:"#000000",textTransform:"uppercase",textAlign:"right",padding:"10px 0px"}},"\xa0"))),this.state.invoiceData&&this.state.invoiceData.invoice_data&&this.state.invoiceData.invoice_data.pos_invoice_items&&this.state.invoiceData.invoice_data.pos_invoice_items.length>0&&this.state.invoiceData.invoice_data.pos_invoice_items.map(function(t,a){var s=t.product_type,n="",r="";if("custom"===s)n=t.custom_product_name;else if("others"===s||"injectable"===s){var o=t.total_product_price/t.product_units;o=Ie(o,"currency");var l=t.product&&t.product.product_name?t.product.product_name:"";n=t.product_units+" units of "+l+" priced "+o}else"package"===s?(n=t.discount_package&&t.discount_package.name?t.discount_package.name:"",e.state.invoiceData&&e.state.invoiceData.package_products_data&&e.state.invoiceData.package_products_data[t.id]&&e.state.invoiceData.package_products_data[t.id].map(function(e,t){1===t?r=e.product?e.product.product_name:"":r+=e.product.product_name})):"egiftcard"===s?n="eGift card worth amount "+Ie(t.total_product_price,"currency"):"consultation_fee"===s?n="Consultation Fee":"treatment_plan"===s?n="Treatment Plan":"monthly_membership"===s&&(n="Monthly Membership Fee");return i.a.createElement("tr",{key:a},i.a.createElement("td",{style:{borderBottom:"1px solid #dddddd"}},i.a.createElement("div",{style:{fontSize:"14px",color:"#777777",padding:"10px 0px"}},n," ",i.a.createElement("br",null)," ",""!==r?"("+r+")":"")),i.a.createElement("td",{align:"right",style:{borderBottom:"1px solid #dddddd",padding:"10px 0px"}},i.a.createElement("div",{style:{fontSize:"13px",color:"#777777",textTransform:"uppercase",textAlign:"right"}},t.total_product_price?Ie(t.total_product_price,"currency"):Ie(0,"currency"))),i.a.createElement("td",{align:"right",style:{borderBottom:"1px solid #dddddd",padding:"10px 0px"}},"\xa0"))}))),this.state.invoiceData&&this.state.invoiceData.invoice_data&&(this.state.invoiceData.invoice_data.aspire_discount>0||this.state.invoiceData.invoice_data.bd_discount>0||this.state.invoiceData.invoice_data.prepayment_adjustment>0||this.state.invoiceData.invoice_data.package_discount>0||this.state.invoiceData.invoice_data.egift_Card_amount>0)&&i.a.createElement("table",{border:0,cellPadding:10,cellSpacing:0,width:700,style:{marginTop:"25px"}},i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",{style:{borderBottom:"1px solid #dddddd"}},i.a.createElement("div",{style:{fontSize:"13px",color:"#000000",textTransform:"uppercase",padding:"10px 0px"}},"Redemptions")),i.a.createElement("td",{style:{borderBottom:"1px solid #dddddd"},align:"right"},i.a.createElement("div",{style:{fontSize:"13px",color:"#000000",textTransform:"uppercase",textAlign:"right",padding:"10px 0px"}},"Amount"))),this.state.invoiceData&&this.state.invoiceData.invoice_data&&this.state.invoiceData.invoice_data.aspire_discount>0&&i.a.createElement("tr",null,i.a.createElement("td",{style:{borderBottom:"1px solid #dddddd"}},i.a.createElement("div",{style:{fontSize:"14px",color:"#777777",padding:"10px 0px"}},"Aspire Discount")),i.a.createElement("td",{align:"right",style:{borderBottom:"1px solid #dddddd",padding:"10px 0px"}},i.a.createElement("div",{style:{fontSize:"13px",color:"#777777",textTransform:"uppercase",textAlign:"right"}},this.state.invoiceData&&this.state.invoiceData.invoice_data&&this.state.invoiceData.invoice_data.aspire_discount?Ie(this.state.invoiceData.invoice_data.aspire_discount,"currency"):Ie(0,"currency")))),this.state.invoiceData&&this.state.invoiceData.invoice_data&&this.state.invoiceData.invoice_data.bd_discount>0&&i.a.createElement("tr",null,i.a.createElement("td",{style:{borderBottom:"1px solid #dddddd"}},i.a.createElement("div",{style:{fontSize:"14px",color:"#777777",padding:"10px 0px"}},"BD Discount")),i.a.createElement("td",{align:"right",style:{borderBottom:"1px solid #dddddd",padding:"10px 0px"}},i.a.createElement("div",{style:{fontSize:"13px",color:"#777777",textTransform:"uppercase",textAlign:"right"}},this.state.invoiceData&&this.state.invoiceData.invoice_data&&this.state.invoiceData.invoice_data.bd_discount?Ie(this.state.invoiceData.invoice_data.bd_discount,"currency"):Ie(0,"currency")))),this.state.invoiceData&&this.state.invoiceData.invoice_data&&this.state.invoiceData.invoice_data.prepayment_adjustment>0&&i.a.createElement("tr",null,i.a.createElement("td",{style:{borderBottom:"1px solid #dddddd"}},i.a.createElement("div",{style:{fontSize:"14px",color:"#777777",padding:"10px 0px"}},"Wallet Debits")),i.a.createElement("td",{align:"right",style:{borderBottom:"1px solid #dddddd",padding:"10px 0px"}},i.a.createElement("div",{style:{fontSize:"13px",color:"#777777",textTransform:"uppercase",textAlign:"right"}},this.state.invoiceData&&this.state.invoiceData.invoice_data&&this.state.invoiceData.invoice_data.prepayment_adjustment?Ie(this.state.invoiceData.invoice_data.prepayment_adjustment,"currency"):Ie(0,"currency")))),this.state.invoiceData&&this.state.invoiceData.invoice_data&&this.state.invoiceData.invoice_data.package_discount>0&&i.a.createElement("tr",null,i.a.createElement("td",{style:{borderBottom:"1px solid #dddddd"}},i.a.createElement("div",{style:{fontSize:"14px",color:"#777777",padding:"10px 0px"}},"Packages Discount")),i.a.createElement("td",{align:"right",style:{borderBottom:"1px solid #dddddd",padding:"10px 0px"}},i.a.createElement("div",{style:{fontSize:"13px",color:"#777777",textTransform:"uppercase",textAlign:"right"}},this.state.invoiceData&&this.state.invoiceData.invoice_data&&this.state.invoiceData.invoice_data.package_discount?Ie(this.state.invoiceData.invoice_data.package_discount,"currency"):Ie(0,"currency")))),this.state.invoiceData&&this.state.invoiceData.invoice_data&&this.state.invoiceData.invoice_data.egift_Card_amount>0&&i.a.createElement("tr",null,i.a.createElement("td",{style:{borderBottom:"1px solid #dddddd"}},i.a.createElement("div",{style:{fontSize:"14px",color:"#777777",padding:"10px 0px"}},"eGiftcard Amount")),i.a.createElement("td",{align:"right",style:{borderBottom:"1px solid #dddddd",padding:"10px 0px"}},i.a.createElement("div",{style:{fontSize:"13px",color:"#777777",textTransform:"uppercase",textAlign:"right"}},this.state.invoiceData&&this.state.invoiceData.invoice_data&&this.state.invoiceData.invoice_data.egift_Card_amount?Ie(this.state.invoiceData.invoice_data.egift_Card_amount,"currency"):Ie(0,"currency")))))),i.a.createElement("table",{border:0,cellPadding:10,cellSpacing:0,width:700,style:{marginTop:"25px",border:"1px solid #000",marginBottom:"25px"}},i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",{width:this.state.invoiceData&&this.state.invoiceData.invoice_data&&(this.state.invoiceData.invoice_data.aspire_discount>0||this.state.invoiceData.invoice_data.bd_discount>0||this.state.invoiceData.invoice_data.prepayment_adjustment>0||this.state.invoiceData.invoice_data.package_discount>0||this.state.invoiceData.invoice_data.egift_Card_amount>0)?120:0,style:{padding:"10px"}},i.a.createElement("div",{style:{fontSize:"13px",color:"#777777"}},"TAX"),i.a.createElement("div",{style:{fontSize:"17px",color:"#000000",fontWeight:400}},this.state.invoiceData&&this.state.invoiceData.invoice_data&&this.state.invoiceData.invoice_data.total_tax?Ie(this.state.invoiceData.invoice_data.total_tax,"currency"):Ie(0,"currency"))),this.state.invoiceData&&this.state.invoiceData.invoice_data&&this.state.invoiceData.invoice_data.total_discount>0&&i.a.createElement("td",{width:160},i.a.createElement("div",{style:{fontSize:"13px",color:"#777777"}},"ITEM DISCOUNT"),i.a.createElement("div",{style:{fontSize:"17px",color:"#000000",fontWeight:400}},this.state.invoiceData&&this.state.invoiceData.invoice_data&&this.state.invoiceData.invoice_data.total_discount?Ie(this.state.invoiceData.invoice_data.total_discount,"currency"):Ie(0,"currency"))),this.state.invoiceData&&this.state.invoiceData.invoice_data&&this.state.invoiceData.invoice_data.custom_discount>0&&i.a.createElement("td",{width:180},i.a.createElement("div",{style:{fontSize:"13px",color:"#777777"}},"CUSTOM DISCOUNT"),i.a.createElement("div",{style:{fontSize:"17px",color:"#000000",fontWeight:400}},this.state.invoiceData&&this.state.invoiceData.invoice_data&&this.state.invoiceData.invoice_data.custom_discount?Ie(this.state.invoiceData.invoice_data.custom_discount,"currency"):Ie(0,"currency"))),this.state.invoiceData&&this.state.invoiceData.invoice_data&&this.state.invoiceData.invoice_data.tip_amount>0&&i.a.createElement("td",{width:120},i.a.createElement("div",{style:{fontSize:"13px",color:"#777777"}},"TIP"),i.a.createElement("div",{style:{fontSize:"17px",color:"#000000",fontWeight:400}},this.state.invoiceData&&this.state.invoiceData.invoice_data&&this.state.invoiceData.invoice_data.tip_amount?Ie(this.state.invoiceData.invoice_data.tip_amount,"currency"):Ie(0,"currency"))),i.a.createElement("td",{width:220,style:{background:"#000000",padding:"10px"},align:"right"},i.a.createElement("div",{style:{fontSize:"13px",color:"#ffffff",textAlign:"right"}},"TOTAL"),i.a.createElement("div",{style:{fontSize:"17px",color:"#ffffff",fontWeight:400,textAlign:"right"}},this.state.invoiceData&&this.state.invoiceData.invoice_data&&this.state.invoiceData.invoice_data.total_amount?Ie(this.state.invoiceData.invoice_data.total_amount,"currency"):Ie(0,"currency")))))),1===r?i.a.createElement("table",{border:0,cellPadding:10,cellSpacing:0,width:700,style:{marginTop:"25px"}},i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",{style:{borderBottom:"1px solid #dddddd"}},i.a.createElement("div",{style:{fontSize:"13px",color:"#000000",textTransform:"uppercase",padding:"10px 0px"}},"MEMBERSHIP BENEFITS")),i.a.createElement("td",{style:{borderBottom:"1px solid #dddddd"},align:"right"},i.a.createElement("div",{style:{fontSize:"13px",color:"#000000",textTransform:"uppercase",textAlign:"right",padding:"10px 0px"}},"Amount"))),i.a.createElement("tr",null,i.a.createElement("td",{style:{borderBottom:"1px solid #dddddd"}},i.a.createElement("div",{style:{fontSize:"14px",color:"#777777",padding:"10px 0px"}},"Membership savings on today's visit")),i.a.createElement("td",{align:"right",style:{borderBottom:"1px solid #dddddd",padding:"10px 0px"}},i.a.createElement("div",{style:{fontSize:"13px",color:"#777777",textTransform:"uppercase",textAlign:"right"}},this.state.invoiceData&&this.state.invoiceData.invoice_data?Ie(this.state.invoiceData.invoice_data.membership_benefit,"currency"):Ie(0,"currency")))),i.a.createElement("tr",null,i.a.createElement("td",{style:{borderBottom:"1px solid #dddddd"}},i.a.createElement("div",{style:{fontSize:"14px",color:"#777777",padding:"10px 0px"}},"Your Membership savings this year")),i.a.createElement("td",{align:"right",style:{borderBottom:"1px solid #dddddd",padding:"10px 0px"}},i.a.createElement("div",{style:{fontSize:"13px",color:"#777777",textTransform:"uppercase",textAlign:"right"}},this.state.invoiceData&&this.state.invoiceData.invoice_data&&this.state.invoiceData.invoice_data.patient?Ie(this.state.invoiceData.invoice_data.patient.membership_benefits_this_year,"currency"):Ie(0,"currency")))))):"",this.state.invoiceData&&this.state.invoiceData.invoice_data&&this.state.invoiceData.invoice_data.pos_transaction&&this.state.invoiceData.invoice_data.pos_transaction.pos_transactions_payments?i.a.createElement("table",{border:0,cellPadding:10,cellSpacing:0,width:700,style:{marginTop:"25px"}},i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",{style:{borderBottom:"1px solid #dddddd"}},i.a.createElement("div",{style:{fontSize:"13px",color:"#000000",textTransform:"uppercase",padding:"10px 0px"}},"Payments")),i.a.createElement("td",{style:{borderBottom:"1px solid #dddddd"},align:"right"},i.a.createElement("div",{style:{fontSize:"13px",color:"#000000",textTransform:"uppercase",textAlign:"right",padding:"10px 0px"}},"Amount"))),this.state.invoiceData&&this.state.invoiceData.invoice_data&&this.state.invoiceData.invoice_data.pos_transaction&&this.state.invoiceData.invoice_data.pos_transaction.pos_transactions_payments&&this.state.invoiceData.invoice_data.pos_transaction.pos_transactions_payments.length>0&&this.state.invoiceData.invoice_data.pos_transaction.pos_transactions_payments.map(function(e,t){var a="";return"cc"===e.payment_mode?a="Credit Card ending "+e.cc_number:"care_credit"===e.payment_mode?(a="Care Credit",""!==e.care_credit_note&&(a+=" Note - "+e.care_credit_note)):a=je(e.payment_mode),i.a.createElement("tr",{key:t},i.a.createElement("td",{style:{borderBottom:"1px solid #dddddd"}},i.a.createElement("div",{style:{fontSize:"14px",color:"#777777",padding:"10px 0px"}},a)),i.a.createElement("td",{align:"right",style:{borderBottom:"1px solid #dddddd",padding:"10px 0px"}},i.a.createElement("div",{style:{fontSize:"13px",color:"#777777",textTransform:"uppercase",textAlign:"right"}},Ie(e.total_amount,"currency"))))}))):"",this.state.invoiceData&&this.state.invoiceData.invoice_data&&("refunded"===this.state.invoiceData.invoice_data.invoice_status||"partial_refunded"===this.state.invoiceData.invoice_data.invoice_status)&&this.state.invoiceData.invoice_data.pos_transaction&&this.state.invoiceData.invoice_data.pos_transaction.pos_transactions_payments&&this.state.invoiceData.invoice_data.pos_transaction.pos_transactions_payments.length>0?i.a.createElement("table",{border:0,cellPadding:10,cellSpacing:0,width:700,style:{marginTop:"25px",marginBottom:"15px"}},i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",{style:{borderBottom:"1px solid #dddddd"}},i.a.createElement("div",{style:{fontSize:"13px",color:"#000000",textTransform:"uppercase",padding:"10px 0px"}},"Refund")),i.a.createElement("td",{style:{borderBottom:"1px solid #dddddd"},align:"right"},i.a.createElement("div",{style:{fontSize:"13px",color:"#000000",textTransform:"uppercase",textAlign:"right",padding:"10px 0px"}}))),!1===this.state.showLoader&&this.state.invoiceData&&this.state.invoiceData.invoice_data&&this.state.invoiceData.invoice_data.pos_transaction&&this.state.invoiceData.invoice_data.pos_transaction.pos_transactions_payments&&this.state.invoiceData.invoice_data.pos_transaction.pos_transactions_payments.length>0&&this.state.invoiceData.invoice_data.pos_transaction.pos_transactions_payments.map(function(t,a){if("refunded"===t.payment_status){u=!1;var s,n="";return n="cc"===t.payment_mode?"Credit Card":"wallet"===t.payment_mode?"Wallet":"Cash",s=Ie(t.refund_amount,"currency",2),t.refund_datetime?Be(t.refund_datetime,!1,"MMMM DD, Y"):e.state.historyData&&e.state.historyData.pos_transaction&&Be(e.state.historyData.pos_transaction.transaction_datetime,!1,"MMMM DD, Y"),i.a.createElement("tr",{key:"ref_"+a},i.a.createElement("td",null,i.a.createElement("div",{style:{fontSize:"14px",color:"#777777",padding:"10px 0px"}},n,i.a.createElement("br",null)," Refund Reason : ",t.refund_reason?t.refund_reason.replace("_"," "):"")),i.a.createElement("td",{align:"right",style:{padding:"10px 0px"}},i.a.createElement("div",{style:{fontSize:"13px",color:"#777777",textTransform:"uppercase",textAlign:"right"}},s)))}}))):"",this.state.invoiceData&&this.state.invoiceData.patientSignature&&i.a.createElement("table",{border:0,cellPadding:10,cellSpacing:0,width:700,style:{marginTop:"0px",borderTop:"1px solid #dddddd"}},i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",{style:{padding:"20px 10px"},width:"400"},i.a.createElement("div",{style:{fontSize:"13px",color:"#777777",width:"400px"}},i.a.createElement("img",{src:this.state.invoiceData.patientSignature,style:{width:"300px",display:"inline-block"}}),i.a.createElement("br",null),i.a.createElement("b",null,"(",this.state.invoiceData&&this.state.invoiceData.invoice_data&&this.state.invoiceData.invoice_data.patient&&Me(this.state.invoiceData.invoice_data.patient),")"))),i.a.createElement("td",{width:"400"},"\xa0")))),i.a.createElement("table",{border:0,cellPadding:10,cellSpacing:0,width:700,style:{marginTop:"0px",marginBottom:"20px",borderTop:"1px solid #dddddd",borderBottom:"1px solid #dddddd"}},i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",{style:{padding:"20px 10px"}},i.a.createElement("div",{style:{fontSize:"13px",color:"#777777"}},this.state.invoiceData&&this.state.invoiceData.invoice_text&&this.state.invoiceData.invoice_text))))),i.a.createElement("table",{border:0,cellPadding:10,cellSpacing:0,width:700,style:{marginTop:"-10px"}},i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",{width:400},i.a.createElement("div",{style:{fontSize:"18px",fontWeight:600,color:"#000000"}},this.state.invoiceData&&this.state.invoiceData.invoice_data&&this.state.invoiceData.invoice_data.clinic?je(this.state.invoiceData.invoice_data.clinic.clinic_name):"")),i.a.createElement("td",{width:400,align:"right"},i.a.createElement("div",{style:{fontSize:"14px",fontWeight:600,color:"#777777",textAlign:"right"}},this.state.invoiceData&&this.state.invoiceData.invoice_data&&this.state.invoiceData.invoice_data.clinic?je(this.state.invoiceData.invoice_data.clinic.contact_no):""))))))))),i.a.createElement("br",null))))))),i.a.createElement("div",{className:"footer-static invoice-footer"},this.state.invoiceData&&this.state.invoiceData.invoice_data&&"draft"!==this.state.invoiceData.invoice_data.invoice_status&&i.a.createElement("div",{className:"dropdown pull-right m-l-5"},i.a.createElement("button",{className:"line-btn no-margin",type:"button",id:"dropdownMenu1","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"More Info",i.a.createElement("i",{className:"fas fa-angle-down"})),i.a.createElement("ul",{className:"dropdown-menu"},i.a.createElement("li",{onClick:function(){return e.printOrDownloadInvoice(0)}},i.a.createElement("a",null,"Download")),i.a.createElement("li",{onClick:function(){return e.printOrDownloadInvoice(1)}},i.a.createElement("a",null,"Email To Client")),i.a.createElement("li",{onClick:function(){return e.printInvoice()}},i.a.createElement("a",null,"Print")))),"paid"===c&&!1===h&&i.a.createElement("a",{onClick:function(){return e.showRefundModal()},className:"blue-btn pull-right"},"Issue Refund"),l&&i.a.createElement("a",{onClick:function(){return e.showPaymentHistory()},className:"blue-btn pull-right"},"Payment History"),o&&!1===this.state.showLoader&&i.a.createElement("a",{className:"blue-btn pull-right",onClick:function(){return e.showConfirmationModal()}},"Void")))),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock clientLoader clientProfileLoader":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.globalLang.loading_please_wait_text))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(void 0!==e.invoiceData&&200===e.invoiceData.status&&e.invoiceData.data!==t.invoiceData)return{invoiceData:e.invoiceData.data,showLoader:!1,showPaymentHistory:!1,showRefund:!1};if(void 0!==e.historyData&&200===e.historyData.status&&e.historyData.data!==t.historyData)return{historyData:e.historyData.data,showLoader:!1,showPaymentHistory:!0};if(void 0!==e.historyData&&200!==e.historyData.status&&e.historyData.data!==t.historyData)return{showLoader:!1,historyData:e.historyData.data};if(void 0!==e.voidData&&200===e.voidData.status&&e.voidData.data!==t.voidData)return{voidData:e.voidData.data,showLoader:!1,saveMessage:e.voidData.message};if(void 0!==e.voidData&&200!==e.voidData.status&&e.voidData.data!==t.voidData)return{showLoader:!1,voidData:e.historyData?e.historyData.data:null,saveMessage:e.voidData.message};if(void 0!==e.sendAndDownloadInvoiceData&&200===e.sendAndDownloadInvoiceData.status&&e.sendAndDownloadInvoiceData.data.timestamp!==t.sendAndDownloadInvoiceData){if(0===t.invoiceActionType){var a={};return a.sendAndDownloadInvoiceData=e.sendAndDownloadInvoiceData.data.timestamp,a.showLoader=!1,a.invoiceActionType="",e.sendAndDownloadInvoiceData.data&&window.open(e.sendAndDownloadInvoiceData.data.file),a}return{sendAndDownloadInvoiceData:e.sendAndDownloadInvoiceData.data.timestamp,showLoader:!1,invoiceActionType:""}}if(void 0!==e.sendAndDownloadInvoiceData&&200!==e.sendAndDownloadInvoiceData.status&&e.sendAndDownloadInvoiceData.data.timestamp!==t.sendAndDownloadInvoiceData)return{showLoader:!1,sendAndDownloadInvoiceData:e.sendAndDownloadInvoiceData.data.timestamp,invoiceActionType:""};if(void 0!==e.sendAndDownloadReceiptData&&200===e.sendAndDownloadReceiptData.status&&e.sendAndDownloadReceiptData.data!==t.sendAndDownloadReceiptData){if(0===t.receiptActionType){var s={};return s.sendAndDownloadReceiptData=e.sendAndDownloadReceiptData.data,s.showLoader=!1,s.receiptActionType="",e.sendAndDownloadReceiptData.data&&(window.location.href=e.sendAndDownloadReceiptData.data),s}return{sendAndDownloadReceiptData:e.sendAndDownloadReceiptData.data,showLoader:!1,receiptActionType:""}}return void 0!==e.sendAndDownloadReceiptData&&200!==e.sendAndDownloadReceiptData.status&&e.sendAndDownloadReceiptData.data!==t.sendAndDownloadReceiptData?{showLoader:!1,sendAndDownloadReceiptData:e.sendAndDownloadReceiptData.data,receiptActionType:""}:void 0!==e.getRefundData&&200===e.getRefundData.status&&e.getRefundData.data!==t.getRefundData?{getRefundData:e.getRefundData.data,showLoader:!1,showRefund:!0,refund_type:e.getRefundData.data&&e.getRefundData.data.available_options&&e.getRefundData.data.available_options.indexOf("full-refund")>-1?"full":"partial",refund_reason:"",text_reason_for_refund:"",refundReasonClass:"row no-display",selectedPayments:[],cash_amount:"",cc_amount:"",wallet_amount:"",reasonAreaClass:"setting-textarea-box",cashAmountClass:"setting-input-box",ccAmountClass:"setting-input-box",walletAmountClass:"setting-input-box",selectAReasonClass:"setting-select-box",selectPaymentClass:""}:void 0!==e.getRefundData&&200!==e.getRefundData.status&&e.getRefundData.data!==t.getRefundData?{showLoader:!1,getRefundData:e.getRefundData.data}:void 0!==e.payRefundData&&200===e.payRefundData.status&&e.payRefundData.data!==t.payRefundData?{payRefundData:e.payRefundData.data,showLoader:!1,payRefundStatus:e.payRefundData.data}:void 0!==e.payRefundData&&200!==e.payRefundData.status&&e.payRefundData.data!==t.payRefundData?{payRefundData:e.payRefundData.data,showLoader:!1,payRefundStatus:""}:null}}]),t}(n.Component);var zf=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData")),a={};return"GET_INVOICE_DETAILS"===e.InvoiceReducer.action&&(200!==e.InvoiceReducer.data.status?rt.toast.error(t.global[e.InvoiceReducer.data.message]):a.invoiceData=e.InvoiceReducer.data),"GET_PAYMENT_HISTORY"===e.InvoiceReducer.action&&(200!==e.InvoiceReducer.data.status?(rt.toast.error(t.global[e.InvoiceReducer.data.message]),a.historyData=e.InvoiceReducer.data):a.historyData=e.InvoiceReducer.data),"VOID_INVOICE"===e.InvoiceReducer.action&&(200!==e.InvoiceReducer.data.status?(rt.toast.error(t.global[e.InvoiceReducer.data.message]),a.voidData=e.InvoiceReducer.data):a.voidData=e.InvoiceReducer.data),"EMAIL_AND_DOWNLOAD_INVOICE"===e.InvoiceReducer.action&&(200!==e.InvoiceReducer.data.status?(rt.toast.error(t.global[e.InvoiceReducer.data.message]),a.sendAndDownloadInvoiceData=e.InvoiceReducer.data):(console.log(e.InvoiceReducer.data.data.action_type),"1"===e.InvoiceReducer.data.data.action_type&&rt.toast.success(t.global[e.InvoiceReducer.data.message]),a.sendAndDownloadInvoiceData=e.InvoiceReducer.data)),"GET_REFUND_DETAILS"===e.InvoiceReducer.action&&(200!==e.InvoiceReducer.data.status?(rt.toast.error(t.global[e.InvoiceReducer.data.message]),a.getRefundData=e.InvoiceReducer.data):a.getRefundData=e.InvoiceReducer.data),"ISSUE_REFUND"===e.InvoiceReducer.action&&(200!==e.InvoiceReducer.data.status?(rt.toast.error(t.global[e.InvoiceReducer.data.message]),a.payRefundData=e.InvoiceReducer.data):(rt.toast.success(t.global[e.InvoiceReducer.data.message]),a.payRefundData=e.InvoiceReducer.data)),"UPDATE_USER_IN_INVOICE"===e.InvoiceReducer.action&&(200!==e.InvoiceReducer.data.status?(rt.toast.error(t.global[e.InvoiceReducer.data.message]),a.updateInvoiceUserData=e.InvoiceReducer.data):(rt.toast.success(t.global[e.InvoiceReducer.data.message]),a.updateInvoiceUserData=e.InvoiceReducer.data)),"EMPTY_DATA"===e.InvoiceReducer.action?200!==e.InvoiceReducer.data.status?(rt.toast.error(t.global[e.InvoiceReducer.data.message]),{}):{}:a},function(e){return Object(c.bindActionCreators)({getInvoiceDetails:Uf,getPaymentHistory:Ff,voidInvoice:Bf,sendAndDownloadInvoice:qf,sendAndDownloadRefundReceipt:Yf,getRefundDetails:Hf,payRefund:Gf},e)})(Vf),Wf=function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).state=a.initialState,a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){this.setState({showLoader:!0}),this.props.getSubscriptionInvoiceById(this.state.invoiceId)}},{key:"render",value:function(){var e=this,t="";t=this.state.roomType&&"clients"===this.state.roomType?this.props.match.params.type?"/"+this.state.roomType+"/"+this.props.match.params.type+"/"+this.props.match.params.patientID:"/"+this.state.roomType:"/settings/manage-invoices";return i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"wide-popup"},i.a.createElement("div",{className:"modal-blue-header"},i.a.createElement(me.a,{to:t,className:"popup-cross"},"\xd7"),!1===this.state.showLoader&&i.a.createElement("span",{className:"popup-blue-name"},this.state.settingsLang.billing_view_invoice)),i.a.createElement("div",{className:"wide-popup-wrapper time-line"},i.a.createElement("center",null,i.a.createElement("table",{id:"print_area",border:0,cellPadding:0,cellSpacing:0,height:"100%",width:"100%",style:{maxWidth:"700px"}},i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",{align:"center",valign:"top"},i.a.createElement("table",{border:0,cellPadding:0,cellSpacing:0,width:"100%"},i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",{valign:"top"},i.a.createElement("table",{border:0,cellPadding:5,cellSpacing:0,width:"100%"},i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",{valign:"top",width:400},i.a.createElement("div",{style:{padding:"5px 0px"}},i.a.createElement("img",{src:this.state.invoiceData.account_logo_path?this.state.invoiceData.account_logo_path:"/images/juvlyL.png",style:{height:"70px"}})))))))))),i.a.createElement("table",{border:0,cellPadding:0,cellSpacing:0,width:"100%"},i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",{align:"center",valign:"top"},i.a.createElement("table",{border:0,cellPadding:0,cellSpacing:0,width:"100%"},i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",{colSpan:3,valign:"top"},i.a.createElement("table",{border:0,cellPadding:10,cellSpacing:0,width:"100%"},i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",{valign:"top"},i.a.createElement("div",{style:{fontSize:"14px",color:"#000000",padding:"10px 0px 3px"}},this.state.settingsLang.billing_invoice_to),i.a.createElement("div",{style:{fontSize:"14px",color:"#777777",fontWeight:400}},this.state.invoiceTo.length>1?this.state.invoiceTo.map(function(e,t){return i.a.createElement("div",{key:"invoice-to"+t},e)}):this.state.invoiceTo))),i.a.createElement("tr",null,i.a.createElement("td",{valign:"top",width:400},i.a.createElement("div",{style:{fontSize:"14px",color:"#000000",padding:"10px 0px 3px"}},this.state.settingsLang.Survey_email),i.a.createElement("div",{style:{fontSize:"14px",color:"#777777",fontWeight:400}},this.state.invoiceEmail),i.a.createElement("div",{style:{fontSize:"14px",color:"#000000",padding:"10px 0px 3px"}},this.state.settingsLang.clinics_Address),i.a.createElement("div",{style:{fontSize:"14px",color:"#777777",fontWeight:400}},this.state.invoiceAddress.length>1?this.state.invoiceAddress.map(function(t,a){return i.a.createElement("div",{key:"invoice-address"+a},t,a+1!=e.state.invoiceAddress.length?",":null)}):this.state.invoiceAddress)),i.a.createElement("td",{valign:"bottom",width:400,align:"right"},i.a.createElement("table",{width:250,style:{float:"right",fontSize:"14px",padding:"10px 0px"}},i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",{align:"left"},this.state.settingsLang.billing_invoice_no,":"),i.a.createElement("td",{style:{color:"#777777",textAlign:"right"}},this.state.invoiceInfo.invoice_number)),i.a.createElement("tr",null,i.a.createElement("td",{align:"left"},this.state.settingsLang.billing_invoice_date,":"),i.a.createElement("td",{style:{color:"#777777",textAlign:"right"}},this.state.invoiceInfo.created?Be(this.state.invoiceInfo.created,!1,"MMMM DD, YYYY"):"")),"paid"==this.state.invoiceInfo.payment_status&&i.a.createElement("tr",null,i.a.createElement("td",{align:"left"},this.state.settingsLang.billing_payment_on,":"),i.a.createElement("td",{style:{color:"#777777",textAlign:"right"}},this.state.invoiceInfo.modified?Be(this.state.invoiceInfo.modified,!1,"MMMM DD, YYYY"):"")))))))))))))),i.a.createElement("tr",null,i.a.createElement("td",{colSpan:3,valign:"top"},i.a.createElement("table",{border:0,cellPadding:10,cellSpacing:0,width:"100%",style:{marginTop:"25px"}},i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",{style:{borderBottom:"1px solid #dddddd"}},i.a.createElement("div",{style:{fontSize:"13px",color:"#000000",textTransform:"uppercase",padding:"10px 0px"}},this.state.settingsLang.billing_item_description)),i.a.createElement("td",{style:{borderBottom:"1px solid #dddddd"},align:"right"},i.a.createElement("div",{style:{fontSize:"13px",color:"#000000",textTransform:"uppercase",textAlign:"right",padding:"10px 0px"}},this.state.globalLang.label_amount))),0!=this.state.invoiceInfo.recurly_invoice_id||"dispute_fee"==this.state.invoiceInfo.invoice_type?i.a.createElement("tr",null,i.a.createElement("td",{style:{borderBottom:"1px solid #dddddd"}},i.a.createElement("div",{style:{fontSize:"14px",color:"#777777",padding:"10px 0px"}},this.state.invoiceInfo.recurly_invoice_description)),i.a.createElement("td",{align:"right",style:{borderBottom:"1px solid #dddddd",padding:"10px 0px"}},i.a.createElement("div",{style:{fontSize:"13px",color:"#777777",textTransform:"uppercase",textAlign:"right"}},Ie(this.state.invoiceInfo.invoice_amount,"currency",2)))):this.state.invoiceInfo.subscription_invoice_item.map(function(e,t){var a=e[Object.keys(e)[0]];return i.a.createElement("tr",{key:"payment-description-"+t},i.a.createElement("td",{style:{borderBottom:"1px solid #dddddd"}},i.a.createElement("div",{style:{fontSize:"14px",color:"#777777",padding:"10px 0px"}},a.description)),i.a.createElement("td",{align:"right",style:{borderBottom:"1px solid #dddddd",padding:"10px 0px"}},i.a.createElement("div",{style:{fontSize:"13px",color:"#777777",textTransform:"uppercase",textAlign:"right"}},Ie(a.amount,"currency",2))))}))),"paid"==this.state.invoiceInfo.payment_status&&i.a.createElement("table",{border:0,cellPadding:10,cellSpacing:0,width:"100%",style:{marginTop:"25px"}},i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",{style:{borderBottom:"1px solid #dddddd"}},i.a.createElement("div",{style:{fontSize:"13px",color:"#000000",textTransform:"uppercase",padding:"10px 0px"}},this.state.settingsLang.billing_payment_details)),i.a.createElement("td",{style:{borderBottom:"1px solid #dddddd"},align:"right"},i.a.createElement("div",{style:{fontSize:"13px",color:"#000000",textTransform:"uppercase",textAlign:"right",padding:"10px 0px"}},this.state.globalLang.label_amount))),0!=this.state.invoiceInfo.recurly_invoice_id&&i.a.createElement("tr",null,i.a.createElement("td",{style:{borderBottom:"1px solid #dddddd"}},i.a.createElement("div",{style:{fontSize:"14px",color:"#777777",padding:"10px 0px"}},"\xa0")),i.a.createElement("td",{align:"right",style:{borderBottom:"1px solid #dddddd",padding:"10px 0px"}},i.a.createElement("div",{style:{fontSize:"13px",color:"#777777",textTransform:"uppercase",textAlign:"right"}},Ie(this.state.invoiceData.total_amount,"currency",2)))),0==this.state.invoiceInfo.recurly_invoice_id&&this.state.invoiceData.show_credit_card&&i.a.createElement("tr",null,i.a.createElement("td",{style:{borderBottom:"1px solid #dddddd"}},i.a.createElement("div",{style:{fontSize:"14px",color:"#777777",padding:"10px 0px"}},this.state.invoiceData.card_details)),i.a.createElement("td",{align:"right",style:{borderBottom:"1px solid #dddddd",padding:"10px 0px"}},i.a.createElement("div",{style:{fontSize:"13px",color:"#777777",textTransform:"uppercase",textAlign:"right"}},Ie(this.state.invoiceData.amount_from_card,"currency",2)))),0==this.state.invoiceInfo.recurly_invoice_id&&this.state.invoiceData.credit_adjusted_status&&i.a.createElement("tr",null,i.a.createElement("td",{style:{borderBottom:"1px solid #dddddd"}},i.a.createElement("div",{style:{fontSize:"14px",color:"#777777",padding:"10px 0px"}},this.state.invoiceData.credit_adjusted_string)),i.a.createElement("td",{align:"right",style:{borderBottom:"1px solid #dddddd",padding:"10px 0px"}},i.a.createElement("div",{style:{fontSize:"13px",color:"#777777",textTransform:"uppercase",textAlign:"right"}},Ie(this.state.invoiceData.credit_adjusted_amount,"currency",2)))))),"paid"==this.state.invoiceInfo.payment_status&&0==this.state.invoiceInfo.recurly_invoice_id&&this.state.invoiceData.show_credit_card&&this.state.invoiceData.credit_adjusted_status&&i.a.createElement("table",{border:0,cellPadding:10,cellSpacing:0,width:"100%",style:{marginTop:"25px"}},i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",null,i.a.createElement("div",{style:{fontSize:"13px",color:"#000000",textTransform:"uppercase",padding:"10px 0px"}},this.state.globalLang.label_amount)),i.a.createElement("td",{align:"right"},i.a.createElement("div",{style:{fontSize:"13px",color:"#000000",textTransform:"uppercase",textAlign:"right",padding:"10px 0px"}},Ie(this.state.invoiceData.total_amount,"currency",2)))))))))),i.a.createElement("br",null))))))),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.globalLang.Please_Wait)))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}},{key:"initialState",get:function(){var e=JSON.parse(localStorage.getItem("languageData"));return{settingsLang:e.settings,globalLang:e.global,showLoader:!1,invoiceId:null!==this.props.match.params.invoiceId&&""!==this.props.match.params.invoiceId&&this.props.match.params.invoiceId?this.props.match.params.invoiceId:0,invoiceData:{},invoiceInfo:{},invoiceTo:[],invoiceEmail:"",invoiceAddress:[]}}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};if(void 0!==e.invoiceData&&200===e.invoiceData.status&&e.data!==t.invoiceData){a.invoiceData=e.invoiceData.data,a.invoiceInfo=e.invoiceData.data.invoice_data,a.showLoader=!1;var s=[],n="",i=[];if(a.invoiceInfo.account&&(a.invoiceInfo.account.name&&s.push(a.invoiceInfo.account.name),a.invoiceInfo.account.admin)){s.push(a.invoiceInfo.account.admin.firstname+" "+a.invoiceInfo.account.admin.lastname),n=a.invoiceInfo.account.admin.email_id;var r=[];a.invoiceInfo.account.admin.address_line_1&&r.push(a.invoiceInfo.account.admin.address_line_1),a.invoiceInfo.account.admin.address_line_2&&r.push(a.invoiceInfo.account.admin.address_line_2),a.invoiceInfo.account.admin.address_line_3&&r.push(a.invoiceInfo.account.admin.address_line_3),a.invoiceInfo.account.admin.address_line_4&&r.push(a.invoiceInfo.account.admin.address_line_4),(r=r.join(" "))&&i.push(r),a.invoiceInfo.account.admin.city&&i.push(a.invoiceInfo.account.admin.city),a.invoiceInfo.account.admin.state&&i.push(a.invoiceInfo.account.admin.state),a.invoiceInfo.account.admin.country&&i.push(a.invoiceInfo.account.admin.country)}a.invoiceTo=s,a.invoiceEmail=n,a.invoiceAddress=i}else void 0!=e.showLoader&&0==e.showLoader&&(a.showLoader=!1);return a}}]),t}(n.Component);var Jf=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData")),a={};return"SUBSCRIPTION_INVOICE_DATA"===e.SettingReducer.action&&(200!=e.SettingReducer.data.status?(rt.toast.error(t.global[e.SettingReducer.data.message]),a.showLoader=!1):a.invoiceData=e.SettingReducer.data),a},function(e){return Object(c.bindActionCreators)({getSubscriptionInvoiceById:Lr},e)})(Object(de.a)(Wf)),Qf=Ee.API_URL,Kf=Q.a.create();function Xf(e){return function(t){Kf.get(Qf+"view_treatment_marking_images/"+e).then(function(e){t({type:"VIEW_TREATMENT_MARKINGS",payload:e.data})}).catch(function(e){t({type:"VIEW_TREATMENT_MARKINGS",payload:e.response.data})})}}Kf.defaults.headers.common["access-token"]=xe(),Xe(),Kf.interceptors.response.use(function(e){return void 0!=e.data&&void 0!=e.data.global_settings&&He(e.data.global_settings),Xe(),e},function(e){if(e.response){var t=e.response.data.message;return"invalid_token"!=t&&"session_timeout"!=t&&"server_error"!=t&&"token_not_found"!=t||Oe(),Promise.reject(e)}return{data:{data:"",message:"server_error",status:500}}});var Zf=function(e){function t(e){var a;Object(ne.a)(this,t),a=Object(re.a)(this,Object(oe.a)(t).call(this,e));var s=JSON.parse(localStorage.getItem("languageData"));return a.state={backURLType:a.props.match.url.split("/")[1],action:a.props.match.params.type?a.props.match.params.type:"profile",showLoader:!1,procedureID:a.props.match.params.procedureID,globalLang:s.global,treatmentMarkingData:[],def_no_image_vertical:En.a},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){this.setState({showLoader:!0}),this.props.viewTreatmentMarkings(this.state.procedureID)}},{key:"render",value:function(){var e="";this.state.backURLType&&"clients"===this.state.backURLType&&(e=this.props.match.params.type?"/"+this.state.backURLType+"/"+this.props.match.params.type+"/"+this.props.match.params.clientID:"/"+this.state.backURLType);var t=this.state.treatmentMarkingData,a=this.state.def_no_image_vertical;t&&t.procedure_image_data&&t.procedure_image_data.patient_image_front&&t&&t.pdf_image&&t.pdf_image.front_pdf_image_url&&(a=t.pdf_image.front_pdf_image_url);var s=this.state.def_no_image_vertical;t&&t.procedure_image_data&&t.procedure_image_data.patient_image_left&&t&&t.pdf_image&&t.pdf_image.left_pdf_image_url&&(s=t.pdf_image.left_pdf_image_url);var n=this.state.def_no_image_vertical;t&&t.procedure_image_data&&t.procedure_image_data.patient_image_left_45&&t&&t.pdf_image&&t.pdf_image.left_pdf_image_45_url&&(n=t.pdf_image.left_pdf_image_45_url);var r=this.state.def_no_image_vertical;t&&t.procedure_image_data&&t.procedure_image_data.patient_image_right&&t&&t.pdf_image&&t.pdf_image.right_pdf_image_url&&(r=t.pdf_image.right_pdf_image_url);var o=this.state.def_no_image_vertical;t&&t.procedure_image_data&&t.procedure_image_data.patient_image_right_45&&t&&t.pdf_image&&t.pdf_image.right_pdf_image_45_url&&(o=t.pdf_image.right_pdf_image_45_url);var l=this.state.def_no_image_vertical;t&&t.procedure_image_data&&t.pdf_image&&(t.procedure_image_data.patient_image_back||t.pdf_image.back_pdf_image_url)&&t&&t.pdf_image&&t.pdf_image.back_pdf_image_url&&(l=t.pdf_image.back_pdf_image_url);var c=this.state.def_no_image_vertical;t&&t.procedure_image_data&&t.pdf_image&&(t.procedure_image_data.patient_image_back_left_45||t.pdf_image.back_pdf_image_left_45_url)&&t&&t.pdf_image&&t.pdf_image.back_pdf_image_left_45_url&&(c=t.pdf_image.back_pdf_image_left_45_url);var d=this.state.def_no_image_vertical;t&&t.procedure_image_data&&t.pdf_image&&(t.procedure_image_data.patient_image_back_right_45||t.pdf_image.back_pdf_image_right_45_url)&&t&&t.pdf_image&&t.pdf_image.back_pdf_image_right_45_url&&(d=t.pdf_image.back_pdf_image_right_45_url);var m=this.state.def_no_image_vertical;t&&t.procedure_image&&t&&t.procedure_image_url&&(m=t.procedure_image_url);var u=this.state.def_no_image_vertical;return t&&t.procedure_image_45&&t&&t.procedure_image_45_url&&(u=t.procedure_image_45_url),i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement("div",{className:"juvly-section full-width m-t-15"},i.a.createElement("div",{className:"juvly-container"},i.a.createElement("div",{className:"juvly-title m-b-30"},this.state.treatmentMarkingData&&this.state.treatmentMarkingData.patient&&Me(this.state.treatmentMarkingData.patient)+" - "," ",this.state.treatmentMarkingData&&this.state.treatmentMarkingData.procedure_name,i.a.createElement(me.a,{to:e,className:"pull-right"},i.a.createElement("img",{src:"../../../../images/close.png"}))),t&&"laser"!==t.procedure_type&&i.a.createElement("div",{className:"pdfImageContainer"},i.a.createElement("div",{className:"juvly-subtitle"},"Procedure Images - 45 Degrees"),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-4 col-xs-12"},i.a.createElement("div",{className:"procedure-img"},i.a.createElement("img",{src:n}))),i.a.createElement("div",{className:"col-sm-4 col-xs-12"},i.a.createElement("div",{className:"procedure-img"},i.a.createElement("img",{src:a}))),i.a.createElement("div",{className:"col-sm-4 col-xs-12"},i.a.createElement("div",{className:"procedure-img"},i.a.createElement("img",{src:o}))),i.a.createElement("div",{className:"col-xs-12 text-center"},i.a.createElement("div",{className:"procedure-img"},i.a.createElement("img",{src:u})))),i.a.createElement("div",{className:"juvly-subtitle m-t-40"},"Procedure Images - 90 Degrees"),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-4 col-xs-12"},i.a.createElement("div",{className:"procedure-img"},i.a.createElement("img",{src:s}))),i.a.createElement("div",{className:"col-sm-4 col-xs-12"},i.a.createElement("div",{className:"procedure-img"},i.a.createElement("img",{src:a}))),i.a.createElement("div",{className:"col-sm-4 col-xs-12"},i.a.createElement("div",{className:"procedure-img"},i.a.createElement("img",{src:r}))),i.a.createElement("div",{className:"col-xs-12 text-center"},i.a.createElement("div",{className:"procedure-img"},i.a.createElement("img",{src:m})))),i.a.createElement("div",{className:t&&"coolsculpting"===t.procedure_type?"juvly-subtitle m-t-40":"juvly-subtitle m-t-40 no-display"},"Procedure Images - Back"),i.a.createElement("div",{className:t&&"coolsculpting"===t.procedure_type?"row":"row no-display"},i.a.createElement("div",{className:"col-sm-4 col-xs-12"},i.a.createElement("div",{className:"procedure-img"},i.a.createElement("img",{src:c}))),i.a.createElement("div",{className:"col-sm-4 col-xs-12"},i.a.createElement("div",{className:"procedure-img"},i.a.createElement("img",{src:a}))),i.a.createElement("div",{className:"col-sm-4 col-xs-12"},i.a.createElement("div",{className:"procedure-img"},i.a.createElement("img",{src:d}))),i.a.createElement("div",{className:"col-xs-12 text-center"},i.a.createElement("div",{className:"procedure-img"},i.a.createElement("img",{src:l}))))),t&&"laser"===t.procedure_type&&i.a.createElement("div",{class:"pdfImageContainer"},i.a.createElement("div",{className:"juvly-subtitle"},"Procedure Images"),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-4 col-xs-12"},i.a.createElement("div",{className:"procedure-img"},i.a.createElement("img",{src:n}))),i.a.createElement("div",{className:"col-sm-4 col-xs-12"},i.a.createElement("div",{className:"procedure-img"},i.a.createElement("img",{src:a}))),i.a.createElement("div",{className:"col-sm-4 col-xs-12"},i.a.createElement("div",{className:"procedure-img"},i.a.createElement("img",{src:o}))),i.a.createElement("div",{className:"col-xs-12 text-center"},i.a.createElement("div",{className:"procedure-img"},i.a.createElement("img",{src:u})))))))),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock clientLoader clientProfileLoader":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.globalLang.loading_please_wait_text))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return void 0!=e.showLoader&&0==e.showLoader?{showLoader:!1}:void 0!==e.treatmentMarkingData&&200===e.treatmentMarkingData.status&&e.treatmentMarkingData.data!==t.treatmentMarkingData?{treatmentMarkingData:e.treatmentMarkingData.data,showLoader:!1}:null}}]),t}(n.Component);var $f=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData")),a={};return"VIEW_TREATMENT_MARKINGS"===e.TreatmentMarkingReducer.action&&(200!=e.TreatmentMarkingReducer.data.status?(rt.toast.error(t.global[e.TreatmentMarkingReducer.data.message]),a.showLoader=!1):a.treatmentMarkingData=e.TreatmentMarkingReducer.data),a},function(e){return Object(c.bindActionCreators)({viewTreatmentMarkings:Xf},e)})(Zf),eb=Ee.API_URL,tb=Q.a.create();function ab(e,t){return function(a){tb.get(eb+"traceability_info/"+e+"/"+t).then(function(e){a({type:"GET_TRACE_DATA",payload:e.data})}).catch(function(e){a({type:"GET_TRACE_DATA",payload:e.response.data})})}}function sb(e,t,a,s){return function(n){tb.get(eb+"traceability/get_batch/"+t+"/"+e+"/"+a+"/"+s).then(function(e){n({type:"GET_BATCH_BY_PROCEDURE",payload:e.data})}).catch(function(e){n({type:"GET_BATCH_BY_PROCEDURE",payload:e.response.data})})}}function nb(e){return function(t){tb.post(eb+"traceability/get_units",e||"").then(function(e){t({type:"GET_UNITS_BY_INVENTORY",payload:e.data})}).catch(function(e){t({type:"GET_UNITS_BY_INVENTORY",payload:e.response.data})})}}function ib(e){return function(t){tb.post(eb+"traceability/save",e||"").then(function(e){t({type:"SAVE_TRACE",payload:e.data})}).catch(function(e){t({type:"SAVE_TRACE",payload:e.response.data})})}}function rb(e){return function(t){tb.post(eb+"traceability/update",e||"").then(function(e){t({type:"UPDATE_TRACE",payload:e.data})}).catch(function(e){t({type:"UPDATE_TRACE",payload:e.response.data})})}}function ob(e){return function(t){tb.post(eb+"traceability/delete",e||"").then(function(e){t({type:"DELETE_TRACE",payload:e.data})}).catch(function(e){t({type:"DELETE_TRACE",payload:e.response.data})})}}tb.defaults.headers.common["access-token"]=xe(),Xe(),tb.interceptors.response.use(function(e){return void 0!=e.data&&void 0!=e.data.global_settings&&He(e.data.global_settings),Xe(),e},function(e){if(e.response){var t=e.response.data.message;return"invalid_token"!=t&&"session_timeout"!=t&&"server_error"!=t&&"token_not_found"!=t||Oe(),Promise.reject(e)}return{data:{data:"",message:"server_error",status:500}}});var lb=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).componentDidMount=function(){a.setState({showLoader:!0}),a.props.getTraceData(a.state.clientID,a.state.procedureID)},a.componentDidUpdate=function(e,t){null!==a.state.saveTraceStatus&&""!==a.state.saveTraceStatus&&a.state.saveTraceStatus!==t.saveTraceStatus&&(a.props.getTraceData(a.state.clientID,a.state.procedureID),a.setState({showLoader:!0,traceMode:null})),null!==a.state.updateTraceStatus&&""!==a.state.updateTraceStatus&&a.state.updateTraceStatus!==t.updateTraceStatus&&(a.props.getTraceData(a.state.clientID,a.state.procedureID),a.setState({showLoader:!0,traceMode:null})),null!==a.state.deleteTraceStatus&&""!==a.state.deleteTraceStatus&&a.state.deleteTraceStatus!==t.deleteTraceStatus&&(a.props.getTraceData(a.state.clientID,a.state.procedureID),a.setState({showLoader:!0,traceToDelete:0,productToDelete:0,showModal:!1}))},a.handleInputChange=function(e){var t,s=e.target,n="checkbox"===s.type?s.checked:s.value;a.setState((t={},Object(se.a)(t,e.target.name,n),Object(se.a)(t,"dataChanged",!0),t)),"batch_id"===e.target.name&&a.getUnitsByInventory(s.value)},a.addUpdateTraceInfo=function(e,t){if(0==a.state.showTraceSection){var s="";t>0?(s="update",a.setState({showLoader:!0,productForTrace:e,traceMode:s,traceID:t})):(s="add",a.setState({showLoader:!0,productForTrace:e,traceMode:s,traceID:0})),a.props.getBatchByProcedure(e,a.state.procedureID,s,t)}},a.cancelAddEditTrace=function(){a.setState({showTraceSection:!1,traceMode:null,productForTrace:0,batch_id:0,batch_units:0})},a.showDeleteTraceModal=function(e,t){e&&a.setState({traceToDelete:e,productToDelete:t,showModal:!0})},a.dismissModal=function(){a.setState({traceToDelete:0,productToDelete:0,showModal:!1})},a.deleteTraceData=function(){if(a.state.traceToDelete,a.state.productToDelete,a.state.procedureID){var e={procedure_id:a.state.procedureID,product_id:a.state.productToDelete,trace_id:a.state.traceToDelete};a.props.deleteTrace(e)}},a.handleSubmit=function(e){if(e.preventDefault(),a.state.batch_id>0&&a.state.batch_units>0){if(a.state.traceMode&&"add"===a.state.traceMode){var t={inventory_id:a.state.batch_id,units:a.state.batch_units,procedure_id:a.state.procedureID,product_id:a.state.productForTrace};a.props.saveTrace(t)}else{var s={inventory_id:a.state.batch_id,units:a.state.batch_units,procedure_id:a.state.procedureID,product_id:a.state.productForTrace,trace_id:a.state.traceID};a.props.updateTrace(s)}a.setState({showLoader:!0})}else rt.toast.error("Please select Batch ID and Units")},a.getUnitsByInventory=function(e){if(e>0){var t={inventory_id:e,old_trace:a.state.traceID,procedure_id:a.state.procedureID,product_id:a.state.productForTrace};a.props.getUnits(t),a.setState({showLoader:!0})}};var s=JSON.parse(localStorage.getItem("languageData"));return a.state={backURLType:a.props.match.params.actionType?a.props.match.params.actionType:"clients",action:a.props.match.params.type?a.props.match.params.type:"profile",clientID:a.props.match.params.clientID,procedureID:a.props.match.params.procedureID,globalLang:s.global,showLoader:!1,traceData:[],showTraceSection:!1,productForTrace:0,traceToDelete:0,productToDelete:0,traceMode:null,batchData:[],dataChanged:!1,batch_id:0,batch_units:0,unitData:[],traceID:0,saveTraceStatus:null,updateTraceStatus:null,deleteTraceStatus:null},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"render",value:function(){var e=this,t="",a="",s="";return t=this.state.backURLType&&"clients"===this.state.backURLType?this.props.match.params.type?"/"+this.state.backURLType+"/"+this.props.match.params.type+"/"+this.props.match.params.clientID:"/"+this.state.backURLType:this.props.match.params.type?"/"+this.state.backURLType+"/"+this.props.match.params.type+"/"+this.props.match.params.procedureID+"/"+this.props.match.params.subType:"/"+this.state.backURLType+"/"+this.props.match.params.subType,void 0!==this.state.batchData&&this.state.batchData.length>0&&(a=this.state.batchData.map(function(e,t){return i.a.createElement("option",{key:t,value:e.id},e.batch_id)})),void 0!==this.state.unitData&&this.state.unitData.length>0&&(s=this.state.unitData.map(function(e,t){return i.a.createElement("option",{key:t,value:e},e)})),i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement("div",{className:"juvly-section full-width m-t-15"},i.a.createElement("div",{className:"juvly-container"},i.a.createElement("div",{className:"juvly-title m-b-0"},"Traceability Info",i.a.createElement(me.a,{to:t,className:"pull-right"},i.a.createElement("img",{src:Fm.a})))),void 0!==this.state.traceData.injections&&null!==this.state.traceData.injections&&this.state.traceData.injections.length>0&&this.state.traceData.injections.map(function(t,n){var r=0,o="new-blue-btn pull-right trac-info-btn";return void 0!==t.trace_injection&&null!==t.trace_injection&&t.trace_injection.length>0&&(t.trace_injection.map(function(e,t){r+=e.units_consumed}),Ie(t.quantity,"decimal")===Ie(r,"decimal")&&(o="new-blue-btn pull-right trac-info-btn disable")),"add"===e.state.traceMode&&e.state.productForTrace===t.product.id&&(o="new-blue-btn pull-right trac-info-btn no-display"),i.a.createElement("div",{key:n,className:"Traceability-section"},i.a.createElement("div",{className:"juvly-container"},i.a.createElement("div",{className:"juvly-subtitle no-margin"},++n," - ",t.product?t.product.product_name:""," ",t.quantity?Ie(t.quantity,"decimal"):""," ",e.state.toxinTypes&&t.product?e.state.toxinTypes[t.product.toxin_type]:"",-1===o.indexOf("disable")?i.a.createElement("a",{onClick:function(){return e.addUpdateTraceInfo(t.product.id,0)},className:o},"Add Traceability Info"):i.a.createElement("a",{className:o},"Add Traceability Info"))),i.a.createElement("div",{className:"table-responsive"},i.a.createElement("table",{className:"table-updated juvly-table no-hover"},i.a.createElement("thead",{className:"table-updated-thead"},i.a.createElement("tr",null,i.a.createElement("th",{className:"col-xs-2 table-updated-th"},"Batch ID"),i.a.createElement("th",{className:"col-xs-2 table-updated-th"},"Expiration"),i.a.createElement("th",{className:"col-xs-2 table-updated-th"},"Units"),i.a.createElement("th",{className:"col-xs-2 table-updated-th"},"Price"),i.a.createElement("th",{className:"col-xs-2 table-updated-th"},"Actions"))),i.a.createElement("tbody",null,void 0!==t.trace_injection&&null!==t.trace_injection&&t.trace_injection.length>0&&t.trace_injection.map(function(a,s){return i.a.createElement("tr",{key:s,className:"table-updated-tr"},i.a.createElement("td",{className:"table-updated-td"},a.product_inventory?a.product_inventory.batch_id:""),i.a.createElement("td",{className:"table-updated-td"},a.product_inventory?a.product_inventory.expiry_date:""),i.a.createElement("td",{className:"table-updated-td"},a.units_consumed?Ie(a.units_consumed,"decimal"):""),i.a.createElement("td",{className:"table-updated-td"},a.price?Ie(a.price,"currency"):""),i.a.createElement("td",{className:"table-updated-td"},i.a.createElement("a",{onClick:function(){return e.addUpdateTraceInfo(t.product.id,a.id)},className:"easy-link"},"Edit"),i.a.createElement("a",{onClick:function(){return e.showDeleteTraceModal(a.id,t.product.id)},className:"easy-link"},"Delete")))}),i.a.createElement("tr",{className:void 0===t.trace_injection||0===t.trace_injection.length?"table-updated-tr":"table-updated-tr no-display"},i.a.createElement("td",{colSpan:"5",className:"text-center"},"No record found")),i.a.createElement("tr",{className:e.state.showTraceSection&&e.state.productForTrace===t.product.id?"table-updated-tr editQuestion_tr":"table-updated-tr editQuestion_tr no-display"},i.a.createElement("td",{colSpan:"5"},i.a.createElement("div",{className:"setting-container bg-light-blue"},i.a.createElement("div",{className:"setting-title m-b-40"},e.state.traceMode&&"add"===e.state.traceMode?"Add Traceability Info":"Edit Traceability Info",i.a.createElement("a",{onClick:function(){return e.cancelAddEditTrace()},className:"pull-right cancel_editAction"},i.a.createElement("img",{src:Fm.a}))),i.a.createElement("form",{onSubmit:e.handleSubmit},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-lg-2 col-md-3 col-sm-4 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer no-ques-margin"},i.a.createElement("div",{className:"new-field-label"},"Batch ID"),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("select",{className:"setting-select-box",name:"batch_id",onChange:e.handleInputChange,value:e.state.batch_id},i.a.createElement("option",{value:"0"},"Select"),a)))),i.a.createElement("div",{className:"col-lg-1 col-md-2 col-sm-3 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Units"),i.a.createElement("div",{className:"setting-input-outer"},i.a.createElement("select",{className:"setting-select-box",name:"batch_units",onChange:e.handleInputChange,value:e.state.batch_units},i.a.createElement("option",{value:"0"},"Select"),s)))),i.a.createElement("div",{className:"col-sm-12"},i.a.createElement("a",{onClick:function(){return e.cancelAddEditTrace()},className:"new-white-btn cancel_editAction"},"Cancel"),i.a.createElement("input",{className:"new-blue-btn",type:"submit",id:"save-profile",value:e.state.traceMode&&"add"===e.state.traceMode?"Add":"Update"})))))))))))}),i.a.createElement("div",{className:!0===this.state.showModal?"overlay":""}),i.a.createElement("div",{id:"filterModal",role:"dialog",className:!0===this.state.showModal?"modal fade in displayBlock":"modal fade no-display"},i.a.createElement("div",{className:"modal-dialog"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal",onClick:this.dismissModal},"\xd7"),i.a.createElement("h4",{className:"modal-title"},"Confirmation required!")),i.a.createElement("div",{id:"errorwindow",className:"modal-body add-patient-form filter-patient"},"Are you sure you want to delete this trace info?"),i.a.createElement("div",{className:"modal-footer"},i.a.createElement("div",{className:"col-md-12 text-left"},i.a.createElement("button",{type:"button",className:"btn  logout pull-right","data-dismiss":"modal",onClick:this.dismissModal},"No"),i.a.createElement("button",{type:"button",className:"btn btn-success pull-right m-r-10","data-dismiss":"modal",onClick:this.deleteTraceData},"Yes")))))),i.a.createElement("div",{className:void 0===this.state.traceData.injections||0===this.state.traceData.injections.length?"no-record":"no-record no-display"},"No injection found"))),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock clientLoader clientProfileLoader":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.globalLang.loading_please_wait_text))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return void 0!=e.showLoader&&0==e.showLoader?{showLoader:!1}:void 0!==e.traceData&&200===e.traceData.status&&e.traceData.data!==t.traceData?{traceData:e.traceData.data,showLoader:!1,toxinTypes:e.traceData.data.toxin_types,showTraceSection:!1}:void 0!==e.batchData&&200===e.batchData.status&&e.batchData.data.batch_data!==t.batchData?e.batchData.data.batch_data.length?{batchData:e.batchData.data.batch_data,batch_id:e.batchData.data.selected_batch,batch_units:e.batchData.data.selected_unit,unitData:e.batchData.data.unit_data,showLoader:!1,showTraceSection:!0}:(rt.toast.dismiss(),rt.toast.error("No data found"),{batchData:e.batchData.data.batch_data,showLoader:!1,traceMode:null}):void 0!==e.unitData&&200===e.unitData.status&&e.unitData.data!==t.unitData?{unitData:e.unitData.data,showLoader:!1}:void 0!==e.saveTraceData&&null!==e.saveTraceData&&200===e.saveTraceData.status&&e.saveTraceData.data!==t.saveTraceData?{saveTraceData:e.saveTraceData.data,saveTraceStatus:e.saveTraceData.data}:void 0!==e.updateTraceData&&null!==e.updateTraceData&&200===e.updateTraceData.status&&e.updateTraceData.data!==t.updateTraceData?{updateTraceData:e.updateTraceData.data,updateTraceStatus:e.updateTraceData.data}:void 0!==e.deleteTraceData&&null!==e.deleteTraceData&&200===e.deleteTraceData.status&&e.deleteTraceData.data!==t.deleteTraceData?{deleteTraceData:e.deleteTraceData.data,deleteTraceStatus:e.deleteTraceData.data}:null}}]),t}(n.Component);var cb=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData")),a={};return"GET_TRACE_DATA"===e.TraceReducer.action&&(200!==e.TraceReducer.data.status?(rt.toast.error(t.global[e.TraceReducer.data.message]),a.showLoader=!1):a.traceData=e.TraceReducer.data),"GET_BATCH_BY_PROCEDURE"===e.TraceReducer.action&&(200!==e.TraceReducer.data.status?(rt.toast.error(t.global[e.TraceReducer.data.message]),a.showLoader=!1):a.batchData=e.TraceReducer.data),"GET_UNITS_BY_INVENTORY"===e.TraceReducer.action&&(200!==e.TraceReducer.data.status?(rt.toast.error(t.global[e.TraceReducer.data.message]),a.showLoader=!1):a.unitData=e.TraceReducer.data),"SAVE_TRACE"===e.TraceReducer.action&&(200!==e.TraceReducer.data.status?(rt.toast.error(t.global[e.TraceReducer.data.message]),a.showLoader=!1):(rt.toast.success(t.global[e.TraceReducer.data.message]),a.saveTraceData=e.TraceReducer.data)),"UPDATE_TRACE"===e.TraceReducer.action&&(200!==e.TraceReducer.data.status?(rt.toast.error(t.global[e.TraceReducer.data.message]),a.showLoader=!1):(rt.toast.success(t.global[e.TraceReducer.data.message]),a.updateTraceData=e.TraceReducer.data)),"DELETE_TRACE"===e.TraceReducer.action&&(200!==e.TraceReducer.data.status?(rt.toast.error(t.global[e.TraceReducer.data.message]),a.showLoader=!1):(rt.toast.success(t.global[e.TraceReducer.data.message]),a.deleteTraceData=e.TraceReducer.data)),a},function(e){return Object(c.bindActionCreators)({getTraceData:ab,getBatchByProcedure:sb,getUnits:nb,saveTrace:ib,updateTrace:rb,deleteTrace:ob},e)})(lb),db=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).openAppointment=function(e){var t=e.status?e.status:"";t&&"noshow"!==t&&"canceled"!==t&&e.id&&window.open("/appointment/view/"+e.id)};var s=JSON.parse(localStorage.getItem("languageData"));return a.state={backURLType:a.props.match.params.actionType?a.props.match.params.actionType:"clients",action:a.props.match.params.type?a.props.match.params.type:"profile",showLoader:!1,globalLang:s.global,clientID:a.props.match.params.clientID,clientData:[],dataChanged:!1},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){this.setState({showLoader:!0}),this.state.clientScopes="upcomingAppointments",this.props.getClientDetail(this.state.clientID,this.state.clientScopes)}},{key:"render",value:function(){var e=this,t="";return this.state.backURLType&&"clients"===this.state.backURLType&&(t=this.props.match.params.type?"/"+this.state.backURLType+"/"+this.props.match.params.type+"/"+this.props.match.params.clientID:"/"+this.state.backURLType),i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement("div",{className:"juvly-section full-width m-t-15"},i.a.createElement("div",{className:"juvly-container"},i.a.createElement("div",{className:"juvly-title no-margin"},"Upcoming Appointments",i.a.createElement(me.a,{to:t,className:"pull-right"},i.a.createElement("img",{src:"../../../../images/close.png"})))),i.a.createElement("div",{className:"table-responsive"},i.a.createElement("table",{className:"table-updated juvly-table table-min-width no-hover"},i.a.createElement("thead",{className:"table-updated-thead"},i.a.createElement("tr",null,i.a.createElement("th",{className:"col-xs-2 table-updated-th"},"Status"),i.a.createElement("th",{className:"col-xs-2 table-updated-th"},"Service name"),i.a.createElement("th",{className:"col-xs-2 table-updated-th"},"Provider name"),i.a.createElement("th",{className:"col-xs-3 table-updated-th"},"Clinic"),i.a.createElement("th",{className:"col-xs-3 table-updated-th"},"Notes"),i.a.createElement("th",{className:"col-xs-3 table-updated-th"},"Date"))),i.a.createElement("tbody",{className:"ajax_body"},void 0!==this.state.clientData&&void 0!==this.state.clientData.upcoming_appointments&&null!==this.state.clientData.upcoming_appointments&&this.state.clientData.upcoming_appointments.length>0&&this.state.clientData.upcoming_appointments.map(function(t,a){var s="";"Upcoming"===t.display_status?s="payment-Succeeded":"Cancelled"===t.display_status?s="payment-transit":"No Show"===t.display_status&&(s="payment-failed");var n=[];return void 0!==t.appointment_services&&null!==t.appointment_services&&t.appointment_services.length>0&&t.appointment_services.map(function(e,t){n.push(e.service.name)}),i.a.createElement("tr",{key:a,className:"table-updated-tr",onClick:function(){return e.openAppointment(t)}},i.a.createElement("td",{className:"table-updated-td"},i.a.createElement("div",{className:s},je(t.display_status))),i.a.createElement("td",{className:"table-updated-td"},n.join(", ")),i.a.createElement("td",{className:"table-updated-td"},void 0!==t.provider&&null!==t.provider?je(t.provider.firstname)+" "+je(t.provider.lastname):""),i.a.createElement("td",{className:"table-updated-td"},void 0!==t.clinic&&null!==t.clinic?t.clinic.clinic_name:""),i.a.createElement("td",{className:"table-updated-td"},t.appointment_note?t.appointment_note.appointment_notes:""),i.a.createElement("td",{className:"table-updated-td"},t.appointment_datetime?t.appointment_datetime.split(" ")[0]:""," ",t.appointment_start_on?t.appointment_start_on:""," to ",t.appointment_endtime?t.appointment_endtime:""))}),i.a.createElement("tr",{className:void 0===this.state.clientData.upcoming_appointments||0===this.state.clientData.upcoming_appointments.length?"table-updated-tr":"table-updated-tr no-display"},i.a.createElement("td",{colSpan:"5",className:"text-center"},"No record found"))))))),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock clientLoader clientProfileLoader":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.globalLang.loading_please_wait_text))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return void 0!=e.showLoader&&0==e.showLoader?{showLoader:!1}:void 0!==e.clientData&&200===e.clientData.status&&e.clientData.data!==t.clientData?{clientData:e.clientData.data,showLoader:!1}:null}}]),t}(n.Component);var mb=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData")),a={};return"GET_CLIENT_DETAIL"===e.ClientsReducer.action&&(200!==e.ClientsReducer.data.status?(rt.toast.error(t.global[e.ClientsReducer.data.message]),a.showLoader=!1):a.clientData=e.ClientsReducer.data),a},function(e){return Object(c.bindActionCreators)({getClientDetail:ks},e)})(db),ub=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).componentDidUpdate=function(e,t){null!==a.state.updateStatus&&""!==a.state.updateStatus&&a.state.updateStatus!==t.updateStatus&&(a.props.getClientDetail(a.state.clientID,a.state.clientScopes),a.setState({showLoader:!0}))},a.handleInputChange=function(e){var t,s=e.target,n="checkbox"===s.type?s.checked:s.value;a.setState((t={},Object(se.a)(t,e.target.name,n),Object(se.a)(t,"dataChanged",!0),t))},a.handleSubmit=function(e){e.preventDefault();var t={medical_history:[]};t.medical_history.push({major_events:a.state.major_events,smoking_status:a.state.smoking_status,ongoing_medical_problems:a.state.ongoing_medical_problems,social_history:a.state.social_history,family_health_history:a.state.family_health_history,nutrition_history:a.state.nutrition_history,preventive_care:a.state.preventive_care,development_history:a.state.development_history,drug_allergies:a.state.drug_allergies,environmental_allergies:a.state.environmental_allergies,food_allergies:a.state.food_allergies,patient_id:a.state.clientID}),a.setState({showLoader:!0}),a.props.updateMedicalHistory(t)};var s=JSON.parse(localStorage.getItem("languageData"));return a.state={backURLType:a.props.match.params.actionType?a.props.match.params.actionType:"clients",action:a.props.match.params.type?a.props.match.params.type:"profile",showLoader:!1,globalLang:s.global,clientID:a.props.match.params.clientID,clientData:[],dataChanged:!1,updateStatus:null},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){this.setState({showLoader:!0}),this.state.clientScopes="medicalHistory",this.props.getClientDetail(this.state.clientID,this.state.clientScopes)}},{key:"render",value:function(){var e="",t="";return this.state.backURLType&&"clients"===this.state.backURLType&&(e=this.props.match.params.type?"/"+this.state.backURLType+"/"+this.props.match.params.type+"/"+this.props.match.params.clientID:"/"+this.state.backURLType),void 0!==this.state.clientData&&(this.state.clientData.firstname&&(t+=this.state.clientData.firstname),this.state.clientData.lastname&&(t+=" "+this.state.clientData.lastname),t+=" - Medical History"),i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("div",{className:"juvly-section full-width m-t-15"},i.a.createElement("div",{className:"juvly-container"},i.a.createElement("div",{className:"juvly-title m-b-30"},t,i.a.createElement(me.a,{to:e,className:"pull-right"},i.a.createElement("img",{src:"../../../../images/close.png"}))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Major Events"),i.a.createElement("textarea",{className:"setting-textarea-box",cols:"30",rows:"4",onChange:this.handleInputChange,value:void 0!==this.state.clientData&&void 0!==this.state.major_events?this.state.major_events:"",name:"major_events"}))),i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Smoking Status"),i.a.createElement("textarea",{className:"setting-textarea-box",cols:"30",rows:"4",onChange:this.handleInputChange,value:void 0!==this.state.clientData&&void 0!==this.state.smoking_status?this.state.smoking_status:"",name:"smoking_status"}))),i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Ongoing Medical Problems"),i.a.createElement("textarea",{className:"setting-textarea-box",cols:"30",rows:"4",onChange:this.handleInputChange,value:void 0!==this.state.clientData&&void 0!==this.state.ongoing_medical_problems?this.state.ongoing_medical_problems:"",name:"ongoing_medical_problems"}))),i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Social History"),i.a.createElement("textarea",{className:"setting-textarea-box",cols:"30",rows:"4",onChange:this.handleInputChange,value:void 0!==this.state.clientData&&void 0!==this.state.social_history?this.state.social_history:"",name:"social_history"}))),i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Family Health History"),i.a.createElement("textarea",{className:"setting-textarea-box",cols:"30",rows:"4",onChange:this.handleInputChange,value:void 0!==this.state.clientData&&void 0!==this.state.family_health_history?this.state.family_health_history:"",name:"family_health_history"}))),i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Nutritions History"),i.a.createElement("textarea",{className:"setting-textarea-box",cols:"30",rows:"4",onChange:this.handleInputChange,value:void 0!==this.state.clientData&&void 0!==this.state.nutrition_history?this.state.nutrition_history:"",name:"nutrition_history"}))),i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Preventive Care"),i.a.createElement("textarea",{className:"setting-textarea-box",cols:"30",rows:"4",onChange:this.handleInputChange,value:void 0!==this.state.clientData&&void 0!==this.state.preventive_care?this.state.preventive_care:"",name:"preventive_care"}))),i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Development History"),i.a.createElement("textarea",{className:"setting-textarea-box",cols:"30",rows:"4",onChange:this.handleInputChange,value:void 0!==this.state.clientData&&void 0!==this.state.development_history?this.state.development_history:"",name:"development_history"})))),i.a.createElement("div",{className:"juvly-subtitle"},"Allergies"),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Drug Allergies"),i.a.createElement("textarea",{className:"setting-textarea-box",cols:"30",rows:"4",onChange:this.handleInputChange,value:void 0!==this.state.clientData&&void 0!==this.state.drug_allergies?this.state.drug_allergies:"",name:"drug_allergies"}))),i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Environmental Allergies"),i.a.createElement("textarea",{className:"setting-textarea-box",cols:"30",rows:"4",onChange:this.handleInputChange,value:void 0!==this.state.clientData&&void 0!==this.state.environmental_allergies?this.state.environmental_allergies:"",name:"environmental_allergies"}))),i.a.createElement("div",{className:"col-sm-6 col-xs-12"},i.a.createElement("div",{className:"setting-field-outer"},i.a.createElement("div",{className:"new-field-label"},"Food Allergies"),i.a.createElement("textarea",{className:"setting-textarea-box",cols:"30",rows:"4",onChange:this.handleInputChange,value:void 0!==this.state.clientData&&void 0!==this.state.food_allergies?this.state.food_allergies:"",name:"food_allergies"}))))),i.a.createElement("div",{className:"footer-static"},i.a.createElement("input",{className:"new-blue-btn pull-right",type:"submit",value:"Save"}),i.a.createElement(me.a,{to:e,className:"new-white-btn pull-right cancelAction"},"Cancel"))))),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock clientLoader clientProfileLoader":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.globalLang.loading_please_wait_text))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return void 0!==e.clientData&&200===e.clientData.status&&e.clientData.data!==t.clientData?{clientData:t.dataChanged?t.clientData:e.clientData.data,showLoader:!1,major_events:t.dataChanged?t.major_events:e.clientData.data.medical_history?e.clientData.data.medical_history.major_events:"",smoking_status:t.dataChanged?t.smoking_status:e.clientData.data.medical_history?e.clientData.data.medical_history.smoking_status:"",ongoing_medical_problems:t.dataChanged?t.ongoing_medical_problems:e.clientData.data.medical_history?e.clientData.data.medical_history.ongoing_medical_problems:"",social_history:t.dataChanged?t.social_history:e.clientData.data.medical_history?e.clientData.data.medical_history.social_history:"",family_health_history:t.dataChanged?t.family_health_history:e.clientData.data.medical_history?e.clientData.data.medical_history.family_health_history:"",nutrition_history:t.dataChanged?t.nutrition_history:e.clientData.data.medical_history?e.clientData.data.medical_history.nutrition_history:"",preventive_care:t.dataChanged?t.preventive_care:e.clientData.data.medical_history?e.clientData.data.medical_history.preventive_care:"",development_history:t.dataChanged?t.development_history:e.clientData.data.medical_history?e.clientData.data.medical_history.development_history:"",drug_allergies:t.dataChanged?t.drug_allergies:e.clientData.data.medical_history?e.clientData.data.medical_history.drug_allergies:"",environmental_allergies:t.dataChanged?t.environmental_allergies:e.clientData.data.medical_history?e.clientData.data.medical_history.environmental_allergies:"",food_allergies:t.dataChanged?t.food_allergies:e.clientData.data.medical_history?e.clientData.data.medical_history.food_allergies:""}:void 0!==e.updateData&&null!==e.updateData&&200===e.updateData.status&&e.updateData.data!==t.updateData?{updateData:e.updateData.data,updateStatus:e.updateData.data}:null}}]),t}(n.Component);var pb=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData")),a={};return"GET_CLIENT_DETAIL"===e.ClientsReducer.action&&(200!==e.ClientsReducer.data.status?rt.toast.error(t.global[e.ClientsReducer.data.message]):a.clientData=e.ClientsReducer.data),"UPDATE_MEDICAL_HISTORY"===e.ClientsReducer.action&&(200!==e.ClientsReducer.data.status?rt.toast.error(t.global[e.ClientsReducer.data.message]):(a.updateData=e.ClientsReducer.data,rt.toast.success(t.global[e.ClientsReducer.data.message]))),a},function(e){return Object(c.bindActionCreators)({getClientDetail:ks,updateMedicalHistory:Bs},e)})(ub),hb=function(e){function t(e){var a;Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).changeTab=function(e){var t="";t=e&&"invoices"===e?"posInvoice":"cancelationChargeHistory",a.props.history.push("/".concat(a.state.backURLType,"/payment-history/").concat(a.props.match.params.clientID,"/").concat(a.props.match.params.type,"/").concat(e)),a.setState({showLoader:!0,tabType:e,clientScopes:t}),a.props.getClientDetail(a.state.clientID,t)},a.getInvoiceDetails=function(e){return i.a.createElement("div",null,a.props.history.push("/clients/invoice/".concat(e,"/").concat(a.state.clientID,"/payment-history")))},a.issueRefund=function(e){console.log(e),e&&a.setState({apptTransactionID:e,showModal:!0})},a.dismissModal=function(){a.setState({apptTransactionID:0,showModal:!1})},a.handleModalAction=function(){if(a.state.apptTransactionID&&a.state.clientID){var e={trans_id:a.state.apptTransactionID,patient_id:a.state.clientID};a.setState({showLoader:!0,showModal:!1}),a.props.refundFees(e)}},a.componentDidUpdate=function(e,t){null!==a.state.refundFeeData&&""!==a.state.refundFeeData&&a.state.refundFeeData!==t.refundFeeData&&null!==a.state.refundFeeStatus&&""!==a.state.refundFeeStatus&&(a.setState({showLoader:!0}),a.state.clientScopes="invoices"===a.props.match.params.tabType?"posInvoice":"cancelationChargeHistory",a.props.getClientDetail(a.state.clientID,a.state.clientScopes))};var s=JSON.parse(localStorage.getItem("languageData"));return a.state={backURLType:a.props.match.params.actionType?a.props.match.params.actionType:"clients",action:a.props.match.params.type?a.props.match.params.type:"profile",showLoader:!1,globalLang:s.global,clientID:a.props.match.params.clientID,clientData:[],dataChanged:!1,tabType:a.props.match.params.tabType?a.props.match.params.tabType:"invoices",apptTransactionID:0,showModal:!1},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){this.setState({showLoader:!0}),this.state.clientScopes="invoices"===this.props.match.params.tabType?"posInvoice":"cancelationChargeHistory",this.props.getClientDetail(this.state.clientID,this.state.clientScopes)}},{key:"render",value:function(){var e=this,t="";this.state.backURLType&&"clients"===this.state.backURLType&&(t=this.props.match.params.type?"/"+this.state.backURLType+"/"+this.props.match.params.type+"/"+this.props.match.params.clientID:"/"+this.state.backURLType);var a=this.state.clientData?Me(this.state.clientData):"";return i.a.createElement("div",{id:"content"},i.a.createElement("div",{className:"container-fluid content setting-wrapper"},i.a.createElement("div",{className:"juvly-section full-width m-t-15"},i.a.createElement("div",{className:"juvly-container"},!1===this.state.showLoader&&i.a.createElement("div",{className:"juvly-title no-margin"},a," - Payment History",i.a.createElement(me.a,{to:t,className:"pull-right"},i.a.createElement("img",{src:"../../../../images/close.png"})))),i.a.createElement("ul",{className:"sub-menus activity-menu"},void 0!==this.state.clientData&&i.a.createElement("div",{className:"sales-relation"},i.a.createElement("label",null,"Total sale relationship : ")," ",Ie(this.state.clientData.total_sale_relationship,"currency")),i.a.createElement("li",{className:"invoices"===this.state.tabType?"active":""},i.a.createElement("a",{onClick:function(){return e.changeTab("invoices")}},"Invoices")),i.a.createElement("li",{className:"cancellation_charges"===this.state.tabType?"active":""},i.a.createElement("a",{onClick:function(){return e.changeTab("cancellation_charges")}},"Cancelation Charges"))),i.a.createElement("div",{className:!0===this.state.showModal?"overlay":""}),i.a.createElement("div",{id:"filterModal",role:"dialog",className:!0===this.state.showModal?"modal fade in displayBlock":"modal fade no-display"},i.a.createElement("div",{className:"modal-dialog"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal",onClick:this.dismissModal},"\xd7"),i.a.createElement("h4",{className:"modal-title"},"Confirmation required!")),i.a.createElement("div",{id:"errorwindow",className:"modal-body add-patient-form filter-patient"},"Are you sure you want to refund cancelation fee?"),i.a.createElement("div",{className:"modal-footer"},i.a.createElement("div",{className:"col-md-12 text-left"},i.a.createElement("button",{type:"button",className:"btn  logout pull-right","data-dismiss":"modal",onClick:this.dismissModal},"No"),i.a.createElement("button",{type:"button",className:"btn btn-success pull-right m-r-10","data-dismiss":"modal",onClick:this.handleModalAction},"Yes")))))),i.a.createElement("div",{className:"table-responsive"},i.a.createElement("table",{className:this.state.tabType&&"invoices"===this.state.tabType?"table-updated juvly-table table-min-width":"table-updated juvly-table table-min-width no-display"},i.a.createElement("thead",{className:"table-updated-thead"},i.a.createElement("tr",null,i.a.createElement("th",{className:"col-xs-1 table-updated-th"},"Invoice Number"),i.a.createElement("th",{className:"col-xs-2 table-updated-th"},"Procedure Name"),i.a.createElement("th",{className:"col-xs-2 table-updated-th"},"Procedure Date"),i.a.createElement("th",{className:"col-xs-1 table-updated-th"},"Total Amount"),i.a.createElement("th",{className:"col-xs-1 table-updated-th"},"Payment Mode"),i.a.createElement("th",{className:"col-xs-1 table-updated-th"},"Payment Status"),i.a.createElement("th",{className:"col-xs-2 table-updated-th"},"Charged On"))),i.a.createElement("tbody",{className:"ajax_body"},void 0!==this.state.clientData&&void 0!==this.state.clientData.pos_invoice&&null!==this.state.clientData.pos_invoice&&this.state.clientData.pos_invoice.length>0&&this.state.clientData.pos_invoice.map(function(t,a){var s="",n="";return t.pos_transaction&&null!==t.pos_transaction&&void 0!==t.pos_transaction&&(s="cc"===t.pos_transaction.payment_mode?"Credit card":"care_credit"===t.pos_transaction.payment_mode?"Care Credit":je(t.pos_transaction.payment_mode)),t.invoice_status&&void 0!==t.invoice_status&&(n="refunded"===t.invoice_status?"Void":je(t.invoice_status)),i.a.createElement("tr",{key:a,className:"table-updated-tr",onClick:e.getInvoiceDetails.bind(e,t.id)},i.a.createElement("td",{className:"table-updated-td"},t.invoice_number),i.a.createElement("td",{className:"table-updated-td"},t.procedure&&null!==t.procedure?t.procedure.procedure_name:""),i.a.createElement("td",{className:"table-updated-td"},t.procedure&&null!==t.procedure?Be(t.procedure.procedure_date,!0):""),i.a.createElement("td",{className:"table-updated-td"},t.total_amount?Ie(t.total_amount,"currency"):Ie(0,"currency")),i.a.createElement("td",{className:"table-updated-td"},s),i.a.createElement("td",{className:"table-updated-td"},n),i.a.createElement("td",{className:"table-updated-td"},t.payment_datetime?Be(t.payment_datetime,!0):""))}),i.a.createElement("tr",{className:void 0===this.state.clientData.pos_invoice||0===this.state.clientData.pos_invoice.length&&this.state.tabType?"table-updated-tr":"table-updated-tr no-display"},i.a.createElement("td",{colSpan:"7",className:"text-center"},"No record found")))),i.a.createElement("table",{className:this.state.tabType&&"cancellation_charges"===this.state.tabType?"table-updated juvly-table table-min-width":"table-updated juvly-table table-min-width no-display"},i.a.createElement("thead",{className:"table-updated-thead"},i.a.createElement("tr",null,i.a.createElement("th",{className:"col-xs-2 table-updated-th"},"Appointment Date"),i.a.createElement("th",{className:"col-xs-2 table-updated-th"},"Clinic"),i.a.createElement("th",{className:"col-xs-2 table-updated-th"},"Provider"),i.a.createElement("th",{className:"col-xs-2 table-updated-th"},"Services"),i.a.createElement("th",{className:"col-xs-1 table-updated-th"},"Status"),i.a.createElement("th",{className:"col-xs-1 table-updated-th"},"Charges"),i.a.createElement("th",{className:"col-xs-2 table-updated-th"},"Charged On"),i.a.createElement("th",{className:"col-xs-2 table-updated-th"}))),i.a.createElement("tbody",{className:"ajax_body"},void 0!==this.state.clientData&&void 0!==this.state.clientData.cancelation_charge_history&&null!==this.state.clientData.cancelation_charge_history&&this.state.clientData.cancelation_charge_history.length>0&&this.state.clientData.cancelation_charge_history.map(function(t,a){var s=[];return t.appointment_services&&t.appointment_services.length>0&&t.appointment_services.map(function(e,t){e.service&&s.push(je(e.service.name))}),i.a.createElement("tr",{key:a,className:"table-updated-tr"},i.a.createElement("td",{className:"table-updated-td"},t.appointment_datetime&&null!==t.appointment_datetime?t.appointment_datetime:""),i.a.createElement("td",{className:"table-updated-td"},t.clinic_name&&null!==t.clinic_name?je(t.clinic_name):""),i.a.createElement("td",{className:"table-updated-td"},t.provider_name&&null!==t.provider_name?je(t.provider_name):""),i.a.createElement("td",{className:"table-updated-td"},s.join(", ")),i.a.createElement("td",{className:"table-updated-td"},t.appointment_status&&null!==t.appointment_status?je(t.appointment_status):""),i.a.createElement("td",{className:"table-updated-td"},t.cancellation_fee&&null!==t.cancellation_fee?Ie(t.cancellation_fee,"currency"):""),i.a.createElement("td",{className:"table-updated-td"},t.charged_on&&null!==t.charged_on?t.charged_on:""),i.a.createElement("td",{className:"table-updated-td"},t.appointment_status&&"charged"===t.appointment_status&&i.a.createElement("a",{className:e.state.apptTransactionID!==t.appointment_transaction_id?"line-btn":"line-btn no-display",onClick:function(){return e.issueRefund(t.appointment_transaction_id)}},"Refund")))}),i.a.createElement("tr",{className:void 0===this.state.clientData.cancelation_charge_history||0===this.state.clientData.cancelation_charge_history.length?"table-updated-tr":"table-updated-tr no-display"},i.a.createElement("td",{colSpan:"8",className:"text-center"},"No record found"))))))),i.a.createElement("div",{className:this.state.showLoader?"new-loader text-left displayBlock clientLoader clientProfileLoader":"new-loader text-left"},i.a.createElement("div",{className:"loader-outer"},i.a.createElement("img",{id:"loader-outer",src:"/images/Eclipse.gif",className:"loader-img"}),i.a.createElement("div",{id:"modal-confirm-text",className:"popup-subtitle"},this.state.globalLang.loading_please_wait_text))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return void 0!==e.clientData&&200===e.clientData.status&&e.clientData.data!==t.clientData?{clientData:e.clientData.data,showLoader:!1,showModal:!1}:void 0!==e.refundFeeData&&200===e.refundFeeData.status&&e.refundFeeData.data!==t.refundFeeData?{refundFeeData:e.refundFeeData.data,showLoader:!1,refundFeeStatus:e.refundFeeData.data,apptTransactionID:0}:void 0!==e.refundFeeData&&200!==e.refundFeeData.status&&e.refundFeeData.data!==t.refundFeeData?{refundFeeData:e.refundFeeData.data,showLoader:!1,refundFeeStatus:"",apptTransactionID:0}:null}}]),t}(n.Component);var gb=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData")),a={};return"GET_CLIENT_DETAIL"===e.ClientsReducer.action&&(200!==e.ClientsReducer.data.status?rt.toast.error(t.global[e.ClientsReducer.data.message]):a.clientData=e.ClientsReducer.data),"REFUND_FEES"===e.ClientsReducer.action&&(200!==e.ClientsReducer.data.status?(rt.toast.error(t.global[e.ClientsReducer.data.message]),a.refundFeeData=e.ClientsReducer.data):(rt.toast.success(t.global[e.ClientsReducer.data.message]),a.refundFeeData=e.ClientsReducer.data)),a},function(e){return Object(c.bindActionCreators)({getClientDetail:ks,refundFees:on},e)})(hb),_b=Q.a.create();_b.defaults.headers.common["access-token"]=xe();var vb=Qe(),fb="",bb=function(e){return function(t){return function(a){function s(t){var a;Object(ne.a)(this,s),(a=Object(re.a)(this,Object(oe.a)(s).call(this,t))).changeRoute=function(){return vb&&vb!=fb?i.a.createElement("div",null,a.props.history.push(vb)):null},fb=t.location.pathname,vb=Qe(),De()||a.props.history.push("/login"),_b.get(Ee.API_URL+"check-valid-token").then(function(e){}).catch(function(e){var t=e.response.data.message;"invalid_token"!=t&&"session_timeout"!=t&&"server_error"!=t&&"token_not_found"!=t||Oe()});var n=e[e.length-1],r=JSON.parse(localStorage.getItem("languageData")),o=JSON.parse(localStorage.getItem("userData"));a.state=localStorage.getItem("globalPrivileges")?{permissions:JSON.parse(localStorage.getItem("globalPrivileges")).permissions,currentUserRole:localStorage.getItem("currentUserRole"),userData:JSON.parse(localStorage.getItem("userData")),languageData:r,languageEndpoint:n}:{permissions:{},roles:{}},null!==r&&void 0!==r&&null!==r[n]&&void 0!==r[n]&&""!==r[n]||_b.get(Ee.API_URL+"getLanguageText/1/"+n).then(function(e){r[n]=e.data.data[n],localStorage.setItem("languageData",JSON.stringify(r)),a.setState({languageData:r,languageEndpoint:n})}).catch(function(e){}),window.intercomSettings={app_id:"jmcvijnb",name:Me(o.user),email:o.user.email,created_at:o.user.created,user_id:o.user.id,user_hash:o.user.intercom_hash},function(){var e=window,t=e.Intercom;if("function"===typeof t)t("reattach_activator"),t("update",window.intercomSettings);else{var a=function(){var e=s.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://widget.intercom.io/widget/jmcvijnb";var t=s.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)},s=document,n=function e(){e.c(arguments)};n.q=[],n.c=function(e){n.q.push(e)},e.Intercom=n,e.attachEvent?e.attachEvent("onload",a):e.addEventListener("load",a,!1)}}();var l=l||[];return l.load=function(e,t){l.appid=e,l.config=t=t||{};var a=t.forceSSL||"https:"===document.location.protocol,s=document.createElement("script");s.type="text/javascript",s.async=!0,s.src=(a?"https:":"http:")+"//cdn.heapanalytics.com/js/heap-"+e+".js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(s,n);for(var i=function(e){return function(){l.push([e].concat(Array.prototype.slice.call(arguments,0)))}},r=["addEventProperties","addUserProperties","clearEventProperties","identify","resetIdentity","removeEventProperty","setEventProperties","track","unsetEventProperty"],o=0;o<r.length;o++)l[r[o]]=i(r[o])},l.load("1552030408"),l.identify(o.user.id),a}return Object(le.a)(s,a),Object(ie.a)(s,[{key:"componentDidMount",value:function(){var e=document.getElementById("protected-footer-fixed");null!=e&&void 0!=e&&setTimeout(function(){if(document.getElementById("protected-footer-fixed")){var t=document.getElementById("root").clientHeight;document.getElementById("root").scrollHeight,t+document.getElementById("protected-footer-fixed").clientHeight>window.innerHeight?e.classList.remove("footer-fixed"):e.classList.add("footer-fixed")}},200)}},{key:"componentWillMount",value:function(){this.unlisten=this.props.history.listen(function(e,t){})}},{key:"componentWillUnmount",value:function(){this.unlisten()}},{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0})}},{key:"render",value:function(){var a=this.state,s=a.permissions,n=a.userData,r=(a.currentUserRole,a.languageData),o=a.languageEndpoint,l=[];return localStorage.getItem("currentUserRole")&&(l=s[n.user.role_name][e[1]]),l.find(function(t){return t===e[0]})?r&&void 0!==r&&null!==r&&n.permissions.find(function(t){return t===e[0]})?void 0!==r[o]?i.a.createElement(t,this.props):i.a.createElement("div",null):this.changeRoute():e[0]==n.user.role_name||e[0]==n.user_type||"provider"===e[0]&&n.user.is_provider?void 0!==r[o]?i.a.createElement(t,this.props):i.a.createElement("div",null):this.changeRoute()}}]),s}(i.a.Component)}},Eb=function(e){var t=e.component,a=Object(s.a)(e,["component"]);return i.a.createElement(te.a,Object.assign({},a,{render:function(e){return i.a.createElement(t,e)}}))},yb=function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).state={hasError:!1},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"render",value:function(){return this.state.hasError?i.a.createElement("div",{className:"main protected"},i.a.createElement("div",{className:"something-wrong"},i.a.createElement("img",{src:"/images/something-wrong.png"}),i.a.createElement(me.a,{to:"/logout",class:"click-logout"},"Click to Logout"))):this.props.children}}]),t}(i.a.Component),Nb=i.a.createElement(yb,null,i.a.createElement(gs,null,i.a.createElement(ia.a,null,"//Dashboard",i.a.createElement(ra.a,{exact:!0,path:"/",to:"dashboard"}),i.a.createElement(Eb,{exact:!0,path:"/dashboard",component:bb(["view-appointments","appointments","admin","dashboard"])(is)}),i.a.createElement(Eb,{exact:!0,path:"/dashboard/sms-notifications",component:bb(["view-appointments","appointments","admin","settings"])(bs)}),i.a.createElement(Eb,{exact:!0,path:"/dashboard/sms-notificationspopup/:id",component:bb(["view-appointments","appointments","admin","settings"])(ys)}),i.a.createElement(Eb,{exact:!0,path:"/dashboard/notifications",component:bb(["view-appointments","appointments","admin","settings"])(Ss)}),"//Clients",i.a.createElement(Eb,{exact:!0,path:"/clients",component:bb(["view-patients","patients-management","admin","clients"])(fn)}),i.a.createElement(Eb,{exact:!0,path:"/clients/profile/:id",component:bb(["view-patients","patients-management","admin","clients"])(Cn)}),i.a.createElement(Eb,{exact:!0,path:"/clients/create",component:bb(["add-update-patients","patients-management","admin","clients"])(Mn)}),i.a.createElement(Eb,{exact:!0,path:"/clients/:id/:type",component:bb(["add-update-patients","patients-management","admin","clients"])(Mn)}),i.a.createElement(Eb,{exact:!0,path:"/:actionType/wallet/:clientID/:type",component:bb(["add-update-patients","patients-management","admin","clients"])(Yn)}),i.a.createElement(Eb,{exact:!0,path:"/:actionType/documents/:resourceType/:documentID?/:clientID/:type",component:bb(["add-update-patients","patients-management","admin","procedure"])(ti)}),i.a.createElement(Eb,{exact:!0,path:"/:actionType/documents/:clientID/:type",component:bb(["add-update-patients","patients-management","admin","procedure"])(jo)}),"//Appointments",i.a.createElement(Eb,{exact:!0,path:"/appointment/service-category",component:bb(["manage-services","appointments","admin","appointments"])(Jl)}),i.a.createElement(Eb,{exact:!0,path:"/appointment/service-category/create",component:bb(["manage-services","appointments","admin","appointments"])(Kl)}),i.a.createElement(Eb,{exact:!0,path:"/appointment/service-category/:id/edit",component:bb(["manage-services","appointments","admin","appointments"])(Kl)}),i.a.createElement(Eb,{exact:!0,path:"/appointment/services/:serviceCategoryId",component:bb(["manage-services","appointments","admin","appointments"])(Zl)}),i.a.createElement(Eb,{exact:!0,path:"/appointment/services/:serviceCategoryId/create",component:bb(["manage-services","appointments","admin","appointments"])(rc)}),i.a.createElement(Eb,{exact:!0,path:"/appointment/services/:serviceCategoryId/:id/edit",component:bb(["manage-services","appointments","admin","appointments"])(rc)}),i.a.createElement(Eb,{exact:!0,path:"/appointment/services/:serviceCategoryId/:cloneId/clone",component:bb(["manage-services","appointments","admin","appointments"])(rc)}),i.a.createElement(Eb,{exact:!0,path:"/appointment/services-packages",component:bb(["manage-Services-Packages","appointments","admin","appointments"])(qc)}),i.a.createElement(Eb,{exact:!0,path:"/appointment/services-packages/create",component:bb(["manage-Services-Packages","appointments","admin","appointments"])(Vc)}),i.a.createElement(Eb,{exact:!0,path:"/appointment/services-packages/:id/edit",component:bb(["manage-Services-Packages","appointments","admin","appointments"])(Vc)}),i.a.createElement(Eb,{exact:!0,path:"/appointment/services-packages/:cloneId/clone",component:bb(["manage-Services-Packages","appointments","admin","appointments"])(Vc)}),i.a.createElement(Eb,{exact:!0,path:"/appointment/index",component:bb(["view-appointments","appointments","admin","appointments"])(yc)}),i.a.createElement(Eb,{exact:!0,path:"/appointment/view/:appointmentId",component:bb(["view-appointments","appointments","admin","appointments"])(yc)}),i.a.createElement(Eb,{exact:!0,path:"/appointment/equipment-schedule",component:bb(["manage-equipments-schedule","appointments","admin","appointments"])(Sc)}),i.a.createElement(Eb,{exact:!0,path:"/appointment/equipment-schedule/create",component:bb(["manage-equipments-schedule","appointments","admin","appointments"])(Ic)}),i.a.createElement(Eb,{exact:!0,path:"/appointment/equipment-schedule/:id/edit",component:bb(["manage-equipments-schedule","appointments","admin","appointments"])(Ic)}),i.a.createElement(Eb,{exact:!0,path:"/appointment/resource-schedule",component:bb(["manage-resource-schedule","appointments","admin","appointments"])(kc)}),i.a.createElement(Eb,{exact:!0,path:"/appointment/resource-schedule/create",component:bb(["manage-resource-schedule","appointments","admin","appointments"])(Fc)}),i.a.createElement(Eb,{exact:!0,path:"/appointment/resource-schedule/:id/edit",component:bb(["manage-resource-schedule","appointments","admin","appointments"])(Fc)}),i.a.createElement(Eb,{exact:!0,path:"/appointment/provider-schedule",component:bb(["manage-provider-schedule","appointments","admin","appointments"])(Wc)}),i.a.createElement(Eb,{exact:!0,path:"/appointment/provider-schedule/:id/view",component:bb(["manage-provider-schedule","appointments","admin","appointments"])(rd)}),i.a.createElement(Eb,{exact:!0,path:"/appointment/create",component:bb(["create-appointment","appointments","admin","appointments"])(md)}),i.a.createElement(Eb,{exact:!0,path:"/appointment/create/:clientId",component:bb(["create-appointment","appointments","admin","appointments"])(md)}),i.a.createElement(Eb,{exact:!0,path:"/appointment/booking-history",component:bb(["view-appointments","appointments","admin","appointments"])(vd)}),i.a.createElement(Eb,{exact:!0,path:"/appointment/edit/:id",component:bb(["create-appointment","appointments","admin","appointments"])(md)}),i.a.createElement(Eb,{exact:!0,path:"/appointment/edit/:id/:mode",component:bb(["create-appointment","appointments","admin","appointments"])(md)}),"//Sales",i.a.createElement(Eb,{exact:!0,path:"/sales",component:bb(["view-sales","sales","admin","sales"])(mm)}),i.a.createElement(Eb,{exact:!0,path:"/sales/invoice-text",component:bb(["view-sales-invoice-text","sales","admin","sales"])(pm)}),i.a.createElement(Eb,{exact:!0,path:"/sales/monthly-net-sales",component:bb(["view-sales-report","sales","admin","sales"])(gm)}),i.a.createElement(Eb,{exact:!0,path:"/sales/item-sales",component:bb(["view-sales-report","sales","admin","sales"])(Em)}),i.a.createElement(Eb,{exact:!0,path:"/sales/category-sales",component:bb(["view-sales-report","sales","admin","sales"])(wm)}),i.a.createElement(Eb,{exact:!0,path:"/sales/employee-sales-report",component:bb(["view-sales-report","sales","admin","sales"])(xm)}),i.a.createElement(Eb,{exact:!0,path:"/sales/payment-methods",component:bb(["view-sales-report","sales","admin","sales"])(Om)}),i.a.createElement(Eb,{exact:!0,path:"/sales/discounts",component:bb(["view-sales-report","sales","admin","sales"])(Tm)}),i.a.createElement(Eb,{exact:!0,path:"/sales/staff-treatments",component:bb(["view-sales-report","sales","admin","sales"])(au)}),i.a.createElement(Eb,{exact:!0,path:"/sales/memberships",component:bb(["view-sales-report","sales","admin","sales"])(nu)}),i.a.createElement(Eb,{exact:!0,path:"/sales/short-term-liability",component:bb(["view-sales-report","sales","admin","sales"])(ru)}),i.a.createElement(Eb,{exact:!0,path:"/sales/treatment-plans",component:bb(["view-sales-report","sales","admin","sales"])(lu)}),i.a.createElement(Eb,{exact:!0,path:"/sales/taxes",component:bb(["view-sales-report","sales","admin","sales"])(du)}),i.a.createElement(Eb,{exact:!0,path:"/sales/commission-report",component:bb(["view-sales-report","sales","admin","sales"])(uu)}),i.a.createElement(Eb,{exact:!0,path:"/sales/cost-to-company",component:bb(["view-sales-report","sales","admin","sales"])(hu)}),i.a.createElement(Eb,{exact:!0,path:"/sales/egift-cards",component:bb(["view-sales-report","sales","admin","sales"])(_u)}),i.a.createElement(Eb,{exact:!0,path:"/sales/invoices",component:bb(["view-sales-invoices","sales","admin","sales"])(Rm)}),i.a.createElement(Eb,{exact:!0,path:"/sales/invoices-popups",component:bb(["view-sales-invoices","sales","admin","sales"])(Pm)}),i.a.createElement(Eb,{exact:!0,path:"/sales/office-sales-goals/add",component:bb(["view-sales-goals","sales","admin","sales"])(Mm)}),i.a.createElement(Eb,{exact:!0,path:"/sales/office-sales-goals/manage",component:bb(["view-sales-goals","sales","admin","sales"])(Zm)}),i.a.createElement(Eb,{exact:!0,path:"/sales/office-sales-goals",component:bb(["view-sales-goals","sales","admin","sales"])(eu)}),i.a.createElement(Eb,{exact:!0,path:"/sales/cash-drawer",component:bb(["view-cash-drawer","sales","admin","sales"])(Jm)}),"//Inventory",i.a.createElement(Eb,{exact:!0,path:"/inventory/products/active",component:bb(["view-products-inventory","inventory-management","admin","dashboard","inventory"])(rp)}),i.a.createElement(Eb,{exact:!0,path:"/inventory/products/inactive",component:bb(["view-products-inventory","inventory-management","admin","dashboard","inventory"])(sp)}),i.a.createElement(Eb,{exact:!0,path:"/inventory/products/:statusId/:id/edit",component:bb(["edit-product","inventory-management","admin","dashboard"])(up)}),i.a.createElement(Eb,{exact:!0,path:"/inventory/products/:statusId/:id/edit",component:bb(["edit-product","inventory-management","admin","dashboard","inventory"])(up)}),i.a.createElement(Eb,{exact:!0,path:"/inventory/product/edit/:id",component:bb(["edit-product","inventory-management","admin","dashboard","inventory"])(up)}),i.a.createElement(Eb,{exact:!0,path:"/inventory/product/add",component:bb(["add-product","inventory-management","admin","dashboard","inventory"])(up)}),i.a.createElement(Eb,{exact:!0,path:"/inventory/products-categories",component:bb(["view-product-categories","inventory-management","admin","dashboard","inventory"])(hp)}),i.a.createElement(Eb,{exact:!0,path:"/inventory/products-categories/create",component:bb(["manage-product-categories","inventory-management","admin","dashboard"])(Ip)}),i.a.createElement(Eb,{exact:!0,path:"/inventory/products-categories/:id/edit",component:bb(["manage-product-categories","inventory-management","admin","dashboard"])(Ip)}),i.a.createElement(Eb,{exact:!0,path:"/inventory/discount-packages",component:bb(["view-products-inventory","inventory-management","admin","dashboard","inventory"])(_p)}),i.a.createElement(Eb,{exact:!0,path:"/inventory/discount-groups",component:bb(["view-products-inventory","inventory-management","admin","dashboard","inventory"])(fp)}),i.a.createElement(Eb,{exact:!0,path:"/inventory/e-giftcards",component:bb(["view-products-inventory","inventory-management","admin","dashboard","inventory"])(Ep)}),i.a.createElement(Eb,{exact:!0,path:"/inventory/e-giftcards/create",component:bb(["view-products-inventory","inventory-management","admin","dashboard","inventory"])(Np)}),i.a.createElement(Eb,{exact:!0,path:"/inventory/e-giftcards/:id/edit",component:bb(["view-products-inventory","inventory-management","admin","dashboard","inventory"])(Np)}),i.a.createElement(Eb,{exact:!0,path:"/inventory/treatmentPlanTemplates",component:bb(["view-products-inventory","inventory-management","admin","dashboard","inventory"])(Dp)}),i.a.createElement(Eb,{exact:!0,path:"/inventory/discount-packages/add",component:bb(["view-products-inventory","inventory-management","admin","dashboard","inventory"])(Cp)}),i.a.createElement(Eb,{exact:!0,path:"/inventory/discount-groups/add",component:bb(["view-products-inventory","inventory-management","admin","dashboard","inventory"])(Lp)}),i.a.createElement(Eb,{exact:!0,path:"/inventory/discount-groups/:id/edit",component:bb(["view-products-inventory","inventory-management","admin","dashboard","inventory"])(Lp)}),i.a.createElement(Eb,{exact:!0,path:"/inventory/treatmentPlanTemplates/create",component:bb(["view-products-inventory","inventory-management","admin","dashboard","inventory"])(Ap)}),i.a.createElement(Eb,{exact:!0,path:"/inventory/discount-package/create",component:bb(["view-products-inventory","inventory-management","admin","dashboard","inventory"])(Up)}),i.a.createElement(Eb,{exact:!0,path:"/inventory/discount-package/:id/edit",component:bb(["view-products-inventory","inventory-management","admin","dashboard","inventory"])(Up)}),i.a.createElement(Eb,{exact:!0,path:"/inventory/discount-groups",component:bb(["view-products-inventory","inventory-management","admin","dashboard"])(fp)}),i.a.createElement(Eb,{exact:!0,path:"/inventory/e-giftcards",component:bb(["view-products-inventory","inventory-management","admin","dashboard"])(Ep)}),"//Reports",i.a.createElement(Eb,{exact:!0,path:"/reports",component:bb(["view-patients","patients-management","admin","settings","reports"])(Jp)}),i.a.createElement(Eb,{exact:!0,path:"/reports/create",component:bb(["view-patients","patients-management","admin","settings","reports"])(kh)}),i.a.createElement(Eb,{exact:!0,path:"/reports/:id/edit",component:bb(["view-patients","patients-management","admin","settings","reports"])(jh)}),"//Surveys",i.a.createElement(Eb,{exact:!0,path:"/surveys/dashboard/view-all",component:bb(["view-patients","patients-management","admin","surveys"])(ng)}),i.a.createElement(Eb,{exact:!0,path:"/surveys/view-all/:id/survey-data",component:bb(["view-patients","patients-management","admin","surveys"])(rg)}),i.a.createElement(Eb,{exact:!0,path:"/surveys/dashboard/:id/view-all",component:bb(["view-patients","patients-management","admin","surveys"])(ng)}),i.a.createElement(Eb,{exact:!0,path:"/surveys/dashboard",component:bb(["view-patients","patients-management","admin","surveys"])(Jh)}),i.a.createElement(Eb,{exact:!0,path:"/surveys/manage",component:bb(["view-patients","patients-management","admin","surveys"])(Kh)}),i.a.createElement(Eb,{exact:!0,path:"/surveys/template/create",component:bb(["view-patients","patients-management","admin","surveys"])(ag)}),i.a.createElement(Eb,{exact:!0,path:"/surveys/template/:id/edit",component:bb(["view-patients","patients-management","admin","surveys"])(ag)}),"//UserActivity",i.a.createElement(Eb,{exact:!0,path:"/dashboard/user-logs",component:bb(["view-patients","patients-management","admin","dashboard"])(lg)}),i.a.createElement(Eb,{exact:!0,path:"/dashboard/user-logs/view-changes/:object_type/:child_id/:object_id",component:bb(["view-patients","patients-management","admin","dashboard"])(dg)}),"//Settings/Account-Information",i.a.createElement(Eb,{exact:!0,path:"/settings/profile",component:bb(["view-patients","patients-management","admin","settings"])(Eg)}),i.a.createElement(Eb,{exact:!0,path:"/settings/ar-account",component:bb(["manage-account-information","settings","admin","settings"])(ug)}),i.a.createElement(Eb,{exact:!0,path:"/settings/ar-terms-of-use",component:bb(["manage-account-information","settings","admin","settings"])(hg)}),i.a.createElement(Eb,{exact:!0,path:"/settings/hipaa-terms-of-use",component:bb(["manage-account-information","settings","admin","settings"])(_g)}),i.a.createElement(Eb,{path:"/settings/two-factor-auth",component:bb(["view-patients","patients-management","admin","settings"])(fg)}),i.a.createElement(Eb,{exact:!0,path:"/settings/profile/calendar/sync",component:bb(["view-patients","patients-management","admin","settings"])(wg)}),"//Settings/Manage-Your-Clinics",i.a.createElement(Eb,{path:"/settings/questionnaires",exact:!0,component:bb(["manage-questionnaires","settings","admin","settings"])(Og)}),i.a.createElement(Eb,{path:"/settings/questionnaires/create",exact:!0,component:bb(["manage-questionnaires","settings","admin","settings"])(Tg)}),i.a.createElement(Eb,{path:"/settings/questionnaires/:id/edit",exact:!0,component:bb(["manage-questionnaires","settings","admin","settings"])(Tg)}),i.a.createElement(Eb,{path:"/settings/consents",component:bb(["manage-consents","settings","admin","settings"])(o_)}),i.a.createElement(Eb,{exact:!0,path:"/settings/consent/:id/edit",component:bb(["manage-consents","settings","admin","settings"])(d_)}),i.a.createElement(Eb,{exact:!0,path:"/settings/consent/create",component:bb(["manage-consents","settings","admin","settings"])(d_)}),i.a.createElement(Eb,{path:"/settings/clinics",component:bb(["manage-clinics","settings","admin","settings"])(Gg)}),i.a.createElement(Eb,{exact:!0,path:"/settings/clinic/:id/edit",component:bb(["manage-clinics","settings","admin","settings"])(Qg)}),i.a.createElement(Eb,Object(se.a)({exact:!0,path:"/settings/clinic/create",component:bb(["manage-clinics","settings","admin","settings"])(Qg)},"component",Qg)),i.a.createElement(Eb,{exact:!0,path:"/settings/procedure-template/create",component:bb(["manage-clinics","settings","admin","settings"])(N_)}),i.a.createElement(Eb,{exact:!0,path:"/settings/procedure-template/:id/edit",component:bb(["manage-clinics","settings","admin","settings"])(N_)}),i.a.createElement(Eb,{path:"/settings/procedure-templates",component:bb(["manage-clinics","settings","admin","settings"])(Xg)}),i.a.createElement(Eb,{path:"/settings/post-treatment-instructions/create",component:bb(["manage-post-treatment-instructions","settings","admin","dashboard"])(p_)}),i.a.createElement(Eb,{path:"/settings/post-treatment-instructions/:id/edit",component:bb(["manage-post-treatment-instructions","settings","admin","dashboard"])(p_)}),i.a.createElement(Eb,{path:"/settings/post-treatment-instructions",exact:!0,component:bb(["manage-post-treatment-instructions","settings","admin","settings"])(t_)}),i.a.createElement(Eb,{path:"/settings/post-treatment-email",exact:!0,component:bb(["manage-post-treatment-instructions","settings","admin","settings"])($g)}),i.a.createElement(Eb,{path:"/settings/pre-treatment-instructions",exact:!0,component:bb(["manage-pre-treatment-instructions","settings","admin","settings"])(s_)}),i.a.createElement(Eb,{path:"/settings/pre-treatment-email",exact:!0,component:bb(["manage-pre-treatment-instructions","settings","admin","settings"])(i_)}),i.a.createElement(Eb,{path:"/settings/pre-treatment-instructions/create",component:bb(["manage-pre-treatment-instructions","settings","admin","dashboard"])(g_)}),i.a.createElement(Eb,{path:"/settings/pre-treatment-instructions/:id/edit",component:bb(["manage-pre-treatment-instructions","settings","admin","dashboard"])(g_)}),"//Settings/Appointments",i.a.createElement(Eb,{path:"/settings/appointment-email-sms",component:bb(["view-patients","patients-management","admin","settings"])(D_)}),i.a.createElement(Eb,{path:"/settings/appointments",component:bb(["view-patients","patients-management","admin","settings"])(D_)}),i.a.createElement(Eb,{exact:!0,path:"/settings/appointment-reminder",component:bb(["view-patients","patients-management","admin","settings"])(C_)}),i.a.createElement(Eb,{exact:!0,path:"/settings/appointment-reminder/create",component:bb(["view-patients","patients-management","admin","settings"])(L_)}),i.a.createElement(Eb,{exact:!0,path:"/settings/appointment-reminder/:reminderId/edit",component:bb(["view-patients","patients-management","admin","settings"])(L_)}),i.a.createElement(Eb,{exact:!0,path:"/settings/configure-uri",component:bb(["view-patients","patients-management","admin","settings"])(A_)}),i.a.createElement(te.a,{exact:!0,path:"/settings/cancellation-policy",component:bb(["view-patients","patients-management","admin","settings"])(I_)}),i.a.createElement(Eb,{exact:!0,path:"/settings/patient-portal",component:bb(["view-patients","patients-management","admin","settings"])(k_)}),i.a.createElement(Eb,{path:"/settings/survey-email-sms",component:bb(["view-patients","patients-management","admin","settings"])(B_)}),"//Settings/Membership & Wallet",i.a.createElement(Eb,{exact:!0,path:"/settings/membership-wallet",component:bb(["wallet-settings","settings","admin","settings"])(Y_)}),"//settings/Teammates",i.a.createElement(Eb,{path:"/settings/users",exact:!0,component:bb(["manage-users","settings","admin","settings"])(G_)}),i.a.createElement(Eb,{path:"/settings/users/create",component:bb(["manage-users","settings","admin","settings"])(Z_)}),i.a.createElement(Eb,{path:"/settings/users/:userId/edit",component:bb(["manage-users","settings","admin","settings"])(Z_)}),i.a.createElement(Eb,{exact:!0,path:"/settings/createUser",component:bb(["manage-users","settings","admin","settings"])(K_)}),i.a.createElement(Eb,{path:"/settings/user-roles",exact:!0,component:bb(["manage-user-roles","settings","admin","settings"])(W_)}),i.a.createElement(Eb,{exact:!0,path:"/settings/user-privileges/:id/role/:roleId",component:bb(["manage-user-roles","settings","admin","settings"])(Q_)}),"//Settings/RecentlyDeleted",i.a.createElement(Eb,{path:"/settings/recently-deleted",component:bb(["view-patients","patients-management","admin","settings"])(ev)}),"//Settings/YourBilling",i.a.createElement(Eb,{path:"/settings/manage-invoices",component:bb(["superadmin","settings","admin","settings"])(av)}),i.a.createElement(Eb,{exact:!0,path:"/settings/manage-subscription",component:bb(["superadmin","settings","admin","settings"])(pv)}),"//Settings/POS",i.a.createElement(Eb,{exact:!0,path:"/settings/pos-dashboard",component:bb(["superadmin","settings","admin","settings"])(fv)}),i.a.createElement(Eb,{exact:!0,path:"/settings/pos-dashboard/verification",component:bb(["superadmin","settings","admin","settings"])(Ev)}),i.a.createElement(Eb,{exact:!0,path:"/settings/pos-payments",component:bb(["superadmin","settings","admin","settings"])(Nv)}),i.a.createElement(Eb,{exact:!0,path:"/settings/pos-payouts",component:bb(["superadmin","settings","admin","settings"])(Dv)}),i.a.createElement(Eb,{exact:!0,path:"/settings/pos-payouts/:id/view",component:bb(["superadmin","settings","admin","settings"])(xv)}),i.a.createElement(Eb,{exact:!0,path:"/settings/pos",component:bb(["superadmin","settings","admin","settings"])(Ov)}),i.a.createElement(Eb,{exact:!0,path:"/settings/pos/setup/:type/:clinicId?",component:bb(["superadmin","settings","admin","settings"])(Tv)}),i.a.createElement(Eb,{exact:!0,path:"/settings/pos/card-reader/:type/:clinicId?",component:bb(["superadmin","settings","admin","settings"])(kv)}),i.a.createElement(Eb,{exact:!0,path:"/settings/pos-payment-settings",component:bb(["superadmin","settings","admin","settings"])(jv)}),i.a.createElement(Eb,{exact:!0,path:"/settings/pos-disputes/:disputeId/view",component:bb(["superadmin","settings","admin","settings"])(qv)}),i.a.createElement(Eb,{exact:!0,path:"/settings/pos/express/setup",component:bb(["superadmin","settings","admin","settings"])(Wv)}),i.a.createElement(Eb,{exact:!0,path:"/settings/pos-disputes/:disputeId/evidence/:type",component:bb(["superadmin","settings","admin","settings"])(Gv)}),i.a.createElement(Eb,{exact:!0,path:"/settings/pos-disputes",component:bb(["superadmin","settings","admin","settings"])(Uv)}),"//Component/Rooms",i.a.createElement(Eb,{exact:!0,path:"/md-room/:type",component:bb(["md","settings","admin","rooms"])(Kv)}),i.a.createElement(Eb,{exact:!0,path:"/provider-room/:type",component:bb(["provider","settings","admin","rooms"])($v)}),i.a.createElement(Eb,{exact:!0,path:"/md-room/consent/:id/:type",component:bb(["md","settings","admin","consent"])(tf)}),i.a.createElement(Eb,{exact:!0,path:"/clients/:clientID/consent/:id/:type",component:bb(["manage-procedures","patients-management","admin","consent"])(tf)}),i.a.createElement(Eb,{exact:!0,path:"/clients/:clientID/questionnaire/:id/:type",component:bb(["manage-procedures","patients-management","admin","questionnaire"])(sf)}),i.a.createElement(Eb,{exact:!0,path:"/clients/profile/consent/:id",component:bb(["manage-procedures","patients-management","admin","clients"])(rf)}),i.a.createElement(Eb,{exact:!0,path:"/md-room/procedure-detail/:id/:type",component:bb(["md","settings","admin","procedure"])(bf)}),i.a.createElement(Eb,{exact:!0,path:"/md-room/questionnaire/:id/:type",component:bb(["md","settings","admin","questionnaire"])(sf)}),i.a.createElement(Eb,{exact:!0,path:"/provider-room/consent/:id/:type",component:bb(["provider","settings","admin","consent"])(tf)}),i.a.createElement(Eb,{exact:!0,path:"/provider-room/questionnaire/:id/:type",component:bb(["provider","settings","admin","questionnaire"])(lf)}),i.a.createElement(Eb,{exact:!0,path:"/provider-room/procedure-detail/:id/:type",component:bb(["provider","settings","admin","procedure"])(bf)}),"//Components/Procedure",i.a.createElement(Eb,{exact:!0,path:"/settings/procedure-detail/:id/:type",component:bb(["manage-procedures","patients-management","admin","procedure"])(bf)}),i.a.createElement(Eb,{exact:!0,path:"/:actionType/procedure/:resourceType/:procedureID?/:clientID/:type",component:bb(["manage-procedures","patients-management","admin","procedure"])(wf)}),"//Components/ProcedureNotes",i.a.createElement(Eb,{exact:!0,path:"/md-room/notes/:procedureID/:patientID/:type",component:bb(["md","settings","admin","procedure"])(xf)}),i.a.createElement(Eb,{exact:!0,path:"/provider-room/notes/:procedureID/:patientID/:type",component:bb(["provider","settings","admin","procedure"])(xf)}),i.a.createElement(Eb,{exact:!0,path:"/clients/notes/:procedureID/:patientID/:type",component:bb(["view-procedure-notes","patients-management","admin","procedure"])(xf)}),"//Components/ClientNotes",i.a.createElement(Eb,{exact:!0,path:"/:actionType/customer-notes/:patientID/:type",component:bb(["view-customer-notes","patients-management","admin","procedure"])(Pf)}),"//Components/Invoices",i.a.createElement(Eb,{exact:!0,path:"/:actionType/invoice/:invoiceID/:clientID",component:bb(["view-patients","patients-management","admin","invoices"])(zf)}),i.a.createElement(Eb,{exact:!0,path:"/:actionType/invoice/:invoiceID/:clientID/:type",component:bb(["view-patients","patients-management","admin","invoices"])(zf)}),"//Components/InvoiceView",i.a.createElement(Eb,{exact:!0,path:"/settings/invoices/:invoiceId/:type",component:bb(["view-sales-invoices","sales","admin","procedure"])(Jf)}),"//Components/TreatmentMarkings",i.a.createElement(Eb,{exact:!0,path:"/clients/treatment-markings/:procedureID/:clientID/:type",component:bb(["view-patients","patients-management","admin","clients"])($f)}),"//Components/TraceabilityInfo",i.a.createElement(Eb,{exact:!0,path:"/:actionType/traceability-info/:procedureID/:clientID/:type/:subType?",component:bb(["view-patients","patients-management","admin","traceinfo"])(cb)}),"//Components/UpcomingAppointments",i.a.createElement(Eb,{exact:!0,path:"/:actionType/upcoming-appointments/:clientID/:type",component:bb(["view-patients","patients-management","admin","clients"])(mb)}),"//Components/MedicalHistory",i.a.createElement(Eb,{exact:!0,path:"/:actionType/medical-history/:clientID/:type",component:bb(["manage-medical-history","patients-management","admin","clients"])(pb)}),"//Components/PaymentHistory",i.a.createElement(Eb,{exact:!0,path:"/:actionType/payment-history/:clientID/:type/:tabType",component:bb(["view-patients","patients-management","admin","clients"])(gb)})))),Sb=Ee.API_URL;function Db(e){return function(t){Q.a.post(Sb+"password/email",e).then(function(e){t({type:"FORGOT_PASSWORD_SUCCESSFULL",payload:e.data})}).catch(function(e){t({type:"FORGOT_PASSWORD_ERROR",payload:e.response.data})})}}var wb=function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).state={email:"",emailError:"",showProcess:"",pwdchangeMessage:"",status:""},a.handleInputChange=a.handleInputChange.bind(Object(ce.a)(Object(ce.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(ce.a)(Object(ce.a)(a))),a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(localStorage.getItem("languageData")&&void 0!==localStorage.getItem("languageData").global&&localStorage.getItem("languageData").global){var t=JSON.parse(localStorage.getItem("languageData"));this.setState({resetPasswordLabel:t.global.resetPasswordLabel,enterYourEmail:t.global.enterYourEmail,emailAddress:t.global.emailAddress,backToLoginBtn:t.global.backToLoginBtn,resetPasswordBtnn:t.global.resetPasswordBtnn})}else Q.a.get(Ee.API_URL+"getLanguageText/1/guest").then(function(t){var a=t.data.data;localStorage.setItem("languageData",JSON.stringify(a)),e.setState({resetPasswordLabel:a.global.resetPasswordLabel,enterYourEmail:a.global.enterYourEmail,emailAddress:a.global.emailAddress,backToLoginBtn:a.global.backToLoginBtn,resetPasswordBtnn:a.global.resetPasswordBtnn})}).catch(function(e){})}},{key:"handleInputChange",value:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value;this.setState(Object(se.a)({},e.target.name,a))}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=!1;if(this.setState({emailError:""}),void 0===typeof this.state.email||null===this.state.email||""===this.state.email?(rt.toast.error("Email can not be blank!"),t=!0):nt.a.isEmail(this.state.email)||(rt.toast.error("Incorrect email address"),t=!0),!0!==t){this.setState({showProcess:1});var a={email:this.state.email,language_id:1};this.props.UserResetPasswordForm(a),this.setState({email:""})}}},{key:"render",value:function(){return i.a.createElement("div",{className:"guest"},i.a.createElement(ue,null),i.a.createElement("div",{className:"login-container"},i.a.createElement("div",{className:"login-main"},i.a.createElement("h1",null,this.state.resetPasswordLabel),i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:"usr"},this.state.enterYourEmail),i.a.createElement("input",{name:"email",className:"form-control",placeholder:this.state.emailAddress,maxLength:"500",type:"text",id:"UserEmailId",value:this.state.email,onChange:this.handleInputChange})),i.a.createElement("div",{className:"form-group"},i.a.createElement("div",{className:"backtologin pull-left"},i.a.createElement(me.a,{to:"/login",className:"back-btn"},i.a.createElement("i",{className:"fa fa-arrow-left"})," \xa0",this.state.backToLoginBtn)),i.a.createElement("div",{className:"resetpswd pull-right"},i.a.createElement("div",{className:"submit"},i.a.createElement("input",{className:"full-width",type:"submit",value:this.state.resetPasswordBtnn}))))))),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}),i.a.createElement(be,null))}}]),t}(i.a.Component),Cb=Object(Z.b)(function(e){if("FORGOT_PASSWORD"===e.UserReducer.action){var t={};rt.toast.dismiss();var a=JSON.parse(localStorage.getItem("languageData"));return 200!=e.UserReducer.data.status?(rt.toast.error(a[e.UserReducer.data.message]),t.pwdchangeMessage=e.UserReducer.data.message,t.status=e.UserReducer.data.status):(t.status=200,t.email="",rt.toast.success(a[e.UserReducer.data.message])),t}return{pwdchangeMessage:""}},function(e){return{UserResetPasswordForm:Object(c.bindActionCreators)(Db,e)}})(Object(de.a)(wb)),xb=function(e){function t(){return Object(ne.a)(this,t),Object(re.a)(this,Object(oe.a)(t).apply(this,arguments))}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"guest"},i.a.createElement(ue,null),i.a.createElement("div",{className:"thanku"},i.a.createElement("h1",null,"Your IP has been blocked temporarily"),i.a.createElement("h3",null,"Please contact support at support@aestheticrecord.com")),i.a.createElement(be,null))}}]),t}(i.a.Component),Lb=function(e){function t(e){var a;return Object(ne.a)(this,t),(a=Object(re.a)(this,Object(oe.a)(t).call(this,e))).state={cipherKey:a.props.match.params.cipherKey},a}return Object(le.a)(t,e),Object(ie.a)(t,[{key:"componentDidMount",value:function(){this.state.cipherKey&&this.props.doAutoLogin(this.state.cipherKey)}},{key:"componentDidUpdate",value:function(e,t){if(null!==this.state.autoLoginData&&""!==this.state.autoLoginData&&this.state.autoLoginData!==t.autoLoginData&&null!==this.state.autoLoginMessage&&""!==this.state.autoLoginMessage){var a=this;setTimeout(function(){a.props.history.push("/login")},1e3)}else if(this.props.login_attempts!==e.login_attempts&&1!==localStorage.getItem("login_attempts")){this.props.login_attempts;localStorage.setItem("login_attempts",0),601==this.props.status&&!0,this.setState({login_attempts:0,showRecaptcha:0,showModal:!1,loggingIn:this.props.loggingIn})}else if(604==this.props.status)this.props.history.push("/upgrade-account-to-stripe");else if(603==this.props.status)this.props.history.push("/upgrade-subscription-plan");else if(602==this.props.status)this.props.history.push("/accept-agreement");else if(200==this.props.status){localStorage.setItem("languageData",JSON.stringify(this.props.userData.languageData));this.props.userData.globalPrivileges;localStorage.setItem("globalPrivileges",JSON.stringify(this.props.userData.globalPrivileges)),this.props.history.push(this.props.redirect_url)}}},{key:"render",value:function(){return i.a.createElement("div",{id:"content"},this.state.cipherKey&&i.a.createElement("div",{className:"autologin text-center"},"Logging you in ..."),!this.state.cipherKey&&i.a.createElement("div",{className:"autologin text-center"},"No key found"),i.a.createElement(rt.ToastContainer,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return void 0!==e.autoLoginData&&200===e.autoLoginData.status&&e.autoLoginData.data!==t.autoLoginData?{autoLoginData:e.autoLoginData.data,autoLoginMessage:""}:void 0!==e.autoLoginData&&200!==e.autoLoginData.status&&e.autoLoginData.data!==t.autoLoginData?{autoLoginData:e.autoLoginData.data,autoLoginMessage:e.autoLoginData.data}:null}}]),t}(n.Component);var Ob=Object(Z.b)(function(e){var t=JSON.parse(localStorage.getItem("languageData")),a={};if("DO_AUTO_LOGIN"===e.UserReducer.action)if(200!==e.UserReducer.footerData.status)rt.toast.error(t.global[e.UserReducer.footerData.message]),a.autoLoginData=e.UserReducer.footerData;else{a.status=200,a.autoLoginData=e.UserReducer.footerData,a.login_attempts=1,a.loggingIn=!0,localStorage.removeItem("showRecaptcha"),localStorage.removeItem("login_attempts");var s=e.UserReducer.footerData.data;if(a.userData=e.UserReducer.footerData.data,void 0!=s.redirect_to&&null!=s.redirect_to&&""!=s.redirect_to&&(Je(s.redirect_to),a.redirect_to=s.redirect_to,a.redirect_url=Qe()),void 0!=s.redirect_to&&"upgrade-account-to-stripe"!=s.redirect_to&&"upgrade-subscription-plan"!=s.redirect_to&&void 0!=s.is_bba_signed&&1==s.is_bba_signed)a.status=200,localStorage.setItem("currentUserRole",s.user.user_role_id),localStorage.setItem("userData",JSON.stringify(s)),localStorage.setItem("isLoggedIn",1),localStorage.setItem("user_listing_settings",JSON.stringify(s.user_listing_settings));else{void 0!=s.redirect_to&&"upgrade-account-to-stripe"==s.redirect_to?a.status=604:void 0!=s.redirect_to&&"upgrade-subscription-plan"==s.redirect_to?a.status=603:(Je("accept-agreement"),a.status=602);var n={userData:s,currentUserRole:s.user.user_role_id,isLoggedIn:1,user_listing_settings:s.user_listing_settings,access_token:xe()};localStorage.setItem("tempLoggedUserData",JSON.stringify(n))}}return a},function(e){return Object(c.bindActionCreators)({doAutoLogin:tt},e)})(Object(de.a)(Lb)),Ab=(a(1937),a(1938),a(141));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Tb=Object(c.createStore)(X,Object(c.applyMiddleware)(l.a));var Ib=function(e){var t=e.component,a=Object(s.a)(e,["component"]);return i.a.createElement(te.a,Object.assign({},a,{render:function(e){return JSON.parse(we()),De()?i.a.createElement($.a,{to:{pathname:"/settings/profile",state:{from:e.location}}}):i.a.createElement(t,e)}}))},Rb=Object(Ab.a)();Rb.location;Rb.listen(function(e,t){e.pathname}),o.a.render(i.a.createElement(Z.a,{store:Tb},i.a.createElement(ae.a,{history:Rb},i.a.createElement(ee.a,null,i.a.createElement(Ib,{path:"/login",component:lt}),i.a.createElement(Ib,{exact:!0,path:"/auto-login/:cipherKey?",component:Ob}),i.a.createElement(Ib,{path:"/forgot-password",component:Cb}),i.a.createElement(Ib,{path:"/reset-password",component:lt}),i.a.createElement(Ib,{path:"/block-ip",component:xb}),i.a.createElement(te.a,{exact:!0,path:"/logout",component:Ht}),i.a.createElement(Ib,{path:"/sign-up/basic",component:Qt}),i.a.createElement(Ib,{path:"/sign-up/premium",component:ta}),i.a.createElement(Ib,{path:"/account-setup/:type",component:na}),i.a.createElement(Ib,{exact:!0,path:"/accept-agreement",component:yt}),i.a.createElement(Ib,{exact:!0,path:"/upgrade-account-to-stripe",component:Lt}),i.a.createElement(Ib,{exact:!0,path:"/upgrade-subscription-plan",component:Yt}),i.a.createElement(Ib,{exact:!0,path:"/two-factor-login",component:dt}),Nb,i.a.createElement($.a,{from:"/*",to:"/login"})))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},238:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rangeShape=void 0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},n=function(){function e(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,a,s){return a&&e(t.prototype,a),s&&e(t,s),t}}(),i=a(0),r=g(i),o=g(a(3)),l=g(a(43)),c=g(a(330)),d=g(a(331)),m=g(a(484)),u=g(a(239)),p=g(a(332)),h=g(a(193));function g(e){return e&&e.__esModule?e:{default:e}}function _(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var v=function(e){function t(e,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));return s.state={hover:!1,active:!1},s.getClassNames=s.getClassNames.bind(s),s.handleMouseEvent=s.handleMouseEvent.bind(s),s.handleKeyEvent=s.handleKeyEvent.bind(s),s.renderSelectionPlaceholders=s.renderSelectionPlaceholders.bind(s),s.renderPreviewPlaceholder=s.renderPreviewPlaceholder.bind(s),s}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),n(t,[{key:"handleKeyEvent",value:function(e){var t=this.props.day;switch(e.keyCode){case 13:case 32:"keydown"===e.type?this.props.onMouseDown(t):this.props.onMouseUp(t)}}},{key:"handleMouseEvent",value:function(e){var t=this.props,a=t.day,s=t.disabled,n=t.onPreviewChange,i={};if(s)n();else{switch(e.type){case"mouseenter":this.props.onMouseEnter(a),n(a),i.hover=!0;break;case"blur":case"mouseleave":i.hover=!1;break;case"mousedown":i.active=!0,this.props.onMouseDown(a);break;case"mouseup":e.stopPropagation(),i.active=!1,this.props.onMouseUp(a);break;case"focus":n(a)}Object.keys(i).length&&this.setState(i)}}},{key:"getClassNames",value:function(){var e,t=this.props,a=t.isPassive,s=t.isToday,n=t.isWeekend,i=t.isStartOfWeek,r=t.isEndOfWeek,o=t.isStartOfMonth,c=t.isEndOfMonth,d=t.disabled,m=t.styles;return(0,l.default)(m.day,(_(e={},m.dayPassive,a),_(e,m.dayDisabled,d),_(e,m.dayToday,s),_(e,m.dayWeekend,n),_(e,m.dayStartOfWeek,i),_(e,m.dayEndOfWeek,r),_(e,m.dayStartOfMonth,o),_(e,m.dayEndOfMonth,c),_(e,m.dayHovered,this.state.hover),_(e,m.dayActive,this.state.active),e))}},{key:"renderPreviewPlaceholder",value:function(){var e,t=this.props,a=t.preview,s=t.day,n=t.styles;if(!a)return null;var i=a.startDate?(0,c.default)(a.startDate):null,o=a.endDate?(0,h.default)(a.endDate):null,p=(!i||(0,m.default)(s,i))&&(!o||(0,d.default)(s,o)),g=!p&&(0,u.default)(s,i),v=!p&&(0,u.default)(s,o);return r.default.createElement("span",{className:(0,l.default)((e={},_(e,n.dayStartPreview,g),_(e,n.dayInPreview,p),_(e,n.dayEndPreview,v),e)),style:{color:a.color}})}},{key:"renderSelectionPlaceholders",value:function(){var e=this,t=this.props,a=t.styles,n=t.ranges,i=t.day;return"date"===this.props.displayMode?(0,u.default)(this.props.day,this.props.date)?r.default.createElement("span",{className:a.selected,style:{color:this.props.color}}):null:n.reduce(function(e,t){var a=t.startDate,n=t.endDate;if(a&&n&&(0,d.default)(n,a)){var r=[n,a];a=r[0],n=r[1]}a=a?(0,c.default)(a):null,n=n?(0,h.default)(n):null;var o=(!a||(0,m.default)(i,a))&&(!n||(0,d.default)(i,n)),l=!o&&(0,u.default)(i,a),p=!o&&(0,u.default)(i,n);return o||l||p?[].concat(function(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}(e),[s({isStartEdge:l,isEndEdge:p,isInRange:o},t)]):e},[]).map(function(t,s){var n;return r.default.createElement("span",{key:s,className:(0,l.default)((n={},_(n,a.startEdge,t.isStartEdge),_(n,a.endEdge,t.isEndEdge),_(n,a.inRange,t.isInRange),n)),style:{color:t.color||e.props.color}})})}},{key:"render",value:function(){var e=this.props.styles;return r.default.createElement("button",s({type:"button",onMouseEnter:this.handleMouseEvent,onMouseLeave:this.handleMouseEvent,onFocus:this.handleMouseEvent,onMouseDown:this.handleMouseEvent,onMouseUp:this.handleMouseEvent,onBlur:this.handleMouseEvent,onPauseCapture:this.handleMouseEvent,onKeyDown:this.handleKeyEvent,onKeyUp:this.handleKeyEvent,className:this.getClassNames(e)},this.props.disabled||this.props.isPassive?{tabIndex:-1}:{},{style:{color:this.props.color}}),this.renderSelectionPlaceholders(),this.renderPreviewPlaceholder(),r.default.createElement("span",{className:e.dayNumber},r.default.createElement("span",null,(0,p.default)(this.props.day,"D"))))}}]),t}();v.defaultProps={};var f=t.rangeShape=o.default.shape({startDate:o.default.object,endDate:o.default.object,color:o.default.string,key:o.default.string,autoFocus:o.default.bool,disabled:o.default.bool,showDateDisplay:o.default.bool});v.propTypes={day:o.default.object.isRequired,date:o.default.object,ranges:o.default.arrayOf(f),preview:o.default.shape({startDate:o.default.object,endDate:o.default.object}),onPreviewChange:o.default.func,previewColor:o.default.string,disabled:o.default.bool,isPassive:o.default.bool,isToday:o.default.bool,isWeekend:o.default.bool,isStartOfWeek:o.default.bool,isEndOfWeek:o.default.bool,isStartOfMonth:o.default.bool,isEndOfMonth:o.default.bool,color:o.default.string,displayMode:o.default.oneOf(["dateRange","date"]),styles:o.default.object,onMouseDown:o.default.func,onMouseUp:o.default.func,onMouseEnter:o.default.func},t.default=v},242:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calcFocusDate=function(e,t){var a=t.shownDate,s=t.date,n=t.months,i=t.ranges,d=t.focusedRange,m=t.displayMode,u=void 0;if("dateRange"===m){var p=i[d[0]]||{};u={start:p.startDate,end:p.endDate}}else u={start:s,end:s};u.start=(0,o.default)(u.start||new Date),u.end=(0,r.default)(u.end||u.start);var h=u.start||u.end||a||new Date;if(!e)return a||h;var g={start:(0,o.default)(e),end:(0,r.default)((0,c.default)(e,n-1))};if((0,l.default)(u,g))return e;return h},t.findNextRangeIndex=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,a=e.findIndex(function(e,a){return a>t&&!1!==e.autoFocus&&!e.disabled});return-1!==a?a:e.findIndex(function(e){return!1!==e.autoFocus&&!e.disabled})},t.getMonthDisplayRange=function(e,t){var a=(0,o.default)(e,t),s=(0,r.default)(e,t),l=(0,i.default)(a,t),c=(0,n.default)(s,t);return{start:l,end:c,startDateOfMonth:a,endDateOfMonth:s}},t.generateStyles=function(e){return e.length?e.filter(function(e){return Boolean(e)}).reduce(function(e,t){return Object.keys(t).forEach(function(a){e[a]=(0,s.default)(e[a],t[a])}),e},{}):{}};var s=d(a(43)),n=d(a(240)),i=d(a(241)),r=d(a(334)),o=d(a(335)),l=d(a(968)),c=d(a(243));function d(e){return e&&e.__esModule?e:{default:e}}},244:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={dateRangeWrapper:"rdrDateRangeWrapper",calendarWrapper:"rdrCalendarWrapper",dateDisplay:"rdrDateDisplay",dateDisplayItem:"rdrDateDisplayItem",dateDisplayItemActive:"rdrDateDisplayItemActive",monthAndYearWrapper:"rdrMonthAndYearWrapper",monthAndYearPickers:"rdrMonthAndYearPickers",nextPrevButton:"rdrNextPrevButton",month:"rdrMonth",weekDays:"rdrWeekDays",weekDay:"rdrWeekDay",days:"rdrDays",day:"rdrDay",dayNumber:"rdrDayNumber",dayPassive:"rdrDayPassive",dayToday:"rdrDayToday",dayStartOfWeek:"rdrDayStartOfWeek",dayEndOfWeek:"rdrDayEndOfWeek",daySelected:"rdrDaySelected",dayDisabled:"rdrDayDisabled",dayStartOfMonth:"rdrDayStartOfMonth",dayEndOfMonth:"rdrDayEndOfMonth",dayWeekend:"rdrDayWeekend",dayStartPreview:"rdrDayStartPreview",dayInPreview:"rdrDayInPreview",dayEndPreview:"rdrDayEndPreview",dayHovered:"rdrDayHovered",dayActive:"rdrDayActive",inRange:"rdrInRange",endEdge:"rdrEndEdge",startEdge:"rdrStartEdge",prevButton:"rdrPprevButton",nextButton:"rdrNextButton",selected:"rdrSelected",months:"rdrMonths",monthPicker:"rdrMonthPicker",yearPicker:"rdrYearPicker",dateDisplayWrapper:"rdrDateDisplayWrapper",definedRangesWrapper:"rdrDefinedRangesWrapper",staticRanges:"rdrStaticRanges",staticRange:"rdrStaticRange",inputRanges:"rdrInputRanges",inputRange:"rdrInputRange",inputRangeInput:"rdrInputRangeInput",dateRangePickerWrapper:"rdrDateRangePickerWrapper",staticRangeLabel:"rdrStaticRangeLabel",staticRangeSelected:"rdrStaticRangeSelected",monthName:"rdrMonthName",infiniteMonths:"rdrInfiniteMonths",monthsVertical:"rdrMonthsVertical",monthsHorizontal:"rdrMonthsHorizontal"}},268:function(e,t,a){"use strict";var s=a(35);t.__esModule=!0,t.mergeWithDefaults=function(e,t,a,s){var i=(0,n.default)({},e.formats,a);return(0,n.default)({},e,{messages:s,startOfWeek:function(){return e.startOfWeek(t)},format:function(a,s){return e.format(a,i[s]||s,t)}})},t.DateLocalizer=void 0;var n=s(a(62)),i=s(a(3)),r=(s(a(42)),i.default.oneOfType([i.default.string,i.default.func]));t.DateLocalizer=function(e){var t=this;"function"!==typeof e.format&&invariant(!1),"function"!==typeof e.firstOfWeek&&invariant(!1),this.propType=e.propType||r,this.startOfWeek=e.firstOfWeek,this.formats=e.formats,this.format=function(){for(var a=arguments.length,s=new Array(a),n=0;n<a;n++)s[n]=arguments[n];return function(e,t,a,s,n){var i="function"===typeof s?s(a,n,e):t.call(e,a,s,n);return null!=i&&"string"!==typeof i&&invariant(!1),i}.apply(void 0,[t,e.format].concat(s))}}},270:function(e,t,a){"use strict";var s=a(35);t.__esModule=!0,t.getEventNodeFromPoint=l,t.isEvent=function(e,t){return!!l(e,t)},t.objectsCollide=d,t.getBoundsForNode=m,t.default=void 0;var n=s(a(269)),i=s(a(1280)),r=s(a(1282));function o(e,t,a){return void 0===a&&(a=document),r.default.on(a,e,t,{passive:!1}),{remove:function(){r.default.off(a,e,t)}}}function l(e,t){var a=t.clientX,s=t.clientY,n=document.elementFromPoint(a,s);return(0,i.default)(n,".rbc-event",e)}function c(e){var t=e;return e.touches&&e.touches.length&&(t=e.touches[0]),{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}function d(e,t,a){void 0===a&&(a=0);var s=m(e),n=s.top,i=s.left,r=s.right,o=void 0===r?i:r,l=s.bottom,c=void 0===l?n:l,d=m(t),u=d.top,p=d.left,h=d.right,g=void 0===h?p:h,_=d.bottom;return!(c-a<u||n+a>(void 0===_?u:_)||o-a<p||i+a>g)}function m(e){if(!e.getBoundingClientRect)return e;var t=e.getBoundingClientRect(),a=t.left+u("left"),s=t.top+u("top");return{top:s,left:a,right:(e.offsetWidth||0)+a,bottom:(e.offsetHeight||0)+s}}function u(e){return"left"===e?window.pageXOffset||document.body.scrollLeft||0:"top"===e?window.pageYOffset||document.body.scrollTop||0:void 0}var p=function(){function e(e,t){var a=void 0===t?{}:t,s=a.global,n=void 0!==s&&s,i=a.longPressThreshold,r=void 0===i?250:i;this.container=e,this.globalMouse=!e||n,this.longPressThreshold=r,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._onTouchMoveWindowListener=o("touchmove",function(){},window),this._onKeyDownListener=o("keydown",this._keyListener),this._onKeyUpListener=o("keyup",this._keyListener),this._addInitialEventListener()}var t=e.prototype;return t.on=function(e,t){var a=this._listeners[e]||(this._listeners[e]=[]);return a.push(t),{remove:function(){var e=a.indexOf(t);-1!==e&&a.splice(e,1)}}},t.emit=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),s=1;s<t;s++)a[s-1]=arguments[s];var n;return(this._listeners[e]||[]).forEach(function(e){void 0===n&&(n=e.apply(void 0,a))}),n},t.teardown=function(){this.listeners=Object.create(null),this._onTouchMoveWindowListener&&this._onTouchMoveWindowListener.remove(),this._onInitialEventListener&&this._onInitialEventListener.remove(),this._onEndListener&&this._onEndListener.remove(),this._onEscListener&&this._onEscListener.remove(),this._onMoveListener&&this._onMoveListener.remove(),this._onKeyUpListener&&this._onKeyUpListener.remove(),this._onKeyDownListener&&this._onKeyDownListener.remove()},t.isSelected=function(e){var t=this._selectRect;return!(!t||!this.selecting)&&d(t,m(e))},t.filter=function(e){return this._selectRect&&this.selecting?e.filter(this.isSelected,this):[]},t._addLongPressListener=function(e,t){var a=this,s=null,n=null,i=null,r=function(t){s=setTimeout(function(){c(),e(t)},a.longPressThreshold),n=o("touchmove",function(){return c()}),i=o("touchend",function(){return c()})},l=o("touchstart",r),c=function(){s&&clearTimeout(s),n&&n.remove(),i&&i.remove(),s=null,n=null,i=null};return t&&r(t),{remove:function(){c(),l.remove()}}},t._addInitialEventListener=function(){var e=this,t=o("mousedown",function(t){e._onInitialEventListener.remove(),e._handleInitialEvent(t),e._onInitialEventListener=o("mousedown",e._handleInitialEvent)}),a=o("touchstart",function(t){e._onInitialEventListener.remove(),e._onInitialEventListener=e._addLongPressListener(e._handleInitialEvent,t)});this._onInitialEventListener={remove:function(){t.remove(),a.remove()}}},t._handleInitialEvent=function(e){var t,a=c(e),s=a.clientX,i=a.clientY,r=a.pageX,l=a.pageY,u=this.container();if(3!==e.which&&2!==e.button&&(h=s,g=i,!(p=u)||(0,n.default)(p,document.elementFromPoint(h,g)))){var p,h,g;if(!this.globalMouse&&u&&!(0,n.default)(u,e.target)){var _=function(e){void 0===e&&(e=0);"object"!==typeof e&&(e={top:e,left:e,right:e,bottom:e});return e}(0),v=_.top,f=_.left,b=_.bottom,E=_.right;if(!d({top:(t=m(u)).top-v,left:t.left-f,bottom:t.bottom+b,right:t.right+E},{top:l,left:r}))return}if(!1!==this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(e.type),x:r,y:l,clientX:s,clientY:i}))switch(e.type){case"mousedown":this._onEndListener=o("mouseup",this._handleTerminatingEvent),this._onEscListener=o("keydown",this._handleTerminatingEvent),this._onMoveListener=o("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(e),this._onEndListener=o("touchend",this._handleTerminatingEvent),this._onMoveListener=o("touchmove",this._handleMoveEvent)}}},t._handleTerminatingEvent=function(e){var t=c(e),a=t.pageX,s=t.pageY;if(this.selecting=!1,this._onEndListener&&this._onEndListener.remove(),this._onMoveListener&&this._onMoveListener.remove(),this._initialEventData){var i=!this.container||(0,n.default)(this.container(),e.target),r=this._selectRect,o=this.isClick(a,s);return this._initialEventData=null,"Escape"===e.key?this.emit("reset"):i?o&&i?this._handleClickEvent(e):o?void 0:this.emit("select",r):this.emit("reset")}},t._handleClickEvent=function(e){var t=c(e),a=t.pageX,s=t.pageY,n=t.clientX,i=t.clientY,r=(new Date).getTime();return this._lastClickData&&r-this._lastClickData.timestamp<250?(this._lastClickData=null,this.emit("doubleClick",{x:a,y:s,clientX:n,clientY:i})):(this._lastClickData={timestamp:r},this.emit("click",{x:a,y:s,clientX:n,clientY:i}))},t._handleMoveEvent=function(e){if(null!==this._initialEventData){var t=this._initialEventData,a=t.x,s=t.y,n=c(e),i=n.pageX,r=n.pageY,o=Math.abs(a-i),l=Math.abs(s-r),d=Math.min(i,a),m=Math.min(r,s),u=this.selecting;(u||o||l)&&(this.selecting=!0,this._selectRect={top:m,left:d,x:i,y:r,right:d+o,bottom:m+l},u||this.emit("selectStart",this._initialEventData),this.isClick(i,r)||this.emit("selecting",this._selectRect),e.preventDefault())}},t._keyListener=function(e){this.ctrl=e.metaKey||e.ctrlKey},t.isClick=function(e,t){var a=this._initialEventData,s=a.x,n=a.y;return!a.isTouch&&Math.abs(e-s)<=5&&Math.abs(t-n)<=5},e}();t.default=p},273:function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var s=function(e){return e.children};t.default=s,e.exports=t.default},307:function(e,t,a){e.exports=a.p+"static/media/logo.70367db3.png"},318:function(e,t,a){"use strict";var s=a(35);t.__esModule=!0,t.default=void 0;var n=s(a(1369)).default;t.default=n,e.exports=t.default},322:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAM4AAADOCAQAAADcFvVPAAAACXBIWXMAAA3XAAAN1wFCKJt4AAADGGlDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjaY2BgnuDo4uTKJMDAUFBUUuQe5BgZERmlwH6egY2BmYGBgYGBITG5uMAxIMCHgYGBIS8/L5UBFTAyMHy7xsDIwMDAcFnX0cXJlYE0wJpcUFTCwMBwgIGBwSgltTiZgYHhCwMDQ3p5SUEJAwNjDAMDg0hSdkEJAwNjAQMDg0h2SJAzAwNjCwMDE09JakUJAwMDg3N+QWVRZnpGiYKhpaWlgmNKflKqQnBlcUlqbrGCZ15yflFBflFiSWoKAwMD1A4GBgYGXpf8EgX3xMw8BSMDVQYqg4jIKAUICxE+CDEESC4tKoMHJQODAIMCgwGDA0MAQyJDPcMChqMMbxjFGV0YSxlXMN5jEmMKYprAdIFZmDmSeSHzGxZLlg6WW6x6rK2s99gs2aaxfWMPZ9/NocTRxfGFM5HzApcj1xZuTe4FPFI8U3mFeCfxCfNN45fhXyygI7BD0FXwilCq0A/hXhEVkb2i4aJfxCaJG4lfkaiQlJM8JpUvLS19QqZMVl32llyfvIv8H4WtioVKekpvldeqFKiaqP5UO6jepRGqqaT5QeuA9iSdVF0rPUG9V/pHDBYY1hrFGNuayJsym740u2C+02KJ5QSrOutcmzjbQDtXe2sHY0cdJzVnJRcFV3k3BXdlD3VPXS8Tbxsfd99gvwT//ID6wIlBS4N3hVwMfRnOFCEXaRUVEV0RMzN2T9yDBLZE3aSw5IaUNak30zkyLDIzs+ZmX8xlz7PPryjYVPiuWLskq3RV2ZsK/cqSql01jLVedVPrHzbqNdU0n22VaytsP9op3VXUfbpXta+x/+5Em0mzJ/+dGj/t8AyNmf2zvs9JmHt6vvmCpYtEFrcu+bYsc/m9lSGrTq9xWbtvveWGbZtMNm/ZarJt+w6rnft3u+45uy9s/4ODOYd+Hmk/Jn58xUnrU+fOJJ/9dX7SRe1LR68kXv13fc5Nm1t379TfU75/4mHeY7En+59lvhB5efB1/lv5dxc+NH0y/fzq64Lv4T8Ffp360/rP8f9/AA0ADzT6lvFdAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAZdSURBVHja7N1BbBRVHMfx75SCWLBlKS2WtkFJiMJRBARLsRxIkGAEDCYEExMNKRQQEzXGg0ETE2K4ICJrwODBgwLdbY2GEIwaiYaQVCFeSOUgB2KkFtiiCxTYejTuFOjuvpl5b+b3O252J7Pz2Xn//3s7O+uNMNakV7OSlxginnmA8zxHn+nNdlbw2uoSnjuBGqCWuOYheljLKXt2qKqE544wQrzTQoZ2N3GSkGa6WSQcWzONHh4Tjq1ppJf5NuxIddmvLHCWnPO4w9Qzd9Tas54T7uLc5DW+ocZxnBxP8/UdWoNn+dHdM2ew8ya5tOuD2N93rD1ZVpif94RTc6qYGPPa0xB17VFDcPfGOsMS4diSIW4X1Z5u2oRjRz5nr29wyzJPOHZ0b6/wka816I2GRzj/z2Sgy8fTTDaKwU04o6WL3UWPtJINf0lUOKNnO3tGmffMF44d2Ubx/HoqPTwuHDuyyVd7ZoRbe4RTWu1poZulwrG19jSSZYFwbKk9Hxc9kgqr9gjn3un0rRo0hVN7hDOWbPENbi1085RwbBnc/LUnE3TtEU5ltWeecGypPft8taeXJ4VjRzbzYdEjzUHWHuGUlq2+2jOdLAuFY0vtKR7cpgQ17xFOOYNbMc+D9ARRe4RjqvYcMV97hFNu7dntO3uypi+BF0652e77QsF47RFO+eny1Z5GelksHFtrzwyO0CEcW2tPExlTnZtwgqg9hi4FEY6J2lO8JNpAr4nOTTgm0uk7e5pMrLkJx9TZ88EotWeJcOyI/xrrVKWXgggnyNpTT096kXDsrT1H0kuFY8vZs9s3Lc2k24Vjy7yneNVgKpn0AuFUnltGVg12jVJ7nih9Q9URHYRx1FJV4Y2OPK6RN7xfk6gDxlW0VzneYgbrixvr9PrO7+3HmcCbrKGm4rtQeXj8zg5+Mrhvq1kMeBV+8K5wv+/RJjLpNaXxRIGzh43GtjWbhXTws7HtpUgF9r5TZNIrOdM55rM9/Jozj3VGt1fLy85UtBSbWWFzQ/AoU4xv0Z078IwrZawKH+csV4xvMe8MTkl1NnycPg4Z3d4QB+La10fREGzlgtFurbJ24BqXGAjsvRaYRGu53V8UOMO8y3vWzHN+4REKgb3Xayyjm/vcwQG4zWVr1gT+CnT7g+V/BLV8E/yU2xNODCMc4SjCEY4iHEU4wlGEIxxFOIpwhKMIRziKcBTh2J1ovqaeSQdTwYk/hfWAS3zH+WTgrGAfMx37EJ9nE0fjP6w1OEgDM9lHQ/xx2mh2sgA0h/8POuHjeLgaL/44xznnJM05jscf5yob6XeOpp+NXE1Ct3aCxbTTXPG10mENZh4X+IHBpMxzBslqiqkVAuEowhGOIhxFOMJRhCMcRTiKcISjCEc4inAU4QhHEU4SE9VdoyYywaGjNMz1pOBM5A1epJGCIxd4VHGRT3k/fKAocPazwbHx5WHeYTYvxL/mLGCVkwVgVWX/heMGzhzqnMSpY078cc5YcwPJ0nKZM/HHOc1BJ3EOcjoJDcHrnGU1DQ51awNk+SQZrXSB/RxkEp4jOCP8Y+R/dZyZhN4ipxUA+2qOIhzhKMIRjiIcRTjCUYQjHEU4inCEowhHOIpwFOEIRwk60XxNPZt1NDp0v7WLHOK3ZOA8z17qHfsQv0oXX8R/WJvGTudooJ6dTIs/TgetThaAVjrij3MjwD+4DzIFbsQf51j4l7UayWmOJeHM2UKfE33afxmhjy3hnzlRdGunaGcZDQ610gN8Sz4p85w8X2mKqRUC4SjCEY4iHEU4wlGEIxxFOIpwhKMIRziKcBThCEcRThITzdfUHk3UgSPXEECOP6LY1yhwUuzgGVIOXeBxmS/ZEf7tL6PAOcAax8aXOrbRwtr415w2ljtZAJbTFn+cWUx2Emcys+KPc5IBJ3EGOBl/nH7STuKk6U9CQ/A2v7KB6Q51a3/yGYeTMs85zGGq8Bw5Z0ai+tFKdWRv2c1f6cS85ijCEY4iHOEowlGEIxxFOMJRhKMIRziKcISjCEcRjnAU4QhHEY4iHOEowhGOIhxFOMJRhCMcJW44Ba7r8I0h18v/sUt1Baz16fHU6OjfNXnqyz8ByscZzy5yGhbvOb7UMT6KM2eujr0aAuEowlECwvGc+XG6vSnpGJbSEAyTB4Z0hMtOLXmGx/70fwcAtUEwpm2qVhYAAAAASUVORK5CYII="},365:function(e,t,a){"use strict";var s=a(35);t.__esModule=!0,t.views=t.dateRangeFormat=t.dateFormat=t.accessor=t.eventComponent=void 0;var n=s(a(3)),i=s(a(562));t.elementType=i.default;var r=s(a(1255)),o=a(110),l=n.default.oneOfType([i.default,n.default.shape({month:i.default,week:i.default,day:i.default,agenda:i.default})]);t.eventComponent=l;var c=Object.keys(o.views).map(function(e){return o.views[e]}),d=n.default.oneOfType([n.default.string,n.default.func]);t.accessor=d;var m=n.default.any;t.dateFormat=m;var u=n.default.func;t.dateRangeFormat=u;var p=n.default.oneOfType([n.default.arrayOf(n.default.oneOf(c)),(0,r.default)(n.default.object,function(e,t){for(var a=arguments.length,s=new Array(a>2?a-2:0),n=2;n<a;n++)s[n-2]=arguments[n];var r,o=e[t];return Object.keys(o).every(function(e){return-1!==c.indexOf(e)&&"boolean"===typeof o[e]||!(r=i.default.apply(void 0,[o,e].concat(s)))}),r||null})]);t.views=p},376:function(e,t,a){"use strict";var s=a(135),n=a(35);t.__esModule=!0,t.default=void 0;var i=n(a(62)),r=n(a(64)),o=n(a(3)),l=n(a(43)),c=n(a(572)),d=s(a(0)),m=a(34),u=n(a(52)),p=n(a(67)),h=n(a(1318)),g=n(a(1331)),_=n(a(590)),v=n(a(1332)),f=a(166),b=a(168),E=n(a(1333)),y=function(e){function t(t){var a;return(a=e.call(this,t)||this).handleScroll=function(e){a.scrollRef.current&&(a.scrollRef.current.scrollLeft=e.target.scrollLeft)},a.handleResize=function(){c.default.cancel(a.rafHandle),a.rafHandle=(0,c.default)(a.checkOverflow)},a.gutterRef=function(e){a.gutter=e&&(0,m.findDOMNode)(e)},a.handleSelectAlldayEvent=function(){a.clearSelection();for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];(0,f.notify)(a.props.onSelectEvent,t)},a.handleSelectAllDaySlot=function(e,t){var s=a.props.onSelectSlot;(0,f.notify)(s,{slots:e,start:e[0],end:e[e.length-1],action:t.action})},a.checkOverflow=function(){if(!a._updatingOverflow){var e=a.refs.content.scrollHeight>a.refs.content.clientHeight;a.state.isOverflowing!==e&&(a._updatingOverflow=!0,a.setState({isOverflowing:e},function(){a._updatingOverflow=!1}))}},a.memoizedResources=(0,u.default)(function(e,t){return(0,E.default)(e,t)}),a.state={gutterWidth:void 0,isOverflowing:null},a.scrollRef=d.default.createRef(),a}(0,r.default)(t,e);var a=t.prototype;return a.componentWillMount=function(){this.calculateScroll()},a.componentDidMount=function(){this.checkOverflow(),null==this.props.width&&this.measureGutter(),this.applyScroll(),window.addEventListener("resize",this.handleResize)},a.componentWillUnmount=function(){window.removeEventListener("resize",this.handleResize),c.default.cancel(this.rafHandle)},a.componentDidUpdate=function(){null==this.props.width&&this.measureGutter(),this.applyScroll()},a.componentWillReceiveProps=function(e){var t=this.props,a=t.range,s=t.scrollToTime;p.default.eq(e.range[0],a[0],"minute")&&p.default.eq(e.scrollToTime,s,"minute")||this.calculateScroll(e)},a.renderEvents=function(e,t,a){var s=this,n=this.props,r=n.min,o=n.max,l=n.components,c=n.accessors,m=n.localizer,u=this.memoizedResources(this.props.resources,c),g=u.groupEvents(t);return u.map(function(t,n){var u=t[0],_=t[1];return e.map(function(e,t){var v=(g.get(u)||[]).filter(function(t){return p.default.inRange(e,c.start(t),c.end(t),"day")});return d.default.createElement(h.default,(0,i.default)({},s.props,{localizer:m,min:p.default.merge(e,r),max:p.default.merge(e,o),resource:_&&u,components:l,isNow:p.default.eq(e,a,"day"),key:n+"-"+t,date:e,events:v}))})})},a.render=function(){var e=this.props,t=e.events,a=e.range,s=e.width,n=e.selected,i=e.getNow,r=e.resources,o=e.components,c=e.accessors,m=e.getters,u=e.localizer,h=e.min,_=e.max,f=e.showMultiDayTimes,E=e.longPressThreshold;s=s||this.state.gutterWidth;var y=a[0],N=a[a.length-1];this.slots=a.length;var S=[],D=[];return t.forEach(function(e){if((0,b.inRange)(e,y,N,c)){var t=c.start(e),a=c.end(e);c.allDay(e)||p.default.isJustDate(t)&&p.default.isJustDate(a)||!f&&!p.default.eq(t,a,"day")?S.push(e):D.push(e)}}),S.sort(function(e,t){return(0,b.sortEvents)(e,t,c)}),d.default.createElement("div",{className:(0,l.default)("rbc-time-view",r&&"rbc-time-view-resources")},d.default.createElement(v.default,{range:a,events:S,width:s,getNow:i,localizer:u,selected:n,resources:this.memoizedResources(r,c),selectable:this.props.selectable,accessors:c,getters:m,components:o,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:E,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectAlldayEvent,onDoubleClickEvent:this.props.onDoubleClickEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView}),d.default.createElement("div",{ref:"content",className:"rbc-time-content",onScroll:this.handleScroll},d.default.createElement(g.default,{date:y,ref:this.gutterRef,localizer:u,min:p.default.merge(y,h),max:p.default.merge(y,_),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:o,className:"rbc-time-gutter"}),this.renderEvents(a,D,i())))},a.clearSelection=function(){clearTimeout(this._selectTimer),this._pendingSelection=[]},a.measureGutter=function(){var e=(0,_.default)(this.gutter);e&&this.state.gutterWidth!==e&&this.setState({gutterWidth:e})},a.applyScroll=function(){if(this._scrollRatio){var e=this.refs.content;e.scrollTop=e.scrollHeight*this._scrollRatio,this._scrollRatio=null}},a.calculateScroll=function(e){void 0===e&&(e=this.props);var t=e,a=t.min,s=t.max,n=t.scrollToTime,i=n-p.default.startOf(n,"day"),r=p.default.diff(s,a);this._scrollRatio=i/r},t}(d.Component);t.default=y,y.propTypes={events:o.default.array.isRequired,resources:o.default.array,step:o.default.number,timeslots:o.default.number,range:o.default.arrayOf(o.default.instanceOf(Date)),min:o.default.instanceOf(Date),max:o.default.instanceOf(Date),getNow:o.default.func.isRequired,scrollToTime:o.default.instanceOf(Date),showMultiDayTimes:o.default.bool,rtl:o.default.bool,width:o.default.number,accessors:o.default.object.isRequired,components:o.default.object.isRequired,getters:o.default.object.isRequired,localizer:o.default.object.isRequired,selected:o.default.object,selectable:o.default.oneOf([!0,!1,"ignoreEvents"]),longPressThreshold:o.default.number,onNavigate:o.default.func,onSelectSlot:o.default.func,onSelectEnd:o.default.func,onSelectStart:o.default.func,onSelectEvent:o.default.func,onDoubleClickEvent:o.default.func,onDrillDown:o.default.func,getDrilldownView:o.default.func.isRequired},y.defaultProps={step:30,timeslots:2,min:p.default.startOf(new Date,"day"),max:p.default.endOf(new Date,"day"),scrollToTime:p.default.startOf(new Date,"day")},e.exports=t.default},380:function(e,t,a){"use strict";function s(e,t){var a=null;return"function"===typeof t?a=t(e):"string"===typeof t&&"object"===typeof e&&null!=e&&t in e&&(a=e[t]),a}t.__esModule=!0,t.accessor=s,t.wrapAccessor=void 0;t.wrapAccessor=function(e){return function(t){return s(t,e)}}},381:function(e,t,a){"use strict";var s=a(35);t.__esModule=!0,t.mergeComponents=t.nest=t.dragAccessors=void 0;var n=s(a(62)),i=s(a(109)),r=a(380),o=a(0),l={start:(0,r.wrapAccessor)(function(e){return e.start}),end:(0,r.wrapAccessor)(function(e){return e.end})};t.dragAccessors=l;var c=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var s=t.filter(Boolean).map(o.createFactory);return function(e){var t=e.children,a=(0,i.default)(e,["children"]);return s.reduceRight(function(e,t){return t(a,e)},t)}};t.nest=c;t.mergeComponents=function(e,t){void 0===e&&(e={});var a=Object.keys(t),s=(0,n.default)({},e);return a.forEach(function(a){s[a]=e[a]?c(e[a],t[a]):t[a]}),s}},45:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(482);Object.defineProperty(t,"DateRange",{enumerable:!0,get:function(){return l(s).default}});var n=a(483);Object.defineProperty(t,"Calendar",{enumerable:!0,get:function(){return l(n).default}});var i=a(976);Object.defineProperty(t,"DateRangePicker",{enumerable:!0,get:function(){return l(i).default}});var r=a(493);Object.defineProperty(t,"DefinedRange",{enumerable:!0,get:function(){return l(r).default}});var o=a(494);function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"defaultInputRanges",{enumerable:!0,get:function(){return o.defaultInputRanges}}),Object.defineProperty(t,"defaultStaticRanges",{enumerable:!0,get:function(){return o.defaultStaticRanges}}),Object.defineProperty(t,"createStaticRanges",{enumerable:!0,get:function(){return o.createStaticRanges}})},482:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},n=function(){function e(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,a,s){return a&&e(t.prototype,a),s&&e(t,s),t}}(),i=a(0),r=b(i),o=b(a(3)),l=b(a(483)),c=a(238),d=a(242),m=b(a(490)),u=b(a(488)),p=b(a(491)),h=b(a(337)),g=b(a(336)),_=b(a(331)),v=b(a(43)),f=b(a(244));function b(e){return e&&e.__esModule?e:{default:e}}var E=function(e){function t(e,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));return s.setSelection=s.setSelection.bind(s),s.handleRangeFocusChange=s.handleRangeFocusChange.bind(s),s.updatePreview=s.updatePreview.bind(s),s.calcNewSelection=s.calcNewSelection.bind(s),s.state={focusedRange:e.initialFocusedRange||[(0,d.findNextRangeIndex)(e.ranges),0],preview:null},s.styles=(0,d.generateStyles)([f.default,e.classNames]),s}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),n(t,[{key:"calcNewSelection",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=this.props.focusedRange||this.state.focusedRange,s=this.props,n=s.ranges,i=s.onChange,r=s.maxDate,o=s.moveRangeOnFirstSelection,l=s.disabledDates,c=n[a[0]];if(!c||!i)return{};var v=c.startDate,f=c.endDate;f||(f=new Date(v));var b=void 0;if(t)if(0===a[1]){var E=(0,g.default)(f,v);v=e,f=o?(0,h.default)(e,E):e,r&&(f=(0,p.default)([f,r])),b=[a[0],1]}else f=e;else v=e.startDate,f=e.endDate;var y=0===a[1];if((0,_.default)(f,v)){y=!y;var N=[f,v];v=N[0],f=N[1]}var S=l.filter(function(e){return(0,u.default)(e,{start:v,end:f})});(S.length>0&&(y?v=(0,h.default)((0,m.default)(S),1):f=(0,h.default)((0,p.default)(S),-1)),b)||(b=[(0,d.findNextRangeIndex)(this.props.ranges,a[0]),0]);return{wasValid:!(S.length>0),range:{startDate:v,endDate:f},nextFocusRange:b}}},{key:"setSelection",value:function(e,t){var a=this.props,n=a.onChange,i=a.ranges,r=a.onRangeFocusChange,o=(this.props.focusedRange||this.state.focusedRange)[0],l=i[o];if(l){var c=this.calcNewSelection(e,t);n(function(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}({},l.key||"range"+(o+1),s({},l,c.range))),this.setState({focusedRange:c.nextFocusRange,preview:null}),r&&r(c.nextFocusRange)}}},{key:"handleRangeFocusChange",value:function(e){this.setState({focusedRange:e}),this.props.onRangeFocusChange&&this.props.onRangeFocusChange(e)}},{key:"updatePreview",value:function(e){if(e){var t=this.props,a=t.rangeColors,n=t.ranges,i=this.props.focusedRange||this.state.focusedRange,r=n[i[0]].color||a[i[0]]||r;this.setState({preview:s({},e.range,{color:r})})}else this.setState({preview:null})}},{key:"render",value:function(){var e=this;return r.default.createElement(l.default,s({focusedRange:this.state.focusedRange,onRangeFocusChange:this.handleRangeFocusChange,preview:this.state.preview,onPreviewChange:function(t){e.updatePreview(t?e.calcNewSelection(t):null)}},this.props,{displayMode:"dateRange",className:(0,v.default)(this.styles.dateRangeWrapper,this.props.className),onChange:this.setSelection,updateRange:function(t){return e.setSelection(t,!1)},ref:function(t){e.calendar=t}}))}}]),t}();E.defaultProps={classNames:{},ranges:[],moveRangeOnFirstSelection:!1,rangeColors:["#3d91ff","#3ecf8e","#fed14c"],disabledDates:[]},E.propTypes=s({},l.default.propTypes,{onChange:o.default.func,onRangeFocusChange:o.default.func,className:o.default.string,ranges:o.default.arrayOf(c.rangeShape),moveRangeOnFirstSelection:o.default.bool}),t.default=E},483:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},n=function(){function e(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,a,s){return a&&e(t.prototype,a),s&&e(t,s),t}}(),i=a(0),r=I(i),o=I(a(3)),l=a(238),c=I(a(966)),d=a(242),m=I(a(43)),u=I(a(969)),p=I(a(490)),h=I(a(491)),g=I(a(970)),_=I(a(972)),v=I(a(337)),f=I(a(334)),b=I(a(335)),E=I(a(973)),y=I(a(974)),N=I(a(975)),S=I(a(492)),D=I(a(239)),w=I(a(240)),C=I(a(241)),x=I(a(487)),L=I(a(332)),O=I(a(243)),A=I(a(485)),T=I(a(244));function I(e){return e&&e.__esModule?e:{default:e}}function R(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var k=function(e){function t(e,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));return s.changeShownDate=s.changeShownDate.bind(s),s.focusToDate=s.focusToDate.bind(s),s.updateShownDate=s.updateShownDate.bind(s),s.handleRangeFocusChange=s.handleRangeFocusChange.bind(s),s.renderDateDisplay=s.renderDateDisplay.bind(s),s.onDragSelectionStart=s.onDragSelectionStart.bind(s),s.onDragSelectionEnd=s.onDragSelectionEnd.bind(s),s.onDragSelectionMove=s.onDragSelectionMove.bind(s),s.renderMonthAndYear=s.renderMonthAndYear.bind(s),s.updatePreview=s.updatePreview.bind(s),s.estimateMonthSize=s.estimateMonthSize.bind(s),s.handleScroll=s.handleScroll.bind(s),s.dateOptions={locale:e.locale},s.styles=(0,d.generateStyles)([T.default,e.classNames]),s.listSizeCache={},s.state={focusedDate:(0,d.calcFocusDate)(null,e),drag:{status:!1,range:{startDate:null,endDate:null},disablePreview:!1},scrollArea:s.calcScrollArea(e)},s}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.PureComponent),n(t,[{key:"calcScrollArea",value:function(e){var t=e.direction,a=e.months,s=e.scroll;if(!s.enabled)return{enabled:!1};var n=s.longMonthHeight||s.monthHeight;return"vertical"===t?{enabled:!0,monthHeight:s.monthHeight||220,longMonthHeight:n||260,calendarWidth:"auto",calendarHeight:(s.calendarHeight||n||240)*a}:{enabled:!0,monthWidth:s.monthWidth||332,calendarWidth:(s.calendarWidth||s.monthWidth||332)*a,monthHeight:n||300,calendarHeight:n||300}}},{key:"focusToDate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t.scroll.enabled){var s=(0,E.default)(e,t.minDate,this.dateOptions),n=this.list.getVisibleRange();a&&n.includes(s)||(this.list.scrollTo(s),this.setState({focusedDate:e}))}else this.setState({focusedDate:e})}},{key:"updateShownDate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=e.scroll.enabled?s({},e,{months:this.list.getVisibleRange().length}):e,a=(0,d.calcFocusDate)(this.state.focusedDate,t);this.focusToDate(a,t)}},{key:"updatePreview",value:function(e){if(e){var t={startDate:e,endDate:e,color:this.props.color};this.setState({preview:t})}else this.setState({preview:null})}},{key:"componentDidMount",value:function(){var e=this;this.props.scroll.enabled&&setTimeout(function(){return e.focusToDate(e.state.focusedDate)},1)}},{key:"componentWillReceiveProps",value:function(e){var t={dateRange:"ranges",date:"date"}[e.displayMode];this.props.locale!==e.locale&&(this.dateOptions={locale:e.locale}),JSON.stringify(this.props.scroll)!==JSON.stringify(e.scroll)&&this.setState({scrollArea:this.calcScrollArea(e)}),e[t]!==this.props[t]&&this.updateShownDate(e)}},{key:"changeShownDate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"set",a=this.state.focusedDate,s=this.props,n=s.onShownDateChange,i=s.minDate,r=s.maxDate,o={monthOffset:function(){return(0,O.default)(a,e)},setMonth:function(){return(0,y.default)(a,e)},setYear:function(){return(0,N.default)(a,e)},set:function(){return e}},l=(0,h.default)([(0,p.default)([o[t](),i]),r]);this.focusToDate(l,this.props,!1),n&&n(l)}},{key:"handleRangeFocusChange",value:function(e,t){this.props.onRangeFocusChange&&this.props.onRangeFocusChange([e,t])}},{key:"handleScroll",value:function(){var e=this.props,t=e.onShownDateChange,a=e.minDate,s=this.list.getVisibleRange();if(void 0!==s[0]){var n=(0,O.default)(a,s[0]||0);!(0,_.default)(n,this.state.focusedDate)&&(this.setState({focusedDate:n}),t&&t(n))}}},{key:"renderMonthAndYear",value:function(e,a,s){var n=s.showMonthArrow,i=s.locale,o=s.minDate,l=s.maxDate,c=s.showMonthAndYearPickers,d=(l||t.defaultProps.maxDate).getFullYear(),u=(o||t.defaultProps.minDate).getFullYear(),p=this.styles;return r.default.createElement("div",{onMouseUp:function(e){return e.stopPropagation()},className:p.monthAndYearWrapper},n?r.default.createElement("button",{type:"button",className:(0,m.default)(p.nextPrevButton,p.prevButton),onClick:function(){return a(-1,"monthOffset")}},r.default.createElement("i",null)):null,c?r.default.createElement("span",{className:p.monthAndYearPickers},r.default.createElement("span",{className:p.monthPicker},r.default.createElement("select",{value:e.getMonth(),onChange:function(e){return a(e.target.value,"setMonth")}},i.localize.months().map(function(e,t){return r.default.createElement("option",{key:t,value:t},e)}))),r.default.createElement("span",{className:p.monthAndYearDivider}),r.default.createElement("span",{className:p.yearPicker},r.default.createElement("select",{value:e.getFullYear(),onChange:function(e){return a(e.target.value,"setYear")}},new Array(d-u+1).fill(d).map(function(e,t){var a=e-t;return r.default.createElement("option",{key:a,value:a},a)})))):r.default.createElement("span",{className:p.monthAndYearPickers},i.localize.months()[e.getMonth()]," ",e.getFullYear()),n?r.default.createElement("button",{type:"button",className:(0,m.default)(p.nextPrevButton,p.nextButton),onClick:function(){return a(1,"monthOffset")}},r.default.createElement("i",null)):null)}},{key:"renderWeekdays",value:function(){var e=this,t=new Date;return r.default.createElement("div",{className:this.styles.weekDays},(0,x.default)({start:(0,C.default)(t,this.dateOptions),end:(0,w.default)(t,this.dateOptions)}).map(function(t,a){return r.default.createElement("span",{className:e.styles.weekDay,key:a},(0,L.default)(t,"ddd",e.dateOptions))}))}},{key:"renderDateDisplay",value:function(){var e=this,t=this.props,a=t.focusedRange,s=t.color,n=t.ranges,i=t.rangeColors[a[0]]||s,o=this.styles;return r.default.createElement("div",{className:o.dateDisplayWrapper},n.map(function(t,s){return!1===t.showDateDisplay||t.disabled&&!t.showDateDisplay?null:r.default.createElement("div",{className:o.dateDisplay,key:s,style:{color:t.color||i}},r.default.createElement("span",{className:(0,m.default)(o.dateDisplayItem,R({},o.dateDisplayItemActive,a[0]===s&&0===a[1])),onFocus:function(){return e.handleRangeFocusChange(s,0)}},r.default.createElement("input",{disabled:t.disabled,readOnly:!0,value:e.formatDateDisplay(t.startDate,"Early")})),r.default.createElement("span",{className:(0,m.default)(o.dateDisplayItem,R({},o.dateDisplayItemActive,a[0]===s&&1===a[1])),onFocus:function(){return e.handleRangeFocusChange(s,1)}},r.default.createElement("input",{disabled:t.disabled,readOnly:!0,value:e.formatDateDisplay(t.endDate,"Continuous")})))}))}},{key:"onDragSelectionStart",value:function(e){var t=this.props,a=t.onChange;t.dragSelectionEnabled?this.setState({drag:{status:!0,range:{startDate:e,endDate:e},disablePreview:!0}}):a&&a(e)}},{key:"onDragSelectionEnd",value:function(e){var t=this.props,a=t.updateRange,s=t.displayMode,n=t.onChange;if(t.dragSelectionEnabled)if("date"!==s&&this.state.drag.status){var i={startDate:this.state.drag.range.startDate,endDate:e};"dateRange"!==s||(0,D.default)(i.startDate,e)?this.setState({drag:{status:!1,range:{}}},function(){return n&&n(e)}):this.setState({drag:{status:!1,range:{}}},function(){a&&a(i)})}else n&&n(e)}},{key:"onDragSelectionMove",value:function(e){var t=this.state.drag;t.status&&this.props.dragSelectionEnabled&&this.setState({drag:{status:t.status,range:{startDate:t.range.startDate,endDate:e},disablePreview:!0}})}},{key:"estimateMonthSize",value:function(e,t){var a=this.props,s=a.direction,n=a.minDate,i=this.state.scrollArea;if(t&&(this.listSizeCache=t,t[e]))return t[e];if("horizontal"===s)return i.monthWidth;var r=(0,O.default)(n,e),o=(0,d.getMonthDisplayRange)(r,this.dateOptions),l=o.start,c=o.end;return(0,g.default)(c,l,this.dateOptions)+1>35?i.longMonthHeight:i.monthHeight}},{key:"formatDateDisplay",value:function(e,t){return e?(0,L.default)(e,this.props.dateDisplayFormat,this.dateOptions):t}},{key:"render",value:function(){var e=this,t=this.props,a=t.showDateDisplay,n=t.onPreviewChange,i=t.scroll,o=t.direction,l=t.disabledDates,d=t.maxDate,p=t.minDate,h=t.rangeColors,g=t.color,_=this.state,y=_.scrollArea,N=_.focusedDate,S="vertical"===o,D=this.props.navigatorRenderer||this.renderMonthAndYear,w=this.props.ranges.map(function(e,t){return s({},e,{color:e.color||h[t]||g})});return r.default.createElement("div",{className:(0,m.default)(this.styles.calendarWrapper,this.props.className),onMouseUp:function(){return e.setState({drag:{status:!1,range:{}}})},onMouseLeave:function(){e.setState({drag:{status:!1,range:{}}})}},a&&this.renderDateDisplay(),D(N,this.changeShownDate,this.props),i.enabled?r.default.createElement("div",null,S&&this.renderWeekdays(this.dateOptions),r.default.createElement("div",{className:(0,m.default)(this.styles.infiniteMonths,S?this.styles.monthsVertical:this.styles.monthsHorizontal),onMouseLeave:function(){return n&&n()},style:{width:y.calendarWidth+11,height:y.calendarHeight+11},onScroll:this.handleScroll},r.default.createElement(u.default,{length:(0,E.default)((0,f.default)(d),(0,v.default)((0,b.default)(p),-1),this.dateOptions),treshold:500,type:"variable",ref:function(t){return e.list=t},itemSizeEstimator:this.estimateMonthSize,axis:S?"y":"x",itemRenderer:function(t,a){var i=(0,O.default)(p,t);return r.default.createElement(c.default,s({},e.props,{onPreviewChange:e.props.onPreviewChange||e.updatePreview,preview:e.props.preview||e.state.preview,ranges:w,key:a,drag:e.state.drag,dateOptions:e.dateOptions,disabledDates:l,month:i,onDragSelectionStart:e.onDragSelectionStart,onDragSelectionEnd:e.onDragSelectionEnd,onDragSelectionMove:e.onDragSelectionMove,onMouseLeave:function(){return n&&n()},styles:e.styles,style:S?{height:e.estimateMonthSize(t)}:{height:y.monthHeight,width:e.estimateMonthSize(t)},showMonthName:!0,showWeekDays:!S}))}}))):r.default.createElement("div",{className:(0,m.default)(this.styles.months,S?this.styles.monthsVertical:this.styles.monthsHorizontal)},new Array(this.props.months).fill(null).map(function(t,a){var i=(0,O.default)(e.state.focusedDate,a);return r.default.createElement(c.default,s({},e.props,{onPreviewChange:e.props.onPreviewChange||e.updatePreview,preview:e.props.preview||e.state.preview,ranges:w,key:a,drag:e.state.drag,dateOptions:e.dateOptions,disabledDates:l,month:i,onDragSelectionStart:e.onDragSelectionStart,onDragSelectionEnd:e.onDragSelectionEnd,onDragSelectionMove:e.onDragSelectionMove,onMouseLeave:function(){return n&&n()},styles:e.styles,showWeekDays:!S||0===a,showMonthName:!S||a>0}))})))}}]),t}();k.defaultProps={showMonthArrow:!0,showMonthAndYearPickers:!0,disabledDates:[],classNames:{},locale:A.default,ranges:[],focusedRange:[0,0],dateDisplayFormat:"MMM D, YYYY",monthDisplayFormat:"MMM YYYY",showDateDisplay:!0,showPreview:!0,displayMode:"date",months:1,color:"#3d91ff",scroll:{enabled:!1},direction:"vertical",maxDate:(0,S.default)(new Date,20),minDate:(0,S.default)(new Date,-100),rangeColors:["#3d91ff","#3ecf8e","#fed14c"],dragSelectionEnabled:!0},k.propTypes={showMonthArrow:o.default.bool,showMonthAndYearPickers:o.default.bool,disabledDates:o.default.array,minDate:o.default.object,maxDate:o.default.object,date:o.default.object,onChange:o.default.func,onPreviewChange:o.default.func,onRangeFocusChange:o.default.func,classNames:o.default.object,locale:o.default.object,shownDate:o.default.object,onShownDateChange:o.default.func,ranges:o.default.arrayOf(l.rangeShape),preview:o.default.shape({startDate:o.default.object,endDate:o.default.object,color:o.default.string}),dateDisplayFormat:o.default.string,monthDisplayFormat:o.default.string,focusedRange:o.default.arrayOf(o.default.number),initialFocusedRange:o.default.arrayOf(o.default.number),months:o.default.number,className:o.default.string,showDateDisplay:o.default.bool,showPreview:o.default.bool,displayMode:o.default.oneOf(["dateRange","date"]),color:o.default.string,updateRange:o.default.func,scroll:o.default.shape({enabled:o.default.bool,monthHeight:o.default.number,longMonthHeight:o.default.number,monthWidth:o.default.number,calendarWidth:o.default.number,calendarHeight:o.default.number}),direction:o.default.oneOf(["vertical","horizontal"]),navigatorRenderer:o.default.func,rangeColors:o.default.arrayOf(o.default.string),dragSelectionEnabled:o.default.bool},t.default=k},493:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},n=function(){function e(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,a,s){return a&&e(t.prototype,a),s&&e(t,s),t}}(),i=a(0),r=u(i),o=u(a(3)),l=u(a(244)),c=a(494),d=a(238),m=u(a(43));function u(e){return e&&e.__esModule?e:{default:e}}function p(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={rangeOffset:0,focusedInput:-1},a.handleRangeChange=a.handleRangeChange.bind(a),a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),n(t,[{key:"handleRangeChange",value:function(e){var t=this.props,a=t.onChange,n=t.ranges,i=t.focusedRange,r=n[i[0]];a&&r&&a(p({},r.key||"range"+(i[0]+1),s({},r,e)))}},{key:"getSelectedRange",value:function(e,t){var a=e.findIndex(function(e){return!(!e.startDate||!e.endDate||e.disabled)&&t.isSelected(e)});return{selectedRange:e[a],focusedRangeIndex:a}}},{key:"render",value:function(){var e=this,t=this.props,a=t.onPreviewChange,s=t.ranges,n=t.renderStaticRangeLabel,i=t.rangeColors,o=t.className;return r.default.createElement("div",{className:(0,m.default)(l.default.definedRangesWrapper,o)},this.props.headerContent,r.default.createElement("div",{className:l.default.staticRanges},this.props.staticRanges.map(function(t,o){var c=e.getSelectedRange(s,t),d=c.selectedRange,u=c.focusedRangeIndex,h=void 0;return h=t.hasCustomRendering?n(t):t.label,r.default.createElement("button",{type:"button",className:(0,m.default)(l.default.staticRange,p({},l.default.staticRangeSelected,Boolean(d))),style:{color:d?d.color||i[u]:null},key:o,onClick:function(){return e.handleRangeChange(t.range(e.props))},onFocus:function(){return a&&a(t.range(e.props))},onMouseOver:function(){return a&&a(t.range(e.props))},onMouseLeave:function(){e.props.onPreviewChange&&e.props.onPreviewChange()}},r.default.createElement("span",{tabIndex:-1,className:l.default.staticRangeLabel},h))})),r.default.createElement("div",{className:l.default.inputRanges},this.props.inputRanges.map(function(t,a){return r.default.createElement("div",{className:l.default.inputRange,key:a},r.default.createElement("input",{className:l.default.inputRangeInput,onFocus:function(){return e.setState({focusedInput:a,rangeOffset:0})},onBlur:function(){return e.setState({rangeOffset:0})},onChange:function(a){var s=parseInt(a.target.value,10);s=isNaN(s)?0:Math.max(Math.min(99999,s),0),e.handleRangeChange(t.range(s,e.props))},min:0,max:99999,value:t.getCurrentValue?t.getCurrentValue(s[e.props.focusedRange[0]]||{}):"-"}),r.default.createElement("span",{className:l.default.inputRangeLabel},t.label))})),this.props.footerContent)}}]),t}();h.propTypes={inputRanges:o.default.array,staticRanges:o.default.array,ranges:o.default.arrayOf(d.rangeShape),focusedRange:o.default.arrayOf(o.default.number),onPreviewChange:o.default.func,onChange:o.default.func,footerContent:o.default.any,headerContent:o.default.any,rangeColors:o.default.arrayOf(o.default.string),className:o.default.string,renderStaticRangeLabel:o.default.func},h.defaultProps={inputRanges:c.defaultInputRanges,staticRanges:c.defaultStaticRanges,ranges:[],rangeColors:["#3d91ff","#3ecf8e","#fed14c"],focusedRange:[0,0]},t.default=h},494:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultInputRanges=t.defaultStaticRanges=void 0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e};t.createStaticRanges=E;var n=v(a(336)),i=v(a(239)),r=v(a(240)),o=v(a(241)),l=v(a(243)),c=v(a(334)),d=v(a(335)),m=v(a(193)),u=v(a(330)),p=v(a(337)),h=v(a(492)),g=v(a(977)),_=v(a(978));function v(e){return e&&e.__esModule?e:{default:e}}var f={startOfWeek:(0,o.default)(new Date),endOfWeek:(0,r.default)(new Date),startOfLastWeek:(0,o.default)((0,p.default)(new Date,-7)),endOfLastWeek:(0,r.default)((0,p.default)(new Date,-7)),startOfToday:(0,m.default)(new Date),endOfToday:(0,u.default)(new Date),startOfYesterday:(0,m.default)((0,p.default)(new Date,-1)),endOfYesterday:(0,u.default)((0,p.default)(new Date,-1)),startOfMonth:(0,d.default)(new Date),endOfMonth:(0,c.default)(new Date),startOfLastMonth:(0,d.default)((0,l.default)(new Date,-1)),endOfLastMonth:(0,c.default)((0,l.default)(new Date,-1)),startOfYear:(0,g.default)(new Date),endOfYear:(0,_.default)(new Date),startOfLastYear:(0,g.default)((0,h.default)(new Date,-1)),endOfLastYear:(0,_.default)((0,h.default)(new Date,-1))},b={range:{},isSelected:function(e){var t=this.range();return(0,i.default)(e.startDate,t.startDate)&&(0,i.default)(e.endDate,t.endDate)}};function E(e){return e.map(function(e){return s({},b,e)})}t.defaultStaticRanges=E([{label:"Today",range:function(){return{startDate:f.startOfToday,endDate:f.endOfToday}}},{label:"Yesterday",range:function(){return{startDate:f.startOfYesterday,endDate:f.endOfYesterday}}},{label:"This Week",range:function(){return{startDate:f.startOfWeek,endDate:f.endOfWeek}}},{label:"Last Week",range:function(){return{startDate:f.startOfLastWeek,endDate:f.endOfLastWeek}}},{label:"This Month",range:function(){return{startDate:f.startOfMonth,endDate:f.endOfMonth}}},{label:"Last Month",range:function(){return{startDate:f.startOfLastMonth,endDate:f.endOfLastMonth}}},{label:"This Year",range:function(){return{startDate:f.startOfYear,endDate:f.endOfYear}}},{label:"Last Year",range:function(){return{startDate:f.startOfLastYear,endDate:f.endOfLastYear}}}]),t.defaultInputRanges=[{label:"days up to today",range:function(e){return{startDate:(0,p.default)(f.startOfToday,-1*(Math.max(Number(e),1)-1)),endDate:f.endOfToday}},getCurrentValue:function(e){return(0,i.default)(e.endDate,f.endOfToday)?e.startDate?(0,n.default)(f.endOfToday,e.startDate)+1:"\u221e":"-"}},{label:"days starting today",range:function(e){var t=new Date;return{startDate:t,endDate:(0,p.default)(t,Math.max(Number(e),1)-1)}},getCurrentValue:function(e){return(0,i.default)(e.startDate,f.startOfToday)?e.endDate?(0,n.default)(e.endDate,f.startOfToday)+1:"\u221e":"-"}}]},563:function(e,t,a){"use strict";var s=a(35);t.__esModule=!0,t.default=function(e,t){var a=t.action,s=t.date,o=t.today,l=(0,n.default)(t,["action","date","today"]);switch(e="string"===typeof e?r.default[e]:e,a){case i.navigate.TODAY:s=o||new Date;break;case i.navigate.DATE:break;default:e&&"function"===typeof e.navigate||invariant(!1),s=e.navigate(s,a,l)}return s};var n=s(a(109)),i=(s(a(42)),a(110)),r=s(a(564));e.exports=t.default},564:function(e,t,a){"use strict";var s=a(35);t.__esModule=!0,t.default=void 0;var n,i=a(110),r=s(a(1257)),o=s(a(1317)),l=s(a(592)),c=s(a(1334)),d=s(a(1335)),m=((n={})[i.views.MONTH]=r.default,n[i.views.WEEK]=l.default,n[i.views.WORK_WEEK]=c.default,n[i.views.DAY]=o.default,n[i.views.AGENDA]=d.default,n);t.default=m,e.exports=t.default},573:function(e,t,a){"use strict";var s=a(35);t.__esModule=!0,t.default=void 0;var n=s(a(62)),i=s(a(109)),r=s(a(64)),o=s(a(3)),l=s(a(0)),c=s(a(43)),d=s(a(67)),m={event:o.default.object.isRequired,slotStart:o.default.instanceOf(Date),slotEnd:o.default.instanceOf(Date),selected:o.default.bool,isAllDay:o.default.bool,continuesPrior:o.default.bool,continuesAfter:o.default.bool,accessors:o.default.object.isRequired,components:o.default.object.isRequired,getters:o.default.object.isRequired,localizer:o.default.object,onSelect:o.default.func,onDoubleClick:o.default.func},u=function(e){function t(){return e.apply(this,arguments)||this}return(0,r.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.style,a=e.className,s=e.event,r=e.selected,o=e.isAllDay,m=e.onSelect,u=e.onDoubleClick,p=e.localizer,h=e.continuesPrior,g=e.continuesAfter,_=e.accessors,v=e.getters,f=e.children,b=e.components,E=b.event,y=b.eventWrapper,N=(0,i.default)(e,["style","className","event","selected","isAllDay","onSelect","onDoubleClick","localizer","continuesPrior","continuesAfter","accessors","getters","children","components"]),S=_.title(s),D=(_.tooltip(s),_.end(s)),w=_.start(s),C=_.allDay(s),x=o||C||d.default.diff(w,d.default.ceil(D,"day"),"day")>1,L=v.eventProp(s,w,D,r);console.log(S,s);var O=l.default.createElement("div",{className:"rbc-event-content","data-tip":s.clientName||void 0},E?l.default.createElement(E,{event:s,title:S,isAllDay:C,localizer:p}):S);return l.default.createElement(y,(0,n.default)({},this.props,{type:"date"}),l.default.createElement("button",(0,n.default)({},N,{style:(0,n.default)({backgroundColor:s.clinicColor},L.style,t),className:(0,c.default)("rbc-event",a,L.className,{"rbc-selected":r,"rbc-event-allday":x,"rbc-event-continues-prior":h,"rbc-event-continues-after":g}),onClick:function(e){return m&&m(s,e)},onDoubleClick:function(e){return u&&u(s,e)}}),"function"===typeof f?f(O):O))},t}(l.default.Component);u.propTypes=m;var p=u;t.default=p,e.exports=t.default},574:function(e,t,a){"use strict";var s=a(135),n=a(35);t.__esModule=!0,t.default=void 0;var i=n(a(62)),r=n(a(64)),o=n(a(198)),l=n(a(43)),c=n(a(1278)),d=n(a(373)),m=n(a(3)),u=n(a(0)),p=a(34),h=n(a(67)),g=n(a(1279)),_=n(a(575)),v=n(a(1285)),f=s(a(1315)),b={date:m.default.instanceOf(Date),events:m.default.array.isRequired,range:m.default.array.isRequired,rtl:m.default.bool,resourceId:m.default.any,renderForMeasure:m.default.bool,renderHeader:m.default.func,container:m.default.func,selected:m.default.object,selectable:m.default.oneOf([!0,!1,"ignoreEvents"]),longPressThreshold:m.default.number,onShowMore:m.default.func,onSelectSlot:m.default.func,onSelect:m.default.func,onSelectEnd:m.default.func,onSelectStart:m.default.func,onDoubleClick:m.default.func,dayPropGetter:m.default.func,getNow:m.default.func.isRequired,isAllDay:m.default.bool,accessors:m.default.object.isRequired,components:m.default.object.isRequired,getters:m.default.object.isRequired,localizer:m.default.object.isRequired,minRows:m.default.number.isRequired,maxRows:m.default.number.isRequired},E={minRows:0,maxRows:1/0},y=function(e){function t(){for(var t,a=arguments.length,s=new Array(a),n=0;n<a;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))||this).handleSelectSlot=function(e){var a=t.props,s=a.range;(0,a.onSelectSlot)(s.slice(e.start,e.end+1),e)},t.handleShowMore=function(e){var a,s=t.props,n=s.range,i=s.onShowMore,r=t.slotMetrics(t.props),l=(0,d.default)((0,p.findDOMNode)((0,o.default)((0,o.default)(t))),".rbc-row-bg")[0];l&&(a=l.children[e-1]),i(r.getEventsForSlot(e),n[e-1],a,e)},t.createHeadingRef=function(e){t.headingRow=e},t.createEventRef=function(e){t.eventRow=e},t.getContainer=function(){var e=t.props.container;return e?e():(0,p.findDOMNode)((0,o.default)((0,o.default)(t)))},t.renderHeadingCell=function(e,a){var s=t.props,n=s.renderHeader,i=s.getNow;return n({date:e,key:"header_"+a,className:(0,l.default)("rbc-date-cell",h.default.eq(e,i(),"day")&&"rbc-now")})},t.renderDummy=function(){var e=t.props,a=e.className,s=e.range,n=e.renderHeader;return u.default.createElement("div",{className:a},u.default.createElement("div",{className:"rbc-row-content"},n&&u.default.createElement("div",{className:"rbc-row",ref:t.createHeadingRef},s.map(t.renderHeadingCell)),u.default.createElement("div",{className:"rbc-row",ref:t.createEventRef},u.default.createElement("div",{className:"rbc-row-segment"},u.default.createElement("div",{className:"rbc-event"},u.default.createElement("div",{className:"rbc-event-content"},"\xa0"))))))},t.slotMetrics=f.getSlotMetrics(),t}(0,r.default)(t,e);var a=t.prototype;return a.getRowLimit=function(){var e=(0,c.default)(this.eventRow),t=this.headingRow?(0,c.default)(this.headingRow):0,a=(0,c.default)((0,p.findDOMNode)(this))-t;return Math.max(Math.floor(a/e),1)},a.render=function(){var e=this.props,t=e.date,a=e.rtl,s=e.range,n=e.className,r=e.selected,o=e.selectable,l=e.renderForMeasure,c=e.accessors,d=e.getters,m=e.components,p=e.getNow,h=e.renderHeader,f=e.onSelect,b=e.localizer,E=e.onSelectStart,y=e.onSelectEnd,N=e.onDoubleClick,S=e.resourceId,D=e.longPressThreshold,w=e.isAllDay;if(l)return this.renderDummy();var C=this.slotMetrics(this.props),x=C.levels,L=C.extra,O=m.weekWrapper,A={selected:r,accessors:c,getters:d,localizer:b,components:m,onSelect:f,onDoubleClick:N,resourceId:S,slotMetrics:C};return u.default.createElement("div",{className:n},u.default.createElement(g.default,{date:t,getNow:p,rtl:a,range:s,selectable:o,container:this.getContainer,getters:d,onSelectStart:E,onSelectEnd:y,onSelectSlot:this.handleSelectSlot,components:m,longPressThreshold:D}),u.default.createElement("div",{className:"rbc-row-content"},h&&u.default.createElement("div",{className:"rbc-row ",ref:this.createHeadingRef},s.map(this.renderHeadingCell)),u.default.createElement(O,(0,i.default)({isAllDay:w},A),x.map(function(e,t){return u.default.createElement(_.default,(0,i.default)({key:t,segments:e},A))}),!!L.length&&u.default.createElement(v.default,(0,i.default)({segments:L,onShowMore:this.handleShowMore},A)))))},t}(u.default.Component);y.propTypes=b,y.defaultProps=E;var N=y;t.default=N,e.exports=t.default},575:function(e,t,a){"use strict";var s=a(35);t.__esModule=!0,t.default=void 0;var n=s(a(62)),i=s(a(64)),r=s(a(3)),o=s(a(43)),l=s(a(0)),c=s(a(576)),d=function(e){function t(){return e.apply(this,arguments)||this}return(0,i.default)(t,e),t.prototype.render=function(){var e=this,t=this.props,a=t.segments,s=t.slotMetrics.slots,n=t.className,i=1;return l.default.createElement("div",{className:(0,o.default)(n,"rbc-row")},a.reduce(function(t,a,n){var r=a.event,o=a.left,l=a.right,d=a.span,m="_lvl_"+n,u=o-i,p=c.default.renderEvent(e.props,r);return u&&t.push(c.default.renderSpan(s,u,m+"_gap")),t.push(c.default.renderSpan(s,d,m,p)),i=l+1,t},[]))},t}(l.default.Component);d.propTypes=(0,n.default)({segments:r.default.array},c.default.propTypes),d.defaultProps=(0,n.default)({},c.default.defaultProps);var m=d;t.default=m,e.exports=t.default},576:function(e,t,a){"use strict";var s=a(35);t.__esModule=!0,t.default=void 0;var n=s(a(3)),i=s(a(0)),r=s(a(573)),o=a(167),l={propTypes:{slotMetrics:n.default.object.isRequired,selected:n.default.object,isAllDay:n.default.bool,accessors:n.default.object.isRequired,localizer:n.default.object.isRequired,components:n.default.object.isRequired,getters:n.default.object.isRequired,onSelect:n.default.func,onDoubleClick:n.default.func},defaultProps:{segments:[],selected:{}},renderEvent:function(e,t){var a=e.selected,s=(e.isAllDay,e.accessors),n=e.getters,l=e.onSelect,c=e.onDoubleClick,d=e.localizer,m=e.slotMetrics,u=e.components,p=m.continuesPrior(t),h=m.continuesAfter(t);return i.default.createElement(r.default,{event:t,getters:n,localizer:d,accessors:s,components:u,onSelect:l,onDoubleClick:c,continuesPrior:p,continuesAfter:h,selected:(0,o.isSelected)(t,a)})},renderSpan:function(e,t,a,s){void 0===s&&(s=" ");var n=Math.abs(t)/e*100+"%";return i.default.createElement("div",{key:a,className:"rbc-row-segment",style:{WebkitFlexBasis:n,flexBasis:n,maxWidth:n}},s)}};t.default=l,e.exports=t.default},58:function(e,t,a){e.exports=a.p+"static/media/calender.f505d910.svg"},585:function(e,t,a){"use strict";var s=a(35);t.__esModule=!0,t.default=void 0;var n=s(a(3)),i=s(a(0)),r=function(e){var t=e.label;return i.default.createElement("span",null,t)};r.propTypes={label:n.default.node};var o=r;t.default=o,e.exports=t.default},586:function(e,t,a){"use strict";var s=a(35);t.__esModule=!0,t.getSlotMetrics=function e(t){var a=t.min,s=t.max,o=t.step,l=t.timeslots;var c=r(a,s,o,l);var d=1+n.default.diff(a,s,"minutes")+i(a,s);var m=n.default.diff(n.default.startOf(a,"day"),a,"minutes");var u=Math.ceil(d/(o*l));var p=u*l;var h=new Array(u);var g=new Array(p);for(var _=0;_<u;_++){h[_]=new Array(l);for(var v=0;v<l;v++){var f=_*l+v,b=f*o;g[f]=h[_][v]=new Date(a.getFullYear(),a.getMonth(),a.getDate(),0,m+b,0,0)}}var E=g.length*o;g.push(new Date(a.getFullYear(),a.getMonth(),a.getDate(),0,m+E,0,0));function y(e){var t=n.default.diff(a,e,"minutes")+i(a,e);return Math.min(t,d)}return{groups:h,update:function(t){return r(t)!==c?e(t):this},dateIsInGroup:function(e,t){var a=h[t+1];return n.default.inRange(e,h[t][0],a?a[0]:s,"minutes")},nextSlot:function(e){var t=g[Math.min(g.indexOf(e)+1,g.length-1)];return t===e&&(t=n.default.add(e,o,"minutes")),t},closestSlotToPosition:function(e){var t=Math.min(g.length-1,Math.max(0,Math.floor(e*p)));return g[t]},closestSlotFromPoint:function(e,t){var a=Math.abs(t.top-t.bottom);return this.closestSlotToPosition((e.y-t.top)/a)},closestSlotFromDate:function(e,t){if(void 0===t&&(t=0),n.default.lt(e,a,"minutes"))return g[0];var s=n.default.diff(a,e,"minutes");return g[(s-s%o)/o+t]},startsBeforeDay:function(e){return n.default.lt(e,a,"day")},startsAfterDay:function(e){return n.default.gt(e,s,"day")},startsBefore:function(e){return n.default.lt(n.default.merge(a,e),a,"minutes")},startsAfter:function(e){return n.default.gt(n.default.merge(s,e),s,"minutes")},getRange:function(e,t){e=n.default.min(s,n.default.max(a,e)),t=n.default.min(s,n.default.max(a,t));var i=y(e),r=y(t),l=i/(o*p)*100;return{top:l,height:r/(o*p)*100-l,start:y(e),startDate:e,end:y(t),endDate:t}}}};var n=s(a(67)),i=function(e,t){return e.getTimezoneOffset()-t.getTimezoneOffset()},r=function(e,t,a,s){return+n.default.startOf(e,"minutes")+""+ +n.default.startOf(t,"minutes")+a+"-"+s}},587:function(e,t,a){"use strict";var s=a(135),n=a(35);t.__esModule=!0,t.default=void 0;var i=n(a(62)),r=n(a(64)),o=n(a(43)),l=n(a(3)),c=s(a(0)),d=n(a(588)),m=function(e){function t(){return e.apply(this,arguments)||this}return(0,r.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.renderSlot,a=e.resource,s=e.group,n=e.getters,r=e.components,l=(r=void 0===r?{}:r).timeSlotWrapper,m=void 0===l?d.default:l;return c.default.createElement("div",{className:"rbc-timeslot-group"},s.map(function(e,s){var r=n?n.slotProp(e,a):{};return c.default.createElement(m,{key:s,value:e,resource:a},c.default.createElement("div",(0,i.default)({},r,{className:(0,o.default)("rbc-time-slot",r.className)}),t&&t(e,s)))}))},t}(c.Component);t.default=m,m.propTypes={renderSlot:l.default.func,group:l.default.array.isRequired,resource:l.default.any,components:l.default.object,getters:l.default.object},e.exports=t.default},588:function(e,t,a){"use strict";var s=a(35);t.__esModule=!0,t.default=void 0;var n=s(a(273)).default;t.default=n,e.exports=t.default},589:function(e,t,a){"use strict";var s=a(35);t.__esModule=!0,t.default=void 0;var n=s(a(62)),i=s(a(43)),r=s(a(0));var o=function(e){var t,a=e.style,s=e.className,o=e.event,l=e.accessors,c=e.isRtl,d=e.selected,m=e.label,u=e.continuesEarlier,p=e.continuesLater,h=e.getters,g=e.onClick,_=e.onDoubleClick,v=e.components,f=v.event,b=v.eventWrapper,E=l.title(o),y=l.tooltip(o),N=l.end(o),S=l.start(o),D=h.eventProp(o,S,N,d),w=a.height,C=a.top,x=(a.width,a.xOffset);console.log(E.label);var L=[r.default.createElement("div",{key:"1",className:"rbc-event-label"},o.clientName),r.default.createElement("div",{key:"2",className:"rbc-event-content"},f?r.default.createElement(f,{event:o,title:m}):m)];return r.default.createElement(b,(0,n.default)({type:"time"},e),r.default.createElement("div",{onClick:g,onDoubleClick:_,style:(0,n.default)({},D.style,(t={backgroundColor:o.color,zIndex:1,top:C+"%",height:w+"%"},t[c?"right":"left"]=Math.max(0,x)+"%",t.width="auto",t)),"data-tip":y?("string"===typeof m?o.clientName+"<br />"+m+" <br /> ":"")+y:void 0,className:(0,i.default)("rbc-event",s,D.className,{"rbc-selected":d,"rbc-event-continues-earlier":u,"rbc-event-continues-later":p})},L))};t.default=o,e.exports=t.default},592:function(e,t,a){"use strict";var s=a(35);t.__esModule=!0,t.default=void 0;var n=s(a(62)),i=s(a(109)),r=s(a(64)),o=s(a(3)),l=s(a(0)),c=s(a(67)),d=a(110),m=s(a(376)),u=function(e){function t(){return e.apply(this,arguments)||this}return(0,r.default)(t,e),t.prototype.render=function(){var e=this.props,a=e.date,s=(0,i.default)(e,["date"]),r=t.range(a,this.props);return l.default.createElement(m.default,(0,n.default)({},s,{range:r,eventOffset:15}))},t}(l.default.Component);u.propTypes={date:o.default.instanceOf(Date).isRequired},u.defaultProps=m.default.defaultProps,u.navigate=function(e,t){switch(t){case d.navigate.PREVIOUS:return c.default.add(e,-1,"week");case d.navigate.NEXT:return c.default.add(e,1,"week");default:return e}},u.range=function(e,t){var a=t.localizer.startOfWeek(),s=c.default.startOf(e,"week",a),n=c.default.endOf(e,"week",a);return c.default.range(s,n)},u.title=function(e,t){var a=t.localizer,s=u.range(e,{localizer:a}),n=s[0],i=s.slice(1);return a.format({start:n,end:i.pop()},"dayRangeHeaderFormat")};var p=u;t.default=p,e.exports=t.default},624:function(e,t){function a(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id=624},67:function(e,t,a){"use strict";var s=a(35);t.__esModule=!0,t.default=void 0;var n=s(a(62)),i=s(a(1258)),r={seconds:1e3,minutes:6e4,hours:36e5,day:864e5},o=[0,1,2,3,4,5,6,7,8,9,10,11],l=(0,n.default)({},i.default,{monthsInYear:function(e){var t=new Date(e,0,1);return o.map(function(e){return l.month(t,e)})},firstVisibleDay:function(e,t){var a=l.startOf(e,"month");return l.startOf(a,"week",t.startOfWeek())},lastVisibleDay:function(e,t){var a=l.endOf(e,"month");return l.endOf(a,"week",t.startOfWeek())},visibleDays:function(e,t){for(var a=l.firstVisibleDay(e,t),s=l.lastVisibleDay(e,t),n=[];l.lte(a,s,"day");)n.push(a),a=l.add(a,1,"day");return n},ceil:function(e,t){var a=l.startOf(e,t);return l.eq(a,e)?a:l.add(a,1,t)},range:function(e,t,a){void 0===a&&(a="day");for(var s=e,n=[];l.lte(s,t,a);)n.push(s),s=l.add(s,1,a);return n},merge:function(e,t){return null==t&&null==e?null:(null==t&&(t=new Date),null==e&&(e=new Date),e=l.startOf(e,"day"),e=l.hours(e,l.hours(t)),e=l.minutes(e,l.minutes(t)),e=l.seconds(e,l.seconds(t)),l.milliseconds(e,l.milliseconds(t)))},eqTime:function(e,t){return l.hours(e)===l.hours(t)&&l.minutes(e)===l.minutes(t)&&l.seconds(e)===l.seconds(t)},isJustDate:function(e){return 0===l.hours(e)&&0===l.minutes(e)&&0===l.seconds(e)&&0===l.milliseconds(e)},duration:function(e,t,a,s){return"day"===a&&(a="date"),Math.abs(l[a](e,void 0,s)-l[a](t,void 0,s))},diff:function(e,t,a){return a&&"milliseconds"!==a?Math.round(Math.abs(+l.startOf(e,a)/r[a]-+l.startOf(t,a)/r[a])):Math.abs(+e-+t)},total:function(e,t){var a=e.getTime(),s=1;switch(t){case"week":s*=7;case"day":s*=24;case"hours":s*=60;case"minutes":s*=60;case"seconds":s*=1e3}return a/s},week:function(e){var t=new Date(e);return t.setHours(0,0,0),t.setDate(t.getDate()+4-(t.getDay()||7)),Math.ceil(((t-new Date(t.getFullYear(),0,1))/864e5+1)/7)},today:function(){return l.startOf(new Date,"day")},yesterday:function(){return l.add(l.startOf(new Date,"day"),-1,"day")},tomorrow:function(){return l.add(l.startOf(new Date,"day"),1,"day")}}),c=l;t.default=c,e.exports=t.default},72:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAAO9JREFUeNpsULtqw0AQHAmDKhUGF+7c6BMCcXFfoN9wYUGaxHFcBRKIwJAH5nCl/EYgnborpL+IfsCCu+aOu3hTRIcPJwMLy+wyOzvIypoYFyS1vScihCW1vWZcHLOydvE0TdB0PfKqfVLGbTFAGfeYV+2u6fpomiYxpLY3jAsarT688l5quwu4o9S2iIgIyrjbvGpfm67HfDYGAAw9fS4vizQZvYd+7rxKoL7w8xgnTPAXFwAiAL+LyriXvGo3/vR8NvYPFsq4ZwCA1Pbt7JlNaGPgHsC4+A6I9XmGfoasrL8YFwep7eqfwK984D8DALSQ3IYkqFzSAAAAAElFTkSuQmCC"},817:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAANCAIAAAASSxgVAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAANtJREFUeNpi+P///////xv3P2SpO3zg/gcI98D9Dyx1hxv3P4RwWT78+HPxxVcGGDj44CMDEjj44KO+BDej2Yzz5559YcANjKR4mPCrYGBgOPfsC+P///8ZCAFGlrrDBBUxMTAwaIly1TrK2SvwMzAw1DrK1TrKMTAw2Cvw1zrKaYlyQRWJcrPWOcjZKfJD5CCq7RT56xzkRLlZEdbZK/BDPA9RAWdDGEwMRAAmiI49iboQp8DdVOsotydRF2IwC8TwpgOP1l55gxziyFzGpHU3F114hceuOAMxwADr4GSB/HXR9gAAAABJRU5ErkJggg=="},818:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAIAAADwlwNsAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAAKFJREFUeNpi/P//PwNewMRACDAxMDA0HXik0n96zdU3cNE1V9/I9ZxqOvCIgYGB8f///6z1RyASy8M0QrRF1lx9E7nqBkTkd6MNE0QCwo9cdQNZGiLOCHEpsgSyeQiXhmiLwE1ClkaoQDMDYh1CBabdyIqYIBxkw5EVMTAwMPz//79x/0PlvlOrr7z+DwOrr7yW7T7ZuP/h////GakQ6oABAMJ8ZsWUgENxAAAAAElFTkSuQmCC"},82:function(e,t,a){e.exports=a.p+"static/media/appmale.87753c45.png"},826:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfYAAADgCAIAAAB+cdPZAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAEEpJREFUeNrs3d1z0ljjwPG8nIQESHmRVuls+2inOuPOqOPOrBd7sX/8XnixF92Z7ag7utrdYosCEl5CA3khz8V5zC+/QJFWV7v6/Vy1QIAifjmcHII6mUxms5kCAPi6FAoFMZvNarUajwUAfGVc19V4FADga0XiAYDEAwBIPACAxAMASDwAgMQDAEg8AJB4AACJBwCQeAAAiQcAkHgAAIkHABIPACDxAAASDwAg8QAAEg8AIPEAQOIBACQeAEDiAQAkHgBA4gEAJB4AQOIBgMQDAEg8AIDEAwBIPACAxAMASDwAkHgAAIkHAJB4AACJBwCQeAAAiQcAEg8AIPEAABIPACDxAAASDwAg8QAAEg8AJB4AQOIBACQeAEDiAQAkHgBA4gGAxAMASDwAgMQDAEg8AIDEAwBIPACQeAAAiQcAkHgAAIkHAJB4AACJBwASDwAg8QAAEg8AIPEAABIPACDxAAASDwAkHgBA4gEAJB4A8JkIHgJ8TeI47vV6vu+rqrr+VkmS6Lp+7dq1YrHIYwgSD1xRvV6v3+9fbtvZbHbz5k0h+E8BEg9cPUEQjEYj27Z1Xb/otkmSzGaz4XB47do1HkmQeODKcV3XMIxCoXC5zXVdHwwG1Wr1Eq8QAIkHLmkymYRhmDvRsizLstJfwzAcj8e2bV/6VjRNU1V1MBgwkAeJBz4T3/dPTk7iOM6dbtv27u6upv1vVdhoNBJCpL9ejmmaw+GwUqkwIw8SD/yzkiQJgmAymaiqappmkiTZc+M49jxPtng+nw8Gg48ZwktyisZ13VKplP+vIoRpmvyjgMQDn0AQBG/fvvV9X1GUcrksF0GqqpqGPoqi09PT9NdCoXChhZIrBvLv3r3r9XqLiS+VSltbWwzwQeKBjxJF0cnJyXQ61TTNNE1VVVVVdRynUCgkSXJ2dnZ2dqZpmhAiTfynGmLrul4oFKIoyp0+n8+Hw2Ecx81mk8qDxAOXNxgMgiAolUq6rsvp9Y2NjfRzSZVKJUkS3/eLxaIc13+S8XvKsqzF65zP51EUTSaT0WhUr9f5NwKJBy5pOp3KvstfVVXNLYW0LCv9COs6fdd1Xb4VkKP++Xw+n89XXH7xOtP3E3LuCCDxwGWfl5kZmKVWBzrNtGmahULBNM3cUvf5fB6G4Ww2m81m61xVyjCMj1y0A5B4fOt0Xc/Ohst58HR6JEmS0Wi0+hosyyqVSudN0Mt5fNu24ziWM/vrh54PRoHEA59Yr9eL47hUKs3n89FodHZ2triuMc234zhrHlBM13XHcSzLGo1GQRDwOIPEA5+bqqpCCHmIsSRJkiQ5r+CGYVQqFcMwLnT9hmHUarXxeHx2dsajDRIPfG6WZamqKmdvTNNcOgMjhKhWq4srGpdOwsi9r9mxf6VSURSFyoPEA19gIC/XMirnLKFRVXVjYyPX9yAIXNf1PC8Iguz+WzkRX6vVSqVS9to2NjaiKGLGBl8N1gbgXxb685ZIlkql3MLKKIq63e67d+9kstWMOI7H43Gr1Xr79m326DfydYI1M2AUD1yl57EQub2vcRxrmiaPNxCGoTyKZPbcOI6DIOj3+2EYbm9vp+tkDMMoFoue5/GoglE8cCUUi8Xs0DuOY1VVNU0zDGNra6tSqeTG/rqum6ZZKpVs2/Y8r9frZadxbNtmIA8SD1yNJ7GmZfe+xnEsh+3yV3lwm8XKK+/n94vFouu6k8kk+57g0t8rApB44FMyDCO7l3UymZycnORmWorFYq1WW/qpJfkJWNd1swN5jhsMEg9cCfL4M+mvnueFYXhycuK6bvZihUKhXq8vbXehUAjDMJt4wzA+7aHNABIPXOpJnJk3T5IkDMNyuaxp2ps3bzqdTm6tZK1WW/zmEFVVcwP83O5ZgMQDV6X4uq7LA9S8e/fu9PQ0e7gbTdOq1Wq5XF58K7A6+sC/EYsm8a+XG27LeXlVVeUym9FoFIZhs9nM7kF1HEcIMRwO0zE+QQejeOAqyn1zd7b4csHMdDpttVq5HbC2bdfr9fPKLid8eGxB4oEvLHcImly15fr3OI5PTk4Gg0HurPN2wH7wO0MAEg98Dtnh9uL3QynvP/uqaVq73V66A9ayrNyyHIbwIPHAlRAEQXaHqm3bi4thcjtgs3M78hiTGxsb2a3Sbw0ESDzwJc3n8+z3qcqDzCxeTFVV27blt3+0Wq3ZbJaelSRJdromSRIOKQwSD1yNJ7Gmjcfj7CnlcnnpDHt6xALf91utljxogZxzzy6un0wmURQxigeJB65E4n3fz4675dyLaZpLv+PbNM1yuRzH8d9//y3XTWb30CZJ0u/3F79XBCDxwBcgv/Yvd+R3uR9Vfsx1cRO5A7ZSqQghcitwBoNBEAQsk8fXgaEKvgaGYUwmk06n02w2s2P5jY0N27an02kQBPIFIEkSeZBhy7JM08y9AJydnXU6nWKxyCwNSDxwhQbytm0PBgMhRKPRyAbaMAzDMHIzNksL7vv+6enp4rgeIPHAF6brum3bvV4vDMPr168vHnNm9ebj8fjt27dJkjCEB4kHrqJCoZAkyXA4DIKg0WgsHmtsqSiK+v1+v9/XNI2+g8QDV5dlWaqqyjWR8sueLMsyDGPxkvP5PAgCz/MGg0EYhkII27aZogGJB/5xSxc7rj+W13V9Op2Ox+PxeFx4T9M0TdOSJJGHGJvNZr7vz+dzuVi+UCisOX7/mPsGkHhA0XU9d/zIiz2thSiVSmEYBkEQBEH2g6xZmqYVCgXTNC80eGekDxIPfJRSqRQEwcdcg6qqpmmaphm/l46+VVWVXxuSO/TYmldbKpX4BwKJBy7PsizHcXKHJbj0G4JPNe5WVbVSqSweyRIg8cDFlMtlwzDkdPlVuD9yUebSQ98AJB64MLmblMcBuDSOUQMAJB4AQOIBACQeAEDiAQAkHgBA4gGAxAMASDwAgMQDAEg8AIDEAwBIPAB8czjS5Ler1WodHR0pinL79u1msylPfPHiRbvdVhTl559/lqdMp9NWqyVPVBRlZ2dnZ2dHiCXPnMPDQ9d1s6eUy+WdnZ3NzU356y+//KIoSrPZvH37dnrlv/76q6Iot27d2tnZkSe6rvv69Wt5VUIIeYvy9MPDw6V/S7p5u91utVrT6XTx1pfyPO/g4CD7CDx79sz3/R9++CF3yYODA9u27969e96G6YNgWZb8A9vt9osXL9JHcsW/wqNHjyzLSk9MH5ZUs9m8deuWfNjluffu3avVarlrk7e4eCur7wNIPL5C6RcevX79Ou1U7luQPM87PDwMwzCbpF6v9/Dhw6WVXwzos2fPoijKdnDpFy2lJ+YiFUXR0dGR53l3795d8Q1N8qz09Sl769PpNH3xWCRfSAaDQXoPt7a2njx5EkVR9g+MosjzvP/85z8rNlz8W9b5SqnJZKIoSq/X++6773Jn3b9/v1qtyj/kxYsXz549u3fv3joPI0EHicf/8X2/2+0uHe0eHR2FYSiEuH//frlc7vV6T58+9X3/6OgoHYnn2Lb9448/yiz+9ttv8sKLHVxKBl1RFMdx7t27J4T466+/jo+Pu91utVptNpsyXoPB4Pfff1cU5c6dOzdu3EibK/u+vb29v78fRdEff/zR7/ePjo42NzezY+SsXq/nOI7rumnTK5WKvIlGo5FebDAYpGedt+ElRFHU6XTk9SwmPvdm6OnTp57nlctlnrFYH3PxUBRFefPmzeKJ0+lUjlV3d3dlWRqNxtbWlgzch4cPQsiyR1GUm8A5T7fbjaJIUZS9vT3ZzZs3b8ofZGRXkHdJCHHz5s3sDyvubRRF4/F4b28ve/1CiHq9nrvDruvW6/U05Us3vITBYCCE2Nvbky8VKy4pH//VlwFIPM6dr1issJzRltXLtSYMw/TcD4ZJUZTZbLbO3YjjWP6Q/bKnjY0NRVE++D2u8v4IIdJ7m976eXe13W4LISqVSr1e9zwvPb1Wq+VeFXq9Xnbi+7wNL6rb7dbr9UqlIoRY/VIhb4UhPEg8Lmx7e3vNgflFpV0+b55kHUmSKOvNa69/MWkymci/vVwun56epqdXq9UwDNN2e54XhqGcFl+94SVeWeX8WL1e73a7K169Wq3W7u7upWeE8M3iGQPlxo0bnU6n3W6v2C15CVEUyclxIUR2+Hl6evoxWfyEd6/f79+5c0dRlEaj8erVq3Smu1Qq2bbtuq781XVdx3FKpdIHN7xo36MokvP71Wr11atXuQvI/Q2SbdvpXocPkiuXUovLfkDi8S09CYTY2to6PT3NLke5NN/3c4lJJ9avFDkxIsfmlmXJfZ5pqTc3N+VaFzlmz87SrN5wfcPhMJ3fbzQaz58/d103e0PpihpFUf7888/Dw8M1FzKxogZM1OD/kcs52u12dn3kx3Mc5/vvv88NP7e3t39+79GjR1/qT87tQc3Nv5fL5U6nE0WRHLNnC756w/V1u9006EIIx3GGw+F5F97f35f/QDxXwSgeF2ZZ1tbWVqfTWTEjvKZ00eQV1+v1wjDsdDrZE9MVkI1GI7sLNLuAcvWGa/I8z/f9ly9fvnz5Mnt6ugpo6etl+sYCIPG4GDkjn+t+2q9sm+So82P2oJ77dHxfyel0ml6/3GfrOM4HX1pc1w3DMK1tur908a7KPag//fRTtsuPHz/O7pBIV8vU6/ULbbjmewjHcR4+fJi95oODA1a+49Niogb/U61Wsy2TZZSnHB8fy9h1u135MiBXx39ycuysKMqrV6/k68rR0ZH8Ibug5bxtlcyHp9IfcmPwdJLEcZzcuLter2eHydVqVa4lzd70Ohuu+R4id/iBcrkshFjxAYLRaPRPvKyCUTy+FZubm/1+PzdvMBqNoig6ODjIjpdXzCd85Ch+b2/v+fPnnuc9fvw4PX1ra+uD60mq1er29rbcaZyds97b21ss42AwWDzAy+bm5pMnT/b397O7QBVFyR42YJ0NP0h+cmpx1L+9vd3r9Za+Gzg8PIyiaP1FNQCJR97169ePj499388OLR88eNBut9Nljru7uzs7O7qu/0P34caNG0KIN2/eyBcbIcTu7u6KD/dn7e/vW5bVbrfln+A4zs7OzuIQ3vO88Xi8eAAGuX6x2+3KJYZyF2h2+mjNDXNy64tu3bolr3PxjpXL5ePj4/SDWtlFk47jPHjwIPtalT1XUZRarZa+FOVuUVGU3GHO8O1Q+/3+4qgEAPBv57ouc/EA8NUi8QBA4gEAJB4AQOIBACQeAEDiAQAkHgBIPACAxAMASDwAgMQDAEg8AIDEAwCJBwCQeAAAiQcAkHgAAIkHAJB4ACDxAAASDwAg8QAAEg8AIPEAABIPACDxAEDiAQAkHgBA4gEAJB4AQOIBACQeAEg8AIDEAwBIPACAxAMASDwAgMQDAIkHAJB4AACJBwCQeAAAiQcAkHgAAIkHABIPACDxAAASDwAg8QAAEg8AIPEAQOIBACQeAEDiAQAkHgBA4gEAJB4ASDwAgMQDAEg8AIDEAwBIPACAxAMAiQcAkHgAAIkHAJB4AACJBwCQeAAAiQcAEg8AIPEAABIPAPhM1MlkMpvNeCAA4CtTKBT+OwDALduXSggIpAAAAABJRU5ErkJggg=="},828:function(e,t,a){e.exports=a(1940)},834:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){},966:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},n=function(){function e(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,a,s){return a&&e(t.prototype,a),s&&e(t,s),t}}(),i=a(0),r=N(i),o=N(a(3)),l=a(238),c=N(l),d=N(a(487)),m=N(a(488)),u=N(a(967)),p=N(a(484)),h=N(a(239)),g=N(a(331)),_=N(a(240)),v=N(a(241)),f=N(a(330)),b=N(a(193)),E=N(a(332)),y=a(242);function N(e){return e&&e.__esModule?e:{default:e}}var S=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.PureComponent),n(t,[{key:"render",value:function(){var e=this,t=new Date,a=this.props,n=a.displayMode,i=a.focusedRange,o=a.drag,l=a.styles,N=a.disabledDates,S=this.props.minDate&&(0,b.default)(this.props.minDate),D=this.props.maxDate&&(0,f.default)(this.props.maxDate),w=(0,y.getMonthDisplayRange)(this.props.month,this.props.dateOptions),C=this.props.ranges;if("dateRange"===n&&o.status){var x=o.range,L=x.startDate,O=x.endDate;C=C.map(function(e,t){return t!==i[0]?e:s({},e,{startDate:L,endDate:O})})}var A=this.props.showPreview&&!o.disablePreview;return r.default.createElement("div",{className:l.month,style:this.props.style},this.props.showMonthName?r.default.createElement("div",{className:l.monthName},(0,E.default)(this.props.month,this.props.monthDisplayFormat,this.props.dateOptions)):null,this.props.showWeekDays&&function(e,t){var a=new Date;return r.default.createElement("div",{className:e.weekDays},(0,d.default)({start:(0,v.default)(a,t),end:(0,_.default)(a,t)}).map(function(a,s){return r.default.createElement("span",{className:e.weekDay,key:s},(0,E.default)(a,"ddd",t))}))}(l,this.props.dateOptions),r.default.createElement("div",{className:l.days,onMouseLeave:this.props.onMouseLeave},(0,d.default)({start:w.start,end:w.end}).map(function(a,n){var i=(0,h.default)(a,w.startDateOfMonth),d=(0,h.default)(a,w.endDateOfMonth),f=S&&(0,g.default)(a,S)||D&&(0,p.default)(a,D),b=N.some(function(e){return(0,h.default)(e,a)});return r.default.createElement(c.default,s({},e.props,{ranges:C,day:a,preview:A?e.props.preview:null,isWeekend:(0,u.default)(a,e.props.dateOptions),isToday:(0,h.default)(a,t),isStartOfWeek:(0,h.default)(a,(0,v.default)(a,e.props.dateOptions)),isEndOfWeek:(0,h.default)(a,(0,_.default)(a,e.props.dateOptions)),isStartOfMonth:i,isEndOfMonth:d,key:n,disabled:f||b,isPassive:!(0,m.default)(a,{start:w.startDateOfMonth,end:w.endDateOfMonth}),styles:l,onMouseDown:e.props.onDragSelectionStart,onMouseUp:e.props.onDragSelectionEnd,onMouseEnter:e.props.onDragSelectionMove,dragRange:o.range,drag:o.status}))})))}}]),t}();S.defaultProps={},S.propTypes={style:o.default.object,styles:o.default.object,month:o.default.object,drag:o.default.object,dateOptions:o.default.object,disabledDates:o.default.array,preview:o.default.shape({startDate:o.default.object,endDate:o.default.object}),showPreview:o.default.bool,displayMode:o.default.oneOf(["dateRange","date"]),minDate:o.default.object,maxDate:o.default.object,ranges:o.default.arrayOf(l.rangeShape),focusedRange:o.default.arrayOf(o.default.number),onDragSelectionStart:o.default.func,onDragSelectionEnd:o.default.func,onDragSelectionMove:o.default.func,onMouseLeave:o.default.func,monthDisplayFormat:o.default.string,showWeekDays:o.default.bool,showMonthName:o.default.bool},t.default=S},976:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},n=function(){function e(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,a,s){return a&&e(t.prototype,a),s&&e(t,s),t}}(),i=a(0),r=p(i),o=p(a(3)),l=p(a(482)),c=p(a(493)),d=a(242),m=p(a(43)),u=p(a(244));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={focusedRange:[(0,d.findNextRangeIndex)(e.ranges),0]},a.styles=(0,d.generateStyles)([u.default,e.classNames]),a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),n(t,[{key:"render",value:function(){var e=this,t=this.state.focusedRange;return r.default.createElement("div",{className:(0,m.default)(this.styles.dateRangePickerWrapper,this.props.className)},r.default.createElement(c.default,s({focusedRange:t,onPreviewChange:function(t){return e.dateRange.updatePreview(t)}},this.props,{range:this.props.ranges[t[0]],className:void 0})),r.default.createElement(l.default,s({onRangeFocusChange:function(t){return e.setState({focusedRange:t})},focusedRange:t},this.props,{ref:function(t){return e.dateRange=t},className:void 0})))}}]),t}();h.defaultProps={},h.propTypes=s({},l.default.propTypes,c.default.propTypes,{className:o.default.string}),t.default=h}},[[828,2,1]]]);
//# sourceMappingURL=main.b9313e0c.chunk.js.map